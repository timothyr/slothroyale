function _slicedToArray(t,e){return _arrayWithHoles(t)||_iterableToArrayLimit(t,e)||_nonIterableRest()}function _nonIterableRest(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}function _iterableToArrayLimit(t,e){if(Symbol.iterator in Object(t)||"[object Arguments]"===Object.prototype.toString.call(t)){var i=[],n=!0,r=!1,s=void 0;try{for(var o,a=t[Symbol.iterator]();!(n=(o=a.next()).done)&&(i.push(o.value),!e||i.length!==e);n=!0);}catch(A){r=!0,s=A}finally{try{n||null==a.return||a.return()}finally{if(r)throw s}}return i}}function _arrayWithHoles(t){if(Array.isArray(t))return t}function _toConsumableArray(t){return _arrayWithoutHoles(t)||_iterableToArray(t)||_nonIterableSpread()}function _nonIterableSpread(){throw new TypeError("Invalid attempt to spread non-iterable instance")}function _iterableToArray(t){if(Symbol.iterator in Object(t)||"[object Arguments]"===Object.prototype.toString.call(t))return Array.from(t)}function _arrayWithoutHoles(t){if(Array.isArray(t)){for(var e=0,i=new Array(t.length);e<t.length;e++)i[e]=t[e];return i}}function asyncGeneratorStep(t,e,i,n,r,s,o){try{var a=t[s](o),A=a.value}catch(l){return void i(l)}a.done?e(A):Promise.resolve(A).then(n,r)}function _asyncToGenerator(t){return function(){var e=this,i=arguments;return new Promise((function(n,r){var s=t.apply(e,i);function o(t){asyncGeneratorStep(s,n,r,o,a,"next",t)}function a(t){asyncGeneratorStep(s,n,r,o,a,"throw",t)}o(void 0)}))}}function isNativeReflectConstruct(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}function _construct(t,e,i){return(_construct=isNativeReflectConstruct()?Reflect.construct:function(t,e,i){var n=[null];n.push.apply(n,e);var r=new(Function.bind.apply(t,n));return i&&_setPrototypeOf(r,i.prototype),r}).apply(null,arguments)}function ownKeys(t,e){var i=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),i.push.apply(i,n)}return i}function _objectSpread(t){for(var e=1;e<arguments.length;e++){var i=null!=arguments[e]?arguments[e]:{};e%2?ownKeys(i,!0).forEach((function(e){_defineProperty(t,e,i[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(i)):ownKeys(i).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(i,e))}))}return t}function _defineProperty(t,e,i){return e in t?Object.defineProperty(t,e,{value:i,enumerable:!0,configurable:!0,writable:!0}):t[e]=i,t}function _get(t,e,i){return(_get="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(t,e,i){var n=_superPropBase(t,e);if(n){var r=Object.getOwnPropertyDescriptor(n,e);return r.get?r.get.call(i):r.value}})(t,e,i||t)}function _superPropBase(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=_getPrototypeOf(t)););return t}function _possibleConstructorReturn(t,e){return!e||"object"!=typeof e&&"function"!=typeof e?_assertThisInitialized(t):e}function _assertThisInitialized(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function _getPrototypeOf(t){return(_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function _inherits(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&_setPrototypeOf(t,e)}function _setPrototypeOf(t,e){return(_setPrototypeOf=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function _classCallCheck2(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function _defineProperties(t,e){for(var i=0;i<e.length;i++){var n=e[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}function _createClass2(t,e,i){return e&&_defineProperties(t.prototype,e),i&&_defineProperties(t,i),t}(window.webpackJsonp=window.webpackJsonp||[]).push([[1],{"+b4j":function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n={};e.registerSerializer=function(t,e){n[t]=e},e.getSerializer=function(t){return n[t]}},"+tqq":function(t,e,i){"use strict";var n=Object.getOwnPropertySymbols,r=Object.prototype.hasOwnProperty,s=Object.prototype.propertyIsEnumerable;function o(t){if(null==t)throw new TypeError("Object.assign cannot be called with null or undefined");return Object(t)}t.exports=function(){try{if(!Object.assign)return!1;var t=new String("abc");if(t[5]="de","5"===Object.getOwnPropertyNames(t)[0])return!1;for(var e={},i=0;i<10;i++)e["_"+String.fromCharCode(i)]=i;if("0123456789"!==Object.getOwnPropertyNames(e).map((function(t){return e[t]})).join(""))return!1;var n={};return"abcdefghijklmnopqrst".split("").forEach((function(t){n[t]=t})),"abcdefghijklmnopqrst"===Object.keys(Object.assign({},n)).join("")}catch(r){return!1}}()?Object.assign:function(t,e){for(var i,a,A=o(t),l=1;l<arguments.length;l++){for(var u in i=Object(arguments[l]))r.call(i,u)&&(A[u]=i[u]);if(n){a=n(i);for(var h=0;h<a.length;h++)s.call(i,a[h])&&(A[a[h]]=i[a[h]])}}return A}},"/F7G":function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=i("CnUt"),r=i("5UGa"),s=function(){function t(){this.types={},this.schemas=new Map}return t.prototype.has=function(t){return this.schemas.has(t)},t.prototype.get=function(t){return this.types[t]},t.prototype.add=function(t){t._typeid=this.schemas.size,this.types[t._typeid]=t,this.schemas.set(t,t._typeid)},t}();function o(t,i){return void 0===i&&(i=e.globalContext),function(e,s){var o=e.constructor;if(o._context=i,i.has(o)||(i.add(o),o._schema=Object.assign({},o._schema||{}),o._indexes=Object.assign({},o._indexes||{}),o._descriptors=Object.assign({},o._descriptors||{}),o._deprecated=Object.assign({},o._deprecated||{})),o._indexes[s]=Object.keys(o._schema).length,o._schema[s]=t,!o._descriptors[s]){var a=Array.isArray(t),A=!a&&t.map,l="function"==typeof o._schema[s],u="_"+s;o._descriptors[u]={enumerable:!1,configurable:!1,writable:!0},o._descriptors[s]={get:function(){return this[u]},set:function(t){if((a||A)&&(t=new Proxy(t,{get:function(t,e){return t[e]},set:function(t,e,i){if("length"!==e&&0!==e.indexOf("$")){var s=a?Number(e):String(e);if(!t.$sorting){var o=t.$changes.getIndex(i);void 0!==o&&t.$changes.mapIndexChange(i,o),t.$changes.mapIndex(i,s)}i instanceof r.Schema?i.$changes.parent||(i.$changes=new n.ChangeTree(s,t.$changes),i.$changes.changeAll(i)):t[e]=i,t.$changes.change(s)}return t[e]=i,!0},deleteProperty:function(t,e){var i=t[e];A&&void 0!==i&&(t.$changes.deleteIndex(i),t.$changes.deleteIndexChange(i),i.$changes&&delete i.$changes.parent),delete t[e];var n=a?Number(e):String(e);return t.$changes.change(n,!0),!0}})),t!==this[u])if(this[u]=t,a){this.$changes.change(s),t.$changes=new n.ChangeTree(s,this.$changes);for(var e=0;e<t.length;e++)t[e]instanceof r.Schema&&(t[e].$changes=new n.ChangeTree(e,t.$changes),t[e].$changes.changeAll(t[e])),t.$changes.mapIndex(t[e],e),t.$changes.change(e)}else if(A)for(var i in t.$changes=new n.ChangeTree(s,this.$changes),this.$changes.change(s),t)t[i]instanceof r.Schema&&(t[i].$changes=new n.ChangeTree(i,t.$changes),t[i].$changes.changeAll(t[i])),t.$changes.mapIndex(t[i],i),t.$changes.change(i);else l?(this.$changes.change(s),t&&(t.$changes=new n.ChangeTree(s,this.$changes),t.$changes.changeAll(t))):this.$changes.change(s)},enumerable:!0,configurable:!0}}}}e.Context=s,e.globalContext=new s,e.type=o,e.filter=function(t){return function(e,i){var n=e.constructor;n._filters||(n._filters={}),n._filters[i]=t}},e.deprecated=function(t,i){return void 0===t&&(t=!0),void 0===i&&(i=e.globalContext),function(e,i){var n=e.constructor;n._deprecated[i]=!0,t&&(n._descriptors[i]={get:function(){throw new Error(i+" is deprecated.")},set:function(t){},enumerable:!1,configurable:!0})}},e.defineTypes=function(t,i,n){for(var r in void 0===n&&(n=e.globalContext),i)o(i[r],n)(t.prototype,r);return t}},0:function(t,e,i){t.exports=i("zUnb")},"0Qg3":function(t,e){t.exports={init:function(t){var e={};Object.keys(t).forEach((function(i){e[i]=t[i]})),e=void 0!==e?e:{};var i,n={};for(i in e)e.hasOwnProperty(i)&&(n[i]=e[i]);e.arguments=[],e.thisProgram="./this.program",e.quit=function(t,e){throw e},e.preRun=[],e.postRun=[];var r=!1,s="";document.currentScript&&(s=document.currentScript.src),s=0!==s.indexOf("blob:")?s.substr(0,s.lastIndexOf("/")+1):"",e.read=function(t){try{var e=new XMLHttpRequest;return e.open("GET",t,!1),e.send(null),e.responseText}catch(a){var i=pe(t);if(i)return function(t){for(var e=[],i=0;i<t.length;i++){var n=t[i];n>255&&(ge&&h(!1,"Character code "+n+" ("+String.fromCharCode(n)+")  at offset "+i+" not in 0x00-0xFF."),n&=255),e.push(String.fromCharCode(n))}return e.join("")}(i);throw a}},e.readAsync=function(t,e,i){var n=new XMLHttpRequest;n.open("GET",t,!0),n.responseType="arraybuffer",n.onload=function(){if(200==n.status||0==n.status&&n.response)e(n.response);else{var r=pe(t);r?e(r.buffer):i()}},n.onerror=i,n.send(null)},e.setWindowTitle=function(t){document.title=t};var o=e.print||("undefined"!=typeof console?console.log.bind(console):"undefined"!=typeof print?print:null),a=e.printErr||("undefined"!=typeof printErr?printErr:"undefined"!=typeof console&&console.warn.bind(console)||o);for(i in n)n.hasOwnProperty(i)&&(e[i]=n[i]);n=void 0,new Array(0);var A=0,l=function(t){A=t},u=!1;function h(t,e){t||Te("Assertion failed: "+e)}var c,f,m,_,g,d,p,y,C,v,I="undefined"!=typeof TextDecoder?new TextDecoder("utf8"):void 0;function B(t,e){for(var i=e;t[i];)++i;if(i-e>16&&t.subarray&&I)return I.decode(t.subarray(e,i));for(var n="";;){var r=t[e++];if(!r)return n;if(128&r){var s=63&t[e++];if(192!=(224&r)){var o=63&t[e++];if((r=224==(240&r)?(15&r)<<12|s<<6|o:(7&r)<<18|s<<12|o<<6|63&t[e++])<65536)n+=String.fromCharCode(r);else{var a=r-65536;n+=String.fromCharCode(55296|a>>10,56320|1023&a)}}else n+=String.fromCharCode((31&r)<<6|s)}else n+=String.fromCharCode(r)}}function E(t){return B(m,t)}function w(t,e){return t%e>0&&(t+=e-t%e),t}function b(){e.HEAP8=f=new Int8Array(c),e.HEAP16=_=new Int16Array(c),e.HEAP32=d=new Int32Array(c),e.HEAPU8=m=new Uint8Array(c),e.HEAPU16=g=new Uint16Array(c),e.HEAPU32=p=new Uint32Array(c),e.HEAPF32=y=new Float32Array(c),e.HEAPF64=C=new Float64Array(c)}"undefined"!=typeof TextDecoder&&new TextDecoder("utf-16le"),e.reallocBuffer||(e.reallocBuffer=function(t){var e;try{var i=f;e=new ArrayBuffer(t),new Int8Array(e).set(i)}catch(n){return!1}return!!we(e)&&e});try{(v=Function.prototype.call.bind(Object.getOwnPropertyDescriptor(ArrayBuffer.prototype,"byteLength").get))(new ArrayBuffer(4))}catch(Ge){v=function(t){return t.byteLength}}var x=e.TOTAL_MEMORY||16777216;function S(t){for(;t.length>0;){var i=t.shift();if("function"!=typeof i){var n=i.func;"number"==typeof n?void 0===i.arg?e.dynCall_v(n):e.dynCall_vi(n,i.arg):n(void 0===i.arg?null:i.arg)}else i()}}x<5242880&&a("TOTAL_MEMORY should be larger than TOTAL_STACK, was "+x+"! (TOTAL_STACK=5242880)"),e.buffer?c=e.buffer:(c=new ArrayBuffer(x),e.buffer=c),b(),d[2700]=5253936;var Q=[],k=[],D=[],M=[],R=!1;Math,Math,Math,Math;var V=0,T=null,G=null;e.preloadedImages={},e.preloadedAudios={};var F=null,P="data:application/octet-stream;base64,";function N(t){return String.prototype.startsWith?t.startsWith(P):0===t.indexOf(P)}function L(){return!!L.uncaught_exception}function U(t){try{return be(t)}catch(Ge){}}k.push({func:function(){Be()}},{func:function(){Ie()}}),F="data:application/octet-stream;base64,AAAAAAAAAAAYDwAAWAwAAHAPAAAwDAAAKA8AAMgLAABwDwAAMAwAABgPAAB4DAAAcA8AAMgLAAAoDwAA+AsAAHAPAADICwAAGA8AAAANAABwDwAAsAwAACgPAADoDAAAcA8AALAMAAAYDwAAyAsAAPgLAAAoDAAAGA8AAPgLAAD4CwAAKAwAABgPAADICwAAyAsAAIAPAAAYDwAA+AsAAPgLAACADwAAGA8AAMgLAADICwAA+AsAACgPAAAAAAAAAAAAAAAAAAAYDwAAyAsAAPgLAAD4CwAAKA8AAAAAAAAAAAAAAAAAABgPAADICwAAyAsAAPgLAAAoDwAAeA0AAMgLAAAgDAAAKA8AAAAAAAAAAAAAAAAAACgPAAB4DQAA+AsAACAMAAAoDwAAAAAAAAAAAAAAAAAAKA8AAJgNAAAYDAAA+AsAACgMAAAAAAAAAAAAAAAAAAAoDwAAmA0AABgMAAD4CwAAKAwAACgMAAAAAAAAAAAAACgPAACYDQAAGAwAACANAAAoDAAAAAAAAAAAAAAAAAAAKA8AAJgNAAAYDAAAIA0AACgMAAAoDAAAAAAAAAAAAAAYDwAAwA0AAMgLAACgDAAAqAwAAAAAAAAAAAAAAAAAABgPAADADQAA+AsAAKAMAACoDAAAAAAAAAAAAAAAAAAAGA8AAMANAAD4CwAAgA8AABgPAADADQAAIA0AAIAPAAARAAoAERERAAAAAAUAAAAAAAAJAAAAAAsAAAAAAAAAABEADwoREREDCgcAARMJCwsAAAkGCwAACwAGEQAAABEREQAAAAAAAAAAAAAAAAAAAAALAAAAAAAAAAARAAoKERERAAoAAAIACQsAAAAJAAsAAAsAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADAAAAAAAAAAAAAAADAAAAAAMAAAAAAkMAAAAAAAMAAAMAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA4AAAAAAAAAAAAAAA0AAAAEDQAAAAAJDgAAAAAADgAADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAQAAAAAAAAAAAAAAAPAAAAAA8AAAAACRAAAAAAABAAABAAABIAAAASEhIAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAEgAAABISEgAAAAAAAAkAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAsAAAAAAAAAAAAAAAoAAAAACgAAAAAJCwAAAAAACwAACwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAMAAAAAAAAAAAAAAAMAAAAAAwAAAAACQwAAAAAAAwAAAwAADAxMjM0NTY3ODlBQkNERUZUISIZDQECAxFLHAwQBAsdEh4naG5vcHFiIAUGDxMUFRoIFgcoJBcYCQoOGx8lI4OCfSYqKzw9Pj9DR0pNWFlaW1xdXl9gYWNkZWZnaWprbHJzdHl6e3wAAAAAAAAAAABJbGxlZ2FsIGJ5dGUgc2VxdWVuY2UARG9tYWluIGVycm9yAFJlc3VsdCBub3QgcmVwcmVzZW50YWJsZQBOb3QgYSB0dHkAUGVybWlzc2lvbiBkZW5pZWQAT3BlcmF0aW9uIG5vdCBwZXJtaXR0ZWQATm8gc3VjaCBmaWxlIG9yIGRpcmVjdG9yeQBObyBzdWNoIHByb2Nlc3MARmlsZSBleGlzdHMAVmFsdWUgdG9vIGxhcmdlIGZvciBkYXRhIHR5cGUATm8gc3BhY2UgbGVmdCBvbiBkZXZpY2UAT3V0IG9mIG1lbW9yeQBSZXNvdXJjZSBidXN5AEludGVycnVwdGVkIHN5c3RlbSBjYWxsAFJlc291cmNlIHRlbXBvcmFyaWx5IHVuYXZhaWxhYmxlAEludmFsaWQgc2VlawBDcm9zcy1kZXZpY2UgbGluawBSZWFkLW9ubHkgZmlsZSBzeXN0ZW0ARGlyZWN0b3J5IG5vdCBlbXB0eQBDb25uZWN0aW9uIHJlc2V0IGJ5IHBlZXIAT3BlcmF0aW9uIHRpbWVkIG91dABDb25uZWN0aW9uIHJlZnVzZWQASG9zdCBpcyBkb3duAEhvc3QgaXMgdW5yZWFjaGFibGUAQWRkcmVzcyBpbiB1c2UAQnJva2VuIHBpcGUASS9PIGVycm9yAE5vIHN1Y2ggZGV2aWNlIG9yIGFkZHJlc3MAQmxvY2sgZGV2aWNlIHJlcXVpcmVkAE5vIHN1Y2ggZGV2aWNlAE5vdCBhIGRpcmVjdG9yeQBJcyBhIGRpcmVjdG9yeQBUZXh0IGZpbGUgYnVzeQBFeGVjIGZvcm1hdCBlcnJvcgBJbnZhbGlkIGFyZ3VtZW50AEFyZ3VtZW50IGxpc3QgdG9vIGxvbmcAU3ltYm9saWMgbGluayBsb29wAEZpbGVuYW1lIHRvbyBsb25nAFRvbyBtYW55IG9wZW4gZmlsZXMgaW4gc3lzdGVtAE5vIGZpbGUgZGVzY3JpcHRvcnMgYXZhaWxhYmxlAEJhZCBmaWxlIGRlc2NyaXB0b3IATm8gY2hpbGQgcHJvY2VzcwBCYWQgYWRkcmVzcwBGaWxlIHRvbyBsYXJnZQBUb28gbWFueSBsaW5rcwBObyBsb2NrcyBhdmFpbGFibGUAUmVzb3VyY2UgZGVhZGxvY2sgd291bGQgb2NjdXIAU3RhdGUgbm90IHJlY292ZXJhYmxlAFByZXZpb3VzIG93bmVyIGRpZWQAT3BlcmF0aW9uIGNhbmNlbGVkAEZ1bmN0aW9uIG5vdCBpbXBsZW1lbnRlZABObyBtZXNzYWdlIG9mIGRlc2lyZWQgdHlwZQBJZGVudGlmaWVyIHJlbW92ZWQARGV2aWNlIG5vdCBhIHN0cmVhbQBObyBkYXRhIGF2YWlsYWJsZQBEZXZpY2UgdGltZW91dABPdXQgb2Ygc3RyZWFtcyByZXNvdXJjZXMATGluayBoYXMgYmVlbiBzZXZlcmVkAFByb3RvY29sIGVycm9yAEJhZCBtZXNzYWdlAEZpbGUgZGVzY3JpcHRvciBpbiBiYWQgc3RhdGUATm90IGEgc29ja2V0AERlc3RpbmF0aW9uIGFkZHJlc3MgcmVxdWlyZWQATWVzc2FnZSB0b28gbGFyZ2UAUHJvdG9jb2wgd3JvbmcgdHlwZSBmb3Igc29ja2V0AFByb3RvY29sIG5vdCBhdmFpbGFibGUAUHJvdG9jb2wgbm90IHN1cHBvcnRlZABTb2NrZXQgdHlwZSBub3Qgc3VwcG9ydGVkAE5vdCBzdXBwb3J0ZWQAUHJvdG9jb2wgZmFtaWx5IG5vdCBzdXBwb3J0ZWQAQWRkcmVzcyBmYW1pbHkgbm90IHN1cHBvcnRlZCBieSBwcm90b2NvbABBZGRyZXNzIG5vdCBhdmFpbGFibGUATmV0d29yayBpcyBkb3duAE5ldHdvcmsgdW5yZWFjaGFibGUAQ29ubmVjdGlvbiByZXNldCBieSBuZXR3b3JrAENvbm5lY3Rpb24gYWJvcnRlZABObyBidWZmZXIgc3BhY2UgYXZhaWxhYmxlAFNvY2tldCBpcyBjb25uZWN0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cABQb2x5RmlsbFR5cGUARXZlbk9kZABOb25aZXJvAFBvc2l0aXZlAE5lZ2F0aXZlAEludFBvaW50AHgAeQBuZXdJbnRQb2ludABQYXRoAFBhdGhzAEluaXRPcHRpb25zAFJldmVyc2VTb2x1dGlvbgBTdHJpY3RseVNpbXBsZQBQcmVzZXJ2ZUNvbGxpbmVhcgBKb2luVHlwZQBTcXVhcmUAUm91bmQATWl0ZXIARW5kVHlwZQBDbG9zZWRQb2x5Z29uAENsb3NlZExpbmUAT3BlbkJ1dHQAT3BlblNxdWFyZQBPcGVuUm91bmQAUG9seU5vZGUAY29udG91cgBjaGlsZHMAZ2V0UGFyZW50AGdldE5leHQAaXNIb2xlAGlzT3BlbgBjaGlsZENvdW50AFBvbHlOb2RlcwBQb2x5VHJlZQBnZXRGaXJzdABjbGVhcgB0b3RhbABvcmllbnRhdGlvbgBhcmVhAHBvaW50SW5Qb2x5Z29uAHNpbXBsaWZ5UG9seWdvbgBzaW1wbGlmeVBvbHlnb25zSW5PdXQAc2ltcGxpZnlQb2x5Z29uc092ZXJ3cml0ZQBjbGVhblBvbHlnb24AY2xlYW5Qb2x5Z29ucwBtaW5rb3dza2lTdW1QYXRoAG1pbmtvd3NraVN1bVBhdGhzAG1pbmtvd3NraURpZmYAcG9seVRyZWVUb1BhdGhzAGNsb3NlZFBhdGhzRnJvbVBvbHlUcmVlAG9wZW5QYXRoc0Zyb21Qb2x5VHJlZQByZXZlcnNlUGF0aAByZXZlcnNlUGF0aHMASW50UmVjdABsZWZ0AHRvcAByaWdodABib3R0b20AQ2xpcHBlckJhc2UAYWRkUGF0aABhZGRQYXRocwBnZXRCb3VuZHMAcHJlc2VydmVDb2xsaW5lYXIAQ2xpcHBlcgBleGVjdXRlUGF0aHMAZXhlY3V0ZVBhdGhzV2l0aEZpbGxUeXBlcwBleGVjdXRlUG9seVRyZWUAZXhlY3V0ZVBvbHlUcmVlV2l0aEZpbGxUeXBlcwByZXZlcnNlU29sdXRpb24Ac3RyaWN0bHlTaW1wbGUAQ2xpcHBlck9mZnNldABtaXRlckxpbWl0AGFyY1RvbGVyYW5jZQBOMTBDbGlwcGVyTGliMTFDbGlwcGVyQmFzZUUATjEwQ2xpcHBlckxpYjdDbGlwcGVyRQBOMTBDbGlwcGVyTGliOFBvbHlOb2RlRQBhbGxvY2F0b3I8VD46OmFsbG9jYXRlKHNpemVfdCBuKSAnbicgZXhjZWVkcyBtYXhpbXVtIHN1cHBvcnRlZCBzaXplAE4xMGVtc2NyaXB0ZW4xMW1lbW9yeV92aWV3SWRFRQBOU3QzX18yNnZlY3RvcklOMTBDbGlwcGVyTGliOEludFBvaW50RU5TXzlhbGxvY2F0b3JJUzJfRUVFRQBOU3QzX18yMTNfX3ZlY3Rvcl9iYXNlSU4xMENsaXBwZXJMaWI4SW50UG9pbnRFTlNfOWFsbG9jYXRvcklTMl9FRUVFAE5TdDNfXzIyMF9fdmVjdG9yX2Jhc2VfY29tbW9uSUxiMUVFRQB2aWlpAE5TdDNfXzI2dmVjdG9ySU5TMF9JTjEwQ2xpcHBlckxpYjhJbnRQb2ludEVOU185YWxsb2NhdG9ySVMyX0VFRUVOUzNfSVM1X0VFRUUATlN0M19fMjEzX192ZWN0b3JfYmFzZUlOU182dmVjdG9ySU4xMENsaXBwZXJMaWI4SW50UG9pbnRFTlNfOWFsbG9jYXRvcklTM19FRUVFTlM0X0lTNl9FRUVFAE4xMGVtc2NyaXB0ZW4zdmFsRQBpaWkATjEwQ2xpcHBlckxpYjhDbGlwVHlwZUUATjEwQ2xpcHBlckxpYjhQb2x5VHlwZUUATjEwQ2xpcHBlckxpYjEyUG9seUZpbGxUeXBlRQBOMTBDbGlwcGVyTGliOEludFBvaW50RQBQTjEwQ2xpcHBlckxpYjhJbnRQb2ludEUAUEtOMTBDbGlwcGVyTGliOEludFBvaW50RQBpaQB2AHZpAGRpaQB2aWlkAGlpZGQAcHVzaF9iYWNrAHJlc2l6ZQBzaXplAGdldABzZXQAUE5TdDNfXzI2dmVjdG9ySU4xMENsaXBwZXJMaWI4SW50UG9pbnRFTlNfOWFsbG9jYXRvcklTMl9FRUVFAFBLTlN0M19fMjZ2ZWN0b3JJTjEwQ2xpcHBlckxpYjhJbnRQb2ludEVOU185YWxsb2NhdG9ySVMyX0VFRUUAdmlpaWkAaWlpaQBpaWlpaQBQTlN0M19fMjZ2ZWN0b3JJTlMwX0lOMTBDbGlwcGVyTGliOEludFBvaW50RU5TXzlhbGxvY2F0b3JJUzJfRUVFRU5TM19JUzVfRUVFRQBQS05TdDNfXzI2dmVjdG9ySU5TMF9JTjEwQ2xpcHBlckxpYjhJbnRQb2ludEVOU185YWxsb2NhdG9ySVMyX0VFRUVOUzNfSVM1X0VFRUUATjEwQ2xpcHBlckxpYjExSW5pdE9wdGlvbnNFAE4xMENsaXBwZXJMaWI4Sm9pblR5cGVFAE4xMENsaXBwZXJMaWI3RW5kVHlwZUUAUE4xMENsaXBwZXJMaWI4UG9seU5vZGVFAFBLTjEwQ2xpcHBlckxpYjhQb2x5Tm9kZUUATlN0M19fMjZ2ZWN0b3JJUE4xMENsaXBwZXJMaWI4UG9seU5vZGVFTlNfOWFsbG9jYXRvcklTM19FRUVFAE5TdDNfXzIxM19fdmVjdG9yX2Jhc2VJUE4xMENsaXBwZXJMaWI4UG9seU5vZGVFTlNfOWFsbG9jYXRvcklTM19FRUVFAFBOU3QzX18yNnZlY3RvcklQTjEwQ2xpcHBlckxpYjhQb2x5Tm9kZUVOU185YWxsb2NhdG9ySVMzX0VFRUUAUEtOU3QzX18yNnZlY3RvcklQTjEwQ2xpcHBlckxpYjhQb2x5Tm9kZUVOU185YWxsb2NhdG9ySVMzX0VFRUUATjEwQ2xpcHBlckxpYjhQb2x5VHJlZUUAUE4xMENsaXBwZXJMaWI4UG9seVRyZWVFAFBLTjEwQ2xpcHBlckxpYjhQb2x5VHJlZUUAdmlpAHZpaWlkAHZpaWlpaQBOMTBDbGlwcGVyTGliN0ludFJlY3RFAFBOMTBDbGlwcGVyTGliN0ludFJlY3RFAFBLTjEwQ2xpcHBlckxpYjdJbnRSZWN0RQBQTjEwQ2xpcHBlckxpYjExQ2xpcHBlckJhc2VFAFBLTjEwQ2xpcHBlckxpYjExQ2xpcHBlckJhc2VFAGlpaWlpaQBQTjEwQ2xpcHBlckxpYjdDbGlwcGVyRQBQS04xMENsaXBwZXJMaWI3Q2xpcHBlckUAaWlpaWlpaQBOMTBDbGlwcGVyTGliMTNDbGlwcGVyT2Zmc2V0RQBQTjEwQ2xpcHBlckxpYjEzQ2xpcHBlck9mZnNldEUAUEtOMTBDbGlwcGVyTGliMTNDbGlwcGVyT2Zmc2V0RQB2b2lkAGJvb2wAY2hhcgBzaWduZWQgY2hhcgB1bnNpZ25lZCBjaGFyAHNob3J0AHVuc2lnbmVkIHNob3J0AGludAB1bnNpZ25lZCBpbnQAbG9uZwB1bnNpZ25lZCBsb25nAGZsb2F0AGRvdWJsZQBzdGQ6OnN0cmluZwBzdGQ6OmJhc2ljX3N0cmluZzx1bnNpZ25lZCBjaGFyPgBzdGQ6OndzdHJpbmcAZW1zY3JpcHRlbjo6dmFsAGVtc2NyaXB0ZW46Om1lbW9yeV92aWV3PGNoYXI+AGVtc2NyaXB0ZW46Om1lbW9yeV92aWV3PHNpZ25lZCBjaGFyPgBlbXNjcmlwdGVuOjptZW1vcnlfdmlldzx1bnNpZ25lZCBjaGFyPgBlbXNjcmlwdGVuOjptZW1vcnlfdmlldzxzaG9ydD4AZW1zY3JpcHRlbjo6bWVtb3J5X3ZpZXc8dW5zaWduZWQgc2hvcnQ+AGVtc2NyaXB0ZW46Om1lbW9yeV92aWV3PGludD4AZW1zY3JpcHRlbjo6bWVtb3J5X3ZpZXc8dW5zaWduZWQgaW50PgBlbXNjcmlwdGVuOjptZW1vcnlfdmlldzxsb25nPgBlbXNjcmlwdGVuOjptZW1vcnlfdmlldzx1bnNpZ25lZCBsb25nPgBlbXNjcmlwdGVuOjptZW1vcnlfdmlldzxpbnQ4X3Q+AGVtc2NyaXB0ZW46Om1lbW9yeV92aWV3PHVpbnQ4X3Q+AGVtc2NyaXB0ZW46Om1lbW9yeV92aWV3PGludDE2X3Q+AGVtc2NyaXB0ZW46Om1lbW9yeV92aWV3PHVpbnQxNl90PgBlbXNjcmlwdGVuOjptZW1vcnlfdmlldzxpbnQzMl90PgBlbXNjcmlwdGVuOjptZW1vcnlfdmlldzx1aW50MzJfdD4AZW1zY3JpcHRlbjo6bWVtb3J5X3ZpZXc8ZmxvYXQ+AGVtc2NyaXB0ZW46Om1lbW9yeV92aWV3PGRvdWJsZT4AZW1zY3JpcHRlbjo6bWVtb3J5X3ZpZXc8bG9uZyBkb3VibGU+AE4xMGVtc2NyaXB0ZW4xMW1lbW9yeV92aWV3SWVFRQBOMTBlbXNjcmlwdGVuMTFtZW1vcnlfdmlld0lmRUUATjEwZW1zY3JpcHRlbjExbWVtb3J5X3ZpZXdJbUVFAE4xMGVtc2NyaXB0ZW4xMW1lbW9yeV92aWV3SWxFRQBOMTBlbXNjcmlwdGVuMTFtZW1vcnlfdmlld0lqRUUATjEwZW1zY3JpcHRlbjExbWVtb3J5X3ZpZXdJaUVFAE4xMGVtc2NyaXB0ZW4xMW1lbW9yeV92aWV3SXRFRQBOMTBlbXNjcmlwdGVuMTFtZW1vcnlfdmlld0lzRUUATjEwZW1zY3JpcHRlbjExbWVtb3J5X3ZpZXdJaEVFAE4xMGVtc2NyaXB0ZW4xMW1lbW9yeV92aWV3SWFFRQBOMTBlbXNjcmlwdGVuMTFtZW1vcnlfdmlld0ljRUUATlN0M19fMjEyYmFzaWNfc3RyaW5nSXdOU18xMWNoYXJfdHJhaXRzSXdFRU5TXzlhbGxvY2F0b3JJd0VFRUUATlN0M19fMjIxX19iYXNpY19zdHJpbmdfY29tbW9uSUxiMUVFRQBOU3QzX18yMTJiYXNpY19zdHJpbmdJaE5TXzExY2hhcl90cmFpdHNJaEVFTlNfOWFsbG9jYXRvckloRUVFRQBOU3QzX18yMTJiYXNpY19zdHJpbmdJY05TXzExY2hhcl90cmFpdHNJY0VFTlNfOWFsbG9jYXRvckljRUVFRQAtKyAgIDBYMHgAKG51bGwpAC0wWCswWCAwWC0weCsweCAweABpbmYASU5GAG5hbgBOQU4ALgB0ZXJtaW5hdGluZyB3aXRoICVzIGV4Y2VwdGlvbiBvZiB0eXBlICVzOiAlcwB0ZXJtaW5hdGluZyB3aXRoICVzIGV4Y2VwdGlvbiBvZiB0eXBlICVzAHRlcm1pbmF0aW5nIHdpdGggJXMgZm9yZWlnbiBleGNlcHRpb24AdGVybWluYXRpbmcAdW5jYXVnaHQAU3Q5ZXhjZXB0aW9uAE4xMF9fY3h4YWJpdjExNl9fc2hpbV90eXBlX2luZm9FAFN0OXR5cGVfaW5mbwBOMTBfX2N4eGFiaXYxMjBfX3NpX2NsYXNzX3R5cGVfaW5mb0UATjEwX19jeHhhYml2MTE3X19jbGFzc190eXBlX2luZm9FAHB0aHJlYWRfb25jZSBmYWlsdXJlIGluIF9fY3hhX2dldF9nbG9iYWxzX2Zhc3QoKQBjYW5ub3QgY3JlYXRlIHB0aHJlYWQga2V5IGZvciBfX2N4YV9nZXRfZ2xvYmFscygpAGNhbm5vdCB6ZXJvIG91dCB0aHJlYWQgdmFsdWUgZm9yIF9fY3hhX2dldF9nbG9iYWxzKCkAdGVybWluYXRlX2hhbmRsZXIgdW5leHBlY3RlZGx5IHJldHVybmVkAFN0MTFsb2dpY19lcnJvcgBTdDEybGVuZ3RoX2Vycm9yAE4xMF9fY3h4YWJpdjExOV9fcG9pbnRlcl90eXBlX2luZm9FAE4xMF9fY3h4YWJpdjExN19fcGJhc2VfdHlwZV9pbmZvRQBOMTBfX2N4eGFiaXYxMjNfX2Z1bmRhbWVudGFsX3R5cGVfaW5mb0UAdgBEbgBiAGMAaABhAHMAdABpAGoAbABtAGYAZABOMTBfX2N4eGFiaXYxMTZfX2VudW1fdHlwZV9pbmZvRQBOMTBfX2N4eGFiaXYxMjFfX3ZtaV9jbGFzc190eXBlX2luZm9F";var O={last:0,caught:[],infos:{},deAdjust:function(t){if(!t||O.infos[t])return t;for(var e in O.infos)for(var i=+e,n=O.infos[i].adjusted,r=n.length,s=0;s<r;s++)if(n[s]===t)return i;return t},addRef:function(t){t&&O.infos[t].refcount++},decRef:function(t){if(t){var i=O.infos[t];h(i.refcount>0),i.refcount--,0!==i.refcount||i.rethrown||(i.destructor&&e.dynCall_vi(i.destructor,t),delete O.infos[t],U(t))}},clearRef:function(t){t&&(O.infos[t].refcount=0)}},Y={buffers:[null,[],[]],printChar:function(t,e){var i=Y.buffers[t];h(i),0===e||10===e?((1===t?o:a)(B(i,0)),i.length=0):i.push(e)},varargs:0,get:function(t){return Y.varargs+=4,d[Y.varargs-4>>2]},getStr:function(){return E(Y.get())},get64:function(){var t=Y.get(),e=Y.get();return h(t>=0?0===e:-1===e),t},getZero:function(){h(0===Y.get())}};function H(t){switch(t){case 1:return 0;case 2:return 1;case 4:return 2;case 8:return 3;default:throw new TypeError("Unknown type size: "+t)}}function J(){for(var t=new Array(256),e=0;e<256;++e)t[e]=String.fromCharCode(e);j=t}var j=void 0;function K(t){for(var e="",i=t;m[i];)e+=j[m[i++]];return e}var q={},z={},X={},W=48,Z=57;function $(t){if(void 0===t)return"_unknown";var e=(t=t.replace(/[^a-zA-Z0-9_]/g,"$")).charCodeAt(0);return e>=W&&e<=Z?"_"+t:t}function tt(t,e){return t=$(t),new Function("body","return function "+t+'() {\n    "use strict";    return body.apply(this, arguments);\n};\n')(e)}function et(t,e){var i=tt(e,(function(t){this.name=e,this.message=t;var i=new Error(t).stack;void 0!==i&&(this.stack=this.toString()+"\n"+i.replace(/^Error(:[^\n]*)?\n/,""))}));return i.prototype=Object.create(t.prototype),i.prototype.constructor=i,i.prototype.toString=function(){return void 0===this.message?this.name:this.name+": "+this.message},i}var it=void 0;function nt(t){throw new it(t)}var rt=void 0;function st(t){throw new rt(t)}function ot(t,e,i){function n(e){var n=i(e);n.length!==t.length&&st("Mismatched type converter count");for(var r=0;r<t.length;++r)at(t[r],n[r])}t.forEach((function(t){X[t]=e}));var r=new Array(e.length),s=[],o=0;e.forEach((function(t,e){z.hasOwnProperty(t)?r[e]=z[t]:(s.push(t),q.hasOwnProperty(t)||(q[t]=[]),q[t].push((function(){r[e]=z[t],++o===s.length&&n(r)})))})),0===s.length&&n(r)}function at(t,e,i){if(i=i||{},!("argPackAdvance"in e))throw new TypeError("registerType registeredInstance requires argPackAdvance");var n=e.name;if(t||nt('type "'+n+'" must have a positive integer typeid pointer'),z.hasOwnProperty(t)){if(i.ignoreDuplicateRegistrations)return;nt("Cannot register type '"+n+"' twice")}if(z[t]=e,delete X[t],q.hasOwnProperty(t)){var r=q[t];delete q[t],r.forEach((function(t){t()}))}}function At(t){if(!(this instanceof Ct))return!1;if(!(t instanceof Ct))return!1;for(var e=this.$$.ptrType.registeredClass,i=this.$$.ptr,n=t.$$.ptrType.registeredClass,r=t.$$.ptr;e.baseClass;)i=e.upcast(i),e=e.baseClass;for(;n.baseClass;)r=n.upcast(r),n=n.baseClass;return e===n&&i===r}function lt(t){return{count:t.count,deleteScheduled:t.deleteScheduled,preservePointerOnDelete:t.preservePointerOnDelete,ptr:t.ptr,ptrType:t.ptrType,smartPtr:t.smartPtr,smartPtrType:t.smartPtrType}}function ut(t){nt(t.$$.ptrType.registeredClass.name+" instance already deleted")}function ht(){if(this.$$.ptr||ut(this),this.$$.preservePointerOnDelete)return this.$$.count.value+=1,this;var t=Object.create(Object.getPrototypeOf(this),{$$:{value:lt(this.$$)}});return t.$$.count.value+=1,t.$$.deleteScheduled=!1,t}function ct(t){var e=t.$$;e.smartPtr?e.smartPtrType.rawDestructor(e.smartPtr):e.ptrType.registeredClass.rawDestructor(e.ptr)}function ft(){this.$$.ptr||ut(this),this.$$.deleteScheduled&&!this.$$.preservePointerOnDelete&&nt("Object already scheduled for deletion"),this.$$.count.value-=1,0===this.$$.count.value&&ct(this),this.$$.preservePointerOnDelete||(this.$$.smartPtr=void 0,this.$$.ptr=void 0)}function mt(){return!this.$$.ptr}var _t=void 0,gt=[];function dt(){for(;gt.length;){var t=gt.pop();t.$$.deleteScheduled=!1,t.delete()}}function pt(){return this.$$.ptr||ut(this),this.$$.deleteScheduled&&!this.$$.preservePointerOnDelete&&nt("Object already scheduled for deletion"),gt.push(this),1===gt.length&&_t&&_t(dt),this.$$.deleteScheduled=!0,this}function yt(){Ct.prototype.isAliasOf=At,Ct.prototype.clone=ht,Ct.prototype.delete=ft,Ct.prototype.isDeleted=mt,Ct.prototype.deleteLater=pt}function Ct(){}var vt={};function It(t,e,i){if(void 0===t[e].overloadTable){var n=t[e];t[e]=function(){return t[e].overloadTable.hasOwnProperty(arguments.length)||nt("Function '"+i+"' called with an invalid number of arguments ("+arguments.length+") - expects one of ("+t[e].overloadTable+")!"),t[e].overloadTable[arguments.length].apply(this,arguments)},t[e].overloadTable=[],t[e].overloadTable[n.argCount]=n}}function Bt(t,i,n){e.hasOwnProperty(t)?((void 0===n||void 0!==e[t].overloadTable&&void 0!==e[t].overloadTable[n])&&nt("Cannot register public name '"+t+"' twice"),It(e,t,t),e.hasOwnProperty(n)&&nt("Cannot register multiple overloads of a function with the same number of arguments ("+n+")!"),e[t].overloadTable[n]=i):(e[t]=i,void 0!==n&&(e[t].numArguments=n))}function Et(t,e,i,n,r,s,o,a){this.name=t,this.constructor=e,this.instancePrototype=i,this.rawDestructor=n,this.baseClass=r,this.getActualType=s,this.upcast=o,this.downcast=a,this.pureVirtualFunctions=[]}function wt(t,e,i){for(;e!==i;)e.upcast||nt("Expected null or instance of "+i.name+", got an instance of "+e.name),t=e.upcast(t),e=e.baseClass;return t}function bt(t,e){return null===e?(this.isReference&&nt("null is not a valid "+this.name),0):(e.$$||nt('Cannot pass "'+ue(e)+'" as a '+this.name),e.$$.ptr||nt("Cannot pass deleted object as a pointer of type "+this.name),wt(e.$$.ptr,e.$$.ptrType.registeredClass,this.registeredClass))}function xt(t,e){var i;if(null===e)return this.isReference&&nt("null is not a valid "+this.name),this.isSmartPointer?(i=this.rawConstructor(),null!==t&&t.push(this.rawDestructor,i),i):0;if(e.$$||nt('Cannot pass "'+ue(e)+'" as a '+this.name),e.$$.ptr||nt("Cannot pass deleted object as a pointer of type "+this.name),!this.isConst&&e.$$.ptrType.isConst&&nt("Cannot convert argument of type "+(e.$$.smartPtrType?e.$$.smartPtrType.name:e.$$.ptrType.name)+" to parameter type "+this.name),i=wt(e.$$.ptr,e.$$.ptrType.registeredClass,this.registeredClass),this.isSmartPointer)switch(void 0===e.$$.smartPtr&&nt("Passing raw pointer to smart pointer is illegal"),this.sharingPolicy){case 0:e.$$.smartPtrType===this?i=e.$$.smartPtr:nt("Cannot convert argument of type "+(e.$$.smartPtrType?e.$$.smartPtrType.name:e.$$.ptrType.name)+" to parameter type "+this.name);break;case 1:i=e.$$.smartPtr;break;case 2:if(e.$$.smartPtrType===this)i=e.$$.smartPtr;else{var n=e.clone();i=this.rawShare(i,ae((function(){n.delete()}))),null!==t&&t.push(this.rawDestructor,i)}break;default:nt("Unsupporting sharing policy")}return i}function St(t,e){return null===e?(this.isReference&&nt("null is not a valid "+this.name),0):(e.$$||nt('Cannot pass "'+ue(e)+'" as a '+this.name),e.$$.ptr||nt("Cannot pass deleted object as a pointer of type "+this.name),e.$$.ptrType.isConst&&nt("Cannot convert argument of type "+e.$$.ptrType.name+" to parameter type "+this.name),wt(e.$$.ptr,e.$$.ptrType.registeredClass,this.registeredClass))}function Qt(t){return this.fromWireType(p[t>>2])}function kt(t){return this.rawGetPointee&&(t=this.rawGetPointee(t)),t}function Dt(t){this.rawDestructor&&this.rawDestructor(t)}function Mt(t){null!==t&&t.delete()}function Rt(t,e,i){if(e===i)return t;if(void 0===i.baseClass)return null;var n=Rt(t,e,i.baseClass);return null===n?null:i.downcast(n)}function Vt(){return Object.keys(Pt).length}function Tt(){var t=[];for(var e in Pt)Pt.hasOwnProperty(e)&&t.push(Pt[e]);return t}function Gt(t){_t=t,gt.length&&_t&&_t(dt)}function Ft(){e.getInheritedInstanceCount=Vt,e.getLiveInheritedInstances=Tt,e.flushPendingDeletes=dt,e.setDelayFunction=Gt}var Pt={};function Nt(t,e){for(void 0===e&&nt("ptr should not be undefined");t.baseClass;)e=t.upcast(e),t=t.baseClass;return e}function Lt(t,e){return e=Nt(t,e),Pt[e]}function Ut(t,e){return e.ptrType&&e.ptr||st("makeClassHandle requires ptr and ptrType"),!!e.smartPtrType!=!!e.smartPtr&&st("Both smartPtrType and smartPtr must be specified"),e.count={value:1},Object.create(t,{$$:{value:e}})}function Ot(t){var e=this.getPointee(t);if(!e)return this.destructor(t),null;var i=Lt(this.registeredClass,e);if(void 0!==i){if(0===i.$$.count.value)return i.$$.ptr=e,i.$$.smartPtr=t,i.clone();var n=i.clone();return this.destructor(t),n}function r(){return Ut(this.registeredClass.instancePrototype,this.isSmartPointer?{ptrType:this.pointeeType,ptr:e,smartPtrType:this,smartPtr:t}:{ptrType:this,ptr:t})}var s,o=this.registeredClass.getActualType(e),a=vt[o];if(!a)return r.call(this);var A=Rt(e,this.registeredClass,(s=this.isConst?a.constPointerType:a.pointerType).registeredClass);return null===A?r.call(this):Ut(s.registeredClass.instancePrototype,this.isSmartPointer?{ptrType:s,ptr:A,smartPtrType:this,smartPtr:t}:{ptrType:s,ptr:A})}function Yt(){Ht.prototype.getPointee=kt,Ht.prototype.destructor=Dt,Ht.prototype.argPackAdvance=8,Ht.prototype.readValueFromPointer=Qt,Ht.prototype.deleteObject=Mt,Ht.prototype.fromWireType=Ot}function Ht(t,e,i,n,r,s,o,a,A,l,u){this.name=t,this.registeredClass=e,this.isReference=i,this.isConst=n,this.isSmartPointer=r,this.pointeeType=s,this.sharingPolicy=o,this.rawGetPointee=a,this.rawConstructor=A,this.rawShare=l,this.rawDestructor=u,r||void 0!==e.baseClass?this.toWireType=xt:n?(this.toWireType=bt,this.destructorFunction=null):(this.toWireType=St,this.destructorFunction=null)}function Jt(t,i,n){e.hasOwnProperty(t)||st("Replacing nonexistant public symbol"),void 0!==e[t].overloadTable&&void 0!==n?e[t].overloadTable[n]=i:(e[t]=i,e[t].argCount=n)}function jt(t,i){var n;if(t=K(t),void 0!==e["FUNCTION_TABLE_"+t])n=e["FUNCTION_TABLE_"+t][i];else if("undefined"!=typeof FUNCTION_TABLE)n=FUNCTION_TABLE[i];else{var r=e["dynCall_"+t];void 0===r&&void 0===(r=e["dynCall_"+t.replace(/f/g,"d")])&&nt("No dynCall invoker for signature: "+t),n=function(e){for(var n=[],r=1;r<t.length;++r)n.push("a"+r);var s="return function dynCall_"+t+"_"+i+"("+n.join(", ")+") {\n";return s+="    return dynCall(rawFunction"+(n.length?", ":"")+n.join(", ")+");\n",s+="};\n",new Function("dynCall","rawFunction",s)(e,i)}(r)}return"function"!=typeof n&&nt("unknown function pointer with signature "+t+": "+i),n}var Kt=void 0;function qt(t){var e=Ee(t),i=K(e);return be(e),i}function zt(t,e){var i=[],n={};throw e.forEach((function t(e){n[e]||z[e]||(X[e]?X[e].forEach(t):(i.push(e),n[e]=!0))})),new Kt(t+": "+i.map(qt).join([", "]))}function Xt(t,e){for(var i=[],n=0;n<t;n++)i.push(d[(e>>2)+n]);return i}function Wt(t){for(;t.length;){var e=t.pop();t.pop()(e)}}function Zt(t,e){if(!(t instanceof Function))throw new TypeError("new_ called with constructor type "+typeof t+" which is not a function");var i=tt(t.name||"unknownFunctionName",(function(){}));i.prototype=t.prototype;var n=new i,r=t.apply(n,e);return r instanceof Object?r:n}function $t(t,e,i,n,r){var s=e.length;s<2&&nt("argTypes array size mismatch! Must at least get return value and 'this' types!");for(var o=null!==e[1]&&null!==i,a=!1,A=1;A<e.length;++A)if(null!==e[A]&&void 0===e[A].destructorFunction){a=!0;break}var l="void"!==e[0].name,u="",h="";for(A=0;A<s-2;++A)u+=(0!==A?", ":"")+"arg"+A,h+=(0!==A?", ":"")+"arg"+A+"Wired";var c="return function "+$(t)+"("+u+") {\nif (arguments.length !== "+(s-2)+") {\nthrowBindingError('function "+t+" called with ' + arguments.length + ' arguments, expected "+(s-2)+" args!');\n}\n";a&&(c+="var destructors = [];\n");var f=a?"destructors":"null",m=["throwBindingError","invoker","fn","runDestructors","retType","classParam"],_=[nt,n,r,Wt,e[0],e[1]];for(o&&(c+="var thisWired = classParam.toWireType("+f+", this);\n"),A=0;A<s-2;++A)c+="var arg"+A+"Wired = argType"+A+".toWireType("+f+", arg"+A+"); // "+e[A+2].name+"\n",m.push("argType"+A),_.push(e[A+2]);if(o&&(h="thisWired"+(h.length>0?", ":"")+h),c+=(l?"var rv = ":"")+"invoker(fn"+(h.length>0?", ":"")+h+");\n",a)c+="runDestructors(destructors);\n";else for(A=o?1:2;A<e.length;++A){var g=1===A?"thisWired":"arg"+(A-2)+"Wired";null!==e[A].destructorFunction&&(c+=g+"_dtor("+g+"); // "+e[A].name+"\n",m.push(g+"_dtor"),_.push(e[A].destructorFunction))}return l&&(c+="var ret = retType.fromWireType(rv);\nreturn ret;\n"),m.push(c+="}\n"),Zt(Function,m).apply(null,_)}function te(t,e,i){return t instanceof Object||nt(i+' with invalid "this": '+t),t instanceof e.registeredClass.constructor||nt(i+' incompatible with "this" of type '+t.constructor.name),t.$$.ptr||nt("cannot call emscripten binding method "+i+" on deleted object"),wt(t.$$.ptr,t.$$.ptrType.registeredClass,e.registeredClass)}var ee=[],ie=[{},{value:void 0},{value:null},{value:!0},{value:!1}];function ne(t){t>4&&0==--ie[t].refcount&&(ie[t]=void 0,ee.push(t))}function re(){for(var t=0,e=5;e<ie.length;++e)void 0!==ie[e]&&++t;return t}function se(){for(var t=5;t<ie.length;++t)if(void 0!==ie[t])return ie[t];return null}function oe(){e.count_emval_handles=re,e.get_first_emval=se}function ae(t){switch(t){case void 0:return 1;case null:return 2;case!0:return 3;case!1:return 4;default:var e=ee.length?ee.pop():ie.length;return ie[e]={refcount:1,value:t},e}}function Ae(t,e,i){switch(e){case 0:return function(t){return this.fromWireType((i?f:m)[t])};case 1:return function(t){return this.fromWireType((i?_:g)[t>>1])};case 2:return function(t){return this.fromWireType((i?d:p)[t>>2])};default:throw new TypeError("Unknown integer type: "+t)}}function le(t,e){var i=z[t];return void 0===i&&nt(e+" has unknown type "+qt(t)),i}function ue(t){if(null===t)return"null";var e=typeof t;return"object"===e||"array"===e||"function"===e?t.toString():""+t}function he(t,e){switch(e){case 2:return function(t){return this.fromWireType(y[t>>2])};case 3:return function(t){return this.fromWireType(C[t>>3])};default:throw new TypeError("Unknown float type: "+t)}}function ce(t,e,i){switch(e){case 0:return i?function(t){return f[t]}:function(t){return m[t]};case 1:return i?function(t){return _[t>>1]}:function(t){return g[t>>1]};case 2:return i?function(t){return d[t>>2]}:function(t){return p[t>>2]};default:throw new TypeError("Unknown integer type: "+t)}}function fe(){return x}var me={},_e=1;J(),it=e.BindingError=et(Error,"BindingError"),rt=e.InternalError=et(Error,"InternalError"),yt(),Yt(),Ft(),Kt=e.UnboundTypeError=et(Error,"UnboundTypeError"),oe();var ge=!1,de="function"==typeof atob?atob:function(t){var e,i,n,r,s,o,a="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",A="",l=0;t=t.replace(/[^A-Za-z0-9\+\/\=]/g,"");do{n=a.indexOf(t.charAt(l++)),e=(15&(r=a.indexOf(t.charAt(l++))))<<4|(s=a.indexOf(t.charAt(l++)))>>2,i=(3&s)<<6|(o=a.indexOf(t.charAt(l++))),A+=String.fromCharCode(n<<2|r>>4),64!==s&&(A+=String.fromCharCode(e)),64!==o&&(A+=String.fromCharCode(i))}while(l<t.length);return A};function pe(t){if(N(t))return function(t){if("boolean"==typeof r&&r){var e;try{e=Buffer.from(t,"base64")}catch(o){e=new Buffer(t,"base64")}return new Uint8Array(e.buffer,e.byteOffset,e.byteLength)}try{for(var i=de(t),n=new Uint8Array(i.length),s=0;s<i.length;++s)n[s]=i.charCodeAt(s);return n}catch(o){throw new Error("Converting base64 string to bytes failed.")}}(t.slice(P.length))}var ye={Math:Math,Int8Array:Int8Array,Int16Array:Int16Array,Int32Array:Int32Array,Uint8Array:Uint8Array,Uint16Array:Uint16Array,Uint32Array:Uint32Array,Float32Array:Float32Array,Float64Array:Float64Array,NaN:NaN,Infinity:1/0,byteLength:v};e.asmLibraryArg={a:Te,b:h,c:l,d:function(){return A},e:function(){Te("Cannot enlarge memory arrays. Either (1) compile with  -s TOTAL_MEMORY=X  with X higher than the current value "+x+", (2) compile with  -s ALLOW_MEMORY_GROWTH=1  which allows increasing the size at runtime but prevents some optimizations, (3) set Module.TOTAL_MEMORY to a higher value before the program runs, or (4) if you want malloc to return NULL (0) instead of this abort, compile with  -s ABORTING_MALLOC=0 ")},f:Ct,g:ht,h:ft,i:pt,j:At,k:mt,l:Et,m:Ht,n:Mt,o:Dt,p:Ot,q:kt,r:L,s:function(t){return xe(t)},t:function(t){var e=O.infos[t];return e&&!e.caught&&(e.caught=!0,L.uncaught_exception--),e&&(e.rethrown=!1),O.caught.push(t),O.addRef(O.deAdjust(t)),t},u:function t(){var i=O.last;if(!i)return 0|(l(0),0);var n=O.infos[i],r=n.type;if(!r)return 0|(l(0),i);var s=Array.prototype.slice.call(arguments);e.___cxa_is_pointer_type(r),t.buffer||(t.buffer=xe(4)),d[t.buffer>>2]=i,i=t.buffer;for(var o=0;o<s.length;o++)if(s[o]&&e.___cxa_can_catch(s[o],r,i))return n.adjusted.push(i=d[i>>2]),0|(l(s[o]),i);return i=d[i>>2],0|(l(r),i)},v:U,w:function(t,e,i){throw O.infos[t]={ptr:t,adjusted:[t],type:e,destructor:i,refcount:0,caught:!1,rethrown:!1},O.last=t,"uncaught_exception"in L?L.uncaught_exception++:L.uncaught_exception=1,t+" - Exception catching is disabled, this exception cannot be caught. Compile with -s DISABLE_EXCEPTION_CATCHING=0 or DISABLE_EXCEPTION_CATCHING=2 to catch."},x:function(){},y:function(t){throw O.last||(O.last=t),t+" - Exception catching is disabled, this exception cannot be caught. Compile with -s DISABLE_EXCEPTION_CATCHING=0 or DISABLE_EXCEPTION_CATCHING=2 to catch."},z:function(t){return e.___errno_location&&(d[e.___errno_location()>>2]=t),t},A:function(t,e){Y.varargs=e;try{var i=Y.getStreamFromFD(),n=(Y.get(),Y.get()),r=Y.get(),s=Y.get(),o=n;return FS.llseek(i,o,s),d[r>>2]=i.position,i.getdents&&0===o&&0===s&&(i.getdents=null),0}catch(Ge){return"undefined"!=typeof FS&&Ge instanceof FS.ErrnoError||Te(Ge),-Ge.errno}},B:function(t,e){Y.varargs=e;try{for(var i=Y.get(),n=Y.get(),r=Y.get(),s=0,o=0;o<r;o++){for(var a=d[n+8*o>>2],A=d[n+(8*o+4)>>2],l=0;l<A;l++)Y.printChar(i,m[a+l]);s+=A}return s}catch(Ge){return"undefined"!=typeof FS&&Ge instanceof FS.ErrnoError||Te(Ge),-Ge.errno}},C:function(t,e){Y.varargs=e;try{var i=Y.getStreamFromFD();return FS.close(i),0}catch(Ge){return"undefined"!=typeof FS&&Ge instanceof FS.ErrnoError||Te(Ge),-Ge.errno}},D:function(t,e,i,n,r){var s=H(i);at(t,{name:e=K(e),fromWireType:function(t){return!!t},toWireType:function(t,e){return e?n:r},argPackAdvance:8,readValueFromPointer:function(t){var n;if(1===i)n=f;else if(2===i)n=_;else{if(4!==i)throw new TypeError("Unknown boolean type size: "+e);n=d}return this.fromWireType(n[t>>s])},destructorFunction:null})},E:function(t,e,i,n,r,s,o,a,A,l,u,h,c){u=K(u),s=jt(r,s),a&&(a=jt(o,a)),l&&(l=jt(A,l)),c=jt(h,c);var f=$(u);Bt(f,(function(){zt("Cannot construct "+u+" due to unbound types",[n])})),ot([t,e,i],n?[n]:[],(function(e){var i,r;e=e[0],r=n?(i=e.registeredClass).instancePrototype:Ct.prototype;var o=tt(f,(function(){if(Object.getPrototypeOf(this)!==A)throw new it("Use 'new' to construct "+u);if(void 0===h.constructor_body)throw new it(u+" has no accessible constructor");var t=h.constructor_body[arguments.length];if(void 0===t)throw new it("Tried to invoke ctor of "+u+" with invalid number of parameters ("+arguments.length+") - expected ("+Object.keys(h.constructor_body).toString()+") parameters instead!");return t.apply(this,arguments)})),A=Object.create(r,{constructor:{value:o}});o.prototype=A;var h=new Et(u,o,A,c,i,s,a,l),m=new Ht(u,h,!0,!1,!1),_=new Ht(u+"*",h,!1,!1,!1),g=new Ht(u+" const*",h,!1,!0,!1);return vt[t]={pointerType:_,constPointerType:g},Jt(f,o),[m,_,g]}))},F:function(t,e,i,n,r,s){var o=Xt(e,i);r=jt(n,r),ot([],[t],(function(t){var i="constructor "+(t=t[0]).name;if(void 0===t.registeredClass.constructor_body&&(t.registeredClass.constructor_body=[]),void 0!==t.registeredClass.constructor_body[e-1])throw new it("Cannot register multiple constructors with identical number of parameters ("+(e-1)+") for class '"+t.name+"'! Overload resolution is currently only performed using the parameter count, not actual type info!");return t.registeredClass.constructor_body[e-1]=function(){zt("Cannot construct "+t.name+" due to unbound types",o)},ot([],o,(function(n){return t.registeredClass.constructor_body[e-1]=function(){arguments.length!==e-1&&nt(i+" called with "+arguments.length+" arguments, expected "+(e-1));var t=[],o=new Array(e);o[0]=s;for(var a=1;a<e;++a)o[a]=n[a].toWireType(t,arguments[a-1]);var A=r.apply(null,o);return Wt(t),n[0].fromWireType(A)},[]})),[]}))},G:function(t,e,i,n,r,s,o,a){var A=Xt(i,n);e=K(e),s=jt(r,s),ot([],[t],(function(t){var n=(t=t[0]).name+"."+e;function r(){zt("Cannot call "+n+" due to unbound types",A)}a&&t.registeredClass.pureVirtualFunctions.push(e);var l=t.registeredClass.instancePrototype,u=l[e];return void 0===u||void 0===u.overloadTable&&u.className!==t.name&&u.argCount===i-2?(r.argCount=i-2,r.className=t.name,l[e]=r):(It(l,e,n),l[e].overloadTable[i-2]=r),ot([],A,(function(r){var a=$t(n,r,t,s,o);return void 0===l[e].overloadTable?(a.argCount=i-2,l[e]=a):l[e].overloadTable[i-2]=a,[]})),[]}))},H:function(t,e,i,n,r,s,o,a,A,l){e=K(e),r=jt(n,r),ot([],[t],(function(t){var n=(t=t[0]).name+"."+e,u={get:function(){zt("Cannot access "+n+" due to unbound types",[i,o])},enumerable:!0,configurable:!0};return u.set=A?function(){zt("Cannot access "+n+" due to unbound types",[i,o])}:function(t){nt(n+" is a read-only property")},Object.defineProperty(t.registeredClass.instancePrototype,e,u),ot([],A?[i,o]:[i],(function(i){var o=i[0],u={get:function(){var e=te(this,t,n+" getter");return o.fromWireType(r(s,e))},enumerable:!0};if(A){A=jt(a,A);var h=i[1];u.set=function(e){var i=te(this,t,n+" setter"),r=[];A(l,i,h.toWireType(r,e)),Wt(r)}}return Object.defineProperty(t.registeredClass.instancePrototype,e,u),[]})),[]}))},I:function(t,e){at(t,{name:e=K(e),fromWireType:function(t){var e=ie[t].value;return ne(t),e},toWireType:function(t,e){return ae(e)},argPackAdvance:8,readValueFromPointer:Qt,destructorFunction:null})},J:function(t,e,i,n){var r=H(i);function s(){}e=K(e),s.values={},at(t,{name:e,constructor:s,fromWireType:function(t){return this.constructor.values[t]},toWireType:function(t,e){return e.value},argPackAdvance:8,readValueFromPointer:Ae(e,r,n),destructorFunction:null}),Bt(e,s)},K:function(t,e,i){var n=le(t,"enum");e=K(e);var r=n.constructor,s=Object.create(n.constructor.prototype,{value:{value:i},constructor:{value:tt(n.name+"_"+e,(function(){}))}});r.values[i]=s,r[e]=s},L:function(t,e,i){var n=H(i);at(t,{name:e=K(e),fromWireType:function(t){return t},toWireType:function(t,e){if("number"!=typeof e&&"boolean"!=typeof e)throw new TypeError('Cannot convert "'+ue(e)+'" to '+this.name);return e},argPackAdvance:8,readValueFromPointer:he(e,n),destructorFunction:null})},M:function(t,e,i,n,r,s){var o=Xt(e,i);t=K(t),r=jt(n,r),Bt(t,(function(){zt("Cannot call "+t+" due to unbound types",o)}),e-1),ot([],o,(function(i){var n=[i[0],null].concat(i.slice(1));return Jt(t,$t(t,n,null,r,s),e-1),[]}))},N:function(t,e,i,n,r){e=K(e),-1===r&&(r=4294967295);var s=H(i),o=function(t){return t};if(0===n){var a=32-8*i;o=function(t){return t<<a>>>a}}var A=-1!=e.indexOf("unsigned");at(t,{name:e,fromWireType:o,toWireType:function(t,i){if("number"!=typeof i&&"boolean"!=typeof i)throw new TypeError('Cannot convert "'+ue(i)+'" to '+this.name);if(i<n||i>r)throw new TypeError('Passing a number "'+ue(i)+'" from JS side to C/C++ side to an argument of type "'+e+'", which is outside the valid range ['+n+", "+r+"]!");return A?i>>>0:0|i},argPackAdvance:8,readValueFromPointer:ce(e,s,0!==n),destructorFunction:null})},O:function(t,e,i){var n=[Int8Array,Uint8Array,Int16Array,Uint16Array,Int32Array,Uint32Array,Float32Array,Float64Array][e];function r(t){return new n(p.buffer,p[1+(t>>=2)],p[t])}at(t,{name:i=K(i),fromWireType:r,argPackAdvance:8,readValueFromPointer:r},{ignoreDuplicateRegistrations:!0})},P:function(t,e){var i="std::string"===(e=K(e));at(t,{name:e,fromWireType:function(t){var e,n=p[t>>2];if(i){var r=m[t+4+n],s=0;0!=r&&(s=r,m[t+4+n]=0);for(var o=t+4,a=0;a<=n;++a){var A=t+4+a;if(0==m[A]){var l=E(o);void 0===e?e=l:(e+=String.fromCharCode(0),e+=l),o=A+1}}0!=s&&(m[t+4+n]=s)}else{var u=new Array(n);for(a=0;a<n;++a)u[a]=String.fromCharCode(m[t+4+a]);e=u.join("")}return be(t),e},toWireType:function(t,e){e instanceof ArrayBuffer&&(e=new Uint8Array(e));var n="string"==typeof e;n||e instanceof Uint8Array||e instanceof Uint8ClampedArray||e instanceof Int8Array||nt("Cannot pass non-string to std::string");var r=(i&&n?function(){return function(t){for(var e=0,i=0;i<t.length;++i){var n=t.charCodeAt(i);n>=55296&&n<=57343&&(n=65536+((1023&n)<<10)|1023&t.charCodeAt(++i)),n<=127?++e:e+=n<=2047?2:n<=65535?3:n<=2097151?4:n<=67108863?5:6}return e}(e)}:function(){return e.length})(),s=xe(4+r+1);if(p[s>>2]=r,i&&n)!function(t,e,i,n){if(!(n>0))return 0;for(var r=i+n-1,s=0;s<t.length;++s){var o=t.charCodeAt(s);if(o>=55296&&o<=57343&&(o=65536+((1023&o)<<10)|1023&t.charCodeAt(++s)),o<=127){if(i>=r)break;e[i++]=o}else if(o<=2047){if(i+1>=r)break;e[i++]=192|o>>6,e[i++]=128|63&o}else if(o<=65535){if(i+2>=r)break;e[i++]=224|o>>12,e[i++]=128|o>>6&63,e[i++]=128|63&o}else{if(i+3>=r)break;e[i++]=240|o>>18,e[i++]=128|o>>12&63,e[i++]=128|o>>6&63,e[i++]=128|63&o}}e[i]=0}(e,m,s+4,r+1);else if(n)for(var o=0;o<r;++o){var a=e.charCodeAt(o);a>255&&(be(s),nt("String has UTF-16 code units that do not fit in 8 bits")),m[s+4+o]=a}else for(o=0;o<r;++o)m[s+4+o]=e[o];return null!==t&&t.push(be,s),s},argPackAdvance:8,readValueFromPointer:Qt,destructorFunction:function(t){be(t)}})},Q:function(t,e,i){var n,r;i=K(i),2===e?(n=function(){return g},r=1):4===e&&(n=function(){return p},r=2),at(t,{name:i,fromWireType:function(t){for(var e=n(),i=p[t>>2],s=new Array(i),o=t+4>>r,a=0;a<i;++a)s[a]=String.fromCharCode(e[o+a]);return be(t),s.join("")},toWireType:function(t,i){var s=n(),o=i.length,a=xe(4+o*e);p[a>>2]=o;for(var A=a+4>>r,l=0;l<o;++l)s[A+l]=i.charCodeAt(l);return null!==t&&t.push(be,a),a},argPackAdvance:8,readValueFromPointer:Qt,destructorFunction:function(t){be(t)}})},R:function(t,e){at(t,{isVoid:!0,name:e=K(e),argPackAdvance:0,fromWireType:function(){},toWireType:function(t,e){}})},S:ne,T:function(t){t>4&&(ie[t].refcount+=1)},U:ae,V:function(t,e){return ae((t=le(t,"_emval_take_value")).readValueFromPointer(e))},W:function(){e.abort()},X:ue,Y:fe,Z:function(t,e,i){m.set(m.subarray(e,e+i),t)},_:function(t){var i=fe();if(t>2130706432)return!1;for(var n=Math.max(i,16777216);n<t;)n=n<=536870912?w(2*n,16777216):Math.min(w((3*n+2147483648)/4,16777216),2130706432);var r=e.reallocBuffer(n);return!(!r||r.byteLength!=n||(e.buffer=c=r,b(),x=n,p[2700]=t,0))},$:function(t){return me[t]||0},aa:function(t,e){return 0==t?22:(d[t>>2]=_e,me[_e]=0,_e++,0)},ab:function t(i,n){t.seen||(t.seen={}),i in t.seen||(e.dynCall_v(n),t.seen[i]=1)},ac:function(t,e){return t in me?(me[t]=e,0):22},ad:bt,ae:re,af:$t,ag:tt,ah:Rt,ai:jt,aj:J,ak:It,al:Ae,am:Bt,an:et,ao:he,ap:dt,aq:function(){var t=e._fflush;t&&t(0);var i=Y.buffers;i[1].length&&Y.printChar(1,10),i[2].length&&Y.printChar(2,10)},ar:xt,as:Nt,at:Lt,au:Vt,av:Tt,aw:H,ax:qt,ay:se,az:Xt,aA:yt,aB:Yt,aC:Ft,aD:oe,aE:ce,aF:Ut,aG:$,aH:Zt,aI:St,aJ:K,aK:at,aL:Jt,aM:le,aN:ct,aO:Wt,aP:Gt,aQ:lt,aR:Qt,aS:nt,aT:ut,aU:st,aV:zt,aW:wt,aX:te,aY:ot,aZ:10800,a_:11040};var Ce,ve=function(t,e,i){var n=t.Int8Array,r=new n(i),s=t.Int16Array,o=new s(i),a=t.Int32Array,A=new a(i),l=t.Uint8Array,u=new l(i),h=t.Uint16Array,c=(new h(i),t.Uint32Array),f=(new c(i),t.Float32Array),m=(new f(i),t.Float64Array),_=new m(i),g=t.byteLength,d=0|e.aZ,p=0|e.a_,y=0,C=t.Math.floor,v=t.Math.abs,I=t.Math.sqrt,B=t.Math.cos,E=t.Math.sin,w=t.Math.tan,b=t.Math.acos,x=t.Math.atan2,S=t.Math.ceil,Q=t.Math.imul,k=t.Math.min,D=t.Math.clz32,M=e.a,R=e.c,V=e.d,T=e.e,G=e.s,F=e.w,P=e.z,N=e.A,L=e.B,U=e.C,O=e.D,Y=e.E,H=e.F,J=e.G,j=e.H,K=e.I,q=e.J,z=e.K,X=e.L,W=e.M,Z=e.N,$=e.O,tt=e.P,et=e.Q,it=e.R,nt=e.S,rt=e.T,st=e.V,ot=e.W,at=e.Y,At=e.Z,lt=e._,ut=e.$,ht=e.aa,ct=e.ab,ft=e.ac,mt=11056;function _t(t,e){t|=0;var i=0,n=0,r=0,s=0,o=0,a=0,l=0,u=0,h=0,c=0;n=0|A[(r=32+(e|=0)|0)>>2],r=0|A[r+4>>2],(0|A[(h=32+(i=0|A[e+80>>2])|0)>>2])==(0|n)&&(0|A[h+4>>2])==(0|r)&&(0|A[(u=i+40|0)>>2])==(0|A[(h=e+40|0)>>2])&&(0|A[u+4>>2])==(0|A[h+4>>2])&&0==(0|A[i+88>>2])?(c=i,i=7):i=4,4==(0|i)&&(0|A[(h=32+(s=0|A[e+84>>2])|0)>>2])==(0|n)&&(0|A[h+4>>2])==(0|r)&&(0|A[(u=s+40|0)>>2])==(0|A[(h=e+40|0)>>2])&&(0|A[u+4>>2])==(0|A[h+4>>2])&&0==(0|A[s+88>>2])&&(c=s,i=7);do{if(7==(0|i)&&-2!=(0|A[(a=c+76|0)>>2])){if((0|A[(u=c+92|0)>>2])==(0|A[(h=c+96|0)>>2])&&-1e40!=+_[c+48>>3])break;if((0|(i=0|A[(l=e+92|0)>>2]))!=(0|c)&0!=(0|i)){n=e+32|0;do{_e(t,e,i,n),ee(t,e,i),i=0|A[l>>2]}while((0|i)!=(0|c)&0!=(0|i))}if(-1==(0|(n=0|A[(r=e+76|0)>>2]))){if(-1==(0|A[a>>2])){if(((o=0!=(0|i))|(s=0!=(0|(r=0|A[(n=e+96|0)>>2])))||(0|A[t+52>>2])==(0|e))&&(A[(s?r+92|0:t+52|0)>>2]=i,o&&(A[i+96>>2]=r),A[l>>2]=0,A[n>>2]=0),!((r=0!=(0|(i=0|A[h>>2])))|(s=0!=(0|(n=0|A[u>>2]))))&&(0|A[t+52>>2])!=(0|c))return;return A[(r?i+92|0:t+52|0)>>2]=n,s&&(A[n+96>>2]=i),A[u>>2]=0,void(A[h>>2]=0)}n=0}else if((0|n)>-1){if((0|A[a>>2])>-1){ce(t,e,i=e+32|0),0|A[c+64>>2]||ce(t,c,i),i=0|A[r>>2],n=0|A[a>>2];do{if((0|i)!=(0|n)){if((0|i)<(0|n)){fe(t,e,c);break}fe(t,c,e);break}A[r>>2]=-1,A[a>>2]=-1}while(0);if(((s=0!=(0|(n=0|A[(i=e+96|0)>>2])))|(o=0!=(0|(r=0|A[l>>2])))||(0|A[t+52>>2])==(0|e))&&(A[(s?n+92|0:t+52|0)>>2]=r,o&&(A[r+96>>2]=n),A[l>>2]=0,A[i>>2]=0),!((r=0!=(0|(i=0|A[h>>2])))|(s=0!=(0|(n=0|A[u>>2]))))&&(0|A[t+52>>2])!=(0|c))return;return A[(r?i+92|0:t+52|0)>>2]=n,s&&(A[n+96>>2]=i),A[u>>2]=0,void(A[h>>2]=0)}n=1}else n=0;if(0|A[e+64>>2]&&(Wt(t=0|G(16),5296),F(0|t,2928,9)),n&&(ce(t,e,e+32|0),A[r>>2]=-1,i=0|A[l>>2]),((s=0!=(0|(r=0|A[(n=e+96|0)>>2])))|(o=0!=(0|i))||(0|A[t+52>>2])==(0|e))&&(A[(s?r+92|0:t+52|0)>>2]=i,o&&(A[i+96>>2]=r),A[l>>2]=0,A[n>>2]=0),(0|A[a>>2])>-1&&(ce(t,c,e+32|0),A[a>>2]=-1),!((r=0!=(0|(i=0|A[h>>2])))|(s=0!=(0|(n=0|A[u>>2]))))&&(0|A[t+52>>2])!=(0|c))return;return A[(r?i+92|0:t+52|0)>>2]=n,s&&(A[n+96>>2]=i),A[u>>2]=0,void(A[h>>2]=0)}}while(0);(0|A[e+76>>2])>-1&&ce(t,e,e+32|0),((o=0!=(0|(n=0|A[(i=e+96|0)>>2])))|(a=0!=(0|(s=0|A[(r=e+92|0)>>2])))||(0|A[t+52>>2])==(0|e))&&(A[(o?n+92|0:t+52|0)>>2]=s,a&&(A[s+96>>2]=n),A[r>>2]=0,A[i>>2]=0)}function gt(t,e){var i,n,r=0,s=0,o=0,a=0,l=0,u=0,h=0,c=0;if(o=r=0|A[(t|=0)>>2],!((((0|A[(n=t+8|0)>>2])-r|0)/12|0)>>>0>=(e|=0)>>>0)){if(u=t+4|0,e>>>0>357913941&&(si(u=0|G(8),6334),A[u>>2]=4968,F(0|u,3800,18)),a=0|A[u>>2],i=s=(l=0|ei(12*e|0))+(12*((a-r|0)/12|0)|0)|0,l=l+(12*e|0)|0,(0|(e=a))!=(0|o)){r=e;do{h=s,e=r,r=r+-12|0,A[(s=s+-12|0)>>2]=0,A[(c=h+-8|0)>>2]=0,A[(h=h+-4|0)>>2]=0,A[s>>2]=A[r>>2],A[c>>2]=A[(a=e+-8|0)>>2],A[h>>2]=A[(e=e+-4|0)>>2],A[e>>2]=0,A[a>>2]=0,A[r>>2]=0}while((0|r)!=(0|o));if(e=0|A[u>>2],a=r=0|A[t>>2],A[t>>2]=s,A[u>>2]=i,A[n>>2]=l,(0|e)!=(0|a))do{s=e,0|(o=0|A[(e=e+-12|0)>>2])&&(A[s+-8>>2]=o,ni(o))}while((0|e)!=(0|a))}else A[t>>2]=i,A[u>>2]=i,A[n>>2]=l;r&&ni(r)}}function dt(t,e){var i,n,r,s,o=0;(0|A[(r=8+(t|=0)|0)>>2])-(s=0|A[t>>2])>>4>>>0>=(e|=0)>>>0||(o=t+4|0,e>>>0>268435455&&(si(o=0|G(8),6334),A[o>>2]=4968,F(0|o,3800,18)),i=(0|A[o>>2])-s|0,n=0|ei(e<<4),(0|i)>0&&bi(0|n,0|s,0|i),A[t>>2]=n,A[o>>2]=n+(i>>4<<4),A[r>>2]=n+(e<<4),s&&ni(s))}function pt(t,e){var i,n,r,s,o=0;(0|A[(r=8+(t|=0)|0)>>2])-(s=0|A[t>>2])>>2>>>0>=(e|=0)>>>0||(o=t+4|0,e>>>0>1073741823&&(si(o=0|G(8),6334),A[o>>2]=4968,F(0|o,3800,18)),i=(0|A[o>>2])-s|0,n=0|ei(e<<2),(0|i)>0&&bi(0|n,0|s,0|i),A[t>>2]=n,A[o>>2]=n+(i>>2<<2),A[r>>2]=n+(e<<2),s&&ni(s))}function yt(t,e,i,n){t|=0,i|=0,n|=0;var s,o,a,l=0,u=0,h=0,c=0,f=0,m=0,_=0,g=0,d=0,p=0,y=0,C=0,v=0,I=0,B=0,E=0,w=0,b=0,x=0,S=0,Q=0,k=0,D=0,M=0,R=0,T=0,G=0,F=0,P=0,N=0,L=0,U=0,O=0,Y=0,H=0,J=0,j=0,K=0,q=0;if(a=mt,mt=mt+32|0,G=a+16|0,F=a,Q=0|A[(o=4+(e|=0)|0)>>2],s=8+(T=0|A[e>>2])|0,!((0|(N=0|A[(L=h=T+16|0)>>2]))==(0|(M=0|A[(R=e+16|0)>>2]))&(0|(L=0|A[L+4>>2]))==(0|(R=0|A[R+4>>2])))){u=0|A[(h=8+(l=0|A[(D=T+24|0)>>2])|0)>>2],h=0|A[h+4>>2],I=0|A[(B=s)>>2],B=0|A[B+4>>2];t:do{if((0|u)==(0|I)&(0|h)==(0|B))do{if((0|l)==(0|T)|((0|A[(F=l+16|0)>>2])!=(0|N)?1:(0|A[F+4>>2])!=(0|L)))break t;F=8+(l=0|A[l+24>>2])|0}while((0|A[F>>2])==(0|u)&&(0|A[F+4>>2])==(0|h));else u=I,h=B}while(0);c=0|A[(f=l+16|0)>>2],f=0|A[f+4>>2];do{if(!((0|L)<(0|f)|(0|L)==(0|f)&N>>>0<c>>>0)){if(m=0|A[(_=l+8|0)>>2],_=0|A[_+4>>2],C=0|A[(v=e+8|0)>>2],v=0|A[v+4>>2],F=0==(0|r[t+20>>0]),g=0|Ci(0|N,0|L,0|c,0|f),d=0|V(),p=0|Ci(0|m,0|_,0|C,0|v),y=0|V(),F){if(k=0|pi(0|p,0|y,0|g,0|d),F=0|V(),(0|k)==(0|(G=0|pi(0|(x=0|Ci(0|I,0|B,0|m,0|_)),0|(S=0|V()),0|(G=0|Ci(0|c,0|f,0|M,0|R)),0|V())))&(0|F)==(0|V())){S=l,k=0,x=0,p=C,y=v;break}P=56;break}if(O=(0|d)<0,H=0|Bi(0|g,0|d,63),V(),w=(0|y)<0,E=0|Bi(0|p,0|y,63),V(),E=(0|H)==(0|E),H=0|Ci(0,0,0|g,0|d),U=0|V(),H=O?H:g,U=O?U:d,O=0|Ci(0,0,0|p,0|y),g=0|V(),O=w?O:p,w=0|pi(0|(g=w?g:y),0,0|U,0),Y=0|V(),d=0|pi(0|O,0,0|H,0),x=0|V(),H=0|yi(0|(U=0|pi(0|O,0,0|U,0)),0|(O=0|V()),0|(H=0|pi(0|g,0,0|H,0)),0|V()),Y=0|yi(0|V(),0,0|w,0|Y),w=0|V(),H=0|yi(0,0|H,0|d,0|x),d=0|yi(0|Y,0|w,1&((O=0|V())>>>0<x>>>0|(0|O)==(0|x)&H>>>0<d>>>0)|0,0),x=0|V(),w=0==(0|H)&0==(0|O),Y=0|Ci(0,0,0|H,0|O),U=0|V(),g=0|Ci(0,0,0|d,0|x),b=0|V(),p=0|Ci(0|I,0|B,0|m,0|_),m=0|V(),_=0|Ci(0|c,0|f,0|M,0|R),c=0|V(),k=(0|m)<0,F=0|Bi(0|p,0|m,63),V(),f=(0|c)<0,S=0|Bi(0|_,0|c,63),V(),S=(0|F)==(0|S),F=0|Ci(0,0,0|p,0|m),y=0|V(),p=k?F:p,m=k?y:m,y=0|Ci(0,0,0|_,0|c),k=0|V(),_=f?y:_,k=0|pi(0|m,0,0|(c=f?k:c),0),f=0|V(),y=0|pi(0|p,0,0|_,0),F=0|V(),c=0|yi(0|(_=0|pi(0|m,0,0|_,0)),0|(m=0|V()),0|(c=0|pi(0|p,0,0|c,0)),0|V()),f=0|yi(0|V(),0,0|k,0|f),k=0|V(),c=0|yi(0,0|c,0|y,0|F),y=0|yi(0|f,0|k,1&((m=0|V())>>>0<F>>>0|(0|m)==(0|F)&c>>>0<y>>>0)|0,0),F=0|V(),k=0==(0|c)&0==(0|m),f=0|Ci(0,0,0|c,0|m),_=0|V(),p=0|Ci(0,0,0|y,0|F),G=0|V(),((0|(E?H:Y))==(0|(S?c:f))?(0|(E?O:U))==(0|(S?m:_)):0)&((0|(E?d:w?g:~d))==(0|(S?y:k?p:~y))?(0|(E?x:w?b:~x))==(0|(S?F:k?G:~F)):0)){S=l,k=0,x=1,p=C,y=v;break}P=56;break}P=56}while(0);do{if(56==(0|P)){H=8+(l=0|A[T+28>>2])|0;t:do{if((0|A[H>>2])==(0|u)&&(0|A[H+4>>2])==(0|h))do{if((0|l)==(0|T)|((0|A[(H=l+16|0)>>2])!=(0|N)?1:(0|A[H+4>>2])!=(0|L)))break t;H=8+(l=0|A[l+28>>2])|0}while((0|A[H>>2])==(0|u)&&(0|A[H+4>>2])==(0|h))}while(0);if(m=0|A[(_=l+16|0)>>2],(0|L)<(0|(_=0|A[_+4>>2]))|(0|L)==(0|_)&N>>>0<m>>>0)return mt=a,0;if(g=0|A[(d=l+8|0)>>2],d=0|A[d+4>>2],p=0|A[(y=e+8|0)>>2],y=0|A[y+4>>2],H=0==(0|r[t+20>>0]),u=0|Ci(0|N,0|L,0|m,0|_),h=0|V(),c=0|Ci(0|g,0|d,0|p,0|y),f=0|V(),H){if(O=0|pi(0|c,0|f,0|u,0|h),H=0|V(),(0|O)==(0|(Y=0|pi(0|(L=0|Ci(0|I,0|B,0|g,0|d)),0|(U=0|V()),0|(Y=0|Ci(0|m,0|_,0|M,0|R)),0|V())))&(0|H)==(0|V())){S=l,k=1,x=0;break}return mt=a,0}if(t=(0|h)<0,C=0|Bi(0|u,0|h,63),V(),e=(0|f)<0,F=0|Bi(0|c,0|f,63),V(),F=(0|C)==(0|F),C=0|Ci(0,0,0|u,0|h),E=0|V(),C=t?C:u,E=t?E:h,t=0|Ci(0,0,0|c,0|f),x=0|V(),t=e?t:c,e=0|pi(0|(x=e?x:f),0,0|E,0),v=0|V(),S=0|pi(0|t,0,0|C,0),L=0|V(),C=0|yi(0|(E=0|pi(0|t,0,0|E,0)),0|(t=0|V()),0|(C=0|pi(0|x,0,0|C,0)),0|V()),v=0|yi(0|V(),0,0|e,0|v),e=0|V(),C=0|yi(0,0|C,0|S,0|L),S=0|yi(0|v,0|e,1&((t=0|V())>>>0<L>>>0|(0|t)==(0|L)&C>>>0<S>>>0)|0,0),L=0|V(),e=0==(0|C)&0==(0|t),v=0|Ci(0,0,0|C,0|t),E=0|V(),x=0|Ci(0,0,0|S,0|L),N=0|V(),k=0|Ci(0|I,0|B,0|g,0|d),w=0|V(),b=0|Ci(0|m,0|_,0|M,0|R),I=0|V(),O=(0|w)<0,H=0|Bi(0|k,0|w,63),V(),B=(0|I)<0,U=0|Bi(0|b,0|I,63),V(),U=(0|H)==(0|U),H=0|Ci(0,0,0|k,0|w),G=0|V(),k=O?H:k,w=O?G:w,G=0|Ci(0,0,0|b,0|I),O=0|V(),b=B?G:b,O=0|pi(0|w,0,0|(I=B?O:I),0),B=0|V(),G=0|pi(0|k,0,0|b,0),H=0|V(),I=0|yi(0|(b=0|pi(0|w,0,0|b,0)),0|(w=0|V()),0|(I=0|pi(0|k,0,0|I,0)),0|V()),B=0|yi(0|V(),0,0|O,0|B),O=0|V(),I=0|yi(0,0|I,0|G,0|H),G=0|yi(0|B,0|O,1&((w=0|V())>>>0<H>>>0|(0|w)==(0|H)&I>>>0<G>>>0)|0,0),H=0|V(),O=0==(0|I)&0==(0|w),B=0|Ci(0,0,0|I,0|w),b=0|V(),k=0|Ci(0,0,0|G,0|H),Y=0|V(),((0|(F?C:v))==(0|(U?I:B))?(0|(F?t:E))==(0|(U?w:b)):0)&((0|(F?S:e?x:~S))==(0|(U?G:O?k:~G))?(0|(F?L:e?N:~L))==(0|(U?H:O?Y:~H)):0)){S=l,k=1,x=1;break}return mt=a,0}}while(0);u=0|A[(h=8+(l=0|A[(w=Q+24|0)>>2])|0)>>2],h=0|A[h+4>>2],t=0|A[(E=b=Q+8|0)>>2],E=0|A[E+4>>2],I=0|A[(B=Q+16|0)>>2],B=0|A[B+4>>2];t:do{if((0|u)==(0|t)&(0|h)==(0|E))do{if((0|l)==(0|Q)|((0|A[(H=l+16|0)>>2])!=(0|I)?1:(0|A[H+4>>2])!=(0|B)))break t;H=8+(l=0|A[l+24>>2])|0}while((0|A[H>>2])==(0|u)&&(0|A[H+4>>2])==(0|h));else u=t,h=E}while(0);c=0|A[(f=l+16|0)>>2],f=0|A[f+4>>2];do{if(!((0|B)<(0|f)|(0|B)==(0|f)&I>>>0<c>>>0)){if(m=0|A[(_=l+8|0)>>2],_=0|A[_+4>>2],g=0|Ci(0|I,0|B,0|c,0|f),d=0|V(),C=0|Ci(0|m,0|_,0|p,0|y),v=0|V(),x<<24>>24){if(j=(0|d)<0,q=0|Bi(0|g,0|d,63),V(),e=(0|v)<0,F=0|Bi(0|C,0|v,63),V(),F=(0|q)==(0|F),q=0|Ci(0,0,0|g,0|d),J=0|V(),q=j?q:g,J=j?J:d,j=0|Ci(0,0,0|C,0|v),d=0|V(),j=e?j:C,e=0|pi(0|(d=e?d:v),0,0|J,0),K=0|V(),C=0|pi(0|j,0,0|q,0),L=0|V(),q=0|yi(0|(J=0|pi(0|j,0,0|J,0)),0|(j=0|V()),0|(q=0|pi(0|d,0,0|q,0)),0|V()),K=0|yi(0|V(),0,0|e,0|K),e=0|V(),q=0|yi(0,0|q,0|C,0|L),C=0|yi(0|K,0|e,1&((j=0|V())>>>0<L>>>0|(0|j)==(0|L)&q>>>0<C>>>0)|0,0),L=0|V(),e=0==(0|q)&0==(0|j),K=0|Ci(0,0,0|q,0|j),J=0|V(),d=0|Ci(0,0,0|C,0|L),N=0|V(),v=0|Ci(0|t,0|E,0|m,0|_),_=0|V(),g=0|Ci(0|c,0|f,0|M,0|R),f=0|V(),O=(0|_)<0,H=0|Bi(0|v,0|_,63),V(),m=(0|f)<0,U=0|Bi(0|g,0|f,63),V(),U=(0|H)==(0|U),H=0|Ci(0,0,0|v,0|_),G=0|V(),v=O?H:v,_=O?G:_,G=0|Ci(0,0,0|g,0|f),O=0|V(),g=m?G:g,O=0|pi(0|_,0,0|(f=m?O:f),0),m=0|V(),G=0|pi(0|v,0,0|g,0),H=0|V(),f=0|yi(0|(g=0|pi(0|_,0,0|g,0)),0|(_=0|V()),0|(f=0|pi(0|v,0,0|f,0)),0|V()),m=0|yi(0|V(),0,0|O,0|m),O=0|V(),f=0|yi(0,0|f,0|G,0|H),G=0|yi(0|m,0|O,1&((_=0|V())>>>0<H>>>0|(0|_)==(0|H)&f>>>0<G>>>0)|0,0),H=0|V(),O=0==(0|f)&0==(0|_),m=0|Ci(0,0,0|f,0|_),g=0|V(),v=0|Ci(0,0,0|G,0|H),Y=0|V(),((0|(F?q:K))==(0|(U?f:m))?(0|(F?j:J))==(0|(U?_:g)):0)&((0|(F?C:e?d:~C))==(0|(U?G:O?v:~G))?(0|(F?L:e?N:~L))==(0|(U?H:O?Y:~H)):0)){u=0;break}P=72;break}if(O=0|pi(0|C,0|v,0|g,0|d),H=0|V(),(0|O)==(0|(Y=0|pi(0|(L=0|Ci(0|t,0|E,0|m,0|_)),0|(U=0|V()),0|(Y=0|Ci(0|c,0|f,0|M,0|R)),0|V())))&(0|H)==(0|V())){u=0;break}P=72;break}P=72}while(0);do{if(72==(0|P)){q=8+(l=0|A[Q+28>>2])|0;t:do{if((0|A[q>>2])==(0|u)&&(0|A[q+4>>2])==(0|h))do{if((0|l)==(0|Q)|((0|A[(q=l+16|0)>>2])!=(0|I)?1:(0|A[q+4>>2])!=(0|B)))break t;q=8+(l=0|A[l+28>>2])|0}while((0|A[q>>2])==(0|u)&&(0|A[q+4>>2])==(0|h))}while(0);if(m=0|A[(_=l+16|0)>>2],(0|B)<(0|(_=0|A[_+4>>2]))|(0|B)==(0|_)&I>>>0<m>>>0)return mt=a,0;if(g=0|A[(d=l+8|0)>>2],d=0|A[d+4>>2],c=0|Ci(0|I,0|B,0|m,0|_),f=0|V(),u=0|Ci(0|g,0|d,0|p,0|y),h=0|V(),x<<24>>24){if(B=(0|f)<0,v=0|Bi(0|c,0|f,63),V(),O=(0|h)<0,U=0|Bi(0|u,0|h,63),V(),U=(0|v)==(0|U),v=0|Ci(0,0,0|c,0|f),x=0|V(),v=B?v:c,x=B?x:f,B=0|Ci(0,0,0|u,0|h),e=0|V(),B=O?B:u,O=0|pi(0|(e=O?e:h),0,0|x,0),I=0|V(),P=0|pi(0|B,0,0|v,0),H=0|V(),v=0|yi(0|(x=0|pi(0|B,0,0|x,0)),0|(B=0|V()),0|(v=0|pi(0|e,0,0|v,0)),0|V()),I=0|yi(0|V(),0,0|O,0|I),O=0|V(),v=0|yi(0,0|v,0|P,0|H),P=0|yi(0|I,0|O,1&((B=0|V())>>>0<H>>>0|(0|B)==(0|H)&v>>>0<P>>>0)|0,0),H=0|V(),O=0==(0|v)&0==(0|B),I=0|Ci(0,0,0|v,0|B),x=0|V(),e=0|Ci(0,0,0|P,0|H),Y=0|V(),N=0|Ci(0|t,0|E,0|g,0|d),G=0|V(),F=0|Ci(0|m,0|_,0|M,0|R),M=0|V(),j=(0|G)<0,q=0|Bi(0|N,0|G,63),V(),R=(0|M)<0,J=0|Bi(0|F,0|M,63),V(),J=(0|q)==(0|J),q=0|Ci(0,0,0|N,0|G),L=0|V(),N=j?q:N,G=j?L:G,L=0|Ci(0,0,0|F,0|M),j=0|V(),F=R?L:F,j=0|pi(0|G,0,0|(M=R?j:M),0),R=0|V(),L=0|pi(0|N,0,0|F,0),q=0|V(),M=0|yi(0|(F=0|pi(0|G,0,0|F,0)),0|(G=0|V()),0|(M=0|pi(0|N,0,0|M,0)),0|V()),R=0|yi(0|V(),0,0|j,0|R),j=0|V(),M=0|yi(0,0|M,0|L,0|q),L=0|yi(0|R,0|j,1&((G=0|V())>>>0<q>>>0|(0|G)==(0|q)&M>>>0<L>>>0)|0,0),q=0|V(),j=0==(0|M)&0==(0|G),R=0|Ci(0,0,0|M,0|G),F=0|V(),N=0|Ci(0,0,0|L,0|q),K=0|V(),((0|(U?v:I))==(0|(J?M:R))?(0|(U?B:x))==(0|(J?G:F)):0)&((0|(U?P:O?e:~P))==(0|(J?L:j?N:~L))?(0|(U?H:O?Y:~H))==(0|(J?q:j?K:~q)):0)){u=1;break}return mt=a,0}if(j=0|pi(0|u,0|h,0|c,0|f),q=0|V(),(0|j)==(0|(K=0|pi(0|(H=0|Ci(0|t,0|E,0|g,0|d)),0|(J=0|V()),0|(K=0|Ci(0|m,0|_,0|M,0|R)),0|V())))&(0|q)==(0|V())){u=1;break}return mt=a,0}}while(0);return(0|S)==(0|l)|(0|S)==(0|T)|(0|l)==(0|Q)?(mt=a,0|(q=0)):(0|i)!=(0|n)|k^u?(l=0|ei(32),A[(q=l+8|0)>>2]=A[s>>2],A[q+4>>2]=A[s+4>>2],A[q+8>>2]=A[s+8>>2],A[q+12>>2]=A[s+12>>2],A[l>>2]=A[T>>2],k?(A[l+28>>2]=q=0|A[(j=T+28|0)>>2],A[(K=l+24|0)>>2]=T,A[q+24>>2]=l,A[j>>2]=l,q=0|ei(32),A[(J=q+8|0)>>2]=A[b>>2],A[J+4>>2]=A[b+4>>2],A[J+8>>2]=A[b+8>>2],A[J+12>>2]=A[b+12>>2],A[q>>2]=A[Q>>2],A[q+24>>2]=J=0|A[w>>2],A[J+28>>2]=q,A[j>>2]=Q,A[w>>2]=T,A[K>>2]=q,A[q+28>>2]=l,A[o>>2]=l,mt=a,0|(q=1)):(A[l+24>>2]=q=0|A[D>>2],A[(K=l+28|0)>>2]=T,A[q+28>>2]=l,A[D>>2]=l,q=0|ei(32),A[(j=q+8|0)>>2]=A[b>>2],A[j+4>>2]=A[b+4>>2],A[j+8>>2]=A[b+8>>2],A[j+12>>2]=A[b+12>>2],A[q>>2]=A[Q>>2],A[q+28>>2]=J=0|A[(j=Q+28|0)>>2],A[J+24>>2]=q,A[D>>2]=Q,A[j>>2]=T,A[K>>2]=q,A[q+24>>2]=l,A[o>>2]=l,mt=a,0|(q=1))):(mt=a,0|(q=0))}if(m=0|A[(_=e+8|0)>>2],_=0|A[_+4>>2],(0|m)==(0|A[(q=s)>>2])&&(0|_)==(0|A[q+4>>2])&&(0|m)==(0|A[(q=d=Q+8|0)>>2])&&(0|_)==(0|A[q+4>>2])&&(0|N)==(0|A[(q=g=Q+16|0)>>2])&&(0|L)==(0|A[q+4>>2])){if((0|i)!=(0|n))return mt=a,0;if((0|(l=0|A[(f=T+24|0)>>2]))==(0|T))l=L,u=N;else{for(u=l;l=u+16|0,(0|A[(q=u+8|0)>>2])==(0|m)&&(0|A[q+4>>2])==(0|_);){if((0|A[(q=l)>>2])!=(0|N)||(0|A[q+4>>2])!=(0|L)){P=12;break}if((0|(l=0|A[u+24>>2]))==(0|T)){l=h;break}u=l}12==(0|P)&&(l=u+16|0),l=0|A[(u=l)+4>>2],u=0|A[u>>2]}if(c=(0|l)>(0|L)|(0|l)==(0|L)&u>>>0>N>>>0,(0|(l=0|A[(h=Q+24|0)>>2]))==(0|Q)){if(!c)return mt=a,0}else{for(u=l;l=u+16|0,(0|A[(q=u+8|0)>>2])==(0|m)&&(0|A[q+4>>2])==(0|_);){if((0|A[(q=l)>>2])!=(0|N)||(0|A[q+4>>2])!=(0|L)){P=20;break}if((0|(l=0|A[u+24>>2]))==(0|Q)){l=g;break}u=l}if(20==(0|P)&&(l=u+16|0),!(c^((0|(K=0|A[(q=l)+4>>2]))>(0|L)|((0|K)==(0|L)?(0|A[q>>2])>>>0>N>>>0:0))))return mt=a,0}return l=0|ei(32),A[(q=l+8|0)>>2]=A[s>>2],A[q+4>>2]=A[s+4>>2],A[q+8>>2]=A[s+8>>2],A[q+12>>2]=A[s+12>>2],A[l>>2]=A[T>>2],c?(A[l+28>>2]=q=0|A[(j=T+28|0)>>2],A[(K=l+24|0)>>2]=T,A[q+24>>2]=l,A[j>>2]=l,q=0|ei(32),A[(J=q+8|0)>>2]=A[d>>2],A[J+4>>2]=A[d+4>>2],A[J+8>>2]=A[d+8>>2],A[J+12>>2]=A[d+12>>2],A[q>>2]=A[Q>>2],A[q+24>>2]=J=0|A[h>>2],A[J+28>>2]=q,A[j>>2]=Q,A[h>>2]=T,A[K>>2]=q,A[q+28>>2]=l,A[o>>2]=l,mt=a,0|(q=1)):(A[l+24>>2]=q=0|A[f>>2],A[(K=l+28|0)>>2]=T,A[q+28>>2]=l,A[f>>2]=l,q=0|ei(32),A[(j=q+8|0)>>2]=A[d>>2],A[j+4>>2]=A[d+4>>2],A[j+8>>2]=A[d+8>>2],A[j+12>>2]=A[d+12>>2],A[q>>2]=A[Q>>2],A[q+28>>2]=J=0|A[(j=Q+28|0)>>2],A[J+24>>2]=q,A[f>>2]=Q,A[j>>2]=T,A[K>>2]=q,A[q+24>>2]=l,A[o>>2]=l,mt=a,0|(q=1))}for(i=T;!((0|(l=0|A[i+28>>2]))==(0|Q)|(0|l)==(0|T)|((0|A[(q=l+16|0)>>2])!=(0|N)?1:(0|A[q+4>>2])!=(0|L)));)i=l;for(M=N,R=L;(0|(l=0|A[T+24>>2]))!=(0|Q)&(1^((c=(0|l)==(0|i))|(0|(u=0|A[(h=l+16|0)>>2]))!=(0|M)|(0|(h=0|A[h+4>>2]))!=(0|R)));)T=l,M=u,R=h;if(c|(0|l)==(0|Q))return mt=a,0;for(k=0|A[(l=Q+16|0)>>2],l=0|A[l+4>>2],D=Q;!((0|(u=0|A[D+28>>2]))==(0|T)|(0|u)==(0|Q)|((0|A[(q=u+16|0)>>2])!=(0|k)?1:(0|A[q+4>>2])!=(0|l)));)D=u;for(x=k,S=l;(0|(u=0|A[Q+24>>2]))!=(0|i)&(1^((f=(0|u)==(0|D))|(0|(h=0|A[(c=u+16|0)>>2]))!=(0|x)|(0|(c=0|A[c+4>>2]))!=(0|S)));)Q=u,x=h,S=c;if(f|(0|u)==(0|i))return mt=a,0;u=0|A[(c=h=i+8|0)>>2],f=0|A[(m=E=T+8|0)>>2],_=0|A[(g=w=D+8|0)>>2],d=0|A[(p=b=Q+8|0)>>2],y=(0|(c=0|A[c+4>>2]))<(0|(m=0|A[m+4>>2]))|(0|c)==(0|m)&u>>>0<f>>>0,C=(0|(g=0|A[g+4>>2]))<(0|(p=0|A[p+4>>2]))|(0|g)==(0|p)&_>>>0<d>>>0;do{if(y){if(C){v=(B=(0|c)<(0|g)|(0|c)==(0|g)&u>>>0<_>>>0)?g:c,I=(t=(0|p)<(0|m)|(0|p)==(0|m)&d>>>0<f>>>0)?p:m,B=B?_:u,t=t?d:f;break}v=(B=(0|c)<(0|p)|(0|c)==(0|p)&u>>>0<d>>>0)?p:c,I=(t=(0|g)<(0|m)|(0|g)==(0|m)&_>>>0<f>>>0)?g:m,B=B?d:u,t=t?_:f;break}if(C){v=(B=(0|m)<(0|g)|(0|m)==(0|g)&f>>>0<_>>>0)?g:m,I=(t=(0|p)<(0|c)|(0|p)==(0|c)&d>>>0<u>>>0)?p:c,B=B?_:f,t=t?d:u;break}v=(B=(0|m)<(0|p)|(0|m)==(0|p)&f>>>0<d>>>0)?p:m,I=(t=(0|g)<(0|c)|(0|g)==(0|c)&_>>>0<u>>>0)?g:c,B=B?d:f,t=t?_:u;break}while(0);if(!((0|v)<(0|I)|(0|v)==(0|I)&B>>>0<t>>>0))return mt=a,0;do{if((0|c)>(0|I)|(0|c)==(0|I)&u>>>0>t>>>0|(0|c)<(0|v)|(0|c)==(0|v)&u>>>0<B>>>0){if((0|g)>(0|I)|(0|g)==(0|I)&_>>>0>t>>>0|(0|g)<(0|v)|(0|g)==(0|v)&_>>>0<B>>>0){c=(l=(0|m)>(0|I)|(0|m)==(0|I)&f>>>0>t>>>0|(0|m)<(0|v)|(0|m)==(0|v)&f>>>0<B>>>0)?C:y,h=l?b:E,u=l?x:M,l=l?S:R;break}c=(0|g)>(0|p)|(0|g)==(0|p)&_>>>0>d>>>0,h=w,u=k;break}c=(0|c)>(0|m)|(0|c)==(0|m)&u>>>0>f>>>0,u=N,l=L}while(0);return j=0|A[(K=h)>>2],K=0|A[K+4>>2],A[e>>2]=i,A[o>>2]=D,A[(q=F)>>2]=j,A[q+4>>2]=K,A[(q=F+8|0)>>2]=u,A[q+4>>2]=l,A[G>>2]=A[F>>2],A[G+4>>2]=A[F+4>>2],A[G+8>>2]=A[F+8>>2],A[G+12>>2]=A[F+12>>2],q=0|function(t,e,i,n,r,s){s|=0;var o,a,l=0,u=0,h=0,c=0,f=0,m=0,_=0,g=0,d=0,p=0,y=0,C=0,v=0,I=0,B=0,E=0,w=0,b=0,x=0;if(o=0|A[(m=8+(t|=0)|0)>>2],x=(0|(m=0|A[m+4>>2]))<(0|(C=0|A[4+(x=8+(e|=0)|0)>>2]))|((0|m)==(0|C)?o>>>0<=(0|A[x>>2])>>>0:0),a=0|A[(C=8+(i|=0)|0)>>2],!(x^(y=(0|(C=0|A[C+4>>2]))<(0|(f=0|A[4+(y=8+(n|=0)|0)>>2]))|((0|C)==(0|f)?a>>>0<=(0|A[y>>2])>>>0:0))))return 0;c=0|A[(f=8+(n=0|A[t+24>>2])|0)>>2],f=0|A[f+4>>2],e=0|A[(u=r|=0)>>2],u=0|A[u+4>>2];do{if(x){t:do{if(!((0|f)>(0|u)|(0|f)==(0|u)&c>>>0>e>>>0||(p=r+8|0,d=0|A[p>>2],p=0|A[p+4>>2],(0|f)<(0|m)|(0|f)==(0|m)&c>>>0<o>>>0)))for(;;){if((0|A[(g=n+16|0)>>2])!=(0|d)||(0|A[g+4>>2])!=(0|p))break t;if(t=0|A[(c=8+(f=0|A[n+24>>2])|0)>>2],(0|(c=0|A[c+4>>2]))>(0|u)|(0|c)==(0|u)&t>>>0>e>>>0){t=n,n=f;break t}if((0|c)<(0|(_=0|A[4+(g=n+8|0)>>2]))|((0|c)==(0|_)?t>>>0<(0|A[g>>2])>>>0:0)){t=n,n=f;break}t=n,n=f}}while(0);if(s&&(t=(0|A[(p=t+8|0)>>2])==(0|e)&&(0|A[p+4>>2])==(0|u)?t:n),f=0|ei(32),A[(n=f+8|0)>>2]=A[(c=t+8|0)>>2],A[n+4>>2]=A[c+4>>2],A[n+8>>2]=A[c+8>>2],A[n+12>>2]=A[c+12>>2],A[f>>2]=c=0|A[t>>2],s?(A[f+28>>2]=d=0|A[(p=t+28|0)>>2],A[f+24>>2]=t,A[d+24>>2]=f,A[p>>2]=f):(A[f+24>>2]=d=0|A[(p=t+24|0)>>2],A[f+28>>2]=t,A[d+28>>2]=f,A[p>>2]=f),(0|A[(p=n)>>2])==(0|e)&&(0|A[p+4>>2])==(0|u)&&(0|A[(d=f+16|0)>>2])==(0|A[(p=r+8|0)>>2])&&(0|A[d+4>>2])==(0|A[p+4>>2])){m=f,f=t;break}if(A[n>>2]=A[r>>2],A[n+4>>2]=A[r+4>>2],A[n+8>>2]=A[r+8>>2],A[n+12>>2]=A[r+12>>2],n=0|ei(32),A[(p=n+8|0)>>2]=A[r>>2],A[p+4>>2]=A[r+4>>2],A[p+8>>2]=A[r+8>>2],A[p+12>>2]=A[r+12>>2],A[n>>2]=c,s){A[n+28>>2]=p=0|A[(m=f+28|0)>>2],A[n+24>>2]=f,A[p+24>>2]=n,A[m>>2]=n,m=n;break}A[n+24>>2]=p=0|A[(m=f+24|0)>>2],A[n+28>>2]=f,A[p+28>>2]=n,A[m>>2]=n,m=n;break}t:do{if(!((0|f)<(0|u)|(0|f)==(0|u)&c>>>0<e>>>0||(g=r+8|0,_=0|A[g>>2],g=0|A[g+4>>2],(0|f)>(0|m)|(0|f)==(0|m)&c>>>0>o>>>0)))for(;;){if((0|A[(p=n+16|0)>>2])!=(0|_)||(0|A[p+4>>2])!=(0|g))break t;if(t=0|A[(c=8+(f=0|A[n+24>>2])|0)>>2],(0|(c=0|A[c+4>>2]))<(0|u)|(0|c)==(0|u)&t>>>0<e>>>0){t=n,n=f;break t}if((0|c)>(0|(d=0|A[4+(p=n+8|0)>>2]))|((0|c)==(0|d)?t>>>0>(0|A[p>>2])>>>0:0)){t=n,n=f;break}t=n,n=f}}while(0);if(s||(t=(0|A[(p=t+8|0)>>2])==(0|e)&&(0|A[p+4>>2])==(0|u)?t:n),f=0|ei(32),A[(n=f+8|0)>>2]=A[(c=t+8|0)>>2],A[n+4>>2]=A[c+4>>2],A[n+8>>2]=A[c+8>>2],A[n+12>>2]=A[c+12>>2],A[f>>2]=c=0|A[t>>2],s?(A[f+24>>2]=d=0|A[(p=t+24|0)>>2],A[f+28>>2]=t,A[d+28>>2]=f,A[p>>2]=f):(A[f+28>>2]=d=0|A[(p=t+28|0)>>2],A[f+24>>2]=t,A[d+24>>2]=f,A[p>>2]=f),(0|A[(p=n)>>2])==(0|e)&&(0|A[p+4>>2])==(0|u)&&(0|A[(d=f+16|0)>>2])==(0|A[(p=r+8|0)>>2])&&(0|A[d+4>>2])==(0|A[p+4>>2])){m=f,f=t;break}if(A[n>>2]=A[r>>2],A[n+4>>2]=A[r+4>>2],A[n+8>>2]=A[r+8>>2],A[n+12>>2]=A[r+12>>2],n=0|ei(32),A[(p=n+8|0)>>2]=A[r>>2],A[p+4>>2]=A[r+4>>2],A[p+8>>2]=A[r+8>>2],A[p+12>>2]=A[r+12>>2],A[n>>2]=c,s){A[n+24>>2]=p=0|A[(m=f+24|0)>>2],A[n+28>>2]=f,A[p+28>>2]=n,A[m>>2]=n,m=n;break}A[n+28>>2]=p=0|A[(m=f+28|0)>>2],A[n+24>>2]=f,A[p+24>>2]=n,A[m>>2]=n,m=n;break}while(0);t=0|A[(c=8+(n=0|A[i+24>>2])|0)>>2],c=0|A[c+4>>2];do{if(y){t:do{if((0|c)>(0|u)|(0|c)==(0|u)&t>>>0>e>>>0||(v=0|A[(I=r+8|0)>>2],I=0|A[I+4>>2],h=0|A[(l=r)>>2],l=0|A[l+4>>2],(0|c)<(0|C)|(0|c)==(0|C)&t>>>0<a>>>0))h=e,l=u;else for(t=n;;){if((0|A[(b=t+16|0)>>2])!=(0|v)||(0|A[b+4>>2])!=(0|I)){n=t,h=e,l=u;break t}if(i=0|A[(e=8+(n=0|A[t+24>>2])|0)>>2],(0|(e=0|A[e+4>>2]))>(0|l)|(0|e)==(0|l)&i>>>0>h>>>0){i=t;break t}if((0|e)<(0|(w=0|A[4+(b=t+8|0)>>2]))|((0|e)==(0|w)?i>>>0<(0|A[b>>2])>>>0:0)){i=t;break}i=t,t=n,e=h,u=l}}while(0);if(s&&(i=(0|A[(b=i+8|0)>>2])==(0|h)&&(0|A[b+4>>2])==(0|l)?i:n),u=0|ei(32),A[(e=u+8|0)>>2]=A[(n=i+8|0)>>2],A[e+4>>2]=A[n+4>>2],A[e+8>>2]=A[n+8>>2],A[e+12>>2]=A[n+12>>2],A[u>>2]=n=0|A[i>>2],s?(A[u+28>>2]=w=0|A[(b=i+28|0)>>2],A[u+24>>2]=i,A[w+24>>2]=u,A[b>>2]=u):(A[u+24>>2]=w=0|A[(b=i+24|0)>>2],A[u+28>>2]=i,A[w+28>>2]=u,A[b>>2]=u),(0|A[(b=e)>>2])==(0|h)&&(0|A[b+4>>2])==(0|l)&&(0|A[(w=u+16|0)>>2])==(0|A[(b=r+8|0)>>2])&&(0|A[w+4>>2])==(0|A[b+4>>2])){e=u,n=68;break}if(A[e>>2]=A[r>>2],A[e+4>>2]=A[r+4>>2],A[e+8>>2]=A[r+8>>2],A[e+12>>2]=A[r+12>>2],e=0|ei(32),A[(b=e+8|0)>>2]=A[r>>2],A[b+4>>2]=A[r+4>>2],A[b+8>>2]=A[r+8>>2],A[b+12>>2]=A[r+12>>2],A[e>>2]=n,s){if(A[e+28>>2]=b=0|A[(r=u+28|0)>>2],A[e+24>>2]=u,A[b+24>>2]=e,A[r>>2]=e,x^s){i=u,n=70;break}i=u,n=69;break}if(A[e+24>>2]=b=0|A[(r=u+24|0)>>2],A[e+28>>2]=u,A[b+28>>2]=e,A[r>>2]=e,x^s){i=u,n=70;break}i=u,n=69;break}t:do{if((0|c)<(0|u)|(0|c)==(0|u)&t>>>0<e>>>0||(B=0|A[(E=r+8|0)>>2],E=0|A[E+4>>2],w=0|A[(b=r)>>2],b=0|A[b+4>>2],(0|c)>(0|C)|(0|c)==(0|C)&t>>>0>a>>>0))h=e,l=u;else for(h=e,l=u;;){if((0|A[(I=n+16|0)>>2])!=(0|B)||(0|A[I+4>>2])!=(0|E))break t;if(i=0|A[(e=8+(l=0|A[n+24>>2])|0)>>2],(0|(e=0|A[e+4>>2]))<(0|b)|(0|e)==(0|b)&i>>>0<w>>>0){i=n,n=l,h=w,l=b;break t}if((0|e)>(0|(v=0|A[4+(I=n+8|0)>>2]))|((0|e)==(0|v)?i>>>0>(0|A[I>>2])>>>0:0)){i=n,n=l,h=w,l=b;break}i=n,n=l,h=w,l=b}}while(0);if(s||(i=(0|A[(b=i+8|0)>>2])==(0|h)&&(0|A[b+4>>2])==(0|l)?i:n),u=0|ei(32),A[(e=u+8|0)>>2]=A[(n=i+8|0)>>2],A[e+4>>2]=A[n+4>>2],A[e+8>>2]=A[n+8>>2],A[e+12>>2]=A[n+12>>2],A[u>>2]=n=0|A[i>>2],s?(A[u+24>>2]=w=0|A[(b=i+24|0)>>2],A[u+28>>2]=i,A[w+28>>2]=u,A[b>>2]=u):(A[u+28>>2]=w=0|A[(b=i+28|0)>>2],A[u+24>>2]=i,A[w+24>>2]=u,A[b>>2]=u),(0|A[(b=e)>>2])==(0|h)&&(0|A[b+4>>2])==(0|l)&&(0|A[(w=u+16|0)>>2])==(0|A[(b=r+8|0)>>2])&&(0|A[w+4>>2])==(0|A[b+4>>2])){e=u,n=68;break}if(A[e>>2]=A[r>>2],A[e+4>>2]=A[r+4>>2],A[e+8>>2]=A[r+8>>2],A[e+12>>2]=A[r+12>>2],e=0|ei(32),A[(b=e+8|0)>>2]=A[r>>2],A[b+4>>2]=A[r+4>>2],A[b+8>>2]=A[r+8>>2],A[b+12>>2]=A[r+12>>2],A[e>>2]=n,s){if(A[e+24>>2]=r=0|A[(s=u+24|0)>>2],A[e+28>>2]=u,A[r+28>>2]=e,A[s>>2]=e,x){i=u,n=69;break}i=u,n=70;break}if(A[e+28>>2]=r=0|A[(s=u+28|0)>>2],A[e+24>>2]=u,A[r+24>>2]=e,A[s>>2]=e,x){i=u,n=70;break}i=u,n=69;break}while(0);return 68==(0|n)&&(n=x^s?70:69),69==(0|n)?(A[f+28>>2]=i,A[i+24>>2]=f,A[m+24>>2]=e,A[e+28>>2]=m,0|(s=1)):70==(0|n)?(A[f+24>>2]=i,A[i+28>>2]=f,A[m+28>>2]=e,A[e+24>>2]=m,0|(s=1)):0}(i,T,D,Q,G,c),mt=a,0|q}function Ct(t,e,i){e|=0;var n,r,s,o,a,l=0,u=0,h=0,c=0,f=0,m=0,_=0;if(a=0|A[8+(i|=0)>>2],l=0|A[44+(t|=0)>>2],r=t=0|A[t+40>>2],(0|l)!=(0|t)){s=e+16|0,o=i+16|0,n=l-t>>2,f=0;do{m=0|A[16+(t=0|A[r+(f<<2)>>2])>>2];do{if(!((0|t)==(0|e)|(0|t)==(0|i)|0==(0|m))){c=0|A[(h=t+8|0)>>2];t:do{if(c)for(t=c;;){if(0|A[t+16>>2])break t;if(!(t=0|A[t+8>>2])){t=0;break}}else t=0}while(0);if((0|t)==(0|i)|(0|t)==(0|a)|(0|t)==(0|e)){l=0|A[s>>2],t=m;do{if((0|(u=0|jt(t+8|0,l)))>-1){_=13;break}t=0|A[t+24>>2]}while((0|t)!=(0|m));if(13==(0|_)&&(_=0,0==(0|u))){l=0|A[o>>2],t=m;do{if((0|(u=0|jt(t+8|0,l)))>-1){_=18;break}t=0|A[t+24>>2]}while((0|t)!=(0|m));if(18==(0|_)&&(_=0,0==(0|u))){if(!((0|c)==(0|e)|(0|c)==(0|i)))break;A[h>>2]=a;break}A[h>>2]=i;break}A[h>>2]=e}}}while(0);f=f+1|0}while(f>>>0<n>>>0)}}function vt(t,e,i,n){t|=0,i|=0,n|=0;var s,o,a,l=0,u=0,h=0,c=0,f=0,m=0,_=0,g=0,d=0,p=0,y=0,C=0,v=0;if(a=mt,mt=mt+16|0,C=a,c=((l=(0|A[4+(e|=0)>>2])-(f=0|A[e>>2])|0)>>4)-1|0,(0|l)<16)mt=a;else{o=0|ei(48),A[o>>2]=4016,A[(v=o+4|0)>>2]=0,A[v+4>>2]=0,A[v+8>>2]=0,A[v+12>>2]=0,A[v+16>>2]=0,A[v+20>>2]=0,A[v+24>>2]=0,A[v+28>>2]=0,r[v+32>>0]=0,A[o+40>>2]=i,A[o+44>>2]=n,s=0==(0|n);t:do{if(n>>>0<2&16!=(0|l))for(l=0|A[(u=f)>>2],u=0|A[u+4>>2],h=f+8|0,i=c;;){if((0|l)!=(0|A[(p=f+(i<<4)|0)>>2])||(0|u)!=(0|A[p+4>>2]))break t;if((0|A[(d=h)>>2])!=(0|A[(p=f+(i<<4)+8|0)>>2])||(0|A[d+4>>2])!=(0|A[p+4>>2]))break t;if(n=i+-1|0,!((0|i)>1)){i=n;break}i=n}else i=c}while(0);if(dt(v,g=i+1|0),n=0|A[e>>2],(0|(l=0|A[(d=o+8|0)>>2]))==(0|A[(p=o+12|0)>>2])?Vt(v,n):(A[l>>2]=A[n>>2],A[l+4>>2]=A[n+4>>2],A[l+8>>2]=A[n+8>>2],A[l+12>>2]=A[n+12>>2],A[d>>2]=16+(0|A[d>>2])),(0|i)<1)p=0,i=0;else for(_=1,m=0,i=0,u=0|A[e>>2],n=0|A[v>>2];;){(0|A[(c=n+(i<<4)|0)>>2])==(0|A[(f=l=u+(_<<4)|0)>>2])&&(0|A[c+4>>2])==(0|A[f+4>>2])&&(0|A[(c=n+(i<<4)+8|0)>>2])==(0|A[(f=u+(_<<4)+8|0)>>2])&&(0|A[c+4>>2])==(0|A[f+4>>2])?(h=m,l=u):y=15;do{if(15==(0|y)){if(y=0,i=i+1|0,(0|(n=0|A[d>>2]))==(0|A[p>>2])?Vt(v,l):(A[n>>2]=A[l>>2],A[n+4>>2]=A[l+4>>2],A[n+8>>2]=A[l+8>>2],A[n+12>>2]=A[l+12>>2],A[d>>2]=16+(0|A[d>>2])),l=0|A[(u=(f=0|A[e>>2])+(_<<4)+8|0)>>2],h=0|A[(c=(n=0|A[v>>2])+(m<<4)+8|0)>>2],!((0|(u=0|A[u+4>>2]))>(0|(c=0|A[c+4>>2]))|(0|u)==(0|c)&l>>>0>h>>>0)){if(!((0|l)==(0|h)&(0|u)==(0|c))){h=m,l=f;break}if(!((0|(l=0|A[4+(h=f+(_<<4)|0)>>2]))<(0|(u=0|A[4+(c=n+(m<<4)|0)>>2]))|((0|l)==(0|u)?(0|A[h>>2])>>>0<(0|A[c>>2])>>>0:0))){h=m,l=f;break}}h=i,l=f}}while(0);if((0|(_=_+1|0))==(0|g)){p=h;break}m=h,u=l}if(s&(0|i)<2)return rn[63&A[4+(0|A[o>>2])>>2]](o),void(mt=a);if(n=(i=0|A[(d=t+148|0)>>2])-(0|A[(l=t+144|0)>>2])>>2,A[C>>2]=o,(0|A[t+152>>2])>>>0>i>>>0?(A[i>>2]=o,A[d>>2]=4+(0|A[d>>2])):Gt(l,C),A[o+28>>2]=t+128,A[o+32>>2]=n,s){if(i=0|A[(C=g=t+112|0)>>2],(0|A[C+4>>2])<0)return A[(v=g)>>2]=C=((0|A[d>>2])-(0|A[l>>2])>>2)-1|0,A[v+4>>2]=((0|C)<0)<<31>>31,A[(v=t+120|0)>>2]=p,A[v+4>>2]=((0|p)<0)<<31>>31,void(mt=a);if(h=0|A[(c=(f=0|A[4+(0|A[(u=0|A[t+144>>2])+(i<<2)>>2])>>2])+((m=0|A[(_=t+120|0)>>2])<<4)|0)>>2],c=0|A[c+4>>2],f=0|A[(m=f+(m<<4)+8|0)>>2],n=0|A[(l=(i=0|A[v>>2])+(p<<4)+8|0)>>2],!((0|(l=0|A[l+4>>2]))>(0|(m=0|A[m+4>>2]))|(0|l)==(0|m)&n>>>0>f>>>0)){if(!((0|n)==(0|f)&(0|l)==(0|m)))return void(mt=a);if(!((0|(t=0|A[4+(v=i+(p<<4)|0)>>2]))<(0|c)|((0|t)==(0|c)?(0|A[v>>2])>>>0<h>>>0:0)))return void(mt=a)}A[(v=g)>>2]=t=((0|A[d>>2])-u>>2)-1|0,A[v+4>>2]=((0|t)<0)<<31>>31,A[(v=_)>>2]=p,A[v+4>>2]=((0|p)<0)<<31>>31,mt=a}else mt=a}}function It(t){var e,i,n=0,r=0,s=0,o=0,a=0,l=0,u=0,h=0,c=0,f=0,m=0,_=0,g=0,d=0,p=0,y=0,C=0,v=0,I=0;if(i=mt,mt=mt+16|0,e=i,r=0|A[(m=112+(t|=0)|0)>>2],(0|(m=0|A[m+4>>2]))>-1|-1==(0|m)&r>>>0>4294967295)if(s=(m=(0|A[8+(m=0|A[(n=0|A[t+144>>2])+(r<<2)>>2])>>2])-(a=0|A[m+4>>2])|0)>>4,f=n,(0|m)>=48){r=0,o=0,l=0|A[4+(u=a+((c=s+-1|0)<<4)|0)>>2],u=0|A[u>>2],h=0|A[4+(c=a+(c<<4)+8|0)>>2],c=0|A[c>>2];do{o+=(+((v=u)>>>0)+4294967296*+(0|l)+(+((u=0|A[(I=a+(r<<4)|0)>>2])>>>0)+4294967296*+(0|(l=0|A[I+4>>2]))))*(+(c>>>0)+4294967296*+(0|(m=h))-(+((c=0|A[(I=a+(r<<4)+8|0)>>2])>>>0)+4294967296*+(0|(h=0|A[I+4>>2])))),r=r+1|0}while((0|r)<(0|s));if(!(-.5*o>=0)){if(g=t+144|0,((r=0|A[(_=t+148|0)>>2])-f|0)<=0)return void(mt=i);for(m=0,t=r;;){switch(0|A[44+(r=0|A[n+(m<<2)>>2])>>2]){case 0:n=0|A[r+4>>2],r=0|A[r+8>>2],C=15;break;case 1:if(c=(I=(v=0|A[r+8>>2])-(n=0|A[r+4>>2])|0)>>4,r=v,(0|I)>=48){s=0,o=0,a=0|A[4+(l=n+((h=c+-1|0)<<4)|0)>>2],l=0|A[l>>2],u=0|A[4+(h=n+(h<<4)+8|0)>>2],h=0|A[h>>2];do{o+=(+(l>>>0)+4294967296*+(0|a)+(+((l=0|A[(p=n+(s<<4)|0)>>2])>>>0)+4294967296*+(0|(a=0|A[p+4>>2]))))*(+((v=h)>>>0)+4294967296*+(0|(I=u))-(+((h=0|A[(p=n+(s<<4)+8|0)>>2])>>>0)+4294967296*+(0|(u=0|A[p+4>>2])))),s=s+1|0}while((0|s)<(0|c));-.5*o>=0?C=15:(r=f,n=t)}else C=15;break;default:r=f,n=t}if(15==(0|C))if(C=0,(0|n)!=(0|r)&&n>>>0<(y=r+-16|0)>>>0){r=y;do{A[e>>2]=A[n>>2],A[e+4>>2]=A[n+4>>2],A[e+8>>2]=A[n+8>>2],A[e+12>>2]=A[n+12>>2],A[n>>2]=A[r>>2],A[n+4>>2]=A[r+4>>2],A[n+8>>2]=A[r+8>>2],A[n+12>>2]=A[r+12>>2],A[r>>2]=A[e>>2],A[r+4>>2]=A[e+4>>2],A[r+8>>2]=A[e+8>>2],A[r+12>>2]=A[e+12>>2],n=n+16|0,r=r+-16|0}while(n>>>0<r>>>0);r=0|A[g>>2],n=0|A[_>>2]}else r=f,n=t;if((0|(m=m+1|0))>=(n-r>>2|0))break;f=r,t=n,n=r}return void(mt=i)}r=f}else r=f;else r=n=0|A[t+144>>2];if(m=t+144|0,((s=0|A[(f=t+148|0)>>2])-r|0)<=0)mt=i;else{for(c=0;;){if(1==(0|A[44+(n=0|A[n+(c<<2)>>2])>>2])&&(_=(I=(d=0|A[n+8>>2])-(g=0|A[n+4>>2])|0)>>4,(0|I)>=48)){n=0,o=0,a=0|A[4+(l=g+((h=_+-1|0)<<4)|0)>>2],l=0|A[l>>2],u=0|A[4+(h=g+(h<<4)+8|0)>>2],h=0|A[h>>2];do{o+=(+(l>>>0)+4294967296*+(0|a)+(+((l=0|A[(C=g+(n<<4)|0)>>2])>>>0)+4294967296*+(0|(a=0|A[C+4>>2]))))*(+((v=h)>>>0)+4294967296*+(0|(I=u))-(+((h=0|A[(C=g+(n<<4)+8|0)>>2])>>>0)+4294967296*+(0|(u=0|A[C+4>>2])))),n=n+1|0}while((0|n)<(0|_));if(!(-.5*o>=0|(0|g)==(0|d))&&(p=d+-16|0)>>>0>g>>>0){n=g,r=p;do{A[e>>2]=A[n>>2],A[e+4>>2]=A[n+4>>2],A[e+8>>2]=A[n+8>>2],A[e+12>>2]=A[n+12>>2],A[n>>2]=A[r>>2],A[n+4>>2]=A[r+4>>2],A[n+8>>2]=A[r+8>>2],A[n+12>>2]=A[r+12>>2],A[r>>2]=A[e>>2],A[r+4>>2]=A[e+4>>2],A[r+8>>2]=A[e+8>>2],A[r+12>>2]=A[e+12>>2],n=n+16|0,r=r+-16|0}while(n>>>0<r>>>0);r=0|A[m>>2],s=0|A[f>>2]}}if((0|(c=c+1|0))>=(s-r>>2|0))break;n=r}mt=i}}function Bt(t,e){e=+e;var i,n,r,s,o,a,l,u,h,c,f,m,g,d,p,y,w,x,Q,D,M,R,T,G,F,P,N,L=0,U=0,O=0,Y=0,H=0,J=0,j=0,K=0,q=0,z=0,X=0,W=0,Z=0,$=0,tt=0,et=0,it=0,nt=0,rt=0,st=0,ot=0,at=0,At=0,lt=0,ut=0,ht=0;if(N=mt,mt=mt+32|0,T=N+16|0,G=N,(0|(U=0|A[(P=20+(t|=0)|0)>>2]))!=(0|(H=0|A[(F=t+16|0)>>2])))do{O=U,0|(Y=0|A[(U=U+-12|0)>>2])&&(A[O+-8>>2]=Y,ni(Y))}while((0|U)!=(0|H));if(A[P>>2]=H,_[t+64>>3]=e,e>-1e-20&e<1e-20){if(gt(F,(0|A[(X=t+148|0)>>2])-(0|A[(z=t+144|0)>>2])>>2),((0|A[X>>2])-(U=0|A[z>>2])|0)<=0)return void(mt=N);W=t+24|0,q=0;t:for(;;){U=0|A[U+(q<<2)>>2];do{if(!(0|A[U+44>>2])){if(Y=U+4|0,(0|(Z=0|A[P>>2]))==(0|A[W>>2])){Tt(F,Y);break}if(A[Z>>2]=0,A[(K=Z+4|0)>>2]=0,A[(H=Z+8|0)>>2]=0,O=(U=(0|A[(J=U+8|0)>>2])-(0|A[Y>>2])|0)>>4,0|U){if(O>>>0>268435455){U=13;break t}j=0|ei(U),A[K>>2]=j,A[Z>>2]=j,A[H>>2]=j+(O<<4),(0|(U=(0|A[J>>2])-(O=0|A[Y>>2])|0))>0&&(bi(0|j,0|O,0|U),A[K>>2]=j+(U>>>4<<4))}A[P>>2]=12+(0|A[P>>2])}}while(0);if((0|(q=q+1|0))>=((0|A[X>>2])-(U=0|A[z>>2])>>2|0)){U=153;break}}if(13==(0|U))oi();else if(153==(0|U))return void(mt=N)}if(_[t+96>>3]=L=(L=+_[t>>3])>2?2/(L*L):.5,st=+_[t+8>>3],L=.25*(et=+v(+e)),st=3.141592653589793/+b(+(1-(st<=0?.25:st>L?L:st)/et)),L=+E(+(et=6.283185307179586/(st=st>(et*=3.141592653589793)?et:st))),_[(M=t+80|0)>>3]=L,et=+B(+et),_[(R=t+88|0)>>3]=et,_[t+104>>3]=st/6.283185307179586,e<0&&(_[M>>3]=-L),gt(F,(0|A[(D=t+148|0)>>2])-(0|A[(Q=t+144|0)>>2])>>1),((0|A[D>>2])-(U=0|A[Q>>2])|0)<=0)mt=N;else{i=t+28|0,n=t+32|0,r=!(e<=0),s=t+40|0,o=t+44|0,a=t+52|0,l=t+56|0,u=t+60|0,h=T+8|0,c=!(st>=1),f=t+24|0,m=T+8|0,g=t+48|0,d=T+8|0,p=T+8|0,y=G+8|0,w=t+72|0,x=t+40|0,rt=0;t:for(;;){(0|i)!=(0|(U=4+(nt=0|A[U+(rt<<2)>>2])|0))&&Ie(i,0|A[U>>2],0|A[nt+8>>2]),Z=(W=(0|A[n>>2])-(O=0|A[i>>2])|0)>>4;e:do{if(0|W){if(r){if(A[o>>2]=U=0|A[s>>2],Y=U,16==(0|W)){i:do{if(1==(0|A[nt+40>>2])){if(!c)for(tt=0,et=1,H=O,U=Y,Y=1,O=0;;){if(L=et*e+(+((0|A[(it=H)>>2])>>>0)+4294967296*+(0|A[it+4>>2])),it=+v(L+=L<0?-.5:.5)>=1?L>0?~~+k(+C(L/4294967296),4294967295)>>>0:~~+S((L-+(~~L>>>0))/4294967296)>>>0:0,$=tt*e+(+((0|A[(nt=H+8|0)>>2])>>>0)+4294967296*+(0|A[nt+4>>2])),nt=+v($+=$<0?-.5:.5)>=1?$>0?~~+k(+C($/4294967296),4294967295)>>>0:~~+S(($-+(~~$>>>0))/4294967296)>>>0:0,A[(ot=T)>>2]=~~L>>>0,A[ot+4>>2]=it,A[(ot=d)>>2]=~~$>>>0,A[ot+4>>2]=nt,U>>>0<(0|A[g>>2])>>>0?(A[U>>2]=A[T>>2],A[U+4>>2]=A[T+4>>2],A[U+8>>2]=A[T+8>>2],A[U+12>>2]=A[T+12>>2],A[o>>2]=16+(0|A[o>>2])):Be(s,T),L=+_[R>>3],$=+_[M>>3],!(st>=+((Y=0|yi(0|Y,0|O,1,0))>>>0)+4294967296*+(0|(O=0|V()))))break i;ht=et*L-tt*$,tt=tt*L+et*$,et=ht,H=0|A[i>>2],U=0|A[o>>2]}}else et=+((0|A[(it=O)>>2])>>>0)+4294967296*+(0|A[it+4>>2])-e,it=+v(et+=et<0?-.5:.5)>=1?et>0?~~+k(+C(et/4294967296),4294967295)>>>0:~~+S((et-+(~~et>>>0))/4294967296)>>>0:0,ht=+((0|A[(nt=O+8|0)>>2])>>>0)+4294967296*+(0|A[nt+4>>2])-e,nt=+v(ht+=ht<0?-.5:.5)>=1?ht>0?~~+k(+C(ht/4294967296),4294967295)>>>0:~~+S((ht-+(~~ht>>>0))/4294967296)>>>0:0,A[(ot=T)>>2]=~~et>>>0,A[ot+4>>2]=it,A[(ot=m)>>2]=~~ht>>>0,A[ot+4>>2]=nt,(0|A[g>>2])>>>0>Y>>>0?(A[U>>2]=A[T>>2],A[U+4>>2]=A[T+4>>2],A[U+8>>2]=A[T+8>>2],A[U+12>>2]=A[T+12>>2],A[o>>2]=U=16+(0|A[o>>2])|0):(Be(s,T),U=0|A[o>>2]),et=+((0|A[(it=nt=0|A[i>>2])>>2])>>>0)+4294967296*+(0|A[it+4>>2])+e,it=+v(et+=et<0?-.5:.5)>=1?et>0?~~+k(+C(et/4294967296),4294967295)>>>0:~~+S((et-+(~~et>>>0))/4294967296)>>>0:0,ht=+((0|A[(nt=nt+8|0)>>2])>>>0)+4294967296*+(0|A[nt+4>>2])-e,nt=+v(ht+=ht<0?-.5:.5)>=1?ht>0?~~+k(+C(ht/4294967296),4294967295)>>>0:~~+S((ht-+(~~ht>>>0))/4294967296)>>>0:0,A[(ot=T)>>2]=~~et>>>0,A[ot+4>>2]=it,A[(ot=m)>>2]=~~ht>>>0,A[ot+4>>2]=nt,U>>>0<(0|A[g>>2])>>>0?(A[U>>2]=A[T>>2],A[U+4>>2]=A[T+4>>2],A[U+8>>2]=A[T+8>>2],A[U+12>>2]=A[T+12>>2],A[o>>2]=U=16+(0|A[o>>2])|0):(Be(s,T),U=0|A[o>>2]),et=+((0|A[(it=nt=0|A[i>>2])>>2])>>>0)+4294967296*+(0|A[it+4>>2])+e,it=+v(et+=et<0?-.5:.5)>=1?et>0?~~+k(+C(et/4294967296),4294967295)>>>0:~~+S((et-+(~~et>>>0))/4294967296)>>>0:0,ht=+((0|A[(nt=nt+8|0)>>2])>>>0)+4294967296*+(0|A[nt+4>>2])+e,nt=+v(ht+=ht<0?-.5:.5)>=1?ht>0?~~+k(+C(ht/4294967296),4294967295)>>>0:~~+S((ht-+(~~ht>>>0))/4294967296)>>>0:0,A[(ot=T)>>2]=~~et>>>0,A[ot+4>>2]=it,A[(ot=m)>>2]=~~ht>>>0,A[ot+4>>2]=nt,U>>>0<(0|A[g>>2])>>>0?(A[U>>2]=A[T>>2],A[U+4>>2]=A[T+4>>2],A[U+8>>2]=A[T+8>>2],A[U+12>>2]=A[T+12>>2],A[o>>2]=U=16+(0|A[o>>2])|0):(Be(s,T),U=0|A[o>>2]),et=+((0|A[(it=nt=0|A[i>>2])>>2])>>>0)+4294967296*+(0|A[it+4>>2])-e,it=+v(et+=et<0?-.5:.5)>=1?et>0?~~+k(+C(et/4294967296),4294967295)>>>0:~~+S((et-+(~~et>>>0))/4294967296)>>>0:0,ht=+((0|A[(nt=nt+8|0)>>2])>>>0)+4294967296*+(0|A[nt+4>>2])+e,nt=+v(ht+=ht<0?-.5:.5)>=1?ht>0?~~+k(+C(ht/4294967296),4294967295)>>>0:~~+S((ht-+(~~ht>>>0))/4294967296)>>>0:0,A[(ot=T)>>2]=~~et>>>0,A[ot+4>>2]=it,A[(ot=m)>>2]=~~ht>>>0,A[ot+4>>2]=nt,U>>>0<(0|A[g>>2])>>>0?(A[U>>2]=A[T>>2],A[U+4>>2]=A[T+4>>2],A[U+8>>2]=A[T+8>>2],A[U+12>>2]=A[T+12>>2],A[o>>2]=16+(0|A[o>>2])):Be(s,T)}while(0);if((0|(ot=0|A[P>>2]))==(0|A[f>>2])){Tt(F,s);break}if(A[ot>>2]=0,A[(J=ot+4|0)>>2]=0,A[(O=ot+8|0)>>2]=0,Y=(U=(0|A[o>>2])-(0|A[s>>2])|0)>>4,0|U){if(Y>>>0>268435455){U=48;break t}H=0|ei(U),A[J>>2]=H,A[ot>>2]=H,A[O>>2]=H+(Y<<4),(0|(O=(0|A[o>>2])-(U=0|A[s>>2])|0))>0&&(bi(0|H,0|U,0|O),A[J>>2]=H+(O>>>4<<4))}A[P>>2]=12+(0|A[P>>2]);break}}else{if((0|W)<48)break;if(0|A[nt+44>>2])break;A[o>>2]=A[s>>2]}if(A[l>>2]=A[a>>2],Et(a,Z),U=Z+-1|0,it=(0|W)>16){X=0;do{z=X,(0|(O=0|A[(Y=(q=0|A[i>>2])+((X=X+1|0)<<4)|0)>>2]))==(0|(H=0|A[(J=q+(z<<4)|0)>>2]))&(0|(Y=0|A[Y+4>>2]))==(0|(J=0|A[J+4>>2]))&(0|(j=0|A[(K=q+(X<<4)+8|0)>>2]))==(0|(q=0|A[(z=q+(z<<4)+8|0)>>2]))&(0|(K=0|A[K+4>>2]))==(0|(z=0|A[z+4>>2]))?(A[T>>2]=0,A[T+4>>2]=0,A[T+8>>2]=0,A[T+12>>2]=0):(ht=+((J=0|Ci(0|O,0|Y,0|H,0|J))>>>0)+4294967296*+(0|V()),tt=+((z=0|Ci(0|j,0|K,0|q,0|z))>>>0)+4294967296*+(0|V()),et=1/+I(+(ht*ht+tt*tt)),_[T>>3]=et*tt,_[h>>3]=-et*ht),(O=0|A[l>>2])>>>0<(0|A[u>>2])>>>0?(A[O>>2]=A[T>>2],A[O+4>>2]=A[T+4>>2],A[O+8>>2]=A[T+8>>2],A[O+12>>2]=A[T+12>>2],A[l>>2]=16+(0|A[l>>2])):Ee(a,T)}while((0|X)<(0|U))}switch((0|A[(X=nt+44|0)>>2])>>>0<2?((0|(O=0|A[(Y=z=0|A[i>>2])>>2]))==(0|(H=0|A[(J=z+(U<<4)|0)>>2]))&(0|(Y=0|A[Y+4>>2]))==(0|(J=0|A[J+4>>2]))&(0|(j=0|A[(K=z+8|0)>>2]))==(0|(q=0|A[(z=z+(U<<4)+8|0)>>2]))&(0|(K=0|A[K+4>>2]))==(0|(z=0|A[z+4>>2]))?(A[T>>2]=0,A[T+4>>2]=0,A[T+8>>2]=0,A[T+12>>2]=0):(ht=+((J=0|Ci(0|O,0|Y,0|H,0|J))>>>0)+4294967296*+(0|V()),tt=+((z=0|Ci(0|j,0|K,0|q,0|z))>>>0)+4294967296*+(0|V()),et=1/+I(+(ht*ht+tt*tt)),_[T>>3]=et*tt,_[p>>3]=-et*ht),(O=0|A[l>>2])>>>0<(0|A[u>>2])>>>0?(A[O>>2]=A[T>>2],A[O+4>>2]=A[T+4>>2],A[O+8>>2]=A[T+8>>2],A[O+12>>2]=A[T+12>>2],A[l>>2]=16+(0|A[l>>2])):Ee(a,T)):(A[T>>2]=A[(O=(0|A[a>>2])+(Z+-2<<4)|0)>>2],A[T+4>>2]=A[O+4>>2],A[T+8>>2]=A[O+8>>2],A[T+12>>2]=A[O+12>>2],(O=0|A[l>>2])>>>0<(0|A[u>>2])>>>0?(A[O>>2]=A[T>>2],A[O+4>>2]=A[T+4>>2],A[O+8>>2]=A[T+8>>2],A[O+12>>2]=A[T+12>>2],A[l>>2]=16+(0|A[l>>2])):Ee(a,T)),0|(O=0|A[X>>2])){case 0:if(A[T>>2]=U,(0|W)>0){O=nt+40|0,U=0;do{wt(t,U,T,0|A[O>>2]),U=U+1|0}while((0|U)<(0|Z))}if((0|(lt=0|A[P>>2]))==(0|A[f>>2]))Tt(F,s);else{if(A[lt>>2]=0,A[(J=lt+4|0)>>2]=0,A[(O=lt+8|0)>>2]=0,Y=(U=(0|A[o>>2])-(0|A[s>>2])|0)>>4,0|U){if(Y>>>0>268435455){U=80;break t}H=0|ei(U),A[J>>2]=H,A[lt>>2]=H,A[O>>2]=H+(Y<<4),(0|(O=(0|A[o>>2])-(U=0|A[x>>2])|0))>0&&(bi(0|H,0|U,0|O),A[J>>2]=H+(O>>>4<<4))}A[P>>2]=12+(0|A[P>>2])}break e;case 1:if(A[T>>2]=U,K=(0|W)>0){Y=nt+40|0,O=0;do{wt(t,O,T,0|A[Y>>2]),O=O+1|0}while((0|O)<(0|Z))}if((0|(ut=0|A[P>>2]))==(0|A[f>>2]))Tt(F,s);else{if(A[ut>>2]=0,A[(j=ut+4|0)>>2]=0,A[(Y=ut+8|0)>>2]=0,H=(O=(0|A[o>>2])-(0|A[s>>2])|0)>>4,0|O){if(H>>>0>268435455){U=92;break t}J=0|ei(O),A[j>>2]=J,A[ut>>2]=J,A[Y>>2]=J+(H<<4),(0|(Y=(0|A[o>>2])-(O=0|A[x>>2])|0))>0&&(bi(0|J,0|O,0|Y),A[j>>2]=J+(Y>>>4<<4))}A[P>>2]=12+(0|A[P>>2])}if(A[o>>2]=A[s>>2],L=+_[(O=0|A[a>>2])+(U<<4)>>3],$=+_[O+(U<<4)+8>>3],it){Y=U;do{At=Y,ht=-+_[O+((Y=Y+-1|0)<<4)+8>>3],_[O+(At<<4)>>3]=-+_[O+(Y<<4)>>3],_[O+(At<<4)+8>>3]=ht,O=0|A[a>>2]}while((0|At)>1)}if(_[O>>3]=-L,_[O+8>>3]=-$,A[T>>2]=0,K)for(O=nt+40|0;wt(t,U,T,0|A[O>>2]),(0|U)>0;)U=U+-1|0;if((0|(At=0|A[P>>2]))==(0|A[f>>2]))Tt(F,s);else{A[At>>2]=0,A[(J=At+4|0)>>2]=0,A[(O=At+8|0)>>2]=0,Y=(U=(0|A[o>>2])-(0|A[s>>2])|0)>>4;do{if(0|U){if(Y>>>0>268435455){U=106;break t}if(H=0|ei(U),A[J>>2]=H,A[At>>2]=H,A[O>>2]=H+(Y<<4),(0|(O=(0|A[o>>2])-(U=0|A[x>>2])|0))<=0)break;bi(0|H,0|U,0|O),A[J>>2]=H+(O>>>4<<4)}}while(0);A[P>>2]=12+(0|A[P>>2])}break e;default:if(A[T>>2]=0,H=(0|W)>32){Y=nt+40|0,O=1;do{wt(t,O,T,0|A[Y>>2]),O=O+1|0}while((0|O)<(0|U));O=0|A[X>>2]}A[G>>2]=0,A[G+4>>2]=0,A[G+8>>2]=0,A[G+12>>2]=0;do{if(2==(0|O)){if(et=+_[(O=0|A[a>>2])+(U<<4)>>3]*e+(+((0|A[(W=(at=0|A[i>>2])+(U<<4)|0)>>2])>>>0)+4294967296*+(0|A[W+4>>2])),W=+v(et+=et<0?-.5:.5)>=1?et>0?~~+k(+C(et/4294967296),4294967295)>>>0:~~+S((et-+(~~et>>>0))/4294967296)>>>0:0,ht=+_[O+(U<<4)+8>>3]*e+(+((0|A[(at=at+(U<<4)+8|0)>>2])>>>0)+4294967296*+(0|A[at+4>>2])),at=+v(ht+=ht<0?-.5:.5)>=1?ht>0?~~+k(+C(ht/4294967296),4294967295)>>>0:~~+S((ht-+(~~ht>>>0))/4294967296)>>>0:0,A[(O=G)>>2]=~~et>>>0,A[O+4>>2]=W,A[(O=y)>>2]=~~ht>>>0,A[O+4>>2]=at,(0|(O=0|A[o>>2]))==(0|A[g>>2])?(Vt(s,G),O=0|A[o>>2]):(A[O>>2]=A[G>>2],A[O+4>>2]=A[G+4>>2],A[O+8>>2]=A[G+8>>2],A[O+12>>2]=A[G+12>>2],A[o>>2]=O=16+(0|A[o>>2])|0),et=+((0|A[(z=(at=0|A[i>>2])+(U<<4)|0)>>2])>>>0)+4294967296*+(0|A[z+4>>2])-+_[(W=0|A[a>>2])+(U<<4)>>3]*e,z=+v(et+=et<0?-.5:.5)>=1?et>0?~~+k(+C(et/4294967296),4294967295)>>>0:~~+S((et-+(~~et>>>0))/4294967296)>>>0:0,ht=+((0|A[(at=at+(U<<4)+8|0)>>2])>>>0)+4294967296*+(0|A[at+4>>2])-+_[W+(U<<4)+8>>3]*e,W=+v(ht+=ht<0?-.5:.5)>=1?ht>0?~~+k(+C(ht/4294967296),4294967295)>>>0:~~+S((ht-+(~~ht>>>0))/4294967296)>>>0:0,A[(at=G)>>2]=~~et>>>0,A[at+4>>2]=z,A[(at=y)>>2]=~~ht>>>0,A[at+4>>2]=W,(0|O)==(0|A[g>>2])){Vt(s,G);break}A[O>>2]=A[G>>2],A[O+4>>2]=A[G+4>>2],A[O+8>>2]=A[G+8>>2],A[O+12>>2]=A[G+12>>2],A[o>>2]=16+(0|A[o>>2]);break}if(A[T>>2]=O=Z+-2|0,_[w>>3]=0,W=(at=0|A[a>>2])+(U<<4)|0,ht=-+_[(at=at+(U<<4)+8|0)>>3],_[W>>3]=-+_[W>>3],_[at>>3]=ht,3==(0|A[X>>2])){bt(t,U,O);break}xt(t,U,O);break}while(0);if(it){O=U;do{at=O,ht=-+_[(it=0|A[a>>2])+((O=O+-1|0)<<4)+8>>3],_[it+(at<<4)>>3]=-+_[it+(O<<4)>>3],_[it+(at<<4)+8>>3]=ht}while((0|at)>1)}if(ht=-+_[24+(at=0|A[a>>2])>>3],_[at>>3]=-+_[at+16>>3],_[at+8>>3]=ht,A[T>>2]=U,H)for(O=nt+40|0,U=Z+-2|0;wt(t,U,T,0|A[O>>2]),(0|U)>1;)U=U+-1|0;U=0|A[X>>2];do{if(2==(0|U)){if(et=+((0|A[(nt=U=0|A[i>>2])>>2])>>>0)+4294967296*+(0|A[nt+4>>2])-+_[(at=0|A[a>>2])>>3]*e,nt=+v(et+=et<0?-.5:.5)>=1?et>0?~~+k(+C(et/4294967296),4294967295)>>>0:~~+S((et-+(~~et>>>0))/4294967296)>>>0:0,ht=+((0|A[(U=U+8|0)>>2])>>>0)+4294967296*+(0|A[U+4>>2])-+_[at+8>>3]*e,at=+v(ht+=ht<0?-.5:.5)>=1?ht>0?~~+k(+C(ht/4294967296),4294967295)>>>0:~~+S((ht-+(~~ht>>>0))/4294967296)>>>0:0,A[(U=G)>>2]=~~et>>>0,A[U+4>>2]=nt,A[(U=y)>>2]=~~ht>>>0,A[U+4>>2]=at,(0|(U=0|A[o>>2]))==(0|A[g>>2])?(Vt(s,G),U=0|A[o>>2]):(A[U>>2]=A[G>>2],A[U+4>>2]=A[G+4>>2],A[U+8>>2]=A[G+8>>2],A[U+12>>2]=A[G+12>>2],A[o>>2]=U=16+(0|A[o>>2])|0),et=+_[(at=0|A[a>>2])>>3]*e+(+((0|A[(it=nt=0|A[i>>2])>>2])>>>0)+4294967296*+(0|A[it+4>>2])),it=+v(et+=et<0?-.5:.5)>=1?et>0?~~+k(+C(et/4294967296),4294967295)>>>0:~~+S((et-+(~~et>>>0))/4294967296)>>>0:0,ht=+_[at+8>>3]*e+(+((0|A[(nt=nt+8|0)>>2])>>>0)+4294967296*+(0|A[nt+4>>2])),nt=+v(ht+=ht<0?-.5:.5)>=1?ht>0?~~+k(+C(ht/4294967296),4294967295)>>>0:~~+S((ht-+(~~ht>>>0))/4294967296)>>>0:0,A[(at=G)>>2]=~~et>>>0,A[at+4>>2]=it,A[(at=y)>>2]=~~ht>>>0,A[at+4>>2]=nt,(0|U)==(0|A[g>>2])){Vt(s,G);break}A[U>>2]=A[G>>2],A[U+4>>2]=A[G+4>>2],A[U+8>>2]=A[G+8>>2],A[U+12>>2]=A[G+12>>2],A[o>>2]=16+(0|A[o>>2]);break}if(A[T>>2]=1,_[w>>3]=0,3==(0|U)){bt(t,0,1);break}xt(t,0,1);break}while(0);if((0|(at=0|A[P>>2]))==(0|A[f>>2]))Tt(F,s);else{A[at>>2]=0,A[(J=at+4|0)>>2]=0,A[(O=at+8|0)>>2]=0,Y=(U=(0|A[o>>2])-(0|A[s>>2])|0)>>4;do{if(0|U){if(Y>>>0>268435455){U=146;break t}if(H=0|ei(U),A[J>>2]=H,A[at>>2]=H,A[O>>2]=H+(Y<<4),(0|(O=(0|A[o>>2])-(U=0|A[x>>2])|0))<=0)break;bi(0|H,0|U,0|O),A[J>>2]=H+(O>>>4<<4)}}while(0);A[P>>2]=12+(0|A[P>>2])}break e}}}while(0);if((0|(rt=rt+1|0))>=((0|A[D>>2])-(U=0|A[Q>>2])>>2|0)){U=153;break}}if(48==(0|U))oi();else if(80==(0|U))oi();else if(92==(0|U))oi();else if(106==(0|U))oi();else if(146==(0|U))oi();else if(153==(0|U))return void(mt=N)}}function Et(t,e){var i,n,r,s,o=0;(0|A[(r=8+(t|=0)|0)>>2])-(s=0|A[t>>2])>>4>>>0>=(e|=0)>>>0||(o=t+4|0,e>>>0>268435455&&(si(o=0|G(8),6334),A[o>>2]=4968,F(0|o,3800,18)),i=(0|A[o>>2])-s|0,n=0|ei(e<<4),(0|i)>0&&bi(0|n,0|s,0|i),A[t>>2]=n,A[o>>2]=n+(i>>4<<4),A[r>>2]=n+(e<<4),s&&ni(s))}function wt(t,e,i,n){n|=0;var r,s,o,a,l=0,u=0,h=0,c=0,f=0,m=0,g=0,d=0,p=0,y=0,I=0;a=mt,mt=mt+16|0,o=a,p=+_[(l=0|A[(I=52+(t|=0)|0)>>2])+((h=0|A[(i|=0)>>2])<<4)>>3],r=+_[l+((e|=0)<<4)+8>>3],f=+_[l+(e<<4)>>3],s=+_[l+(h<<4)+8>>3],_[(l=t+72|0)>>3]=u=p*r-f*s,d=+_[(y=t+64|0)>>3];do{if(+v(+u*d)<1){if(p*f+r*s>0)return f=p*d+(+((0|A[(i=(n=0|A[t+28>>2])+(e<<4)|0)>>2])>>>0)+4294967296*+(0|A[i+4>>2])),i=+v(f+=f<0?-.5:.5)>=1?f>0?~~+k(+C(f/4294967296),4294967295)>>>0:~~+S((f-+(~~f>>>0))/4294967296)>>>0:0,p=s*d+(+((0|A[(n=n+(e<<4)+8|0)>>2])>>>0)+4294967296*+(0|A[n+4>>2])),n=+v(p+=p<0?-.5:.5)>=1?p>0?~~+k(+C(p/4294967296),4294967295)>>>0:~~+S((p-+(~~p>>>0))/4294967296)>>>0:0,A[(l=o)>>2]=~~f>>>0,A[l+4>>2]=i,A[(l=o+8|0)>>2]=~~p>>>0,A[l+4>>2]=n,(n=0|A[(l=t+44|0)>>2])>>>0<(0|A[t+48>>2])>>>0?(A[n>>2]=A[o>>2],A[n+4>>2]=A[o+4>>2],A[n+8>>2]=A[o+8>>2],A[n+12>>2]=A[o+12>>2],A[l>>2]=16+(0|A[l>>2])):Be(t+40|0,o),void(mt=a)}else{if(u>1){_[l>>3]=1,u=1;break}u<-1&&(_[l>>3]=-1,u=-1)}}while(0);t:do{if(d*u<0)m=t+40|0,f=p*d+(+((0|A[(h=(l=0|A[(g=t+28|0)>>2])+(e<<4)|0)>>2])>>>0)+4294967296*+(0|A[h+4>>2])),h=+v(f+=f<0?-.5:.5)>=1?f>0?~~+k(+C(f/4294967296),4294967295)>>>0:~~+S((f-+(~~f>>>0))/4294967296)>>>0:0,p=s*d+(+((0|A[(l=l+(e<<4)+8|0)>>2])>>>0)+4294967296*+(0|A[l+4>>2])),l=+v(p+=p<0?-.5:.5)>=1?p>0?~~+k(+C(p/4294967296),4294967295)>>>0:~~+S((p-+(~~p>>>0))/4294967296)>>>0:0,A[(c=o)>>2]=~~f>>>0,A[c+4>>2]=h,A[(c=o+8|0)>>2]=~~p>>>0,A[c+4>>2]=l,(l=0|A[(c=t+44|0)>>2])>>>0<(0|A[(h=t+48|0)>>2])>>>0?(A[l>>2]=A[o>>2],A[l+4>>2]=A[o+4>>2],A[l+8>>2]=A[o+8>>2],A[l+12>>2]=A[o+12>>2],A[c>>2]=n=16+(0|A[c>>2])|0):(Be(m,o),n=0|A[c>>2]),l=(0|A[g>>2])+(e<<4)|0,(0|n)==(0|A[h>>2])?(Vt(m,l),l=0|A[c>>2]):(A[n>>2]=A[l>>2],A[n+4>>2]=A[l+4>>2],A[n+8>>2]=A[l+8>>2],A[n+12>>2]=A[l+12>>2],A[c>>2]=l=16+(0|A[c>>2])|0),d=+_[(t=0|A[I>>2])+(e<<4)>>3]*(p=+_[y>>3])+(+((0|A[(n=(g=0|A[g>>2])+(e<<4)|0)>>2])>>>0)+4294967296*+(0|A[n+4>>2])),y=+v(d+=d<0?-.5:.5)>=1?d>0?~~+k(+C(d/4294967296),4294967295)>>>0:~~+S((d-+(~~d>>>0))/4294967296)>>>0:0,p=p*+_[t+(e<<4)+8>>3]+(+((0|A[(I=g+(e<<4)+8|0)>>2])>>>0)+4294967296*+(0|A[I+4>>2])),I=+v(p+=p<0?-.5:.5)>=1?p>0?~~+k(+C(p/4294967296),4294967295)>>>0:~~+S((p-+(~~p>>>0))/4294967296)>>>0:0,A[(t=o)>>2]=~~d>>>0,A[t+4>>2]=y,A[(t=o+8|0)>>2]=~~p>>>0,A[t+4>>2]=I,l>>>0<(0|A[h>>2])>>>0?(A[l>>2]=A[o>>2],A[l+4>>2]=A[o+4>>2],A[l+8>>2]=A[o+8>>2],A[l+12>>2]=A[o+12>>2],A[c>>2]=16+(0|A[c>>2])):Be(m,o);else switch(0|n){case 2:if(!((u=p*f+r*s+1)>=+_[t+96>>3])){bt(t,e,h);break t}d=(u=d/u)*(p+f)+(+((0|A[(I=(n=0|A[t+28>>2])+(e<<4)|0)>>2])>>>0)+4294967296*+(0|A[I+4>>2])),I=+v(d+=d<0?-.5:.5)>=1?d>0?~~+k(+C(d/4294967296),4294967295)>>>0:~~+S((d-+(~~d>>>0))/4294967296)>>>0:0,p=u*(s+r)+(+((0|A[(n=n+(e<<4)+8|0)>>2])>>>0)+4294967296*+(0|A[n+4>>2])),n=+v(p+=p<0?-.5:.5)>=1?p>0?~~+k(+C(p/4294967296),4294967295)>>>0:~~+S((p-+(~~p>>>0))/4294967296)>>>0:0,A[(l=o)>>2]=~~d>>>0,A[l+4>>2]=I,A[(l=o+8|0)>>2]=~~p>>>0,A[l+4>>2]=n,(n=0|A[(l=t+44|0)>>2])>>>0<(0|A[t+48>>2])>>>0?(A[n>>2]=A[o>>2],A[n+4>>2]=A[o+4>>2],A[n+8>>2]=A[o+8>>2],A[n+12>>2]=A[o+12>>2],A[l>>2]=16+(0|A[l>>2])):Be(t+40|0,o);break t;case 0:bt(t,e,h);break t;case 1:xt(t,e,h);break t;default:break t}}while(0);A[i>>2]=e,mt=a}function bt(t,e,i){var n,r,s,o=0,a=0,l=0,u=0,h=0,c=0,f=0,m=0,g=0,d=0;return s=mt,mt=mt+16|0,r=s,n=+w(.25*+x(+ +_[72+(t|=0)>>3],+((g=+_[(o=0|A[(h=t+52|0)>>2])+((i|=0)<<4)>>3])*+_[o+((e|=0)<<4)>>3]+(d=+_[o+(i<<4)+8>>3])*+_[o+(e<<4)+8>>3]))),o=t+40|0,m=(g-d*n)*(c=+_[(l=t+64|0)>>3])+(+((0|A[(f=(i=0|A[(a=t+28|0)>>2])+(e<<4)|0)>>2])>>>0)+4294967296*+(0|A[f+4>>2])),f=+v(m+=m<0?-.5:.5)>=1?m>0?~~+k(+C(m/4294967296),4294967295)>>>0:~~+S((m-+(~~m>>>0))/4294967296)>>>0:0,c=(d+g*n)*c+(+((0|A[(i=i+(e<<4)+8|0)>>2])>>>0)+4294967296*+(0|A[i+4>>2])),i=+v(c+=c<0?-.5:.5)>=1?c>0?~~+k(+C(c/4294967296),4294967295)>>>0:~~+S((c-+(~~c>>>0))/4294967296)>>>0:0,A[(u=r)>>2]=~~m>>>0,A[u+4>>2]=f,A[(u=r+8|0)>>2]=~~c>>>0,A[u+4>>2]=i,(i=0|A[(u=t+44|0)>>2])>>>0<(0|A[(t=t+48|0)>>2])>>>0?(A[i>>2]=A[r>>2],A[i+4>>2]=A[r+4>>2],A[i+8>>2]=A[r+8>>2],A[i+12>>2]=A[r+12>>2],A[u>>2]=i=16+(0|A[u>>2])|0):(Be(o,r),i=0|A[u>>2]),g=(c=+_[l>>3])*((d=+_[(l=0|A[h>>2])+(e<<4)>>3])+n*(m=+_[l+(e<<4)+8>>3]))+(+((0|A[(a=(f=0|A[a>>2])+(e<<4)|0)>>2])>>>0)+4294967296*+(0|A[a+4>>2])),l=+v(g+=g<0?-.5:.5)>=1?g>0?~~+k(+C(g/4294967296),4294967295)>>>0:~~+S((g-+(~~g>>>0))/4294967296)>>>0:0,d=c*(m-n*d)+(+((0|A[(h=f+(e<<4)+8|0)>>2])>>>0)+4294967296*+(0|A[h+4>>2])),h=+v(d+=d<0?-.5:.5)>=1?d>0?~~+k(+C(d/4294967296),4294967295)>>>0:~~+S((d-+(~~d>>>0))/4294967296)>>>0:0,A[(f=r)>>2]=~~g>>>0,A[f+4>>2]=l,A[(f=r+8|0)>>2]=~~d>>>0,A[f+4>>2]=h,i>>>0<(0|A[t>>2])>>>0?(A[i>>2]=A[r>>2],A[i+4>>2]=A[r+4>>2],A[i+8>>2]=A[r+8>>2],A[i+12>>2]=A[r+12>>2],A[u>>2]=16+(0|A[u>>2]),void(mt=s)):(Be(o,r),void(mt=s))}function xt(t,e,i){var n,r,s,o,a=0,l=0,u=0,h=0,c=0,f=0,m=0,g=0,d=0,p=0,y=0,I=0,B=0,E=0,w=0;if(o=mt,mt=mt+16|0,s=o,g=+x(+ +_[72+(t|=0)>>3],+((m=+_[(B=0|A[(n=t+52|0)>>2])+((i|=0)<<4)>>3])*(l=+_[B+((e|=0)<<4)>>3])+(f=+_[B+(i<<4)+8>>3])*(a=+_[B+(e<<4)+8>>3]))),r=t+40|0,(0|(B=(0|(B=~~((g=+_[t+104>>3]*+v(+g))+(g<0?-.5:.5))>>>0))>1?B:1))>0){for(c=t+28|0,i=t+64|0,y=s+8|0,h=t+44|0,u=t+48|0,I=t+88|0,p=t+80|0,g=f,d=0;l=m*(f=+_[i>>3])+(+((0|A[(w=(E=0|A[c>>2])+(e<<4)|0)>>2])>>>0)+4294967296*+(0|A[w+4>>2])),w=+v(l+=l<0?-.5:.5)>=1?l>0?~~+k(+C(l/4294967296),4294967295)>>>0:~~+S((l-+(~~l>>>0))/4294967296)>>>0:0,f=g*f+(+((0|A[(E=E+(e<<4)+8|0)>>2])>>>0)+4294967296*+(0|A[E+4>>2])),E=+v(f+=f<0?-.5:.5)>=1?f>0?~~+k(+C(f/4294967296),4294967295)>>>0:~~+S((f-+(~~f>>>0))/4294967296)>>>0:0,A[(t=s)>>2]=~~l>>>0,A[t+4>>2]=w,A[(t=y)>>2]=~~f>>>0,A[t+4>>2]=E,(t=0|A[h>>2])>>>0<(0|A[u>>2])>>>0?(A[t>>2]=A[s>>2],A[t+4>>2]=A[s+4>>2],A[t+8>>2]=A[s+8>>2],A[t+12>>2]=A[s+12>>2],A[h>>2]=16+(0|A[h>>2])):Be(r,s),f=g*(a=+_[I>>3])+m*(l=+_[p>>3]),!((d=d+1|0)>>>0>=B>>>0);)m=m*a-g*l,g=f;l=+_[(w=0|A[n>>2])+(e<<4)>>3],a=+_[w+(e<<4)+8>>3]}else c=t+28|0,i=t+64|0,h=t+44|0,u=t+48|0;return m=l*(g=+_[i>>3])+(+((0|A[(E=(w=0|A[c>>2])+(e<<4)|0)>>2])>>>0)+4294967296*+(0|A[E+4>>2])),E=+v(m+=m<0?-.5:.5)>=1?m>0?~~+k(+C(m/4294967296),4294967295)>>>0:~~+S((m-+(~~m>>>0))/4294967296)>>>0:0,g=g*a+(+((0|A[(w=w+(e<<4)+8|0)>>2])>>>0)+4294967296*+(0|A[w+4>>2])),w=+v(g+=g<0?-.5:.5)>=1?g>0?~~+k(+C(g/4294967296),4294967295)>>>0:~~+S((g-+(~~g>>>0))/4294967296)>>>0:0,A[(i=s)>>2]=~~m>>>0,A[i+4>>2]=E,A[(i=s+8|0)>>2]=~~g>>>0,A[i+4>>2]=w,(i=0|A[h>>2])>>>0<(0|A[u>>2])>>>0?(A[i>>2]=A[s>>2],A[i+4>>2]=A[s+4>>2],A[i+8>>2]=A[s+8>>2],A[i+12>>2]=A[s+12>>2],A[h>>2]=16+(0|A[h>>2]),void(mt=o)):(Be(r,s),void(mt=o))}function St(t,e,i){t|=0,e|=0,i|=0;var n,s,o,a,l,u,h,c,f,m,_,g,d,p=0,y=0,C=0,v=0,I=0,B=0;d=mt,mt=mt+144|0,A[(f=(_=d)+24|0)>>2]=0,A[(g=_+28|0)>>2]=0,A[_+32>>2]=0,A[(c=_+40|0)>>2]=0,A[(m=_+44|0)>>2]=0,A[_+48>>2]=0,A[(u=_+56|0)>>2]=0,A[(h=_+60|0)>>2]=0,A[_+64>>2]=0,A[(o=_+4|0)>>2]=0,A[o+4>>2]=0,A[o+8>>2]=0,A[o+12>>2]=0,A[_>>2]=4060,v=_+112|0,C=36+(y=s=_+72|0)|0;do{A[y>>2]=0,y=y+4|0}while((0|y)<(0|C));A[v>>2]=v,A[(n=_+116|0)>>2]=v,A[(B=_+120|0)>>2]=0,r[_+128>>0]=0,r[(a=_+20|0)>>0]=0,r[_+140>>0]=0,r[_+36>>0]=0,r[(l=_+37|0)>>0]=0,r[_+142>>0]=1,I=t+4|0,y=0|A[t>>2];t:do{if((0|A[I>>2])!=(0|y))for(C=0,v=4060;;){if($i[7&A[v+8>>2]](_,y+(12*C|0)|0,0,1),(C=C+1|0)>>>0>=(((0|A[I>>2])-(y=0|A[t>>2])|0)/12|0)>>>0)break t;v=0|A[_>>2]}}while(0);if(ne(_,1,e,i,i),A[_>>2]=4060,y=_+112|0,0|A[B>>2]&&(A[4+(e=0|A[(p=0|A[n>>2])>>2])>>2]=A[(i=4+(0|A[y>>2])|0)>>2],A[A[i>>2]>>2]=e,A[B>>2]=0,(0|p)!=(0|y)))do{i=p,p=0|A[p+4>>2],ni(i)}while((0|p)!=(0|y));if(0|(p=0|A[_+96>>2])&&(A[_+100>>2]=p,ni(p)),0|(p=0|A[_+84>>2])&&(A[_+88>>2]=p,ni(p)),0|(p=0|A[s>>2])&&(A[_+76>>2]=p,ni(p)),A[_>>2]=4032,A[(B=_+12|0)>>2]=I=0|A[_+8>>2],A[o>>2]=I,(0|(p=0|A[g>>2]))!=(0|(y=0|A[(I=_+24|0)>>2]))){v=0;do{(C=0|A[y+(v<<2)>>2])&&(ri(C),y=0|A[I>>2],p=0|A[g>>2]),v=v+1|0}while(v>>>0<p-y>>2>>>0);p=y}A[g>>2]=p,r[a>>0]=0,r[l>>0]=0,0|(p=0|A[u>>2])&&(A[h>>2]=p,ni(p)),0|(p=0|A[c>>2])&&(A[m>>2]=p,ni(p)),0|(p=0|A[f>>2])&&(A[g>>2]=p,ni(p)),(p=0|A[_+8>>2])?(A[B>>2]=p,ni(p),mt=d):mt=d}function Qt(t,e,i,n){i|=0,n=+n;var r,s,o,a,l,u,h,c,f,m=0,_=0,g=0,d=0,p=0,y=0,C=0,v=0,I=0;return h=0|Ci(0|(u=0|A[(d=t|=0)>>2]),0|(d=0|A[d+4>>2]),0|(l=0|A[(g=e|=0)>>2]),0|(g=0|A[g+4>>2])),f=(0|(y=0|V()))<0,c=0|Ci(0,0,0|h,0|y),_=0|V(),y=f?_:y,s=0|Ci(0|(a=0|A[(_=t+8|0)>>2]),0|(_=0|A[_+4>>2]),0|(r=0|A[(m=e+8|0)>>2]),0|(m=0|A[m+4>>2])),t=(0|(o=0|V()))<0,e=0|Ci(0,0,0|s,0|o),p=0|V(),(0|y)>(0|(p=t?p:o))|((0|y)==(0|p)?(f?c:h)>>>0>(t?e:s)>>>0:0)?(t=0|A[(e=i)>>2],((0|g)<(0|d)|(0|g)==(0|d)&l>>>0<u>>>0)^((0|(e=0|A[e+4>>2]))>(0|d)|(0|e)==(0|d)&t>>>0>u>>>0)?((0|g)>(0|d)|(0|g)==(0|d)&l>>>0>u>>>0)^((0|e)>(0|g)|(0|e)==(0|g)&t>>>0>l>>>0)?(v=(I=+(s>>>0)+4294967296*+(0|o))*(+(t>>>0)+4294967296*+(0|e))+(C=+((y=0|Ci(0|l,0|g,0|u,0|d))>>>0)+4294967296*+(0|V()))*(+((0|A[(y=i+8|0)>>2])>>>0)+4294967296*+(0|A[y+4>>2]))-((+(a>>>0)+4294967296*+(0|_))*C+(+(u>>>0)+4294967296*+(0|d))*I),0|(y=(I=(v*=v)/(I=(C*=C)+(I*=I)))<n)):(I=+((y=0|Ci(0|a,0|_,0|A[(y=i+8|0)>>2],0|A[y+4>>2]))>>>0)+4294967296*+(0|V()),v=(+(r>>>0)+4294967296*+(0|m))*(C=+((y=0|Ci(0|t,0|e,0|u,0|d))>>>0)+4294967296*+(0|V()))+(+(l>>>0)+4294967296*+(0|g))*I-((+(a>>>0)+4294967296*+(0|_))*C+(+(u>>>0)+4294967296*+(0|d))*I),0|(y=(I=(v*=v)/(I=(C*=C)+(I*=I)))<n)):(C=+((y=0|Ci(0|r,0|m,0|A[(y=i+8|0)>>2],0|A[y+4>>2]))>>>0)+4294967296*+(0|V()),v=(+(a>>>0)+4294967296*+(0|_))*(I=+((y=0|Ci(0|t,0|e,0|l,0|g))>>>0)+4294967296*+(0|V()))+(+(u>>>0)+4294967296*+(0|d))*C-((+(r>>>0)+4294967296*+(0|m))*I+(+(l>>>0)+4294967296*+(0|g))*C),0|(y=(C=(v*=v)/(C=(I*=I)+(C*=C)))<n))):(t=0|A[(e=i+8|0)>>2],((0|_)>(0|m)|(0|_)==(0|m)&a>>>0>r>>>0)^((0|_)<(0|(e=0|A[e+4>>2]))|(0|_)==(0|e)&a>>>0<t>>>0)?((0|_)<(0|m)|(0|_)==(0|m)&a>>>0<r>>>0)^((0|m)<(0|e)|(0|m)==(0|e)&r>>>0<t>>>0)?(I=+(s>>>0)+4294967296*+(0|o),v=(C=+((y=0|Ci(0|l,0|g,0|u,0|d))>>>0)+4294967296*+(0|V()))*(+(t>>>0)+4294967296*+(0|e))+I*(+((0|A[(y=i)>>2])>>>0)+4294967296*+(0|A[y+4>>2]))-((+(a>>>0)+4294967296*+(0|_))*C+(+(u>>>0)+4294967296*+(0|d))*I),0|(y=(I=(v*=v)/(I=(C*=C)+(I*=I)))<n)):(v=(+(l>>>0)+4294967296*+(0|g))*(C=+((y=0|Ci(0|a,0|_,0|t,0|e))>>>0)+4294967296*+(0|V()))+(+(r>>>0)+4294967296*+(0|m))*(I=+((y=0|Ci(0|A[(y=i)>>2],0|A[y+4>>2],0|u,0|d))>>>0)+4294967296*+(0|V()))-((+(u>>>0)+4294967296*+(0|d))*C+(+(a>>>0)+4294967296*+(0|_))*I),0|(y=(I=(v*=v)/(I=(C*=C)+(I*=I)))<n)):(v=(+(u>>>0)+4294967296*+(0|d))*(C=+((y=0|Ci(0|r,0|m,0|t,0|e))>>>0)+4294967296*+(0|V()))+(+(a>>>0)+4294967296*+(0|_))*(I=+((y=0|Ci(0|A[(y=i)>>2],0|A[y+4>>2],0|l,0|g))>>>0)+4294967296*+(0|V()))-((+(l>>>0)+4294967296*+(0|g))*C+(+(r>>>0)+4294967296*+(0|m))*I),0|(y=(I=(v*=v)/(I=(C*=C)+(I*=I)))<n)))}function kt(t,e,i){e|=0,i=+i;var n,r=0,s=0,o=0,a=0,l=0,u=0,h=0,c=0,f=0,m=0,_=0,g=0,d=0,p=0,y=0,C=0;if(r=(_=(0|A[4+(t|=0)>>2])-(0|A[t>>2])|0)>>4,_){s=(_=0|ii(r>>>0>134217727?-1:r<<5))+(r<<5)|0,o=_;do{A[(f=o+8|0)>>2]=0,A[f+4>>2]=0,A[f+8>>2]=0,A[f+12>>2]=0,o=o+32|0}while((0|o)!=(0|s));s=0|A[t>>2],t=0;do{f=_+(t<<5)|0,A[(h=_+(t<<5)+8|0)>>2]=A[(c=s+(t<<4)|0)>>2],A[h+4>>2]=A[c+4>>2],A[h+8>>2]=A[c+8>>2],A[h+12>>2]=A[c+12>>2],A[_+((h=t)<<5)+24>>2]=_+((c=((t=t+1|0)>>>0)%(r>>>0)|0)<<5),A[_+(c<<5)+28>>2]=f,A[f>>2]=0}while(t>>>0<r>>>0);n=i*i;t:do{if(0|A[_>>2])a=_;else for(s=_,o=_;;){if(u=f=0|A[(t=s+24|0)>>2],(0|f)==(0|(c=0|A[(a=s+28|0)>>2]))){a=s;break t}h=s+8|0,d=+((0|A[(y=s+8|0)>>2])>>>0)+4294967296*+(0|A[y+4>>2])-(i=+((0|A[(C=c+8|0)>>2])>>>0)+4294967296*+(0|A[C+4>>2])),g=+((0|A[(s=s+16|0)>>2])>>>0)+4294967296*+(0|A[s+4>>2])-(l=+((0|A[(p=c+16|0)>>2])>>>0)+4294967296*+(0|A[p+4>>2]));do{if(!(d*d+g*g<=n)){if((g=i-(+((0|A[(y=f+8|0)>>2])>>>0)+4294967296*+(0|A[y+4>>2])))*g+(d=l-(+((0|A[(C=f+16|0)>>2])>>>0)+4294967296*+(0|A[C+4>>2])))*d<=n){A[24+(o=0|A[f+28>>2])>>2]=A[(s=f+24|0)>>2],A[28+(0|A[s>>2])>>2]=o,A[o>>2]=0,A[24+(o=0|A[a>>2])>>2]=A[t>>2],A[28+(0|A[t>>2])>>2]=o,A[o>>2]=0,s=o,r=r+-2|0,t=0;break}if(0|Qt(c+8|0,h,f+8|0,n)){A[c+24>>2]=u,A[28+(0|A[t>>2])>>2]=c,A[c>>2]=0,s=c,r=r+-1|0,o=c,t=0;break}A[o>>2]=1,s=f,o=f,t=0|A[f>>2];break}A[c+24>>2]=u,A[28+(0|A[t>>2])>>2]=c,A[c>>2]=0,s=c,r=r+-1|0,o=c,t=0}while(0);if(t){a=s;break}}}while(0);if((o=r>>>0<3?0:r)>>>0<=(s=(0|A[(r=e+4|0)>>2])-(t=0|A[e>>2])>>4)>>>0?(o>>>0<s>>>0&&(A[r>>2]=t+(o<<4)),0|o&&(m=23)):(we(e,o-s|0),m=23),23==(0|m))for(t=0,r=a;A[(C=(0|A[e>>2])+(t<<4)|0)>>2]=A[(y=r+8|0)>>2],A[C+4>>2]=A[y+4>>2],A[C+8>>2]=A[y+8>>2],A[C+12>>2]=A[y+12>>2],(0|(t=t+1|0))!=(0|o);)r=0|A[r+24>>2];ri(_)}else A[e+4>>2]=A[e>>2]}function Dt(t,e,i){i=+i;var n,r,s=0,o=0,a=0,l=0;if((l=((0|A[(r=4+(t|=0)|0)>>2])-(0|A[t>>2])|0)/12|0)>>>0<=(o=((s=0|A[(n=4+(e|=0)|0)>>2])-(a=0|A[e>>2])|0)/12|0)>>>0){if(l>>>0<o>>>0){if((0|(l=a+(12*l|0)|0))!=(0|s))do{o=s,0|(a=0|A[(s=s+-12|0)>>2])&&(A[o+-8>>2]=a,ni(a))}while((0|s)!=(0|l));A[n>>2]=l}}else!function(t,e){var i,n,r=0,s=0,o=0,a=0,l=0,u=0,h=0,c=0;if(r=s=0|A[(c=4+(t|=0)|0)>>2],(((o=0|A[(n=t+8|0)>>2])-s|0)/12|0)>>>0>=(e|=0)>>>0)return Si(0|s,0,12*e|0),void(A[c>>2]=r+(12*e|0));i=h=0|A[t>>2],(s=(l=(s-h|0)/12|0)+e|0)>>>0>357913941&&oi(),a=(u=(o-h|0)/12|0)<<1,a=u>>>0<178956970?a>>>0<s>>>0?s:a:357913941;do{if(a){if(!(a>>>0>357913941)){o=0|ei(12*a|0);break}si(c=0|G(8),6334),A[c>>2]=4968,F(0|c,3800,18)}else o=0}while(0);if(u=o+(12*a|0)|0,Si(0|(s=o+(12*l|0)|0),0,12*e|0),o=s+(12*e|0)|0,(0|r)==(0|i))l=i,a=h;else{do{l=s,e=r,r=r+-12|0,A[(s=s+-12|0)>>2]=0,A[(a=l+-8|0)>>2]=0,A[(l=l+-4|0)>>2]=0,A[s>>2]=A[r>>2],A[a>>2]=A[(h=e+-8|0)>>2],A[l>>2]=A[(e=e+-4|0)>>2],A[e>>2]=0,A[h>>2]=0,A[r>>2]=0}while((0|r)!=(0|i));l=a=0|A[t>>2],r=0|A[c>>2]}if(A[t>>2]=s,A[c>>2]=o,A[n>>2]=u,(0|r)!=(0|l))do{s=r,0|(o=0|A[(r=r+-12|0)>>2])&&(A[s+-8>>2]=o,ni(o))}while((0|r)!=(0|l));a&&ni(a)}(e,l-o|0);if((0|A[r>>2])!=(0|(s=0|A[t>>2]))){o=0;do{kt(s+(12*o|0)|0,(0|A[e>>2])+(12*o|0)|0,i),o=o+1|0,s=0|A[t>>2]}while(o>>>0<(((0|A[r>>2])-s|0)/12|0)>>>0)}}function Mt(t,e,i,n,r){i|=0,n|=0;var s,o,a,l,u,h,c,f=0,m=0,_=0,g=0,d=0,p=0,y=0,C=0,v=0,I=0,B=0,E=0,w=0,b=0,x=0,S=0,k=0;c=mt,mt=mt+48|0,a=c+16|0,l=c,w=1&(r|=0),s=(x=(0|A[(E=4+(t|=0)|0)>>2])-(0|A[t>>2])|0)>>4,o=(r=(0|A[4+(e|=0)>>2])-(0|A[e>>2])|0)>>4,A[(h=c+32|0)>>2]=0,A[(u=h+4|0)>>2]=0,A[(B=h+8|0)>>2]=0,gt(h,o),r=0!=(0|r);t:do{if(n){if(r){for(C=a+4|0,v=a+8|0,I=l+8|0,y=0;;){if(A[a>>2]=0,A[C>>2]=0,A[v>>2]=0,dt(a,s),(0|A[E>>2])!=(0|(r=0|A[t>>2]))){n=0;do{_=0|yi(0|A[(g=(b=r)+(n<<4)|0)>>2],0|A[g+4>>2],0|A[(_=(p=0|A[e>>2])+(y<<4)|0)>>2],0|A[_+4>>2]),g=0|V(),p=0|yi(0|A[(b=b+(n<<4)+8|0)>>2],0|A[b+4>>2],0|A[(p=p+(y<<4)+8|0)>>2],0|A[p+4>>2]),b=0|V(),A[(r=l)>>2]=_,A[r+4>>2]=g,A[(r=I)>>2]=p,A[r+4>>2]=b,(r=0|A[C>>2])>>>0<(0|A[v>>2])>>>0?(A[r>>2]=A[l>>2],A[r+4>>2]=A[l+4>>2],A[r+8>>2]=A[l+8>>2],A[r+12>>2]=A[l+12>>2],A[C>>2]=r+16):Be(a,l),n=n+1|0,r=0|A[t>>2]}while(n>>>0<(0|A[E>>2])-r>>4>>>0)}if((0|(n=0|A[u>>2]))==(0|A[B>>2]))Tt(h,a),r=0|A[a>>2];else{if(A[n>>2]=0,A[(p=n+4|0)>>2]=0,A[(m=n+8|0)>>2]=0,_=(f=(0|A[C>>2])-(r=0|A[a>>2])|0)>>4,f){if(_>>>0>268435455)break;g=0|ei(f),A[p>>2]=g,A[n>>2]=g,A[m>>2]=g+(_<<4),(0|(f=(0|A[C>>2])-(r=0|A[a>>2])|0))>0&&(bi(0|g,0|r,0|f),A[p>>2]=g+(f>>>4<<4),n=0|A[u>>2])}A[u>>2]=n+12}if(0|r&&(A[C>>2]=r,ni(r)),(y=y+1|0)>>>0>=o>>>0)break t}oi()}}else if(r){for(C=a+4|0,v=a+8|0,I=l+8|0,y=0;;){if(A[a>>2]=0,A[C>>2]=0,A[v>>2]=0,dt(a,s),(0|A[E>>2])!=(0|(r=0|A[t>>2]))){n=0;do{_=0|Ci(0|A[(g=(b=0|A[e>>2])+(y<<4)|0)>>2],0|A[g+4>>2],0|A[(_=(p=r)+(n<<4)|0)>>2],0|A[_+4>>2]),g=0|V(),p=0|Ci(0|A[(b=b+(y<<4)+8|0)>>2],0|A[b+4>>2],0|A[(p=p+(n<<4)+8|0)>>2],0|A[p+4>>2]),b=0|V(),A[(r=l)>>2]=_,A[r+4>>2]=g,A[(r=I)>>2]=p,A[r+4>>2]=b,(r=0|A[C>>2])>>>0<(0|A[v>>2])>>>0?(A[r>>2]=A[l>>2],A[r+4>>2]=A[l+4>>2],A[r+8>>2]=A[l+8>>2],A[r+12>>2]=A[l+12>>2],A[C>>2]=r+16):Be(a,l),n=n+1|0,r=0|A[t>>2]}while(n>>>0<(0|A[E>>2])-r>>4>>>0)}if((0|(n=0|A[u>>2]))==(0|A[B>>2]))Tt(h,a),r=0|A[a>>2];else{if(A[n>>2]=0,A[(p=n+4|0)>>2]=0,A[(m=n+8|0)>>2]=0,_=(f=(0|A[C>>2])-(r=0|A[a>>2])|0)>>4,f){if(_>>>0>268435455)break;g=0|ei(f),A[p>>2]=g,A[n>>2]=g,A[m>>2]=g+(_<<4),(0|(f=(0|A[C>>2])-(r=0|A[a>>2])|0))>0&&(bi(0|g,0|r,0|f),A[p>>2]=g+(f>>>4<<4),n=0|A[u>>2])}A[u>>2]=n+12}if(0|r&&(A[C>>2]=r,ni(r)),(y=y+1|0)>>>0>=o>>>0)break t}oi()}}while(0);if((0|(r=0|A[(b=i+4|0)>>2]))!=(0|(m=0|A[i>>2])))do{n=r,0|(f=0|A[(r=r+-12|0)>>2])&&(A[n+-8>>2]=f,ni(f))}while((0|r)!=(0|m));A[b>>2]=m,gt(i,0|Q(w=o+w|0,s+1|0)),w=w+-1|0;t:do{if(0|w){B=0==(0|x),E=l+4|0,t=l+8|0,e=i+8|0,v=0;e:for(;;){if(I=v,v=v+1|0,!B){C=0;do{if(A[l>>2]=0,A[E>>2]=0,A[t>>2]=0,f=0|ei(64),A[l>>2]=f,A[E>>2]=f,A[t>>2]=f+64,A[f>>2]=A[(r=(0|A[(y=0|A[h>>2])+(12*(m=(I>>>0)%(o>>>0)|0)|0)>>2])+((x=(C>>>0)%(s>>>0)|0)<<4)|0)>>2],A[f+4>>2]=A[r+4>>2],A[f+8>>2]=A[r+8>>2],A[f+12>>2]=A[r+12>>2],A[E>>2]=r=f+16|0,A[r>>2]=A[(x=(0|A[(p=y+(12*((v>>>0)%(o>>>0)|0)|0)|0)>>2])+(x<<4)|0)>>2],A[r+4>>2]=A[x+4>>2],A[r+8>>2]=A[x+8>>2],A[r+12>>2]=A[x+12>>2],A[E>>2]=r=f+32|0,A[r>>2]=A[(p=(0|A[p>>2])+((x=((C=C+1|0)>>>0)%(s>>>0)|0)<<4)|0)>>2],A[r+4>>2]=A[p+4>>2],A[r+8>>2]=A[p+8>>2],A[r+12>>2]=A[p+12>>2],A[E>>2]=r=f+48|0,A[r>>2]=A[(x=(0|A[y+(12*m|0)>>2])+(x<<4)|0)>>2],A[r+4>>2]=A[x+4>>2],A[r+8>>2]=A[x+8>>2],A[r+12>>2]=A[x+12>>2],A[E>>2]=f=f+64|0,m=(x=f-(r=0|A[l>>2])|0)>>4,(0|x)>=48){n=0,d=0,_=0|A[4+(g=r+((y=m+-1|0)<<4)|0)>>2],g=0|A[g>>2],p=0|A[4+(y=r+(y<<4)+8|0)>>2],y=0|A[y>>2];do{d+=(+(g>>>0)+4294967296*+(0|_)+(+((g=0|A[(k=r+(n<<4)|0)>>2])>>>0)+4294967296*+(0|(_=0|A[k+4>>2]))))*(+(y>>>0)+4294967296*+(0|(x=p))-(+((y=0|A[(k=r+(n<<4)+8|0)>>2])>>>0)+4294967296*+(0|(p=0|A[k+4>>2])))),n=n+1|0}while((0|n)<(0|m));if(!(-.5*d>=0|(0|f)==(0|r))&&(S=f+-16|0)>>>0>r>>>0){n=S;do{A[a>>2]=A[r>>2],A[a+4>>2]=A[r+4>>2],A[a+8>>2]=A[r+8>>2],A[a+12>>2]=A[r+12>>2],A[r>>2]=A[n>>2],A[r+4>>2]=A[n+4>>2],A[r+8>>2]=A[n+8>>2],A[r+12>>2]=A[n+12>>2],A[n>>2]=A[a>>2],A[n+4>>2]=A[a+4>>2],A[n+8>>2]=A[a+8>>2],A[n+12>>2]=A[a+12>>2],r=r+16|0,n=n+-16|0}while(r>>>0<n>>>0)}}if((0|(f=0|A[b>>2]))==(0|A[e>>2]))Tt(i,l),r=0|A[l>>2];else{if(A[f>>2]=0,A[(p=f+4|0)>>2]=0,A[(m=f+8|0)>>2]=0,_=(n=(0|A[E>>2])-(r=0|A[l>>2])|0)>>4,n){if(_>>>0>268435455)break e;g=0|ei(n),A[p>>2]=g,A[f>>2]=g,A[m>>2]=g+(_<<4),(0|(n=(0|A[E>>2])-(r=0|A[l>>2])|0))>0&&(bi(0|g,0|r,0|n),A[p>>2]=g+(n>>>4<<4))}A[b>>2]=12+(0|A[b>>2])}0|r&&(A[E>>2]=r,ni(r))}while(C>>>0<s>>>0)}if(v>>>0>=w>>>0)break t}oi()}}while(0);if(m=0|A[h>>2]){if((0|(r=0|A[u>>2]))==(0|m))r=m;else{do{n=r,0|(f=0|A[(r=r+-12|0)>>2])&&(A[n+-8>>2]=f,ni(f))}while((0|r)!=(0|m));r=0|A[h>>2]}A[u>>2]=m,ni(r),mt=c}else mt=c}function Rt(t,e,i){t|=0,i|=0;var n,s,o=0,a=0,l=0,u=0,h=0,c=0,f=0;switch(0|(e|=0)){case 2:o=0!=(0|r[t+36>>0]);break;case 1:return;default:o=0}n=t+4|0,s=t+8|0;do{if(!(o|(0|A[n>>2])==(0|A[s>>2]))){if((0|(a=0|A[(c=i+4|0)>>2]))==(0|A[i+8>>2])){Tt(i,n);break}A[a>>2]=0,A[(f=a+4|0)>>2]=0,A[(l=a+8|0)>>2]=0,u=(o=(0|A[s>>2])-(0|A[n>>2])|0)>>4,0|o&&(u>>>0>268435455&&oi(),h=0|ei(o),A[f>>2]=h,A[a>>2]=h,A[l>>2]=h+(u<<4),(0|(o=(0|A[s>>2])-(a=0|A[n>>2])|0))>0&&(bi(0|h,0|a,0|o),A[f>>2]=h+(o>>>4<<4))),A[c>>2]=12+(0|A[c>>2])}}while(0);if(!(((0|A[(l=t+20|0)>>2])-(o=0|A[(u=t+16|0)>>2])|0)<=0)){a=0;do{Rt(0|A[o+(a<<2)>>2],e,i),a=a+1|0,o=0|A[u>>2]}while((0|a)<((0|A[l>>2])-o>>2|0))}}function Vt(t,e){e|=0;var i,n,r,s,o=0,a=0,l=0,u=0,h=0;(o=1+(i=(s=(0|A[(n=4+(t|=0)|0)>>2])-(r=0|A[t>>2])|0)>>4)|0)>>>0>268435455&&oi(),u=(l=(0|A[(h=t+8|0)>>2])-r|0)>>3,u=l>>4>>>0<134217727?u>>>0<o>>>0?o:u:268435455;do{if(u){if(!(u>>>0>268435455)){a=l=0|ei(u<<4);break}si(h=0|G(8),6334),A[h>>2]=4968,F(0|h,3800,18)}else a=0,l=0}while(0);A[(o=a+(i<<4)|0)>>2]=A[e>>2],A[o+4>>2]=A[e+4>>2],A[o+8>>2]=A[e+8>>2],A[o+12>>2]=A[e+12>>2],(0|s)>0&&bi(0|l,0|r,0|s),A[t>>2]=a,A[n>>2]=o+16,A[h>>2]=a+(u<<4),r&&ni(r)}function Tt(t,e){e|=0;var i,n,r,s=0,o=0,a=0,l=0,u=0,h=0,c=0,f=0,m=0,_=0;n=s=0|A[(t|=0)>>2],(o=1+(u=((f=0|A[(_=t+4|0)>>2])-s|0)/12|0)|0)>>>0>357913941&&oi(),m=(c=((0|A[(r=t+8|0)>>2])-s|0)/12|0)<<1,o=c>>>0<178956970?m>>>0<o>>>0?o:m:357913941;do{if(o){if(!(o>>>0>357913941)){l=0|ei(12*o|0);break}si(_=0|G(8),6334),A[_>>2]=4968,F(0|_,3800,18)}else l=0}while(0);if(m=l+(12*o|0)|0,A[(a=l+(12*u|0)|0)>>2]=0,A[(c=l+(12*u|0)+4|0)>>2]=0,A[(i=l+(12*u|0)+8|0)>>2]=0,l=(o=(0|A[e+4>>2])-(h=0|A[e>>2])|0)>>4,0|o&&(l>>>0>268435455&&oi(),u=0|ei(o),A[c>>2]=u,A[a>>2]=u,A[i>>2]=u+(l<<4),(0|o)>0&&(bi(0|u,0|h,0|o),A[c>>2]=u+(o>>>4<<4))),l=a+12|0,(0|f)!=(0|n)){s=f;do{e=a,c=s,s=s+-12|0,A[(a=a+-12|0)>>2]=0,A[(h=e+-8|0)>>2]=0,A[(e=e+-4|0)>>2]=0,A[a>>2]=A[s>>2],A[h>>2]=A[(f=c+-8|0)>>2],A[e>>2]=A[(c=c+-4|0)>>2],A[c>>2]=0,A[f>>2]=0,A[s>>2]=0}while((0|s)!=(0|n));if(o=0|A[_>>2],u=s=0|A[t>>2],A[t>>2]=a,A[_>>2]=l,A[r>>2]=m,(0|o)!=(0|u))do{a=o,0|(l=0|A[(o=o+-12|0)>>2])&&(A[a+-8>>2]=l,ni(l))}while((0|o)!=(0|u))}else A[t>>2]=a,A[_>>2]=l,A[r>>2]=m;s&&ni(s)}function Gt(t,e){e|=0;var i,n,r,s,o=0,a=0,l=0,u=0,h=0;(o=1+(i=(s=(0|A[(n=4+(t|=0)|0)>>2])-(r=0|A[t>>2])|0)>>2)|0)>>>0>1073741823&&oi(),u=(l=(0|A[(h=t+8|0)>>2])-r|0)>>1,u=l>>2>>>0<536870911?u>>>0<o>>>0?o:u:1073741823;do{if(u){if(!(u>>>0>1073741823)){a=l=0|ei(u<<2);break}si(h=0|G(8),6334),A[h>>2]=4968,F(0|h,3800,18)}else a=0,l=0}while(0);A[(o=a+(i<<2)|0)>>2]=A[e>>2],(0|s)>0&&bi(0|l,0|r,0|s),A[t>>2]=a,A[n>>2]=o+4,A[h>>2]=a+(u<<2),r&&ni(r)}function Ft(t,e){e|=0;var i,n,r,s,o=0,a=0,l=0,u=0,h=0;(o=1+(i=(s=(0|A[(n=4+(t|=0)|0)>>2])-(r=0|A[t>>2])|0)>>4)|0)>>>0>268435455&&oi(),u=(l=(0|A[(h=t+8|0)>>2])-r|0)>>3,u=l>>4>>>0<134217727?u>>>0<o>>>0?o:u:268435455;do{if(u){if(!(u>>>0>268435455)){a=l=0|ei(u<<4);break}si(h=0|G(8),6334),A[h>>2]=4968,F(0|h,3800,18)}else a=0,l=0}while(0);A[(o=a+(i<<4)|0)>>2]=A[e>>2],A[o+4>>2]=A[e+4>>2],A[o+8>>2]=A[e+8>>2],A[o+12>>2]=A[e+12>>2],(0|s)>0&&bi(0|l,0|r,0|s),A[t>>2]=a,A[n>>2]=o+16,A[h>>2]=a+(u<<4),r&&ni(r)}function Pt(t,e){e|=0;var i,n,r,s,o=0,a=0,l=0,u=0,h=0;(o=1+(i=(s=(0|A[(n=4+(t|=0)|0)>>2])-(r=0|A[t>>2])|0)>>2)|0)>>>0>1073741823&&oi(),u=(l=(0|A[(h=t+8|0)>>2])-r|0)>>1,u=l>>2>>>0<536870911?u>>>0<o>>>0?o:u:1073741823;do{if(u){if(!(u>>>0>1073741823)){a=l=0|ei(u<<2);break}si(h=0|G(8),6334),A[h>>2]=4968,F(0|h,3800,18)}else a=0,l=0}while(0);A[(o=a+(i<<2)|0)>>2]=A[e>>2],(0|s)>0&&bi(0|l,0|r,0|s),A[t>>2]=a,A[n>>2]=o+4,A[h>>2]=a+(u<<2),r&&ni(r)}function Nt(t,e,i,n,r){n|=0,r|=0;var s,o,a,l=0,u=0,h=0,c=0;o=mt,mt=mt+16|0,s=o,h=0|A[4+(l=t|=0)>>2],a=0|A[(u=e|=0)>>2],r=(0|(u=0|A[u+4>>2]))<(0|(c=0|A[4+(r=i|=0)>>2]))|((0|u)==(0|c)?a>>>0<(0|A[r>>2])>>>0:0);do{if((0|h)<(0|u)|((0|h)==(0|u)?(0|A[l>>2])>>>0<a>>>0:0)){if(r){A[s>>2]=A[t>>2],A[s+4>>2]=A[t+4>>2],A[s+8>>2]=A[t+8>>2],A[s+12>>2]=A[t+12>>2],A[t>>2]=A[i>>2],A[t+4>>2]=A[i+4>>2],A[t+8>>2]=A[i+8>>2],A[t+12>>2]=A[i+12>>2],A[i>>2]=A[s>>2],A[i+4>>2]=A[s+4>>2],A[i+8>>2]=A[s+8>>2],A[i+12>>2]=A[s+12>>2],r=1;break}A[s>>2]=A[t>>2],A[s+4>>2]=A[t+4>>2],A[s+8>>2]=A[t+8>>2],A[s+12>>2]=A[t+12>>2],A[t>>2]=A[e>>2],A[t+4>>2]=A[e+4>>2],A[t+8>>2]=A[e+8>>2],A[t+12>>2]=A[e+12>>2],A[e>>2]=A[s>>2],A[e+4>>2]=A[s+4>>2],A[e+8>>2]=A[s+8>>2],A[e+12>>2]=A[s+12>>2],(0|(l=0|A[(h=e)+4>>2]))<(0|(u=0|A[(c=i)+4>>2]))|((0|l)==(0|u)?(0|A[h>>2])>>>0<(0|A[c>>2])>>>0:0)?(A[s>>2]=A[e>>2],A[s+4>>2]=A[e+4>>2],A[s+8>>2]=A[e+8>>2],A[s+12>>2]=A[e+12>>2],A[e>>2]=A[i>>2],A[e+4>>2]=A[i+4>>2],A[e+8>>2]=A[i+8>>2],A[e+12>>2]=A[i+12>>2],A[i>>2]=A[s>>2],A[i+4>>2]=A[s+4>>2],A[i+8>>2]=A[s+8>>2],A[i+12>>2]=A[s+12>>2],r=2):r=1}else r?(A[s>>2]=A[e>>2],A[s+4>>2]=A[e+4>>2],A[s+8>>2]=A[e+8>>2],A[s+12>>2]=A[e+12>>2],A[e>>2]=A[i>>2],A[e+4>>2]=A[i+4>>2],A[e+8>>2]=A[i+8>>2],A[e+12>>2]=A[i+12>>2],A[i>>2]=A[s>>2],A[i+4>>2]=A[s+4>>2],A[i+8>>2]=A[s+8>>2],A[i+12>>2]=A[s+12>>2],(0|(l=0|A[(h=t)+4>>2]))<(0|(u=0|A[(c=e)+4>>2]))|((0|l)==(0|u)?(0|A[h>>2])>>>0<(0|A[c>>2])>>>0:0)?(A[s>>2]=A[t>>2],A[s+4>>2]=A[t+4>>2],A[s+8>>2]=A[t+8>>2],A[s+12>>2]=A[t+12>>2],A[t>>2]=A[e>>2],A[t+4>>2]=A[e+4>>2],A[t+8>>2]=A[e+8>>2],A[t+12>>2]=A[e+12>>2],A[e>>2]=A[s>>2],A[e+4>>2]=A[s+4>>2],A[e+8>>2]=A[s+8>>2],A[e+12>>2]=A[s+12>>2],r=2):r=1):r=0}while(0);return(0|(l=0|A[(h=i)+4>>2]))<(0|(u=0|A[(c=n)+4>>2]))|((0|l)==(0|u)?(0|A[h>>2])>>>0<(0|A[c>>2])>>>0:0)?(A[s>>2]=A[i>>2],A[s+4>>2]=A[i+4>>2],A[s+8>>2]=A[i+8>>2],A[s+12>>2]=A[i+12>>2],A[i>>2]=A[n>>2],A[i+4>>2]=A[n+4>>2],A[i+8>>2]=A[n+8>>2],A[i+12>>2]=A[n+12>>2],A[n>>2]=A[s>>2],A[n+4>>2]=A[s+4>>2],A[n+8>>2]=A[s+8>>2],A[n+12>>2]=A[s+12>>2],(0|(l=0|A[(h=e)+4>>2]))<(0|(u=0|A[(c=i)+4>>2]))|((0|l)==(0|u)?(0|A[h>>2])>>>0<(0|A[c>>2])>>>0:0)?(A[s>>2]=A[e>>2],A[s+4>>2]=A[e+4>>2],A[s+8>>2]=A[e+8>>2],A[s+12>>2]=A[e+12>>2],A[e>>2]=A[i>>2],A[e+4>>2]=A[i+4>>2],A[e+8>>2]=A[i+8>>2],A[e+12>>2]=A[i+12>>2],A[i>>2]=A[s>>2],A[i+4>>2]=A[s+4>>2],A[i+8>>2]=A[s+8>>2],A[i+12>>2]=A[s+12>>2],(0|(l=0|A[(h=t)+4>>2]))<(0|(u=0|A[(c=e)+4>>2]))|((0|l)==(0|u)?(0|A[h>>2])>>>0<(0|A[c>>2])>>>0:0)?(A[s>>2]=A[t>>2],A[s+4>>2]=A[t+4>>2],A[s+8>>2]=A[t+8>>2],A[s+12>>2]=A[t+12>>2],A[t>>2]=A[e>>2],A[t+4>>2]=A[e+4>>2],A[t+8>>2]=A[e+8>>2],A[t+12>>2]=A[e+12>>2],A[e>>2]=A[s>>2],A[e+4>>2]=A[s+4>>2],A[e+8>>2]=A[s+8>>2],A[e+12>>2]=A[s+12>>2],mt=o,0|(c=r+3|0)):(mt=o,0|(c=r+2|0))):(mt=o,0|(c=r+1|0))):(mt=o,0|(c=r))}function Lt(t,e,i){i|=0;var n,r=0,s=0,o=0,a=0,l=0,u=0,h=0,c=0,f=0,m=0;switch(n=mt,mt=mt+16|0,c=n,(e|=0)-(t|=0)>>4|0){case 2:return(0|(l=0|A[(h=t)+4>>2]))<(0|(u=0|A[4+(e=r=e+-16|0)>>2]))|((0|l)==(0|u)?(0|A[h>>2])>>>0<(0|A[e>>2])>>>0:0)?(A[c>>2]=A[t>>2],A[c+4>>2]=A[t+4>>2],A[c+8>>2]=A[t+8>>2],A[c+12>>2]=A[t+12>>2],A[t>>2]=A[r>>2],A[t+4>>2]=A[r+4>>2],A[t+8>>2]=A[r+8>>2],A[t+12>>2]=A[r+12>>2],A[r>>2]=A[c>>2],A[r+4>>2]=A[c+4>>2],A[r+8>>2]=A[c+8>>2],A[r+12>>2]=A[c+12>>2],mt=n,0|(c=1)):(mt=n,0|(c=1));case 3:return r=e+-16|0,e=0|A[(u=o=t+16|0)>>2],s=(0|(u=0|A[u+4>>2]))<(0|(i=0|A[(s=r)+4>>2]))|((0|u)==(0|i)?e>>>0<(0|A[s>>2])>>>0:0),(0|(l=0|A[(h=t)+4>>2]))<(0|u)|((0|l)==(0|u)?(0|A[h>>2])>>>0<e>>>0:0)?s?(A[c>>2]=A[t>>2],A[c+4>>2]=A[t+4>>2],A[c+8>>2]=A[t+8>>2],A[c+12>>2]=A[t+12>>2],A[t>>2]=A[r>>2],A[t+4>>2]=A[r+4>>2],A[t+8>>2]=A[r+8>>2],A[t+12>>2]=A[r+12>>2],A[r>>2]=A[c>>2],A[r+4>>2]=A[c+4>>2],A[r+8>>2]=A[c+8>>2],A[r+12>>2]=A[c+12>>2],mt=n,0|(c=1)):(A[c>>2]=A[t>>2],A[c+4>>2]=A[t+4>>2],A[c+8>>2]=A[t+8>>2],A[c+12>>2]=A[t+12>>2],A[t>>2]=A[o>>2],A[t+4>>2]=A[o+4>>2],A[t+8>>2]=A[o+8>>2],A[t+12>>2]=A[o+12>>2],A[o>>2]=A[c>>2],A[o+4>>2]=A[c+4>>2],A[o+8>>2]=A[c+8>>2],A[o+12>>2]=A[c+12>>2],(0|(u=0|A[(e=o)+4>>2]))<(0|(h=0|A[(t=r)+4>>2]))|((0|u)==(0|h)?(0|A[e>>2])>>>0<(0|A[t>>2])>>>0:0)?(A[c>>2]=A[o>>2],A[c+4>>2]=A[o+4>>2],A[c+8>>2]=A[o+8>>2],A[c+12>>2]=A[o+12>>2],A[o>>2]=A[r>>2],A[o+4>>2]=A[r+4>>2],A[o+8>>2]=A[r+8>>2],A[o+12>>2]=A[r+12>>2],A[r>>2]=A[c>>2],A[r+4>>2]=A[c+4>>2],A[r+8>>2]=A[c+8>>2],A[r+12>>2]=A[c+12>>2],mt=n,0|(c=1)):(mt=n,0|(c=1))):s?(A[c>>2]=A[o>>2],A[c+4>>2]=A[o+4>>2],A[c+8>>2]=A[o+8>>2],A[c+12>>2]=A[o+12>>2],A[o>>2]=A[r>>2],A[o+4>>2]=A[r+4>>2],A[o+8>>2]=A[r+8>>2],A[o+12>>2]=A[r+12>>2],A[r>>2]=A[c>>2],A[r+4>>2]=A[c+4>>2],A[r+8>>2]=A[c+8>>2],A[r+12>>2]=A[c+12>>2],(0|(l=0|A[(h=t)+4>>2]))<(0|(u=0|A[(e=o)+4>>2]))|((0|l)==(0|u)?(0|A[h>>2])>>>0<(0|A[e>>2])>>>0:0)?(A[c>>2]=A[t>>2],A[c+4>>2]=A[t+4>>2],A[c+8>>2]=A[t+8>>2],A[c+12>>2]=A[t+12>>2],A[t>>2]=A[o>>2],A[t+4>>2]=A[o+4>>2],A[t+8>>2]=A[o+8>>2],A[t+12>>2]=A[o+12>>2],A[o>>2]=A[c>>2],A[o+4>>2]=A[c+4>>2],A[o+8>>2]=A[c+8>>2],A[o+12>>2]=A[c+12>>2],mt=n,0|(c=1)):(mt=n,0|(c=1))):(mt=n,0|(c=1));case 4:return Nt(t,t+16|0,t+32|0,e+-16|0,i),mt=n,1;case 5:return r=e+-16|0,Nt(t,s=t+16|0,o=t+32|0,a=t+48|0,i),(0|(l=0|A[(h=a)+4>>2]))<(0|(u=0|A[(e=r)+4>>2]))|((0|l)==(0|u)?(0|A[h>>2])>>>0<(0|A[e>>2])>>>0:0)?(A[c>>2]=A[a>>2],A[c+4>>2]=A[a+4>>2],A[c+8>>2]=A[a+8>>2],A[c+12>>2]=A[a+12>>2],A[a>>2]=A[r>>2],A[a+4>>2]=A[r+4>>2],A[a+8>>2]=A[r+8>>2],A[a+12>>2]=A[r+12>>2],A[r>>2]=A[c>>2],A[r+4>>2]=A[c+4>>2],A[r+8>>2]=A[c+8>>2],A[r+12>>2]=A[c+12>>2],(0|(l=0|A[(h=o)+4>>2]))<(0|(u=0|A[(e=a)+4>>2]))|((0|l)==(0|u)?(0|A[h>>2])>>>0<(0|A[e>>2])>>>0:0)?(A[c>>2]=A[o>>2],A[c+4>>2]=A[o+4>>2],A[c+8>>2]=A[o+8>>2],A[c+12>>2]=A[o+12>>2],A[o>>2]=A[a>>2],A[o+4>>2]=A[a+4>>2],A[o+8>>2]=A[a+8>>2],A[o+12>>2]=A[a+12>>2],A[a>>2]=A[c>>2],A[a+4>>2]=A[c+4>>2],A[a+8>>2]=A[c+8>>2],A[a+12>>2]=A[c+12>>2],(0|(l=0|A[(h=s)+4>>2]))<(0|(u=0|A[(e=o)+4>>2]))|((0|l)==(0|u)?(0|A[h>>2])>>>0<(0|A[e>>2])>>>0:0)?(A[c>>2]=A[s>>2],A[c+4>>2]=A[s+4>>2],A[c+8>>2]=A[s+8>>2],A[c+12>>2]=A[s+12>>2],A[s>>2]=A[o>>2],A[s+4>>2]=A[o+4>>2],A[s+8>>2]=A[o+8>>2],A[s+12>>2]=A[o+12>>2],A[o>>2]=A[c>>2],A[o+4>>2]=A[c+4>>2],A[o+8>>2]=A[c+8>>2],A[o+12>>2]=A[c+12>>2],(0|(l=0|A[(h=t)+4>>2]))<(0|(u=0|A[(e=s)+4>>2]))|((0|l)==(0|u)?(0|A[h>>2])>>>0<(0|A[e>>2])>>>0:0)?(A[c>>2]=A[t>>2],A[c+4>>2]=A[t+4>>2],A[c+8>>2]=A[t+8>>2],A[c+12>>2]=A[t+12>>2],A[t>>2]=A[s>>2],A[t+4>>2]=A[s+4>>2],A[t+8>>2]=A[s+8>>2],A[t+12>>2]=A[s+12>>2],A[s>>2]=A[c>>2],A[s+4>>2]=A[c+4>>2],A[s+8>>2]=A[c+8>>2],A[s+12>>2]=A[c+12>>2],mt=n,0|(c=1)):(mt=n,0|(c=1))):(mt=n,0|(c=1))):(mt=n,0|(c=1))):(mt=n,0|(c=1));case 1:case 0:return mt=n,1;default:s=0|A[(a=t)>>2],a=0|A[a+4>>2],f=0|A[(m=r=t+16|0)>>2],i=0|A[(l=o=t+32|0)>>2],u=(0|(m=0|A[m+4>>2]))<(0|(l=0|A[l+4>>2]))|(0|m)==(0|l)&f>>>0<i>>>0;do{if((0|a)<(0|m)|(0|a)==(0|m)&s>>>0<f>>>0){if(u){A[c>>2]=A[t>>2],A[c+4>>2]=A[t+4>>2],A[c+8>>2]=A[t+8>>2],A[c+12>>2]=A[t+12>>2],A[t>>2]=A[o>>2],A[t+4>>2]=A[o+4>>2],A[t+8>>2]=A[o+8>>2],A[t+12>>2]=A[o+12>>2],A[o>>2]=A[c>>2],A[o+4>>2]=A[c+4>>2],A[o+8>>2]=A[c+8>>2],A[o+12>>2]=A[c+12>>2];break}A[c>>2]=A[t>>2],A[c+4>>2]=A[t+4>>2],A[c+8>>2]=A[t+8>>2],A[c+12>>2]=A[t+12>>2],A[t>>2]=A[r>>2],A[t+4>>2]=A[r+4>>2],A[t+8>>2]=A[r+8>>2],A[t+12>>2]=A[r+12>>2],A[r>>2]=A[c>>2],A[r+4>>2]=A[c+4>>2],A[r+8>>2]=A[c+8>>2],A[r+12>>2]=A[c+12>>2],(0|(f=0|A[(m=r)+4>>2]))<(0|l)|((0|f)==(0|l)?(0|A[m>>2])>>>0<i>>>0:0)&&(A[c>>2]=A[r>>2],A[c+4>>2]=A[r+4>>2],A[c+8>>2]=A[r+8>>2],A[c+12>>2]=A[r+12>>2],A[r>>2]=A[o>>2],A[r+4>>2]=A[o+4>>2],A[r+8>>2]=A[o+8>>2],A[r+12>>2]=A[o+12>>2],A[o>>2]=A[c>>2],A[o+4>>2]=A[c+4>>2],A[o+8>>2]=A[c+8>>2],A[o+12>>2]=A[c+12>>2])}else u&&(A[c>>2]=A[r>>2],A[c+4>>2]=A[r+4>>2],A[c+8>>2]=A[r+8>>2],A[c+12>>2]=A[r+12>>2],A[r>>2]=A[o>>2],A[r+4>>2]=A[o+4>>2],A[r+8>>2]=A[o+8>>2],A[r+12>>2]=A[o+12>>2],A[o>>2]=A[c>>2],A[o+4>>2]=A[c+4>>2],A[o+8>>2]=A[c+8>>2],A[o+12>>2]=A[c+12>>2],(0|a)<(0|(f=0|A[(m=r)+4>>2]))|((0|a)==(0|f)?s>>>0<(0|A[m>>2])>>>0:0))&&(A[c>>2]=A[t>>2],A[c+4>>2]=A[t+4>>2],A[c+8>>2]=A[t+8>>2],A[c+12>>2]=A[t+12>>2],A[t>>2]=A[r>>2],A[t+4>>2]=A[r+4>>2],A[t+8>>2]=A[r+8>>2],A[t+12>>2]=A[r+12>>2],A[r>>2]=A[c>>2],A[r+4>>2]=A[c+4>>2],A[r+8>>2]=A[c+8>>2],A[r+12>>2]=A[c+12>>2])}while(0);if((0|(r=t+48|0))==(0|e))return mt=n,1;for(s=0;;){if(i=0|A[(l=r)>>2],(0|(f=0|A[(m=o)+4>>2]))<(0|(l=0|A[l+4>>2]))|((0|f)==(0|l)?(0|A[m>>2])>>>0<i>>>0:0)){for(m=0|A[4+(f=r+8|0)>>2],A[(a=c)>>2]=A[f>>2],A[a+4>>2]=m,a=r;;){if(A[a>>2]=A[o>>2],A[a+4>>2]=A[o+4>>2],A[a+8>>2]=A[o+8>>2],A[a+12>>2]=A[o+12>>2],(0|o)==(0|t)){a=t,o=t;break}if(!((0|(f=0|A[4+(m=a=o+-16|0)>>2]))<(0|l)|((0|f)==(0|l)?(0|A[m>>2])>>>0<i>>>0:0))){h=32;break}m=o,o=a,a=m}if(32==(0|h)&&(h=0,a=o),A[(u=o)>>2]=i,A[u+4>>2]=l,f=0|A[(u=c)+4>>2],A[(m=a+8|0)>>2]=A[u>>2],A[m+4>>2]=f,8==(0|(s=s+1|0)))break}if((0|(o=r+16|0))==(0|e)){r=1,h=36;break}m=r,r=o,o=m}return 36==(0|h)?(mt=n,0|r):(mt=n,0|(m=(r+16|0)==(0|e)))}return 0}function Ut(t,e){e|=0;var i,n,r,s,o=0,a=0,l=0,u=0,h=0,c=0;(o=1+(u=(r=(0|A[(i=4+(t|=0)|0)>>2])-(n=0|A[t>>2])|0)>>3)|0)>>>0>536870911&&oi(),h=(l=(0|A[(c=t+8|0)>>2])-n|0)>>2,h=l>>3>>>0<268435455?h>>>0<o>>>0?o:h:536870911;do{if(h){if(!(h>>>0>536870911)){a=l=0|ei(h<<3);break}si(c=0|G(8),6334),A[c>>2]=4968,F(0|c,3800,18)}else a=0,l=0}while(0);o=a+(u<<3)|0,u=0|A[(s=e)+4>>2],A[(e=o)>>2]=A[s>>2],A[e+4>>2]=u,(0|r)>0&&bi(0|l,0|n,0|r),A[t>>2]=a,A[i>>2]=o+8,A[c>>2]=a+(h<<3),n&&ni(n)}function Ot(t,e){e|=0;var i,n,r,s,o=0,a=0,l=0,u=0,h=0;(o=1+(i=(s=(0|A[(n=4+(t|=0)|0)>>2])-(r=0|A[t>>2])|0)>>2)|0)>>>0>1073741823&&oi(),u=(l=(0|A[(h=t+8|0)>>2])-r|0)>>1,u=l>>2>>>0<536870911?u>>>0<o>>>0?o:u:1073741823;do{if(u){if(!(u>>>0>1073741823)){a=l=0|ei(u<<2);break}si(h=0|G(8),6334),A[h>>2]=4968,F(0|h,3800,18)}else a=0,l=0}while(0);A[(o=a+(i<<2)|0)>>2]=A[e>>2],(0|s)>0&&bi(0|l,0|r,0|s),A[t>>2]=a,A[n>>2]=o+4,A[h>>2]=a+(u<<2),r&&ni(r)}function Yt(t,e){e|=0;var i,n,r,s,o=0,a=0,l=0,u=0,h=0;(o=1+(i=(s=(0|A[(n=4+(t|=0)|0)>>2])-(r=0|A[t>>2])|0)>>2)|0)>>>0>1073741823&&oi(),u=(l=(0|A[(h=t+8|0)>>2])-r|0)>>1,u=l>>2>>>0<536870911?u>>>0<o>>>0?o:u:1073741823;do{if(u){if(!(u>>>0>1073741823)){a=l=0|ei(u<<2);break}si(h=0|G(8),6334),A[h>>2]=4968,F(0|h,3800,18)}else a=0,l=0}while(0);A[(o=a+(i<<2)|0)>>2]=A[e>>2],(0|s)>0&&bi(0|l,0|r,0|s),A[t>>2]=a,A[n>>2]=o+4,A[h>>2]=a+(u<<2),r&&ni(r)}function Ht(t,e){e|=0;var i,n,r,s,o=0,a=0,l=0,u=0,h=0;(o=1+(i=(s=(0|A[(n=4+(t|=0)|0)>>2])-(r=0|A[t>>2])|0)>>2)|0)>>>0>1073741823&&oi(),u=(l=(0|A[(h=t+8|0)>>2])-r|0)>>1,u=l>>2>>>0<536870911?u>>>0<o>>>0?o:u:1073741823;do{if(u){if(!(u>>>0>1073741823)){a=l=0|ei(u<<2);break}si(h=0|G(8),6334),A[h>>2]=4968,F(0|h,3800,18)}else a=0,l=0}while(0);A[(o=a+(i<<2)|0)>>2]=A[e>>2],(0|s)>0&&bi(0|l,0|r,0|s),A[t>>2]=a,A[n>>2]=o+4,A[h>>2]=a+(u<<2),r&&ni(r)}function Jt(t,e,i,n,r){i|=0,n|=0;var s=0,o=0;o=0|Wi[31&A[(r|=0)>>2]](0|A[(e|=0)>>2],0|A[(t|=0)>>2]),s=0|Wi[31&A[r>>2]](0|A[i>>2],0|A[e>>2]);do{if(o){if(o=0|A[t>>2],s){A[t>>2]=A[i>>2],A[i>>2]=o,s=1;break}A[t>>2]=A[e>>2],A[e>>2]=o,0|Wi[31&A[r>>2]](0|A[i>>2],o)?(s=0|A[e>>2],A[e>>2]=A[i>>2],A[i>>2]=s,s=2):s=1}else s?(o=0|A[e>>2],A[e>>2]=A[i>>2],A[i>>2]=o,0|Wi[31&A[r>>2]](0|A[e>>2],0|A[t>>2])?(s=0|A[t>>2],A[t>>2]=A[e>>2],A[e>>2]=s,s=2):s=1):s=0}while(0);return 0|Wi[31&A[r>>2]](0|A[n>>2],0|A[i>>2])?(o=0|A[i>>2],A[i>>2]=A[n>>2],A[n>>2]=o,0|Wi[31&A[r>>2]](0|A[i>>2],0|A[e>>2])?(n=0|A[e>>2],A[e>>2]=A[i>>2],A[i>>2]=n,0|Wi[31&A[r>>2]](0|A[e>>2],0|A[t>>2])?(r=0|A[t>>2],A[t>>2]=A[e>>2],A[e>>2]=r,0|(r=s+3|0)):0|(r=s+2|0)):0|(r=s+1|0)):0|(r=s)}function jt(t,e){var i,n,r=0,s=0,o=0,a=0,l=0,u=0,h=0,c=0,f=0,m=0,_=0,g=0,d=0,p=0,y=0;n=0|A[(d=8+(t|=0)|0)>>2],d=0|A[d+4>>2],i=0|A[(g=t)>>2],g=0|A[g+4>>2],_=e|=0,t=0;t:for(;;){if(u=_,(0|(f=0|A[(m=16+(_=0|A[_+24>>2])|0)>>2]))==(0|n)&(0|(m=0|A[m+4>>2]))==(0|d)){if((0|(o=0|A[(a=_+8|0)>>2]))==(0|i)&(0|(a=0|A[a+4>>2]))==(0|g)){t=-1,p=16;break}if((0|(s=0|A[(l=u+16|0)>>2]))==(0|n)&(0|(l=0|A[l+4>>2]))==(0|d)){if(!(((0|a)>(0|g)|(0|a)==(0|g)&o>>>0>i>>>0)^((0|(h=0|A[4+(c=u+8|0)>>2]))<(0|g)|((0|h)==(0|g)?(0|A[c>>2])>>>0<i>>>0:0)))){t=-1,p=16;break}(0|m)<(0|d)|(0|m)==(0|d)&f>>>0<n>>>0&&(s=n,l=d,p=9)}else p=8}else l=0|A[4+(s=u+16|0)>>2],s=0|A[s>>2],p=8;8==(0|p)&&(p=0,((0|m)<(0|d)|(0|m)==(0|d)&f>>>0<n>>>0)^((0|l)<(0|d)|(0|l)==(0|d)&s>>>0<n>>>0)&&(p=9));do{if(9==(0|p)){if(p=0,h=0|A[(c=u+8|0)>>2],o=0|A[(a=_+8|0)>>2],u=(0|(a=0|A[a+4>>2]))>(0|g)|(0|a)==(0|g)&o>>>0>i>>>0,(0|(c=0|A[c+4>>2]))<(0|g)|(0|c)==(0|g)&h>>>0<i>>>0){if(!u)break;if(y=+((c=0|Ci(0|h,0|c,0|i,0|g))>>>0)+4294967296*+(0|V()),y=(+((c=0|Ci(0|f,0|m,0|n,0|d))>>>0)+4294967296*+(0|V()))*y,r=+((c=0|Ci(0|o,0|a,0|i,0|g))>>>0)+4294967296*+(0|V()),0!=(r=y-(+((c=0|Ci(0|s,0|l,0|n,0|d))>>>0)+4294967296*+(0|V()))*r)){t=((0|m)>(0|l)|(0|m)==(0|l)&f>>>0>s>>>0)^r>0?t:1-t|0;break}t=-1,p=16;break t}if(u){t=1-t|0;break}if(y=+((c=0|Ci(0|h,0|c,0|i,0|g))>>>0)+4294967296*+(0|V()),y=(+((c=0|Ci(0|f,0|m,0|n,0|d))>>>0)+4294967296*+(0|V()))*y,r=+((c=0|Ci(0|o,0|a,0|i,0|g))>>>0)+4294967296*+(0|V()),0!=(r=y-(+((c=0|Ci(0|s,0|l,0|n,0|d))>>>0)+4294967296*+(0|V()))*r)){t=((0|m)>(0|l)|(0|m)==(0|l)&f>>>0>s>>>0)^r>0?t:1-t|0;break}t=-1,p=16;break t}}while(0);if((0|_)==(0|e)){p=16;break}}return 16==(0|p)?0|t:0}function Kt(t,e,i){e|=0,i|=0;var n=0,r=0,s=0,o=0,a=0,l=0,u=0,h=0,c=0,f=0,m=0,_=0,g=0,d=0,p=0,y=0,C=0;return s=32+(t|=0)|0,n=0|Ci(0|A[(r=t+40|0)>>2],0|A[r+4>>2],0|A[(n=t+8|0)>>2],0|A[n+4>>2]),r=0|V(),o=0|Ci(0|A[(a=e+32|0)>>2],0|A[a+4>>2],0|A[(o=e)>>2],0|A[o+4>>2]),a=0|V(),i?(g=(0|r)<0,C=0|Bi(0|n,0|r,63),V(),l=(0|a)<0,u=0|Bi(0|o,0|a,63),V(),u=(0|C)==(0|u),C=0|Ci(0,0,0|n,0|r),_=0|V(),C=g?C:n,_=g?_:r,g=0|Ci(0,0,0|o,0|a),c=0|V(),g=l?g:o,l=0|pi(0|(c=l?c:a),0,0|_,0),y=0|V(),h=0|pi(0|g,0,0|C,0),r=0|V(),C=0|yi(0|(_=0|pi(0|g,0,0|_,0)),0|(g=0|V()),0|(C=0|pi(0|c,0,0|C,0)),0|V()),y=0|yi(0|V(),0,0|l,0|y),l=0|V(),C=0|yi(0,0|C,0|h,0|r),h=0|yi(0|y,0|l,1&((g=0|V())>>>0<r>>>0|(0|g)==(0|r)&C>>>0<h>>>0)|0,0),r=0|V(),l=0==(0|C)&0==(0|g),y=0|Ci(0,0,0|C,0|g),_=0|V(),c=0|Ci(0,0,0|h,0|r),n=0|V(),p=0|Ci(0|A[(f=s)>>2],0|A[f+4>>2],0|A[(p=t)>>2],0|A[p+4>>2]),f=0|V(),m=0|Ci(0|A[(t=e+40|0)>>2],0|A[t+4>>2],0|A[(m=e+8|0)>>2],0|A[m+4>>2]),t=0|V(),s=(0|f)<0,a=0|Bi(0|p,0|f,63),V(),d=(0|t)<0,i=0|Bi(0|m,0|t,63),V(),i=(0|a)==(0|i),a=0|Ci(0,0,0|p,0|f),e=0|V(),p=s?a:p,f=s?e:f,e=0|Ci(0,0,0|m,0|t),s=0|V(),m=d?e:m,s=0|pi(0|(t=d?s:t),0,0|f,0),d=0|V(),e=0|pi(0|m,0,0|p,0),a=0|V(),p=0|yi(0|(f=0|pi(0|m,0,0|f,0)),0|(m=0|V()),0|(p=0|pi(0|t,0,0|p,0)),0|V()),d=0|yi(0|V(),0,0|s,0|d),s=0|V(),p=0|yi(0,0|p,0|e,0|a),e=0|yi(0|d,0|s,1&((m=0|V())>>>0<a>>>0|(0|m)==(0|a)&p>>>0<e>>>0)|0,0),a=0|V(),s=0==(0|p)&0==(0|m),d=0|Ci(0,0,0|p,0|m),f=0|V(),t=0|Ci(0,0,0|e,0|a),o=0|V(),((0|(u?C:y))==(0|(i?p:d))?(0|(u?g:_))==(0|(i?m:f)):0)&((0|(u?h:l?c:~h))==(0|(i?e:s?t:~e))?(0|(u?r:l?n:~r))==(0|(i?a:s?o:~a)):0)|0):(p=0|pi(0|o,0|a,0|n,0|r),C=0|V(),d=0|Ci(0|A[(y=s)>>2],0|A[y+4>>2],0|A[(d=t)>>2],0|A[d+4>>2]),y=0|V(),(0|p)==(0|(y=0|pi(0|(g=0|Ci(0|A[(_=e+40|0)>>2],0|A[_+4>>2],0|A[(g=e+8|0)>>2],0|A[g+4>>2])),0|V(),0|d,0|y)))&(0|C)==(0|V())|0)}function qt(t,e,i){i|=0;var n,r=0,s=0,o=0,a=0,l=0,u=0,h=0,c=0,f=0,m=0,g=0,d=0,p=0,y=0;p=+_[48+(t|=0)>>3],n=+_[48+(e|=0)>>3];do{if(p==n){if(r=0|A[(s=t+24|0)>>2],s=0|A[s+4>>2],A[(e=i+8|0)>>2]=r,A[e+4>>2]=s,(0|A[(e=t+40|0)>>2])==(0|r)&&(0|A[e+4>>2])==(0|s)){r=0|A[(s=t+32|0)>>2],s=0|A[s+4>>2];break}d=0|A[(e=t)>>2],e=0|A[e+4>>2],p*=+((r=0|Ci(0|r,0|s,0|A[(t=t+8|0)>>2],0|A[t+4>>2]))>>>0)+4294967296*+(0|V()),r=0|yi(0|d,0|e,~~(p+=p<0?-.5:.5)>>>0|0,0|(+v(p)>=1?p>0?~~+k(+C(p/4294967296),4294967295)>>>0:~~+S((p-+(~~p>>>0))/4294967296)>>>0:0)),s=0|V();break}do{if(0==p){if(r=0|A[(s=t)>>2],s=0|A[s+4>>2],A[(o=i)>>2]=r,A[o+4>>2]=s,a=0|A[(o=e+8|0)>>2],o=0|A[o+4>>2],-1e40==n){A[(d=r=i+8|0)>>2]=a,A[d+4>>2]=o;break}h=(+(r>>>0)+4294967296*+(0|s))/n+(+(a>>>0)+4294967296*+(0|o)-(+((0|A[(d=e)>>2])>>>0)+4294967296*+(0|A[d+4>>2]))/n),a=~~(h+=h<0?-.5:.5)>>>0,o=+v(h)>=1?h>0?~~+k(+C(h/4294967296),4294967295)>>>0:~~+S((h-+(~~h>>>0))/4294967296)>>>0:0,A[(d=r=i+8|0)>>2]=a,A[d+4>>2]=o;break}if(0==n){if(r=0|A[(s=e)>>2],s=0|A[s+4>>2],A[(o=i)>>2]=r,A[o+4>>2]=s,a=0|A[(o=t+8|0)>>2],o=0|A[o+4>>2],-1e40==p){A[(d=r=i+8|0)>>2]=a,A[d+4>>2]=o;break}h=(+(r>>>0)+4294967296*+(0|s))/p+(+(a>>>0)+4294967296*+(0|o)-(+((0|A[(d=t)>>2])>>>0)+4294967296*+(0|A[d+4>>2]))/p),a=~~(h+=h<0?-.5:.5)>>>0,o=+v(h)>=1?h>0?~~+k(+C(h/4294967296),4294967295)>>>0:~~+S((h-+(~~h>>>0))/4294967296)>>>0:0,A[(d=r=i+8|0)>>2]=a,A[d+4>>2]=o;break}if(l=+((0|A[(a=t)>>2])>>>0)+4294967296*+(0|A[a+4>>2])-p*(+((0|A[(o=t+8|0)>>2])>>>0)+4294967296*+(0|A[o+4>>2])),a=~~(y=(h=((u=+((0|A[(o=e)>>2])>>>0)+4294967296*+(0|A[o+4>>2])-n*(+((0|A[(a=e+8|0)>>2])>>>0)+4294967296*+(0|A[a+4>>2])))-l)/(p-n))+(h<0?-.5:.5))>>>0,o=+v(y)>=1?y>0?~~+k(+C(y/4294967296),4294967295)>>>0:~~+S((y-+(~~y>>>0))/4294967296)>>>0:0,A[(d=r=i+8|0)>>2]=a,A[d+4>>2]=o,+v(+p)<+v(+n)){y=l+p*h,g=+v(y+=y<0?-.5:.5)>=1?y>0?~~+k(+C(y/4294967296),4294967295)>>>0:~~+S((y-+(~~y>>>0))/4294967296)>>>0:0,A[(d=i)>>2]=~~y>>>0,A[d+4>>2]=g;break}y=u+n*h,g=+v(y+=y<0?-.5:.5)>=1?y>0?~~+k(+C(y/4294967296),4294967295)>>>0:~~+S((y-+(~~y>>>0))/4294967296)>>>0:0,A[(d=i)>>2]=~~y>>>0,A[d+4>>2]=g;break}while(0);if(s=0|A[(f=d=t+40|0)>>2],c=0|A[(m=g=e+40|0)>>2],(0|o)<(0|(f=0|A[f+4>>2]))|(0|o)==(0|f)&a>>>0<s>>>0|(0|o)<(0|(m=0|A[m+4>>2]))|(0|o)==(0|m)&a>>>0<c>>>0){a=(o=(0|f)>(0|m)|(0|f)==(0|m)&s>>>0>c>>>0)?s:c,o=o?f:m,A[(m=r)>>2]=a,A[m+4>>2]=o;do{if(+v(+p)<+v(+n)){if((0|A[(g=d)>>2])==(0|a)&&(0|A[g+4>>2])==(0|o)){s=0|A[(c=t+32|0)>>2],c=0|A[c+4>>2];break}c=0|A[(s=t)>>2],s=0|A[s+4>>2],y=p*(+((g=0|Ci(0|a,0|o,0|A[(g=t+8|0)>>2],0|A[g+4>>2]))>>>0)+4294967296*+(0|V())),s=0|yi(0|c,0|s,~~(y+=y<0?-.5:.5)>>>0|0,0|(+v(y)>=1?y>0?~~+k(+C(y/4294967296),4294967295)>>>0:~~+S((y-+(~~y>>>0))/4294967296)>>>0:0)),c=0|V();break}if((0|A[g>>2])==(0|a)&&(0|A[g+4>>2])==(0|o)){s=0|A[(c=e+32|0)>>2],c=0|A[c+4>>2];break}c=0|A[(s=e)>>2],s=0|A[s+4>>2],y=n*(+((g=0|Ci(0|a,0|o,0|A[(g=e+8|0)>>2],0|A[g+4>>2]))>>>0)+4294967296*+(0|V())),s=0|yi(0|c,0|s,~~(y+=y<0?-.5:.5)>>>0|0,0|(+v(y)>=1?y>0?~~+k(+C(y/4294967296),4294967295)>>>0:~~+S((y-+(~~y>>>0))/4294967296)>>>0:0)),c=0|V();break}while(0);A[(g=i)>>2]=s,A[g+4>>2]=c}if(s=0|A[(c=t+24|0)>>2],!((0|o)>(0|(c=0|A[c+4>>2]))|(0|o)==(0|c)&a>>>0>s>>>0))return;if(A[(g=r)>>2]=s,A[g+4>>2]=c,+v(+p)>+v(+n)){if((0|A[(t=e+40|0)>>2])==(0|s)&&(0|A[t+4>>2])==(0|c)){r=0|A[(s=e+32|0)>>2],s=0|A[s+4>>2];break}t=0|A[(r=e)>>2],r=0|A[r+4>>2],y=n*(+((s=0|Ci(0|s,0|c,0|A[(e=e+8|0)>>2],0|A[e+4>>2]))>>>0)+4294967296*+(0|V())),r=0|yi(0|t,0|r,~~(y+=y<0?-.5:.5)>>>0|0,0|(+v(y)>=1?y>0?~~+k(+C(y/4294967296),4294967295)>>>0:~~+S((y-+(~~y>>>0))/4294967296)>>>0:0)),s=0|V();break}if((0|A[(e=d)>>2])==(0|s)&&(0|A[e+4>>2])==(0|c)){r=0|A[(s=t+32|0)>>2],s=0|A[s+4>>2];break}e=0|A[(r=t)>>2],r=0|A[r+4>>2],y=p*(+((s=0|Ci(0|s,0|c,0|A[(t=t+8|0)>>2],0|A[t+4>>2]))>>>0)+4294967296*+(0|V())),r=0|yi(0|e,0|r,~~(y+=y<0?-.5:.5)>>>0|0,0|(+v(y)>=1?y>0?~~+k(+C(y/4294967296),4294967295)>>>0:~~+S((y-+(~~y>>>0))/4294967296)>>>0:0)),s=0|V();break}while(0);A[i>>2]=r,A[i+4>>2]=s}function zt(t,e){e|=0;var i,n,r,s,o,a,l=0,u=0,h=0,c=0,f=0,m=0,_=0,g=0,d=0,p=0,y=0,C=0,I=0,B=0,E=0;B=0|A[(E=8+(o=0|A[28+(t|=0)>>2])|0)>>2],E=0|A[E+4>>2],a=0|A[(y=t+8|0)>>2],y=0|A[y+4>>2],C=0|A[(I=t+16|0)>>2],I=0|A[I+4>>2];t:do{if((0|B)==(0|a)&(0|E)==(0|y))for(u=o;;){if((0|u)==(0|t)|((0|A[(d=u+16|0)>>2])!=(0|C)?1:(0|A[d+4>>2])!=(0|I))){f=B,m=E;break t}if((0|A[(d=8+(u=0|A[u+28>>2])|0)>>2])!=(0|B)||(0|A[d+4>>2])!=(0|E)){f=B,m=E;break}}else u=o,f=a,m=y}while(0);(0|(h=0|A[(c=u+16|0)>>2]))==(0|C)&(0|(c=0|A[c+4>>2]))==(0|I)?l=-1e40:(l=+((d=0|Ci(0|A[(d=u+8|0)>>2],0|A[d+4>>2],0|a,0|y))>>>0)+4294967296*+(0|V()),l/=+((d=0|Ci(0|h,0|c,0|C,0|I))>>>0)+4294967296*+(0|V())),p=+v(+l),d=8+(u=0|A[t+24>>2])|0;t:do{if((0|A[d>>2])==(0|f)&&(0|A[d+4>>2])==(0|m)){h=u;do{if((0|h)==(0|t)|((0|A[(d=h+16|0)>>2])!=(0|C)?1:(0|A[d+4>>2])!=(0|I)))break t;d=8+(h=0|A[h+24>>2])|0}while((0|A[d>>2])==(0|f)&&(0|A[d+4>>2])==(0|m))}else h=u}while(0);(0|(c=0|A[(f=h+16|0)>>2]))==(0|C)&(0|(f=0|A[f+4>>2]))==(0|I)?l=-1e40:(l=+((d=0|Ci(0|A[(d=h+8|0)>>2],0|A[d+4>>2],0|a,0|y))>>>0)+4294967296*+(0|V()),l/=+((d=0|Ci(0|c,0|f,0|C,0|I))>>>0)+4294967296*+(0|V())),s=+v(+l),c=0|A[(f=8+(h=0|A[e+28>>2])|0)>>2],f=0|A[f+4>>2],n=0|A[(g=e+8|0)>>2],g=0|A[g+4>>2],r=0|A[(d=e+16|0)>>2],d=0|A[d+4>>2];t:do{if((0|c)==(0|n)&(0|f)==(0|g))for(;;){if((0|h)==(0|e)|((0|A[(_=h+16|0)>>2])!=(0|r)?1:(0|A[_+4>>2])!=(0|d))){_=c,m=f;break t}if((0|A[(_=8+(h=0|A[h+28>>2])|0)>>2])!=(0|c)||(0|A[_+4>>2])!=(0|f)){_=c,m=f;break}}else _=n,m=g}while(0);(0|(c=0|A[(f=h+16|0)>>2]))==(0|r)&(0|(f=0|A[f+4>>2]))==(0|d)?l=-1e40:(l=+((h=0|Ci(0|A[(h=h+8|0)>>2],0|A[h+4>>2],0|n,0|g))>>>0)+4294967296*+(0|V()),l/=+((f=0|Ci(0|c,0|f,0|r,0|d))>>>0)+4294967296*+(0|V())),i=+v(+l),f=8+(h=0|A[e+24>>2])|0;t:do{if((0|A[f>>2])==(0|_)&&(0|A[f+4>>2])==(0|m))do{if((0|h)==(0|e)|((0|A[(f=h+16|0)>>2])!=(0|r)?1:(0|A[f+4>>2])!=(0|d)))break t;f=8+(h=0|A[h+24>>2])|0}while((0|A[f>>2])==(0|_)&&(0|A[f+4>>2])==(0|m))}while(0);if((0|(c=0|A[(f=h+16|0)>>2]))==(0|r)&(0|(f=0|A[f+4>>2]))==(0|d)?l=-1e40:(l=+((e=0|Ci(0|A[(e=h+8|0)>>2],0|A[e+4>>2],0|n,0|g))>>>0)+4294967296*+(0|V()),l/=+((e=0|Ci(0|c,0|f,0|r,0|d))>>>0)+4294967296*+(0|V())),(p<s?s:p)==(i<(l=+v(+l))?l:i)&&(s<p?s:p)==(l<i?l:i)){if(!t)return 0;if(l=(l=+((E=0|yi(0|a,0|y,0|B,0|E))>>>0)+4294967296*+(0|V()))*(+((E=0|Ci(0|A[(E=o+16|0)>>2],0|A[E+4>>2],0|C,0|I))>>>0)+4294967296*+(0|V()))+0,(0|u)!=(0|t))do{I=0|A[u+28>>2],y=u+8|0,B=0|A[(E=u+16|0)>>2],E=0|A[E+4>>2],u=0|A[u+24>>2],l+=(p=+((C=0|yi(0|A[y>>2],0|A[y+4>>2],0|A[(C=I+8|0)>>2],0|A[C+4>>2]))>>>0)+4294967296*+(0|V()))*(+((E=0|Ci(0|A[(I=I+16|0)>>2],0|A[I+4>>2],0|B,0|E))>>>0)+4294967296*+(0|V()))}while((0|u)!=(0|t));return 0|.5*l>0}return!(p>=i)|!(p>=l)?s>=i?0|(t=s>=l):0|(t=0):0|(t=1)}function Xt(t){var e,i,n=0,s=0,o=0,a=0,l=0;if(A[(t|=0)>>2]=4032,A[(i=t+12|0)>>2]=l=0|A[t+8>>2],A[t+4>>2]=l,(0|(s=0|A[(e=t+28|0)>>2]))==(0|(n=0|A[(l=t+24|0)>>2])))n=s;else{a=0;do{(o=0|A[n+(a<<2)>>2])&&(ri(o),n=0|A[l>>2],s=0|A[e>>2]),a=a+1|0}while(a>>>0<s-n>>2>>>0)}A[e>>2]=n,r[t+20>>0]=0,r[t+37>>0]=0,0|(n=0|A[t+56>>2])&&(A[t+60>>2]=n,ni(n)),0|(n=0|A[t+40>>2])&&(A[t+44>>2]=n,ni(n)),0|(n=0|A[t+24>>2])&&(A[e>>2]=n,ni(n)),(n=0|A[t+8>>2])&&(A[i>>2]=n,ni(n))}function Wt(t,e){e|=0;var i=0,n=0,s=0,o=0;if(A[(t|=0)>>2]=4092,A[(i=t+4|0)>>2]=0,A[i+4>>2]=0,A[i+8>>2]=0,(n=0|Xe(e))>>>0>4294967279&&ot(),n>>>0<11){if(r[i+11>>0]=n,!n)return void(r[(n=(e=i)+n|0)>>0]=0)}else s=0|ei(o=n+16&-16),A[i>>2]=s,A[t+12>>2]=-2147483648|o,A[t+8>>2]=n,i=s;bi(0|i,0|e,0|n),r[(o=(o=i)+n|0)>>0]=0}function Zt(t,e,i){t|=0,i|=0;var n,r,s=0,o=0,a=0,l=0,u=0,h=0,c=0,f=0,m=0,g=0,d=0,p=0,y=0,C=0;if(r=mt,mt=mt+16|0,h=r,-2==(0|A[76+(e|=0)>>2])){t:do{if(i){for(s=e;(0|A[(y=s+40|0)>>2])==(0|A[(C=8+(o=0|A[s+80>>2])|0)>>2])&&(0|A[y+4>>2])==(0|A[C+4>>2]);)s=o;if((0|s)!=(0|e))do{if(-1e40!=+_[s+48>>3]){a=s,u=15;break t}s=0|A[s+84>>2]}while((0|s)!=(0|e))}else{for(s=e;(0|A[(y=s+40|0)>>2])==(0|A[(C=8+(o=0|A[s+84>>2])|0)>>2])&&(0|A[y+4>>2])==(0|A[C+4>>2]);)s=o;if((0|s)!=(0|e))do{if(-1e40!=+_[s+48>>3]){a=s,u=15;break t}s=0|A[s+80>>2]}while((0|s)!=(0|e))}}while(0);return 15==(0|u)&&(0|a)!=(0|e)?(a=0|A[4+(e=8+(s=0|A[(i?e+80|0:e+84|0)>>2])|0)>>2],A[(o=h)>>2]=A[e>>2],A[o+4>>2]=a,A[h+8>>2]=0,A[h+12>>2]=s,A[s+64>>2]=0,s=0|Zt(t,s,i),(0|(a=0|A[(o=t+12|0)>>2]))==(0|A[t+16>>2])?Ft(t+8|0,h):(A[a>>2]=A[h>>2],A[a+4>>2]=A[h+4>>2],A[a+8>>2]=A[h+8>>2],A[a+12>>2]=A[h+12>>2],A[o>>2]=16+(0|A[o>>2])),mt=r,0|(e=s)):i?(mt=r,0|(e=0|A[e+80>>2])):(mt=r,0|(e=0|A[e+84>>2]))}n=+_[e+48>>3];do{if(-1e40==n){if(o=0|A[(a=e)>>2],a=0|A[a+4>>2],u=(0|A[(u=s=0|A[(i?e+84|0:e+80|0)>>2])>>2])!=(0|o)?1:(0|A[u+4>>2])!=(0|a),-1e40!=+_[s+48>>3]){if(!u)break;u=0|A[(t=h=e+32|0)>>2],t=0|A[t+4>>2],A[h>>2]=o,A[h+4>>2]=a,A[(h=e)>>2]=u,A[h+4>>2]=t;break}u&&((0|A[(h=s+32|0)>>2])!=(0|o)||(0|A[h+4>>2])!=(0|a))&&(u=0|A[(t=h=e+32|0)>>2],t=0|A[t+4>>2],A[h>>2]=o,A[h+4>>2]=a,A[(h=e)>>2]=u,A[h+4>>2]=t)}}while(0);if(s=0|A[(a=e+40|0)>>2],a=0|A[a+4>>2],i){if((0|s)==(0|A[(C=8+(o=0|A[e+80>>2])|0)>>2])&&(0|a)==(0|A[C+4>>2])){for(s=e;-2!=(0|A[o+76>>2]);){if((0|A[(y=o+40|0)>>2])!=(0|A[(C=8+(a=0|A[o+80>>2])|0)>>2])||(0|A[y+4>>2])!=(0|A[C+4>>2])){s=o,o=a;break}s=o,o=a}a=s,l=+_[s+48>>3]}else a=e,l=n;if(-1e40==l&&-2!=(0|A[o+76>>2])){s=a;do{s=0|A[s+84>>2]}while(-1e40==+_[s+48>>3]);o=(0|(p=0|A[4+(C=s+32|0)>>2]))>(0|(y=0|A[4+(o=o+32|0)>>2]))|((0|p)==(0|y)?(0|A[C>>2])>>>0>(0|A[o>>2])>>>0:0)?s:a}else o=a;if((0|o)!=(0|e)){for(a=e,l=n;A[a+88>>2]=s=0|A[a+80>>2],(0|a)==(0|e)|-1e40!=l||(c=0|A[(f=a)>>2],f=0|A[f+4>>2],(0|c)==(0|A[(C=32+(0|A[a+84>>2])|0)>>2])&&(0|f)==(0|A[C+4>>2]))||(p=0|A[(y=C=a+32|0)>>2],y=0|A[y+4>>2],A[C>>2]=c,A[C+4>>2]=f,A[(C=a)>>2]=p,A[C+4>>2]=y),(0|o)!=(0|s);)a=s,l=+_[s+48>>3];(0|o)!=(0|e)&&-1e40==+_[o+48>>3]&&(m=0|A[(g=o)>>2],g=0|A[g+4>>2],(0|m)!=(0|A[(e=32+(0|A[o+84>>2])|0)>>2])||(0|g)!=(0|A[e+4>>2]))&&(y=0|A[(C=e=o+32|0)>>2],C=0|A[C+4>>2],A[e>>2]=m,A[e+4>>2]=g,A[(e=o)>>2]=y,A[e+4>>2]=C)}s=o+80|0}else{if((0|s)==(0|A[(g=8+(o=0|A[e+84>>2])|0)>>2])&&(0|a)==(0|A[g+4>>2])){for(s=e;-2!=(0|A[o+76>>2]);){if((0|A[(m=o+40|0)>>2])!=(0|A[(g=8+(a=0|A[o+84>>2])|0)>>2])||(0|A[m+4>>2])!=(0|A[g+4>>2])){s=o,o=a;break}s=o,o=a}a=s,l=+_[s+48>>3]}else a=e,l=n;if(-1e40==l&&-2!=(0|A[o+76>>2])){s=a;do{s=0|A[s+80>>2]}while(-1e40==+_[s+48>>3]);o=(0|(f=0|A[4+(g=s+32|0)>>2]))<(0|(m=0|A[4+(o=o+32|0)>>2]))|((0|f)==(0|m)?(0|A[g>>2])>>>0<(0|A[o>>2])>>>0:0)?a:s}else o=a;if((0|o)!=(0|e)){for(a=e,l=n;A[a+88>>2]=s=0|A[a+84>>2],(0|a)==(0|e)|-1e40!=l||(d=0|A[(p=a)>>2],p=0|A[p+4>>2],(0|d)==(0|A[(g=32+(0|A[a+80>>2])|0)>>2])&&(0|p)==(0|A[g+4>>2]))||(f=0|A[(m=g=a+32|0)>>2],m=0|A[m+4>>2],A[g>>2]=d,A[g+4>>2]=p,A[(g=a)>>2]=f,A[g+4>>2]=m),(0|o)!=(0|s);)a=s,l=+_[s+48>>3];(0|o)!=(0|e)&&-1e40==+_[o+48>>3]&&(y=0|A[(C=o)>>2],C=0|A[C+4>>2],(0|y)!=(0|A[(e=32+(0|A[o+80>>2])|0)>>2])||(0|C)!=(0|A[e+4>>2]))&&(d=0|A[(p=e=o+32|0)>>2],p=0|A[p+4>>2],A[e>>2]=y,A[e+4>>2]=C,A[(e=o)>>2]=d,A[e+4>>2]=p)}s=o+84|0}return mt=r,0|A[s>>2]}function $t(t,e,i,n){t|=0,e|=0;var s,o,a,l=0,u=0,h=0,c=0,f=0,m=0,g=0,d=0,p=0,y=0,C=0,v=0,I=0,B=0,E=0,w=0,b=0,x=0,S=0,Q=0,k=0,D=0,M=0,R=0,T=0,P=0,N=0,L=0,U=0,O=0,Y=0,H=0,J=0,j=0,K=0,q=0,z=0,X=0,W=0,Z=0,$=0,tt=0;P=mt,mt=mt+32|0,o=P+16|0,a=P,1==(0|(i|=0))&(s=1^(n|=0))&&(Wt(P=0|G(16),5170),F(0|P,2928,9)),l=((T=(0|A[e+4>>2])-(g=0|A[e>>2])|0)>>4)-1|0;t:do{if((0|T)>16&n)for(h=0|A[(c=g)>>2],c=0|A[c+4>>2],m=g+8|0;;){if((0|A[(T=g+(l<<4)|0)>>2])!=(0|h)||(0|A[T+4>>2])!=(0|c))break t;if((0|A[(R=g+(l<<4)+8|0)>>2])!=(0|A[(T=m)>>2])||(0|A[R+4>>2])!=(0|A[T+4>>2]))break t;if(u=l+-1|0,!((0|l)>1)){l=u;break}l=u}}while(0);t:do{if((0|l)>0)for(h=0|A[(c=g+(l<<4)|0)>>2],c=0|A[c+4>>2];;){if((0|h)!=(0|A[(T=g+((u=l+-1|0)<<4)|0)>>2])||(0|c)!=(0|A[T+4>>2]))break t;if((0|A[(R=g+(l<<4)+8|0)>>2])!=(0|A[(T=g+(u<<4)+8|0)>>2])||(0|A[R+4>>2])!=(0|A[T+4>>2]))break t;if(!((0|l)>1)){l=u;break}l=u}}while(0);if(n?(0|l)<2:(0|l)<1)return mt=P,0;if(T=0|ii((u=l+1|0)>>>0>38347922?-1:112*u|0),u){u=T+(112*u|0)|0,h=T;do{y=(p=h)+48|0;do{A[p>>2]=0,p=p+4|0}while((0|p)<(0|y));h=h+112|0}while((0|h)!=(0|u));d=e,c=0|A[e>>2]}else d=e,c=g;A[o>>2]=T,A[(M=T+128|0)>>2]=A[(h=c+16|0)>>2],A[M+4>>2]=A[h+4>>2],A[M+8>>2]=A[h+8>>2],A[M+12>>2]=A[h+12>>2],M=t+20|0,u=0|A[(h=c)>>2],h=0|A[h+4>>2],R=T;do{if(0|r[M>>0])v=22;else{if(Q=0|yi(0|A[(Q=c+8|0)>>2],0|A[Q+4>>2],1073741823,0),S=0|V(),D=0|yi(0|u,0|h,1073741823,0),S>>>0>0|0==(0|S)&Q>>>0>2147483646|(k=0|V())>>>0>0|0==(0|k)&D>>>0>2147483646){r[M>>0]=1,v=22;break}if(h=0|A[(u=c+(l<<4)|0)>>2],u=0|A[u+4>>2],D=0|yi(0|A[(D=c+(l<<4)+8|0)>>2],0|A[D+4>>2],1073741823,0),(k=0|V())>>>0>0|0==(0|k)&D>>>0>2147483646){r[M>>0]=1,v=29;break}D=0|yi(0|h,0|u,1073741823,0),(k=0|V())>>>0>0|0==(0|k)&D>>>0>2147483646?(r[M>>0]=1,v=29):g=0}}while(0);do{if(22==(0|v)){if((0|h)>2097151|2097151==(0|h)&u>>>0>4294967295){l=0|G(16),A[l>>2]=4092,A[(p=l+4|0)>>2]=0,A[p+4>>2]=0,A[p+8>>2]=0,u=0|ei(48),A[p>>2]=u,A[(p=l+12|0)>>2]=-2147483600,A[(p=l+8|0)>>2]=32,h=5104,y=(p=u)+32|0;do{r[p>>0]=0|r[h>>0],p=p+1|0,h=h+1|0}while((0|p)<(0|y));r[(P=u+32|0)>>0]=0,F(0|l,2928,9)}if(D=0|yi(0|A[(D=c+8|0)>>2],0|A[D+4>>2],-1,2097151),!((0|h)<-2097152|-2097152==(0|h)&u>>>0<1|(k=0|V())>>>0>4194303|4194303==(0|k)&D>>>0>4294967294)){u=0|A[4+(h=c+(l<<4)|0)>>2],h=0|A[h>>2],v=29;break}l=0|G(16),A[l>>2]=4092,A[(p=l+4|0)>>2]=0,A[p+4>>2]=0,A[p+8>>2]=0,u=0|ei(48),A[p>>2]=u,A[(p=l+12|0)>>2]=-2147483600,A[(p=l+8|0)>>2]=32,h=5104,y=(p=u)+32|0;do{r[p>>0]=0|r[h>>0],p=p+1|0,h=h+1|0}while((0|p)<(0|y));r[(P=u+32|0)>>0]=0,F(0|l,2928,9)}}while(0);if(29==(0|v)){if((0|u)>2097151|2097151==(0|u)&h>>>0>4294967295){l=0|G(16),A[l>>2]=4092,A[(p=l+4|0)>>2]=0,A[p+4>>2]=0,A[p+8>>2]=0,u=0|ei(48),A[p>>2]=u,A[(p=l+12|0)>>2]=-2147483600,A[(p=l+8|0)>>2]=32,h=5104,y=(p=u)+32|0;do{r[p>>0]=0|r[h>>0],p=p+1|0,h=h+1|0}while((0|p)<(0|y));r[(P=u+32|0)>>0]=0,F(0|l,2928,9)}if(D=0|yi(0|A[(D=c+(l<<4)+8|0)>>2],0|A[D+4>>2],-1,2097151),(0|u)<-2097152|-2097152==(0|u)&h>>>0<1|(k=0|V())>>>0>4194303|4194303==(0|k)&D>>>0>4294967294){l=0|G(16),A[l>>2]=4092,A[(p=l+4|0)>>2]=0,A[p+4>>2]=0,A[p+8>>2]=0,u=0|ei(48),A[p>>2]=u,A[(p=l+12|0)>>2]=-2147483600,A[(p=l+8|0)>>2]=32,h=5104,y=(p=u)+32|0;do{r[p>>0]=0|r[h>>0],p=p+1|0,h=h+1|0}while((0|p)<(0|y));r[(P=u+32|0)>>0]=0,F(0|l,2928,9)}else g=1}u=T+112|0,m=T+(112*l|0)|0,y=(p=T)+112|0;do{A[p>>2]=0,p=p+4|0}while((0|p)<(0|y));A[T+80>>2]=u,A[T+84>>2]=m,A[(h=T+16|0)>>2]=A[c>>2],A[h+4>>2]=A[c+4>>2],A[h+8>>2]=A[c+8>>2],A[h+12>>2]=A[c+12>>2],A[T+76>>2]=-1,c=T+(112*(h=l+-1|0)|0)|0,u=(e=0|A[d>>2])+(l<<4)|0,y=(p=m)+112|0;do{A[p>>2]=0,p=p+4|0}while((0|p)<(0|y));A[T+(112*l|0)+80>>2]=T,A[T+(112*l|0)+84>>2]=c,A[(D=T+(112*l|0)+16|0)>>2]=A[u>>2],A[D+4>>2]=A[u+4>>2],A[D+8>>2]=A[u+8>>2],A[D+12>>2]=A[u+12>>2],A[T+(112*l|0)+76>>2]=-1;t:do{if((0|l)>1){for(d=h,l=g;;){if(u=0|A[(h=m=e+(d<<4)|0)>>2],h=0|A[h+4>>2],l<<24>>24?v=39:(Q=0|yi(0|A[(Q=e+(d<<4)+8|0)>>2],0|A[Q+4>>2],1073741823,0),S=0|V(),D=0|yi(0|u,0|h,1073741823,0),S>>>0>0|0==(0|S)&Q>>>0>2147483646|(k=0|V())>>>0>0|0==(0|k)&D>>>0>2147483646?(r[M>>0]=1,l=1,v=39):l=0),39==(0|v)){if(v=0,(0|h)>2097151|2097151==(0|h)&u>>>0>4294967295){v=41;break}if(D=0|yi(0|A[(D=e+(d<<4)+8|0)>>2],0|A[D+4>>2],-1,2097151),(0|h)<-2097152|-2097152==(0|h)&u>>>0<1|(k=0|V())>>>0>4194303|4194303==(0|k)&D>>>0>4294967294){v=41;break}}h=T+(112*(d+1|0)|0)|0,u=d,c=T+(112*(d=d+-1|0)|0)|0,y=112+(p=T+(112*u|0)|0)|0;do{A[p>>2]=0,p=p+4|0}while((0|p)<(0|y));if(A[T+(112*u|0)+80>>2]=h,A[T+(112*u|0)+84>>2]=c,A[(D=T+(112*u|0)+16|0)>>2]=A[m>>2],A[D+4>>2]=A[m+4>>2],A[D+8>>2]=A[m+8>>2],A[D+12>>2]=A[m+12>>2],A[T+(112*u|0)+76>>2]=-1,(0|u)<=1)break t}if(41==(0|v)){l=0|G(16),A[l>>2]=4092,A[(p=l+4|0)>>2]=0,A[p+4>>2]=0,A[p+8>>2]=0,u=0|ei(48),A[p>>2]=u,A[l+12>>2]=-2147483600,A[l+8>>2]=32,h=5104,y=(p=u)+32|0;do{r[p>>0]=0|r[h>>0],p=p+1|0,h=h+1|0}while((0|p)<(0|y));r[u+32>>0]=0,F(0|l,2928,9)}}}while(0);D=t+36|0,h=T,c=T;t:for(;;){l=h,m=0|A[(g=h+16|0)>>2],g=0|A[g+4>>2];e:for(;;){if(d=l+16|0,(0|m)==(0|(Q=0|A[(k=16+(u=0|A[l+80>>2])|0)>>2]))&(0|g)==(0|(k=0|A[k+4>>2]))&&!(((0|A[(x=l+24|0)>>2])!=(0|A[(S=u+24|0)>>2])?1:(0|A[x+4>>2])!=(0|A[S+4>>2]))|(0|u)==(0|c)&s)){v=45;break}if((0|(S=0|A[l+84>>2]))==(0|u)){v=66;break t}do{if(n){if(E=0|A[(w=S+16|0)>>2],w=0|A[w+4>>2],p=0|A[(y=d)>>2],y=0|A[y+4>>2],I=0|A[(B=u+24|0)>>2],B=0|A[B+4>>2],N=0==(0|r[M>>0]),m=0|Ci(0|(b=0|A[(x=S+24|0)>>2]),0|(x=0|A[x+4>>2]),0|(C=0|A[(v=l+24|0)>>2]),0|(v=0|A[v+4>>2])),g=0|V(),d=0|Ci(0|p,0|y,0|Q,0|k),e=0|V(),N){if(d=0|pi(0|d,0|e,0|m,0|g),N=0|V(),g=0|Ci(0|E,0|w,0|p,0|y),e=0|V(),!((0|d)==(0|(e=0|pi(0|(m=0|Ci(0|C,0|v,0|I,0|B)),0|V(),0|g,0|e)))&(0|N)==(0|V())))break}else if(X=(0|g)<0,tt=0|Bi(0|m,0|g,63),V(),U=(0|e)<0,O=0|Bi(0|d,0|e,63),V(),O=(0|tt)==(0|O),tt=0|Ci(0,0,0|m,0|g),z=0|V(),tt=X?tt:m,z=X?z:g,X=0|Ci(0,0,0|d,0|e),j=0|V(),X=U?X:d,U=0|pi(0|(j=U?j:e),0,0|z,0),$=0|V(),J=0|pi(0|X,0,0|tt,0),m=0|V(),tt=0|yi(0|(z=0|pi(0|X,0,0|z,0)),0|(X=0|V()),0|(tt=0|pi(0|j,0,0|tt,0)),0|V()),$=0|yi(0|V(),0,0|U,0|$),U=0|V(),tt=0|yi(0,0|tt,0|J,0|m),J=0|yi(0|$,0|U,1&((X=0|V())>>>0<m>>>0|(0|X)==(0|m)&tt>>>0<J>>>0)|0,0),m=0|V(),U=0==(0|tt)&0==(0|X),$=0|Ci(0,0,0|tt,0|X),z=0|V(),j=0|Ci(0,0,0|J,0|m),L=0|V(),Z=0|Ci(0|E,0|w,0|p,0|y),K=0|V(),q=0|Ci(0|C,0|v,0|I,0|B),H=0|V(),d=(0|K)<0,N=0|Bi(0|Z,0|K,63),V(),W=(0|H)<0,g=0|Bi(0|q,0|H,63),V(),g=(0|N)==(0|g),N=0|Ci(0,0,0|Z,0|K),Y=0|V(),Z=d?N:Z,K=d?Y:K,Y=0|Ci(0,0,0|q,0|H),d=0|V(),q=W?Y:q,d=0|pi(0|(H=W?d:H),0,0|K,0),W=0|V(),Y=0|pi(0|q,0,0|Z,0),N=0|V(),Z=0|yi(0|(K=0|pi(0|q,0,0|K,0)),0|(q=0|V()),0|(Z=0|pi(0|H,0,0|Z,0)),0|V()),W=0|yi(0|V(),0,0|d,0|W),d=0|V(),Z=0|yi(0,0|Z,0|Y,0|N),Y=0|yi(0|W,0|d,1&((q=0|V())>>>0<N>>>0|(0|q)==(0|N)&Z>>>0<Y>>>0)|0,0),N=0|V(),d=0==(0|Z)&0==(0|q),W=0|Ci(0,0,0|Z,0|q),K=0|V(),H=0|Ci(0,0,0|Y,0|N),e=0|V(),!(((0|(O?tt:$))==(0|(g?Z:W))?(0|(O?X:z))==(0|(g?q:K)):0)&((0|(O?J:U?j:~J))==(0|(g?Y:d?H:~Y))?(0|(O?m:U?L:~m))==(0|(g?N:d?e:~N)):0)))break;if(!(0|r[D>>0])){v=61;break e}if((m=(0|E)==(0|Q)&(0|w)==(0|k))&(0|b)==(0|I)&(0|x)==(0|B)){v=61;break e}if((0|E)==(0|p)&(0|w)==(0|y)&(0|b)==(0|C)&(0|x)==(0|v)){v=61;break e}if((0|p)==(0|Q)&(0|y)==(0|k)&(0|C)==(0|I)&(0|v)==(0|B)){v=61;break e}if(m){if(((0|x)<(0|v)|(0|x)==(0|v)&b>>>0<C>>>0)^((0|v)<(0|B)|(0|v)==(0|B)&C>>>0<I>>>0)){v=61;break e}break}if(((0|w)<(0|y)|(0|w)==(0|y)&E>>>0<p>>>0)^((0|y)<(0|k)|(0|y)==(0|k)&p>>>0<Q>>>0)){v=61;break e}break}}while(0);if((0|u)==(0|h)){l=h,v=66;break t}if(!n&&(0|A[u+80>>2])==(0|c)){l=c,v=68;break t}l=u,m=Q,g=k}if(45==(0|v)){if((0|l)==(0|u)){v=66;break}A[80+($=0|A[(tt=l+84|0)>>2])>>2]=u,A[84+(h=0|A[l+80>>2])>>2]=$,A[tt>>2]=0,c=(0|l)==(0|c)?u:c}else 61==(0|v)&&(A[S+80>>2]=u,A[(h=84+(0|A[l+80>>2])|0)>>2]=S,A[l+84>>2]=0,h=0|A[h>>2],c=(0|l)==(0|c)?u:c)}do{if(66==(0|v)){if(n){if((0|A[l+84>>2])==(0|A[l+80>>2])){v=70;break}v=72;break}u=l,l=0|A[l+80>>2],v=68;break}}while(0);68==(0|v)&&((0|u)==(0|l)?v=70:(r[t+37>>0]=1,A[76+(0|A[c+84>>2])>>2]=-2,v=72));t:do{if(70==(0|v))ri(T),l=0;else if(72==(0|v)){e=c+24|0,l=1,d=c;do{u=d+16|0,m=d,(0|(W=0|A[4+($=d+24|0)>>2]))<(0|(Z=0|A[4+(tt=g=24+(d=0|A[d+80>>2])|0)>>2]))|((0|W)==(0|Z)?(0|A[$>>2])>>>0<(0|A[tt>>2])>>>0:0)?(A[(tt=m+32|0)>>2]=A[u>>2],A[tt+4>>2]=A[u+4>>2],A[tt+8>>2]=A[u+8>>2],A[tt+12>>2]=A[u+12>>2],A[m>>2]=A[(tt=d+16|0)>>2],A[m+4>>2]=A[tt+4>>2],A[m+8>>2]=A[tt+8>>2],A[m+12>>2]=A[tt+12>>2]):(A[m>>2]=A[u>>2],A[m+4>>2]=A[u+4>>2],A[m+8>>2]=A[u+8>>2],A[m+12>>2]=A[u+12>>2],A[(tt=m+32|0)>>2]=A[($=d+16|0)>>2],A[tt+4>>2]=A[$+4>>2],A[tt+8>>2]=A[$+8>>2],A[tt+12>>2]=A[$+12>>2]),f=0==(0|(u=0|Ci(0|A[(h=m+40|0)>>2],0|A[h+4>>2],0|A[(u=m+8|0)>>2],0|A[u+4>>2])))&0==(0|(h=0|V()))?-1e40:(+((tt=0|Ci(0|A[($=m+32|0)>>2],0|A[$+4>>2],0|A[(tt=m)>>2],0|A[tt+4>>2]))>>>0)+4294967296*+(0|V()))/(+(u>>>0)+4294967296*+(0|h)),_[m+48>>3]=f,A[m+56>>2]=i,l=l&&(0|A[(tt=g)>>2])==(0|A[(l=e)>>2])?(0|A[tt+4>>2])==(0|A[l+4>>2]):0}while((0|d)!=(0|c));if(l){if(n){ri(T),l=0;break}for(A[76+(h=0|A[c+84>>2])>>2]=-2,$=0|A[4+(Z=c+8|0)>>2],A[(tt=a)>>2]=A[Z>>2],A[tt+4>>2]=$,A[a+8>>2]=0,A[a+12>>2]=c,A[c+60>>2]=2,A[c+64>>2]=0;l=0|A[(u=c)>>2],u=0|A[u+4>>2],(0|l)==(0|A[(tt=h+32|0)>>2])&&(0|u)==(0|A[tt+4>>2])||(Z=0|A[($=tt=c+32|0)>>2],$=0|A[$+4>>2],A[tt>>2]=l,A[tt+4>>2]=u,A[(tt=c)>>2]=Z,A[tt+4>>2]=$),-2!=(0|A[76+(l=0|A[c+80>>2])>>2]);)A[c+88>>2]=l,c=l,h=0|A[l+84>>2];(0|(u=0|A[(l=t+12|0)>>2]))==(0|A[t+16>>2])?Ft(t+8|0,a):(A[u>>2]=A[a>>2],A[u+4>>2]=A[a+4>>2],A[u+8>>2]=A[a+8>>2],A[u+12>>2]=A[a+12>>2],A[l>>2]=16+(0|A[l>>2])),(0|(u=0|A[(l=t+28|0)>>2]))==(0|A[t+32>>2])?Pt(t+24|0,o):(A[u>>2]=A[o>>2],A[l>>2]=4+(0|A[l>>2])),l=1;break}for((0|(u=0|A[(l=t+28|0)>>2]))==(0|A[t+32>>2])?Pt(t+24|0,o):(A[u>>2]=R,A[l>>2]=4+(0|A[l>>2])),(0|A[($=l=0|A[c+84>>2])>>2])==(0|A[(tt=l+32|0)>>2])&&(0|A[$+4>>2])==(0|A[tt+4>>2])&&(0|A[($=l+8|0)>>2])==(0|A[(tt=l+40|0)>>2])&&(0|A[$+4>>2])==(0|A[tt+4>>2])&&(c=0|A[c+80>>2]),d=a+8|0,e=a+12|0,p=t+12|0,y=t+16|0,C=t+8|0,m=0;;){e:for(;;){$=c,tt=l=0|A[c+84>>2];do{if((0|A[$>>2])==(0|A[tt>>2])&&(0|A[$+4>>2])==(0|A[tt+4>>2])&&(0|A[($=c+8|0)>>2])==(0|A[(tt=l+8|0)>>2])&&(0|A[$+4>>2])==(0|A[tt+4>>2])){if((0|A[($=c+16|0)>>2])==(0|A[(tt=c+32|0)>>2])&&(0|A[$+4>>2])==(0|A[tt+4>>2])&&(0|A[($=c+24|0)>>2])==(0|A[(tt=c+40|0)>>2])&&(0|A[$+4>>2])==(0|A[tt+4>>2])){v=108;break}if(u=-1e40==+_[l+48>>3],-1e40==(f=+_[c+48>>3]))u?v=113:h=c;else{if(!u)break e;v=113}if(113==(0|v)){for(v=0,u=l;-1e40==+_[48+(l=0|A[u+84>>2])>>3];)u=l;h=u,f=+_[u+48>>3]}if(-1e40==f){u=h;do{u=0|A[u+80>>2]}while(-1e40==+_[u+48>>3]);c=u,u=0|A[u+84>>2]}else c=h,u=l;if((0|A[($=c+40|0)>>2])!=(0|A[(tt=u+8|0)>>2])||(0|A[$+4>>2])!=(0|A[tt+4>>2])){v=121;break e}}else v=108}while(0);108==(0|v)&&(v=0,c=0|A[c+80>>2])}if(121==(0|v)&&(v=0,c=(0|(W=0|A[($=l)+4>>2]))<(0|(Z=0|A[(tt=c)+4>>2]))|((0|W)==(0|Z)?(0|A[$>>2])>>>0<(0|A[tt>>2])>>>0:0)?h:c),(0|c)==(0|m)){l=1;break t}m=0==(0|m)?c:m,tt=0|A[4+($=c+8|0)>>2],A[(l=a)>>2]=A[$>>2],A[l+4>>2]=tt,+_[c+48>>3]<+_[48+(l=0|A[c+84>>2])>>3]?(A[d>>2]=l,A[e>>2]=c,g=0,u=l):(A[d>>2]=c,A[e>>2]=l,g=1,u=c,c=l);do{if(n){if(l=u+64|0,(0|A[u+80>>2])==(0|c)){A[l>>2]=-1,l=1;break}A[l>>2]=1,l=-1;break}A[u+64>>2]=0,l=0}while(0);A[c+64>>2]=l,l=0|Zt(t,u,g),-2==(0|A[l+76>>2])&&(l=0|Zt(t,l,g)),h=0|Zt(t,0|A[e>>2],u=1^g),-2==(0|A[h+76>>2])&&(h=0|Zt(t,h,u)),-2!=(0|A[76+(0|A[d>>2])>>2])?-2==(0|A[76+(0|A[e>>2])>>2])&&(A[e>>2]=0):A[d>>2]=0,(0|(u=0|A[p>>2]))==(0|A[y>>2])?Ft(C,a):(A[u>>2]=A[a>>2],A[u+4>>2]=A[a+4>>2],A[u+8>>2]=A[a+8>>2],A[u+12>>2]=A[a+12>>2],A[p>>2]=16+(0|A[p>>2])),c=g?l:h}}}while(0);return mt=P,0|l}function te(t,e){var i,n,r=0,s=0,o=0,a=0,l=0,u=0,h=0,c=0,f=0,m=0,_=0,g=0,d=0,p=0,y=0,C=0,v=0,I=0,B=0;if((0|(n=0|A[56+(t|=0)>>2]))==(0|(t=0|A[(i=t+60|0)>>2])))return 0;if(s=0|A[(r=n)+4>>2],A[(y=e|=0)>>2]=A[r>>2],A[y+4>>2]=s,r=(s=t-(y=n)|0)>>3,p=t+-8|0,(0|s)>8&&(g=0|A[(d=n)>>2],d=0|A[d+4>>2],_=0|A[(m=p)+4>>2],A[(f=n)>>2]=A[m>>2],A[f+4>>2]=_,A[(f=p)>>2]=g,A[f+4>>2]=d,f=r+-1|0,16!=(0|s))&&(c=(r+-3|0)/2|0,r=t=n+8|0,(0|s)>24?(t=(g=(0|(m=0|A[t+4>>2]))<(0|(_=0|A[4+(g=d=n+16|0)>>2]))|((0|m)==(0|_)?(0|A[t>>2])>>>0<(0|A[g>>2])>>>0:0))?2:1,r=g?d:r):t=1,s=0|A[(o=r)>>2],u=0|A[(h=n)>>2],!((0|(o=0|A[o+4>>2]))<(0|(h=0|A[h+4>>2]))|(0|o)==(0|h)&s>>>0<u>>>0))){for(l=n,a=s;d=l,l=r,A[d>>2]=a,A[d+4>>2]=o,!((0|c)<(0|t)||(a=o=n+((t=t<<1|1)<<3)|0,(0|(s=t+1|0))<(0|f)?(d=o+8|0,t=(g=(0|(o=0|A[(_=o)+4>>2]))<(0|(m=0|A[(g=d)+4>>2]))|((0|o)==(0|m)?(0|A[_>>2])>>>0<(0|A[g>>2])>>>0:0))?s:t,s=g?d:a):s=a,a=0|A[(o=s)>>2],(0|(o=0|A[o+4>>2]))<(0|h)|(0|o)==(0|h)&a>>>0<u>>>0));)r=s;A[(d=r)>>2]=u,A[d+4>>2]=h}if(A[i>>2]=p,(0|n)==(0|p))return 1;for(_=m=n+8|0,d=g=n+16|0,f=p;;){if(t=0|A[(r=e)>>2],r=0|A[r+4>>2],(0|t)!=(0|A[(p=n)>>2])||(0|r)!=(0|A[p+4>>2])){t=1,r=28;break}if(s=(o=f-y|0)>>3,f=f+-8|0,(0|o)>8&&(p=0|A[(c=f)+4>>2],A[(C=n)>>2]=A[c>>2],A[C+4>>2]=p,A[(C=f)>>2]=t,A[C+4>>2]=r,C=s+-1|0,16!=(0|o))&&(c=(s+-3|0)/2|0,(0|o)>24?(t=(r=(0|(h=0|A[(t=m)+4>>2]))<(0|(p=0|A[(r=g)+4>>2]))|((0|h)==(0|p)?(0|A[t>>2])>>>0<(0|A[r>>2])>>>0:0))?2:1,r=r?d:_):(t=1,r=_),s=0|A[(o=r)>>2],u=0|A[(h=n)>>2],!((0|(o=0|A[o+4>>2]))<(0|(h=0|A[h+4>>2]))|(0|o)==(0|h)&s>>>0<u>>>0))){for(l=n,a=s;p=l,l=r,A[p>>2]=a,A[p+4>>2]=o,!((0|c)<(0|t)||(a=s=n+((t=t<<1|1)<<3)|0,(0|(o=t+1|0))<(0|C)?(t=(s=(0|(B=0|A[(v=s)+4>>2]))<(0|(I=0|A[4+(s=p=s+8|0)>>2]))|((0|B)==(0|I)?(0|A[v>>2])>>>0<(0|A[s>>2])>>>0:0))?o:t,s=s?p:a):s=a,a=0|A[(o=s)>>2],(0|(o=0|A[o+4>>2]))<(0|h)|(0|o)==(0|h)&a>>>0<u>>>0));)r=s;A[(B=r)>>2]=u,A[B+4>>2]=h}if(A[i>>2]=f,(0|n)==(0|f)){t=1,r=28;break}}return 28==(0|r)?0|t:0}function ee(t,e,i){t|=0,i|=0;var n,r,s,o,a,l,u=0,h=0;if((0|(s=0|A[(r=92+(e|=0)|0)>>2]))!=(0|(u=0|A[(l=e+96|0)>>2]))&&(0|(n=0|A[(a=i+92|0)>>2]))!=(0|(h=0|A[(o=i+96|0)>>2]))){if((0|s)!=(0|i)){if((0|n)!=(0|e)?(A[r>>2]=n,n&&(A[n+96>>2]=e,h=0|A[o>>2]),A[l>>2]=h,0|h&&(A[h+92>>2]=e),A[a>>2]=s,0|s&&(A[s+96>>2]=i),A[o>>2]=u,u?A[u+92>>2]=i:u=0):(s?(A[s+96>>2]=i,u=0|A[o>>2]):u=h,0|u&&(A[u+92>>2]=e),A[l>>2]=u,A[r>>2]=i,A[o>>2]=e,A[a>>2]=s,u=e),!(0|A[l>>2]))return void(A[t+52>>2]=e)}else n&&(A[n+96>>2]=e,u=0|A[l>>2]),0|u&&(A[u+92>>2]=i),A[o>>2]=u,A[a>>2]=e,A[l>>2]=i,A[r>>2]=n,u=0|A[o>>2];0|u||(A[t+52>>2]=i)}}function ie(t,e){t|=0;var i=0,n=0,r=0,s=0,o=0,a=0,l=0,u=0,h=0,c=0,f=0,m=0,g=0;if(g=mt,mt=mt+16|0,u=g,(a=0|A[88+(r=0|A[(e|=0)>>2])>>2])||(Wt(g=0|G(16),5207),F(0|g,2928,9)),A[a+76>>2]=A[r+76>>2],o=0|A[r+96>>2],r=0|A[r+92>>2],A[(0==(0|o)?t+52|0:o+92|0)>>2]=a,0|r&&(A[r+96>>2]=A[88+(0|A[e>>2])>>2]),A[60+(a=0|A[88+(l=0|A[e>>2])>>2])>>2]=A[l+60>>2],A[a+64>>2]=A[l+64>>2],A[a+68>>2]=A[l+68>>2],A[a+72>>2]=A[l+72>>2],A[e>>2]=a,A[(l=a+16|0)>>2]=A[a>>2],A[l+4>>2]=A[a+4>>2],A[l+8>>2]=A[a+8>>2],A[l+12>>2]=A[a+12>>2],A[96+(0|A[e>>2])>>2]=o,A[92+(0|A[e>>2])>>2]=r,-1e40!=+_[48+(r=0|A[e>>2])>>3]){if(r=0|A[(e=r+40|0)>>2],e=0|A[e+4>>2],A[(l=u)>>2]=r,A[l+4>>2]=e,l=t+56|0,(0|(a=0|A[(o=t+60|0)>>2]))==(0|A[t+64>>2])?(Ut(l,u),e=0|A[o>>2]):(A[(u=a)>>2]=r,A[u+4>>2]=e,A[o>>2]=e=a+8|0),(0|(r=e-(o=0|A[l>>2])|0))>8&&(c=0|A[(n=h=o+((s=((r>>>3)-2|0)/2|0)<<3)|0)>>2],f=0|A[(m=i=e+-8|0)>>2],(0|(n=0|A[n+4>>2]))<(0|(m=0|A[m+4>>2]))|(0|n)==(0|m)&c>>>0<f>>>0)){for(e=h,r=c;A[(c=i)>>2]=r,A[c+4>>2]=n,s&&(r=0|A[(n=i=o+((s=(s+-1|0)/2|0)<<3)|0)>>2],(0|(n=0|A[n+4>>2]))<(0|m)|(0|n)==(0|m)&r>>>0<f>>>0);)c=e,e=i,i=c;A[(c=e)>>2]=f,A[c+4>>2]=m}mt=g}else mt=g}function ne(t,e,i,n,s){e|=0,i|=0,n|=0,s|=0;var o=0,a=0,l=0,u=0,h=0,c=0,f=0,m=0;if(0|r[(m=128+(t|=0)|0)>>0])return 0;if(0|r[t+37>>0]&&(Wt(m=0|G(16),5239),F(0|m,2928,9)),r[m>>0]=1,h=c=0|A[i>>2],o=l=0|A[(u=i+4|0)>>2],(0|l)!=(0|c)){if((0|h)!=(0|o))do{a=o,0|(l=0|A[(o=o+-12|0)>>2])&&(A[a+-8>>2]=l,ni(l))}while((0|o)!=(0|h));A[u>>2]=h}if(A[t+136>>2]=n,A[t+132>>2]=s,A[t+108>>2]=e,r[t+141>>0]=0,(c=0|zi[63&A[20+(0|A[t>>2])>>2]](t))&&function(t,e){var i,n,r,s,o,a,l,u,h=0,c=0,f=0,m=0,_=0,g=0,d=0;if(u=mt,mt=mt+16|0,a=u,gt(e|=0,(0|A[(o=44+(t|=0)|0)>>2])-(0|A[(l=t+40|0)>>2])>>2),(0|(h=0|A[o>>2]))!=(0|(t=0|A[l>>2]))){for(i=a+4|0,n=a+8|0,r=e+4|0,s=e+8|0,d=0,c=h;;){if(0|A[16+(0|A[(h=t+(d<<2)|0)>>2])>>2]){if(A[a>>2]=0,A[i>>2]=0,A[n>>2]=0,0|(h=0|A[28+(0|A[16+(0|A[h>>2])>>2])>>2])){for(t=h,m=0;c=m+1|0,(0|(t=0|A[t+24>>2]))!=(0|h);)m=c;if(c>>>0>=2){for(dt(a,c),t=0;c=h+8|0,(0|(f=0|A[i>>2]))==(0|A[n>>2])?Vt(a,c):(A[f>>2]=A[c>>2],A[f+4>>2]=A[c+4>>2],A[f+8>>2]=A[c+8>>2],A[f+12>>2]=A[c+12>>2],A[i>>2]=f+16),t>>>0<m>>>0;)h=0|A[h+28>>2],t=t+1|0;if((0|(_=0|A[r>>2]))==(0|A[s>>2]))Tt(e,a),t=0|A[a>>2];else{if(A[_>>2]=0,A[(g=_+4|0)>>2]=0,A[(c=_+8|0)>>2]=0,f=(h=(0|A[i>>2])-(t=0|A[a>>2])|0)>>4,h){if(f>>>0>268435455){t=13;break}m=0|ei(h),A[g>>2]=m,A[_>>2]=m,A[c>>2]=m+(f<<4),(0|(h=(0|A[i>>2])-(t=0|A[a>>2])|0))>0&&(bi(0|m,0|t,0|h),A[g>>2]=m+(h>>>4<<4))}A[r>>2]=12+(0|A[r>>2])}0|t&&(A[i>>2]=t,ni(t))}}t=0|A[l>>2],h=0|A[o>>2]}else h=c;if((d=d+1|0)>>>0>=h-t>>2>>>0){t=3;break}c=h}3!=(0|t)?13==(0|t)&&oi():mt=u}else mt=u}(t,i),(0|(o=0|A[(s=t+44|0)>>2]))!=(0|(a=0|A[(n=t+40|0)>>2]))){h=t+40|0,u=0,o=a;do{if(a=0|A[(e=16+(l=0|A[(o=o+(u<<2)|0)>>2])|0)>>2])if(A[24+(0|A[a+28>>2])>>2]=0,o=0|A[e>>2]){do{A[e>>2]=A[o+24>>2],ni(o),o=0|A[e>>2]}while(0!=(0|o));f=20}else f=20;else l&&(f=20);20==(0|f)&&(f=0,ni(l),o=(0|A[h>>2])+(u<<2)|0),A[o>>2]=0,u=u+1|0,o=0|A[n>>2]}while(u>>>0<(0|A[s>>2])-o>>2>>>0)}return A[s>>2]=o,r[m>>0]=0,0|c}function re(t,e,i,n,s){e|=0,i|=0,n|=0,s|=0;var o,a,l,u,h=0,c=0;if(0|r[(u=128+(t|=0)|0)>>0])return 0;if(r[u>>0]=1,A[t+136>>2]=n,A[t+132>>2]=s,A[t+108>>2]=e,r[t+141>>0]=1,(l=0|zi[63&A[20+(0|A[t>>2])>>2]](t))&&function(t,e){t|=0;var i,n,s,o,a,l,u,h,c=0,f=0,m=0,_=0,g=0,d=0,p=0,y=0,C=0,v=0;if(h=mt,mt=mt+16|0,u=h,(0|(c=0|A[(n=52+(e|=0)|0)>>2]))!=(0|(f=0|A[(i=e+48|0)>>2]))){_=0,m=f;do{(f=0|A[m+(_<<2)>>2])&&(rn[63&A[4+(0|A[f>>2])>>2]](f),c=0|A[n>>2],m=0|A[i>>2]),_=_+1|0,f=c-m|0}while(_>>>0<f>>2>>>0);0|f&&(A[n>>2]=m)}if((0|A[(l=e+20|0)>>2])!=(0|(c=0|A[(a=e+16|0)>>2]))&&(A[l>>2]=c),pt(i,(0|A[(s=t+44|0)>>2])-(0|A[(o=t+40|0)>>2])>>2),(0|(c=0|A[s>>2]))==(0|(f=0|A[o>>2])))c=0;else for(C=e+56|0,y=0;;){if(t=0|A[(p=16+(g=0|A[f+(y<<2)>>2])|0)>>2]){_=t,m=0;do{m=m+1|0,_=0|A[_+24>>2]}while((0|_)!=(0|t))}else m=0;if((0|m)<2&(d=0!=(0|r[g+5>>0]))||(0|m)<3&(1^d))m=f,f=c;else{c=0|A[(t=g+8|0)>>2];do{if(0|c){if((_=0|r[g+4>>0])<<24>>24!=(f=0|r[c+4>>0])<<24>>24&&0|A[c+16>>2])break;for(;!(f<<24>>24!=_<<24>>24&&0|A[c+16>>2]);){if(!(f=0|A[c+8>>2])){c=0;break}c=f,f=0|r[f+4>>0]}A[t>>2]=c}}while(0);if(c=0|ei(48),A[c>>2]=4016,A[(f=c+4|0)>>2]=0,A[f+4>>2]=0,A[f+8>>2]=0,A[f+12>>2]=0,A[f+16>>2]=0,A[f+20>>2]=0,A[f+24>>2]=0,A[f+28>>2]=0,r[f+32>>0]=0,A[u>>2]=c,(0|(f=0|A[n>>2]))==(0|A[C>>2])?ve(i,u):(A[f>>2]=c,A[n>>2]=4+(0|A[n>>2])),A[g+12>>2]=d=0|A[u>>2],A[d+28>>2]=0,A[d+32>>2]=0,dt(d+4|0,m),(0|m)>0){d=0,c=0|A[p>>2];do{_=8+(c=0|A[c+28>>2])|0,(0|(g=0|A[(t=8+(f=0|A[u>>2])|0)>>2]))==(0|A[f+12>>2])?Vt(f+4|0,_):(A[g>>2]=A[_>>2],A[g+4>>2]=A[_+4>>2],A[g+8>>2]=A[_+8>>2],A[g+12>>2]=A[_+12>>2],A[t>>2]=16+(0|A[t>>2])),d=d+1|0}while((0|d)!=(0|m))}m=0|A[o>>2],f=0|A[s>>2]}if((y=y+1|0)>>>0>=(c=f-m>>2)>>>0)break;c=f,f=m}if(pt(a,c),(0|A[s>>2])!=(0|(c=0|A[o>>2]))){d=e+24|0,g=0;do{if(0|(t=0|A[12+(c=0|A[c+(g<<2)>>2])>>2])){do{if(0|r[c+5>>0])r[t+36>>0]=1,c=(f=0|A[l>>2])-(0|A[a>>2])|0,A[u>>2]=t,(0|A[d>>2])>>>0>f>>>0?(A[f>>2]=t,A[l>>2]=4+(0|A[l>>2])):Gt(a,u),f=e;else{if(0|(c=0|A[c+8>>2])&&0|(v=0|A[c+12>>2])){c=(_=0|A[(m=v+20|0)>>2])-(0|A[(f=v+16|0)>>2])|0,A[u>>2]=t,(0|A[v+24>>2])>>>0>_>>>0?(A[_>>2]=t,A[m>>2]=4+(0|A[m>>2])):Gt(f,u),f=v;break}c=(f=0|A[l>>2])-(0|A[a>>2])|0,A[u>>2]=t,(0|A[d>>2])>>>0>f>>>0?(A[f>>2]=t,A[l>>2]=4+(0|A[l>>2])):Gt(a,u),f=e}}while(0);A[t+28>>2]=f,A[t+32>>2]=c>>2}g=g+1|0,c=0|A[o>>2]}while(g>>>0<(0|A[s>>2])-c>>2>>>0);mt=h}else mt=h}(t,i),(0|(e=0|A[(a=t+44|0)>>2]))!=(0|(n=0|A[(o=t+40|0)>>2]))){h=t+40|0,t=0,e=n;do{if(n=0|A[(i=16+(s=0|A[(e=e+(t<<2)|0)>>2])|0)>>2])if(A[24+(0|A[n+28>>2])>>2]=0,e=0|A[i>>2]){do{A[i>>2]=A[e+24>>2],ni(e),e=0|A[i>>2]}while(0!=(0|e));c=11}else c=11;else s&&(c=11);11==(0|c)&&(c=0,ni(s),e=(0|A[h>>2])+(t<<2)|0),A[e>>2]=0,t=t+1|0,e=0|A[o>>2]}while(t>>>0<(0|A[a>>2])-e>>2>>>0)}return A[a>>2]=e,r[u>>0]=0,0|l}function se(t,e,i){e|=0,i|=0;var n,s,o,a,l,u,h,c,f,m,g,d,p,y,C,v=0,I=0,B=0,E=0,w=0,b=0,x=0,S=0,Q=0,k=0,D=0,M=0,R=0,T=0,G=0,F=0,P=0,N=0,L=0,U=0,O=0,Y=0,H=0,J=0,j=0,K=0,q=0,z=0,X=0,W=0,Z=0,$=0,tt=0,et=0,it=0,nt=0,rt=0,st=0,ot=0,at=0,At=0,lt=0,ut=0,ht=0,ct=0,ft=0,_t=0,gt=0,dt=0,pt=0,yt=0,Ct=0,vt=0,It=0,Bt=0,Et=0,wt=0,bt=0,xt=0,St=0,Qt=0,kt=0,Dt=0;if(C=mt,mt=mt+32|0,g=C+16|0,d=C,(0|(v=0|A[(y=4+(t|=0)|0)>>2]))!=(0|A[(p=t+12|0)>>2])){for(n=t+56|0,s=t+60|0,o=t+64|0,a=t+124|0,l=t+84|0,u=t+88|0,h=t+20|0,c=t+76|0,f=t+80|0,m=t+72|0;;){if((0|A[(N=v)>>2])!=(0|e)||(0|A[N+4>>2])!=(0|i)){v=99;break}A[y>>2]=v+16,N=0|A[v+12>>2],Q=0!=(0|(P=0|A[v+8>>2]));do{if(Q){if(me(t,P,0),N){if(me(t,N,P),le(t,P),A[N+68>>2]=A[P+68>>2],A[N+72>>2]=A[P+72>>2],x=0|ue(t,P)?0|he(t,P,N,P):0,v=0|A[(I=P+40|0)>>2],I=0|A[I+4>>2],A[(B=g)>>2]=v,A[B+4>>2]=I,(0|(B=0|A[s>>2]))==(0|A[o>>2])?(Ut(n,g),v=0|A[s>>2]):(A[(F=B)>>2]=v,A[F+4>>2]=I,A[s>>2]=v=B+8|0),(0|(I=v-(b=0|A[n>>2])|0))>8&&(Y=0|A[(H=U=b+((L=((I>>>3)-2|0)/2|0)<<3)|0)>>2],J=0|A[(j=O=v+-8|0)>>2],(0|(H=0|A[H+4>>2]))<(0|(j=0|A[j+4>>2]))|(0|H)==(0|j)&Y>>>0<J>>>0)){for(I=L,B=U,v=O,E=Y,w=H;A[(F=v)>>2]=E,A[F+4>>2]=w,I&&(E=0|A[(w=v=b+((I=(I+-1|0)/2|0)<<3)|0)>>2],(0|(w=0|A[w+4>>2]))<(0|j)|(0|w)==(0|j)&E>>>0<J>>>0);)F=B,B=v,v=F;A[(F=B)>>2]=J,A[F+4>>2]=j}break}if(le(t,P),x=0|ue(t,P)?0|ce(t,P,P):0,v=0|A[(I=P+40|0)>>2],I=0|A[I+4>>2],A[(B=g)>>2]=v,A[B+4>>2]=I,(0|(B=0|A[s>>2]))==(0|A[o>>2])?(Ut(n,g),v=0|A[s>>2]):(A[(F=B)>>2]=v,A[F+4>>2]=I,A[s>>2]=v=B+8|0),(0|(I=v-(b=0|A[n>>2])|0))>8&&(_t=0|A[(gt=ct=b+((ht=((I>>>3)-2|0)/2|0)<<3)|0)>>2],dt=0|A[(pt=ft=v+-8|0)>>2],(0|(gt=0|A[gt+4>>2]))<(0|(pt=0|A[pt+4>>2]))|(0|gt)==(0|pt)&_t>>>0<dt>>>0)){for(I=ht,B=ct,v=ft,E=_t,w=gt;A[(F=v)>>2]=E,A[F+4>>2]=w,I&&(E=0|A[(w=v=b+((I=(I+-1|0)/2|0)<<3)|0)>>2],(0|(w=0|A[w+4>>2]))<(0|pt)|(0|w)==(0|pt)&E>>>0<dt>>>0);)F=B,B=v,v=F;A[(F=B)>>2]=dt,A[F+4>>2]=pt}break}me(t,N,0),le(t,N),x=0|ue(t,N)?0|ce(t,N,N):0}while(0);if(0|N){if(-1e40==+_[(S=N+48|0)>>3]){if((v=0|A[a>>2])?(A[N+104>>2]=0,A[v+104>>2]=N,A[a>>2]=N):(A[a>>2]=N,A[N+104>>2]=0,v=0),A[N+100>>2]=v,0|(v=0|A[N+88>>2])&&(v=0|A[(I=v+40|0)>>2],I=0|A[I+4>>2],A[(B=g)>>2]=v,A[B+4>>2]=I,(0|(B=0|A[s>>2]))==(0|A[o>>2])?(Ut(n,g),v=0|A[s>>2]):(A[(F=B)>>2]=v,A[F+4>>2]=I,A[s>>2]=v=B+8|0),(0|(I=v-(b=0|A[n>>2])|0))>8&&(X=0|A[(W=q=b+((K=((I>>>3)-2|0)/2|0)<<3)|0)>>2],Z=0|A[($=z=v+-8|0)>>2],(0|(W=0|A[W+4>>2]))<(0|($=0|A[$+4>>2]))|(0|W)==(0|$)&X>>>0<Z>>>0))){for(I=K,B=q,v=z,E=X,w=W;A[(F=v)>>2]=E,A[F+4>>2]=w,I&&(E=0|A[(w=v=b+((I=(I+-1|0)/2|0)<<3)|0)>>2],(0|(w=0|A[w+4>>2]))<(0|$)|(0|w)==(0|$)&E>>>0<Z>>>0);)F=B,B=v,v=F;A[(F=B)>>2]=Z,A[F+4>>2]=$}}else if(v=0|A[(I=N+40|0)>>2],I=0|A[I+4>>2],A[(B=g)>>2]=v,A[B+4>>2]=I,(0|(B=0|A[s>>2]))==(0|A[o>>2])?(Ut(n,g),v=0|A[s>>2]):(A[(F=B)>>2]=v,A[F+4>>2]=I,A[s>>2]=v=B+8|0),(0|(I=v-(b=0|A[n>>2])|0))>8&&(nt=0|A[(rt=et=b+((tt=((I>>>3)-2|0)/2|0)<<3)|0)>>2],st=0|A[(ot=it=v+-8|0)>>2],(0|(rt=0|A[rt+4>>2]))<(0|(ot=0|A[ot+4>>2]))|(0|rt)==(0|ot)&nt>>>0<st>>>0)){for(I=tt,B=et,v=it,E=nt,w=rt;A[(F=v)>>2]=E,A[F+4>>2]=w,I&&(E=0|A[(w=v=b+((I=(I+-1|0)/2|0)<<3)|0)>>2],(0|(w=0|A[w+4>>2]))<(0|ot)|(0|w)==(0|ot)&E>>>0<st>>>0);)F=B,B=v,v=F;A[(F=B)>>2]=st,A[F+4>>2]=ot}if(Q){if(0|x&&-1e40==+_[S>>3]&&(0|(at=0|A[u>>2]))!=(0|(At=0|A[l>>2]))&&0|A[N+64>>2]){b=N+32|0,w=0,v=At,I=at;do{G=0|A[(D=8+(E=0|A[(B=0|A[v+(w<<2)>>2])>>2])|0)>>2],F=0|A[(k=B=B+8|0)>>2],R=0|A[(Ct=N)>>2],M=0|A[(S=b)>>2],yt=(T=(0|(D=0|A[D+4>>2]))>(0|(k=0|A[k+4>>2]))|(0|D)==(0|k)&G>>>0>F>>>0)?k:D,k=T?D:k,Q=(D=(0|(Ct=0|A[Ct+4>>2]))>(0|(S=0|A[S+4>>2]))|(0|Ct)==(0|S)&R>>>0>M>>>0)?S:Ct,((0|yt)<(0|(S=D?Ct:S))|((0|yt)==(0|S)?(T?F:G)>>>0<(D?R:M)>>>0:0))&((0|Q)<(0|k)|((0|Q)==(0|k)?(D?M:R)>>>0<(T?G:F)>>>0:0))&&(A[d>>2]=A[B>>2],A[d+4>>2]=A[B+4>>2],A[d+8>>2]=A[B+8>>2],A[d+12>>2]=A[B+12>>2],v=8+(I=0|ei(24))|0,A[g>>2]=I,A[I>>2]=E,A[I+4>>2]=x,A[v>>2]=A[d>>2],A[v+4>>2]=A[d+4>>2],A[v+8>>2]=A[d+8>>2],A[v+12>>2]=A[d+12>>2],(0|(v=0|A[c>>2]))==(0|A[f>>2])?Yt(m,g):(A[v>>2]=I,A[c>>2]=4+(0|A[c>>2])),v=0|A[l>>2],I=0|A[u>>2]),w=w+1|0}while(w>>>0<I-v>>2>>>0)}do{if((0|A[P+76>>2])>-1&&0|(lt=0|A[P+96>>2])&&(0|A[(yt=lt+16|0)>>2])==(0|A[(Ct=P)>>2])&&(0|A[yt+4>>2])==(0|A[Ct+4>>2])&&(0|A[lt+76>>2])>-1){if(v=0|A[(I=lt)>>2],I=0|A[I+4>>2],B=0|A[(E=lt+32|0)>>2],E=0|A[E+4>>2],F=0|A[(yt=P+16|0)>>2],yt=0|A[yt+4>>2],w=0|A[(b=P+24|0)>>2],b=0|A[b+4>>2],S=P+32|0,T=0|A[(R=P+32|0)>>2],R=0|A[R+4>>2],Q=0|A[(k=P+40|0)>>2],k=0|A[k+4>>2],Ct=0==(0|r[h>>0]),D=0|Ci(0|A[(M=lt+8|0)>>2],0|A[M+4>>2],0|A[(D=lt+40|0)>>2],0|A[D+4>>2]),M=0|V(),R=0|Ci(0|F,0|yt,0|T,0|R),T=0|V(),Ct){if(F=0|pi(0|R,0|T,0|D,0|M),Ct=0|V(),G=0|Ci(0|v,0|I,0|B,0|E),yt=0|V(),!((0|F)==(0|(yt=0|pi(0|(T=0|Ci(0|w,0|b,0|Q,0|k)),0|V(),0|G,0|yt)))&(0|Ct)==(0|V())))break}else if(wt=(0|M)<0,xt=0|Bi(0|D,0|M,63),V(),bt=(0|T)<0,vt=0|Bi(0|R,0|T,63),V(),vt=(0|xt)==(0|vt),xt=0|Ci(0,0,0|D,0|M),Et=0|V(),xt=wt?xt:D,Et=wt?Et:M,wt=0|Ci(0,0,0|R,0|T),Bt=0|V(),wt=bt?wt:R,M=0|pi(0|(Bt=bt?Bt:T),0,0|Et,0),bt=0|V(),It=0|pi(0|wt,0,0|xt,0),T=0|V(),xt=0|yi(0|(Et=0|pi(0|wt,0,0|Et,0)),0|(wt=0|V()),0|(xt=0|pi(0|Bt,0,0|xt,0)),0|V()),bt=0|yi(0|V(),0,0|M,0|bt),M=0|V(),xt=0|yi(0,0|xt,0|It,0|T),It=0|yi(0|bt,0|M,1&((wt=0|V())>>>0<T>>>0|(0|wt)==(0|T)&xt>>>0<It>>>0)|0,0),T=0|V(),M=0==(0|xt)&0==(0|wt),bt=0|Ci(0,0,0|xt,0|wt),Et=0|V(),Bt=0|Ci(0,0,0|It,0|T),R=0|V(),E=0|Ci(0|v,0|I,0|B,0|E),D=0|V(),b=0|Ci(0|w,0|b,0|Q,0|k),k=0|V(),F=(0|D)<0,Ct=0|Bi(0|E,0|D,63),V(),w=(0|k)<0,G=0|Bi(0|b,0|k,63),V(),G=(0|Ct)==(0|G),Ct=0|Ci(0,0,0|E,0|D),Q=0|V(),E=F?Ct:E,Q=F?Q:D,D=0|Ci(0,0,0|b,0|k),F=0|V(),b=w?D:b,F=0|pi(0|(k=w?F:k),0,0|Q,0),w=0|V(),D=0|pi(0|b,0,0|E,0),Ct=0|V(),E=0|yi(0|(Q=0|pi(0|b,0,0|Q,0)),0|(b=0|V()),0|(E=0|pi(0|k,0,0|E,0)),0|V()),w=0|yi(0|V(),0,0|F,0|w),F=0|V(),E=0|yi(0,0|E,0|D,0|Ct),D=0|yi(0|w,0|F,1&((b=0|V())>>>0<Ct>>>0|(0|b)==(0|Ct)&E>>>0<D>>>0)|0,0),Ct=0|V(),F=0==(0|E)&0==(0|b),w=0|Ci(0,0,0|E,0|b),Q=0|V(),k=0|Ci(0,0,0|D,0|Ct),yt=0|V(),!(((0|(vt?xt:bt))==(0|(G?E:w))?(0|(vt?wt:Et))==(0|(G?b:Q)):0)&((0|(vt?It:M?Bt:~It))==(0|(G?D:F?k:~D))?(0|(vt?T:M?R:~T))==(0|(G?Ct:F?yt:~Ct)):0)))break;0|A[P+64>>2]&&0|A[lt+64>>2]&&(xt=0|ce(t,lt,P),A[d>>2]=A[S>>2],A[d+4>>2]=A[S+4>>2],A[d+8>>2]=A[S+8>>2],A[d+12>>2]=A[S+12>>2],I=8+(v=0|ei(24))|0,A[g>>2]=v,A[v>>2]=x,A[v+4>>2]=xt,A[I>>2]=A[d>>2],A[I+4>>2]=A[d+4>>2],A[I+8>>2]=A[d+8>>2],A[I+12>>2]=A[d+12>>2],(0|(I=0|A[c>>2]))==(0|A[f>>2])?Yt(m,g):(A[I>>2]=v,A[c>>2]=4+(0|A[c>>2])))}}while(0);if((0|(v=0|A[(F=P+92|0)>>2]))!=(0|N)){do{if((0|A[N+76>>2])>-1&&(0|A[76+(ut=0|A[N+96>>2])>>2])>-1){if(I=0|A[(B=ut+16|0)>>2],B=0|A[B+4>>2],E=0|A[(w=ut+32|0)>>2],w=0|A[w+4>>2],wt=0|A[(bt=N+16|0)>>2],bt=0|A[bt+4>>2],b=0|A[(S=N+24|0)>>2],S=0|A[S+4>>2],Q=N+32|0,G=0|A[(T=N+32|0)>>2],T=0|A[T+4>>2],k=0|A[(D=N+40|0)>>2],D=0|A[D+4>>2],xt=0==(0|r[h>>0]),M=0|Ci(0|A[(R=ut+24|0)>>2],0|A[R+4>>2],0|A[(M=ut+40|0)>>2],0|A[M+4>>2]),R=0|V(),T=0|Ci(0|wt,0|bt,0|G,0|T),G=0|V(),xt){if(wt=0|pi(0|T,0|G,0|M,0|R),xt=0|V(),Et=0|Ci(0|I,0|B,0|E,0|w),bt=0|V(),!((0|wt)==(0|(bt=0|pi(0|(Bt=0|Ci(0|b,0|S,0|k,0|D)),0|V(),0|Et,0|bt)))&(0|xt)==(0|V())))break}else if(Qt=(0|R)<0,Dt=0|Bi(0|M,0|R,63),V(),vt=(0|G)<0,Ct=0|Bi(0|T,0|G,63),V(),Ct=(0|Dt)==(0|Ct),Dt=0|Ci(0,0,0|M,0|R),St=0|V(),Dt=Qt?Dt:M,St=Qt?St:R,Qt=0|Ci(0,0,0|T,0|G),R=0|V(),Qt=vt?Qt:T,vt=0|pi(0|(R=vt?R:G),0,0|St,0),kt=0|V(),T=0|pi(0|Qt,0,0|Dt,0),Bt=0|V(),Dt=0|yi(0|(St=0|pi(0|Qt,0,0|St,0)),0|(Qt=0|V()),0|(Dt=0|pi(0|R,0,0|Dt,0)),0|V()),kt=0|yi(0|V(),0,0|vt,0|kt),vt=0|V(),Dt=0|yi(0,0|Dt,0|T,0|Bt),T=0|yi(0|kt,0|vt,1&((Qt=0|V())>>>0<Bt>>>0|(0|Qt)==(0|Bt)&Dt>>>0<T>>>0)|0,0),Bt=0|V(),vt=0==(0|Dt)&0==(0|Qt),kt=0|Ci(0,0,0|Dt,0|Qt),St=0|V(),R=0|Ci(0,0,0|T,0|Bt),It=0|V(),xt=0|Ci(0|I,0|B,0|E,0|w),M=0|V(),D=0|Ci(0|b,0|S,0|k,0|D),G=0|V(),wt=(0|M)<0,S=0|Bi(0|xt,0|M,63),V(),k=(0|G)<0,Et=0|Bi(0|D,0|G,63),V(),Et=(0|S)==(0|Et),S=0|Ci(0,0,0|xt,0|M),yt=0|V(),S=wt?S:xt,M=wt?yt:M,yt=0|Ci(0,0,0|D,0|G),wt=0|V(),D=k?yt:D,wt=0|pi(0|(G=k?wt:G),0,0|M,0),k=0|V(),yt=0|pi(0|D,0,0|S,0),xt=0|V(),S=0|yi(0|(M=0|pi(0|D,0,0|M,0)),0|(D=0|V()),0|(S=0|pi(0|G,0,0|S,0)),0|V()),k=0|yi(0|V(),0,0|wt,0|k),wt=0|V(),S=0|yi(0,0|S,0|yt,0|xt),yt=0|yi(0|k,0|wt,1&((D=0|V())>>>0<xt>>>0|(0|D)==(0|xt)&S>>>0<yt>>>0)|0,0),xt=0|V(),wt=0==(0|S)&0==(0|D),k=0|Ci(0,0,0|S,0|D),M=0|V(),G=0|Ci(0,0,0|yt,0|xt),bt=0|V(),!(((0|(Ct?Dt:kt))==(0|(Et?S:k))?(0|(Ct?Qt:St))==(0|(Et?D:M)):0)&((0|(Ct?T:vt?R:~T))==(0|(Et?yt:wt?G:~yt))?(0|(Ct?Bt:vt?It:~Bt))==(0|(Et?xt:wt?bt:~xt)):0)))break;0!=(0|A[N+64>>2])&&0!=(0|A[ut+64>>2])&&(Dt=0|ce(t,ut,N),A[d>>2]=A[Q>>2],A[d+4>>2]=A[Q+4>>2],A[d+8>>2]=A[Q+8>>2],A[d+12>>2]=A[Q+12>>2],v=8+(I=0|ei(24))|0,A[g>>2]=I,A[I>>2]=x,A[I+4>>2]=Dt,A[v>>2]=A[d>>2],A[v+4>>2]=A[d+4>>2],A[v+8>>2]=A[d+8>>2],A[v+12>>2]=A[d+12>>2],(0|(v=0|A[c>>2]))==(0|A[f>>2])?Yt(m,g):(A[v>>2]=I,A[c>>2]=4+(0|A[c>>2])),v=0|A[F>>2])}}while(0);if(!(0==(0|v)|(0|v)==(0|N))){I=P+16|0;do{_e(t,N,v,I),v=0|A[v+92>>2]}while((0|v)!=(0|N))}}}}if((0|(v=0|A[y>>2]))==(0|A[p>>2])){v=99;break}}99!=(0|v)||(mt=C)}else mt=C}function oe(t,e,i){var n,r,s=0;if(!(0|A[52+(t|=0)>>2]))return 1;switch(function(t,e,i){e|=0,i|=0;var n,r,s,o,a,l,u,h=0,c=0,f=0,m=0,g=0,d=0,p=0,y=0,I=0;if(u=mt,mt=mt+32|0,o=u,a=u+16|0,g=0|A[52+(t|=0)>>2]){A[(l=t+124|0)>>2]=g,h=g;do{A[h+104>>2]=A[h+96>>2],A[(c=h)+100>>2]=h=0|A[h+92>>2],(0|A[(d=c+40|0)>>2])==(0|e)&&(0|A[d+4>>2])==(0|i)?(f=0|A[(m=c+32|0)>>2],m=0|A[m+4>>2]):(m=0|A[(f=c)>>2],f=0|A[f+4>>2],p=+_[c+48>>3],p*=+((d=0|Ci(0|e,0|i,0|A[(d=c+8|0)>>2],0|A[d+4>>2]))>>>0)+4294967296*+(0|V()),f=0|yi(0|m,0|f,~~(p+=p<0?-.5:.5)>>>0|0,0|(+v(p)>=1?p>0?~~+k(+C(p/4294967296),4294967295)>>>0:~~+S((p-+(~~p>>>0))/4294967296)>>>0:0)),m=0|V()),A[(d=c+16|0)>>2]=f,A[d+4>>2]=m}while(0!=(0|h));for(n=o+8|0,r=t+100|0,s=t+104|0,d=t+96|0,h=g;;){if(f=0|A[h+100>>2]){c=0,m=f;do{A[o>>2]=0,A[o+4>>2]=0,A[o+8>>2]=0,A[o+12>>2]=0,(0|(I=0|A[4+(f=h+16|0)>>2]))>(0|(y=0|A[4+(g=m+16|0)>>2]))|((0|I)==(0|y)?(0|A[f>>2])>>>0>(0|A[g>>2])>>>0:0)?(qt(h,m,o),(0|(y=0|A[(I=n)+4>>2]))<(0|i)|((0|y)==(0|i)?(0|A[I>>2])>>>0<e>>>0:0)&&((0|A[(I=h+40|0)>>2])==(0|e)&&(0|A[I+4>>2])==(0|i)?(c=0|A[(f=h+32|0)>>2],f=0|A[f+4>>2]):(f=0|A[(c=h)>>2],c=0|A[c+4>>2],p=+_[h+48>>3],p*=+((I=0|Ci(0|e,0|i,0|A[(I=h+8|0)>>2],0|A[I+4>>2]))>>>0)+4294967296*+(0|V()),c=0|yi(0|f,0|c,~~(p+=p<0?-.5:.5)>>>0|0,0|(+v(p)>=1?p>0?~~+k(+C(p/4294967296),4294967295)>>>0:~~+S((p-+(~~p>>>0))/4294967296)>>>0:0)),f=0|V()),A[(I=o)>>2]=c,A[I+4>>2]=f,A[(I=n)>>2]=e,A[I+4>>2]=i),f=8+(c=0|ei(24))|0,A[a>>2]=c,A[c>>2]=h,A[c+4>>2]=m,A[f>>2]=A[o>>2],A[f+4>>2]=A[o+4>>2],A[f+8>>2]=A[o+8>>2],A[f+12>>2]=A[o+12>>2],(0|(f=0|A[r>>2]))==(0|A[s>>2])?Ht(d,a):(A[f>>2]=c,A[r>>2]=4+(0|A[r>>2])),pe(t,h,m),c=1):h=m,m=0|A[h+100>>2]}while(0!=(0|m))}else c=0;if(!(h=0|A[h+104>>2]))break;if(A[h+100>>2]=0,!c)break;h=0|A[l>>2]}A[l>>2]=0,mt=u}else mt=u}(t,e|=0,i|=0),(i=0|A[(r=t+100|0)>>2])-(e=0|A[(n=t+96|0)>>2])>>2|0){case 1:break;case 0:return 1;default:s=3}do{if(3==(0|s)){if(0|ye(t)){i=0|A[r>>2],e=0|A[n>>2];break}return 0}}while(0);if((0|i)!=(0|e)){i=0;do{_e(t,0|A[(e=0|A[e+(i<<2)>>2])>>2],0|A[(s=e+4|0)>>2],e+8|0),ee(t,0|A[e>>2],0|A[s>>2]),0|e&&ni(e),i=i+1|0,e=0|A[n>>2]}while(i>>>0<(0|A[r>>2])-e>>2>>>0)}return A[r>>2]=e,A[t+124>>2]=0,1}function ae(t,e,i){e|=0,i|=0;var n,s,o,a,l=0,u=0,h=0,c=0,f=0,m=0,g=0,d=0,p=0,y=0,I=0,B=0,E=0,w=0,b=0,x=0,Q=0,D=0,M=0,R=0,T=0,G=0,F=0,P=0,N=0,L=0,U=0,O=0,Y=0,H=0,J=0,j=0,K=0,q=0,z=0,X=0,W=0,Z=0,$=0,tt=0,et=0,it=0,nt=0;if(a=mt,mt=mt+48|0,s=a+36|0,n=a+8|0,M=a+32|0,R=a+28|0,T=a,A[(o=a+24|0)>>2]=u=0|A[(G=52+(t|=0)|0)>>2],u){E=t+142|0,y=t+112|0,p=t+120|0,g=t+124|0,w=t+76|0,b=t+80|0,x=t+72|0;do{d=u+40|0;t:do{if((0|A[d>>2])==(0|e)&&(0|A[d+4>>2])==(0|i)){e:do{if(!(0|A[u+88>>2])){c=0|A[(f=m=u+32|0)>>2],f=0|A[f+4>>2],(0|A[(d=32+(h=0|A[u+80>>2])|0)>>2])==(0|c)&&(0|A[d+4>>2])==(0|f)&&(0|A[(d=h+40|0)>>2])==(0|e)&&(0|A[d+4>>2])==(0|i)&&0==(0|A[h+88>>2])?(B=h,d=12):d=9,9==(0|d)&&(d=0,(0|A[(h=32+(D=0|A[u+84>>2])|0)>>2])==(0|c)&&(0|A[h+4>>2])==(0|f))&&(0|A[(f=D+40|0)>>2])==(0|e)&&(0|A[f+4>>2])==(0|i)&&0==(0|A[D+88>>2])&&(B=D,d=12);do{if(12==(0|d)&&(d=0,-2!=(0|A[B+76>>2]))){if(I=+_[B+48>>3],(0|A[B+92>>2])==(0|A[B+96>>2])){if(-1e40==I)break e;break}if(-1e40!=I)break;break e}}while(0);if(0|r[E>>0]&&(f=0|ei(16),c=0|A[(h=m)+4>>2],A[(m=f+8|0)>>2]=A[h>>2],A[m+4>>2]=c,A[f+4>>2]=y,A[f>>2]=m=0|A[y>>2],A[m+4>>2]=f,A[y>>2]=f,A[p>>2]=1+(0|A[p>>2])),h=0|A[u+96>>2],_t(t,u),!h){u=G;break t}u=h+92|0;break t}}while(0);if(0|(d=0|A[u+88>>2])&&-1e40==+_[d+48>>3]){if(ie(t,o),(0|A[76+(u=0|A[o>>2])>>2])>-1&&ce(t,u,u),h=0|A[g>>2]){A[u+100>>2]=h,A[u+104>>2]=0,A[h+104>>2]=u,A[g>>2]=u,d=30;break}A[g>>2]=u,A[u+104>>2]=0,A[u+100>>2]=0,d=30;break}h=0|A[(c=u+32|0)>>2],c=0|A[c+4>>2],d=29}else c=0|A[(h=u)>>2],h=0|A[h+4>>2],I=+_[u+48>>3],I*=+((d=0|Ci(0|e,0|i,0|A[(d=u+8|0)>>2],0|A[d+4>>2]))>>>0)+4294967296*+(0|V()),h=0|yi(0|c,0|h,~~(I+=I<0?-.5:.5)>>>0|0,0|(+v(I)>=1?I>0?~~+k(+C(I/4294967296),4294967295)>>>0:~~+S((I-+(~~I>>>0))/4294967296)>>>0:0)),c=0|V(),d=29}while(0);29==(0|d)&&(A[(m=u+16|0)>>2]=h,A[m+4>>2]=c,A[(m=u+24|0)>>2]=e,A[m+4>>2]=i,d=30),30==(0|d)&&(0!=(0|r[E>>0])&&(Q=0|A[u+96>>2],(0|A[u+76>>2])>-1)&&0!=(0|Q)&0!=(0|A[u+64>>2])&&(0|A[Q+76>>2])>-1&&(0|A[(m=Q+16|0)>>2])==(0|A[(d=u+16|0)>>2])&&(0|A[m+4>>2])==(0|A[d+4>>2])&&0!=(0|A[Q+64>>2])&&(A[n>>2]=A[(m=u+16|0)>>2],A[n+4>>2]=A[m+4>>2],A[n+8>>2]=A[m+8>>2],A[n+12>>2]=A[m+12>>2],m=0|ce(t,Q,n),d=0|ce(t,u,n),h=8+(u=0|ei(24))|0,A[s>>2]=u,A[u>>2]=m,A[u+4>>2]=d,A[h>>2]=A[n>>2],A[h+4>>2]=A[n+4>>2],A[h+8>>2]=A[n+8>>2],A[h+12>>2]=A[n+12>>2],(0|(h=0|A[w>>2]))==(0|A[b>>2])?Yt(x,s):(A[h>>2]=u,A[w>>2]=4+(0|A[w>>2])),u=0|A[o>>2]),u=u+92|0),A[o>>2]=u=0|A[u>>2]}while(0!=(0|u))}else y=t+112|0,p=t+120|0,g=t+124|0;if(A[M>>2]=A[(d=t+116|0)>>2],A[R>>2]=y,u=0|A[p>>2],A[n>>2]=A[M>>2],A[s>>2]=A[R>>2],function t(e,i,n,r){e|=0,i|=0,r|=0;var s,o=0,a=0,l=0,u=0,h=0,c=0,f=0,m=0,_=0,g=0,d=0;switch(s=mt,mt=mt+32|0,f=s+20|0,c=s+16|0,l=s+12|0,h=s+8|0,_=s+4|0,g=s,0|(n|=0)){case 1:case 0:return mt=s,0|A[e>>2];case 2:return A[i>>2]=l=0|A[A[i>>2]>>2],a=l,(0|(g=0|A[4+(d=l+8|0)>>2]))<(0|(i=0|A[4+(e=8+(o=0|A[e>>2])|0)>>2]))|((0|g)==(0|i)?(0|A[d>>2])>>>0<(0|A[e>>2])>>>0:0)?(A[4+(d=0|A[a>>2])>>2]=A[(e=a+4|0)>>2],A[A[e>>2]>>2]=d,A[4+(d=0|A[o>>2])>>2]=a,A[l>>2]=d,A[o>>2]=a,A[e>>2]=o,mt=s,0|(e=a)):(mt=s,0|(e=o));default:if(o=u=0|A[e>>2],m=n>>>1)for(a=m;o=0|A[o+4>>2],(0|a)>1;)a=a+-1|0;if(a=o,A[l>>2]=u,A[h>>2]=a,A[c>>2]=A[l>>2],A[f>>2]=A[h>>2],d=0|t(c,f,m,r),A[e>>2]=d,A[_>>2]=a,A[g>>2]=a=0|A[i>>2],A[c>>2]=A[_>>2],A[f>>2]=A[g>>2],h=0|t(c,f,n-m|0,r),l=0|A[(u=d+8|0)>>2],_=a,(0|(g=0|A[4+(i=h+8|0)>>2]))<(0|(u=0|A[u+4>>2]))|((0|g)==(0|u)?(0|A[i>>2])>>>0<l>>>0:0)){o=a=0|A[h+4>>2];t:do{if((0|_)==(0|o))o=_;else for(;;){if(!((0|(g=0|A[4+(i=a+8|0)>>2]))<(0|u)|((0|g)==(0|u)?(0|A[i>>2])>>>0<l>>>0:0)))break t;if((0|_)==(0|(o=a=0|A[o+4>>2]))){o=_;break}}}while(0);A[4+(l=0|A[h>>2])>>2]=A[(o=4+(i=0|A[o>>2])|0)>>2],A[A[o>>2]>>2]=l,l=0|A[d+4>>2],A[4+(g=0|A[d>>2])>>2]=h,A[h>>2]=g,A[d>>2]=i,A[o>>2]=d,o=h}else o=d,a=h,l=0|A[d+4>>2];if(A[e>>2]=l,(0|(h=l))==(0|(u=a)))return mt=s,0|o;for(c=a;;){if((0|_)==(0|(m=c))){a=26;break}if(n=0|A[(r=l+8|0)>>2],(0|(i=0|A[4+(d=c+8|0)>>2]))<(0|(r=0|A[r+4>>2]))|((0|i)==(0|r)?(0|A[d>>2])>>>0<n>>>0:0)){f=l=0|A[m+4>>2];t:do{if((0|_)==(0|f))f=_;else for(;;){if(!((0|(i=0|A[4+(d=l+8|0)>>2]))<(0|r)|((0|i)==(0|r)?(0|A[d>>2])>>>0<n>>>0:0)))break t;if((0|_)==(0|(f=l=0|A[f+4>>2]))){f=_;break}}}while(0);A[4+(d=0|A[m>>2])>>2]=A[(i=4+(g=0|A[f>>2])|0)>>2],A[A[i>>2]>>2]=d,d=0|A[h+4>>2],A[4+(r=0|A[h>>2])>>2]=m,A[c>>2]=r,A[h>>2]=g,A[i>>2]=h,c=l,a=(0|u)==(0|m)?l:a,l=d}else l=0|A[h+4>>2];if(A[e>>2]=l,(0|(h=l))==(0|(u=a))){a=26;break}}if(26==(0|a))return mt=s,0|o}return 0}(n,s,u,T),0|(u=0|A[g>>2]))do{A[(0==(0|(c=0|A[(h=u+104|0)>>2]))?g:c+100|0)>>2]=m=0|A[(f=u+100|0)>>2],0|m&&(A[m+104>>2]=c),A[f>>2]=0,A[h>>2]=0,de(t,u),u=0|A[g>>2]}while(0!=(0|u));if(0|A[p>>2]&&(A[4+(R=0|A[(l=0|A[d>>2])>>2])>>2]=A[(T=4+(0|A[t+112>>2])|0)>>2],A[A[T>>2]>>2]=R,A[p>>2]=0,(0|l)!=(0|y)))do{T=l,l=0|A[l+4>>2],ni(T)}while((0|l)!=(0|y));if(A[o>>2]=l=0|A[G>>2],l){w=t+20|0,b=t+76|0,x=t+80|0,Q=t+72|0;do{u=l,G=l+40|0;t:do{if((0|A[G>>2])==(0|e)&&(0|A[G+4>>2])==(0|i)&&0!=(0|A[l+88>>2])){E=(0|A[l+76>>2])>-1?0|ce(t,l,l+32|0):0,ie(t,o),u=0|A[96+(l=0|A[o>>2])>>2],B=0|A[l+92>>2];do{if(0|u&&(F=0|A[(P=u+16|0)>>2],P=0|A[P+4>>2],(0|F)==(0|A[(G=l)>>2])&&(0|P)==(0|A[G+4>>2]))&&(N=0|A[(L=u+24|0)>>2],L=0|A[L+4>>2],0!=(0|E)&((0|N)==(0|A[(G=l+8|0)>>2])?(0|L)==(0|A[G+4>>2]):0))&&(0|A[u+76>>2])>-1&&(U=0|A[(O=u+40|0)>>2],(0|L)>(0|(O=0|A[O+4>>2]))|(0|L)==(0|O)&N>>>0>U>>>0)){if(h=0|A[(c=l+16|0)>>2],c=0|A[c+4>>2],f=0|A[(m=l+32|0)>>2],m=0|A[m+4>>2],y=0|A[(p=u+32|0)>>2],p=0|A[p+4>>2],G=0==(0|r[w>>0]),g=0|Ci(0|A[(d=l+24|0)>>2],0|A[d+4>>2],0|A[(g=l+40|0)>>2],0|A[g+4>>2]),d=0|V(),p=0|Ci(0|F,0|P,0|y,0|p),y=0|V(),G){if(R=0|pi(0|p,0|y,0|g,0|d),G=0|V(),!((0|R)==(0|(T=0|pi(0|(D=0|Ci(0|h,0|c,0|f,0|m)),0|(M=0|V()),0|(T=0|Ci(0|N,0|L,0|U,0|O)),0|V())))&(0|G)==(0|V())))break}else if($=(0|d)<0,et=0|Bi(0|g,0|d,63),V(),tt=(0|y)<0,z=0|Bi(0|p,0|y,63),V(),z=(0|et)==(0|z),et=0|Ci(0,0,0|g,0|d),Z=0|V(),et=$?et:g,Z=$?Z:d,$=0|Ci(0,0,0|p,0|y),W=0|V(),$=tt?$:p,p=0|pi(0|(W=tt?W:y),0,0|Z,0),tt=0|V(),X=0|pi(0|$,0,0|et,0),D=0|V(),et=0|yi(0|(Z=0|pi(0|$,0,0|Z,0)),0|($=0|V()),0|(et=0|pi(0|W,0,0|et,0)),0|V()),tt=0|yi(0|V(),0,0|p,0|tt),p=0|V(),et=0|yi(0,0|et,0|X,0|D),X=0|yi(0|tt,0|p,1&(($=0|V())>>>0<D>>>0|(0|$)==(0|D)&et>>>0<X>>>0)|0,0),D=0|V(),p=0==(0|et)&0==(0|$),tt=0|Ci(0,0,0|et,0|$),Z=0|V(),W=0|Ci(0,0,0|X,0|D),y=0|V(),g=0|Ci(0|h,0|c,0|f,0|m),f=0|V(),m=0|Ci(0|N,0|L,0|U,0|O),h=0|V(),R=(0|f)<0,G=0|Bi(0|g,0|f,63),V(),c=(0|h)<0,M=0|Bi(0|m,0|h,63),V(),M=(0|G)==(0|M),G=0|Ci(0,0,0|g,0|f),d=0|V(),g=R?G:g,f=R?d:f,d=0|Ci(0,0,0|m,0|h),R=0|V(),m=c?d:m,R=0|pi(0|f,0,0|(h=c?R:h),0),c=0|V(),d=0|pi(0|g,0,0|m,0),G=0|V(),h=0|yi(0|(m=0|pi(0|f,0,0|m,0)),0|(f=0|V()),0|(h=0|pi(0|g,0,0|h,0)),0|V()),c=0|yi(0|V(),0,0|R,0|c),R=0|V(),h=0|yi(0,0|h,0|d,0|G),d=0|yi(0|c,0|R,1&((f=0|V())>>>0<G>>>0|(0|f)==(0|G)&h>>>0<d>>>0)|0,0),G=0|V(),R=0==(0|h)&0==(0|f),c=0|Ci(0,0,0|h,0|f),m=0|V(),g=0|Ci(0,0,0|d,0|G),T=0|V(),!(((0|(z?et:tt))==(0|(M?h:c))?(0|(z?$:Z))==(0|(M?f:m)):0)&((0|(z?X:p?W:~X))==(0|(M?d:R?g:~d))?(0|(z?D:p?y:~D))==(0|(M?G:R?T:~G)):0)))break;if(0|A[l+64>>2]&&0|A[u+64>>2]){et=0|ce(t,u,l),A[n>>2]=A[(h=l+32|0)>>2],A[n+4>>2]=A[h+4>>2],A[n+8>>2]=A[h+8>>2],A[n+12>>2]=A[h+12>>2],u=8+(h=0|ei(24))|0,A[s>>2]=h,A[h>>2]=E,A[h+4>>2]=et,A[u>>2]=A[n>>2],A[u+4>>2]=A[n+4>>2],A[u+8>>2]=A[n+8>>2],A[u+12>>2]=A[n+12>>2],(0|(u=0|A[b>>2]))==(0|A[x>>2])?Yt(Q,s):(A[u>>2]=h,A[b>>2]=4+(0|A[b>>2]));break t}}}while(0);if(0!=(0|B)&&(Y=0|A[(H=B+16|0)>>2],H=0|A[H+4>>2],(0|Y)==(0|A[(et=l)>>2])&&(0|H)==(0|A[et+4>>2]))&&(J=0|A[(j=B+24|0)>>2],j=0|A[j+4>>2],0!=(0|E)&((0|J)==(0|A[(et=l+8|0)>>2])?(0|j)==(0|A[et+4>>2]):0))&&(0|A[B+76>>2])>-1&&(K=0|A[(q=B+40|0)>>2],(0|j)>(0|(q=0|A[q+4>>2]))|(0|j)==(0|q)&J>>>0>K>>>0)){if(u=0|A[(h=l+16|0)>>2],h=0|A[h+4>>2],c=0|A[(f=l+32|0)>>2],f=0|A[f+4>>2],p=0|A[(d=B+32|0)>>2],d=0|A[d+4>>2],et=0==(0|r[w>>0]),m=0|Ci(0|A[(g=l+24|0)>>2],0|A[g+4>>2],0|A[(m=l+40|0)>>2],0|A[m+4>>2]),g=0|V(),d=0|Ci(0|Y,0|H,0|p,0|d),p=0|V(),et){if($=0|pi(0|d,0|p,0|m,0|g),et=0|V(),!((0|$)==(0|(tt=0|pi(0|(W=0|Ci(0|u,0|h,0|c,0|f)),0|(Z=0|V()),0|(tt=0|Ci(0|J,0|j,0|K,0|q)),0|V())))&(0|et)==(0|V())))break}else if(D=(0|g)<0,nt=0|Bi(0|m,0|g,63),V(),z=(0|p)<0,G=0|Bi(0|d,0|p,63),V(),G=(0|nt)==(0|G),nt=0|Ci(0,0,0|m,0|g),it=0|V(),nt=D?nt:m,g=D?it:g,it=0|Ci(0,0,0|d,0|p),D=0|V(),d=z?it:d,z=0|pi(0|(D=z?D:p),0,0|g,0),it=0|V(),M=0|pi(0|d,0,0|nt,0),W=0|V(),nt=0|yi(0|(d=0|pi(0|d,0,0|g,0)),0|(g=0|V()),0|(nt=0|pi(0|D,0,0|nt,0)),0|V()),it=0|yi(0|V(),0,0|z,0|it),z=0|V(),nt=0|yi(0,0|nt,0|M,0|W),M=0|yi(0|it,0|z,1&((g=0|V())>>>0<W>>>0|(0|g)==(0|W)&nt>>>0<M>>>0)|0,0),W=0|V(),z=0==(0|nt)&0==(0|g),it=0|Ci(0,0,0|nt,0|g),d=0|V(),D=0|Ci(0,0,0|M,0|W),X=0|V(),R=0|Ci(0|u,0|h,0|c,0|f),p=0|V(),y=0|Ci(0|J,0|j,0|K,0|q),f=0|V(),$=(0|p)<0,et=0|Bi(0|R,0|p,63),V(),m=(0|f)<0,Z=0|Bi(0|y,0|f,63),V(),Z=(0|et)==(0|Z),et=0|Ci(0,0,0|R,0|p),T=0|V(),R=$?et:R,p=$?T:p,T=0|Ci(0,0,0|y,0|f),$=0|V(),y=m?T:y,$=0|pi(0|p,0,0|(f=m?$:f),0),m=0|V(),T=0|pi(0|R,0,0|y,0),et=0|V(),f=0|yi(0|(y=0|pi(0|p,0,0|y,0)),0|(p=0|V()),0|(f=0|pi(0|R,0,0|f,0)),0|V()),m=0|yi(0|V(),0,0|$,0|m),$=0|V(),f=0|yi(0,0|f,0|T,0|et),T=0|yi(0|m,0|$,1&((p=0|V())>>>0<et>>>0|(0|p)==(0|et)&f>>>0<T>>>0)|0,0),et=0|V(),$=0==(0|f)&0==(0|p),m=0|Ci(0,0,0|f,0|p),y=0|V(),R=0|Ci(0,0,0|T,0|et),tt=0|V(),!(((0|(G?nt:it))==(0|(Z?f:m))?(0|(G?g:d))==(0|(Z?p:y)):0)&((0|(G?M:z?D:~M))==(0|(Z?T:$?R:~T))?(0|(G?W:z?X:~W))==(0|(Z?et:$?tt:~et)):0)))break;0!=(0|A[l+64>>2])&&0!=(0|A[B+64>>2])&&(nt=0|ce(t,B,l),A[n>>2]=A[(h=l+32|0)>>2],A[n+4>>2]=A[h+4>>2],A[n+8>>2]=A[h+8>>2],A[n+12>>2]=A[h+12>>2],u=8+(h=0|ei(24))|0,A[s>>2]=h,A[h>>2]=E,A[h+4>>2]=nt,A[u>>2]=A[n>>2],A[u+4>>2]=A[n+4>>2],A[u+8>>2]=A[n+8>>2],A[u+12>>2]=A[n+12>>2],(0|(u=0|A[b>>2]))==(0|A[x>>2])?Yt(Q,s):(A[u>>2]=h,A[b>>2]=4+(0|A[b>>2])))}}else l=u}while(0);A[o>>2]=l=0|A[l+92>>2]}while(0!=(0|l));mt=a}else mt=a}function Ae(t,e){t|=0;var i,n,s=0,o=0,a=0,l=0,u=0,h=0,c=0,f=0,m=0,_=0,g=0,d=0,p=0,y=0,C=0,v=0,I=0,B=0,E=0,w=0,b=0,x=0,S=0,Q=0,k=0,D=0,M=0,R=0,T=0,G=0,F=0,P=0,N=0,L=0,U=0,O=0,Y=0,H=0,J=0,j=0,K=0;A[20+(e|=0)>>2]=0,n=0|r[t+36>>0]?1:0!=(0|r[t+142>>0]),o=0|A[(a=28+(e=s=0|A[(i=e+16|0)>>2])|0)>>2];t:do{if((0|o)!=(0|e)){Q=t+20|0,t=0;e:for(;;){if(S=f=0|A[(y=e+24|0)>>2],(0|o)==(0|f)){s=o;break t}k=(E=(0|(C=0|A[(v=e+8|0)>>2]))==(0|(I=0|A[(B=f+8|0)>>2]))&(0|(v=0|A[v+4>>2]))==(0|(B=0|A[B+4>>2])))&&(0|A[(x=e+16|0)>>2])==(0|A[(k=f+16|0)>>2])&&(0|A[x+4>>2])==(0|A[k+4>>2])?23:12;i:do{if(12==(0|k)){if(k=0,x=(0|(w=0|A[(b=o+8|0)>>2]))==(0|C)&(0|(b=0|A[b+4>>2]))==(0|v)){if((0|(h=0|A[(c=e+16|0)>>2]))==(0|(l=0|A[(u=o+16|0)>>2]))&(0|(c=0|A[c+4>>2]))==(0|(u=0|A[u+4>>2]))){k=23;break}p=h}else l=0|A[(u=o+16|0)>>2],u=0|A[u+4>>2],p=0|A[(c=e+16|0)>>2],c=0|A[c+4>>2];g=0|A[(d=f+16|0)>>2],d=0|A[d+4>>2],D=0==(0|r[Q>>0]),h=0|Ci(0|l,0|u,0|p,0|c),f=0|V(),m=0|Ci(0|C,0|v,0|I,0|B),_=0|V(),D?(m=0|pi(0|m,0|_,0|h,0|f),D=0|V(),f=0|Ci(0|w,0|b,0|C,0|v),_=0|V(),(0|m)==(0|(_=0|pi(0|(h=0|Ci(0|p,0|c,0|g,0|d)),0|V(),0|f,0|_)))&(0|D)==(0|V())&&(k=18)):(Y=(0|f)<0,K=0|Bi(0|h,0|f,63),V(),R=(0|_)<0,T=0|Bi(0|m,0|_,63),V(),T=(0|K)==(0|T),K=0|Ci(0,0,0|h,0|f),O=0|V(),K=Y?K:h,O=Y?O:f,Y=0|Ci(0,0,0|m,0|_),N=0|V(),Y=R?Y:m,R=0|pi(0|(N=R?N:_),0,0|O,0),j=0|V(),P=0|pi(0|Y,0,0|K,0),h=0|V(),K=0|yi(0|(O=0|pi(0|Y,0,0|O,0)),0|(Y=0|V()),0|(K=0|pi(0|N,0,0|K,0)),0|V()),j=0|yi(0|V(),0,0|R,0|j),R=0|V(),K=0|yi(0,0|K,0|P,0|h),P=0|yi(0|j,0|R,1&((Y=0|V())>>>0<h>>>0|(0|Y)==(0|h)&K>>>0<P>>>0)|0,0),h=0|V(),R=0==(0|K)&0==(0|Y),j=0|Ci(0,0,0|K,0|Y),O=0|V(),N=0|Ci(0,0,0|P,0|h),M=0|V(),J=0|Ci(0|w,0|b,0|C,0|v),L=0|V(),U=0|Ci(0|p,0|c,0|g,0|d),F=0|V(),m=(0|L)<0,D=0|Bi(0|J,0|L,63),V(),H=(0|F)<0,f=0|Bi(0|U,0|F,63),V(),f=(0|D)==(0|f),D=0|Ci(0,0,0|J,0|L),G=0|V(),J=m?D:J,L=m?G:L,G=0|Ci(0,0,0|U,0|F),m=0|V(),U=H?G:U,m=0|pi(0|(F=H?m:F),0,0|L,0),H=0|V(),G=0|pi(0|U,0,0|J,0),D=0|V(),J=0|yi(0|(L=0|pi(0|U,0,0|L,0)),0|(U=0|V()),0|(J=0|pi(0|F,0,0|J,0)),0|V()),H=0|yi(0|V(),0,0|m,0|H),m=0|V(),J=0|yi(0,0|J,0|G,0|D),G=0|yi(0|H,0|m,1&((U=0|V())>>>0<D>>>0|(0|U)==(0|D)&J>>>0<G>>>0)|0,0),D=0|V(),m=0==(0|J)&0==(0|U),H=0|Ci(0,0,0|J,0|U),L=0|V(),F=0|Ci(0,0,0|G,0|D),_=0|V(),((0|(T?K:j))==(0|(f?J:H))?(0|(T?Y:O))==(0|(f?U:L)):0)&((0|(T?P:R?N:~P))==(0|(f?G:m?F:~G))?(0|(T?h:R?M:~h))==(0|(f?D:m?_:~D)):0)&&(k=18));do{if(18==(0|k)){if(k=0,!n){k=23;break i}if((h=(0|w)==(0|I)&(0|b)==(0|B))&(0|l)==(0|g)&(0|u)==(0|d)|x&(0|l)==(0|p)&(0|u)==(0|c)|E&(0|p)==(0|g)&(0|c)==(0|d)){k=23;break i}if(h){if(((0|u)<(0|c)|(0|u)==(0|c)&l>>>0<p>>>0)^((0|c)<(0|d)|(0|c)==(0|d)&p>>>0<g>>>0)){k=23;break i}break}if(((0|b)<(0|v)|(0|b)==(0|v)&w>>>0<C>>>0)^((0|v)<(0|B)|(0|v)==(0|B)&C>>>0<I>>>0)){k=23;break i}break}}while(0);if((0|t)==(0|e)){k=27;break e}t=0==(0|t)?e:t,s=S}}while(0);if(23==(0|k)&&(k=0,A[o+24>>2]=S,A[28+(0|A[y>>2])>>2]=A[a>>2],K=0|A[a>>2],ni(s),t=0,s=K),(0|(o=0|A[(a=(e=s)+28|0)>>2]))==(0|e)){k=6;break}}if(6==(0|k)){e=s,k=7;break}if(27==(0|k))return void(A[i>>2]=e)}else k=7}while(0);if(7==(0|k)){if(!s)return void(A[i>>2]=K=0);s=e}A[s+24>>2]=0;do{K=e,e=0|A[e+24>>2],ni(K)}while(0!=(0|e));A[i>>2]=e=0}function le(t,e){t|=0;var i=0,n=0,r=0,s=0,o=0,a=0,l=0,u=0,h=0,c=0,f=0;i=0|A[96+(e|=0)>>2];t:do{if(i){for(s=0|A[e+56>>2],a=i;!((0|A[a+56>>2])==(0|s)&&0|(o=0|A[a+64>>2]));){if(!(i=0|A[a+96>>2])){l=6;break t}a=i}if((n=0==(0|(i=0|A[e+64>>2])))&&1!=(0|A[t+108>>2])){A[e+68>>2]=1,A[e+72>>2]=i=0|A[a+72>>2],r=a+92|0;break}if(0|A[(0==(0|s)?t+136|0:t+132|0)>>2]){r=0|A[a+68>>2];do{if((0|Q(o,r))<0){if(h=(0|(c=((0|r)<0)<<31>>31))<0,u=0|Ci(0,0,0|r,0|c),f=0|V(),(0|(c=h?f:c))>0|0==(0|c)&(h?u:r)>>>0>1){i=r+((f=(0|Q(o,i))<0)?0:i)|0;break}i=n?1:i;break}if(n){i=(r>>31|1)+r|0;break}i=r+((f=(0|Q(o,i))<0)?0:i)|0;break}while(0);A[e+68>>2]=i,A[e+72>>2]=i=0|A[a+72>>2],r=a+92|0;break}if(n){if(n=0|A[a+96>>2]){i=1;do{(0|A[n+56>>2])==(0|s)&&(i^=0!=(0|A[n+64>>2])),n=0|A[n+96>>2]}while(0!=(0|n))}else i=1;i=1&(1^i)}A[e+68>>2]=i,A[e+72>>2]=i=0|A[a+72>>2],r=a+92|0;break}l=6}while(0);if(6==(0|l)&&(n=0|A[e+56>>2],(i=0|A[e+64>>2])||(i=3==(0|A[(0==(0|n)?t+136|0:t+132|0)>>2])?-1:1),A[e+68>>2]=i,A[e+72>>2]=0,r=t+52|0,i=0,s=n),r=(0|(n=0|A[r>>2]))==(0|e),0|A[(0==(0|s)?t+132|0:t+136|0)>>2]){if(r)return;r=e+72|0;do{i=i+(0|A[n+64>>2])|0,n=0|A[n+92>>2]}while((0|n)!=(0|e));A[r>>2]=i}else if(!r){r=e+72|0;do{0|A[n+64>>2]&&(A[r>>2]=i=0==(0|i)&1),n=0|A[n+92>>2]}while((0|n)!=(0|e))}}function ue(t,e){var i,n,r=0,s=0,o=0,a=0,l=0;switch(s=136+(t|=0)|0,r=t+132|0,i=0|A[((n=0==(0|A[56+(e|=0)>>2]))?r:s)>>2],0|A[(n?s:r)>>2]){case 0:if(0==(0|A[e+64>>2])&&1!=(0|A[e+68>>2]))return 0;break;case 1:if(o=(0|(s=((0|(a=0|A[e+68>>2]))<0)<<31>>31))<0,l=0|Ci(0,0,0|a,0|s),r=0|V(),!(1==(0|(o?l:a))&0==(0|(o?r:s))))return 0;break;case 2:if(1!=(0|A[e+68>>2]))return 0;break;default:if(-1!=(0|A[e+68>>2]))return 0}switch(0|A[t+108>>2]){case 0:switch(0|i){case 1:case 0:return 0|0!=(0|A[e+72>>2]);case 2:return 0|(0|A[e+72>>2])>0;default:return 0|(0|A[e+72>>2])<0}case 1:switch(0|i){case 1:case 0:return 0|0==(0|A[e+72>>2]);case 2:return 0|(0|A[e+72>>2])<1;default:return 0|(0|A[e+72>>2])>-1}case 2:if(n)switch(0|i){case 1:case 0:return 0|0==(0|A[e+72>>2]);case 2:return 0|(0|A[e+72>>2])<1;default:return 0|(0|A[e+72>>2])>-1}else switch(0|i){case 1:case 0:return 0|0!=(0|A[e+72>>2]);case 2:return 0|(0|A[e+72>>2])>0;default:return 0|(0|A[e+72>>2])<0}case 3:if(0|A[e+64>>2])return 1;switch(0|i){case 1:case 0:return 0|0==(0|A[e+72>>2]);case 2:return 0|(0|A[e+72>>2])<1;default:return 0|(0|A[e+72>>2])>-1}default:return 1}return 0}function he(t,e,i,n){t|=0,e|=0,n|=0;var s,o,a,l=0,u=0,h=0,c=0,f=0,m=0,g=0,d=0,p=0,y=0,I=0,B=0,E=0,w=0,b=0,x=0,Q=0,D=0,M=0,R=0,T=0;if(a=mt,mt=mt+16|0,o=a,-1e40==(E=+_[48+(i|=0)>>3])||+_[e+48>>3]>E?(l=0|ce(t,e,n),A[i+76>>2]=A[e+76>>2],A[e+60>>2]=1,A[i+60>>2]=2,(0|(u=0|A[e+96>>2]))==(0|i)?(B=l,h=e,u=0|A[i+96>>2]):(B=l,h=e)):(l=0|ce(t,i,n),A[e+76>>2]=A[i+76>>2],A[e+60>>2]=2,A[i+60>>2]=1,(0|(u=0|A[i+96>>2]))==(0|e)?(B=l,h=i,u=0|A[e+96>>2]):(B=l,h=i)),!u)return mt=a,0|B;if((0|A[u+76>>2])<=-1)return mt=a,0|B;if(l=0|A[(e=u+40|0)>>2],m=0|A[(g=n+8|0)>>2],!((0|(g=0|A[g+4>>2]))>(0|(e=0|A[e+4>>2]))|(0|g)==(0|e)&m>>>0>l>>>0))return mt=a,0|B;if(s=h+32|0,d=0|A[(p=h+40|0)>>2],!((0|g)>(0|(p=0|A[p+4>>2]))|(0|g)==(0|p)&m>>>0>d>>>0))return mt=a,0|B;if(I=0|A[(y=u)>>2],y=0|A[y+4>>2],E=+_[u+48>>3],E*=+((f=0|Ci(0|m,0|g,0|A[(f=u+8|0)>>2],0|A[f+4>>2]))>>>0)+4294967296*+(0|V()),y=0|yi(0|I,0|y,~~(E+=E<0?-.5:.5)>>>0|0,0|(+v(E)>=1?E>0?~~+k(+C(E/4294967296),4294967295)>>>0:~~+S((E-+(~~E>>>0))/4294967296)>>>0:0)),I=0|V(),c=0|A[(f=h)>>2],f=0|A[f+4>>2],E=+_[h+48>>3],E*=+((i=0|Ci(0|m,0|g,0|A[(i=h+8|0)>>2],0|A[i+4>>2]))>>>0)+4294967296*+(0|V()),!((0|y)==(0|(f=0|yi(0|c,0|f,~~(E+=E<0?-.5:.5)>>>0|0,0|(+v(E)>=1?E>0?~~+k(+C(E/4294967296),4294967295)>>>0:~~+S((E-+(~~E>>>0))/4294967296)>>>0:0))))&(0|I)==(0|V())))return mt=a,0|B;if(!(0|A[h+64>>2]))return mt=a,0|B;if(!(0|A[u+64>>2]))return mt=a,0|B;if(c=0|A[(f=u+32|0)>>2],f=0|A[f+4>>2],h=0|A[(i=h+32|0)>>2],i=0|A[i+4>>2],w=0==(0|r[t+20>>0]),l=0|Ci(0|m,0|g,0|l,0|e),e=0|V(),i=0|Ci(0|y,0|I,0|h,0|i),h=0|V(),w){if(h=0|pi(0|i,0|h,0|l,0|e),w=0|V(),!((0|h)==(0|(I=0|pi(0|(f=0|Ci(0|y,0|I,0|c,0|f)),0|(y=0|V()),0|(I=0|Ci(0|m,0|g,0|d,0|p)),0|V())))&(0|w)==(0|V())))return mt=a,0|B}else if(D=(0|e)<0,T=0|Bi(0|l,0|e,63),V(),R=(0|h)<0,b=0|Bi(0|i,0|h,63),V(),b=(0|T)==(0|b),T=0|Ci(0,0,0|l,0|e),Q=0|V(),T=D?T:l,Q=D?Q:e,D=0|Ci(0,0,0|i,0|h),x=0|V(),D=R?D:i,e=0|pi(0|(x=R?x:h),0,0|Q,0),R=0|V(),l=0|pi(0|D,0,0|T,0),h=0|V(),T=0|yi(0|(Q=0|pi(0|D,0,0|Q,0)),0|(D=0|V()),0|(T=0|pi(0|x,0,0|T,0)),0|V()),R=0|yi(0|V(),0,0|e,0|R),e=0|V(),T=0|yi(0,0|T,0|l,0|h),l=0|yi(0|R,0|e,1&((D=0|V())>>>0<h>>>0|(0|D)==(0|h)&T>>>0<l>>>0)|0,0),h=0|V(),e=0==(0|T)&0==(0|D),R=0|Ci(0,0,0|T,0|D),Q=0|V(),x=0|Ci(0,0,0|l,0|h),i=0|V(),w=0|Ci(0|y,0|I,0|c,0|f),f=0|V(),m=0|Ci(0|m,0|g,0|d,0|p),M=0|V(),y=(0|f)<0,g=0|Bi(0|w,0|f,63),V(),c=(0|M)<0,p=0|Bi(0|m,0|M,63),V(),p=(0|g)==(0|p),g=0|Ci(0,0,0|w,0|f),d=0|V(),g=y?g:w,f=y?d:f,d=0|Ci(0,0,0|m,0|M),y=0|V(),m=c?d:m,y=0|pi(0|f,0,0|(M=c?y:M),0),c=0|V(),d=0|pi(0|g,0,0|m,0),w=0|V(),M=0|yi(0|(m=0|pi(0|f,0,0|m,0)),0|(f=0|V()),0|(M=0|pi(0|g,0,0|M,0)),0|V()),c=0|yi(0|V(),0,0|y,0|c),y=0|V(),M=0|yi(0,0|M,0|d,0|w),d=0|yi(0|c,0|y,1&((f=0|V())>>>0<w>>>0|(0|f)==(0|w)&M>>>0<d>>>0)|0,0),w=0|V(),y=0==(0|M)&0==(0|f),c=0|Ci(0,0,0|M,0|f),m=0|V(),g=0|Ci(0,0,0|d,0|w),I=0|V(),!(((0|(b?T:R))==(0|(p?M:c))?(0|(b?D:Q))==(0|(p?f:m)):0)&((0|(b?l:e?x:~l))==(0|(p?d:y?g:~d))?(0|(b?h:e?i:~h))==(0|(p?w:y?I:~w)):0)))return mt=a,0|B;return u=0|ce(t,u,n),l=8+(e=0|ei(24))|0,A[o>>2]=e,A[e>>2]=B,A[e+4>>2]=u,A[l>>2]=A[s>>2],A[l+4>>2]=A[s+4>>2],A[l+8>>2]=A[s+8>>2],A[l+12>>2]=A[s+12>>2],(0|(u=0|A[(l=t+76|0)>>2]))==(0|A[t+80>>2])?Yt(t+72|0,o):(A[u>>2]=e,A[l>>2]=4+(0|A[l>>2])),mt=a,0|B}function ce(t,e,i){t|=0,i|=0;var n,s=0,o=0,a=0,l=0,u=0,h=0;if(n=mt,mt=mt+16|0,u=n,(0|(s=0|A[(h=76+(e|=0)|0)>>2]))>=0){if(l=0|A[(t=16+(a=0|A[(0|A[t+40>>2])+(s<<2)>>2])|0)>>2],o=1==(0|A[e+60>>2])){if((0|A[(e=i)>>2])==(0|A[(h=l+8|0)>>2])&&(0|A[e+4>>2])==(0|A[h+4>>2])&&(0|A[(e=i+8|0)>>2])==(0|A[(h=l+16|0)>>2])&&(0|A[e+4>>2])==(0|A[h+4>>2]))return mt=n,0|l}else if((0|A[(e=i)>>2])==(0|A[(h=8+(s=0|A[l+28>>2])|0)>>2])&&(0|A[e+4>>2])==(0|A[h+4>>2])&&(0|A[(e=i+8|0)>>2])==(0|A[(h=s+16|0)>>2])&&(0|A[e+4>>2])==(0|A[h+4>>2]))return mt=n,0|s;return s=0|ei(32),A[(h=s+8|0)>>2]=0,A[h+4>>2]=0,A[h+8>>2]=0,A[h+12>>2]=0,A[s>>2]=A[a>>2],A[h>>2]=A[i>>2],A[h+4>>2]=A[i+4>>2],A[h+8>>2]=A[i+8>>2],A[h+12>>2]=A[i+12>>2],A[s+24>>2]=l,A[s+28>>2]=i=0|A[(h=l+28|0)>>2],A[i+24>>2]=s,A[h>>2]=s,o?(A[t>>2]=s,mt=n,0|(h=s)):(mt=n,0|(h=s))}if(a=0|ei(24),A[u>>2]=a,r[a+4>>0]=0,r[a+5>>0]=0,l=t+40|0,s=t+44|0,A[(o=a+8|0)>>2]=0,A[o+4>>2]=0,A[o+8>>2]=0,A[o+12>>2]=0,(0|(o=0|A[s>>2]))==(0|A[t+48>>2])?(Ot(l,u),s=0|A[s>>2]):(A[o>>2]=a,A[s>>2]=t=4+(0|A[s>>2])|0,s=t),A[(u=0|A[u>>2])>>2]=(s-(t=0|A[l>>2])>>2)-1,r[(a=u+5|0)>>0]=0==(0|A[e+64>>2])&1,l=0|ei(32),A[(o=l+8|0)>>2]=0,A[o+4>>2]=0,A[o+8>>2]=0,A[o+12>>2]=0,A[u+16>>2]=l,A[l>>2]=A[u>>2],A[o>>2]=A[i>>2],A[o+4>>2]=A[i+4>>2],A[o+8>>2]=A[i+8>>2],A[o+12>>2]=A[i+12>>2],A[l+24>>2]=l,A[l+28>>2]=l,!(0|r[a>>0])){if(s=0|A[e+96>>2]){o=0;do{(0|(a=0|A[s+76>>2]))>-1&&0!=(0|A[s+64>>2])&&(o=o?(0|A[o+76>>2])==(0|a)?0:o:s),s=0|A[s+96>>2]}while(0!=(0|s));o?s=1^r[4+(o=0|A[t+(A[o+76>>2]<<2)>>2])>>0]:(s=0,o=0)}else s=0,o=0;A[u+8>>2]=o,r[u+4>>0]=s}return A[h>>2]=A[u>>2],mt=n,0|l}function fe(t,e,i){var n,s,o,a,l,u,h,c,f,m,_=0,g=0,d=0,p=0,y=0,C=0;for(m=0|A[(y=0|A[40+(t|=0)>>2])+(A[(h=76+(e|=0)|0)>>2]<<2)>>2],y=0|A[y+(A[(f=76+(i|=0)|0)>>2]<<2)>>2],_=m;;){if((0|(_=0|A[_+8>>2]))==(0|y)){p=y;break}if(!_){C=4;break}}t:do{if(4==(0|C)){_=y;do{if((0|(_=0|A[_+8>>2]))==(0|m)){p=m;break t}}while(0!=(0|_));p=0|ge(m,y)}}while(0);o=0|A[(s=28+(n=0|A[(d=m+16|0)>>2])|0)>>2],l=0|A[(g=28+(a=0|A[(u=y+16|0)>>2])|0)>>2],c=0|A[e+60>>2],_=0|A[i+60>>2];do{if(1==(0|c)){if(1!=(0|_)){A[l+24>>2]=n,A[s>>2]=l,A[g>>2]=o,A[o+24>>2]=a,A[d>>2]=a;break}if(0|a){_=a;do{i=_,_=0|A[(g=_+24|0)>>2],A[g>>2]=A[(i=i+28|0)>>2],A[i>>2]=_}while((0|_)!=(0|a))}A[a+24>>2]=n,A[s>>2]=a,A[o+24>>2]=l,A[l+28>>2]=o,A[d>>2]=l}else{if(2!=(0|_)){A[o+24>>2]=a,A[g>>2]=o,A[s>>2]=l,A[l+24>>2]=n;break}if(0|a){_=a;do{d=_,_=0|A[(i=_+24|0)>>2],A[i>>2]=A[(d=d+28|0)>>2],A[d>>2]=_}while((0|_)!=(0|a))}A[o+24>>2]=l,A[l+28>>2]=o,A[a+24>>2]=n,A[s>>2]=a}}while(0);if(A[m+20>>2]=0,e=y+8|0,(0|p)==(0|y)&&((0|(_=0|A[e>>2]))!=(0|m)&&(A[m+8>>2]=_),r[m+4>>0]=0|r[y+4>>0]),A[u>>2]=0,A[y+20>>2]=0,A[e>>2]=m,e=0|A[h>>2],g=0|A[f>>2],A[h>>2]=-1,A[f>>2]=-1,_=0|A[t+52>>2]){for(;(0|A[_+76>>2])!=(0|g);)if(!(_=0|A[_+92>>2])){C=30;break}30!=(0|C)?(A[_+76>>2]=e,A[_+60>>2]=c,A[y>>2]=C=0|A[m>>2]):A[y>>2]=C=0|A[m>>2]}else A[y>>2]=C=0|A[m>>2]}function me(t,e,i){e|=0,i|=0;var n=0,r=0,s=0,o=0,a=0,l=0,u=0,h=0,c=0,f=0,m=0,g=0,d=0,p=0,y=0;if(u=l=0|A[(a=52+(t|=0)|0)>>2],!l)return A[e+96>>2]=0,A[e+92>>2]=0,void(A[(d=a)>>2]=e);t:do{if(!i){t=0|A[(i=e+16|0)>>2],i=0|A[i+4>>2],n=0|A[(r=l+16|0)>>2],r=0|A[r+4>>2];do{if((0|t)==(0|n)&(0|i)==(0|r)){if(t=0|A[(i=e+40|0)>>2],n=0|A[(r=l+40|0)>>2],(0|(i=0|A[i+4>>2]))>(0|(r=0|A[r+4>>2]))|(0|i)==(0|r)&t>>>0>n>>>0){if(g=0|A[(f=e+32|0)>>2],f=0|A[f+4>>2],m=0|A[(d=l)>>2],d=0|A[d+4>>2],p=+_[l+48>>3],p*=+((c=0|Ci(0|t,0|i,0|A[(c=l+8|0)>>2],0|A[c+4>>2]))>>>0)+4294967296*+(0|V()),d=0|yi(0|m,0|d,~~(p+=p<0?-.5:.5)>>>0|0,0|(+v(p)>=1?p>0?~~+k(+C(p/4294967296),4294967295)>>>0:~~+S((p-+(~~p>>>0))/4294967296)>>>0:0)),(0|f)<(0|(m=0|V()))|(0|f)==(0|m)&g>>>0<d>>>0)break;n=l;break t}if(s=0|A[(o=l+32|0)>>2],o=0|A[o+4>>2],(0|t)==(0|n)&(0|i)==(0|r)?(t=0|A[4+(i=e+32|0)>>2],i=0|A[i>>2]):(t=0|A[(i=e)>>2],i=0|A[i+4>>2],p=+_[e+48>>3],p*=+((d=0|Ci(0|n,0|r,0|A[(d=e+8|0)>>2],0|A[d+4>>2]))>>>0)+4294967296*+(0|V()),i=0|yi(0|t,0|i,~~(p+=p<0?-.5:.5)>>>0|0,0|(+v(p)>=1?p>0?~~+k(+C(p/4294967296),4294967295)>>>0:~~+S((p-+(~~p>>>0))/4294967296)>>>0:0)),t=0|V()),!((0|o)>(0|t)|(0|o)==(0|t)&s>>>0>i>>>0)){n=l;break t}}else if(!((0|i)<(0|r)|(0|i)==(0|r)&t>>>0<n>>>0)){n=l;break t}}while(0);return A[e+96>>2]=0,A[e+92>>2]=u,A[l+96>>2]=e,void(A[(d=a)>>2]=e)}n=i}while(0);t=0|A[(i=n+92|0)>>2];t:do{if(t)for(h=0|A[(c=e+16|0)>>2],c=0|A[c+4>>2],f=e+40|0,m=e+32|0,g=e+48|0,d=e+8|0;;){r=0|A[(s=t+16|0)>>2],s=0|A[s+4>>2];do{if((0|h)==(0|r)&(0|c)==(0|s)){if(r=0|A[(s=f)>>2],o=0|A[(a=t+40|0)>>2],(0|(s=0|A[s+4>>2]))>(0|(a=0|A[a+4>>2]))|(0|s)==(0|a)&r>>>0>o>>>0){if(l=0|A[(o=m)>>2],o=0|A[o+4>>2],a=0|A[(u=t)>>2],u=0|A[u+4>>2],p=+_[t+48>>3],p*=+((s=0|Ci(0|r,0|s,0|A[(y=t+8|0)>>2],0|A[y+4>>2]))>>>0)+4294967296*+(0|V()),u=0|yi(0|a,0|u,~~(p+=p<0?-.5:.5)>>>0|0,0|(+v(p)>=1?p>0?~~+k(+C(p/4294967296),4294967295)>>>0:~~+S((p-+(~~p>>>0))/4294967296)>>>0:0)),(0|o)<(0|(a=0|V()))|(0|o)==(0|a)&l>>>0<u>>>0)break t;break}if(l=0|A[(u=t+32|0)>>2],u=0|A[u+4>>2],(0|r)==(0|o)&(0|s)==(0|a)?(r=0|A[(s=m)+4>>2],s=0|A[s>>2]):(r=0|A[(s=e)>>2],s=0|A[s+4>>2],p=+_[g>>3],p*=+((y=0|Ci(0|o,0|a,0|A[(y=d)>>2],0|A[y+4>>2]))>>>0)+4294967296*+(0|V()),s=0|yi(0|r,0|s,~~(p+=p<0?-.5:.5)>>>0|0,0|(+v(p)>=1?p>0?~~+k(+C(p/4294967296),4294967295)>>>0:~~+S((p-+(~~p>>>0))/4294967296)>>>0:0)),r=0|V()),(0|u)>(0|r)|(0|u)==(0|r)&l>>>0>s>>>0)break t}else if((0|c)<(0|s)|(0|c)==(0|s)&h>>>0<r>>>0)break t}while(0);if(!(n=0|A[(i=t+92|0)>>2])){n=t,t=0;break}y=t,t=n,n=y}else t=0}while(0);A[e+92>>2]=t,0|(t=0|A[i>>2])&&(A[t+96>>2]=e),A[e+96>>2]=n,A[(y=i)>>2]=e}function _e(t,e,i,n){t|=0,n|=0;var r,s,o,a,l=0,u=0,h=0,c=0,f=0,m=0,_=0,g=0,d=0,p=0,y=0,C=0,v=0,I=0,B=0;if(o=(0|(s=0|A[(C=76+(e|=0)|0)>>2]))>-1,y=(0|(a=0|A[(v=76+(i|=0)|0)>>2]))>-1,u=0==(0|(m=0|A[(r=i+64|0)>>2])),l=0==(0|(g=0|A[e+64>>2]))){if(u)return}else if(!u){B=(0|(I=0|A[e+56>>2]))==(0|(p=0|A[i+56>>2]));do{if(B){if(u=t+136|0,_=t+132|0,c=0|A[(h=e+68|0)>>2],!(0|A[(l=0==(0|I)?u:_)>>2])){A[h>>2]=A[(d=i+68|0)>>2],A[d>>2]=c,h=_;break}if(A[h>>2]=0==(0|(f=c+m|0))?0-c|0:f,h=(f=0|A[(c=i+68|0)>>2])-g|0){A[c>>2]=h,h=_;break}A[c>>2]=0-f,h=_;break}if(u=t+136|0,f=t+132|0,h=0|A[(l=e+72|0)>>2],A[l>>2]=0==(0|A[(0==(0|p)?u:f)>>2])?0==(0|h)&1:h+m|0,c=0|A[(h=i+72|0)>>2],0|A[(l=0==(0|I)?u:f)>>2]){A[h>>2]=c-g,h=f;break}A[h>>2]=0==(0|c)&1,h=f;break}while(0);switch(_=0|A[((d=0==(0|I))?h:u)>>2],g=0|A[((p=0==(0|p))?h:u)>>2],u=0|A[(p?u:h)>>2],0|A[l>>2]){case 2:l=h=0|A[e+68>>2],h=((0|h)<0)<<31>>31;break;case 3:l=h=0-(0|A[e+68>>2])|0,h=((0|h)<0)<<31>>31;break;default:m=(0|(h=((0|(l=0|A[e+68>>2]))<0)<<31>>31))<0,f=0|Ci(0,0,0|l,0|h),p=0|V(),l=m?f:l,h=m?p:h}switch(0|u){case 2:u=c=0|A[i+68>>2],c=((0|c)<0)<<31>>31;break;case 3:u=c=0-(0|A[i+68>>2])|0,c=((0|c)<0)<<31>>31;break;default:m=(0|(c=((0|(u=0|A[i+68>>2]))<0)<<31>>31))<0,f=0|Ci(0,0,0|u,0|c),p=0|V(),u=m?f:u,c=m?p:c}if((a|s|0)>=0){I=c|h;do{if(!(I>>>0>0|0==(0|I)&(u|l)>>>0>1)){if(!B&&3!=(0|A[t+108>>2]))break;return ce(t,e,n),ce(t,i,n),e=0|A[(t=e+60|0)>>2],A[t>>2]=A[(i=i+60|0)>>2],A[i>>2]=e,i=0|A[C>>2],A[C>>2]=A[v>>2],void(A[v>>2]=i)}}while(0);return ce(t,e,n),0|A[r>>2]||ce(t,i,n),(0|(l=0|A[C>>2]))==(0|(u=0|A[v>>2]))?(A[C>>2]=-1,void(A[v>>2]=-1)):(0|l)<(0|u)?void fe(t,e,i):void fe(t,i,e)}if(o){if(!(c>>>0<0|0==(0|c)&u>>>0<2))return;return ce(t,e,n),e=0|A[(t=e+60|0)>>2],A[t>>2]=A[(i=i+60|0)>>2],A[i>>2]=e,i=0|A[C>>2],A[C>>2]=A[v>>2],void(A[v>>2]=i)}if(m=1==(0|l)&0==(0|h),l=h>>>0<0|0==(0|h)&l>>>0<2,y){if(!l)return;return ce(t,i,n),e=0|A[(t=e+60|0)>>2],A[t>>2]=A[(i=i+60|0)>>2],A[i>>2]=e,i=0|A[C>>2],A[C>>2]=A[v>>2],void(A[v>>2]=i)}if(!l)return;if(f=1==(0|u)&0==(0|c),!(c>>>0<0|0==(0|c)&u>>>0<2))return;switch(0|_){case 2:h=((0|(c=0|A[e+72>>2]))<0)<<31>>31;break;case 3:h=((0|(c=0-(0|A[e+72>>2])|0))<0)<<31>>31;break;default:C=(0|(h=((0|(c=0|A[e+72>>2]))<0)<<31>>31))<0,v=0|Ci(0,0,0|c,0|h),y=0|V(),h=C?y:h,c=C?v:c}switch(0|g){case 2:l=((0|(u=0|A[i+72>>2]))<0)<<31>>31;break;case 3:l=((0|(u=0-(0|A[i+72>>2])|0))<0)<<31>>31;break;default:C=(0|(l=((0|(u=0|A[i+72>>2]))<0)<<31>>31))<0,v=0|Ci(0,0,0|u,0|l),y=0|V(),l=C?y:l,u=C?v:u}if(!B)return void he(t,e,i,n);if(!(m&f))return e=0|A[(t=e+60|0)>>2],A[t>>2]=A[(i=i+60|0)>>2],void(A[i>>2]=e);switch(0|A[t+108>>2]){case 0:if(!(((0|h)>0|0==(0|h)&c>>>0>0)&((0|l)>0|0==(0|l)&u>>>0>0)))return;return void he(t,e,i,n);case 1:if(!(((0|h)<0|0==(0|h)&c>>>0<1)&((0|l)<0|0==(0|l)&u>>>0<1)))return;return void he(t,e,i,n);case 2:if(!(1==(0|I)&((0|h)>0|0==(0|h)&c>>>0>0)&((0|l)>0|0==(0|l)&u>>>0>0)||d&((0|h)<0|0==(0|h)&c>>>0<1)&((0|l)<0|0==(0|l)&u>>>0<1)))return;return void he(t,e,i,n);case 3:return void he(t,e,i,n);default:return}}if((0|A[e+56>>2])!=(0|A[i+56>>2])){do{if(l&&1==(0|((0|(B=0|A[i+68>>2]))>-1?B:0-B|0))){if(1==(0|A[t+108>>2])&&0|A[i+72>>2])break;if(ce(t,e,n),!o)return;return void(A[C>>2]=-1)}}while(0);u&&1==(0|((0|(B=0|A[e+68>>2]))>-1?B:0-B|0))&&(1==(0|A[t+108>>2])&&0|A[e+72>>2]||(ce(t,i,n),y&&(A[v>>2]=-1)))}else{if((0|g)==(0|m))return;if(1!=(0|A[t+108>>2]))return;if(l){if(!y)return;if(ce(t,e,n),!o)return;return void(A[C>>2]=-1)}if(!o)return;if(ce(t,i,n),!y)return;A[v>>2]=-1}}function ge(t,e){e|=0;var i=0,n=0,r=0,s=0,o=0,a=0,l=0,u=0,h=0,c=0,f=0,m=0,_=0,g=0,d=0,p=0;if(!(n=0|A[(p=20+(t|=0)|0)>>2])){if((0|(n=0|A[24+(i=0|A[t+16>>2])>>2]))!=(0|i)){r=0;do{s=0|A[(o=n+16|0)>>2],a=0|A[(l=i+16|0)>>2],(0|(o=0|A[o+4>>2]))>(0|(l=0|A[l+4>>2]))|(0|o)==(0|l)&s>>>0>a>>>0?(r=0,i=n):(0|s)==(0|a)&(0|o)==(0|l)&&(u=0|A[(h=n+8|0)>>2],c=0|A[(f=i+8|0)>>2],!((0|(h=0|A[h+4>>2]))>(0|(f=0|A[f+4>>2]))|(0|h)==(0|f)&u>>>0>c>>>0))&&((0|h)<(0|f)|(0|h)==(0|f)&u>>>0<c>>>0?(r=0,i=n):(0|A[n+24>>2])!=(0|i)&&(r=(0|A[n+28>>2])==(0|i)?r:n)),n=0|A[n+24>>2]}while((0|n)!=(0|i));if(!(0==(0|r)|(0|r)==(0|i))){n=i;do{o=0|zt(i,r),s=0|A[(o=(n=o?n:r)+8|0)>>2],o=0|A[o+4>>2],a=0|A[(l=n+16|0)>>2],l=0|A[l+4>>2];do{f=8+(r=0|A[r+24>>2])|0}while((0|A[f>>2])!=(0|s)||(0|A[f+4>>2])!=(0|o)||(0|A[(f=r+16|0)>>2])!=(0|a)||(0|A[f+4>>2])!=(0|l))}while((0|r)!=(0|i));i=n}}A[p>>2]=i,n=i}if(i=0|A[(u=e+20|0)>>2])a=n;else{if((0|(n=0|A[24+(i=0|A[e+16>>2])>>2]))!=(0|i)){r=0;do{s=0|A[(o=n+16|0)>>2],a=0|A[(l=i+16|0)>>2],(0|(o=0|A[o+4>>2]))>(0|(l=0|A[l+4>>2]))|(0|o)==(0|l)&s>>>0>a>>>0?(r=0,i=n):(0|s)==(0|a)&(0|o)==(0|l)&&(m=0|A[(_=n+8|0)>>2],g=0|A[(d=i+8|0)>>2],!((0|(_=0|A[_+4>>2]))>(0|(d=0|A[d+4>>2]))|(0|_)==(0|d)&m>>>0>g>>>0))&&((0|_)<(0|d)|(0|_)==(0|d)&m>>>0<g>>>0?(r=0,i=n):(0|A[n+24>>2])!=(0|i)&&(r=(0|A[n+28>>2])==(0|i)?r:n)),n=0|A[n+24>>2]}while((0|n)!=(0|i));if(!(0==(0|r)|(0|r)==(0|i))){n=i;do{o=0|zt(i,r),s=0|A[(o=(n=o?n:r)+8|0)>>2],o=0|A[o+4>>2],a=0|A[(l=n+16|0)>>2],l=0|A[l+4>>2];do{d=8+(r=0|A[r+24>>2])|0}while((0|A[d>>2])!=(0|s)||(0|A[d+4>>2])!=(0|o)||(0|A[(d=r+16|0)>>2])!=(0|a)||(0|A[d+4>>2])!=(0|l))}while((0|r)!=(0|i));i=n}}A[u>>2]=i,a=0|A[p>>2]}return n=0|A[(r=a+16|0)>>2],s=0|A[(o=i+16|0)>>2],(0|(r=0|A[r+4>>2]))>(0|(o=0|A[o+4>>2]))|(0|r)==(0|o)&n>>>0>s>>>0?0|(e=t):(0|r)<(0|o)|(0|r)==(0|o)&n>>>0<s>>>0?0|e:(n=0|A[(r=a+8|0)>>2],s=0|A[(o=i+8|0)>>2],(0|(r=0|A[r+4>>2]))<(0|(o=0|A[o+4>>2]))|(0|r)==(0|o)&n>>>0<s>>>0?0|(e=t):(0|r)>(0|o)|(0|r)==(0|o)&n>>>0>s>>>0?0|e:(0|A[a+24>>2])==(0|a)?0|e:(0|A[i+24>>2])==(0|i)?0|(e=t):0|(e=(p=0|zt(a,i))?t:e))}function de(t,e){t|=0;var i,n,s,o,a,l,u,h,c,f,m,g,d,p,y,C,v=0,I=0,B=0,E=0,w=0,b=0,x=0,S=0,Q=0,k=0,D=0,M=0,R=0,V=0,T=0,G=0,F=0,P=0,N=0,L=0,U=0,O=0,Y=0,H=0,J=0,j=0,K=0,q=0,z=0,X=0,W=0,Z=0,$=0,tt=0,et=0;C=mt,mt=mt+48|0,p=C+16|0,d=C,A[(y=C+32|0)>>2]=e|=0,O=0==(0|A[e+64>>2]),S=0|A[(Q=e)>>2],v=0|A[(B=e+32|0)>>2],V=(k=(0|(Q=0|A[Q+4>>2]))<(0|(B=0|A[B+4>>2]))|(0|Q)==(0|B)&S>>>0<v>>>0)?S:v,R=k?Q:B,M=k?v:S,D=k?B:Q,I=0|A[e+88>>2];t:do{if(I){for(v=e;;){if(-1e40!=+_[I+48>>3]){Y=0;break t}if(!(v=0|A[I+88>>2]))break;Y=I,I=v,v=Y}v=0|A[(E=I+32|0)>>2],E=0|A[E+4>>2],G=6}else I=e,E=B,G=6}while(0);do{if(6==(0|G)){if((0|A[(Y=32+(B=0|A[I+80>>2])|0)>>2])==(0|v)&&(0|A[Y+4>>2])==(0|E)&&(0|A[(N=B+40|0)>>2])==(0|A[(Y=I+40|0)>>2])&&(0|A[N+4>>2])==(0|A[Y+4>>2])&&0==(0|A[B+88>>2])){Y=B,v=I;break}if((0|A[(Y=32+(B=0|A[I+84>>2])|0)>>2])==(0|v)&&(0|A[Y+4>>2])==(0|E)&&(0|A[(N=B+40|0)>>2])==(0|A[(Y=I+40|0)>>2])&&(0|A[N+4>>2])==(0|A[Y+4>>2])&&0==(0|A[B+88>>2])){Y=B,v=I;break}Y=0,v=I}}while(0);i=t+112|0,m=t+120|0;t:do{if(0|A[m>>2]){if(k){if(x=i,(0|i)==(0|(I=B=0|A[(b=t+116|0)>>2]))){F=b,I=0;break}for(;E=0|A[(w=B+8|0)>>2],!((0|(w=0|A[w+4>>2]))>(0|Q)|(0|w)==(0|Q)&E>>>0>S>>>0);)if((0|i)==(0|(I=B=0|A[I+4>>2]))){F=b,I=0;break t}F=b,B=(0|w)<(0|(N=0|A[4+(I=v+32|0)>>2]))|((0|w)==(0|N)?E>>>0<(0|A[I>>2])>>>0:0)?B:x,I=0;break}if(I=i,(0|i)==(0|(B=x=0|A[(E=t+116|0)>>2]))){F=E,B=0;break}for(;w=0|A[(b=8+(0|A[I>>2])|0)>>2],(0|(b=0|A[b+4>>2]))>(0|Q)|(0|b)==(0|Q)&w>>>0>S>>>0;)if((0|(I=0|A[I>>2]))==(0|B)){F=E,B=0;break t}F=E,B=0,I=(0|b)>(0|(P=0|A[4+(N=v+32|0)>>2]))|((0|b)==(0|P)?w>>>0>(0|A[N>>2])>>>0:0)?I:x;break}F=t+116|0,B=0,I=0}while(0);n=p+8|0,s=p+8|0,l=t+124|0,h=t+88|0,c=t+92|0,u=t+40|0,g=t+76|0,P=t+80|0,N=t+72|0,o=p+8|0,a=p+8|0,f=t+84|0,w=0;t:for(;;){if(T=(0|e)!=(0|v),E=0|A[(k?e+92|0:e+96|0)>>2]){e=w;do{e:do{if(0|A[m>>2])if(k){if(S=E+16|0,(0|i)==(0|(w=B))){x=0|A[(w=S)+4>>2],w=0|A[w>>2],G=54;break}if(O)for(b=0|A[(x=S)>>2],x=0|A[x+4>>2];;){if(!((0|(Q=0|A[4+(G=B+8|0)>>2]))<(0|x)|((0|Q)==(0|x)?(0|A[G>>2])>>>0<b>>>0:0))){G=53;break e}if((0|i)==(0|(w=B=0|A[w+4>>2]))){G=53;break e}}for(;;){if(b=0|A[(x=B+8|0)>>2],!((0|(x=0|A[x+4>>2]))<(0|(Q=0|A[(G=S)+4>>2]))|((0|x)==(0|Q)?b>>>0<(0|A[G>>2])>>>0:0))){G=53;break e}if((0|A[76+(B=0|A[y>>2])>>2])>=0&&(K=0|A[(Q=B+8|0)>>2],Q=0|A[Q+4>>2],A[(G=p)>>2]=b,A[G+4>>2]=x,A[(G=n)>>2]=K,A[G+4>>2]=Q,ce(t,B,p)),(0|i)==(0|(w=B=0|A[w+4>>2]))){G=53;break}}}else{if(Q=E+16|0,(0|(w=0|A[F>>2]))==(0|I)){x=0|A[(w=Q)+4>>2],w=0|A[w>>2],G=55;break}if(O)for(b=0|A[(x=Q)>>2],x=0|A[x+4>>2];;){if(!((0|(G=0|A[4+(K=8+(0|A[I>>2])|0)>>2]))>(0|x)|((0|G)==(0|x)?(0|A[K>>2])>>>0>b>>>0:0))){G=53;break e}if((0|w)==(0|(I=0|A[I>>2]))){G=53;break e}}for(;;){if(b=0|A[(x=8+(0|A[I>>2])|0)>>2],!((0|(x=0|A[x+4>>2]))>(0|(G=0|A[(K=Q)+4>>2]))|((0|x)==(0|G)?b>>>0>(0|A[K>>2])>>>0:0))){G=53;break e}if((0|A[76+(S=0|A[y>>2])>>2])>=0&&(G=0|A[(K=S+8|0)>>2],K=0|A[K+4>>2],A[(w=p)>>2]=b,A[w+4>>2]=x,A[(w=s)>>2]=G,A[w+4>>2]=K,ce(t,S,p),w=0|A[F>>2]),(0|w)==(0|(I=0|A[I>>2]))){G=53;break}}}else G=53}while(0);if(53==(0|G)&&(w=0|A[(x=E+16|0)>>2],x=0|A[x+4>>2],G=k?54:55),54==(0|G)){if(G=0,(0|x)>(0|D)|(0|x)==(0|D)&w>>>0>M>>>0)break}else if(55==(0|G)&&(G=0,(0|x)<(0|R)|(0|x)==(0|R)&w>>>0<V>>>0))break;if(S=E+16|0,(0|w)==(0|A[(K=32+(b=0|A[y>>2])|0)>>2])&&(0|x)==(0|A[K+4>>2])&&0|(L=0|A[b+88>>2])&&+_[E+48>>3]<+_[L+48>>3])break;if(!(O|(0|A[b+76>>2])<0)){if(e=0|ce(t,b,S),0|(w=0|A[l>>2]))do{(0|(b=0|A[w+76>>2]))>-1&&(Q=0|A[(X=W=0|A[y>>2])>>2],K=0|A[(W=W+32|0)>>2],q=0|A[(et=w)>>2],z=0|A[($=U=w+32|0)>>2],tt=(x=(0|(X=0|A[X+4>>2]))>(0|(W=0|A[W+4>>2]))|(0|X)==(0|W)&Q>>>0>K>>>0)?W:X,W=x?X:W,Z=(X=(0|(et=0|A[et+4>>2]))>(0|($=0|A[$+4>>2]))|(0|et)==(0|$)&q>>>0>z>>>0)?$:et,((0|tt)<(0|($=X?et:$))|((0|tt)==(0|$)?(x?K:Q)>>>0<(X?q:z)>>>0:0))&((0|Z)<(0|W)|((0|Z)==(0|W)?(X?z:q)>>>0<(x?Q:K)>>>0:0)))&&(b=0|A[16+(0|A[(0|A[u>>2])+(b<<2)>>2])>>2],1!=(0|A[w+60>>2])&&(b=0|A[b+28>>2]),A[d>>2]=A[U>>2],A[d+4>>2]=A[U+4>>2],A[d+8>>2]=A[U+8>>2],A[d+12>>2]=A[U+12>>2],et=8+(x=0|ei(24))|0,A[p>>2]=x,A[x>>2]=b,A[x+4>>2]=e,A[et>>2]=A[d>>2],A[et+4>>2]=A[d+4>>2],A[et+8>>2]=A[d+8>>2],A[et+12>>2]=A[d+12>>2],(0|(b=0|A[g>>2]))==(0|A[P>>2])?Yt(N,p):(A[b>>2]=x,A[g>>2]=4+(0|A[g>>2]))),w=0|A[w+100>>2]}while(0!=(0|w));A[d>>2]=A[(w=0|A[y>>2])>>2],A[d+4>>2]=A[w+4>>2],A[d+8>>2]=A[w+8>>2],A[d+12>>2]=A[w+12>>2],b=8+(w=0|ei(24))|0,A[p>>2]=w,A[w>>2]=e,A[w+4>>2]=0,A[b>>2]=A[d>>2],A[b+4>>2]=A[d+4>>2],A[b+8>>2]=A[d+8>>2],A[b+12>>2]=A[d+12>>2],(0|(b=0|A[h>>2]))==(0|A[c>>2])?Yt(f,p):(A[b>>2]=w,A[h>>2]=4+(0|A[h>>2]))}if(!(T|(0|E)!=(0|Y))){G=76;break t}k?(W=0|A[(X=S)+4>>2],Z=0|A[($=24+(et=0|A[y>>2])|0)>>2],$=0|A[$+4>>2],A[(tt=p)>>2]=A[X>>2],A[tt+4>>2]=W,A[(tt=o)>>2]=Z,A[tt+4>>2]=$,_e(t,et,E,p)):(W=0|A[(X=S)+4>>2],Z=0|A[($=24+(et=0|A[y>>2])|0)>>2],$=0|A[$+4>>2],A[(tt=p)>>2]=A[X>>2],A[tt+4>>2]=W,A[(tt=a)>>2]=Z,A[tt+4>>2]=$,_e(t,E,et,p)),et=E,E=0|A[(k?E+92|0:E+96|0)>>2],ee(t,0|A[y>>2],et)}while(0!=(0|E));w=e,E=I,e=0|A[y>>2]}else E=I;if(!(I=0|A[e+88>>2]))break;if(-1e40!=+_[I+48>>3])break;ie(t,y),(0|A[76+(e=0|A[y>>2])>>2])>-1&&(ce(t,e,e),e=0|A[y>>2]),et=0|A[($=e)>>2],V=0|A[(R=e+32|0)>>2],k=tt=(0|($=0|A[$+4>>2]))<(0|(R=0|A[R+4>>2]))|(0|$)==(0|R)&et>>>0<V>>>0,I=E,D=tt?R:$,M=tt?V:et,R=tt?$:R,V=tt?et:V}if(76==(0|G)){E=76+(B=0|A[y>>2])|0;do{if((0|A[E>>2])>-1){if(ce(t,B,v=B+32|0),0|A[Y+64>>2]||ce(t,Y,v),(0|(v=0|A[E>>2]))==(0|(I=0|A[(e=Y+76|0)>>2]))){A[E>>2]=-1,A[e>>2]=-1;break}if((0|v)<(0|I)){fe(t,B,Y);break}fe(t,Y,B);break}}while(0);return((E=0!=(0|(e=0|A[(v=96+(et=0|A[y>>2])|0)>>2])))|(w=0!=(0|(B=0|A[(I=et+92|0)>>2])))||(0|A[t+52>>2])==(0|et))&&(A[(E?e+92|0:t+52|0)>>2]=B,w&&(A[B+96>>2]=e),A[I>>2]=0,A[v>>2]=0),(E=0!=(0|(e=0|A[(v=Y+96|0)>>2])))|(w=0!=(0|(B=0|A[(I=Y+92|0)>>2])))||(0|A[t+52>>2])==(0|Y)?(A[(E?e+92|0:t+52|0)>>2]=B,w&&(A[B+96>>2]=e),A[I>>2]=0,A[v>>2]=0,void(mt=C)):void(mt=C)}if(!(0!=(0|w)|(0|(v=0|A[e+76>>2]))<0)){if(v=0|A[16+(0|A[(0|A[u>>2])+(v<<2)>>2])>>2],B=1==(0|A[e+60>>2])?v:0|A[v+28>>2],v=0|A[l>>2]){do{(0|(e=0|A[v+76>>2]))>-1&&(tt=0|A[(X=z=0|A[y>>2])>>2],et=0|A[(z=z+32|0)>>2],Z=0|A[(O=v)>>2],W=0|A[(K=H=v+32|0)>>2],Y=($=(0|(X=0|A[X+4>>2]))>(0|(z=0|A[z+4>>2]))|(0|X)==(0|z)&tt>>>0>et>>>0)?z:X,z=$?X:z,q=(X=(0|(O=0|A[O+4>>2]))>(0|(K=0|A[K+4>>2]))|(0|O)==(0|K)&Z>>>0>W>>>0)?K:O,((0|Y)<(0|(K=X?O:K))|((0|Y)==(0|K)?($?et:tt)>>>0<(X?Z:W)>>>0:0))&((0|q)<(0|z)|((0|q)==(0|z)?(X?W:Z)>>>0<($?tt:et)>>>0:0)))&&(e=0|A[16+(0|A[(0|A[u>>2])+(e<<2)>>2])>>2],1!=(0|A[v+60>>2])&&(e=0|A[e+28>>2]),A[d>>2]=A[H>>2],A[d+4>>2]=A[H+4>>2],A[d+8>>2]=A[H+8>>2],A[d+12>>2]=A[H+12>>2],et=8+(I=0|ei(24))|0,A[p>>2]=I,A[I>>2]=e,A[I+4>>2]=B,A[et>>2]=A[d>>2],A[et+4>>2]=A[d+4>>2],A[et+8>>2]=A[d+8>>2],A[et+12>>2]=A[d+12>>2],(0|(e=0|A[g>>2]))==(0|A[P>>2])?Yt(N,p):(A[e>>2]=I,A[g>>2]=4+(0|A[g>>2]))),v=0|A[v+100>>2]}while(0!=(0|v));e=0|A[y>>2]}A[d>>2]=A[(e=e+32|0)>>2],A[d+4>>2]=A[e+4>>2],A[d+8>>2]=A[e+8>>2],A[d+12>>2]=A[e+12>>2],v=8+(e=0|ei(24))|0,A[p>>2]=e,A[e>>2]=B,A[e+4>>2]=0,A[v>>2]=A[d>>2],A[v+4>>2]=A[d+4>>2],A[v+8>>2]=A[d+8>>2],A[v+12>>2]=A[d+12>>2],(0|(v=0|A[h>>2]))==(0|A[c>>2])?Yt(f,p):(A[v>>2]=e,A[h>>2]=4+(0|A[h>>2])),I=0|A[88+(e=0|A[y>>2])>>2],v=0|A[e+76>>2]}if(v=(0|v)>-1,!I)return v&&(ce(t,e,e+32|0),e=0|A[y>>2]),(w=0!=(0|(I=0|A[(v=e+96|0)>>2])))|(b=0!=(0|(E=0|A[(B=e+92|0)>>2])))||(0|A[t+52>>2])==(0|e)?(A[(w?I+92|0:t+52|0)>>2]=E,b&&(A[E+96>>2]=I),A[B>>2]=0,A[v>>2]=0,void(mt=C)):void(mt=C);if(!v)return ie(t,y),void(mt=C);if(E=0|ce(t,e,e+32|0),ie(t,y),0|A[64+(I=0|A[y>>2])>>2]){if(B=0|A[I+92>>2],0|(v=0|A[I+96>>2])&&(0|A[(tt=v+16|0)>>2])==(0|A[(et=I)>>2])&&(0|A[tt+4>>2])==(0|A[et+4>>2])&&(J=0|A[(j=v+24|0)>>2],j=0|A[j+4>>2],(0|J)==(0|A[(et=I+8|0)>>2])&&(0|j)==(0|A[et+4>>2]))&&0|A[v+64>>2]&&(0|A[v+76>>2])>-1&&(0|j)>(0|(tt=0|A[4+(et=v+40|0)>>2]))|((0|j)==(0|tt)?J>>>0>(0|A[et>>2])>>>0:0)&&0|Kt(I,v,0!=(0|r[t+20>>0])))return et=0|ce(t,v,I),A[d>>2]=A[(e=32+(0|A[y>>2])|0)>>2],A[d+4>>2]=A[e+4>>2],A[d+8>>2]=A[e+8>>2],A[d+12>>2]=A[e+12>>2],v=8+(e=0|ei(24))|0,A[p>>2]=e,A[e>>2]=E,A[e+4>>2]=et,A[v>>2]=A[d>>2],A[v+4>>2]=A[d+4>>2],A[v+8>>2]=A[d+8>>2],A[v+12>>2]=A[d+12>>2],(0|(v=0|A[g>>2]))==(0|A[P>>2])?Yt(N,p):(A[v>>2]=e,A[g>>2]=4+(0|A[g>>2])),void(mt=C);B&&(0|A[(tt=B+16|0)>>2])==(0|A[(et=I)>>2])&&(0|A[tt+4>>2])==(0|A[et+4>>2])?(v=0|A[(e=B+24|0)>>2],e=0|A[e+4>>2],(0|v)==(0|A[(et=I+8|0)>>2])&&(0|e)==(0|A[et+4>>2])&&0|A[B+64>>2]?(0|A[B+76>>2])<=-1?mt=C:(0|e)>(0|(tt=0|A[4+(et=B+40|0)>>2]))|((0|e)==(0|tt)?v>>>0>(0|A[et>>2])>>>0:0)&&0|Kt(I,B,0!=(0|r[t+20>>0]))?(et=0|ce(t,B,I),A[d>>2]=A[(e=32+(0|A[y>>2])|0)>>2],A[d+4>>2]=A[e+4>>2],A[d+8>>2]=A[e+8>>2],A[d+12>>2]=A[e+12>>2],v=8+(e=0|ei(24))|0,A[p>>2]=e,A[e>>2]=E,A[e+4>>2]=et,A[v>>2]=A[d>>2],A[v+4>>2]=A[d+4>>2],A[v+8>>2]=A[d+8>>2],A[v+12>>2]=A[d+12>>2],(0|(v=0|A[g>>2]))==(0|A[P>>2])?Yt(N,p):(A[v>>2]=e,A[g>>2]=4+(0|A[g>>2])),mt=C):mt=C:mt=C):mt=C}else mt=C}function pe(t,e,i){t|=0,i|=0;var n,r,s,o=0,a=0,l=0,u=0,h=0;if(!((h=0==(0|(r=0|A[(n=100+(e|=0)|0)>>2])))&&0==(0|A[e+104>>2])||(a=0==(0|(l=0|A[(s=i+100|0)>>2])))&&0==(0|A[i+104>>2]))){if((0|r)!=(0|i)){if((0|l)!=(0|e)?(u=0|A[(o=e+104|0)>>2],A[n>>2]=l,a||(A[l+104>>2]=e),A[o>>2]=l=0|A[(a=i+104|0)>>2],0|l&&(A[l+100>>2]=e),A[s>>2]=r,h||(A[r+104>>2]=i),A[a>>2]=u,u&&(A[u+100>>2]=i)):(h||(A[r+104>>2]=i),0|(a=0|A[(o=i+104|0)>>2])&&(A[a+100>>2]=e),A[(h=e+104|0)>>2]=a,A[n>>2]=i,A[o>>2]=e,A[s>>2]=r,o=h),!(0|A[o>>2]))return void(A[t+124>>2]=e)}else a||(A[l+104>>2]=e),0|(a=0|A[(o=e+104|0)>>2])&&(A[a+100>>2]=i),A[i+104>>2]=a,A[s>>2]=e,A[o>>2]=i,A[n>>2]=l;0|A[i+104>>2]||(A[t+124>>2]=i)}}function ye(t){var e,i=0,n=0,r=0,s=0,o=0,a=0,l=0,u=0,h=0;if(e=mt,mt=mt+16|0,n=e,A[124+(t|=0)>>2]=i=0|A[t+52>>2],0|i)do{A[i+104>>2]=A[i+96>>2],A[(h=i)+100>>2]=i=0|A[i+92>>2]}while(0!=(0|i));if(a=0|A[(h=t+96|0)>>2],u=0|A[(l=t+100|0)>>2],A[n>>2]=1,function t(e,i,n){e|=0,i|=0,n|=0;var r=0,s=0,o=0,a=0,l=0,u=0,h=0,c=0,f=0,m=0;t:for(;;){h=i,s=i+-4|0,c=i+-8|0,f=i;e:for(;;){switch(0|(o=(r=h-e|0)>>2)){case 2:r=4;break t;case 3:r=6;break t;case 4:r=14;break t;case 5:r=15;break t;case 1:case 0:r=76;break t}if((0|r)<124){r=21;break t}u=e+(((0|o)/2|0)<<2)|0;do{if((0|r)>3996)r=0|Jt(e,l=e+((o=(0|o)/4|0)<<2)|0,u,o=u+(o<<2)|0,n),0|Wi[31&A[n>>2]](0|A[s>>2],0|A[o>>2])&&(a=0|A[o>>2],A[o>>2]=A[s>>2],A[s>>2]=a,a=r+1|0,0|Wi[31&A[n>>2]](0|A[o>>2],0|A[u>>2])?(a=0|A[u>>2],A[u>>2]=A[o>>2],A[o>>2]=a,o=r+2|0,0|Wi[31&A[n>>2]](0|A[u>>2],0|A[l>>2])?(a=0|A[l>>2],A[l>>2]=A[u>>2],A[u>>2]=a,0|Wi[31&A[n>>2]](0|A[l>>2],0|A[e>>2])?(a=0|A[e>>2],A[e>>2]=A[l>>2],A[l>>2]=a,r=r+4|0):r=r+3|0):r=o):r=a);else{if(l=0|Wi[31&A[n>>2]](0|A[u>>2],0|A[e>>2]),r=0|Wi[31&A[n>>2]](0|A[s>>2],0|A[u>>2]),!l){if(!r){r=0;break}if(l=0|A[u>>2],A[u>>2]=A[s>>2],A[s>>2]=l,!(0|Wi[31&A[n>>2]](0|A[u>>2],0|A[e>>2]))){r=1;break}r=0|A[e>>2],A[e>>2]=A[u>>2],A[u>>2]=r,r=2;break}if(o=0|A[e>>2],r){A[e>>2]=A[s>>2],A[s>>2]=o,r=1;break}A[e>>2]=A[u>>2],A[u>>2]=o,0|Wi[31&A[n>>2]](0|A[s>>2],o)?(r=0|A[u>>2],A[u>>2]=A[s>>2],A[s>>2]=r,r=2):r=1}}while(0);if(0|Wi[31&A[n>>2]](0|A[e>>2],0|A[u>>2]))o=s;else{if((0|e)==(0|c)){r=40;break}for(o=c;!(0|Wi[31&A[n>>2]](0|A[o>>2],0|A[u>>2]));)if((0|e)==(0|(o=o+-4|0))){r=40;break e}l=0|A[e>>2],A[e>>2]=A[o>>2],A[o>>2]=l,r=r+1|0}a=e+4|0;i:do{if(a>>>0<o>>>0)for(;;){for(;l=a+4|0,0|Wi[31&A[n>>2]](0|A[a>>2],0|A[u>>2]);)a=l;do{o=o+-4|0}while(!(0|Wi[31&A[n>>2]](0|A[o>>2],0|A[u>>2])));if(a>>>0>o>>>0){o=u;break i}m=0|A[a>>2],A[a>>2]=A[o>>2],A[o>>2]=m,u=(0|u)==(0|a)?o:u,a=l,r=r+1|0}else o=u}while(0);if((0|a)!=(0|o)&&0|Wi[31&A[n>>2]](0|A[o>>2],0|A[a>>2])&&(m=0|A[a>>2],A[a>>2]=A[o>>2],A[o>>2]=m,r=r+1|0),!r){if(o=0|Ce(e,a,n),0|Ce(r=a+4|0,i,n)){r=69;break}if(o){s=2,e=r,r=74;break}}if(((m=a)-e|0)>=(f-m|0)){r=73;break}t(e,a,n),e=a+4|0}e:do{if(40==(0|r)){if(r=e+4|0,!(0|Wi[31&A[n>>2]](0|A[e>>2],0|A[s>>2]))){if((0|r)==(0|s)){r=76;break t}for(;!(0|Wi[31&A[n>>2]](0|A[e>>2],0|A[r>>2]));)if((0|(r=r+4|0))==(0|s)){r=76;break t}m=0|A[r>>2],A[r>>2]=A[s>>2],A[s>>2]=m,r=r+4|0}if((0|r)==(0|s)){r=76;break t}for(;;){for(;o=r+4|0,!(0|Wi[31&A[n>>2]](0|A[e>>2],0|A[r>>2]));)r=o;do{s=s+-4|0}while(0|Wi[31&A[n>>2]](0|A[e>>2],0|A[s>>2]));if(r>>>0>=s>>>0){s=4,e=r,r=74;break e}m=0|A[r>>2],A[r>>2]=A[s>>2],A[s>>2]=m,r=o}}else 69==(0|r)?(s=o?1:2,i=o?i:a,r=74):73==(0|r)&&(r=0,t(a+4|0,i,n),i=a)}while(0);if(74==(0|r))switch(7&s){case 2:case 4:case 0:break;default:r=76;break t}}if(4==(0|r)){if(!(0|Wi[31&A[n>>2]](0|A[(i=i+-4|0)>>2],0|A[e>>2])))return;return m=0|A[e>>2],A[e>>2]=A[i>>2],void(A[i>>2]=m)}if(6==(0|r)){if(i=i+-4|0,m=0|Wi[31&A[n>>2]](0|A[(o=e+4|0)>>2],0|A[e>>2]),r=0|Wi[31&A[n>>2]](0|A[i>>2],0|A[o>>2]),!m){if(!r)return;if(m=0|A[o>>2],A[o>>2]=A[i>>2],A[i>>2]=m,!(0|Wi[31&A[n>>2]](0|A[o>>2],0|A[e>>2])))return;return m=0|A[e>>2],A[e>>2]=A[o>>2],void(A[o>>2]=m)}if(s=0|A[e>>2],r)return A[e>>2]=A[i>>2],void(A[i>>2]=s);if(A[e>>2]=A[o>>2],A[o>>2]=s,!(0|Wi[31&A[n>>2]](0|A[i>>2],s)))return;return m=0|A[o>>2],A[o>>2]=A[i>>2],void(A[i>>2]=m)}if(14!=(0|r)){if(15==(0|r)){if(i=i+-4|0,Jt(e,r=e+4|0,s=e+8|0,o=e+12|0,n),!(0|Wi[31&A[n>>2]](0|A[i>>2],0|A[o>>2])))return;if(m=0|A[o>>2],A[o>>2]=A[i>>2],A[i>>2]=m,!(0|Wi[31&A[n>>2]](0|A[o>>2],0|A[s>>2])))return;if(f=0|A[s>>2],A[s>>2]=m=0|A[o>>2],A[o>>2]=f,!(0|Wi[31&A[n>>2]](m,0|A[r>>2])))return;if(f=0|A[r>>2],A[r>>2]=m=0|A[s>>2],A[s>>2]=f,!(0|Wi[31&A[n>>2]](m,0|A[e>>2])))return;return m=0|A[e>>2],A[e>>2]=A[r>>2],void(A[r>>2]=m)}21!=(0|r)||function(t,e,i){e|=0;var n=0,r=0,s=0,o=0,a=0,l=0;r=8+(t|=0)|0,a=0|Wi[31&A[(i|=0)>>2]](0|A[(o=t+4|0)>>2],0|A[t>>2]),n=0|Wi[31&A[i>>2]](0|A[r>>2],0|A[o>>2]);do{if(a){if(s=0|A[t>>2],n){A[t>>2]=A[r>>2],A[r>>2]=s;break}A[t>>2]=A[o>>2],A[o>>2]=s,0|Wi[31&A[i>>2]](0|A[r>>2],s)&&(a=0|A[o>>2],A[o>>2]=A[r>>2],A[r>>2]=a)}else n&&(s=0|A[o>>2],A[o>>2]=a=0|A[r>>2],A[r>>2]=s,0|Wi[31&A[i>>2]](a,0|A[t>>2]))&&(a=0|A[t>>2],A[t>>2]=A[o>>2],A[o>>2]=a)}while(0);if((0|(n=t+12|0))!=(0|e))for(;;){if(0|Wi[31&A[i>>2]](0|A[n>>2],0|A[r>>2])){for(o=a=0|A[n>>2],s=n;;){if(A[s>>2]=A[r>>2],(0|r)==(0|t)){r=t;break}if(!(0|Wi[31&A[i>>2]](o,0|A[(s=r+-4|0)>>2])))break;l=r,r=s,s=l}A[r>>2]=a}if((0|(r=n+4|0))==(0|e))break;l=n,n=r,r=l}}(e,i,n)}else Jt(e,e+4|0,e+8|0,i+-4|0,n)}(a,u,n),u=(l=(0|A[l>>2])-(n=0|A[h>>2])|0)>>2,!l)return mt=e,1;for(i=0;;){if((0|A[100+(s=0|A[(l=0|A[(a=n+(i<<2)|0)>>2])>>2])>>2])!=(0|(o=0|A[l+4>>2]))&&(0|A[s+104>>2])!=(0|o)){r=i+1|0;t:do{if(r>>>0<u>>>0)do{if((0|A[100+(s=0|A[(o=0|A[n+(r<<2)>>2])>>2])>>2])==(0|(o=0|A[o+4>>2])))break t;if((0|A[s+104>>2])==(0|o))break t;r=r+1|0}while(r>>>0<u>>>0)}while(0);if(n=n+(r<<2)|0,(0|r)==(0|u)){i=0,n=17;break}A[a>>2]=A[n>>2],A[n>>2]=l,n=0|A[h>>2]}if(pe(t,0|A[(l=0|A[n+(i<<2)>>2])>>2],0|A[l+4>>2]),(i=i+1|0)>>>0>=u>>>0){i=1,n=17;break}n=0|A[h>>2]}return 17==(0|n)?(mt=e,0|i):0}function Ce(t,e,i){i|=0;var n=0,r=0,s=0,o=0,a=0,l=0,u=0,h=0;switch((e|=0)-(t|=0)>>2|0){case 2:return 0|Wi[31&A[i>>2]](0|A[(n=e+-4|0)>>2],0|A[t>>2])?(i=0|A[t>>2],A[t>>2]=A[n>>2],A[n>>2]=i,0|(i=1)):0|(i=1);case 3:return n=e+-4|0,e=0|Wi[31&A[i>>2]](0|A[(o=t+4|0)>>2],0|A[t>>2]),r=0|Wi[31&A[i>>2]](0|A[n>>2],0|A[o>>2]),e?(s=0|A[t>>2],r?(A[t>>2]=A[n>>2],A[n>>2]=s,0|(i=1)):(A[t>>2]=A[o>>2],A[o>>2]=s,0|Wi[31&A[i>>2]](0|A[n>>2],s)?(i=0|A[o>>2],A[o>>2]=A[n>>2],A[n>>2]=i,0|(i=1)):0|(i=1))):r?(e=0|A[o>>2],A[o>>2]=A[n>>2],A[n>>2]=e,0|Wi[31&A[i>>2]](0|A[o>>2],0|A[t>>2])?(i=0|A[t>>2],A[t>>2]=A[o>>2],A[o>>2]=i,0|(i=1)):0|(i=1)):0|(i=1);case 4:return Jt(t,t+4|0,t+8|0,e+-4|0,i),1;case 5:return n=e+-4|0,Jt(t,r=t+4|0,s=t+8|0,o=t+12|0,i),0|Wi[31&A[i>>2]](0|A[n>>2],0|A[o>>2])?(e=0|A[o>>2],A[o>>2]=A[n>>2],A[n>>2]=e,0|Wi[31&A[i>>2]](0|A[o>>2],0|A[s>>2])?(u=0|A[s>>2],A[s>>2]=e=0|A[o>>2],A[o>>2]=u,0|Wi[31&A[i>>2]](e,0|A[r>>2])?(u=0|A[r>>2],A[r>>2]=e=0|A[s>>2],A[s>>2]=u,0|Wi[31&A[i>>2]](e,0|A[t>>2])?(i=0|A[t>>2],A[t>>2]=A[r>>2],A[r>>2]=i,0|(i=1)):0|(i=1)):0|(i=1)):0|(i=1)):0|(i=1);case 1:case 0:return 1;default:r=t+8|0,l=0|Wi[31&A[i>>2]](0|A[(n=t+4|0)>>2],0|A[t>>2]),s=0|Wi[31&A[i>>2]](0|A[r>>2],0|A[n>>2]);do{if(l){if(o=0|A[t>>2],s){A[t>>2]=A[r>>2],A[r>>2]=o;break}A[t>>2]=A[n>>2],A[n>>2]=o,0|Wi[31&A[i>>2]](0|A[r>>2],o)&&(l=0|A[n>>2],A[n>>2]=A[r>>2],A[r>>2]=l)}else s&&(a=0|A[n>>2],A[n>>2]=l=0|A[r>>2],A[r>>2]=a,0|Wi[31&A[i>>2]](l,0|A[t>>2]))&&(l=0|A[t>>2],A[t>>2]=A[n>>2],A[n>>2]=l)}while(0);if((0|(n=t+12|0))==(0|e))return 1;for(l=n,n=0;;){if(0|Wi[31&A[i>>2]](0|A[l>>2],0|A[r>>2])){for(o=a=0|A[l>>2],s=l;;){if(A[s>>2]=A[r>>2],(0|r)==(0|t)){r=t;break}if(!(0|Wi[31&A[i>>2]](o,0|A[(s=r+-4|0)>>2])))break;h=r,r=s,s=h}if(A[r>>2]=a,8==(0|(n=n+1|0)))break}if((0|(r=l+4|0))==(0|e)){n=1,u=35;break}h=l,l=r,r=h}return 35==(0|u)?0|n:0|(h=(l+4|0)==(0|e))}return 0}function ve(t,e){e|=0;var i,n,r,s,o=0,a=0,l=0,u=0,h=0;(o=1+(i=(s=(0|A[(n=4+(t|=0)|0)>>2])-(r=0|A[t>>2])|0)>>2)|0)>>>0>1073741823&&oi(),u=(l=(0|A[(h=t+8|0)>>2])-r|0)>>1,u=l>>2>>>0<536870911?u>>>0<o>>>0?o:u:1073741823;do{if(u){if(!(u>>>0>1073741823)){a=l=0|ei(u<<2);break}si(h=0|G(8),6334),A[h>>2]=4968,F(0|h,3800,18)}else a=0,l=0}while(0);A[(o=a+(i<<2)|0)>>2]=A[e>>2],(0|s)>0&&bi(0|l,0|r,0|s),A[t>>2]=a,A[n>>2]=o+4,A[h>>2]=a+(u<<2),r&&ni(r)}function Ie(t,e,i){var n,r,s,o,a=0,l=0,u=0,h=0;if(s=h=0|A[(t|=0)>>2],(l=(u=(o=i|=0)-(n=e|=0)|0)>>4)>>>0<=(a=0|A[(r=t+8|0)>>2])-h>>4>>>0){if(0|(a=(i=t=(l=l>>>0>(t=(0|A[(u=t+4|0)>>2])-h>>4)>>>0)?e+(t<<4)|0:i)-n|0)&&xi(0|h,0|e,0|a),!l)return void(A[u>>2]=s+(a>>4<<4));if((0|(a=o-i|0))<=0)return;return bi(0|A[u>>2],0|t,0|a),void(A[u>>2]=(0|A[u>>2])+(a>>>4<<4))}h&&(A[(a=t+4|0)>>2]=h,ni(h),A[r>>2]=0,A[a>>2]=0,A[t>>2]=0,a=0),l>>>0>268435455&&oi(),h=a>>3,(l=a>>4>>>0<134217727?h>>>0<l>>>0?l:h:268435455)>>>0>268435455&&oi(),a=0|ei(l<<4),A[(i=t+4|0)>>2]=a,A[t>>2]=a,A[r>>2]=a+(l<<4),(0|u)<=0||(bi(0|a,0|e,0|u),A[i>>2]=a+(u>>>4<<4))}function Be(t,e){e|=0;var i,n,r,s,o=0,a=0,l=0,u=0,h=0;(o=1+(i=(s=(0|A[(n=4+(t|=0)|0)>>2])-(r=0|A[t>>2])|0)>>4)|0)>>>0>268435455&&oi(),u=(l=(0|A[(h=t+8|0)>>2])-r|0)>>3,u=l>>4>>>0<134217727?u>>>0<o>>>0?o:u:268435455;do{if(u){if(!(u>>>0>268435455)){a=l=0|ei(u<<4);break}si(h=0|G(8),6334),A[h>>2]=4968,F(0|h,3800,18)}else a=0,l=0}while(0);A[(o=a+(i<<4)|0)>>2]=A[e>>2],A[o+4>>2]=A[e+4>>2],A[o+8>>2]=A[e+8>>2],A[o+12>>2]=A[e+12>>2],(0|s)>0&&bi(0|l,0|r,0|s),A[t>>2]=a,A[n>>2]=o+16,A[h>>2]=a+(u<<4),r&&ni(r)}function Ee(t,e){e|=0;var i,n,r,s,o=0,a=0,l=0,u=0,h=0;(o=1+(i=(s=(0|A[(n=4+(t|=0)|0)>>2])-(r=0|A[t>>2])|0)>>4)|0)>>>0>268435455&&oi(),u=(l=(0|A[(h=t+8|0)>>2])-r|0)>>3,u=l>>4>>>0<134217727?u>>>0<o>>>0?o:u:268435455;do{if(u){if(!(u>>>0>268435455)){a=l=0|ei(u<<4);break}si(h=0|G(8),6334),A[h>>2]=4968,F(0|h,3800,18)}else a=0,l=0}while(0);A[(o=a+(i<<4)|0)>>2]=A[e>>2],A[o+4>>2]=A[e+4>>2],A[o+8>>2]=A[e+8>>2],A[o+12>>2]=A[e+12>>2],(0|s)>0&&bi(0|l,0|r,0|s),A[t>>2]=a,A[n>>2]=o+16,A[h>>2]=a+(u<<4),r&&ni(r)}function we(t,e){var i,n,r,s,o,a=0,l=0,u=0,h=0;if((l=0|A[(o=8+(t|=0)|0)>>2])-(a=0|A[(h=t+4|0)>>2])>>4>>>0>=(e|=0)>>>0)do{A[a>>2]=0,A[a+4>>2]=0,A[a+8>>2]=0,A[a+12>>2]=0,A[h>>2]=a=16+(0|A[h>>2])|0,e=e+-1|0}while(0!=(0|e));else{(r=(n=(i=a-(s=0|A[t>>2])|0)>>4)+e|0)>>>0>268435455&&oi(),u=(l=l-s|0)>>3,u=l>>4>>>0<134217727?u>>>0<r>>>0?r:u:268435455;do{if(u){if(!(u>>>0>268435455)){a=l=0|ei(u<<4);break}si(h=0|G(8),6334),A[h>>2]=4968,F(0|h,3800,18)}else a=0,l=0}while(0);Si(a+(n<<4)|0,0,e<<4|0),(0|i)>0&&bi(0|l,0|s,0|i),A[t>>2]=a,A[h>>2]=a+(r<<4),A[o>>2]=a+(u<<4),s&&ni(s)}}function be(t){var e,i=0,n=0,r=0,s=0,o=0,a=0;if(A[(t|=0)>>2]=4304,n=i=0|A[(a=t+48|0)>>2],(0|(s=0|A[(e=t+52|0)>>2]))!=(0|i)){o=0;do{(r=0|A[i+(o<<2)>>2])&&(rn[63&A[4+(0|A[r>>2])>>2]](r),s=0|A[e>>2],n=i=0|A[a>>2]),o=o+1|0,r=s-i|0}while(o>>>0<r>>2>>>0);r&&(A[e>>2]=i)}i=a=0|A[t+16>>2],(0|A[(r=t+20|0)>>2])!=(0|a)&&(A[r>>2]=i),n&&(A[e>>2]=n,ni(n),i=0|A[t+16>>2]),A[t>>2]=4016,0|i&&(A[r>>2]=i,ni(i)),(i=0|A[t+4>>2])&&(A[t+8>>2]=i,ni(i))}function xe(t){return(t|=0)>>>0>4294963200&&(A[2564]=0-t,t=-1),0|t}function Se(t,e){var i=0,n=0;if(n=0|r[(e|=0)>>0],(i=0|r[(t|=0)>>0])<<24>>24==0||i<<24>>24!=n<<24>>24)t=n;else{do{i=0|r[(t=t+1|0)>>0],n=0|r[(e=e+1|0)>>0]}while(i<<24>>24!=0&&i<<24>>24==n<<24>>24);t=n}return(255&i)-(255&t)|0}function Qe(t){return((t|=0)-48|0)>>>0<10|0}function ke(t,e,i){t|=0,e|=0,i|=0;var n,s,o,a,l,u=0,h=0,c=0,f=0,m=0,_=0,g=0;l=mt,mt=mt+224|0,n=l+208|0,o=l+80|0,a=l,h=40+(u=s=l+160|0)|0;do{A[u>>2]=0,u=u+4|0}while((0|u)<(0|h));return A[n>>2]=A[i>>2],(0|De(0,e,n,o,s))<0?i=-1:(A[t+76>>2],g=32&(i=0|A[t>>2]),(0|r[t+74>>0])<1&&(A[t>>2]=-33&i),0|A[(u=t+48|0)>>2]?i=0|De(t,e,n,o,s):(c=0|A[(h=t+44|0)>>2],A[h>>2]=a,A[(f=t+28|0)>>2]=a,A[(m=t+20|0)>>2]=a,A[u>>2]=80,A[(_=t+16|0)>>2]=a+80,i=0|De(t,e,n,o,s),c&&(Zi[15&A[t+36>>2]](t,0,0),i=0==(0|A[m>>2])?-1:i,A[h>>2]=c,A[u>>2]=0,A[_>>2]=0,A[f>>2]=0,A[m>>2]=0)),A[t>>2]=(u=0|A[t>>2])|g,i=0==(32&u|0)?i:-1),mt=l,0|i}function De(t,e,i,n,s){t|=0,i|=0,n|=0,s|=0;var a,l,u,h,c,f,m,g,d,p=0,y=0,C=0,v=0,I=0,B=0,E=0,w=0,b=0,x=0,S=0,Q=0,k=0,D=0,M=0;d=mt,mt=mt+64|0,f=d+40|0,k=d,m=d+48|0,g=d+60|0,A[(c=d+56|0)>>2]=e|=0,a=0!=(0|t),u=l=k+40|0,k=k+39|0,h=m+4|0,p=0,e=0,C=0;t:for(;;){do{do{if((0|e)>-1){if((0|p)>(2147483647-e|0)){A[(e=10256)>>2]=75,e=-1;break}e=p+e|0;break}}while(0);if(!((p=0|r[(b=0|A[c>>2])>>0])<<24>>24)){Q=94;break t}y=b;e:for(;;){switch(p<<24>>24){case 37:Q=10;break e;case 0:p=y;break e}A[c>>2]=S=y+1|0,p=0|r[S>>0],y=S}e:do{if(10==(0|Q)){Q=0,p=y;do{if(37!=(0|r[y+1>>0]))break e;p=p+1|0,A[c>>2]=y=y+2|0}while(37==(0|r[y>>0]))}}while(0);p=p-b|0,a&&Me(t,b,p)}while(0!=(0|p));if(S=0==(0|Qe(0|r[1+(0|A[c>>2])>>0])),y=0|A[c>>2],S||36!=(0|r[y+2>>0])?(E=-1,I=C,p=1):(E=(0|r[y+1>>0])-48|0,I=1,p=3),A[c>>2]=p=y+p|0,(C=((y=0|r[p>>0])<<24>>24)-32|0)>>>0>31|0==(1<<C&75913|0))v=0;else{v=0;do{v|=1<<C,A[c>>2]=p=p+1|0,C=((y=0|r[p>>0])<<24>>24)-32|0}while(!(C>>>0>31|0==(1<<C&75913|0)))}if(y<<24>>24==42){if(0!=(0|Qe(0|r[p+1>>0]))&&36==(0|r[2+(M=0|A[c>>2])>>0]))A[s+((0|r[(p=M+1|0)>>0])-48<<2)>>2]=10,p=0|A[n+((0|r[p>>0])-48<<3)>>2],C=1,y=M+3|0;else{if(0|I){e=-1;break}a?(p=0|A[(S=3+(0|A[i>>2])&-4)>>2],A[i>>2]=S+4):p=0,C=0,y=1+(0|A[c>>2])|0}A[c>>2]=y,x=(S=(0|p)<0)?0-p|0:p,v=S?8192|v:v,S=C}else{if((0|(p=0|Re(c)))<0){e=-1;break}x=p,S=I,y=0|A[c>>2]}do{if(46==(0|r[y>>0])){if(42!=(0|r[(p=y+1|0)>>0])){A[c>>2]=p,p=0|Re(c),y=0|A[c>>2];break}if(0|Qe(0|r[y+2>>0])&&36==(0|r[3+(D=0|A[c>>2])>>0])){A[s+((0|r[(p=D+2|0)>>0])-48<<2)>>2]=10,p=0|A[n+((0|r[p>>0])-48<<3)>>2],A[c>>2]=y=D+4|0;break}if(0|S){e=-1;break t}a?(p=0|A[(w=3+(0|A[i>>2])&-4)>>2],A[i>>2]=w+4):p=0,A[c>>2]=y=2+(0|A[c>>2])|0}else p=-1}while(0);for(w=0;;){if(((0|r[y>>0])-65|0)>>>0>57){e=-1;break t}if(C=y,A[c>>2]=y=y+1|0,((I=255&(C=0|r[(0|r[C>>0])-65+(544+(58*w|0))>>0]))-1|0)>>>0>=8)break;w=I}if(!(C<<24>>24)){e=-1;break}B=(0|E)>-1;do{if(C<<24>>24==19){if(B){e=-1;break t}Q=54}else{if(B){A[s+(E<<2)>>2]=I,E=0|A[4+(B=n+(E<<3)|0)>>2],A[(Q=f)>>2]=A[B>>2],A[Q+4>>2]=E,Q=54;break}if(!a){e=0;break t}Ve(f,I,i),y=0|A[c>>2],Q=55}}while(0);54==(0|Q)&&(Q=0,a?Q=55:p=0);e:do{if(55==(0|Q)){Q=0,y=0!=(0|w)&3==(15&(y=0|r[y+-1>>0])|0)?-33&y:y,C=-65537&v,E=0==(8192&v|0)?v:C;i:do{switch(0|y){case 110:switch((255&w)<<24>>24){case 0:case 1:A[A[f>>2]>>2]=e,p=0;break e;case 2:A[(p=0|A[f>>2])>>2]=e,A[p+4>>2]=((0|e)<0)<<31>>31,p=0;break e;case 3:o[A[f>>2]>>1]=e,p=0;break e;case 4:r[A[f>>2]>>0]=e,p=0;break e;case 6:A[A[f>>2]>>2]=e,p=0;break e;case 7:A[(p=0|A[f>>2])>>2]=e,A[p+4>>2]=((0|e)<0)<<31>>31,p=0;break e;default:p=0;break e}case 112:y=120,p=p>>>0>8?p:8,C=8|E,Q=67;break;case 88:case 120:C=E,Q=67;break;case 111:v=0,I=9421,p=0==(8&E|0)|(0|p)>(0|(Q=u-(B=0|Ge(y=0|A[(C=f)>>2],C=0|A[C+4>>2],l))|0))?p:Q+1|0,Q=73;break;case 105:case 100:if(y=0|A[(C=f)>>2],(0|(C=0|A[C+4>>2]))<0){y=0|Ci(0,0,0|y,0|C),C=0|V(),A[(v=f)>>2]=y,A[v+4>>2]=C,v=1,I=9421,Q=72;break i}v=0!=(2049&E|0)&1,I=0==(2048&E|0)?0==(1&E|0)?9421:9423:9422,Q=72;break i;case 117:v=0,I=9421,y=0|A[(C=f)>>2],C=0|A[C+4>>2],Q=72;break;case 99:r[k>>0]=A[f>>2],w=k,v=0,I=9421,B=1,p=u;break;case 109:y=0|Pe(0|A[(y=10256)>>2]),Q=77;break;case 115:y=0==(0|(y=0|A[f>>2]))?9431:y,Q=77;break;case 67:A[m>>2]=A[f>>2],A[h>>2]=0,A[f>>2]=m,I=-1,Q=81;break;case 83:p?(I=p,Q=81):(Le(t,32,x,0,E),p=0,Q=91);break;case 65:case 71:case 70:case 69:case 97:case 103:case 102:case 101:p=0|Oe(t,+_[f>>3],x,p,E,y);break e;default:w=b,v=0,I=9421,B=p,C=E,p=u}}while(0);i:do{if(67==(0|Q))B=0|Te(w=0|A[(b=f)>>2],b=0|A[b+4>>2],l,32&y),v=(I=0==(8&C|0)|0==(0|w)&0==(0|b))?0:2,I=I?9421:9421+(y>>>4)|0,E=C,y=w,C=b,Q=73;else if(72==(0|Q))B=0|Fe(y,C,l),Q=73;else if(77==(0|Q))Q=0,w=y,v=0,I=9421,B=(E=0==(0|(b=0|Ne(y,0,p))))?p:b-y|0,p=E?y+p|0:b;else if(81==(0|Q)){for(Q=0,v=0|A[f>>2],p=0;y=0|A[v>>2];){if((C=(0|(y=0|Ue(g,y)))<0)|y>>>0>(I-p|0)>>>0){Q=85;break}if(!(I>>>0>(p=y+p|0)>>>0))break;v=v+4|0}if(85==(0|Q)&&(Q=0,C)){e=-1;break t}if(Le(t,32,x,p,E),p)for(C=0|A[f>>2],v=0;;){if(!(y=0|A[C>>2])){Q=91;break i}if((0|(v=(y=0|Ue(g,y))+v|0))>(0|p)){Q=91;break i}if(Me(t,g,y),v>>>0>=p>>>0){Q=91;break}C=C+4|0}else p=0,Q=91}}while(0);if(73==(0|Q))Q=0,b=0!=(0|p)|(C=0!=(0|y)|0!=(0|C)),C=u-B+(1&(1^C))|0,w=b?B:l,B=b?(0|p)>(0|C)?p:C:0,C=(0|p)>-1?-65537&E:E,p=u;else if(91==(0|Q)){Q=0,Le(t,32,x,p,8192^E),p=(0|x)>(0|p)?x:p;break}Le(t,32,p=(0|x)<(0|(b=(B=(0|B)<(0|(E=p-w|0))?E:B)+v|0))?b:x,b,C),Me(t,I,v),Le(t,48,p,b,65536^C),Le(t,48,B,E,0),Me(t,w,E),Le(t,32,p,b,8192^C)}}while(0);C=S}t:do{if(94==(0|Q)&&!t)if(C){for(e=1;p=0|A[s+(e<<2)>>2];)if(Ve(n+(e<<3)|0,p,i),(e=e+1|0)>>>0>=10){e=1;break t}for(;;){if(0|A[s+(e<<2)>>2]){e=-1;break t}if((e=e+1|0)>>>0>=10){e=1;break}}}else e=0}while(0);return mt=d,0|e}function Me(t,e,i){32&A[(t|=0)>>2]||qe(e|=0,i|=0,t)}function Re(t){var e=0,i=0;if(0|Qe(0|r[A[(t|=0)>>2]>>0])){e=0;do{e=(10*e|0)-48+(0|r[(i=0|A[t>>2])>>0])|0,A[t>>2]=i=i+1|0}while(0!=(0|Qe(0|r[i>>0])))}else e=0;return 0|e}function Ve(t,e,i){t|=0,e|=0,i|=0;var n=0,r=0,s=0;t:do{if(e>>>0<=20)switch(0|e){case 9:e=0|A[(n=3+(0|A[i>>2])&-4)>>2],A[i>>2]=n+4,A[t>>2]=e;break t;case 10:e=0|A[(n=3+(0|A[i>>2])&-4)>>2],A[i>>2]=n+4,A[(n=t)>>2]=e,A[n+4>>2]=((0|e)<0)<<31>>31;break t;case 11:e=0|A[(n=3+(0|A[i>>2])&-4)>>2],A[i>>2]=n+4,A[(n=t)>>2]=e,A[n+4>>2]=0;break t;case 12:r=0|A[(e=n=7+(0|A[i>>2])&-8)>>2],e=0|A[e+4>>2],A[i>>2]=n+8,A[(n=t)>>2]=r,A[n+4>>2]=e;break t;case 13:n=0|A[(r=3+(0|A[i>>2])&-4)>>2],A[i>>2]=r+4,A[(r=t)>>2]=n=(65535&n)<<16>>16,A[r+4>>2]=((0|n)<0)<<31>>31;break t;case 14:n=0|A[(r=3+(0|A[i>>2])&-4)>>2],A[i>>2]=r+4,A[(r=t)>>2]=65535&n,A[r+4>>2]=0;break t;case 15:n=0|A[(r=3+(0|A[i>>2])&-4)>>2],A[i>>2]=r+4,A[(r=t)>>2]=n=(255&n)<<24>>24,A[r+4>>2]=((0|n)<0)<<31>>31;break t;case 16:n=0|A[(r=3+(0|A[i>>2])&-4)>>2],A[i>>2]=r+4,A[(r=t)>>2]=255&n,A[r+4>>2]=0;break t;case 17:case 18:s=+_[(r=7+(0|A[i>>2])&-8)>>3],A[i>>2]=r+8,_[t>>3]=s;break t;default:break t}}while(0)}function Te(t,e,i,n){if(i|=0,n|=0,!(0==(0|(t|=0))&0==(0|(e|=0))))do{r[(i=i+-1|0)>>0]=0|u[1008+(15&t)>>0]|n,t=0|Bi(0|t,0|e,4),e=0|V()}while(!(0==(0|t)&0==(0|e)));return 0|i}function Ge(t,e,i){if(i|=0,!(0==(0|(t|=0))&0==(0|(e|=0))))do{r[(i=i+-1|0)>>0]=7&t|48,t=0|Bi(0|t,0|e,3),e=0|V()}while(!(0==(0|t)&0==(0|e)));return 0|i}function Fe(t,e,i){i|=0;var n=0,s=0,o=0;if((e|=0)>>>0>0|0==(0|e)&(t|=0)>>>0>4294967295){do{o=0|Ci(0|(n=t),0|(s=e),0|(o=0|pi(0|(t=0|Ii(0|t,0|e,10,0)),0|(e=0|V()),10,0)),0|V()),V(),r[(i=i+-1|0)>>0]=255&o|48}while(s>>>0>9|9==(0|s)&n>>>0>4294967295);e=t}else e=t;if(e)do{r[(i=i+-1|0)>>0]=(o=e)-(10*(e=(e>>>0)/10|0)|0)|48}while(o>>>0>=10);return 0|i}function Pe(t){return 0|function(t,e){t|=0,e|=0;var i=0,n=0;for(i=0;;){if((0|u[1024+i>>0])==(0|t)){n=4;break}if(87==(0|(i=i+1|0))){t=87,n=5;break}}if(4==(0|n)&&(i?(t=i,n=5):i=1120),5==(0|n)){i=1120;do{do{n=i,i=i+1|0}while(0!=(0|r[n>>0]));t=t+-1|0}while(0!=(0|t))}return 0|function(t,e){return 0|function(t,e){return t|=0,0|(0==(0|(e=(e|=0)?0|je(0|A[e>>2],0|A[e+4>>2],t):0))?t:e)}(t|=0,e|=0)}(i,0|A[e+20>>2])}(t|=0,0|A[1200])}function Ne(t,e,i){t|=0;var n=0,s=0,o=0,a=0;o=255&(e|=0),n=0!=(0|(i|=0));t:do{if(n&0!=(3&t|0))for(s=255&e;;){if((0|r[t>>0])==s<<24>>24){a=6;break t}if(!((n=0!=(0|(i=i+-1|0)))&0!=(3&(t=t+1|0)|0))){a=5;break}}else a=5}while(0);5==(0|a)&&(a=n?6:16);t:do{if(6==(0|a)){if((0|r[t>>0])==(s=255&e)<<24>>24){if(i)break;a=16;break}n=0|Q(o,16843009);e:do{if(i>>>0>3)for(;;){if((-2139062144&(o=A[t>>2]^n)^-2139062144)&o+-16843009|0)break e;if(t=t+4|0,(i=i+-4|0)>>>0<=3){a=11;break}}else a=11}while(0);if(11==(0|a)&&!i){a=16;break}for(;;){if((0|r[t>>0])==s<<24>>24)break t;if(!(i=i+-1|0)){a=16;break}t=t+1|0}}}while(0);return 16==(0|a)&&(t=0),0|t}function Le(t,e,i,n,r){var s,o;if(t|=0,e|=0,o=mt,mt=mt+256|0,s=o,(0|(i|=0))>(0|(n|=0))&0==(73728&(r|=0)|0)){if(Si(0|s,e<<24>>24|0,0|((r=i-n|0)>>>0<256?r:256)),r>>>0>255){e=i-n|0;do{Me(t,s,256),r=r+-256|0}while(r>>>0>255);r=255&e}Me(t,s,r)}mt=o}function Ue(t,e){return 0|((t|=0)?0|Je(t,e|=0):0)}function Oe(t,e,i,n,s,o){t|=0,e=+e,i|=0,n|=0,s|=0,o|=0;var a,l=0,h=0,c=0,f=0,m=0,_=0,g=0,d=0,p=0,y=0,C=0,v=0,I=0,B=0,E=0,w=0,b=0,x=0,S=0,k=0,D=0,M=0;a=mt,mt=mt+560|0,c=a+32|0,D=M=a,f=a+540|0,A[(v=a+536|0)>>2]=0,k=f+12|0,Ye(e),(0|(l=0|V()))<0?(Ye(e=-e),S=1,x=9438,l=0|V()):(S=0!=(2049&s|0)&1,x=0==(2048&s|0)?0==(1&s|0)?9439:9444:9441);do{if(!0&2146435072==(2146435072&l|0))M=0!=(32&o|0),Le(t,32,i,l=S+3|0,-65537&s),Me(t,x,S),Me(t,e!=e|!1?M?9465:9469:M?9457:9461,3),Le(t,32,i,l,8192^s);else{if((l=0!=(d=2*+He(e,v)))&&(A[v>>2]=(0|A[v>>2])-1),97==(0|(C=32|o))){p=0==(0|(_=32&o))?x:x+9|0,g=2|S,l=12-n|0;do{if(!(n>>>0>11|0==(0|l))){e=8;do{l=l+-1|0,e*=16}while(0!=(0|l));if(45==(0|r[p>>0])){e=-(e+(-d-e));break}e=d+e-e;break}e=d}while(0);(0|(l=0|Fe(l=(0|(h=0|A[v>>2]))<0?0-h|0:h,((0|l)<0)<<31>>31,k)))==(0|k)&&(r[(l=f+11|0)>>0]=48),r[l+-1>>0]=43+(h>>31&2),r[(m=l+-2|0)>>0]=o+15,h=(0|n)<1,c=0==(8&s|0),f=M;do{l=f+1|0,r[f>>0]=_|u[1008+(S=~~e)>>0],e=16*(e-+(0|S)),1!=(l-D|0)||c&h&0==e?f=l:(r[l>>0]=46,f=f+2|0)}while(0!=e);Le(t,32,i,k=(l=0!=(0|n)&&(-2-D+f|0)<(0|n)?n+2+(h=k)-(c=m)|0:(h=k)-D-(c=m)+f|0)+g|0,s),Me(t,p,g),Le(t,48,i,k,65536^s),Me(t,M,D=f-D|0),Le(t,48,l-(D+(M=h-c|0))|0,0,0),Me(t,m,M),Le(t,32,i,k,8192^s),l=k;break}h=(0|n)<0?6:n,l?(A[v>>2]=l=(0|A[v>>2])-28|0,e=268435456*d):(e=d,l=0|A[v>>2]),c=b=(0|l)<0?c:c+288|0;do{A[c>>2]=E=~~e>>>0,c=c+4|0,e=1e9*(e-+(E>>>0))}while(0!=e);if(E=b,(0|l)>0)for(_=b;;){if(m=(0|l)<29?l:29,(l=c+-4|0)>>>0>=_>>>0){f=0;do{B=0|Ci(0|(y=0|yi(0|(y=0|Ei(0|A[l>>2],0,0|m)),0|V(),0|f,0)),0|(I=0|V()),0|(B=0|pi(0|(f=0|Ii(0|y,0|I,1e9,0)),0|V(),1e9,0)),0|V()),V(),A[l>>2]=B,l=l+-4|0}while(l>>>0>=_>>>0);f?(A[(B=_+-4|0)>>2]=f,f=B):f=_}else f=_;t:do{if(c>>>0>f>>>0)for(l=c;;){if(0|A[(c=l+-4|0)>>2]){c=l;break t}if(!(c>>>0>f>>>0))break;l=c}}while(0);if(A[v>>2]=l=(0|A[v>>2])-m|0,!((0|l)>0))break;_=f}else f=b;if((0|l)<0){n=1+((h+25|0)/9|0)|0,y=102==(0|C);do{if(p=(0|(p=0-l|0))<9?p:9,f>>>0<c>>>0){m=(1<<p)-1|0,_=1e9>>>p,g=0,l=f;do{A[l>>2]=((B=0|A[l>>2])>>>p)+g,g=0|Q(B&m,_),l=l+4|0}while(l>>>0<c>>>0);f=0==(0|A[f>>2])?f+4|0:f,g&&(A[c>>2]=g,c=c+4|0)}else f=0==(0|A[f>>2])?f+4|0:f;c=(c-(l=y?b:f)>>2|0)>(0|n)?l+(n<<2)|0:c,A[v>>2]=l=(0|A[v>>2])+p|0}while((0|l)<0);y=f}else y=f;if(y>>>0<c>>>0){if(l=9*(E-y>>2)|0,(m=0|A[y>>2])>>>0>=10){f=10;do{f=10*f|0,l=l+1|0}while(m>>>0>=f>>>0)}}else l=0;if((0|(f=h-(102==(0|C)?0:l)+(((B=0!=(0|h))&(I=103==(0|C)))<<31>>31)|0))<((9*(c-E>>2)|0)-9|0)){if(n=b+4+((f=(0|(v=f+9216|0))/9|0)-1024<<2)|0,(0|(f=v-(9*f|0)|0))<8)for(m=10;m=10*m|0,(0|f)<7;)f=f+1|0;else m=10;if((_=(n+4|0)==(0|c))&0==(0|(p=(g=0|A[n>>2])-(0|Q(f=(g>>>0)/(m>>>0)|0,m))|0)))f=n,m=y;else if(d=0==(1&f|0)?9007199254740992:9007199254740994,e=p>>>0<(v=m>>>1)>>>0?.5:_&(0|p)==(0|v)?1:1.5,S&&(e=(v=45==(0|r[x>>0]))?-e:e,d=v?-d:d),A[n>>2]=f=g-p|0,d+e!=d){if(A[n>>2]=v=f+m|0,v>>>0>999999999)for(m=n,l=y;;){if(f=m+-4|0,A[m>>2]=0,f>>>0<l>>>0&&(A[(l=l+-4|0)>>2]=0),A[f>>2]=v=1+(0|A[f>>2])|0,!(v>>>0>999999999)){m=l;break}m=f}else f=n,m=y;if(l=9*(E-m>>2)|0,(g=0|A[m>>2])>>>0>=10){_=10;do{_=10*_|0,l=l+1|0}while(g>>>0>=_>>>0)}}else f=n,m=y;c=c>>>0>(v=f+4|0)>>>0?v:c}else m=y;n=0-l|0;t:do{if(c>>>0>m>>>0)for(;;){if(0|A[(f=c+-4|0)>>2]){v=c,C=1;break t}if(!(f>>>0>m>>>0)){v=f,C=0;break}c=f}else v=c,C=0}while(0);do{if(I){if((0|(h=h+(1&(1^B))|0))>(0|l)&(0|l)>-5?(_=o+-1|0,h=h+-1-l|0):(_=o+-2|0,h=h+-1|0),!(8&s)){if(C&&0!=(0|(w=0|A[v+-4>>2])))if((w>>>0)%10|0)f=0;else{f=0,c=10;do{c=10*c|0,f=f+1|0}while(!(0|(w>>>0)%(c>>>0)))}else f=9;if(c=(9*(v-E>>2)|0)-9|0,102==(32|_)){h=(0|h)<(0|(o=(0|(o=c-f|0))>0?o:0))?h:o;break}h=(0|h)<(0|(o=(0|(o=c+l-f|0))>0?o:0))?h:o;break}}else _=o}while(0);if(g=(y=0!=(0|h))?1:s>>>3&1,p=102==(32|_))I=0,l=(0|l)>0?l:0;else{if(((f=k)-(c=0|Fe(c=(0|l)<0?n:l,((0|c)<0)<<31>>31,k))|0)<2)do{r[(c=c+-1|0)>>0]=48}while((f-c|0)<2);r[c+-1>>0]=43+(l>>31&2),r[(l=c+-2|0)>>0]=_,I=l,l=f-l|0}if(Le(t,32,i,l=S+1+h+g+l|0,s),Me(t,x,S),Le(t,48,i,l,65536^s),p){g=m>>>0>b>>>0?b:m,m=p=M+9|0,_=M+8|0,f=g;do{if(c=0|Fe(0|A[f>>2],0,p),(0|f)==(0|g))(0|c)==(0|p)&&(r[_>>0]=48,c=_);else if(c>>>0>M>>>0){Si(0|M,48,c-D|0);do{c=c+-1|0}while(c>>>0>M>>>0)}Me(t,c,m-c|0),f=f+4|0}while(f>>>0<=b>>>0);if(0==(8&s|0)&(1^y)||Me(t,9473,1),f>>>0<v>>>0&(0|h)>0)for(;;){if((c=0|Fe(0|A[f>>2],0,p))>>>0>M>>>0){Si(0|M,48,c-D|0);do{c=c+-1|0}while(c>>>0>M>>>0)}if(Me(t,c,(0|h)<9?h:9),c=h+-9|0,!((f=f+4|0)>>>0<v>>>0&(0|h)>9)){h=c;break}h=c}Le(t,48,h+9|0,9,0)}else{if(m>>>0<(v=C?v:m+4|0)>>>0&(0|h)>-1){y=0==(8&s|0),C=n=M+9|0,g=0-D|0,p=M+8|0,_=m;do{(0|(c=0|Fe(0|A[_>>2],0,n)))==(0|n)&&(r[p>>0]=48,c=p);do{if((0|_)==(0|m)){if(f=c+1|0,Me(t,c,1),y&(0|h)<1){c=f;break}Me(t,9473,1),c=f}else{if(c>>>0<=M>>>0)break;Si(0|M,48,c+g|0);do{c=c+-1|0}while(c>>>0>M>>>0)}}while(0);Me(t,c,(0|h)>(0|(D=C-c|0))?D:h),h=h-D|0,_=_+4|0}while(_>>>0<v>>>0&(0|h)>-1)}Le(t,48,h+18|0,18,0),Me(t,I,k-I|0)}Le(t,32,i,l,8192^s)}}while(0);return mt=a,0|((0|l)<(0|i)?i:l)}function Ye(t){var e;return _[p>>3]=t=+t,e=0|A[p>>2],R(0|A[p+4>>2]),0|e}function He(t,e){return+ +function t(e,i){i|=0;var n,r,s=0;switch(_[p>>3]=e=+e,r=0|Bi(0|(s=0|A[p>>2]),0|(n=0|A[p+4>>2]),52),V(),2047&r){case 0:0!=e?(e=+t(0x10000000000000000*e,i),s=(0|A[i>>2])-64|0):s=0,A[i>>2]=s;break;case 2047:break;default:A[i>>2]=(2047&r)-1022,A[p>>2]=s,A[p+4>>2]=-2146435073&n|1071644672,e=+_[p>>3]}return+e}(t=+t,e|=0)}function Je(t,e,i){t|=0,e|=0;do{if(t){if(e>>>0<128){r[t>>0]=e,t=1;break}if(!(0|A[A[1200]>>2])){if(57216==(-128&e|0)){r[t>>0]=e,t=1;break}A[(t=10256)>>2]=84,t=-1;break}if(e>>>0<2048){r[t>>0]=e>>>6|192,r[t+1>>0]=63&e|128,t=2;break}if(e>>>0<55296|57344==(-8192&e|0)){r[t>>0]=e>>>12|224,r[t+1>>0]=e>>>6&63|128,r[t+2>>0]=63&e|128,t=3;break}if((e+-65536|0)>>>0<1048576){r[t>>0]=e>>>18|240,r[t+1>>0]=e>>>12&63|128,r[t+2>>0]=e>>>6&63|128,r[t+3>>0]=63&e|128,t=4;break}A[(t=10256)>>2]=84,t=-1;break}t=1}while(0);return 0|t}function je(t,e,i){e|=0,i|=0;var n,s=0,o=0,a=0,l=0,u=0,h=0,c=0,f=0,m=0;a=0|Ke(0|A[8+(t|=0)>>2],n=1794895138+(0|A[t>>2])|0),s=0|Ke(0|A[t+12>>2],n),o=0|Ke(0|A[t+16>>2],n);t:do{if(a>>>0<e>>>2>>>0&&s>>>0<(m=e-(a<<2)|0)>>>0&o>>>0<m>>>0&&0==(3&(o|s)|0)){for(m=s>>>2,f=o>>>2,c=0;;){if(s=0|Ke(0|A[t+((o=(l=(h=c+(u=a>>>1)|0)<<1)+m|0)<<2)>>2],n),!((o=0|Ke(0|A[t+(o+1<<2)>>2],n))>>>0<e>>>0&s>>>0<(e-o|0)>>>0)){s=0;break t}if(0|r[t+(o+s)>>0]){s=0;break t}if(!(s=0|Se(i,t+o|0)))break;if(s=(0|s)<0,1==(0|a)){s=0;break t}c=s?c:h,a=s?u:a-u|0}o=0|Ke(0|A[t+((s=l+f|0)<<2)>>2],n),s=(s=0|Ke(0|A[t+(s+1<<2)>>2],n))>>>0<e>>>0&o>>>0<(e-s|0)>>>0&&0==(0|r[t+(s+o)>>0])?t+s|0:0}else s=0}while(0);return 0|s}function Ke(t,e){var i;return e|=0,i=0|wi(0|(t|=0)),0|(0==(0|e)?t:i)}function qe(t,e,i){t|=0,e|=0;var n=0,s=0,o=0,a=0,l=0;(s=0|A[(n=16+(i|=0)|0)>>2])?o=5:0|ze(i)?n=0:(s=0|A[n>>2],o=5);t:do{if(5==(0|o)){if(n=a=0|A[(l=i+20|0)>>2],(s-a|0)>>>0<e>>>0){n=0|Zi[15&A[i+36>>2]](i,t,e);break}e:do{if((0|r[i+75>>0])<0|0==(0|e))o=0,s=t;else{for(a=e;10!=(0|r[t+(s=a+-1|0)>>0]);){if(!s){o=0,s=t;break e}a=s}if((n=0|Zi[15&A[i+36>>2]](i,t,a))>>>0<a>>>0)break t;o=a,s=t+a|0,e=e-a|0,n=0|A[l>>2]}}while(0);bi(0|n,0|s,0|e),A[l>>2]=(0|A[l>>2])+e,n=o+e|0}}while(0);return 0|n}function ze(t){var e=0,i=0;return r[(e=74+(t|=0)|0)>>0]=255+(i=0|r[e>>0])|i,8&(e=0|A[t>>2])?(A[t>>2]=32|e,t=-1):(A[t+8>>2]=0,A[t+4>>2]=0,A[t+28>>2]=i=0|A[t+44>>2],A[t+20>>2]=i,A[t+16>>2]=i+(0|A[t+48>>2]),t=0),0|t}function Xe(t){var e,i=0,n=0;e=t|=0;t:do{if(3&e)for(i=e;;){if(!(0|r[t>>0])){t=i;break t}if(!(3&(i=t=t+1|0))){n=5;break}}else n=5}while(0);if(5==(0|n)){for(;!((-2139062144&(i=0|A[t>>2])^-2139062144)&i+-16843009);)t=t+4|0;if((255&i)<<24>>24)do{t=t+1|0}while(0!=(0|r[t>>0]))}return t-e|0}function We(t,e){t|=0;var i,n,s,o=0,a=0,l=0,h=0;s=mt,mt=mt+16|0,r[(i=s)>>0]=n=255&(e|=0),(l=0|A[(a=t+16|0)>>2])?h=4:0|ze(t)?o=-1:(l=0|A[a>>2],h=4);do{if(4==(0|h)){if((a=0|A[(h=t+20|0)>>2])>>>0<l>>>0&&(0|(o=255&e))!=(0|r[t+75>>0])){A[h>>2]=a+1,r[a>>0]=n;break}o=1==(0|Zi[15&A[t+36>>2]](t,i,1))?0|u[i>>0]:-1}}while(0);return mt=s,0|o}function Ze(t,e){t|=0;var i=0,n=0,s=0,o=0,a=0,l=0,u=0;(0|A[76+(e|=0)>>2])>=0?(n=255&t,(0|(i=255&t))!=(0|r[e+75>>0])&&(l=0|A[(a=e+20|0)>>2])>>>0<(0|A[e+16>>2])>>>0?(A[a>>2]=l+1,r[l>>0]=n):i=0|We(e,t)):u=3;do{if(3==(0|u)){if(n=255&t,(0|(i=255&t))!=(0|r[e+75>>0])&&(o=0|A[(s=e+20|0)>>2])>>>0<(0|A[e+16>>2])>>>0){A[s>>2]=o+1,r[o>>0]=n;break}i=0|We(e,t)}}while(0);return 0|i}function $e(t){t|=0;var e,i=0,n=0,r=0,s=0,o=0,a=0,l=0,u=0,h=0,c=0,f=0,m=0,_=0,g=0,d=0,p=0,y=0,C=0,v=0,I=0;e=mt,mt=mt+16|0,m=e;do{if(t>>>0<245){if(3&(n=(f=0|A[2565])>>>(t=(h=t>>>0<11?16:t+11&-8)>>>3))|0)return(0|(o=0|A[(s=8+(r=0|A[(n=8+(t=10300+((i=(1&n^1)+t|0)<<1<<2)|0)|0)>>2])|0)>>2]))==(0|t)?A[2565]=f&~(1<<i):(A[o+12>>2]=t,A[n>>2]=o),A[r+4>>2]=3|(I=i<<3),A[(I=r+I+4|0)>>2]=1|A[I>>2],mt=e,0|s;if(h>>>0>(c=0|A[2567])>>>0){if(0|n)return i=((i=n<<t&((i=2<<t)|0-i))&0-i)-1|0,(0|(n=0|A[(l=8+(o=0|A[(t=8+(i=10300+((r=((n=(i>>>=l=i>>>12&16)>>>5&8)|l|(o=(i>>>=n)>>>2&4)|(t=(i>>>=o)>>>1&2)|(r=(i>>>=t)>>>1&1))+(i>>>r)|0)<<1<<2)|0)|0)>>2])|0)>>2]))==(0|i)?A[2565]=t=f&~(1<<r):(A[n+12>>2]=i,A[t>>2]=n,t=f),a=(I=r<<3)-h|0,A[o+4>>2]=3|h,A[4+(s=o+h|0)>>2]=1|a,A[o+I>>2]=a,0|c&&(r=0|A[2570],n=10300+((i=c>>>3)<<1<<2)|0,t&(i=1<<i)?i=0|A[(t=n+8|0)>>2]:(A[2565]=t|i,i=n,t=n+8|0),A[t>>2]=r,A[i+12>>2]=r,A[r+8>>2]=i,A[r+12>>2]=n),A[2567]=a,A[2570]=s,mt=e,0|l;if(o=0|A[2566]){for(n=(o&0-o)-1|0,n=u=0|A[10564+(((r=(n>>>=s=n>>>12&16)>>>5&8)|s|(a=(n>>>=r)>>>2&4)|(l=(n>>>=a)>>>1&2)|(u=(n>>>=l)>>>1&1))+(n>>>u)<<2)>>2],l=u,u=(-8&A[u+4>>2])-h|0;(t=0|A[n+16>>2])||(t=0|A[n+20>>2]);)n=t,l=(s=(a=(-8&A[t+4>>2])-h|0)>>>0<u>>>0)?t:l,u=s?a:u;if((a=l+h|0)>>>0>l>>>0){s=0|A[l+24>>2],i=0|A[l+12>>2];do{if((0|i)==(0|l)){if(!(i=0|A[(t=l+20|0)>>2])&&!(i=0|A[(t=l+16|0)>>2])){n=0;break}for(;;)if(n=0|A[(r=i+20|0)>>2])i=n,t=r;else{if(!(n=0|A[(r=i+16|0)>>2]))break;i=n,t=r}A[t>>2]=0,n=i}else A[12+(n=0|A[l+8>>2])>>2]=i,A[i+8>>2]=n,n=i}while(0);do{if(0|s){if((0|l)==(0|A[(t=10564+((i=0|A[l+28>>2])<<2)|0)>>2])){if(A[t>>2]=n,!n){A[2566]=o&~(1<<i);break}}else if(A[((0|A[(I=s+16|0)>>2])==(0|l)?I:s+20|0)>>2]=n,!n)break;A[n+24>>2]=s,0|(i=0|A[l+16>>2])&&(A[n+16>>2]=i,A[i+24>>2]=n),0|(i=0|A[l+20>>2])&&(A[n+20>>2]=i,A[i+24>>2]=n)}}while(0);return u>>>0<16?(A[l+4>>2]=3|(I=u+h|0),A[(I=l+I+4|0)>>2]=1|A[I>>2]):(A[l+4>>2]=3|h,A[a+4>>2]=1|u,A[a+u>>2]=u,0|c&&(r=0|A[2570],n=10300+((i=c>>>3)<<1<<2)|0,(i=1<<i)&f?i=0|A[(t=n+8|0)>>2]:(A[2565]=i|f,i=n,t=n+8|0),A[t>>2]=r,A[i+12>>2]=r,A[r+8>>2]=i,A[r+12>>2]=n),A[2567]=u,A[2570]=a),mt=e,0|l+8}f=h}else f=h}else f=h}else if(t>>>0<=4294967231)if(h=-8&(t=t+11|0),r=0|A[2566]){s=0-h|0,u=(t>>>=8)?h>>>0>16777215?31:h>>>(7+(u=14-((l=(520192+(d=t<<(f=(t+1048320|0)>>>16&8))|0)>>>16&4)|f|(u=(245760+(d<<=l)|0)>>>16&2))+(d<<u>>>15)|0)|0)&1|u<<1:0,n=0|A[10564+(u<<2)>>2];t:do{if(n)for(t=0,l=h<<(31==(0|u)?0:25-(u>>>1)|0),o=0;;){if((a=(-8&A[n+4>>2])-h|0)>>>0<s>>>0){if(!a){t=n,s=0,d=65;break t}t=n,s=a}if(o=0==(0|(d=0|A[n+20>>2]))|(0|d)==(0|(n=0|A[n+16+(l>>>31<<2)>>2]))?o:d,!n){n=o,d=61;break}l<<=1}else n=0,t=0,d=61}while(0);if(61==(0|d)){if(0==(0|n)&0==(0|t)){if(!(t=((t=2<<u)|0-t)&r)){f=h;break}f=(t&0-t)-1|0,t=0,n=0|A[10564+(((o=(f>>>=a=f>>>12&16)>>>5&8)|a|(l=(f>>>=o)>>>2&4)|(u=(f>>>=l)>>>1&2)|(n=(f>>>=u)>>>1&1))+(f>>>n)<<2)>>2]}n?d=65:(l=t,a=s)}if(65==(0|d))for(o=n;;){if(s=(n=(f=(-8&A[o+4>>2])-h|0)>>>0<s>>>0)?f:s,t=n?o:t,(n=0|A[o+16>>2])||(n=0|A[o+20>>2]),!n){l=t,a=s;break}o=n}if(0!=(0|l)&&a>>>0<((0|A[2567])-h|0)>>>0&&(c=l+h|0)>>>0>l>>>0){o=0|A[l+24>>2],i=0|A[l+12>>2];do{if((0|i)==(0|l)){if(!(i=0|A[(t=l+20|0)>>2])&&!(i=0|A[(t=l+16|0)>>2])){i=0;break}for(;;)if(n=0|A[(s=i+20|0)>>2])i=n,t=s;else{if(!(n=0|A[(s=i+16|0)>>2]))break;i=n,t=s}A[t>>2]=0}else A[12+(I=0|A[l+8>>2])>>2]=i,A[i+8>>2]=I}while(0);do{if(o){if((0|l)==(0|A[(n=10564+((t=0|A[l+28>>2])<<2)|0)>>2])){if(A[n>>2]=i,!i){A[2566]=r&=~(1<<t);break}}else if(A[((0|A[(I=o+16|0)>>2])==(0|l)?I:o+20|0)>>2]=i,!i)break;A[i+24>>2]=o,0|(t=0|A[l+16>>2])&&(A[i+16>>2]=t,A[t+24>>2]=i),(t=0|A[l+20>>2])&&(A[i+20>>2]=t,A[t+24>>2]=i)}}while(0);t:do{if(a>>>0<16)A[l+4>>2]=3|(I=a+h|0),A[(I=l+I+4|0)>>2]=1|A[I>>2];else{if(A[l+4>>2]=3|h,A[c+4>>2]=1|a,A[c+a>>2]=a,i=a>>>3,a>>>0<256){n=10300+(i<<1<<2)|0,(t=0|A[2565])&(i=1<<i)?i=0|A[(t=n+8|0)>>2]:(A[2565]=t|i,i=n,t=n+8|0),A[t>>2]=c,A[i+12>>2]=c,A[c+8>>2]=i,A[c+12>>2]=n;break}if(i=10564+((n=(i=a>>>8)?a>>>0>16777215?31:a>>>(7+(n=14-((C=(520192+(I=i<<(v=(i+1048320|0)>>>16&8))|0)>>>16&4)|v|(n=(245760+(I<<=C)|0)>>>16&2))+(I<<n>>>15)|0)|0)&1|n<<1:0)<<2)|0,A[c+28>>2]=n,A[4+(t=c+16|0)>>2]=0,A[t>>2]=0,!(r&(t=1<<n))){A[2566]=r|t,A[i>>2]=c,A[c+24>>2]=i,A[c+12>>2]=c,A[c+8>>2]=c;break}i=0|A[i>>2];e:do{if((-8&A[i+4>>2]|0)!=(0|a)){for(r=a<<(31==(0|n)?0:25-(n>>>1)|0);t=0|A[(n=i+16+(r>>>31<<2)|0)>>2];){if((-8&A[t+4>>2]|0)==(0|a)){i=t;break e}r<<=1,i=t}A[n>>2]=c,A[c+24>>2]=i,A[c+12>>2]=c,A[c+8>>2]=c;break t}}while(0);A[12+(I=0|A[(v=i+8|0)>>2])>>2]=c,A[v>>2]=c,A[c+8>>2]=I,A[c+12>>2]=i,A[c+24>>2]=0}}while(0);return mt=e,0|l+8}f=h}else f=h;else f=-1}while(0);if((n=0|A[2567])>>>0>=f>>>0)return t=0|A[2570],(i=n-f|0)>>>0>15?(A[2570]=I=t+f|0,A[2567]=i,A[I+4>>2]=1|i,A[t+n>>2]=i,A[t+4>>2]=3|f):(A[2567]=0,A[2570]=0,A[t+4>>2]=3|n,A[(I=t+n+4|0)>>2]=1|A[I>>2]),mt=e,0|t+8;if((a=0|A[2568])>>>0>f>>>0)return A[2568]=C=a-f|0,A[2571]=v=(I=0|A[2571])+f|0,A[v+4>>2]=1|C,A[I+4>>2]=3|f,mt=e,0|I+8;if(0|A[2683]?t=0|A[2685]:(A[2685]=4096,A[2684]=4096,A[2686]=-1,A[2687]=-1,A[2688]=0,A[2676]=0,A[2683]=-16&m^1431655768,t=4096),l=f+48|0,(h=(o=t+(u=f+47|0)|0)&(s=0-t|0))>>>0<=f>>>0)return mt=e,0;if(0|(t=0|A[2675])&&(m=(c=0|A[2673])+h|0)>>>0<=c>>>0|m>>>0>t>>>0)return mt=e,0;t:do{if(4&A[2676])i=0,d=143;else{n=0|A[2571];e:do{if(n){for(r=10708;!((m=0|A[r>>2])>>>0<=n>>>0&&(m+(0|A[r+4>>2])|0)>>>0>n>>>0);){if(!(t=0|A[r+8>>2])){d=128;break e}r=t}if((i=o-a&s)>>>0<2147483647)if((0|(t=0|Qi(0|i)))==((0|A[r>>2])+(0|A[r+4>>2])|0)){if(-1!=(0|t)){a=i,o=t,d=145;break t}}else r=t,d=136;else i=0}else d=128}while(0);do{if(128==(0|d))if(-1!=(0|(n=0|Qi(0)))&&(g=(i=(0==((g=(_=0|A[2684])-1|0)&(i=n)|0)?0:(g+i&0-_)-i|0)+h|0)+(_=0|A[2673])|0,i>>>0>f>>>0&i>>>0<2147483647)){if(0|(m=0|A[2675])&&g>>>0<=_>>>0|g>>>0>m>>>0){i=0;break}if((0|(t=0|Qi(0|i)))==(0|n)){a=i,o=n,d=145;break t}r=t,d=136}else i=0}while(0);do{if(136==(0|d)){if(n=0-i|0,!(l>>>0>i>>>0&i>>>0<2147483647&-1!=(0|r))){if(-1==(0|r)){i=0;break}a=i,o=r,d=145;break t}if((t=u-i+(t=0|A[2685])&0-t)>>>0>=2147483647){a=i,o=r,d=145;break t}if(-1==(0|Qi(0|t))){Qi(0|n),i=0;break}a=t+i|0,o=r,d=145;break t}}while(0);A[2676]=4|A[2676],d=143}}while(0);if(143==(0|d)&&h>>>0<2147483647&&!(-1==(0|(C=0|Qi(0|h)))|1^(y=(p=(g=0|Qi(0))-C|0)>>>0>(f+40|0)>>>0)|C>>>0<g>>>0&-1!=(0|C)&-1!=(0|g)^1)&&(a=y?p:i,o=C,d=145),145==(0|d)){A[2673]=i=(0|A[2673])+a|0,i>>>0>(0|A[2674])>>>0&&(A[2674]=i),u=0|A[2571];t:do{if(u){for(i=10708;;){if((0|o)==((t=0|A[i>>2])+(n=0|A[i+4>>2])|0)){d=154;break}if(!(r=0|A[i+8>>2]))break;i=r}if(154==(0|d)&&(v=i+4|0,0==(8&A[i+12>>2]|0))&&o>>>0>u>>>0&t>>>0<=u>>>0){A[v>>2]=n+a,v=u+(C=0==(7&(C=u+8|0)|0)?0:0-C&7)|0,C=(I=(0|A[2568])+a|0)-C|0,A[2571]=v,A[2568]=C,A[v+4>>2]=1|C,A[u+I+4>>2]=40,A[2572]=A[2687];break}for(o>>>0<(0|A[2569])>>>0&&(A[2569]=o),n=o+a|0,i=10708;;){if((0|A[i>>2])==(0|n)){d=162;break}if(!(t=0|A[i+8>>2]))break;i=t}if(162==(0|d)&&0==(8&A[i+12>>2]|0)){A[i>>2]=o,A[(c=i+4|0)>>2]=(0|A[c>>2])+a,h=(c=o+(0==(7&(c=o+8|0)|0)?0:0-c&7)|0)+f|0,l=(i=n+(0==(7&(i=n+8|0)|0)?0:0-i&7)|0)-c-f|0,A[c+4>>2]=3|f;e:do{if((0|u)==(0|i))A[2568]=I=(0|A[2568])+l|0,A[2571]=h,A[h+4>>2]=1|I;else{if((0|A[2570])==(0|i)){A[2567]=I=(0|A[2567])+l|0,A[2570]=h,A[h+4>>2]=1|I,A[h+I>>2]=I;break}if(1==(3&(t=0|A[i+4>>2])|0)){a=-8&t,r=t>>>3;i:do{if(t>>>0<256){if((0|(n=0|A[i+12>>2]))==(0|(t=0|A[i+8>>2]))){A[2565]=A[2565]&~(1<<r);break}A[t+12>>2]=n,A[n+8>>2]=t;break}o=0|A[i+24>>2],t=0|A[i+12>>2];do{if((0|t)==(0|i)){if(t=0|A[(r=4+(n=i+16|0)|0)>>2])n=r;else if(!(t=0|A[n>>2])){t=0;break}for(;;)if(r=0|A[(s=t+20|0)>>2])t=r,n=s;else{if(!(r=0|A[(s=t+16|0)>>2]))break;t=r,n=s}A[n>>2]=0}else A[12+(I=0|A[i+8>>2])>>2]=t,A[t+8>>2]=I}while(0);if(!o)break;r=10564+((n=0|A[i+28>>2])<<2)|0;do{if((0|A[r>>2])==(0|i)){if(A[r>>2]=t,0|t)break;A[2566]=A[2566]&~(1<<n);break i}if(A[((0|A[(I=o+16|0)>>2])==(0|i)?I:o+20|0)>>2]=t,!t)break i}while(0);if(A[t+24>>2]=o,0|(r=0|A[(n=i+16|0)>>2])&&(A[t+16>>2]=r,A[r+24>>2]=t),!(n=0|A[n+4>>2]))break;A[t+20>>2]=n,A[n+24>>2]=t}while(0);i=i+a|0,s=a+l|0}else s=l;if(A[(i=i+4|0)>>2]=-2&A[i>>2],A[h+4>>2]=1|s,A[h+s>>2]=s,i=s>>>3,s>>>0<256){n=10300+(i<<1<<2)|0,(t=0|A[2565])&(i=1<<i)?i=0|A[(t=n+8|0)>>2]:(A[2565]=t|i,i=n,t=n+8|0),A[t>>2]=h,A[i+12>>2]=h,A[h+8>>2]=i,A[h+12>>2]=n;break}i=s>>>8;do{if(i){if(s>>>0>16777215){r=31;break}r=s>>>(7+(r=14-((C=(520192+(I=i<<(v=(i+1048320|0)>>>16&8))|0)>>>16&4)|v|(r=(245760+(I<<=C)|0)>>>16&2))+(I<<r>>>15)|0)|0)&1|r<<1}else r=0}while(0);if(i=10564+(r<<2)|0,A[h+28>>2]=r,A[4+(t=h+16|0)>>2]=0,A[t>>2]=0,!((t=0|A[2566])&(n=1<<r))){A[2566]=t|n,A[i>>2]=h,A[h+24>>2]=i,A[h+12>>2]=h,A[h+8>>2]=h;break}i=0|A[i>>2];i:do{if((-8&A[i+4>>2]|0)!=(0|s)){for(r=s<<(31==(0|r)?0:25-(r>>>1)|0);t=0|A[(n=i+16+(r>>>31<<2)|0)>>2];){if((-8&A[t+4>>2]|0)==(0|s)){i=t;break i}r<<=1,i=t}A[n>>2]=h,A[h+24>>2]=i,A[h+12>>2]=h,A[h+8>>2]=h;break e}}while(0);A[12+(I=0|A[(v=i+8|0)>>2])>>2]=h,A[v>>2]=h,A[h+8>>2]=I,A[h+12>>2]=i,A[h+24>>2]=0}}while(0);return mt=e,0|c+8}for(i=10708;!((t=0|A[i>>2])>>>0<=u>>>0&&(I=t+(0|A[i+4>>2])|0)>>>0>u>>>0);)i=0|A[i+8>>2];i=(t=(t=(s=I+-47|0)+(0==(7&(t=s+8|0)|0)?0:0-t&7)|0)>>>0<(s=u+16|0)>>>0?u:t)+8|0,v=o+(C=0==(7&(C=o+8|0)|0)?0:0-C&7)|0,C=(n=a+-40|0)-C|0,A[2571]=v,A[2568]=C,A[v+4>>2]=1|C,A[o+n+4>>2]=40,A[2572]=A[2687],A[(n=t+4|0)>>2]=27,A[i>>2]=A[2677],A[i+4>>2]=A[2678],A[i+8>>2]=A[2679],A[i+12>>2]=A[2680],A[2677]=o,A[2678]=a,A[2680]=0,A[2679]=i,i=t+24|0;do{v=i,A[(i=i+4|0)>>2]=7}while((v+8|0)>>>0<I>>>0);if((0|t)!=(0|u)){if(o=t-u|0,A[n>>2]=-2&A[n>>2],A[u+4>>2]=1|o,A[t>>2]=o,i=o>>>3,o>>>0<256){n=10300+(i<<1<<2)|0,(t=0|A[2565])&(i=1<<i)?i=0|A[(t=n+8|0)>>2]:(A[2565]=t|i,i=n,t=n+8|0),A[t>>2]=u,A[i+12>>2]=u,A[u+8>>2]=i,A[u+12>>2]=n;break}if(n=10564+((r=(i=o>>>8)?o>>>0>16777215?31:o>>>(7+(r=14-((C=(520192+(I=i<<(v=(i+1048320|0)>>>16&8))|0)>>>16&4)|v|(r=(245760+(I<<=C)|0)>>>16&2))+(I<<r>>>15)|0)|0)&1|r<<1:0)<<2)|0,A[u+28>>2]=r,A[u+20>>2]=0,A[s>>2]=0,!((i=0|A[2566])&(t=1<<r))){A[2566]=i|t,A[n>>2]=u,A[u+24>>2]=n,A[u+12>>2]=u,A[u+8>>2]=u;break}i=0|A[n>>2];e:do{if((-8&A[i+4>>2]|0)!=(0|o)){for(r=o<<(31==(0|r)?0:25-(r>>>1)|0);t=0|A[(n=i+16+(r>>>31<<2)|0)>>2];){if((-8&A[t+4>>2]|0)==(0|o)){i=t;break e}r<<=1,i=t}A[n>>2]=u,A[u+24>>2]=i,A[u+12>>2]=u,A[u+8>>2]=u;break t}}while(0);A[12+(I=0|A[(v=i+8|0)>>2])>>2]=u,A[v>>2]=u,A[u+8>>2]=I,A[u+12>>2]=i,A[u+24>>2]=0}}else 0==(0|(I=0|A[2569]))|o>>>0<I>>>0&&(A[2569]=o),A[2677]=o,A[2678]=a,A[2680]=0,A[2574]=A[2683],A[2573]=-1,A[2578]=10300,A[2577]=10300,A[2580]=10308,A[2579]=10308,A[2582]=10316,A[2581]=10316,A[2584]=10324,A[2583]=10324,A[2586]=10332,A[2585]=10332,A[2588]=10340,A[2587]=10340,A[2590]=10348,A[2589]=10348,A[2592]=10356,A[2591]=10356,A[2594]=10364,A[2593]=10364,A[2596]=10372,A[2595]=10372,A[2598]=10380,A[2597]=10380,A[2600]=10388,A[2599]=10388,A[2602]=10396,A[2601]=10396,A[2604]=10404,A[2603]=10404,A[2606]=10412,A[2605]=10412,A[2608]=10420,A[2607]=10420,A[2610]=10428,A[2609]=10428,A[2612]=10436,A[2611]=10436,A[2614]=10444,A[2613]=10444,A[2616]=10452,A[2615]=10452,A[2618]=10460,A[2617]=10460,A[2620]=10468,A[2619]=10468,A[2622]=10476,A[2621]=10476,A[2624]=10484,A[2623]=10484,A[2626]=10492,A[2625]=10492,A[2628]=10500,A[2627]=10500,A[2630]=10508,A[2629]=10508,A[2632]=10516,A[2631]=10516,A[2634]=10524,A[2633]=10524,A[2636]=10532,A[2635]=10532,A[2638]=10540,A[2637]=10540,A[2640]=10548,A[2639]=10548,v=o+(C=0==(7&(C=o+8|0)|0)?0:0-C&7)|0,C=(I=a+-40|0)-C|0,A[2571]=v,A[2568]=C,A[v+4>>2]=1|C,A[o+I+4>>2]=40,A[2572]=A[2687]}while(0);if((i=0|A[2568])>>>0>f>>>0)return A[2568]=C=i-f|0,A[2571]=v=(I=0|A[2571])+f|0,A[v+4>>2]=1|C,A[I+4>>2]=3|f,mt=e,0|I+8}return A[(I=10256)>>2]=12,mt=e,0}function ti(t){var e=0,i=0,n=0,r=0,s=0,o=0,a=0,l=0;if(t|=0){r=0|A[2569],l=(i=t+-8|0)+(e=-8&(t=0|A[t+-4>>2]))|0;do{if(1&t)a=i,o=i;else{if(!(3&t))return;if(s=(n=0|A[i>>2])+e|0,(o=i+(0-n)|0)>>>0<r>>>0)return;if((0|A[2570])==(0|o)){if(3!=(3&(e=0|A[(t=l+4|0)>>2])|0)){a=o,e=s;break}return A[2567]=s,A[t>>2]=-2&e,A[o+4>>2]=1|s,void(A[o+s>>2]=s)}if(i=n>>>3,n>>>0<256){if((0|(e=0|A[o+12>>2]))==(0|(t=0|A[o+8>>2]))){A[2565]=A[2565]&~(1<<i),a=o,e=s;break}A[t+12>>2]=e,A[e+8>>2]=t,a=o,e=s;break}r=0|A[o+24>>2],t=0|A[o+12>>2];do{if((0|t)==(0|o)){if(t=0|A[(i=4+(e=o+16|0)|0)>>2])e=i;else if(!(t=0|A[e>>2])){t=0;break}for(;;)if(i=0|A[(n=t+20|0)>>2])t=i,e=n;else{if(!(i=0|A[(n=t+16|0)>>2]))break;t=i,e=n}A[e>>2]=0}else A[12+(a=0|A[o+8>>2])>>2]=t,A[t+8>>2]=a}while(0);if(r){if((0|A[(i=10564+((e=0|A[o+28>>2])<<2)|0)>>2])==(0|o)){if(A[i>>2]=t,!t){A[2566]=A[2566]&~(1<<e),a=o,e=s;break}}else if(A[((0|A[(a=r+16|0)>>2])==(0|o)?a:r+20|0)>>2]=t,!t){a=o,e=s;break}A[t+24>>2]=r,0|(i=0|A[(e=o+16|0)>>2])&&(A[t+16>>2]=i,A[i+24>>2]=t),(e=0|A[e+4>>2])?(A[t+20>>2]=e,A[e+24>>2]=t,a=o,e=s):(a=o,e=s)}else a=o,e=s}}while(0);if(!(o>>>0>=l>>>0)&&1&(n=0|A[(t=l+4|0)>>2])){if(2&n)A[t>>2]=-2&n,A[a+4>>2]=1|e,A[o+e>>2]=e,r=e;else{if((0|A[2571])==(0|l)){if(A[2568]=l=(0|A[2568])+e|0,A[2571]=a,A[a+4>>2]=1|l,(0|a)!=(0|A[2570]))return;return A[2570]=0,void(A[2567]=0)}if((0|A[2570])==(0|l))return A[2567]=l=(0|A[2567])+e|0,A[2570]=o,A[a+4>>2]=1|l,void(A[o+l>>2]=l);r=(-8&n)+e|0,i=n>>>3;do{if(n>>>0<256){if((0|(t=0|A[l+12>>2]))==(0|(e=0|A[l+8>>2]))){A[2565]=A[2565]&~(1<<i);break}A[e+12>>2]=t,A[t+8>>2]=e;break}s=0|A[l+24>>2],t=0|A[l+12>>2];do{if((0|t)==(0|l)){if(t=0|A[(i=4+(e=l+16|0)|0)>>2])e=i;else if(!(t=0|A[e>>2])){i=0;break}for(;;)if(i=0|A[(n=t+20|0)>>2])t=i,e=n;else{if(!(i=0|A[(n=t+16|0)>>2]))break;t=i,e=n}A[e>>2]=0,i=t}else A[12+(i=0|A[l+8>>2])>>2]=t,A[t+8>>2]=i,i=t}while(0);if(0|s){if((0|A[(e=10564+((t=0|A[l+28>>2])<<2)|0)>>2])==(0|l)){if(A[e>>2]=i,!i){A[2566]=A[2566]&~(1<<t);break}}else if(A[((0|A[(n=s+16|0)>>2])==(0|l)?n:s+20|0)>>2]=i,!i)break;A[i+24>>2]=s,0|(e=0|A[(t=l+16|0)>>2])&&(A[i+16>>2]=e,A[e+24>>2]=i),0|(t=0|A[t+4>>2])&&(A[i+20>>2]=t,A[t+24>>2]=i)}}while(0);if(A[a+4>>2]=1|r,A[o+r>>2]=r,(0|a)==(0|A[2570]))return void(A[2567]=r)}if(t=r>>>3,r>>>0<256)return i=10300+(t<<1<<2)|0,(e=0|A[2565])&(t=1<<t)?t=0|A[(e=i+8|0)>>2]:(A[2565]=e|t,t=i,e=i+8|0),A[e>>2]=a,A[t+12>>2]=a,A[a+8>>2]=t,void(A[a+12>>2]=i);t=10564+((n=(t=r>>>8)?r>>>0>16777215?31:r>>>(7+(n=14-((s=(520192+(l=t<<(o=(t+1048320|0)>>>16&8))|0)>>>16&4)|o|(n=(245760+(l<<=s)|0)>>>16&2))+(l<<n>>>15)|0)|0)&1|n<<1:0)<<2)|0,A[a+28>>2]=n,A[a+20>>2]=0,A[a+16>>2]=0,e=0|A[2566],i=1<<n;t:do{if(e&i){t=0|A[t>>2];e:do{if((-8&A[t+4>>2]|0)!=(0|r)){for(n=r<<(31==(0|n)?0:25-(n>>>1)|0);e=0|A[(i=t+16+(n>>>31<<2)|0)>>2];){if((-8&A[e+4>>2]|0)==(0|r)){t=e;break e}n<<=1,t=e}A[i>>2]=a,A[a+24>>2]=t,A[a+12>>2]=a,A[a+8>>2]=a;break t}}while(0);A[12+(l=0|A[(o=t+8|0)>>2])>>2]=a,A[o>>2]=a,A[a+8>>2]=l,A[a+12>>2]=t,A[a+24>>2]=0}else A[2566]=e|i,A[t>>2]=a,A[a+24>>2]=t,A[a+12>>2]=a,A[a+8>>2]=a}while(0);if(A[2573]=l=(0|A[2573])-1|0,!(0|l)){for(t=10716;t=0|A[t>>2];)t=t+8|0;A[2573]=-1}}}}function ei(t){var e;for(e=0==(0|(t|=0))?1:t;!(0|(t=0|$e(e)));){if(!(t=0|di())){t=0;break}nn[3&t]()}return 0|t}function ii(t){return 0|ei(t|=0)}function ni(t){ti(t|=0)}function ri(t){ni(t|=0)}function si(t,e){e|=0,A[(t|=0)>>2]=4948,function(t,e){t|=0;var i,n=0;n=0|ei(13+(i=0|Xe(e|=0))|0),A[n>>2]=i,A[n+4>>2]=i,A[n+8>>2]=0,bi(0|(n=0|function(t){return 12+(t|=0)|0}(n)),0|e,i+1|0),A[t>>2]=n}(t+4|0,e)}function oi(t){ot()}function ai(t,e){var i;t|=0,i=mt,mt=mt+16|0,A[i>>2]=e|=0,ke(e=0|A[1121],t,i),Ze(10,e),ot()}function Ai(t,e,i){return(0|(t|=0))==(0|(e|=0))|0}function li(t,e,i,n){var s;t|=0,i|=0,n|=0,s=0|A[(t=16+(e|=0)|0)>>2];do{if(s){if((0|s)!=(0|i)){A[(n=e+36|0)>>2]=1+(0|A[n>>2]),A[e+24>>2]=2,r[e+54>>0]=1;break}2==(0|A[(t=e+24|0)>>2])&&(A[t>>2]=n)}else A[t>>2]=i,A[e+24>>2]=n,A[e+36>>2]=1}while(0)}function ui(t,e,i,n){var r=0;(0|A[4+(e|=0)>>2])==(0|(i|=0))&&1!=(0|A[(r=e+28|0)>>2])&&(A[r>>2]=n|=0)}function hi(t,e,i,n,s){t|=0,i|=0,n|=0,s|=0,r[53+(e|=0)>>0]=1;do{if((0|A[e+4>>2])==(0|n)){if(r[e+52>>0]=1,!(n=0|A[(t=e+16|0)>>2])){if(A[t>>2]=i,A[e+24>>2]=s,A[e+36>>2]=1,1!=(0|s)||1!=(0|A[e+48>>2]))break;r[e+54>>0]=1;break}if((0|n)!=(0|i)){A[(s=e+36|0)>>2]=1+(0|A[s>>2]),r[e+54>>0]=1;break}2==(0|(t=0|A[(n=e+24|0)>>2]))&&(A[n>>2]=s,t=s),1==(0|t)&&1==(0|A[e+48>>2])&&(r[e+54>>0]=1)}}while(0)}function ci(t,e,i,n){e|=0,n|=0;var s,a,l,u,h,c,f,m=0,_=0;f=mt,mt=mt+64|0,c=(t|=0)+(0|A[(_=0|A[t>>2])-8>>2])|0,_=0|A[_+-4>>2],A[(h=f)>>2]=i|=0,A[h+4>>2]=t,A[h+8>>2]=e,A[h+12>>2]=n,e=h+20|0,n=h+24|0,s=h+28|0,a=h+32|0,l=h+40|0,u=36+(m=t=h+16|0)|0;do{A[m>>2]=0,m=m+4|0}while((0|m)<(0|u));o[t+36>>1]=0,r[t+38>>0]=0;t:do{if(0|Ai(_,i))A[h+48>>2]=1,fn[3&A[20+(0|A[_>>2])>>2]](_,h,c,c,1,0),t=1==(0|A[n>>2])?c:0;else{switch(cn[7&A[24+(0|A[_>>2])>>2]](_,h,c,1,0),0|A[h+36>>2]){case 0:t=1==(0|A[l>>2])&1==(0|A[s>>2])&1==(0|A[a>>2])?0|A[e>>2]:0;break t;case 1:break;default:t=0;break t}if(1!=(0|A[n>>2])&&!(0==(0|A[l>>2])&1==(0|A[s>>2])&1==(0|A[a>>2]))){t=0;break}t=0|A[t>>2]}}while(0);return mt=f,0|t}function fi(t){A[(t|=0)>>2]=4948,function(t){var e=0,i=0;0|(t|=0,1)&&(e=0|function(t){return(t|=0)-12|0}(0|A[t>>2]),A[(i=e+8|0)>>2]=(t=0|A[i>>2])-1,(t+-1|0)<0)&&ni(e)}(t+4|0)}function mi(t,e,i,n){i|=0;var r,s=0;s=(r=0|A[4+(t|=0)>>2])>>8,1&r&&(s=0|A[(0|A[i>>2])+s>>2]),hn[15&A[28+(0|A[(t=0|A[t>>2])>>2])>>2]](t,e|=0,i+s|0,0==(2&r|0)?2:n|=0)}function _i(t,e,i,n,r,s){n|=0;var o,a=0;a=(o=0|A[4+(t|=0)>>2])>>8,1&o&&(a=0|A[(0|A[n>>2])+a>>2]),fn[3&A[20+(0|A[(t=0|A[t>>2])>>2])>>2]](t,e|=0,i|=0,n+a|0,0==(2&o|0)?2:r|=0,s|=0)}function gi(t,e,i,n,r){i|=0;var s,o=0;o=(s=0|A[4+(t|=0)>>2])>>8,1&s&&(o=0|A[(0|A[i>>2])+o>>2]),cn[7&A[24+(0|A[(t=0|A[t>>2])>>2])>>2]](t,e|=0,i+o|0,0==(2&s|0)?2:n|=0,r|=0)}function di(){var t;return A[2691]=0+(t=0|A[2691]),0|t}function pi(t,e,i,n){var r,s;return e|=0,n|=0,i=0|function(t,e){var i,n,r,s=0;return t=((i=0|Q(s=65535&(e|=0),r=65535&(t|=0)))>>>16)+(0|Q(s,n=t>>>16))|0,e=0|Q(s=e>>>16,r),0|(R((t>>>16)+(0|Q(s,n))+(((65535&t)+e|0)>>>16)|0),t+e<<16|65535&i|0)}(r=t|=0,s=i|=0),t=0|V(),0|(R((0|Q(e,s))+(0|Q(n,r))+t|0&t|0),0|i)}function yi(t,e,i,n){return 0|(R((e|=0)+(n|=0)+((i=(t|=0)+(i|=0)>>>0)>>>0<t>>>0|0)>>>0|0),0|i)}function Ci(t,e,i,n){return 0|(R(0|(n=(e|=0)-(n|=0)-((i|=0)>>>0>(t|=0)>>>0|0)>>>0)),t-i>>>0|0)}function vi(t){return 0|((t|=0)?31-(0|D(t^t-1))|0:32)}function Ii(t,e,i,n){return 0|function(t,e,i,n,r){r|=0;var s=0,o=0,a=0,l=0,u=0,h=0,c=0,f=0,m=0,_=0;if(h=t|=0,o=i|=0,a=f=n|=0,!(u=l=e|=0))return s=0!=(0|r),a?s?(A[r>>2]=0|t,A[r+4>>2]=0&e,r=0,0|(R(0|(f=0)),r)):(r=0,0|(R(0|(f=0)),r)):(s&&(A[r>>2]=(h>>>0)%(o>>>0),A[r+4>>2]=0),r=(h>>>0)/(o>>>0)>>>0,0|(R(0|(f=0)),r));s=0==(0|a);do{if(o){if(!s){if((s=(0|D(0|a))-(0|D(0|u))|0)>>>0<=31){o=c=s+1|0,t=h>>>(c>>>0)&(e=s-31>>31)|u<<(a=31-s|0),e&=u>>>(c>>>0),s=0,a=h<<a;break}return r?(A[r>>2]=0|t,A[r+4>>2]=l|0&e,r=0,0|(R(0|(f=0)),r)):(r=0,0|(R(0|(f=0)),r))}if((s=o-1|0)&o|0){o=a=33+(0|D(0|o))-(0|D(0|u))|0,t=(c=32-a|0)-1>>31&u>>>((m=a-32|0)>>>0)|(u<<c|h>>>(a>>>0))&(e=m>>31),e&=u>>>(a>>>0),s=h<<(_=64-a|0)&(l=c>>31),a=(u<<_|h>>>(m>>>0))&l|h<<c&a-33>>31;break}return 0|r&&(A[r>>2]=s&h,A[r+4>>2]=0),1==(0|o)?(_=0|t,0|(R(0|(m=l|0&e)),_)):(m=u>>>((_=0|vi(0|o))>>>0)|0,_=u<<32-_|h>>>(_>>>0)|0,0|(R(0|m),_))}if(s)return 0|r&&(A[r>>2]=(u>>>0)%(o>>>0),A[r+4>>2]=0),_=(u>>>0)/(o>>>0)>>>0,0|(R(0|(m=0)),_);if(!h)return 0|r&&(A[r>>2]=0,A[r+4>>2]=(u>>>0)%(a>>>0)),_=(u>>>0)/(a>>>0)>>>0,0|(R(0|(m=0)),_);if(!((s=a-1|0)&a))return 0|r&&(A[r>>2]=0|t,A[r+4>>2]=s&u|0&e),m=0,_=u>>>((0|vi(0|a))>>>0),0|(R(0|m),_);if((s=(0|D(0|a))-(0|D(0|u))|0)>>>0<=30){o=e=s+1|0,t=u<<(a=31-s|0)|h>>>(e>>>0),e=u>>>(e>>>0),s=0,a=h<<a;break}return r?(A[r>>2]=0|t,A[r+4>>2]=l|0&e,_=0,0|(R(0|(m=0)),_)):(_=0,0|(R(0|(m=0)),_))}while(0);if(o){u=0|yi(0|(c=0|i),0|(h=f|0&n),-1,-1),i=0|V(),l=a,a=0;do{n=l,l=s>>>31|l<<1,s=a|s<<1,Ci(0|u,0|i,0|(n=t<<1|n>>>31|0),0|(f=t>>>31|e<<1|0)),a=1&(m=(_=0|V())>>31|((0|_)<0?-1:0)<<1),t=0|Ci(0|n,0|f,m&c|0,(((0|_)<0?-1:0)>>31|((0|_)<0?-1:0)<<1)&h|0),e=0|V(),o=o-1|0}while(0!=(0|o));u=l,l=0}else u=a,l=0,a=0;return o=0,0|r&&(A[r>>2]=t,A[r+4>>2]=e),_=-2&(s<<1|0)|a,0|(R(0|(m=(0|s)>>>31|(u|o)<<1|0&(o<<1|s>>>31)|l)),_)}(t|=0,e|=0,i|=0,n|=0,0)}function Bi(t,e,i){return t|=0,e|=0,(0|(i|=0))<32?(R(e>>>i|0),t>>>i|(e&(1<<i)-1)<<32-i):(R(0),e>>>i-32|0)}function Ei(t,e,i){return t|=0,(0|(i|=0))<32?(R((e|=0)<<i|(t&(1<<i)-1<<32-i)>>>32-i|0),t<<i):(R(t<<i-32|0),0)}function wi(t){return(255&(t|=0))<<24|(t>>8&255)<<16|(t>>16&255)<<8|t>>>24|0}function bi(t,e,i){t|=0,e|=0;var n,s,o=0;if((0|(i|=0))>=8192)return At(0|t,0|e,0|i),0|t;if(s=0|t,n=t+i|0,(3&t)==(3&e)){for(;3&t;){if(!i)return 0|s;r[t>>0]=0|r[e>>0],t=t+1|0,e=e+1|0,i=i-1|0}for(o=(i=-4&n|0)-64|0;(0|t)<=(0|o);)A[t>>2]=A[e>>2],A[t+4>>2]=A[e+4>>2],A[t+8>>2]=A[e+8>>2],A[t+12>>2]=A[e+12>>2],A[t+16>>2]=A[e+16>>2],A[t+20>>2]=A[e+20>>2],A[t+24>>2]=A[e+24>>2],A[t+28>>2]=A[e+28>>2],A[t+32>>2]=A[e+32>>2],A[t+36>>2]=A[e+36>>2],A[t+40>>2]=A[e+40>>2],A[t+44>>2]=A[e+44>>2],A[t+48>>2]=A[e+48>>2],A[t+52>>2]=A[e+52>>2],A[t+56>>2]=A[e+56>>2],A[t+60>>2]=A[e+60>>2],t=t+64|0,e=e+64|0;for(;(0|t)<(0|i);)A[t>>2]=A[e>>2],t=t+4|0,e=e+4|0}else for(i=n-4|0;(0|t)<(0|i);)r[t>>0]=0|r[e>>0],r[t+1>>0]=0|r[e+1>>0],r[t+2>>0]=0|r[e+2>>0],r[t+3>>0]=0|r[e+3>>0],t=t+4|0,e=e+4|0;for(;(0|t)<(0|n);)r[t>>0]=0|r[e>>0],t=t+1|0,e=e+1|0;return 0|s}function xi(t,e,i){var n=0;if((0|(e|=0))<(0|(t|=0))&(0|t)<(e+(i|=0)|0)){for(n=t,e=e+i|0,t=t+i|0;(0|i)>0;)i=i-1|0,r[(t=t-1|0)>>0]=0|r[(e=e-1|0)>>0];t=n}else bi(t,e,i);return 0|t}function Si(t,e,i){e|=0;var n,s=0,o=0,a=0;if(n=(t|=0)+(i|=0)|0,e&=255,(0|i)>=67){for(;3&t;)r[t>>0]=e,t=t+1|0;for(o=(s=-4&n|0)-64|0,a=e|e<<8|e<<16|e<<24;(0|t)<=(0|o);)A[t>>2]=a,A[t+4>>2]=a,A[t+8>>2]=a,A[t+12>>2]=a,A[t+16>>2]=a,A[t+20>>2]=a,A[t+24>>2]=a,A[t+28>>2]=a,A[t+32>>2]=a,A[t+36>>2]=a,A[t+40>>2]=a,A[t+44>>2]=a,A[t+48>>2]=a,A[t+52>>2]=a,A[t+56>>2]=a,A[t+60>>2]=a,t=t+64|0;for(;(0|t)<(0|s);)A[t>>2]=a,t=t+4|0}for(;(0|t)<(0|n);)r[t>>0]=e,t=t+1|0;return n-i|0}function Qi(t){var e,i;if((0|(t|=0))>0&(0|(e=(i=0|A[d>>2])+t|0))<(0|i)|(0|e)<0)return T(),P(12),-1;if((0|e)>(0|at())){if(!(0|lt(0|e)))return P(12),-1}else A[d>>2]=e;return 0|i}function ki(t,e){return M(1),0}function Di(){return M(2),0}function Mi(t){return M(3),0}function Ri(t,e,i){return e=+e,i=+i,M(4),0}function Vi(t,e){return M(5),0}function Ti(t,e,i){return M(6),0}function Gi(t,e,i,n,r){return M(8),0}function Fi(t,e,i,n,r,s){return M(9),0}function Pi(){M(10)}function Ni(t){M(11)}function Li(t,e){e=+e,M(12)}function Ui(t,e){M(14)}function Oi(t,e,i){i=+i,M(15)}function Yi(t,e,i){M(16)}function Hi(t,e,i,n){n=+n,M(17)}function Ji(t,e,i,n){M(18)}var ji=[function(t){return M(0),0},function(t){return+(+((0|A[(t|=0)>>2])>>>0)+4294967296*+(0|A[t+4>>2]))},function(t){return+(+((0|A[(t=8+(t|=0)|0)>>2])>>>0)+4294967296*+(0|A[t+4>>2]))},function(t){var e,i,n=0,r=0,s=0,o=0,a=0,l=0;if((0|(a=(0|A[4+(t|=0)>>2])-(i=0|A[t>>2])|0))<48)return+(n=0);t=0,n=0,r=0|A[4+(s=i+((a=(e=a>>4)-1|0)<<4)|0)>>2],s=0|A[s>>2],o=0|A[4+(a=i+(a<<4)+8|0)>>2],a=0|A[a>>2];do{n+=(+(s>>>0)+4294967296*+(0|r)+(+((s=0|A[(l=i+(t<<4)|0)>>2])>>>0)+4294967296*+(0|(r=0|A[l+4>>2]))))*(+(a>>>0)+4294967296*+(0|o)-(+((a=0|A[(l=i+(t<<4)+8|0)>>2])>>>0)+4294967296*+(0|(o=0|A[l+4>>2])))),t=t+1|0}while((0|t)<(0|e));return+(n*=-.5)},function(t){return+(+((0|A[(t|=0)>>2])>>>0)+4294967296*+(0|A[t+4>>2]))},function(t){return+(+((0|A[(t=8+(t|=0)|0)>>2])>>>0)+4294967296*+(0|A[t+4>>2]))},function(t){return+(+((0|A[(t=16+(t|=0)|0)>>2])>>>0)+4294967296*+(0|A[t+4>>2]))},function(t){return+(+((0|A[(t=24+(t|=0)|0)>>2])>>>0)+4294967296*+(0|A[t+4>>2]))}],Ki=[ki,function(t,e){var i,n=0;return i=0|A[(t|=0)>>2],t=(e|=0)+((n=0|A[t+4>>2])>>1)|0,1&n?+ +ji[7&(n=0|A[(0|A[t>>2])+i>>2])](t):+ +ji[7&(n=i)](t)},function(t,e){return+ +ji[7&(t|=0)](e|=0)},function(t,e){var i,n=0;return i=0|A[(t|=0)>>2],t=(e|=0)+((n=0|A[t+4>>2])>>1)|0,1&n?+ +ji[7&(n=0|A[(0|A[t>>2])+i>>2])](t):+ +ji[7&(n=i)](t)},function(t,e){return+ +_[(e|=0)+(0|A[(t|=0)>>2])>>3]},ki,ki,ki],qi=[Di,function(){var t,e;return t=0|ei(48),A[t>>2]=4016,A[(e=t+4|0)>>2]=0,A[e+4>>2]=0,A[e+8>>2]=0,A[e+12>>2]=0,A[e+16>>2]=0,A[e+20>>2]=0,A[e+24>>2]=0,A[e+28>>2]=0,r[e+32>>0]=0,0|t},function(){var t,e,i=0;e=48+(i=t=0|ei(60))|0;do{A[i>>2]=0,i=i+4|0}while((0|i)<(0|e));return A[t>>2]=4304,A[t+48>>2]=0,A[t+52>>2]=0,A[t+56>>2]=0,0|t},function(){var t;return t=0|ei(12),A[t>>2]=0,A[t+4>>2]=0,A[t+8>>2]=0,0|t},function(){var t;return t=0|ei(12),A[t>>2]=0,A[t+4>>2]=0,A[t+8>>2]=0,0|t},function(){var t;return t=0|ei(12),A[t>>2]=0,A[t+4>>2]=0,A[t+8>>2]=0,0|t},Di,Di],zi=[Mi,function(t){var e,i=0,n=0,s=0,o=0,a=0,l=0,u=0,h=0,c=0,f=0,m=0,_=0,g=0,d=0,p=0;if(e=mt,mt=mt+32|0,l=e+8|0,_=e,rn[63&A[16+(0|A[(t|=0)>>2])>>2]](t),A[l>>2]=l,A[(n=l+4|0)>>2]=l,A[(s=l+8|0)>>2]=0,o=t+112|0,0|A[(a=t+120|0)>>2]&&(A[4+(f=0|A[(i=0|A[t+116>>2])>>2])>>2]=A[(m=4+(0|A[o>>2])|0)>>2],A[A[m>>2]>>2]=f,A[a>>2]=0,(0|i)!=(0|o))){do{m=i,i=0|A[i+4>>2],ni(m)}while((0|i)!=(0|o));0|(i=0|A[s>>2])&&(A[4+(h=0|A[(c=0|A[n>>2])>>2])>>2]=A[(m=4+(f=0|A[l>>2])|0)>>2],A[A[m>>2]>>2]=h,A[4+(h=0|A[o>>2])>>2]=c,A[c>>2]=h,A[o>>2]=f,A[m>>2]=o,A[a>>2]=(0|A[a>>2])+i,A[s>>2]=0)}if(A[(m=t+124|0)>>2]=0,!(0|te(t,l)))return mt=e,0;for(se(t,0|A[l>>2],0|A[l+4>>2]),l=t+12|0,h=t+4|0,c=t+84|0,f=t+88|0;;){if(!(0|te(t,_))&&(0|A[h>>2])==(0|A[l>>2])){i=9;break}if(0|(i=0|A[m>>2]))do{A[(0==(0|(s=0|A[(n=i+104|0)>>2]))?m:s+100|0)>>2]=a=0|A[(o=i+100|0)>>2],0|a&&(A[a+104>>2]=s),A[o>>2]=0,A[n>>2]=0,de(t,i),i=0|A[m>>2]}while(0!=(0|i));if((0|(i=0|A[f>>2]))!=(0|(n=0|A[c>>2]))){o=0;do{(s=0|A[n+(o<<2)>>2])&&(ni(s),n=0|A[c>>2],i=0|A[f>>2]),o=o+1|0,s=i-n|0}while(o>>>0<s>>2>>>0);0|s&&(A[f>>2]=n)}if(!(0|oe(t,n=0|A[(i=_)>>2],i=0|A[i+4>>2]))){i=8;break}ae(t,n,i),se(t,n,i)}if(8==(0|i))h=0;else if(9==(0|i)){if(i=n=0|A[(m=t+40|0)>>2],(0|(s=0|A[(_=t+44|0)>>2]))!=(0|n)){c=t+140|0,f=s-n>>2,l=0;do{if(0|(h=0|A[16+(o=0|A[i+(l<<2)>>2])>>2])&&0==(0|r[o+5>>0])){a=r[c>>0]^r[o+4>>0],u=0,o=h;do{u+=(+((g=0|yi(0|A[(p=o+8|0)>>2],0|A[p+4>>2],0|A[(g=8+(d=0|A[o+28>>2])|0)>>2],0|A[g+4>>2]))>>>0)+4294967296*+(0|V()))*(+((g=0|Ci(0|A[(d=d+16|0)>>2],0|A[d+4>>2],0|A[(g=o+16|0)>>2],0|A[g+4>>2]))>>>0)+4294967296*+(0|V())),o=0|A[o+24>>2]}while((0|o)!=(0|h));if((255&a|0)==(.5*u>0|0)){o=h;do{p=o,o=0|A[(d=o+24|0)>>2],A[d>>2]=A[(p=p+28|0)>>2],A[p>>2]=o}while((0|o)!=(0|h))}}l=l+1|0}while(l>>>0<f>>>0)}if((0|A[t+72>>2])!=(0|A[t+76>>2])&&(function(t){var e,i,n,s,o,a,l,u,h,c,f=0,m=0,_=0,g=0,d=0,p=0,y=0,C=0,v=0,I=0,B=0,E=0,w=0,b=0,x=0,S=0;if(c=mt,mt=mt+16|0,e=c,(0|A[(a=76+(t|=0)|0)>>2])!=(0|(f=0|A[(o=t+72|0)>>2]))){l=t+40|0,u=t+40|0,h=t+44|0,i=t+48|0,n=t+141|0,s=t+140|0,x=0;do{for(w=0|A[(_=0|A[l>>2])+(A[A[(p=0|A[f+(x<<2)>>2])>>2]>>2]<<2)>>2];(0|w)!=(0|(f=0|A[_+(A[w>>2]<<2)>>2]));)w=f;for(d=0|A[_+(A[A[(y=p+4|0)>>2]>>2]<<2)>>2];(0|d)!=(0|(f=0|A[_+(A[d>>2]<<2)>>2]));)d=f;B=w+16|0;t:do{if(0|A[B>>2]&&0|A[(S=d+16|0)>>2]&&0==(0|r[w+5>>0])&&0==(0|r[d+5>>0])){g=(0|w)==(0|d);e:do{if(g)_=w,C=w;else{f=w;do{if((0|(f=0|A[f+8>>2]))==(0|d)){_=d,C=d;break e}}while(0!=(0|f));f=d;do{if((0|(f=0|A[f+8>>2]))==(0|w)){_=w,C=d;break e}}while(0!=(0|f));_=0|ge(w,d),C=d}}while(0);if(0|yt(t,p,w,C)){if(!g){if(A[S>>2]=0,A[C+20>>2]=0,A[d>>2]=A[w>>2],r[w+4>>0]=0|r[_+4>>0],f=C+8|0,(0|_)==(0|C)&&(A[w+8>>2]=A[f>>2]),A[f>>2]=w,!(0|r[n>>0]))break;if(y=_=0|A[u>>2],(0|(f=0|A[h>>2]))==(0|_))break;for(g=f-_>>2,_=0;;){f=0|A[(p=8+(d=0|A[y+(_<<2)>>2])|0)>>2];e:do{if(f)for(;;){if(0|A[f+16>>2])break e;if(!(f=0|A[f+8>>2])){f=0;break}}else f=0}while(0);if((0|f)==(0|C)&0!=(0|A[d+16>>2])&&(A[p>>2]=w),(_=_+1|0)>>>0>=g>>>0)break t}}A[B>>2]=A[p>>2],A[w+20>>2]=0,f=0|ei(24),A[e>>2]=f,r[f+4>>0]=0,r[f+5>>0]=0,A[(_=f+8|0)>>2]=0,A[_+4>>2]=0,A[_+8>>2]=0,A[_+12>>2]=0,(0|(_=0|A[h>>2]))==(0|A[i>>2])?(Ot(u,e),v=0|A[h>>2]):(A[_>>2]=f,A[h>>2]=v=4+(0|A[h>>2])|0),A[(E=0|A[e>>2])>>2]=_=(v-(p=0|A[u>>2])>>2)-1|0,A[(g=E+16|0)>>2]=I=0|A[y>>2],f=I;do{A[f>>2]=_,f=0|A[f+28>>2]}while((0|f)!=(0|I));d=0|A[B>>2],f=I;do{if((0|(_=0|jt(f+8|0,d)))>-1){b=30;break}f=0|A[f+24>>2]}while((0|f)!=(0|I));if(30==(0|b)&&(b=0,0==(0|_))){for(f=d;;){if((0|(g=0|jt(f+8|0,I)))>-1){b=43;break}if((0|(f=0|A[f+24>>2]))==(0|d)){b=42;break}}if(42==(0|b))b=0,r[E+4>>0]=f=0|r[(_=w+4|0)>>0];else if(43==(0|b)&&(b=0,r[E+4>>0]=f=0|r[(_=w+4|0)>>0],!g)){if(A[E+8>>2]=A[w+8>>2],!(0|r[n>>0]))break;if(C=p,(0|v)==(0|p))break;for(p=v-p>>2,d=0;;){f=0|A[(y=8+(_=0|A[C+(d<<2)>>2])|0)>>2];e:do{if(f)for(;;){if(0|A[f+16>>2])break e;if(!(f=0|A[f+8>>2])){f=0;break}}else f=0}while(0);g=0|A[_+16>>2];do{if((0|f)==(0|w)&0!=(0|g)){f=g;do{if((0|(_=0|jt(f+8|0,I)))>-1){b=63;break}f=0|A[f+24>>2]}while((0|f)!=(0|g));if(63==(0|b)&&(b=0,0==(0|_)))break;A[y>>2]=E}}while(0);if((d=d+1|0)>>>0>=p>>>0)break t}}if(r[_>>0]=f^=1,A[E+8>>2]=A[(I=w+8|0)>>2],A[I>>2]=E,0|r[n>>0]&&(Ct(t,w,E),f=0|r[_>>0],d=0|A[B>>2]),_=255&(r[s>>0]^f),g=0==(0|d))break;m=0,f=d;do{m+=(+((w=0|yi(0|A[(B=f+8|0)>>2],0|A[B+4>>2],0|A[(w=8+(E=0|A[f+28>>2])|0)>>2],0|A[w+4>>2]))>>>0)+4294967296*+(0|V()))*(+((w=0|Ci(0|A[(E=E+16|0)>>2],0|A[E+4>>2],0|A[(w=f+16|0)>>2],0|A[w+4>>2]))>>>0)+4294967296*+(0|V())),f=0|A[f+24>>2]}while((0|f)!=(0|d));if(g|(0|_)!=(.5*m>0|0))break;for(f=d;;)if(w=f,f=0|A[(E=f+24|0)>>2],A[E>>2]=A[(w=w+28|0)>>2],A[w>>2]=f,(0|f)==(0|d))break t}if(r[(_=E+4|0)>>0]=f=1^r[w+4>>0],A[E+8>>2]=w,0|r[n>>0]?(Ct(t,E,w),f=0|r[_>>0],d=0|A[g>>2]):d=I,_=255&(r[s>>0]^f),!(g=0==(0|d))){m=0,f=d;do{m+=(+((w=0|yi(0|A[(B=f+8|0)>>2],0|A[B+4>>2],0|A[(w=8+(E=0|A[f+28>>2])|0)>>2],0|A[w+4>>2]))>>>0)+4294967296*+(0|V()))*(+((w=0|Ci(0|A[(E=E+16|0)>>2],0|A[E+4>>2],0|A[(w=f+16|0)>>2],0|A[w+4>>2]))>>>0)+4294967296*+(0|V())),f=0|A[f+24>>2]}while((0|f)!=(0|d));if(!(g|(0|_)!=(.5*m>0|0))){f=d;do{w=f,f=0|A[(E=f+24|0)>>2],A[E>>2]=A[(w=w+28|0)>>2],A[w>>2]=f}while((0|f)!=(0|d))}}}}}while(0);x=x+1|0,f=0|A[o>>2]}while(x>>>0<(0|A[a>>2])-f>>2>>>0);mt=c}else mt=c}(t),s=0|A[_>>2],n=i=0|A[m>>2]),(0|s)!=(0|n)){l=0;do{n=0|A[(a=16+(i=0|A[i+(l<<2)>>2])|0)>>2];do{if(0|n){if(!(0|r[i+5>>0])){Ae(t,i);break}if((0|n)!=(0|(i=0|A[n+28>>2]))){do{n=s=0|A[n+24>>2],(0|A[(d=s+8|0)>>2])==(0|A[(p=8+(o=0|A[s+28>>2])|0)>>2])&&(0|A[d+4>>2])==(0|A[p+4>>2])&&(0|A[(d=s+16|0)>>2])==(0|A[(p=o+16|0)>>2])&&(0|A[d+4>>2])==(0|A[p+4>>2])&&(A[o+24>>2]=A[(n=s+24|0)>>2],A[28+(0|A[n>>2])>>2]=o,ni(s),i=(0|s)==(0|i)?o:i,n=o)}while((0|i)!=(0|n));if((0|i)!=(0|A[i+28>>2]))break}else i=n;ni(i),A[a>>2]=0}}while(0);l=l+1|0,i=0|A[m>>2]}while(l>>>0<(0|A[_>>2])-i>>2>>>0)}0|r[t+142>>0]?(function(t){var e,i,n,s,o,a,l=0,u=0,h=0,c=0,f=0,m=0,_=0,g=0,d=0,p=0,y=0,C=0,v=0,I=0,B=0,E=0,w=0,b=0,x=0,S=0,Q=0,k=0;if(a=mt,mt=mt+16|0,e=a,(0|A[(n=44+(t|=0)|0)>>2])!=(0|(l=0|A[(i=t+40|0)>>2]))){s=t+48|0,o=t+141|0,S=0;do{B=0|A[l+(S<<2)>>2],S=S+1|0,l=0|A[(E=B+16|0)>>2];t:do{if(0|l&&0==(0|r[B+5>>0])){w=B+4|0,b=B+8|0,I=l;do{if((0|(u=0|A[(v=I+24|0)>>2]))==(0|l))break t;p=I+8|0,y=I+16|0,C=I+28|0,l=u;do{g=p,d=l+8|0;e:do{if((0|A[g>>2])==(0|A[d>>2])&&(0|A[g+4>>2])==(0|A[d+4>>2])&&(d=l+16|0,(0|A[(g=y)>>2])==(0|A[d>>2])&&(0|A[g+4>>2])==(0|A[d+4>>2]))&&(0|A[l+24>>2])!=(0|I)&&(0|(k=0|A[(Q=l+28|0)>>2]))!=(0|I)){u=0|A[C>>2],A[C>>2]=k,A[k+24>>2]=I,A[Q>>2]=u,A[u+24>>2]=l,A[E>>2]=I,u=0|ei(24),A[e>>2]=u,r[u+4>>0]=0,r[u+5>>0]=0,A[(h=u+8|0)>>2]=0,A[h+4>>2]=0,A[h+8>>2]=0,A[h+12>>2]=0,(0|(h=0|A[n>>2]))==(0|A[s>>2])?(Ot(i,e),m=0|A[n>>2]):(A[h>>2]=u,A[n>>2]=m=4+(0|A[n>>2])|0),A[(d=0|A[e>>2])>>2]=h=(m-(f=0|A[i>>2])>>2)-1|0,A[d+16>>2]=l,u=l;do{A[u>>2]=h,u=0|A[u+28>>2]}while((0|u)!=(0|l));c=0|A[E>>2],u=l;do{if((0|(h=0|jt(u+8|0,c)))>-1){x=20;break}u=0|A[u+24>>2]}while((0|u)!=(0|l));if(20==(0|x)&&(x=0,0==(0|h))){for(u=c;;){if((0|(h=0|jt(u+8|0,l)))>-1){x=27;break}if((0|(u=0|A[u+24>>2]))==(0|c)){x=26;break}}if(26==(0|x))x=0,r[d+4>>0]=l=0|r[w>>0];else if(27==(0|x))if(x=0,r[d+4>>0]=u=0|r[w>>0],h)l=u;else{if(A[d+8>>2]=A[b>>2],!(0|r[o>>0])){l=I;break}if(g=f,(0|m)==(0|f)){l=I;break}for(m=m-f>>2,f=0;;){u=0|A[(_=8+(h=0|A[g+(f<<2)>>2])|0)>>2];i:do{if(u)for(;;){if(0|A[u+16>>2])break i;if(!(u=0|A[u+8>>2])){u=0;break}}else u=0}while(0);c=0|A[h+16>>2];do{if((0|u)==(0|B)&0!=(0|c)){u=c;do{if((0|(h=0|jt(u+8|0,l)))>-1){x=41;break}u=0|A[u+24>>2]}while((0|u)!=(0|c));if(41==(0|x)&&(x=0,0==(0|h)))break;A[_>>2]=d}}while(0);if((f=f+1|0)>>>0>=m>>>0){l=I;break e}}}if(r[w>>0]=1^l,A[d+8>>2]=A[b>>2],A[b>>2]=d,!(0|r[o>>0])){l=I;break}Ct(t,B,d),l=I;break}r[d+4>>0]=1^r[w>>0],A[d+8>>2]=B,0|r[o>>0]?(Ct(t,d,B),l=I):l=I}}while(0);l=0|A[l+24>>2]}while((0|l)!=(0|A[E>>2]));I=0|A[v>>2]}while((0|I)!=(0|l))}}while(0);l=0|A[i>>2]}while(S>>>0<(0|A[n>>2])-l>>2>>>0);mt=a}else mt=a}(t),h=1):h=1}if((0|(n=0|A[(l=t+76|0)>>2]))!=(0|(i=0|A[(a=t+72|0)>>2]))){o=0;do{(s=0|A[i+(o<<2)>>2])&&(ni(s),i=0|A[a>>2],n=0|A[l>>2]),o=o+1|0,s=n-i|0}while(o>>>0<s>>2>>>0);0|s&&(A[l>>2]=i)}if((0|(n=0|A[(a=t+88|0)>>2]))==(0|(i=0|A[(l=t+84|0)>>2])))return mt=e,0|h;o=0;do{(s=0|A[i+(o<<2)>>2])&&(ni(s),i=0|A[l>>2],n=0|A[a>>2]),o=o+1|0,s=n-i|0}while(o>>>0<s>>2>>>0);return s?(A[a>>2]=i,mt=e,0|(p=h)):(mt=e,0|(p=h))},function(t){return(0|r[11+(t=4+(t|=0)|0)>>0])<0?0|(t=0|A[t>>2]):0|t},function(t){var e,i;return e=mt,mt=mt+16|0,i=e,t=0|function(t){return 0|t}(0|A[60+(t|=0)>>2]),A[i>>2]=t,t=0|xe(0|U(6,0|i)),mt=e,0|t},function(t){return 0|function(t){return 0|A[(t|=0)>>2]}(4+(t|=0)|0)},function(t){return 3120},function(t){return 0|A[(0|A[(t|=0)>>2])-4>>2]},function(t){return 0|qi[7&(t|=0)]()},function(t){return 0|A[28+(t|=0)>>2]},function(t){var e=0,i=0,n=0;if((0|(e=0|A[16+(t|=0)>>2]))!=(0|A[t+20>>2]))return 0|A[e>>2];if(!(i=0|A[t+28>>2]))return 0;for(e=t;(0|(e=0|A[e+32>>2]))==(((0|A[i+20>>2])-(t=0|A[i+16>>2])>>2)-1|0);){if(!(e=0|A[i+28>>2])){e=0,n=8;break}t=i,i=e,e=t}return 8==(0|n)?0|e:0|(n=0|A[t+(e+1<<2)>>2])},function(t){t|=0;var e=0;for(e=1;t=0|A[t+28>>2];)e^=1;return 0|e},function(t){return 0!=(0|r[36+(t|=0)>>0])|0},function(t){return(0|A[20+(t|=0)>>2])-(0|A[t+16>>2])>>2|0},function(t){return 0|A[(0|A[(t|=0)>>2])-4>>2]},function(t){return 0|t},function(t){return 0|t},function(t){return 0|qi[7&(t|=0)]()},function(t){var e=0;return(0|(e=0|A[16+(t|=0)>>2]))==(0|A[t+20>>2])?0|(e=0):0|(e=0|A[e>>2])},function(t){var e,i,n;return i=(n=(0|A[52+(t|=0)>>2])-(e=0|A[t+48>>2])|0)>>2,(0|n)>0?i+(((0|A[A[t+16>>2]>>2])!=(0|A[e>>2]))<<31>>31)|0:0|i},function(t){var e,i,n=0,r=0,s=0,o=0,a=0,l=0;if((0|(a=(0|A[4+(t|=0)>>2])-(i=0|A[t>>2])|0))<48)return 1;t=0,n=0,r=0|A[4+(s=i+((a=(e=a>>4)-1|0)<<4)|0)>>2],s=0|A[s>>2],o=0|A[4+(a=i+(a<<4)+8|0)>>2],a=0|A[a>>2];do{n+=(+(s>>>0)+4294967296*+(0|r)+(+((s=0|A[(l=i+(t<<4)|0)>>2])>>>0)+4294967296*+(0|(r=0|A[l+4>>2]))))*(+(a>>>0)+4294967296*+(0|o)-(+((a=0|A[(l=i+(t<<4)+8|0)>>2])>>>0)+4294967296*+(0|(o=0|A[l+4>>2])))),t=t+1|0}while((0|t)<(0|e));return 0|-.5*n>=0},function(t){return 3408},function(t){return 0|A[(0|A[(t|=0)>>2])-4>>2]},function(t){return 0!=(0|r[36+(t|=0)>>0])|0},function(t){return 0|A[(0|A[(t|=0)>>2])-4>>2]},function(t){return 0|t},function(t){return 0|t},function(t){t|=0;var e,i,n,s=0;n=0|ei(144),e=0|A[t>>2],A[n+24>>2]=0,A[n+28>>2]=0,A[n+32>>2]=0,A[n+40>>2]=0,A[n+44>>2]=0,A[n+48>>2]=0,A[n+56>>2]=0,A[n+60>>2]=0,A[n+64>>2]=0,A[(t=n+4|0)>>2]=0,A[t+4>>2]=0,A[t+8>>2]=0,A[t+12>>2]=0,A[n>>2]=4060,t=n+112|0,i=36+(s=n+72|0)|0;do{A[s>>2]=0,s=s+4|0}while((0|s)<(0|i));return A[t>>2]=t,A[n+116>>2]=t,A[n+120>>2]=0,r[n+128>>0]=0,r[n+20>>0]=0,r[n+140>>0]=1&e,r[n+142>>0]=e>>>1&1,r[n+36>>0]=e>>>2&1,r[n+37>>0]=0,0|n},function(t){return 0!=(0|r[140+(t|=0)>>0])|0},function(t){return 0!=(0|r[142+(t|=0)>>0])|0},function(t){return 3512},function(t){return 3016},function(t){return 0|qi[7&(t|=0)]()},function(t){return(0|A[4+(t|=0)>>2])-(0|A[t>>2])>>4|0},function(t){return 3064},function(t){return 0|qi[7&(t|=0)]()},function(t){return 0|((0|A[4+(t|=0)>>2])-(0|A[t>>2])|0)/12},function(t){return 3304},function(t){return 0|qi[7&(t|=0)]()},function(t){return(0|A[4+(t|=0)>>2])-(0|A[t>>2])>>2|0},Mi,Mi,Mi,Mi,Mi,Mi,Mi,Mi,Mi,Mi,Mi,Mi,Mi,Mi,Mi,Mi,Mi,Mi,Mi,Mi,Mi,Mi,Mi,Mi,Mi],Xi=[Ri,function(t,e,i){var n,r;return n=mt,mt=mt+16|0,on[1&(t|=0)](r=n,e=+e,i=+i),t=0|ei(16),A[t>>2]=A[r>>2],A[t+4>>2]=A[r+4>>2],A[t+8>>2]=A[r+8>>2],A[t+12>>2]=A[r+12>>2],mt=n,0|t},function(t,e,i){var n,r,s;return t|=0,i=+i,n=mt,mt=mt+16|0,r=n,_[(s=n+8|0)>>3]=e=+e,_[r>>3]=i,t=0|Wi[31&t](s,r),mt=n,0|t},Ri],Wi=[Vi,function(t,e){var i,n;return(0|(n=0|A[4+(i=16+(e|=0)|0)>>2]))<(0|(t=0|A[4+(e=16+(t|=0)|0)>>2]))|((0|n)==(0|t)?(0|A[i>>2])>>>0<(0|A[e>>2])>>>0:0)|0},function(t,e){var i,n;return i=mt,mt=mt+16|0,an[31&(t|=0)](n=i,e|=0),rt(0|A[n>>2]),nt(0|(e=0|A[n>>2])),mt=i,0|e},function(t,e){var i,n;return i=mt,mt=mt+16|0,an[31&(t|=0)](n=i,e|=0),rt(0|A[n>>2]),nt(0|(e=0|A[n>>2])),mt=i,0|e},function(t,e){var i,n,r,s,o;return t=(e|=0)+(0|A[(t|=0)>>2])|0,n=0|ei(12),A[n>>2]=0,A[(r=n+4|0)>>2]=0,A[(s=n+8|0)>>2]=0,(t=(0|A[t+4>>2])-(o=0|A[t>>2])|0)?((e=t>>4)>>>0>268435455&&oi(),i=0|ei(t),A[r>>2]=i,A[n>>2]=i,A[s>>2]=i+(e<<4),(0|t)<=0?0|n:(bi(0|i,0|o,0|t),A[r>>2]=i+(t>>>4<<4),0|n)):0|n},function(t,e){var i,n,r,s,o;return t=(e|=0)+(0|A[(t|=0)>>2])|0,n=0|ei(12),A[n>>2]=0,A[(r=n+4|0)>>2]=0,A[(s=n+8|0)>>2]=0,(t=(0|A[t+4>>2])-(o=0|A[t>>2])|0)?((e=t>>2)>>>0>1073741823&&oi(),i=0|ei(t),A[r>>2]=i,A[n>>2]=i,A[s>>2]=i+(e<<2),(0|t)<=0?0|n:(bi(0|i,0|o,0|t),A[r>>2]=i+(t>>>2<<2),0|n)):0|n},function(t,e){var i,n=0;return n=0|A[(t|=0)>>2],t=(e|=0)+((i=0|A[t+4>>2])>>1)|0,1&i&&(n=0|A[(0|A[t>>2])+n>>2]),0|zi[63&n](t)},function(t,e){var i,n=0;return n=0|A[(t|=0)>>2],t=(e|=0)+((i=0|A[t+4>>2])>>1)|0,1&i&&(n=0|A[(0|A[t>>2])+n>>2]),0|zi[63&n](t)},function(t,e){var i,n=0;return n=0|A[(t|=0)>>2],t=(e|=0)+((i=0|A[t+4>>2])>>1)|0,1&i&&(n=0|A[(0|A[t>>2])+n>>2]),0|zi[63&n](t)},function(t,e){var i,n=0;return n=0|A[(t|=0)>>2],t=(e|=0)+((i=0|A[t+4>>2])>>1)|0,1&i&&(n=0|A[(0|A[t>>2])+n>>2]),0|zi[63&n](t)},function(t,e){var i,n=0;return n=0|A[(t|=0)>>2],t=(e|=0)+((i=0|A[t+4>>2])>>1)|0,1&i&&(n=0|A[(0|A[t>>2])+n>>2]),0|zi[63&n](t)},function(t,e){return 0|zi[63&(t|=0)](e|=0)},function(t,e){var i,n,r,s,o=0,a=0,l=0,u=0,h=0,c=0,f=0,m=0,_=0,g=0,d=0,p=0,y=0;if((r=(0|A[4+(e|=0)>>2])-(s=0|A[e>>2])>>4)>>>0<3)return 0;n=0|A[(p=8+(t|=0)|0)>>2],p=0|A[p+4>>2],i=0|A[(f=t)>>2],f=0|A[f+4>>2],e=0,c=1,m=0|A[(_=s+8|0)>>2],_=0|A[_+4>>2],g=0|A[(d=s)+4>>2],d=0|A[d>>2];t:for(;;){if(a=d,d=0|A[(u=l=(0|c)==(0|r)?s:s+(c<<4)|0)>>2],t=g,g=0|A[u+4>>2],u=m,h=_,(0|(m=0|A[(l=l+8|0)>>2]))==(0|n)&(0|(_=0|A[l+4>>2]))==(0|p)){if((0|d)==(0|i)&(0|g)==(0|f)){e=-1,t=15;break}if((0|u)==(0|n)&(0|h)==(0|p)&&!(((0|g)>(0|f)|(0|g)==(0|f)&d>>>0>i>>>0)^((0|t)<(0|f)|(0|t)==(0|f)&a>>>0<i>>>0))){e=-1,t=15;break}}do{if(((0|h)<(0|p)|(0|h)==(0|p)&u>>>0<n>>>0)^((0|_)<(0|p)|(0|_)==(0|p)&m>>>0<n>>>0)){if(l=(0|g)>(0|f)|(0|g)==(0|f)&d>>>0>i>>>0,(0|t)<(0|f)|(0|t)==(0|f)&a>>>0<i>>>0){if(!l)break;if(y=+((l=0|Ci(0|a,0|t,0|i,0|f))>>>0)+4294967296*+(0|V()),y=(+((l=0|Ci(0|m,0|_,0|n,0|p))>>>0)+4294967296*+(0|V()))*y,o=+((l=0|Ci(0|d,0|g,0|i,0|f))>>>0)+4294967296*+(0|V()),0!=(o=y-(+((l=0|Ci(0|u,0|h,0|n,0|p))>>>0)+4294967296*+(0|V()))*o)){e=((0|_)>(0|h)|(0|_)==(0|h)&m>>>0>u>>>0)^o>0?e:1-e|0;break}e=-1,t=15;break t}if(l){e=1-e|0;break}if(y=+((l=0|Ci(0|a,0|t,0|i,0|f))>>>0)+4294967296*+(0|V()),y=(+((l=0|Ci(0|m,0|_,0|n,0|p))>>>0)+4294967296*+(0|V()))*y,o=+((l=0|Ci(0|d,0|g,0|i,0|f))>>>0)+4294967296*+(0|V()),0!=(o=y-(+((l=0|Ci(0|u,0|h,0|n,0|p))>>>0)+4294967296*+(0|V()))*o)){e=((0|_)>(0|h)|(0|_)==(0|h)&m>>>0>u>>>0)^o>0?e:1-e|0;break}e=-1,t=15;break t}}while(0);if((c=c+1|0)>>>0>r>>>0){t=15;break}}return 15==(0|t)?0|e:0},function(t,e){var i,n,r=0,s=0;return n=mt,mt=mt+32|0,r=0|A[(t|=0)>>2],t=(e|=0)+((s=0|A[t+4>>2])>>1)|0,1&s&&(r=0|A[(0|A[t>>2])+r>>2]),an[31&r](i=n,t),s=0|ei(32),A[s>>2]=A[i>>2],A[s+4>>2]=A[i+4>>2],A[s+8>>2]=A[i+8>>2],A[s+12>>2]=A[i+12>>2],A[s+16>>2]=A[i+16>>2],A[s+20>>2]=A[i+20>>2],A[s+24>>2]=A[i+24>>2],A[s+28>>2]=A[i+28>>2],mt=n,0|s},function(t,e){var i,n=0;return n=0|A[(t|=0)>>2],t=(e|=0)+((i=0|A[t+4>>2])>>1)|0,1&i&&(n=0|A[(0|A[t>>2])+n>>2]),0|zi[63&n](t)},function(t,e){var i,n;return t|=0,i=mt,mt=mt+16|0,A[(n=i)>>2]=e|=0,e=0|zi[63&t](n),mt=i,0|e},function(t,e){var i,n=0;return n=0|A[(t|=0)>>2],t=(e|=0)+((i=0|A[t+4>>2])>>1)|0,1&i&&(n=0|A[(0|A[t>>2])+n>>2]),0|zi[63&n](t)},function(t,e){t|=0,e|=0;var i,n,s,o=0,a=0;s=0|ei(176),n=+_[t>>3],i=+_[e>>3],t=s+112|0,e=s+128|0,a=48+(o=s+16|0)|0;do{A[o>>2]=0,o=o+4|0}while((0|o)<(0|a));return A[(a=s+120|0)>>2]=0,A[a+4>>2]=0,A[e>>2]=4016,A[(a=s+132|0)>>2]=0,A[a+4>>2]=0,A[a+8>>2]=0,A[a+12>>2]=0,A[a+16>>2]=0,A[a+20>>2]=0,A[a+24>>2]=0,A[a+28>>2]=0,r[a+32>>0]=0,_[s>>3]=n,_[s+8>>3]=i,A[(a=t)>>2]=-1,A[a+4>>2]=-1,0|s},function(t,e){var i,n=0;return n=0|A[(t|=0)>>2],t=(e|=0)+((i=0|A[t+4>>2])>>1)|0,1&i&&(n=0|A[(0|A[t>>2])+n>>2]),0|zi[63&n](t)},function(t,e){var i,n=0;return n=0|A[(t|=0)>>2],t=(e|=0)+((i=0|A[t+4>>2])>>1)|0,1&i&&(n=0|A[(0|A[t>>2])+n>>2]),0|zi[63&n](t)},function(t,e){var i,n=0;return n=0|A[(t|=0)>>2],t=(e|=0)+((i=0|A[t+4>>2])>>1)|0,1&i&&(n=0|A[(0|A[t>>2])+n>>2]),0|zi[63&n](t)},Vi,Vi,Vi,Vi,Vi,Vi,Vi,Vi,Vi,Vi,Vi],Zi=[Ti,function(t,e,i){e|=0,i|=0;var n,r,s,o,a,l=0,u=0,h=0,c=0,f=0,m=0;a=mt,mt=mt+48|0,o=a+32|0,h=a+16|0,A[(u=a)>>2]=l=0|A[(r=28+(t|=0)|0)>>2],A[u+4>>2]=l=(0|A[(s=t+20|0)>>2])-l|0,A[u+8>>2]=e,A[u+12>>2]=i,l=l+i|0,A[h>>2]=A[(n=t+60|0)>>2],A[h+4>>2]=u,A[h+8>>2]=2,h=0|xe(0|L(146,0|h));t:do{if((0|l)!=(0|h)){for(e=2;!((0|h)<0);)if(l=l-h|0,e=e+((f=h>>>0>(m=0|A[u+4>>2])>>>0)<<31>>31)|0,A[(u=f?u+8|0:u)>>2]=(0|A[u>>2])+(m=h-(f?m:0)|0),A[(f=u+4|0)>>2]=(0|A[f>>2])-m,A[o>>2]=A[n>>2],A[o+4>>2]=u,A[o+8>>2]=e,(0|l)==(0|(h=0|xe(0|L(146,0|o))))){c=3;break t}A[t+16>>2]=0,A[r>>2]=0,A[s>>2]=0,A[t>>2]=32|A[t>>2],i=2==(0|e)?0:i-(0|A[u+4>>2])|0}else c=3}while(0);return 3==(0|c)&&(A[t+16>>2]=(m=0|A[t+44>>2])+(0|A[t+48>>2]),A[r>>2]=m,A[s>>2]=m),mt=a,0|i},function(t,e,i){var n,r,s;return e|=0,i|=0,r=mt,mt=mt+32|0,n=r+20|0,A[(s=r)>>2]=A[60+(t|=0)>>2],A[s+4>>2]=0,A[s+8>>2]=e,A[s+12>>2]=n,A[s+16>>2]=i,(0|xe(0|N(140,0|s)))<0?(A[n>>2]=-1,t=-1):t=0|A[n>>2],mt=r,0|t},function(t,e,i){i|=0;var n,r,s=0,o=0;if(r=mt,mt=mt+64|0,n=r,0|Ai(t|=0,e|=0))e=1;else if(0!=(0|e)&&0!=(0|(o=0|ci(e,3744,3728,0)))){s=52+(e=n+4|0)|0;do{A[e>>2]=0,e=e+4|0}while((0|e)<(0|s));A[n>>2]=o,A[n+8>>2]=t,A[n+12>>2]=-1,A[n+48>>2]=1,hn[15&A[28+(0|A[o>>2])>>2]](o,n,0|A[i>>2],1),1==(0|A[n+24>>2])?(A[i>>2]=A[n+16>>2],e=1):e=0}else e=0;return mt=r,0|e},function(t,e,i){return 0|Ai(t|=0,e|=0)},function(t,e,i){t|=0,e|=0;var n,r,s=0,o=0,a=0,l=0;if(r=mt,mt=mt+64|0,n=r,A[(i|=0)>>2]=A[A[i>>2]>>2],0|function(t,e,i){return 0|(0|Ai(t|=0,e|=0)?1:0|Ai(e,3872))}(t,e))t=1;else if(0!=(0|e)&&0!=(0|(s=0|ci(e,3744,3832,0)))&&0==(A[s+8>>2]&~A[t+8>>2]|0))if(0|Ai(0|A[(t=t+12|0)>>2],0|A[(e=s+12|0)>>2])||0|Ai(0|A[t>>2],3864))t=1;else if(0!=(0|(t=0|A[t>>2]))&&0!=(0|(a=0|ci(t,3744,3728,0)))&&0!=(0|(o=0|A[e>>2]))&&0!=(0|(l=0|ci(o,3744,3728,0)))){e=52+(t=n+4|0)|0;do{A[t>>2]=0,t=t+4|0}while((0|t)<(0|e));A[n>>2]=l,A[n+8>>2]=a,A[n+12>>2]=-1,A[n+48>>2]=1,hn[15&A[28+(0|A[l>>2])>>2]](l,n,0|A[i>>2],1),1==(0|A[n+24>>2])?(A[i>>2]=A[n+16>>2],t=1):t=0}else t=0;else t=0;return mt=r,0|t},function(t,e,i){return 0|Ai(t|=0,e|=0)},function(t,e,i){return 0|Wi[31&(t|=0)](e|=0,i|=0)},function(t,e,i){var n,r;return n=mt,mt=mt+16|0,ln[31&A[(t|=0)>>2]](r=n,e|=0,i|=0),rt(0|A[r>>2]),nt(0|(i=0|A[r>>2])),mt=n,0|i},function(t,e,i){return A[(e=(0|A[(t|=0)>>2])+((e|=0)<<4)|0)>>2]=A[(i|=0)>>2],A[e+4>>2]=A[i+4>>2],A[e+8>>2]=A[i+8>>2],A[e+12>>2]=A[i+12>>2],1},function(t,e,i){var n,r;return n=mt,mt=mt+16|0,ln[31&A[(t|=0)>>2]](r=n,e|=0,i|=0),rt(0|A[r>>2]),nt(0|(i=0|A[r>>2])),mt=n,0|i},function(t,e,i){return(0|(t=(0|A[(t|=0)>>2])+(12*(e|=0)|0)|0))==(0|(i|=0))?1:(Ie(t,0|A[i>>2],0|A[i+4>>2]),1)},function(t,e,i){var n,r;return n=mt,mt=mt+16|0,ln[31&A[(t|=0)>>2]](r=n,e|=0,i|=0),rt(0|A[r>>2]),nt(0|(i=0|A[r>>2])),mt=n,0|i},function(t,e,i){return A[(0|A[(t|=0)>>2])+((e|=0)<<2)>>2]=A[(i|=0)>>2],1},Ti,Ti],$i=[function(t,e,i,n){return M(7),0},$t,function(t,e,i,n){t|=0,i|=0,n|=0;var r,s=0,o=0,a=0;if((0|A[(r=4+(e|=0)|0)>>2])==(0|(o=0|A[e>>2])))return 0;a=0,s=0;do{s=0|s|$i[7&A[8+(0|A[t>>2])>>2]](t,o+(12*a|0)|0,i,n),a=a+1|0,o=0|A[e>>2]}while(a>>>0<(((0|A[r>>2])-o|0)/12|0)>>>0);return 0|s},function(t,e,i,n){return 0|ne(t|=0,e|=0,i|=0,n|=0,n)},function(t,e,i,n){return 0|re(t|=0,e|=0,i|=0,n|=0,n)},function(t,e,i,n){return 0|Zi[15&A[(t|=0)>>2]](e|=0,i|=0,n|=0)},function(t,e,i,n){return 0|Zi[15&A[(t|=0)>>2]](e|=0,i|=0,n|=0)},function(t,e,i,n){var r,s;return e|=0,i|=0,r=mt,mt=mt+16|0,t=0|A[(t|=0)>>2],A[(s=r)>>2]=n|=0,n=0|Zi[15&t](e,i,s),mt=r,0|n}],tn=[Gi,function(t,e,i,n,r){var s,o=0;return o=0|A[(t|=0)>>2],t=(e|=0)+((s=0|A[t+4>>2])>>1)|0,1&s&&(o=0|A[(0|A[t>>2])+o>>2]),0|$i[7&o](t,i|=0,n|=0,r|=0)},function(t,e,i,n,r){var s,o=0;return o=0|A[(t|=0)>>2],t=(e|=0)+((s=0|A[t+4>>2])>>1)|0,1&s&&(o=0|A[(0|A[t>>2])+o>>2]),0|$i[7&o](t,i|=0,n|=0,r|=0)},function(t,e,i,n,r){var s,o=0;return o=0|A[(t|=0)>>2],t=(e|=0)+((s=0|A[t+4>>2])>>1)|0,1&s&&(o=0|A[(0|A[t>>2])+o>>2]),0|$i[7&o](t,i|=0,n|=0,r|=0)},ne,function(t,e,i,n,r){var s,o=0;return o=0|A[(t|=0)>>2],t=(e|=0)+((s=0|A[t+4>>2])>>1)|0,1&s&&(o=0|A[(0|A[t>>2])+o>>2]),0|$i[7&o](t,i|=0,n|=0,r|=0)},re,Gi],en=[Fi,function(t,e,i,n,r,s){var o,a=0;return a=0|A[(t|=0)>>2],t=(e|=0)+((o=0|A[t+4>>2])>>1)|0,1&o&&(a=0|A[(0|A[t>>2])+a>>2]),0|tn[7&a](t,i|=0,n|=0,r|=0,s|=0)},function(t,e,i,n,r,s){var o,a=0;return a=0|A[(t|=0)>>2],t=(e|=0)+((o=0|A[t+4>>2])>>1)|0,1&o&&(a=0|A[(0|A[t>>2])+a>>2]),0|tn[7&a](t,i|=0,n|=0,r|=0,s|=0)},Fi],nn=[Pi,function(){var t,e,i,n=0,r=0,s=0,o=0,a=0;o=mt,mt=mt+48|0,i=o+32|0,t=o+24|0,a=o+16|0,e=o,o=o+36|0,0|(n=0|function(){var t,e=0;return t=mt,mt=mt+16|0,0|ct(10756,2)?(ai(9750,t),0):(e=0|ut(0|A[2690]),mt=t,0|e)}())&&0|(s=0|A[n>>2])&&(1126902528==(-256&(r=0|A[(n=s+48|0)>>2])|0)&1129074247==(0|(n=0|A[n+4>>2]))||(A[t>>2]=9611,ai(9561,t)),A[o>>2]=n=1126902529==(0|r)&1129074247==(0|n)?0|A[s+44>>2]:s+80|0,n=0|A[4+(s=0|A[s>>2])>>2],0|Zi[15&A[16+(0|A[930])>>2]](3720,s,o)?(a=0|zi[63&A[8+(0|A[(a=0|A[o>>2])>>2])>>2]](a),A[e>>2]=9611,A[e+4>>2]=n,A[e+8>>2]=a,ai(9475,e)):(A[a>>2]=9611,A[a+4>>2]=n,ai(9520,a))),ai(9599,i)},function(){var t;t=mt,mt=mt+16|0,0|ht(10760,39)?ai(9799,t):mt=t},Pi],rn=[Ni,function(t){var e=0;A[(t|=0)>>2]=4016,0|(e=0|A[t+16>>2])&&(A[t+20>>2]=e,ni(e)),(e=0|A[t+4>>2])&&(A[t+8>>2]=e,ni(e))},function(t){var e=0;A[(t|=0)>>2]=4016,0|(e=0|A[t+16>>2])&&(A[t+20>>2]=e,ni(e)),(e=0|A[t+4>>2])?(A[t+8>>2]=e,ni(e),ni(t)):ni(t)},Xt,function(t){Xt(t|=0),ni(t)},function(t){var e=0,i=0,n=0,s=0,o=0,a=0;if(A[12+(t|=0)>>2]=o=0|A[t+8>>2],A[t+4>>2]=o,(0|(i=0|A[(a=t+28|0)>>2]))==(0|(e=0|A[(o=t+24|0)>>2])))return A[a>>2]=o=i,r[(a=t+20|0)>>0]=0,void(r[(a=t+37|0)>>0]=0);for(s=0,n=i;(i=0|A[e+(s<<2)>>2])?(ri(i),e=0|A[o>>2],i=0|A[a>>2]):i=n,!((s=s+1|0)>>>0>=i-e>>2>>>0);)n=i;A[a>>2]=e,r[(a=t+20|0)>>0]=0,r[(a=t+37|0)>>0]=0},function(t){var e,i,n,r,s,o,a=0,l=0,u=0,h=0,c=0,f=0,m=0,_=0,g=0,d=0,p=0,y=0,C=0,v=0,I=0,B=0,E=0;if(o=mt,mt=mt+16|0,i=o,A[(s=4+(t|=0)|0)>>2]=a=0|A[(n=t+8|0)>>2],(0|a)!=(0|(l=0|A[(r=t+12|0)>>2]))){if(function t(e,i,n){e|=0,i|=0,n|=0;var r,s=0,o=0,a=0,l=0,u=0,h=0,c=0,f=0,m=0,_=0,g=0,d=0,p=0,y=0;r=mt,mt=mt+16|0,p=r;t:for(;;){m=i,s=i+-16|0,_=i+-32|0,g=i,d=e;e:for(;;){switch(0|(e=(o=m-d|0)>>4)){case 2:c=4;break t;case 3:c=6;break t;case 4:c=14;break t;case 5:c=15;break t;case 1:case 0:c=95;break t}if((0|o)<496){c=21;break t}c=d+(((0|e)/2|0)<<4)|0;do{if((0|o)>15984){if(e=0|Nt(d,l=d+((o=(0|e)/4|0)<<4)|0,c,o=c+(o<<4)|0,n),!((0|(a=0|A[(h=o)+4>>2]))<(0|(u=0|A[(f=s)+4>>2]))|((0|a)==(0|u)?(0|A[h>>2])>>>0<(0|A[f>>2])>>>0:0))){o=c;break}A[p>>2]=A[o>>2],A[p+4>>2]=A[o+4>>2],A[p+8>>2]=A[o+8>>2],A[p+12>>2]=A[o+12>>2],A[o>>2]=A[s>>2],A[o+4>>2]=A[s+4>>2],A[o+8>>2]=A[s+8>>2],A[o+12>>2]=A[s+12>>2],A[s>>2]=A[p>>2],A[s+4>>2]=A[p+4>>2],A[s+8>>2]=A[p+8>>2],A[s+12>>2]=A[p+12>>2],a=e+1|0,(0|(y=0|A[(h=c)+4>>2]))<(0|(u=0|A[(f=o)+4>>2]))|((0|y)==(0|u)?(0|A[h>>2])>>>0<(0|A[f>>2])>>>0:0)?(A[p>>2]=A[c>>2],A[p+4>>2]=A[c+4>>2],A[p+8>>2]=A[c+8>>2],A[p+12>>2]=A[c+12>>2],A[c>>2]=A[o>>2],A[c+4>>2]=A[o+4>>2],A[c+8>>2]=A[o+8>>2],A[c+12>>2]=A[o+12>>2],A[o>>2]=A[p>>2],A[o+4>>2]=A[p+4>>2],A[o+8>>2]=A[p+8>>2],A[o+12>>2]=A[p+12>>2],o=e+2|0,(0|(u=0|A[(f=l)+4>>2]))<(0|(h=0|A[(y=c)+4>>2]))|((0|u)==(0|h)?(0|A[f>>2])>>>0<(0|A[y>>2])>>>0:0)?(A[p>>2]=A[l>>2],A[p+4>>2]=A[l+4>>2],A[p+8>>2]=A[l+8>>2],A[p+12>>2]=A[l+12>>2],A[l>>2]=A[c>>2],A[l+4>>2]=A[c+4>>2],A[l+8>>2]=A[c+8>>2],A[l+12>>2]=A[c+12>>2],A[c>>2]=A[p>>2],A[c+4>>2]=A[p+4>>2],A[c+8>>2]=A[p+8>>2],A[c+12>>2]=A[p+12>>2],(0|(u=0|A[(f=d)+4>>2]))<(0|(h=0|A[(y=l)+4>>2]))|((0|u)==(0|h)?(0|A[f>>2])>>>0<(0|A[y>>2])>>>0:0)?(A[p>>2]=A[d>>2],A[p+4>>2]=A[d+4>>2],A[p+8>>2]=A[d+8>>2],A[p+12>>2]=A[d+12>>2],A[d>>2]=A[l>>2],A[d+4>>2]=A[l+4>>2],A[d+8>>2]=A[l+8>>2],A[d+12>>2]=A[l+12>>2],A[l>>2]=A[p>>2],A[l+4>>2]=A[p+4>>2],A[l+8>>2]=A[p+8>>2],A[l+12>>2]=A[p+12>>2],e=e+4|0,o=c):(e=e+3|0,o=c)):(e=o,o=c)):(e=a,o=c)}else{if(y=0|A[(h=c)>>2],e=(0|(h=0|A[h+4>>2]))<(0|(l=0|A[(e=s)+4>>2]))|((0|h)==(0|l)?y>>>0<(0|A[e>>2])>>>0:0),!((0|(u=0|A[(f=d)+4>>2]))<(0|h)|((0|u)==(0|h)?(0|A[f>>2])>>>0<y>>>0:0))){if(!e){e=0,o=c;break}if(A[p>>2]=A[c>>2],A[p+4>>2]=A[c+4>>2],A[p+8>>2]=A[c+8>>2],A[p+12>>2]=A[c+12>>2],A[c>>2]=A[s>>2],A[c+4>>2]=A[s+4>>2],A[c+8>>2]=A[s+8>>2],A[c+12>>2]=A[s+12>>2],A[s>>2]=A[p>>2],A[s+4>>2]=A[p+4>>2],A[s+8>>2]=A[p+8>>2],A[s+12>>2]=A[p+12>>2],!((0|(u=0|A[(f=d)+4>>2]))<(0|(h=0|A[(y=c)+4>>2]))|((0|u)==(0|h)?(0|A[f>>2])>>>0<(0|A[y>>2])>>>0:0))){e=1,o=c;break}A[p>>2]=A[d>>2],A[p+4>>2]=A[d+4>>2],A[p+8>>2]=A[d+8>>2],A[p+12>>2]=A[d+12>>2],A[d>>2]=A[c>>2],A[d+4>>2]=A[c+4>>2],A[d+8>>2]=A[c+8>>2],A[d+12>>2]=A[c+12>>2],A[c>>2]=A[p>>2],A[c+4>>2]=A[p+4>>2],A[c+8>>2]=A[p+8>>2],A[c+12>>2]=A[p+12>>2],e=2,o=c;break}if(e){A[p>>2]=A[d>>2],A[p+4>>2]=A[d+4>>2],A[p+8>>2]=A[d+8>>2],A[p+12>>2]=A[d+12>>2],A[d>>2]=A[s>>2],A[d+4>>2]=A[s+4>>2],A[d+8>>2]=A[s+8>>2],A[d+12>>2]=A[s+12>>2],A[s>>2]=A[p>>2],A[s+4>>2]=A[p+4>>2],A[s+8>>2]=A[p+8>>2],A[s+12>>2]=A[p+12>>2],e=1,o=c;break}A[p>>2]=A[d>>2],A[p+4>>2]=A[d+4>>2],A[p+8>>2]=A[d+8>>2],A[p+12>>2]=A[d+12>>2],A[d>>2]=A[c>>2],A[d+4>>2]=A[c+4>>2],A[d+8>>2]=A[c+8>>2],A[d+12>>2]=A[c+12>>2],A[c>>2]=A[p>>2],A[c+4>>2]=A[p+4>>2],A[c+8>>2]=A[p+8>>2],A[c+12>>2]=A[p+12>>2],(0|(u=0|A[(f=c)+4>>2]))<(0|(h=0|A[(y=s)+4>>2]))|((0|u)==(0|h)?(0|A[f>>2])>>>0<(0|A[y>>2])>>>0:0)?(A[p>>2]=A[c>>2],A[p+4>>2]=A[c+4>>2],A[p+8>>2]=A[c+8>>2],A[p+12>>2]=A[c+12>>2],A[c>>2]=A[s>>2],A[c+4>>2]=A[s+4>>2],A[c+8>>2]=A[s+8>>2],A[c+12>>2]=A[s+12>>2],A[s>>2]=A[p>>2],A[s+4>>2]=A[p+4>>2],A[s+8>>2]=A[p+8>>2],A[s+12>>2]=A[p+12>>2],e=2,o=c):(e=1,o=c)}}while(0);if(a=0|A[(l=o)>>2],h=0|A[(f=d)>>2],(0|(l=0|A[l+4>>2]))<(0|(f=0|A[f+4>>2]))|(0|l)==(0|f)&a>>>0<h>>>0)o=s;else{if((0|d)==(0|_)){c=58;break}for(o=_;!((0|l)<(0|(u=0|A[(y=o)+4>>2]))|((0|l)==(0|u)?a>>>0<(0|A[y>>2])>>>0:0));)if((0|d)==(0|(o=o+-16|0))){c=57;break e}A[p>>2]=A[d>>2],A[p+4>>2]=A[d+4>>2],A[p+8>>2]=A[d+8>>2],A[p+12>>2]=A[d+12>>2],A[d>>2]=A[o>>2],A[d+4>>2]=A[o+4>>2],A[d+8>>2]=A[o+8>>2],A[d+12>>2]=A[o+12>>2],A[o>>2]=A[p>>2],A[o+4>>2]=A[p+4>>2],A[o+8>>2]=A[p+8>>2],A[o+12>>2]=A[p+12>>2],e=e+1|0}a=d+16|0;i:do{if(a>>>0<o>>>0)for(;;){for(u=0|A[(h=c)>>2],h=0|A[h+4>>2];l=a+16|0,(0|h)<(0|(f=0|A[(y=a)+4>>2]))|((0|h)==(0|f)?u>>>0<(0|A[y>>2])>>>0:0);)a=l;do{f=0|A[4+(y=o=o+-16|0)>>2]}while(!((0|h)<(0|f)|((0|h)==(0|f)?u>>>0<(0|A[y>>2])>>>0:0)));if(a>>>0>o>>>0){o=c;break i}A[p>>2]=A[a>>2],A[p+4>>2]=A[a+4>>2],A[p+8>>2]=A[a+8>>2],A[p+12>>2]=A[a+12>>2],A[a>>2]=A[o>>2],A[a+4>>2]=A[o+4>>2],A[a+8>>2]=A[o+8>>2],A[a+12>>2]=A[o+12>>2],A[o>>2]=A[p>>2],A[o+4>>2]=A[p+4>>2],A[o+8>>2]=A[p+8>>2],A[o+12>>2]=A[p+12>>2],c=(0|c)==(0|a)?o:c,a=l,e=e+1|0}else o=c}while(0);if((0|a)!=(0|o)&&(0|(h=0|A[(f=a)+4>>2]))<(0|(c=0|A[(y=o)+4>>2]))|((0|h)==(0|c)?(0|A[f>>2])>>>0<(0|A[y>>2])>>>0:0)&&(A[p>>2]=A[a>>2],A[p+4>>2]=A[a+4>>2],A[p+8>>2]=A[a+8>>2],A[p+12>>2]=A[a+12>>2],A[a>>2]=A[o>>2],A[a+4>>2]=A[o+4>>2],A[a+8>>2]=A[o+8>>2],A[a+12>>2]=A[o+12>>2],A[o>>2]=A[p>>2],A[o+4>>2]=A[p+4>>2],A[o+8>>2]=A[p+8>>2],A[o+12>>2]=A[p+12>>2],e=e+1|0),!e){if(o=0|Lt(d,a,n),0|Lt(e=a+16|0,i,n)){c=88;break}if(o){s=2,c=93;break}}if(((y=a)-d|0)>=(g-y|0)){c=92;break}t(d,a,n),d=a+16|0}57==(0|c)?(u=d,c=59):58==(0|c)?(u=d,c=59):88==(0|c)?(s=o?1:2,e=d,i=o?i:a,c=93):92==(0|c)&&(c=0,t(a+16|0,i,n),e=d,i=a);e:do{if(59==(0|c)){if(e=d+16|0,!((0|(d=0|A[(y=s)+4>>2]))<(0|f)|((0|d)==(0|f)?(0|A[y>>2])>>>0<h>>>0:0))){if((0|e)==(0|s)){c=95;break t}for(;!((0|(d=0|A[(y=e)+4>>2]))<(0|f)|((0|d)==(0|f)?(0|A[y>>2])>>>0<h>>>0:0));)if((0|(e=e+16|0))==(0|s)){c=95;break t}A[p>>2]=A[e>>2],A[p+4>>2]=A[e+4>>2],A[p+8>>2]=A[e+8>>2],A[p+12>>2]=A[e+12>>2],A[e>>2]=A[s>>2],A[e+4>>2]=A[s+4>>2],A[e+8>>2]=A[s+8>>2],A[e+12>>2]=A[s+12>>2],A[s>>2]=A[p>>2],A[s+4>>2]=A[p+4>>2],A[s+8>>2]=A[p+8>>2],A[s+12>>2]=A[p+12>>2],e=e+16|0}if((0|e)==(0|s)){c=95;break t}for(;;){for(a=0|A[(l=u)>>2],l=0|A[l+4>>2];o=e+16|0,!((0|(d=0|A[(y=e)+4>>2]))<(0|l)|((0|d)==(0|l)?(0|A[y>>2])>>>0<a>>>0:0));)e=o;do{d=0|A[4+(y=s=s+-16|0)>>2]}while((0|d)<(0|l)|((0|d)==(0|l)?(0|A[y>>2])>>>0<a>>>0:0));if(e>>>0>=s>>>0){s=4,c=93;break e}A[p>>2]=A[e>>2],A[p+4>>2]=A[e+4>>2],A[p+8>>2]=A[e+8>>2],A[p+12>>2]=A[e+12>>2],A[e>>2]=A[s>>2],A[e+4>>2]=A[s+4>>2],A[e+8>>2]=A[s+8>>2],A[e+12>>2]=A[s+12>>2],A[s>>2]=A[p>>2],A[s+4>>2]=A[p+4>>2],A[s+8>>2]=A[p+8>>2],A[s+12>>2]=A[p+12>>2],e=o}}}while(0);if(93==(0|c))switch(7&s){case 2:case 4:case 0:break;default:c=95;break t}}if(4==(0|c))return(0|(_=0|A[(n=d)+4>>2]))<(0|(g=0|A[4+(y=e=i+-16|0)>>2]))|((0|_)==(0|g)?(0|A[n>>2])>>>0<(0|A[y>>2])>>>0:0)?(A[p>>2]=A[d>>2],A[p+4>>2]=A[d+4>>2],A[p+8>>2]=A[d+8>>2],A[p+12>>2]=A[d+12>>2],A[d>>2]=A[e>>2],A[d+4>>2]=A[e+4>>2],A[d+8>>2]=A[e+8>>2],A[d+12>>2]=A[e+12>>2],A[e>>2]=A[p>>2],A[e+4>>2]=A[p+4>>2],A[e+8>>2]=A[p+8>>2],A[e+12>>2]=A[p+12>>2],void(mt=r)):void(mt=r);if(6==(0|c))return y=0|A[(g=s=d+16|0)>>2],i=(0|(g=0|A[g+4>>2]))<(0|(m=0|A[4+(i=e=i+-16|0)>>2]))|((0|g)==(0|m)?y>>>0<(0|A[i>>2])>>>0:0),(0|(_=0|A[(n=d)+4>>2]))<(0|g)|((0|_)==(0|g)?(0|A[n>>2])>>>0<y>>>0:0)?i?(A[p>>2]=A[d>>2],A[p+4>>2]=A[d+4>>2],A[p+8>>2]=A[d+8>>2],A[p+12>>2]=A[d+12>>2],A[d>>2]=A[e>>2],A[d+4>>2]=A[e+4>>2],A[d+8>>2]=A[e+8>>2],A[d+12>>2]=A[e+12>>2],A[e>>2]=A[p>>2],A[e+4>>2]=A[p+4>>2],A[e+8>>2]=A[p+8>>2],A[e+12>>2]=A[p+12>>2],void(mt=r)):(A[p>>2]=A[d>>2],A[p+4>>2]=A[d+4>>2],A[p+8>>2]=A[d+8>>2],A[p+12>>2]=A[d+12>>2],A[d>>2]=A[s>>2],A[d+4>>2]=A[s+4>>2],A[d+8>>2]=A[s+8>>2],A[d+12>>2]=A[s+12>>2],A[s>>2]=A[p>>2],A[s+4>>2]=A[p+4>>2],A[s+8>>2]=A[p+8>>2],A[s+12>>2]=A[p+12>>2],(0|(g=0|A[(d=s)+4>>2]))<(0|(n=0|A[(y=e)+4>>2]))|((0|g)==(0|n)?(0|A[d>>2])>>>0<(0|A[y>>2])>>>0:0)?(A[p>>2]=A[s>>2],A[p+4>>2]=A[s+4>>2],A[p+8>>2]=A[s+8>>2],A[p+12>>2]=A[s+12>>2],A[s>>2]=A[e>>2],A[s+4>>2]=A[e+4>>2],A[s+8>>2]=A[e+8>>2],A[s+12>>2]=A[e+12>>2],A[e>>2]=A[p>>2],A[e+4>>2]=A[p+4>>2],A[e+8>>2]=A[p+8>>2],A[e+12>>2]=A[p+12>>2],void(mt=r)):void(mt=r)):i?(A[p>>2]=A[s>>2],A[p+4>>2]=A[s+4>>2],A[p+8>>2]=A[s+8>>2],A[p+12>>2]=A[s+12>>2],A[s>>2]=A[e>>2],A[s+4>>2]=A[e+4>>2],A[s+8>>2]=A[e+8>>2],A[s+12>>2]=A[e+12>>2],A[e>>2]=A[p>>2],A[e+4>>2]=A[p+4>>2],A[e+8>>2]=A[p+8>>2],A[e+12>>2]=A[p+12>>2],(0|(_=0|A[(n=d)+4>>2]))<(0|(g=0|A[(y=s)+4>>2]))|((0|_)==(0|g)?(0|A[n>>2])>>>0<(0|A[y>>2])>>>0:0)?(A[p>>2]=A[d>>2],A[p+4>>2]=A[d+4>>2],A[p+8>>2]=A[d+8>>2],A[p+12>>2]=A[d+12>>2],A[d>>2]=A[s>>2],A[d+4>>2]=A[s+4>>2],A[d+8>>2]=A[s+8>>2],A[d+12>>2]=A[s+12>>2],A[s>>2]=A[p>>2],A[s+4>>2]=A[p+4>>2],A[s+8>>2]=A[p+8>>2],A[s+12>>2]=A[p+12>>2],void(mt=r)):void(mt=r)):void(mt=r);if(14==(0|c))return Nt(d,d+16|0,d+32|0,i+-16|0,n),void(mt=r);if(15==(0|c))return e=i+-16|0,Nt(d,s=d+16|0,o=d+32|0,a=d+48|0,n),(0|(_=0|A[(n=a)+4>>2]))<(0|(g=0|A[(y=e)+4>>2]))|((0|_)==(0|g)?(0|A[n>>2])>>>0<(0|A[y>>2])>>>0:0)?(A[p>>2]=A[a>>2],A[p+4>>2]=A[a+4>>2],A[p+8>>2]=A[a+8>>2],A[p+12>>2]=A[a+12>>2],A[a>>2]=A[e>>2],A[a+4>>2]=A[e+4>>2],A[a+8>>2]=A[e+8>>2],A[a+12>>2]=A[e+12>>2],A[e>>2]=A[p>>2],A[e+4>>2]=A[p+4>>2],A[e+8>>2]=A[p+8>>2],A[e+12>>2]=A[p+12>>2],(0|(_=0|A[(n=o)+4>>2]))<(0|(g=0|A[(y=a)+4>>2]))|((0|_)==(0|g)?(0|A[n>>2])>>>0<(0|A[y>>2])>>>0:0)?(A[p>>2]=A[o>>2],A[p+4>>2]=A[o+4>>2],A[p+8>>2]=A[o+8>>2],A[p+12>>2]=A[o+12>>2],A[o>>2]=A[a>>2],A[o+4>>2]=A[a+4>>2],A[o+8>>2]=A[a+8>>2],A[o+12>>2]=A[a+12>>2],A[a>>2]=A[p>>2],A[a+4>>2]=A[p+4>>2],A[a+8>>2]=A[p+8>>2],A[a+12>>2]=A[p+12>>2],(0|(_=0|A[(n=s)+4>>2]))<(0|(g=0|A[(y=o)+4>>2]))|((0|_)==(0|g)?(0|A[n>>2])>>>0<(0|A[y>>2])>>>0:0)?(A[p>>2]=A[s>>2],A[p+4>>2]=A[s+4>>2],A[p+8>>2]=A[s+8>>2],A[p+12>>2]=A[s+12>>2],A[s>>2]=A[o>>2],A[s+4>>2]=A[o+4>>2],A[s+8>>2]=A[o+8>>2],A[s+12>>2]=A[o+12>>2],A[o>>2]=A[p>>2],A[o+4>>2]=A[p+4>>2],A[o+8>>2]=A[p+8>>2],A[o+12>>2]=A[p+12>>2],(0|(_=0|A[(n=d)+4>>2]))<(0|(g=0|A[(y=s)+4>>2]))|((0|_)==(0|g)?(0|A[n>>2])>>>0<(0|A[y>>2])>>>0:0)?(A[p>>2]=A[d>>2],A[p+4>>2]=A[d+4>>2],A[p+8>>2]=A[d+8>>2],A[p+12>>2]=A[d+12>>2],A[d>>2]=A[s>>2],A[d+4>>2]=A[s+4>>2],A[d+8>>2]=A[s+8>>2],A[d+12>>2]=A[s+12>>2],A[s>>2]=A[p>>2],A[s+4>>2]=A[p+4>>2],A[s+8>>2]=A[p+8>>2],A[s+12>>2]=A[p+12>>2],void(mt=r)):void(mt=r)):void(mt=r)):void(mt=r)):void(mt=r);if(21!=(0|c))95!=(0|c)||(mt=r);else{o=0|A[(a=d)>>2],a=0|A[a+4>>2],y=0|A[(n=e=d+16|0)>>2],l=0|A[(u=s=d+32|0)>>2],h=(0|(n=0|A[n+4>>2]))<(0|(u=0|A[u+4>>2]))|(0|n)==(0|u)&y>>>0<l>>>0;do{if((0|a)<(0|n)|(0|a)==(0|n)&o>>>0<y>>>0){if(h){A[p>>2]=A[d>>2],A[p+4>>2]=A[d+4>>2],A[p+8>>2]=A[d+8>>2],A[p+12>>2]=A[d+12>>2],A[d>>2]=A[s>>2],A[d+4>>2]=A[s+4>>2],A[d+8>>2]=A[s+8>>2],A[d+12>>2]=A[s+12>>2],A[s>>2]=A[p>>2],A[s+4>>2]=A[p+4>>2],A[s+8>>2]=A[p+8>>2],A[s+12>>2]=A[p+12>>2];break}A[p>>2]=A[d>>2],A[p+4>>2]=A[d+4>>2],A[p+8>>2]=A[d+8>>2],A[p+12>>2]=A[d+12>>2],A[d>>2]=A[e>>2],A[d+4>>2]=A[e+4>>2],A[d+8>>2]=A[e+8>>2],A[d+12>>2]=A[e+12>>2],A[e>>2]=A[p>>2],A[e+4>>2]=A[p+4>>2],A[e+8>>2]=A[p+8>>2],A[e+12>>2]=A[p+12>>2],(0|(n=0|A[(y=e)+4>>2]))<(0|u)|((0|n)==(0|u)?(0|A[y>>2])>>>0<l>>>0:0)&&(A[p>>2]=A[e>>2],A[p+4>>2]=A[e+4>>2],A[p+8>>2]=A[e+8>>2],A[p+12>>2]=A[e+12>>2],A[e>>2]=A[s>>2],A[e+4>>2]=A[s+4>>2],A[e+8>>2]=A[s+8>>2],A[e+12>>2]=A[s+12>>2],A[s>>2]=A[p>>2],A[s+4>>2]=A[p+4>>2],A[s+8>>2]=A[p+8>>2],A[s+12>>2]=A[p+12>>2])}else h&&(A[p>>2]=A[e>>2],A[p+4>>2]=A[e+4>>2],A[p+8>>2]=A[e+8>>2],A[p+12>>2]=A[e+12>>2],A[e>>2]=A[s>>2],A[e+4>>2]=A[s+4>>2],A[e+8>>2]=A[s+8>>2],A[e+12>>2]=A[s+12>>2],A[s>>2]=A[p>>2],A[s+4>>2]=A[p+4>>2],A[s+8>>2]=A[p+8>>2],A[s+12>>2]=A[p+12>>2],(0|a)<(0|(n=0|A[(y=e)+4>>2]))|((0|a)==(0|n)?o>>>0<(0|A[y>>2])>>>0:0))&&(A[p>>2]=A[d>>2],A[p+4>>2]=A[d+4>>2],A[p+8>>2]=A[d+8>>2],A[p+12>>2]=A[d+12>>2],A[d>>2]=A[e>>2],A[d+4>>2]=A[e+4>>2],A[d+8>>2]=A[e+8>>2],A[d+12>>2]=A[e+12>>2],A[e>>2]=A[p>>2],A[e+4>>2]=A[p+4>>2],A[e+8>>2]=A[p+8>>2],A[e+12>>2]=A[p+12>>2])}while(0);if((0|(e=d+48|0))==(0|i))return void(mt=r);for(;;){if(a=0|A[(l=e)>>2],(0|(p=0|A[(y=s)+4>>2]))<(0|(l=0|A[l+4>>2]))|((0|p)==(0|l)?(0|A[y>>2])>>>0<a>>>0:0)){for(u=0|A[(h=e+8|0)>>2],h=0|A[h+4>>2],o=e;;){if(A[o>>2]=A[s>>2],A[o+4>>2]=A[s+4>>2],A[o+8>>2]=A[s+8>>2],A[o+12>>2]=A[s+12>>2],(0|s)==(0|d)){o=d,s=d;break}if(!((0|(p=0|A[4+(y=o=s+-16|0)>>2]))<(0|l)|((0|p)==(0|l)?(0|A[y>>2])>>>0<a>>>0:0))){c=35;break}y=s,s=o,o=y}35==(0|c)&&(c=0,o=s),A[(y=s)>>2]=a,A[y+4>>2]=l,A[(y=o+8|0)>>2]=u,A[y+4>>2]=h}if((0|(s=e+16|0))==(0|i))break;y=e,e=s,s=y}mt=r}}(a,l,i),(a=0|A[(e=t+56|0)>>2])?(A[(l=t+60|0)>>2]=a,ni(a),A[(a=t+64|0)>>2]=0,A[l>>2]=0,A[e>>2]=0):(a=t+64|0,l=t+60|0),A[e>>2]=0,A[l>>2]=0,A[a>>2]=0,(0|(a=0|A[n>>2]))!=(0|A[r>>2])){for(_=t+60|0,g=t+64|0,h=0,c=0;;){if(l=0|A[(u=a)>>2],u=0|A[u+4>>2],A[(m=i)>>2]=l,A[m+4>>2]=u,(0|h)==(0|c)?(Ut(e,i),l=0|A[_>>2]):(A[(m=h)>>2]=l,A[m+4>>2]=u,A[_>>2]=l=h+8|0),(0|(u=l-(m=0|A[e>>2])|0))>8&&(C=0|A[(v=p=m+((d=((u>>>3)-2|0)/2|0)<<3)|0)>>2],I=0|A[(B=y=l+-8|0)>>2],(0|(v=0|A[v+4>>2]))<(0|(B=0|A[B+4>>2]))|(0|v)==(0|B)&C>>>0<I>>>0)){for(u=d,h=p,l=y,c=C,f=v;A[l>>2]=c,A[l+4>>2]=f,u&&(c=0|A[(f=l=m+((u=(u+-1|0)/2|0)<<3)|0)>>2],(0|(f=0|A[f+4>>2]))<(0|B)|(0|f)==(0|B)&c>>>0<I>>>0);)E=h,h=l,l=E;A[(E=h)>>2]=I,A[E+4>>2]=B}if(0|(l=0|A[a+8>>2])&&(A[(E=l+16|0)>>2]=A[l>>2],A[E+4>>2]=A[l+4>>2],A[E+8>>2]=A[l+8>>2],A[E+12>>2]=A[l+12>>2],A[l+60>>2]=1,A[l+76>>2]=-1),0|(l=0|A[a+12>>2])&&(A[(E=l+16|0)>>2]=A[l>>2],A[E+4>>2]=A[l+4>>2],A[E+8>>2]=A[l+8>>2],A[E+12>>2]=A[l+12>>2],A[l+60>>2]=2,A[l+76>>2]=-1),(0|(a=a+16|0))==(0|A[r>>2]))break;h=0|A[_>>2],c=0|A[g>>2]}a=0|A[n>>2]}A[t+52>>2]=0,A[s>>2]=a,mt=o}else mt=o},function(t){var e,i,n=0,r=0,s=0;if(A[(t|=0)>>2]=4060,i=t+112|0,0|A[(e=t+120|0)>>2]&&(A[4+(s=0|A[(n=0|A[t+116>>2])>>2])>>2]=A[(r=4+(0|A[i>>2])|0)>>2],A[A[r>>2]>>2]=s,A[e>>2]=0,(0|n)!=(0|i)))do{s=n,n=0|A[n+4>>2],ni(s)}while((0|n)!=(0|i));0|(n=0|A[t+96>>2])&&(A[t+100>>2]=n,ni(n)),0|(n=0|A[t+84>>2])&&(A[t+88>>2]=n,ni(n)),(n=0|A[t+72>>2])?(A[t+76>>2]=n,ni(n),Xt(t)):Xt(t)},function(t){var e,i,n=0,r=0,s=0;if(A[(t|=0)>>2]=4060,i=t+112|0,0|A[(e=t+120|0)>>2]&&(A[4+(s=0|A[(n=0|A[t+116>>2])>>2])>>2]=A[(r=4+(0|A[i>>2])|0)>>2],A[A[r>>2]>>2]=s,A[e>>2]=0,(0|n)!=(0|i)))do{s=n,n=0|A[n+4>>2],ni(s)}while((0|n)!=(0|i));if(0|(n=0|A[t+96>>2])&&(A[t+100>>2]=n,ni(n)),0|(n=0|A[t+84>>2])&&(A[t+88>>2]=n,ni(n)),!(n=0|A[t+72>>2]))return Xt(t),void ni(t);A[t+76>>2]=n,ni(n),Xt(t),ni(t)},function(t){A[(t|=0)>>2]=4092,(0|r[11+(t=t+4|0)>>0])>=0||ni(0|A[t>>2])},function(t){var e;A[(t|=0)>>2]=4092,(0|r[11+(e=t+4|0)>>0])>=0?ni(t):(ni(0|A[e>>2]),ni(t))},be,function(t){be(t|=0),ni(t)},function(t){},function(t){ni(t|=0)},function(t){},function(t){},function(t){ni(t|=0)},fi,function(t){fi(t|=0),ni(t)},function(t){fi(t|=0),ni(t)},function(t){ni(t|=0)},function(t){ni(t|=0)},function(t){ni(t|=0)},function(t){ni(t|=0)},function(t){(t|=0)&&ni(t)},function(t){(t|=0)&&rn[63&A[4+(0|A[t>>2])>>2]](t)},function(t){(t|=0)&&rn[63&A[4+(0|A[t>>2])>>2]](t)},function(t){var e,i,n=0,r=0,s=0,o=0;if((0|(s=0|A[(i=52+(t|=0)|0)>>2]))!=(0|(n=0|A[(e=t+48|0)>>2]))){o=0;do{(r=0|A[n+(o<<2)>>2])&&(rn[63&A[4+(0|A[r>>2])>>2]](r),s=0|A[i>>2],n=0|A[e>>2]),o=o+1|0,r=s-n|0}while(o>>>0<r>>2>>>0);0|r&&(A[i>>2]=n)}(0|A[(r=t+20|0)>>2])!=(0|(n=0|A[t+16>>2]))&&(A[r>>2]=n)},function(t){var e,i,n=0;if(i=mt,mt=mt+16|0,e=i,(0|(n=0|A[(t|=0)>>2]))!=(0|(t=0|A[t+4>>2])))if(n>>>0>=(t=t+-16|0)>>>0)mt=i;else{do{A[e>>2]=A[n>>2],A[e+4>>2]=A[n+4>>2],A[e+8>>2]=A[n+8>>2],A[e+12>>2]=A[n+12>>2],A[n>>2]=A[t>>2],A[n+4>>2]=A[t+4>>2],A[n+8>>2]=A[t+8>>2],A[n+12>>2]=A[t+12>>2],A[t>>2]=A[e>>2],A[t+4>>2]=A[e+4>>2],A[t+8>>2]=A[e+8>>2],A[t+12>>2]=A[e+12>>2],n=n+16|0,t=t+-16|0}while(n>>>0<t>>>0);mt=i}else mt=i},function(t){var e,i,n,r=0,s=0,o=0,a=0,l=0,u=0;if(n=mt,mt=mt+16|0,e=n,(0|(r=0|A[(i=4+(t|=0)|0)>>2]))!=(0|(s=0|A[t>>2]))){for(l=0,a=r;;){if((0|(r=0|A[(o=s)+(12*l|0)>>2]))!=(0|(o=0|A[o+(12*l|0)+4>>2]))&&r>>>0<(u=o+-16|0)>>>0){s=u;do{A[e>>2]=A[r>>2],A[e+4>>2]=A[r+4>>2],A[e+8>>2]=A[r+8>>2],A[e+12>>2]=A[r+12>>2],A[r>>2]=A[s>>2],A[r+4>>2]=A[s+4>>2],A[r+8>>2]=A[s+8>>2],A[r+12>>2]=A[s+12>>2],A[s>>2]=A[e>>2],A[s+4>>2]=A[e+4>>2],A[s+8>>2]=A[e+8>>2],A[s+12>>2]=A[e+12>>2],r=r+16|0,s=s+-16|0}while(r>>>0<s>>>0);s=0|A[t>>2],r=0|A[i>>2]}else r=a;if((l=l+1|0)>>>0>=((r-s|0)/12|0)>>>0)break;a=r}mt=n}else mt=n},function(t){(t|=0)&&ni(t)},function(t){(t|=0)&&rn[63&A[4+(0|A[t>>2])>>2]](t)},function(t){(t|=0)&&rn[63&A[4+(0|A[t>>2])>>2]](t)},function(t){(t|=0)&&(function(t){var e,i=0,n=0,r=0,s=0,o=0,a=0;if(i=n=0|A[(a=144+(t|=0)|0)>>2],((r=0|A[(e=t+148|0)>>2])-n|0)>0)for(o=0,s=r;(r=0|A[n+(o<<2)>>2])?(rn[63&A[4+(0|A[r>>2])>>2]](r),n=i=0|A[a>>2],r=0|A[e>>2]):r=s,!((0|(o=o+1|0))>=(r-n>>2|0));)s=r;if(A[e>>2]=n,A[(a=t+112|0)>>2]=-1,A[a+4>>2]=-1,A[t+128>>2]=4016,0|i&&(A[e>>2]=i,ni(i)),0|(i=0|A[t+132>>2])&&(A[t+136>>2]=i,ni(i)),0|(i=0|A[t+52>>2])&&(A[t+56>>2]=i,ni(i)),0|(i=0|A[t+40>>2])&&(A[t+44>>2]=i,ni(i)),0|(i=0|A[t+28>>2])&&(A[t+32>>2]=i,ni(i)),a=0|A[(s=t+16|0)>>2]){if((0|(i=0|A[(o=t+20|0)>>2]))==(0|a))i=a;else{do{n=i,0|(r=0|A[(i=i+-12|0)>>2])&&(A[n+-8>>2]=r,ni(r))}while((0|i)!=(0|a));i=0|A[s>>2]}A[o>>2]=a,ni(i)}}(t),ni(t))},function(t){var e,i=0,n=0,r=0,s=0,o=0;if(((n=0|A[(o=148+(t|=0)|0)>>2])-(i=0|A[(e=t+144|0)>>2])|0)>0)for(s=0,r=n;(n=0|A[i+(s<<2)>>2])?(rn[63&A[4+(0|A[n>>2])>>2]](n),i=0|A[e>>2],n=0|A[o>>2]):n=r,!((0|(s=s+1|0))>=(n-i>>2|0));)r=n;A[o>>2]=i,A[(o=t+112|0)>>2]=-1,A[o+4>>2]=-1},function(t){var e;(t|=0)&&(0|(e=0|A[t>>2])&&(A[t+4>>2]=e,ni(e)),ni(t))},function(t){var e,i=0,n=0,r=0,s=0;if(t|=0){if(0|(e=0|A[t>>2])){if((0|(i=0|A[(s=t+4|0)>>2]))==(0|e))i=e;else{do{n=i,0|(r=0|A[(i=i+-12|0)>>2])&&(A[n+-8>>2]=r,ni(r))}while((0|i)!=(0|e));i=0|A[t>>2]}A[s>>2]=e,ni(i)}ni(t)}},function(t){var e;(t|=0)&&(0|(e=0|A[t>>2])&&(A[t+4>>2]=e,ni(e)),ni(t))},function(t){var e;e=mt,mt=mt+16|0,ti(t|=0),0|ft(0|A[2690],0)?ai(9849,e):mt=e},Ni,Ni,Ni,Ni,Ni,Ni,Ni,Ni,Ni,Ni,Ni,Ni,Ni,Ni,Ni,Ni,Ni,Ni,Ni,Ni,Ni,Ni,Ni,Ni],sn=[Li,function(t,e){var i;t|=0,i=+v(e=+e)>=1?e>0?~~+k(+C(e/4294967296),4294967295)>>>0:~~+S((e-+(~~e>>>0))/4294967296)>>>0:0,A[t>>2]=~~e>>>0,A[t+4>>2]=i},function(t,e){var i;t|=0,i=+v(e=+e)>=1?e>0?~~+k(+C(e/4294967296),4294967295)>>>0:~~+S((e-+(~~e>>>0))/4294967296)>>>0:0,A[(t=t+8|0)>>2]=~~e>>>0,A[t+4>>2]=i},function(t,e){kt(t|=0,t,e=+e)},function(t,e){Dt(t|=0,t,e=+e)},function(t,e){var i;t|=0,i=+v(e=+e)>=1?e>0?~~+k(+C(e/4294967296),4294967295)>>>0:~~+S((e-+(~~e>>>0))/4294967296)>>>0:0,A[t>>2]=~~e>>>0,A[t+4>>2]=i},function(t,e){var i;t|=0,i=+v(e=+e)>=1?e>0?~~+k(+C(e/4294967296),4294967295)>>>0:~~+S((e-+(~~e>>>0))/4294967296)>>>0:0,A[(t=t+8|0)>>2]=~~e>>>0,A[t+4>>2]=i},function(t,e){var i;t|=0,i=+v(e=+e)>=1?e>0?~~+k(+C(e/4294967296),4294967295)>>>0:~~+S((e-+(~~e>>>0))/4294967296)>>>0:0,A[(t=t+16|0)>>2]=~~e>>>0,A[t+4>>2]=i},function(t,e){e=+e},Li,Li,Li,Li,Li,Li,Li],on=[function(t,e,i){e=+e,i=+i,M(13)},function(t,e,i){var n,r,s;t|=0,i=+i,s=+v(e=+e)>=1?e>0?~~+k(+C(e/4294967296),4294967295)>>>0:~~+S((e-+(~~e>>>0))/4294967296)>>>0:0,n=+v(i)>=1?i>0?~~+k(+C(i/4294967296),4294967295)>>>0:~~+S((i-+(~~i>>>0))/4294967296)>>>0:0,A[(r=t)>>2]=~~e>>>0,A[r+4>>2]=s,A[(t=t+8|0)>>2]=~~i>>>0,A[t+4>>2]=n}],an=[Ui,function(t,e){var i,n=0,r=0,s=0,o=0,a=0,l=0,u=0,h=0;if(i=~~+_[(e|=0)>>3]>>>0,A[4+(t|=0)>>2]=A[t>>2],i)for(we(t,i),r=e+8|0,s=0;u=+v(h=+_[r>>3])>=1?h>0?~~+k(+C(h/4294967296),4294967295)>>>0:~~+S((h-+(~~h>>>0))/4294967296)>>>0:0,o=+v(a=+_[(n=e+16|0)>>3])>=1?a>0?~~+k(+C(a/4294967296),4294967295)>>>0:~~+S((a-+(~~a>>>0))/4294967296)>>>0:0,A[(l=(r=0|A[t>>2])+(s<<4)|0)>>2]=~~h>>>0,A[l+4>>2]=u,A[(r=r+(s<<4)+8|0)>>2]=~~a>>>0,A[r+4>>2]=o,(0|(s=s+1|0))!=(0|i);)r=e+24|0,e=n},function(t,e){!function(t,e){var i,n,r,s,o,a,l,u=0,h=0,c=0,f=0,m=0,g=0,d=0,p=0,y=0,I=0,B=0,E=0;if(l=mt,mt=mt+16|0,o=l,a=~~+_[(e|=0)>>3]>>>0,f=e+8|0,(0|(e=0|A[(s=4+(t|=0)|0)>>2]))!=(0|(c=0|A[t>>2])))do{u=e,0|(h=0|A[(e=e+-12|0)>>2])&&(A[u+-8>>2]=h,ni(h))}while((0|e)!=(0|c));if(A[s>>2]=c,gt(t,a),a){for(i=o+4|0,n=o+8|0,r=t+8|0,p=0;;){if(A[o>>2]=0,A[n>>2]=0,c=~~+_[f>>3]>>>0,A[i>>2]=0,c){for(we(o,c),m=c<<1,e=f+8|0,u=0,h=f;B=+v(E=+_[e>>3])>=1?E>0?~~+k(+C(E/4294967296),4294967295)>>>0:~~+S((E-+(~~E>>>0))/4294967296)>>>0:0,e=+v(y=+_[(g=h+16|0)>>3])>=1?y>0?~~+k(+C(y/4294967296),4294967295)>>>0:~~+S((y-+(~~y>>>0))/4294967296)>>>0:0,A[(I=(d=0|A[o>>2])+(u<<4)|0)>>2]=~~E>>>0,A[I+4>>2]=B,A[(d=d+(u<<4)+8|0)>>2]=~~y>>>0,A[d+4>>2]=e,(0|(u=u+1|0))!=(0|c);)e=h+24|0,h=g;e=1|m}else e=1;if(f=f+(e<<3)|0,(0|(g=0|A[s>>2]))==(0|A[r>>2]))Tt(t,o),e=0|A[o>>2];else{if(A[g>>2]=0,A[(d=g+4|0)>>2]=0,A[(h=g+8|0)>>2]=0,c=(u=(0|A[i>>2])-(e=0|A[o>>2])|0)>>4,u){if(c>>>0>268435455){e=16;break}m=0|ei(u),A[d>>2]=m,A[g>>2]=m,A[h>>2]=m+(c<<4),(0|(u=(0|A[i>>2])-(e=0|A[o>>2])|0))>0&&(bi(0|m,0|e,0|u),A[d>>2]=m+(u>>>4<<4))}A[s>>2]=12+(0|A[s>>2])}if(0|e&&(A[i>>2]=e,ni(e)),(p=p+1|0)>>>0>=a>>>0){e=8;break}}8!=(0|e)?16==(0|e)&&oi():mt=l}else mt=l}(t|=0,e|=0)},function(t,e){t|=0;var i,n,r,s=0,o=0,a=0,l=0,u=0;if(r=mt,mt=mt+16|0,u=r,i=0|$e(8+(0|Q(16,l=(a=(0|A[4+(e|=0)>>2])-(n=0|A[e>>2])|0)>>4))|0),_[i>>3]=+(l>>>0),!a)return a=i,A[u>>2]=l=1+(l<<=1)|0,A[(l=u+4|0)>>2]=a,u=0|st(2976,0|u),A[t>>2]=u,void(mt=r);for(e=0,s=i+8|0,o=i;_[s>>3]=+((0|A[(a=n+(e<<4)|0)>>2])>>>0)+4294967296*+(0|A[a+4>>2]),_[(a=o+16|0)>>3]=+((0|A[(s=n+(e<<4)+8|0)>>2])>>>0)+4294967296*+(0|A[s+4>>2]),!((e=e+1|0)>>>0>=l>>>0);)s=o+24|0,o=a;a=i,A[u>>2]=l=1+(l<<=1)|0,A[(l=u+4|0)>>2]=a,u=0|st(2976,0|u),A[t>>2]=u,mt=r},function(t,e){t|=0;var i,n,r,s=0,o=0,a=0;if(r=mt,mt=mt+16|0,a=r,i=(0|(o=(0|A[4+(e|=0)>>2])-(n=0|A[e>>2])|0))/12|0,o){s=1,o=0;do{s=s+1+((0|A[n+(12*o|0)+4>>2])-(0|A[n+(12*o|0)>>2])>>4<<1)|0,o=o+1|0}while(o>>>0<i>>>0)}else s=1;e=0|function(t){var e,i=0,n=0,r=0,s=0,o=0,a=0,l=0,u=0;if(e=(0|(n=(0|A[4+(t|=0)>>2])-(l=0|A[t>>2])|0))/12|0,n=0==(0|n))return l=0|$e(8),_[l>>3]=+(e>>>0),0|l;t=1,i=0;do{t=t+1+((0|A[l+(12*i|0)+4>>2])-(0|A[l+(12*i|0)>>2])>>4<<1)|0,i=i+1|0}while(i>>>0<e>>>0);if(t=0|$e(t<<3),_[t>>3]=+(e>>>0),n)return 0|t;for(n=t+8|0,a=0;;){if(_[n>>3]=+((s=(r=(0|A[l+(12*a|0)+4>>2])-(o=0|A[l+(12*a|0)>>2])|0)>>4)>>>0),i=n+8|0,r){r=0;do{_[i>>3]=+((0|A[(u=o+(r<<4)|0)>>2])>>>0)+4294967296*+(0|A[u+4>>2]),i=n,_[(n=n+16|0)>>3]=+((0|A[(u=o+(r<<4)+8|0)>>2])>>>0)+4294967296*+(0|A[u+4>>2]),r=r+1|0,i=i+24|0}while(r>>>0<s>>>0)}if((a=a+1|0)>>>0>=e>>>0)break;n=i}return 0|t}(e),A[a>>2]=s,A[a+4>>2]=e,a=0|st(2976,0|a),A[t>>2]=a,mt=r},function(t,e){var i,n=0;return i=0|A[(t|=0)>>2],t=(e|=0)+((n=0|A[t+4>>2])>>1)|0,1&n?void rn[63&(n=0|A[(0|A[t>>2])+i>>2])](t):void rn[63&(n=i)](t)},function(t,e){St(t|=0,t,e|=0)},function(t,e){t|=0;var i,n=0,r=0,s=0,o=0;if(o=s=0|A[(e|=0)>>2],n=r=0|A[(i=e+4|0)>>2],(0|r)!=(0|s)){if((0|o)!=(0|n))do{r=n,0|(s=0|A[(n=n+-12|0)>>2])&&(A[r+-8>>2]=s,ni(s))}while((0|n)!=(0|o));A[i>>2]=o}n=(o=(0|A[t+52>>2])-(r=0|A[t+48>>2])|0)>>2,(0|o)>0&&(n=n+(((0|A[A[t+16>>2]>>2])!=(0|A[r>>2]))<<31>>31)|0),gt(e,n),Rt(t,0,e)},function(t,e){t|=0;var i,n=0,r=0,s=0,o=0;if(o=s=0|A[(e|=0)>>2],n=r=0|A[(i=e+4|0)>>2],(0|r)!=(0|s)){if((0|o)!=(0|n))do{r=n,0|(s=0|A[(n=n+-12|0)>>2])&&(A[r+-8>>2]=s,ni(s))}while((0|n)!=(0|o));A[i>>2]=o}n=(o=(0|A[t+52>>2])-(r=0|A[t+48>>2])|0)>>2,(0|o)>0&&(n=n+(((0|A[A[t+16>>2]>>2])!=(0|A[r>>2]))<<31>>31)|0),gt(e,n),Rt(t,2,e)},function(t,e){t|=0;var i,n,s=0,o=0,a=0,l=0,u=0,h=0,c=0,f=0,m=0,_=0;if(l=_=0|A[(e|=0)>>2],s=m=0|A[(n=e+4|0)>>2],(0|m)!=(0|_)){if((0|l)!=(0|s))do{o=s,0|(a=0|A[(s=s+-12|0)>>2])&&(A[o+-8>>2]=a,ni(a))}while((0|s)!=(0|l));A[n>>2]=l}if(s=(_=(0|A[t+52>>2])-(o=0|A[t+48>>2])|0)>>2,(0|_)>0&&(s=s+(((0|A[A[t+16>>2]>>2])!=(0|A[o>>2]))<<31>>31)|0),gt(e,s),!(((0|A[(i=t+20|0)>>2])-(s=0|A[(_=t+16|0)>>2])|0)<=0)){m=e+8|0,f=0;t:for(;;){s=0|A[s+(f<<2)>>2];do{if(0|r[s+36>>0]){if(a=s+4|0,(0|(h=0|A[n>>2]))==(0|A[m>>2])){Tt(e,a);break}if(A[h>>2]=0,A[(c=h+4|0)>>2]=0,A[(l=h+8|0)>>2]=0,o=(s=(0|A[(t=s+8|0)>>2])-(0|A[a>>2])|0)>>4,0|s){if(o>>>0>268435455){s=17;break t}u=0|ei(s),A[c>>2]=u,A[h>>2]=u,A[l>>2]=u+(o<<4),(0|(s=(0|A[t>>2])-(o=0|A[a>>2])|0))>0&&(bi(0|u,0|o,0|s),A[c>>2]=u+(s>>>4<<4))}A[n>>2]=12+(0|A[n>>2])}}while(0);if((0|(f=f+1|0))>=((0|A[i>>2])-(s=0|A[_>>2])>>2|0)){s=12;break}}12!=(0|s)&&17==(0|s)&&oi()}},function(t,e){rn[63&(t|=0)](e|=0)},function(t,e){rn[63&(t|=0)](e|=0)},function(t,e){var i,n=0;return i=0|A[(t|=0)>>2],t=(e|=0)+((n=0|A[t+4>>2])>>1)|0,1&n?void rn[63&(n=0|A[(0|A[t>>2])+i>>2])](t):void rn[63&(n=i)](t)},function(t,e){t|=0;var i,n,r=0,s=0,o=0,a=0,l=0,u=0,h=0,c=0,f=0,m=0,_=0,g=0,d=0,p=0,y=0,C=0,v=0,I=0,B=0;if((0|(r=0|A[8+(e|=0)>>2]))==(0|(n=0|A[e+12>>2])))return A[t>>2]=0,A[t+4>>2]=0,A[t+8>>2]=0,A[t+12>>2]=0,A[t+16>>2]=0,A[t+20>>2]=0,A[t+24>>2]=0,void(A[t+28>>2]=0);for(u=0|A[(f=C=0|A[r+8>>2])>>2],f=0|A[f+4>>2],A[(a=t)>>2]=u,A[a+4>>2]=f,s=0|A[(a=C+8|0)>>2],a=0|A[a+4>>2],A[(v=i=t+8|0)>>2]=s,A[v+4>>2]=a,A[(I=v=t+16|0)>>2]=u,A[I+4>>2]=f,A[(m=I=t+24|0)>>2]=s,A[m+4>>2]=a,m=s,c=a,h=u,l=f,o=a,e=s;;){for(y=(p=(0|o)<(0|a)|(0|o)==(0|a)&e>>>0<s>>>0)?s:e,o=p?a:o,A[(p=I)>>2]=y,A[p+4>>2]=o,p=r+12|0,d=C,a=c,s=m,e=h;;){if(c=0|A[(m=d)>>2],h=(0|(m=0|A[m+4>>2]))<(0|f)|(0|m)==(0|f)&c>>>0<u>>>0,_=0|A[d+88>>2]){for(g=_;h&&(A[(f=t)>>2]=c,A[f+4>>2]=m,f=m,u=c),(0|m)>(0|l)|(0|m)==(0|l)&c>>>0>e>>>0&&(A[(e=v)>>2]=c,A[e+4>>2]=m,e=c,l=m),c=0|A[(m=g)>>2],h=(0|(m=0|A[m+4>>2]))<(0|f)|(0|m)==(0|f)&c>>>0<u>>>0,_=0|A[g+88>>2];)g=_;c=g,u=g}else c=d,u=d;if(B=0|A[(f=h?u:t)>>2],f=0|A[f+4>>2],A[(g=t)>>2]=B,A[g+4>>2]=f,h=0|A[(g=u)>>2],l=(_=(0|l)<(0|(g=0|A[g+4>>2]))|(0|l)==(0|g)&e>>>0<h>>>0)?g:l,A[(g=v)>>2]=h=_?h:e,A[g+4>>2]=l,u=0|A[(_=g=c+32|0)>>2],f=(m=(0|(_=0|A[_+4>>2]))<(0|f)|(0|_)==(0|f)&u>>>0<B>>>0)?_:f,A[(_=t)>>2]=u=m?u:B,A[_+4>>2]=f,_=0|A[g>>2],l=(m=(0|l)<(0|(g=0|A[g+4>>2]))|(0|l)==(0|g)&h>>>0<_>>>0)?g:l,A[(g=v)>>2]=h=m?_:h,A[g+4>>2]=l,m=0|A[(g=c+40|0)>>2],a=(_=(0|(g=0|A[g+4>>2]))<(0|a)|(0|g)==(0|a)&m>>>0<s>>>0)?g:a,A[(g=i)>>2]=s=_?m:s,A[g+4>>2]=a,(0|d)!=(0|C))break;d=0|A[p>>2],e=h}if((0|(e=r+16|0))==(0|n))break;C=0|A[r+24>>2],r=e,m=s,c=a,a=0|A[4+(B=C+8|0)>>2],e=y,s=0|A[B>>2]}},function(t,e){r[36+(t|=0)>>0]=1&(e|=0)},function(t,e){r[140+(t|=0)>>0]=1&(e|=0)},function(t,e){r[142+(t|=0)>>0]=1&(e|=0)},function(t,e){var i,n=0;return i=0|A[(t|=0)>>2],t=(e|=0)+((n=0|A[t+4>>2])>>1)|0,1&n?void rn[63&(n=0|A[(0|A[t>>2])+i>>2])](t):void rn[63&(n=i)](t)},function(t,e){var i,n;return e|=0,(0|(n=0|A[(i=4+(t|=0)|0)>>2]))==(0|A[t+8>>2])?void Vt(t,e):(A[n>>2]=A[e>>2],A[n+4>>2]=A[e+4>>2],A[n+8>>2]=A[e+8>>2],A[n+12>>2]=A[e+12>>2],void(A[i>>2]=16+(0|A[i>>2])))},function(t,e){e|=0;var i,n,r,s,o,a=0,l=0;(0|(n=0|A[(o=4+(t|=0)|0)>>2]))!=(0|A[t+8>>2])?(A[n>>2]=0,A[(s=n+4|0)>>2]=0,A[(i=n+8|0)>>2]=0,a=(t=(0|A[(r=e+4|0)>>2])-(0|A[e>>2])|0)>>4,0|t&&(a>>>0>268435455&&oi(),l=0|ei(t),A[s>>2]=l,A[n>>2]=l,A[i>>2]=l+(a<<4),(0|(t=(0|A[r>>2])-(a=0|A[e>>2])|0))>0&&(bi(0|l,0|a,0|t),A[s>>2]=l+(t>>>4<<4))),A[o>>2]=12+(0|A[o>>2])):Tt(t,e)},function(t,e){var i,n;return e|=0,(0|(n=0|A[(i=4+(t|=0)|0)>>2]))==(0|A[t+8>>2])?void ve(t,e):(A[n>>2]=A[e>>2],void(A[i>>2]=4+(0|A[i>>2])))},Ui,Ui,Ui,Ui,Ui,Ui,Ui,Ui,Ui,Ui,Ui],An=[Oi,function(t,e,i){i=+i;var n,r=0;return n=0|A[(t|=0)>>2],t=(e|=0)+((r=0|A[t+4>>2])>>1)|0,1&r?void sn[15&(r=0|A[(0|A[t>>2])+n>>2])](t,i):void sn[15&(r=n)](t,i)},kt,function(t,e,i){sn[15&(t|=0)](e|=0,i=+i)},Dt,function(t,e,i){sn[15&(t|=0)](e|=0,i=+i)},function(t,e,i){i=+i;var n,r=0;return n=0|A[(t|=0)>>2],t=(e|=0)+((r=0|A[t+4>>2])>>1)|0,1&r?void sn[15&(r=0|A[(0|A[t>>2])+n>>2])](t,i):void sn[15&(r=n)](t,i)},function(t,e,i){t|=0,i=+i;var n,s,o,a,l,u,h,c,f,m,_,g,d,p,y,C=0,v=0,I=0,B=0,E=0,w=0,b=0,x=0,S=0,Q=0,k=0,D=0,M=0,R=0,T=0,G=0,F=0,P=0,N=0,L=0,U=0,O=0,Y=0,H=0,J=0,j=0,K=0,q=0;if(y=mt,mt=mt+176|0,p=y+24|0,H=y,o=y+8|0,(0|(C=0|A[(j=4+(e|=0)|0)>>2]))!=(0|(B=0|A[e>>2])))do{v=C,0|(I=0|A[(C=C+-12|0)>>2])&&(A[v+-8>>2]=I,ni(I))}while((0|C)!=(0|B));A[j>>2]=B,It(t),Bt(t,i),A[(_=p+24|0)>>2]=0,A[(d=p+28|0)>>2]=0,A[p+32>>2]=0,A[(f=p+40|0)>>2]=0,A[(g=p+44|0)>>2]=0,A[p+48>>2]=0,A[(c=p+56|0)>>2]=0,A[(m=p+60|0)>>2]=0,A[p+64>>2]=0,A[(l=p+4|0)>>2]=0,A[l+4>>2]=0,A[l+8>>2]=0,A[l+12>>2]=0,A[p>>2]=4060,I=p+112|0,v=36+(C=a=p+72|0)|0;do{A[C>>2]=0,C=C+4|0}while((0|C)<(0|v));A[I>>2]=I,A[(s=p+116|0)>>2]=I,A[(n=p+120|0)>>2]=0,r[p+128>>0]=0,r[(u=p+20|0)>>0]=0,r[(J=p+140|0)>>0]=0,r[p+142>>0]=0,r[p+36>>0]=0,r[(h=p+37|0)>>0]=0,B=t+20|0,C=0|A[(E=t+16|0)>>2];t:do{if((0|A[B>>2])!=(0|C))for(v=0,I=4060;;){if($i[7&A[I+8>>2]](p,C+(12*v|0)|0,0,1),(v=v+1|0)>>>0>=(((0|A[B>>2])-(C=0|A[E>>2])|0)/12|0)>>>0)break t;I=0|A[p>>2]}}while(0);if(i>0)ne(p,1,e,2,2);else{C=0|A[p+8>>2],Y=0|A[p+12>>2];t:do{if((0|C)==(0|Y))A[(x=H)>>2]=0,A[x+4>>2]=0,x=0,b=0,w=0,t=0,E=0,I=0,v=0,C=0;else for(E=0|A[(I=O=0|A[C+8>>2])>>2],I=0|A[I+4>>2],A[(L=H)>>2]=E,A[L+4>>2]=I,x=E,b=I,v=P=0|A[(L=O+8|0)>>2],B=L=0|A[L+4>>2],t=L,w=P;;){for(U=(0|t)<(0|L)|(0|t)==(0|L)&w>>>0<P>>>0,N=C+12|0,F=O,G=B;;){if(B=0|A[(Q=F)>>2],S=(0|(Q=0|A[Q+4>>2]))<(0|b)|(0|Q)==(0|b)&B>>>0<x>>>0,R=0|A[F+88>>2]){for(T=x,M=b,D=x,k=b,x=R;T=S?B:T,M=S?Q:M,D=S?B:D,k=S?Q:k,E=(b=(0|Q)>(0|I)|(0|Q)==(0|I)&B>>>0>E>>>0)?B:E,I=b?Q:I,S=(0|(Q=0|A[(R=x)+4>>2]))<(0|k)|(0|Q)==(0|k)&(B=0|A[R>>2])>>>0<D>>>0,b=0|A[x+88>>2];)x=b;A[(Q=H)>>2]=T,A[Q+4>>2]=M,Q=x,b=S,B=x}else Q=F,b=S,B=F;if(x=0|A[(b=b?B:H)>>2],b=0|A[b+4>>2],A[(S=H)>>2]=x,A[S+4>>2]=b,T=0|A[(S=B)>>2],E=(B=(0|I)<(0|(S=0|A[S+4>>2]))|(0|I)==(0|S)&E>>>0<T>>>0)?T:E,S=B?S:I,T=0|A[(B=Q+32|0)>>2],x=(R=(0|(B=0|A[B+4>>2]))<(0|b)|(0|B)==(0|b)&T>>>0<x>>>0)?T:x,b=R?B:b,A[(R=H)>>2]=x,A[R+4>>2]=b,E=(R=(0|S)<(0|B)|(0|S)==(0|B)&E>>>0<T>>>0)?T:E,S=R?B:S,R=0|A[(B=Q+40|0)>>2],v=(T=(0|(B=0|A[B+4>>2]))<(0|G)|(0|B)==(0|G)&R>>>0<v>>>0)?R:v,B=T?B:G,(0|F)!=(0|O))break;F=0|A[N>>2],G=B,I=S}if(w=U?P:w,t=U?L:t,(0|(I=C+16|0))==(0|Y)){I=S,C=B;break t}O=0|A[C+24>>2],C=I,I=S,L=0|A[4+(P=O+8|0)>>2],P=0|A[P>>2]}}while(0);if(A[o>>2]=0,A[(S=o+4|0)>>2]=0,A[(Y=o+8|0)>>2]=0,B=0|ei(64),A[o>>2]=B,A[Y>>2]=O=B+64|0,A[S>>2]=O,O=0|yi(0|x,0|b,-10,-1),Y=0|V(),P=0|yi(0|w,0|t,10,0),N=0|V(),A[(L=B)>>2]=O,A[L+4>>2]=Y,A[(L=B+8|0)>>2]=P,A[L+4>>2]=N,L=0|yi(0|E,0|I,10,0),U=0|V(),A[(H=B+16|0)>>2]=L,A[H+4>>2]=U,A[(H=B+24|0)>>2]=P,A[H+4>>2]=N,H=0|yi(0|v,0|C,-10,-1),v=0|V(),A[(C=B+32|0)>>2]=L,A[C+4>>2]=U,A[(C=B+40|0)>>2]=H,A[C+4>>2]=v,A[(C=B+48|0)>>2]=O,A[C+4>>2]=Y,A[(C=B+56|0)>>2]=H,A[C+4>>2]=v,$t(p,o,0,1),r[J>>0]=1,ne(p,1,e,3,3),C=e=0|A[e>>2],v=J=0|A[j>>2],(0|J)!=(0|e)){if((0|(I=C+12|0))!=(0|v)){do{(B=0|A[C>>2])?(A[(E=C+4|0)>>2]=B,ni(B),A[(B=C+8|0)>>2]=0,A[E>>2]=0,A[C>>2]=0):(B=C+8|0,E=C+4|0),A[C>>2]=A[I>>2],A[E>>2]=A[(e=I+4|0)>>2],A[B>>2]=A[(J=I+8|0)>>2],A[J>>2]=0,A[e>>2]=0,A[I>>2]=0,I=I+12|0,C=C+12|0}while((0|I)!=(0|v));(0|(v=0|A[j>>2]))!=(0|C)&&(K=32)}else K=32;if(32==(0|K))do{I=v,0|(B=0|A[(v=v+-12|0)>>2])&&(A[I+-8>>2]=B,ni(B))}while((0|v)!=(0|C));A[j>>2]=C,0|(C=0|A[o>>2])&&(v=C,K=37)}else v=B,C=B,K=37;37==(0|K)&&(A[S>>2]=v,ni(C))}if(A[p>>2]=4060,v=p+112|0,0|A[n>>2]&&(A[4+(j=0|A[(q=0|A[s>>2])>>2])>>2]=A[(K=4+(0|A[v>>2])|0)>>2],A[A[K>>2]>>2]=j,A[n>>2]=0,(0|q)!=(0|v))){C=q;do{q=C,C=0|A[C+4>>2],ni(q)}while((0|C)!=(0|v))}if(0|(C=0|A[p+96>>2])&&(A[p+100>>2]=C,ni(C)),0|(C=0|A[p+84>>2])&&(A[p+88>>2]=C,ni(C)),0|(C=0|A[a>>2])&&(A[p+76>>2]=C,ni(C)),A[p>>2]=4032,A[(t=p+12|0)>>2]=E=0|A[p+8>>2],A[l>>2]=E,(0|(C=0|A[d>>2]))!=(0|(v=0|A[(E=p+24|0)>>2]))){B=0;do{(I=0|A[v+(B<<2)>>2])&&(ri(I),v=0|A[E>>2],C=0|A[d>>2]),B=B+1|0}while(B>>>0<C-v>>2>>>0);C=v}A[d>>2]=C,r[u>>0]=0,r[h>>0]=0,0|(C=0|A[c>>2])&&(A[m>>2]=C,ni(C)),0|(C=0|A[f>>2])&&(A[g>>2]=C,ni(C)),0|(C=0|A[_>>2])&&(A[d>>2]=C,ni(C)),(C=0|A[p+8>>2])?(A[t>>2]=C,ni(C),mt=y):mt=y},function(t,e,i){t|=0,i=+i;var n,s,o,a,l,u,h,c,f,m,_,g,d,p,y,C,v,I,B,E,w,b=0,x=0,S=0,Q=0,k=0,D=0,M=0,R=0,T=0,G=0,F=0,P=0,N=0,L=0,U=0,O=0,Y=0,H=0,J=0,j=0,K=0,q=0,z=0,X=0,W=0,Z=0,$=0,tt=0,et=0,it=0;if(w=mt,mt=mt+176|0,l=w+168|0,E=w+24|0,X=w,u=w+8|0,(0|(S=0|A[(o=52+(e|=0)|0)>>2]))!=(0|(x=0|A[(s=e+48|0)>>2]))){k=0,Q=S;do{(S=0|A[x+(k<<2)>>2])&&(rn[63&A[4+(0|A[S>>2])>>2]](S),x=0|A[s>>2],Q=0|A[o>>2]),k=k+1|0,S=Q-x|0}while(k>>>0<S>>2>>>0);0|S&&(A[o>>2]=x)}(0|A[(h=e+20|0)>>2])!=(0|(x=0|A[(a=e+16|0)>>2]))&&(A[h>>2]=x),It(t),Bt(t,i),A[(v=E+24|0)>>2]=0,A[(B=E+28|0)>>2]=0,A[E+32>>2]=0,A[(y=E+40|0)>>2]=0,A[(I=E+44|0)>>2]=0,A[E+48>>2]=0,A[(p=E+56|0)>>2]=0,A[(C=E+60|0)>>2]=0,A[E+64>>2]=0,A[(_=E+4|0)>>2]=0,A[_+4>>2]=0,A[_+8>>2]=0,A[_+12>>2]=0,A[E>>2]=4060,Q=E+112|0,S=36+(x=m=E+72|0)|0;do{A[x>>2]=0,x=x+4|0}while((0|x)<(0|S));A[Q>>2]=Q,A[(f=E+116|0)>>2]=Q,A[(c=E+120|0)>>2]=0,r[E+128>>0]=0,r[(g=E+20|0)>>0]=0,r[(n=E+140|0)>>0]=0,r[E+142>>0]=0,r[E+36>>0]=0,r[(d=E+37|0)>>0]=0,k=t+20|0,x=0|A[(D=t+16|0)>>2];t:do{if((0|A[k>>2])!=(0|x))for(S=0,Q=4060;;){if($i[7&A[Q+8>>2]](E,x+(12*S|0)|0,0,1),(S=S+1|0)>>>0>=(((0|A[k>>2])-(x=0|A[D>>2])|0)/12|0)>>>0)break t;Q=0|A[E>>2]}}while(0);if(i>0)re(E,1,e,2,2);else{x=0|A[E+8>>2],z=0|A[E+12>>2];t:do{if((0|x)==(0|z))A[(R=X)>>2]=0,A[R+4>>2]=0,R=0,M=0,t=0,D=0,k=0,Q=0,S=0,x=0;else for(k=0|A[(Q=q=0|A[x+8>>2])>>2],Q=0|A[Q+4>>2],A[(j=X)>>2]=k,A[j+4>>2]=Q,K=t=0|A[(j=q+8|0)>>2],R=k,M=Q,S=t,T=j=0|A[j+4>>2],D=j;;){for(J=(0|D)<(0|j)|(0|D)==(0|j)&t>>>0<K>>>0,H=x+12|0,Y=q,O=T;;){if(T=0|A[(F=Y)>>2],G=(0|(F=0|A[F+4>>2]))<(0|M)|(0|F)==(0|M)&T>>>0<R>>>0,P=0|A[Y+88>>2]){for(U=R,L=M,N=R,R=M;U=G?T:U,L=G?F:L,N=G?T:N,R=G?F:R,k=(M=(0|F)>(0|Q)|(0|F)==(0|Q)&T>>>0>k>>>0)?T:k,Q=M?F:Q,G=(0|(F=0|A[(it=P)+4>>2]))<(0|R)|(0|F)==(0|R)&(T=0|A[it>>2])>>>0<N>>>0,M=0|A[P+88>>2];)P=M;A[(T=X)>>2]=U,A[T+4>>2]=L,T=P,R=G,M=P}else T=Y,R=G,M=Y;if(R=0|A[(it=R?M:X)>>2],it=0|A[it+4>>2],A[(G=X)>>2]=R,A[G+4>>2]=it,L=0|A[(G=M)>>2],k=(U=(0|Q)<(0|(G=0|A[G+4>>2]))|(0|Q)==(0|G)&k>>>0<L>>>0)?L:k,G=U?G:Q,L=0|A[(U=T+32|0)>>2],R=(M=(0|(U=0|A[U+4>>2]))<(0|it)|(0|U)==(0|it)&L>>>0<R>>>0)?L:R,M=M?U:it,A[(it=X)>>2]=R,A[it+4>>2]=M,k=(it=(0|G)<(0|U)|(0|G)==(0|U)&k>>>0<L>>>0)?L:k,G=it?U:G,U=0|A[(T=T+40|0)>>2],S=(it=(0|(T=0|A[T+4>>2]))<(0|O)|(0|T)==(0|O)&U>>>0<S>>>0)?U:S,T=it?T:O,(0|Y)!=(0|q))break;Y=0|A[H>>2],O=T,Q=G}if(t=J?K:t,D=J?j:D,(0|(Q=x+16|0))==(0|z)){Q=G,x=T;break t}q=0|A[x+24>>2],x=Q,K=0|A[(j=q+8|0)>>2],Q=G,j=0|A[j+4>>2]}}while(0);if(A[u>>2]=0,A[(G=u+4|0)>>2]=0,A[(z=u+8|0)>>2]=0,T=0|ei(64),A[u>>2]=T,A[z>>2]=q=T+64|0,A[G>>2]=q,q=0|yi(0|R,0|M,-10,-1),z=0|V(),J=0|yi(0|t,0|D,10,0),it=0|V(),A[(j=T)>>2]=q,A[j+4>>2]=z,A[(j=T+8|0)>>2]=J,A[j+4>>2]=it,j=0|yi(0|k,0|Q,10,0),K=0|V(),A[(X=T+16|0)>>2]=j,A[X+4>>2]=K,A[(X=T+24|0)>>2]=J,A[X+4>>2]=it,X=0|yi(0|S,0|x,-10,-1),it=0|V(),A[(x=T+32|0)>>2]=j,A[x+4>>2]=K,A[(x=T+40|0)>>2]=X,A[x+4>>2]=it,A[(x=T+48|0)>>2]=q,A[x+4>>2]=z,A[(x=T+56|0)>>2]=X,A[x+4>>2]=it,$t(E,u,0,1),r[n>>0]=1,re(E,1,e,3,3),4==((0|A[h>>2])-(x=0|A[a>>2])|0)&&(0|(W=(0|A[(tt=20+(Z=0|A[x>>2])|0)>>2])-(0|A[($=Z+16|0)>>2])|0))>0)if(pt(a,W>>>2),A[A[a>>2]>>2]=A[A[$>>2]>>2],A[28+(0|A[(k=0|A[a>>2])>>2])>>2]=A[Z+28>>2],((0|A[tt>>2])-(S=0|A[$>>2])|0)>4){for(D=e+24|0,x=1;Q=0|A[h>>2],A[l>>2]=S=0|A[S+(x<<2)>>2],(0|A[D>>2])>>>0>Q>>>0?(A[Q>>2]=S,A[h>>2]=4+(0|A[h>>2])):Gt(a,l),A[S+28>>2]=e,A[S+32>>2]=Q-k>>2,!((0|(x=x+1|0))>=((0|A[tt>>2])-(S=0|A[$>>2])>>2|0));)k=0|A[a>>2];0|(x=0|A[u>>2])&&(S=x,et=47)}else S=T,x=T,et=47;else{if((0|(S=0|A[o>>2]))!=(0|(x=0|A[s>>2]))){k=0;do{(Q=0|A[x+(k<<2)>>2])&&(rn[63&A[4+(0|A[Q>>2])>>2]](Q),x=0|A[s>>2],S=0|A[o>>2]),k=k+1|0,Q=S-x|0}while(k>>>0<Q>>2>>>0);0|Q&&(A[o>>2]=x)}(0|A[h>>2])==(0|(x=0|A[a>>2]))?(S=T,x=T,et=47):(A[h>>2]=x,S=T,x=T,et=47)}47==(0|et)&&(A[G>>2]=S,ni(x))}if(A[E>>2]=4060,x=E+112|0,0|A[c>>2]&&(A[4+(et=0|A[(b=0|A[f>>2])>>2])>>2]=A[(it=4+(0|A[x>>2])|0)>>2],A[A[it>>2]>>2]=et,A[c>>2]=0,(0|b)!=(0|x)))do{it=b,b=0|A[b+4>>2],ni(it)}while((0|b)!=(0|x));if(0|(b=0|A[E+96>>2])&&(A[E+100>>2]=b,ni(b)),0|(b=0|A[E+84>>2])&&(A[E+88>>2]=b,ni(b)),0|(b=0|A[m>>2])&&(A[E+76>>2]=b,ni(b)),A[E>>2]=4032,A[(D=E+12|0)>>2]=k=0|A[E+8>>2],A[_>>2]=k,(0|(b=0|A[B>>2]))!=(0|(x=0|A[(k=E+24|0)>>2]))){Q=0;do{(S=0|A[x+(Q<<2)>>2])&&(ri(S),x=0|A[k>>2],b=0|A[B>>2]),Q=Q+1|0}while(Q>>>0<b-x>>2>>>0);b=x}A[B>>2]=b,r[g>>0]=0,r[d>>0]=0,0|(b=0|A[p>>2])&&(A[C>>2]=b,ni(b)),0|(b=0|A[y>>2])&&(A[I>>2]=b,ni(b)),0|(b=0|A[v>>2])&&(A[B>>2]=b,ni(b)),(b=0|A[E+8>>2])?(A[D>>2]=b,ni(b),mt=w):mt=w},function(t,e,i){_[(e|=0)+(0|A[(t|=0)>>2])>>3]=i=+i},Oi,Oi,Oi,Oi,Oi,Oi],ln=[Yi,function(t,e,i){an[31&(t|=0)](e|=0,i|=0)},function(t,e,i){an[31&(t|=0)](e|=0,i|=0)},function(t,e,i){(0|(t=(e|=0)+(0|A[(t|=0)>>2])|0))!=(0|(i|=0))&&Ie(t,0|A[i>>2],0|A[i+4>>2])},function(t,e,i){(0|(t=(e|=0)+(0|A[(t|=0)>>2])|0))!=(0|(i|=0))&&function(t,e,i){var n,r,s,o,a=0,l=0,u=0,h=0;if(s=h=0|A[(t|=0)>>2],(l=(u=(o=i|=0)-(n=e|=0)|0)>>2)>>>0<=(a=0|A[(r=t+8|0)>>2])-h>>2>>>0){if(0|(a=(i=t=(l=l>>>0>(t=(0|A[(u=t+4|0)>>2])-h>>2)>>>0)?e+(t<<2)|0:i)-n|0)&&xi(0|h,0|e,0|a),!l)return void(A[u>>2]=s+(a>>2<<2));if((0|(a=o-i|0))<=0)return;return bi(0|A[u>>2],0|t,0|a),void(A[u>>2]=(0|A[u>>2])+(a>>>2<<2))}h&&(A[(a=t+4|0)>>2]=h,ni(h),A[r>>2]=0,A[a>>2]=0,A[t>>2]=0,a=0),l>>>0>1073741823&&oi(),h=a>>1,(l=a>>2>>>0<536870911?h>>>0<l>>>0?l:h:1073741823)>>>0>1073741823&&oi(),a=0|ei(l<<2),A[(i=t+4|0)>>2]=a,A[t>>2]=a,A[r>>2]=a+(l<<2),(0|u)<=0||(bi(0|a,0|e,0|u),A[i>>2]=a+(u>>>2<<2))}(t,0|A[i>>2],0|A[i+4>>2])},function(t,e,i){t|=0,e|=0,i|=0;var n,s,o,a,l,u,h,c,f,m,_,g,d=0,p=0,y=0,C=0,v=0;g=mt,mt=mt+144|0,A[(c=(m=g)+24|0)>>2]=0,A[(_=m+28|0)>>2]=0,A[m+32>>2]=0,A[(h=m+40|0)>>2]=0,A[(f=m+44|0)>>2]=0,A[m+48>>2]=0,A[(l=m+56|0)>>2]=0,A[(u=m+60|0)>>2]=0,A[m+64>>2]=0,A[(s=m+4|0)>>2]=0,A[s+4>>2]=0,A[s+8>>2]=0,A[s+12>>2]=0,A[m>>2]=4060,C=m+112|0,y=36+(p=n=m+72|0)|0;do{A[p>>2]=0,p=p+4|0}while((0|p)<(0|y));if(A[C>>2]=C,A[(v=m+116|0)>>2]=C,A[(y=m+120|0)>>2]=0,r[m+128>>0]=0,r[(o=m+20|0)>>0]=0,r[m+140>>0]=0,r[m+36>>0]=0,r[(a=m+37|0)>>0]=0,r[m+142>>0]=1,$t(m,t,0,1),ne(m,1,e,i,i),A[m>>2]=4060,p=m+112|0,0|A[y>>2]&&(A[4+(e=0|A[(d=0|A[v>>2])>>2])>>2]=A[(i=4+(0|A[p>>2])|0)>>2],A[A[i>>2]>>2]=e,A[y>>2]=0,(0|d)!=(0|p)))do{i=d,d=0|A[d+4>>2],ni(i)}while((0|d)!=(0|p));if(0|(d=0|A[m+96>>2])&&(A[m+100>>2]=d,ni(d)),0|(d=0|A[m+84>>2])&&(A[m+88>>2]=d,ni(d)),0|(d=0|A[n>>2])&&(A[m+76>>2]=d,ni(d)),A[m>>2]=4032,A[(t=m+12|0)>>2]=v=0|A[m+8>>2],A[s>>2]=v,(0|(d=0|A[_>>2]))!=(0|(p=0|A[(v=m+24|0)>>2]))){C=0;do{(y=0|A[p+(C<<2)>>2])&&(ri(y),p=0|A[v>>2],d=0|A[_>>2]),C=C+1|0}while(C>>>0<d-p>>2>>>0);d=p}A[_>>2]=d,r[o>>0]=0,r[a>>0]=0,0|(d=0|A[l>>2])&&(A[u>>2]=d,ni(d)),0|(d=0|A[h>>2])&&(A[f>>2]=d,ni(d)),0|(d=0|A[c>>2])&&(A[_>>2]=d,ni(d)),(d=0|A[m+8>>2])?(A[t>>2]=d,ni(d),mt=g):mt=g},St,function(t,e,i){an[31&(t|=0)](e|=0,i|=0)},function(t,e,i){var n,s,o,a,l,u,h,c,f,m,_,g,d=0,p=0,y=0,C=0,v=0;g=mt,mt=mt+144|0,_=g,Mt(t|=0,e|=0,i|=0,0,1),A[(c=_+24|0)>>2]=0,A[(m=_+28|0)>>2]=0,A[_+32>>2]=0,A[(h=_+40|0)>>2]=0,A[(f=_+44|0)>>2]=0,A[_+48>>2]=0,A[(l=_+56|0)>>2]=0,A[(u=_+60|0)>>2]=0,A[_+64>>2]=0,A[(s=_+4|0)>>2]=0,A[s+4>>2]=0,A[s+8>>2]=0,A[s+12>>2]=0,A[_>>2]=4060,d=_+112|0,e=36+(t=n=_+72|0)|0;do{A[t>>2]=0,t=t+4|0}while((0|t)<(0|e));A[d>>2]=d,A[(C=_+116|0)>>2]=d,A[(y=_+120|0)>>2]=0,r[_+128>>0]=0,r[(o=_+20|0)>>0]=0,r[_+140>>0]=0,r[_+142>>0]=0,r[_+36>>0]=0,r[(a=_+37|0)>>0]=0,p=i+4|0,t=0|A[i>>2];t:do{if((0|A[p>>2])!=(0|t))for(e=0,d=4060;;){if($i[7&A[d+8>>2]](_,t+(12*e|0)|0,0,1),(e=e+1|0)>>>0>=(((0|A[p>>2])-(t=0|A[i>>2])|0)/12|0)>>>0)break t;d=0|A[_>>2]}}while(0);if(ne(_,1,i,1,1),A[_>>2]=4060,e=_+112|0,0|A[y>>2]&&(A[4+(C=0|A[(v=0|A[C>>2])>>2])>>2]=A[(i=4+(0|A[e>>2])|0)>>2],A[A[i>>2]>>2]=C,A[y>>2]=0,(0|v)!=(0|e))){t=v;do{v=t,t=0|A[t+4>>2],ni(v)}while((0|t)!=(0|e))}if(0|(t=0|A[_+96>>2])&&(A[_+100>>2]=t,ni(t)),0|(t=0|A[_+84>>2])&&(A[_+88>>2]=t,ni(t)),0|(t=0|A[n>>2])&&(A[_+76>>2]=t,ni(t)),A[_>>2]=4032,A[(C=_+12|0)>>2]=y=0|A[_+8>>2],A[s>>2]=y,(0|(t=0|A[m>>2]))!=(0|(e=0|A[(y=_+24|0)>>2]))){p=0;do{(d=0|A[e+(p<<2)>>2])&&(ri(d),e=0|A[y>>2],t=0|A[m>>2]),p=p+1|0}while(p>>>0<t-e>>2>>>0);t=e}A[m>>2]=t,r[o>>0]=0,r[a>>0]=0,0|(t=0|A[l>>2])&&(A[u>>2]=t,ni(t)),0|(t=0|A[h>>2])&&(A[f>>2]=t,ni(t)),0|(t=0|A[c>>2])&&(A[m>>2]=t,ni(t)),(t=0|A[_+8>>2])?(A[C>>2]=t,ni(t),mt=g):mt=g},function(t,e,i){an[31&(t|=0)](e|=0,i|=0)},function(t,e,i){an[31&(t|=0)](e|=0,i|=0)},function(t,e,i){i|=0;var n,r=0;return n=0|A[(t|=0)>>2],t=(e|=0)+((r=0|A[t+4>>2])>>1)|0,1&r?void an[31&(r=0|A[(0|A[t>>2])+n>>2])](t,i):void an[31&(r=n)](t,i)},function(t,e,i){i|=0;var n,r=0;return n=0|A[(t|=0)>>2],t=(e|=0)+((r=0|A[t+4>>2])>>1)|0,1&r?void an[31&(r=0|A[(0|A[t>>2])+n>>2])](t,i):void an[31&(r=n)](t,i)},function(t,e,i){i|=0;var n,r=0;return n=0|A[(t|=0)>>2],t=(e|=0)+((r=0|A[t+4>>2])>>1)|0,1&r?void an[31&(r=0|A[(0|A[t>>2])+n>>2])](t,i):void an[31&(r=n)](t,i)},function(t,e,i){var n,r,s;(s=(0|A[(n=4+(t|=0)|0)>>2])-(r=0|A[t>>2])>>4)>>>0<(e|=0)>>>0?function(t,e,i){i|=0;var n,r,s=0,o=0,a=0,l=0,u=0,h=0;if((a=0|A[(r=8+(t|=0)|0)>>2])-(s=0|A[(h=t+4|0)>>2])>>4>>>0>=(e|=0)>>>0)do{A[s>>2]=A[i>>2],A[s+4>>2]=A[i+4>>2],A[s+8>>2]=A[i+8>>2],A[s+12>>2]=A[i+12>>2],A[h>>2]=s=16+(0|A[h>>2])|0,e=e+-1|0}while(0!=(0|e));else{(n=(l=s-(o=0|A[t>>2])>>4)+e|0)>>>0>268435455&&oi(),s=(u=a-o|0)>>3,s=u>>4>>>0<134217727?s>>>0<n>>>0?n:s:268435455;do{if(s){if(!(s>>>0>268435455)){u=0|ei(s<<4);break}si(h=0|G(8),6334),A[h>>2]=4968,F(0|h,3800,18)}else u=0}while(0);for(a=u+(l<<4)|0,l=u+(s<<4)|0,s=a;A[s>>2]=A[i>>2],A[s+4>>2]=A[i+4>>2],A[s+8>>2]=A[i+8>>2],A[s+12>>2]=A[i+12>>2],e=e+-1|0;)s=s+16|0;s=a+(0-((o=(0|A[h>>2])-(e=0|A[t>>2])|0)>>4)<<4)|0,(0|o)>0&&bi(0|s,0|e,0|o),A[t>>2]=s,A[h>>2]=u+(n<<4),A[r>>2]=l,e&&ni(e)}}(t,e-s|0,i|=0):s>>>0<=e>>>0||(A[n>>2]=r+(e<<4))},function(t,e,i){t|=0;var n,r,s=0;if(r=mt,mt=mt+16|0,n=r,(0|A[4+(e|=0)>>2])-(s=0|A[e>>2])>>4>>>0<=(i|=0)>>>0)return A[t>>2]=s=1,void(mt=r);i=s+(i<<4)|0,s=0|ei(16),A[s>>2]=A[i>>2],A[s+4>>2]=A[i+4>>2],A[s+8>>2]=A[i+8>>2],A[s+12>>2]=A[i+12>>2],A[n>>2]=s,s=0|st(3120,0|n),A[t>>2]=s,mt=r},function(t,e,i){i|=0;var n,r=0;return n=0|A[(t|=0)>>2],t=(e|=0)+((r=0|A[t+4>>2])>>1)|0,1&r?void an[31&(r=0|A[(0|A[t>>2])+n>>2])](t,i):void an[31&(r=n)](t,i)},function(t,e,i){i|=0;var n,r,s,o=0;if((r=((o=0|A[(s=4+(t|=0)|0)>>2])-(n=0|A[t>>2])|0)/12|0)>>>0<(e|=0)>>>0)!function(t,e,i){i|=0;var n,r,s=0,o=0,a=0,l=0,u=0,h=0,c=0,f=0,m=0,_=0,g=0,d=0,p=0,y=0;if((((_=0|A[(r=8+(t|=0)|0)>>2])-(m=0|A[(y=t+4|0)>>2])|0)/12|0)>>>0>=(e|=0)>>>0){for(f=i+4|0,c=e,s=m;;){if(A[s>>2]=0,A[(h=s+4|0)>>2]=0,A[(a=s+8|0)>>2]=0,l=(o=(0|A[f>>2])-(0|A[i>>2])|0)>>4,0|o){if(l>>>0>268435455){d=5;break}u=0|ei(o),A[h>>2]=u,A[s>>2]=u,A[a>>2]=u+(l<<4),(0|(o=(0|A[f>>2])-(s=0|A[i>>2])|0))>0&&(bi(0|u,0|s,0|o),A[h>>2]=u+(o>>>4<<4))}if(A[y>>2]=s=12+(0|A[y>>2])|0,!(c=c+-1|0)){d=34;break}}if(5==(0|d))oi();else if(34==(0|d))return}(s=(l=(m-(o=0|A[t>>2])|0)/12|0)+e|0)>>>0>357913941&&oi(),a=(g=(_-o|0)/12|0)<<1,a=g>>>0<178956970?a>>>0<s>>>0?s:a:357913941;do{if(a){if(!(a>>>0>357913941)){o=0|ei(12*a|0);break}si(y=0|G(8),6334),A[y>>2]=4968,F(0|y,3800,18)}else o=0}while(0);for(g=o+(12*a|0)|0,_=i+4|0,c=e,f=n=s=o+(12*l|0)|0,a=s;;){if(A[a>>2]=0,A[(m=a+4|0)>>2]=0,A[(l=a+8|0)>>2]=0,u=(o=(0|A[_>>2])-(0|A[i>>2])|0)>>4,0|o){if(u>>>0>268435455){d=18;break}h=0|ei(o),A[m>>2]=h,A[a>>2]=h,A[l>>2]=h+(u<<4),(0|(a=(0|A[_>>2])-(o=0|A[i>>2])|0))>0&&(bi(0|h,0|o,0|a),A[m>>2]=h+(a>>>4<<4))}if(p=f+12|0,!(c=c+-1|0))break;f=p,a=p}if(18==(0|d)&&oi(),l=p,(0|(o=0|A[y>>2]))==(0|(a=0|A[t>>2])))o=n,u=a,s=a;else{do{d=s,p=o,o=o+-12|0,A[(s=s+-12|0)>>2]=0,A[(e=d+-8|0)>>2]=0,A[(d=d+-4|0)>>2]=0,A[s>>2]=A[o>>2],A[e>>2]=A[(i=p+-8|0)>>2],A[d>>2]=A[(p=p+-4|0)>>2],A[p>>2]=0,A[i>>2]=0,A[o>>2]=0}while((0|o)!=(0|a));o=s,u=0|A[t>>2],s=0|A[y>>2]}if(A[t>>2]=o,A[y>>2]=l,A[r>>2]=g,(0|s)!=(0|(l=u)))do{o=s,0|(a=0|A[(s=s+-12|0)>>2])&&(A[o+-8>>2]=a,ni(a))}while((0|s)!=(0|l));u&&ni(u)}(t,e-r|0,i);else if(!(r>>>0<=e>>>0)){if((0|(i=n+(12*e|0)|0))!=(0|o))do{t=o,0|(e=0|A[(o=o+-12|0)>>2])&&(A[t+-8>>2]=e,ni(e))}while((0|o)!=(0|i));A[s>>2]=i}},function(t,e,i){t|=0;var n,r,s=0;if(r=mt,mt=mt+16|0,n=r,(((0|A[4+(e|=0)>>2])-(s=0|A[e>>2])|0)/12|0)>>>0<=(i|=0)>>>0)return A[t>>2]=s=1,void(mt=r);!function(t,e){var i,n,r,s,o,a;t|=0,e|=0,r=0|ei(12),A[r>>2]=0,A[(s=r+4|0)>>2]=0,A[(o=r+8|0)>>2]=0,n=(i=(0|A[e+4>>2])-(a=0|A[e>>2])|0)>>4,i?(n>>>0>268435455&&oi(),e=0|ei(i),A[s>>2]=e,A[r>>2]=e,A[o>>2]=e+(n<<4),(0|i)<=0?A[t>>2]=r:(bi(0|e,0|a,0|i),A[s>>2]=e+(i>>>4<<4),A[t>>2]=r)):A[t>>2]=r}(n,s+(12*i|0)|0),s=0|st(3016,0|n),A[t>>2]=s,mt=r},function(t,e,i){var n,r,s,o=0;r=mt,mt=mt+16|0,o=0|A[(t|=0)>>2],t=(e|=0)+((s=0|A[t+4>>2])>>1)|0,1&s&&(o=0|A[(0|A[t>>2])+o>>2]),A[(n=r)>>2]=i|=0,an[31&o](t,n),mt=r},function(t,e,i){var n,r,s;(s=(0|A[(n=4+(t|=0)|0)>>2])-(r=0|A[t>>2])>>2)>>>0<(e|=0)>>>0?function(t,e,i){i|=0;var n,r,s=0,o=0,a=0,l=0,u=0,h=0;if((a=0|A[(r=8+(t|=0)|0)>>2])-(s=0|A[(h=t+4|0)>>2])>>2>>>0>=(e|=0)>>>0)do{A[s>>2]=A[i>>2],A[h>>2]=s=4+(0|A[h>>2])|0,e=e+-1|0}while(0!=(0|e));else{(n=(l=s-(o=0|A[t>>2])>>2)+e|0)>>>0>1073741823&&oi(),s=(u=a-o|0)>>1,s=u>>2>>>0<536870911?s>>>0<n>>>0?n:s:1073741823;do{if(s){if(!(s>>>0>1073741823)){u=0|ei(s<<2);break}si(h=0|G(8),6334),A[h>>2]=4968,F(0|h,3800,18)}else u=0}while(0);for(a=u+(l<<2)|0,l=u+(s<<2)|0,s=a;A[s>>2]=A[i>>2],e=e+-1|0;)s=s+4|0;s=a+(0-((o=(0|A[h>>2])-(e=0|A[t>>2])|0)>>2)<<2)|0,(0|o)>0&&bi(0|s,0|e,0|o),A[t>>2]=s,A[h>>2]=u+(n<<2),A[r>>2]=l,e&&ni(e)}}(t,e-s|0,i|=0):s>>>0<=e>>>0||(A[n>>2]=r+(e<<2))},function(t,e,i){t|=0;var n,r,s=0;if(r=mt,mt=mt+16|0,n=r,(0|A[4+(e|=0)>>2])-(s=0|A[e>>2])>>2>>>0<=(i|=0)>>>0)return A[t>>2]=s=1,void(mt=r);A[n>>2]=A[s+(i<<2)>>2],s=0|st(3248,0|n),A[t>>2]=s,mt=r},Yi,Yi,Yi,Yi,Yi,Yi,Yi,Yi,Yi,Yi],un=[Hi,function(t,e,i,n){An[15&(t|=0)](e|=0,i|=0,n=+n)},function(t,e,i,n){An[15&(t|=0)](e|=0,i|=0,n=+n)},function(t,e,i,n){i|=0,n=+n;var r,s=0;return r=0|A[(t|=0)>>2],t=(e|=0)+((s=0|A[t+4>>2])>>1)|0,1&s?void An[15&(s=0|A[(0|A[t>>2])+r>>2])](t,i,n):void An[15&(s=r)](t,i,n)},function(t,e,i,n){i|=0,n=+n;var r,s=0;return r=0|A[(t|=0)>>2],t=(e|=0)+((s=0|A[t+4>>2])>>1)|0,1&s?void An[15&(s=0|A[(0|A[t>>2])+r>>2])](t,i,n):void An[15&(s=r)](t,i,n)},Hi,Hi,Hi],hn=[Ji,function(t,e,i,n){i|=0,n|=0,0|Ai(t|=0,0|A[8+(e|=0)>>2])&&li(0,e,i,n)},function(t,e,i,n){i|=0,n|=0,0|Ai(t|=0,0|A[8+(e|=0)>>2])?li(0,e,i,n):hn[15&A[28+(0|A[(t=0|A[t+8>>2])>>2])>>2]](t,e,i,n)},function(t,e,i,n){t|=0,e|=0,i|=0,n|=0;var s=0,o=0;t:do{if(0|Ai(t,0|A[e+8>>2]))li(0,e,i,n);else if(s=t+16+((o=0|A[t+12>>2])<<3)|0,mi(t+16|0,e,i,n),(0|o)>1){o=e+54|0,t=t+24|0;do{if(mi(t,e,i,n),0|r[o>>0])break t;t=t+8|0}while(t>>>0<s>>>0)}}while(0)},function(t,e,i,n){ln[31&(t|=0)](e|=0,i|=0,n|=0)},function(t,e,i,n){ln[31&(t|=0)](e|=0,i|=0,n|=0)},function(t,e,i,n){var s,o,a,l,u,h,c,f,m,_,g,d,p=0,y=0,C=0,v=0;d=mt,mt=mt+144|0,g=d,Mt(t|=0,e|=0,i|=0,1,n|=0),A[(f=g+24|0)>>2]=0,A[(_=g+28|0)>>2]=0,A[g+32>>2]=0,A[(c=g+40|0)>>2]=0,A[(m=g+44|0)>>2]=0,A[g+48>>2]=0,A[(u=g+56|0)>>2]=0,A[(h=g+60|0)>>2]=0,A[g+64>>2]=0,A[(o=g+4|0)>>2]=0,A[o+4>>2]=0,A[o+8>>2]=0,A[o+12>>2]=0,A[g>>2]=4060,n=g+112|0,e=36+(t=s=g+72|0)|0;do{A[t>>2]=0,t=t+4|0}while((0|t)<(0|e));A[n>>2]=n,A[(C=g+116|0)>>2]=n,A[(y=g+120|0)>>2]=0,r[g+128>>0]=0,r[(a=g+20|0)>>0]=0,r[g+140>>0]=0,r[g+142>>0]=0,r[g+36>>0]=0,r[(l=g+37|0)>>0]=0,p=i+4|0,t=0|A[i>>2];t:do{if((0|A[p>>2])!=(0|t))for(e=0,n=4060;;){if($i[7&A[n+8>>2]](g,t+(12*e|0)|0,0,1),(e=e+1|0)>>>0>=(((0|A[p>>2])-(t=0|A[i>>2])|0)/12|0)>>>0)break t;n=0|A[g>>2]}}while(0);if(ne(g,1,i,1,1),A[g>>2]=4060,e=g+112|0,0|A[y>>2]&&(A[4+(C=0|A[(v=0|A[C>>2])>>2])>>2]=A[(i=4+(0|A[e>>2])|0)>>2],A[A[i>>2]>>2]=C,A[y>>2]=0,(0|v)!=(0|e))){t=v;do{v=t,t=0|A[t+4>>2],ni(v)}while((0|t)!=(0|e))}if(0|(t=0|A[g+96>>2])&&(A[g+100>>2]=t,ni(t)),0|(t=0|A[g+84>>2])&&(A[g+88>>2]=t,ni(t)),0|(t=0|A[s>>2])&&(A[g+76>>2]=t,ni(t)),A[g>>2]=4032,A[(C=g+12|0)>>2]=y=0|A[g+8>>2],A[o>>2]=y,(0|(t=0|A[_>>2]))!=(0|(e=0|A[(y=g+24|0)>>2]))){p=0;do{(n=0|A[e+(p<<2)>>2])&&(ri(n),e=0|A[y>>2],t=0|A[_>>2]),p=p+1|0}while(p>>>0<t-e>>2>>>0);t=e}A[_>>2]=t,r[a>>0]=0,r[l>>0]=0,0|(t=0|A[u>>2])&&(A[h>>2]=t,ni(t)),0|(t=0|A[c>>2])&&(A[m>>2]=t,ni(t)),0|(t=0|A[f>>2])&&(A[_>>2]=t,ni(t)),(t=0|A[g+8>>2])?(A[C>>2]=t,ni(t),mt=d):mt=d},function(t,e,i,n){t|=0,e|=0,i|=0,n|=0;var s,o,a,l,u,h,c,f,m,_,g,d,p,y,C,v,I,B=0,E=0,w=0,b=0,x=0,S=0,Q=0,k=0,D=0,M=0,R=0,T=0,G=0,F=0,P=0,N=0,L=0,U=0,O=0,Y=0;I=mt,mt=mt+176|0,l=I+12|0,u=I,A[(y=24+(C=I+24|0)|0)>>2]=0,A[(v=C+28|0)>>2]=0,A[C+32>>2]=0,A[(g=C+40|0)>>2]=0,A[(p=C+44|0)>>2]=0,A[C+48>>2]=0,A[(_=C+56|0)>>2]=0,A[(d=C+60|0)>>2]=0,A[C+64>>2]=0,A[(c=C+4|0)>>2]=0,A[c+4>>2]=0,A[c+8>>2]=0,A[c+12>>2]=0,A[C>>2]=4060,b=C+112|0,w=36+(E=h=C+72|0)|0;do{A[E>>2]=0,E=E+4|0}while((0|E)<(0|w));if(A[b>>2]=b,A[(a=C+116|0)>>2]=b,A[(o=C+120|0)>>2]=0,r[C+128>>0]=0,r[(f=C+20|0)>>0]=0,r[C+140>>0]=0,r[C+142>>0]=0,r[C+36>>0]=0,r[(m=C+37|0)>>0]=0,(0|A[(s=e+4|0)>>2])!=(0|(E=0|A[e>>2]))){T=l+4|0,G=l+8|0,F=u+4|0,P=u+8|0,R=0;do{if(A[l>>2]=0,A[T>>2]=0,A[G>>2]=0,Mt(t,E+(12*R|0)|0,l,1,n),(0|A[T>>2])!=(0|(E=0|A[l>>2]))){w=0;do{$i[7&A[8+(0|A[C>>2])>>2]](C,E+(12*w|0)|0,0,1),w=w+1|0,E=0|A[l>>2]}while(w>>>0<(((0|A[T>>2])-E|0)/12|0)>>>0)}if(n){if(A[u>>2]=0,A[F>>2]=0,A[P>>2]=0,x=(M=0|A[e>>2])+(12*R|0)|0,S=0|A[(Q=D=0|A[t>>2])>>2],Q=0|A[Q+4>>2],k=0|A[(D=D+8|0)>>2],D=0|A[D+4>>2],(b=(w=0|A[(M=M+(12*R|0)+4|0)>>2])-(E=0|A[x>>2])|0)&&(we(u,b>>4),E=0|A[x>>2],w=0|A[M>>2]),(0|w)!=(0|E)){w=0;do{Y=0|yi(0|A[(Y=(L=E)+(w<<4)|0)>>2],0|A[Y+4>>2],0|S,0|Q),O=0|V(),L=0|yi(0|A[(L=L+(w<<4)+8|0)>>2],0|A[L+4>>2],0|k,0|D),N=0|V(),A[(U=(b=0|A[u>>2])+(w<<4)|0)>>2]=Y,A[U+4>>2]=O,A[(b=b+(w<<4)+8|0)>>2]=L,A[b+4>>2]=N,w=w+1|0,E=0|A[x>>2]}while(w>>>0<(0|A[M>>2])-E>>4>>>0)}$t(C,u,1,1),0|(E=0|A[u>>2])&&(A[F>>2]=E,ni(E)),E=0|A[l>>2]}if(0|E){if((0|(w=0|A[T>>2]))==(0|E))w=E;else{do{b=w,0|(x=0|A[(w=w+-12|0)>>2])&&(A[b+-8>>2]=x,ni(x))}while((0|w)!=(0|E));w=0|A[l>>2]}A[T>>2]=E,ni(w)}R=R+1|0,E=0|A[e>>2]}while(R>>>0<(((0|A[s>>2])-E|0)/12|0)>>>0)}if(ne(C,1,i,1,1),A[C>>2]=4060,E=C+112|0,0|A[o>>2]&&(A[4+(O=0|A[(B=0|A[a>>2])>>2])>>2]=A[(Y=4+(0|A[E>>2])|0)>>2],A[A[Y>>2]>>2]=O,A[o>>2]=0,(0|B)!=(0|E)))do{Y=B,B=0|A[B+4>>2],ni(Y)}while((0|B)!=(0|E));if(0|(B=0|A[C+96>>2])&&(A[C+100>>2]=B,ni(B)),0|(B=0|A[C+84>>2])&&(A[C+88>>2]=B,ni(B)),0|(B=0|A[h>>2])&&(A[C+76>>2]=B,ni(B)),A[C>>2]=4032,A[(S=C+12|0)>>2]=x=0|A[C+8>>2],A[c>>2]=x,(0|(B=0|A[v>>2]))!=(0|(E=0|A[(x=C+24|0)>>2]))){b=0;do{(w=0|A[E+(b<<2)>>2])&&(ri(w),E=0|A[x>>2],B=0|A[v>>2]),b=b+1|0}while(b>>>0<B-E>>2>>>0);B=E}A[v>>2]=B,r[f>>0]=0,r[m>>0]=0,0|(B=0|A[_>>2])&&(A[d>>2]=B,ni(B)),0|(B=0|A[g>>2])&&(A[p>>2]=B,ni(B)),0|(B=0|A[y>>2])&&(A[v>>2]=B,ni(B)),(B=0|A[C+8>>2])?(A[S>>2]=B,ni(B),mt=I):mt=I},function(t,e,i,n){ln[31&(t|=0)](e|=0,i|=0,n|=0)},vt,function(t,e,i,n){t|=0,i|=0,n|=0;var r,s=0,o=0;if((0|A[(r=4+(e|=0)|0)>>2])!=(0|(s=0|A[e>>2]))){o=0;do{vt(t,s+(12*o|0)|0,i,n),o=o+1|0,s=0|A[e>>2]}while(o>>>0<(((0|A[r>>2])-s|0)/12|0)>>>0)}},function(t,e,i,n){i|=0,n|=0;var r,s=0;return r=0|A[(t|=0)>>2],t=(e|=0)+((s=0|A[t+4>>2])>>1)|0,1&s?void ln[31&(s=0|A[(0|A[t>>2])+r>>2])](t,i,n):void ln[31&(s=r)](t,i,n)},function(t,e,i,n){i|=0,n|=0;var r,s=0;return r=0|A[(t|=0)>>2],t=(e|=0)+((s=0|A[t+4>>2])>>1)|0,1&s?void ln[31&(s=0|A[(0|A[t>>2])+r>>2])](t,i,n):void ln[31&(s=r)](t,i,n)},function(t,e,i,n){i|=0;var r,s,o,a=0;s=mt,mt=mt+16|0,a=0|A[(t|=0)>>2],t=(e|=0)+((o=0|A[t+4>>2])>>1)|0,1&o&&(a=0|A[(0|A[t>>2])+a>>2]),A[(r=s)>>2]=n|=0,ln[31&a](t,i,r),mt=s},Ji,Ji],cn=[function(t,e,i,n,r){M(19)},function(t,e,i,n,s){t|=0,e|=0,i|=0,n|=0,s|=0;var o=0;do{if(0|Ai(t,0|A[e+8>>2]))ui(0,e,i,n);else if(0|Ai(t,0|A[e>>2])){if((0|A[e+16>>2])!=(0|i)&&(0|A[(o=e+20|0)>>2])!=(0|i)){A[e+32>>2]=n,A[o>>2]=i,A[(s=e+40|0)>>2]=1+(0|A[s>>2]),1==(0|A[e+36>>2])&&2==(0|A[e+24>>2])&&(r[e+54>>0]=1),A[e+44>>2]=4;break}1==(0|n)&&(A[e+32>>2]=1)}}while(0)},function(t,e,i,n,s){t|=0,e|=0,i|=0,n|=0,s|=0;var o=0,a=0,l=0;do{if(0|Ai(t,0|A[e+8>>2]))ui(0,e,i,n);else{if(!(0|Ai(t,0|A[e>>2]))){cn[7&A[24+(0|A[(a=0|A[t+8>>2])>>2])>>2]](a,e,i,n,s);break}if((0|A[e+16>>2])!=(0|i)&&(0|A[(o=e+20|0)>>2])!=(0|i)){if(A[e+32>>2]=n,4==(0|A[(a=e+44|0)>>2]))break;r[(n=e+52|0)>>0]=0,r[(l=e+53|0)>>0]=0,fn[3&A[20+(0|A[(t=0|A[t+8>>2])>>2])>>2]](t,e,i,i,1,s),0|r[l>>0]?0|r[n>>0]?t=15:(n=1,t=11):(n=0,t=11);do{if(11==(0|t)){if(A[o>>2]=i,A[(l=e+40|0)>>2]=1+(0|A[l>>2]),1==(0|A[e+36>>2])&&2==(0|A[e+24>>2])){if(r[e+54>>0]=1,n){t=15;break}n=4;break}n?t=15:n=4}}while(0);15==(0|t)&&(n=3),A[a>>2]=n;break}1==(0|n)&&(A[e+32>>2]=1)}}while(0)},function(t,e,i,n,s){t|=0,e|=0,i|=0,n|=0,s|=0;var o=0,a=0,l=0,u=0,h=0,c=0,f=0,m=0,_=0,g=0;t:do{if(0|Ai(t,0|A[e+8>>2]))ui(0,e,i,n);else{if(!(0|Ai(t,0|A[e>>2]))){if(u=t+16+((g=0|A[t+12>>2])<<3)|0,gi(t+16|0,e,i,n,s),o=t+24|0,(0|g)<=1)break;if(0==(2&(t=0|A[t+8>>2])|0)&&1!=(0|A[(l=e+36|0)>>2])){if(!(1&t))for(t=e+54|0;;){if(0|r[t>>0])break t;if(1==(0|A[l>>2]))break t;if(gi(o,e,i,n,s),(o=o+8|0)>>>0>=u>>>0)break t}for(t=e+24|0,a=e+54|0;;){if(0|r[a>>0])break t;if(1==(0|A[l>>2])&&1==(0|A[t>>2]))break t;if(gi(o,e,i,n,s),(o=o+8|0)>>>0>=u>>>0)break t}}for(t=e+54|0;;){if(0|r[t>>0])break t;if(gi(o,e,i,n,s),(o=o+8|0)>>>0>=u>>>0)break t}}if((0|A[e+16>>2])!=(0|i)&&(0|A[(g=e+20|0)>>2])!=(0|i)){if(A[e+32>>2]=n,4==(0|A[(_=e+44|0)>>2]))break;u=t+16+(A[t+12>>2]<<3)|0,n=e+52|0,h=e+53|0,f=e+54|0,c=t+8|0,m=e+24|0,o=0,a=t+16|0,l=0;e:for(;;){if(a>>>0>=u>>>0){t=18;break}if(r[n>>0]=0,r[h>>0]=0,_i(a,e,i,i,1,s),0|r[f>>0]){t=18;break}do{if(0|r[h>>0]){if(!(0|r[n>>0])){if(1&A[c>>2]){o=1,t=l;break}o=1,t=18;break e}if(1==(0|A[m>>2])){t=23;break e}if(!(2&A[c>>2])){t=23;break e}o=1,t=1}else t=l}while(0);a=a+8|0,l=t}do{if(18==(0|t)){if(!l&&(A[g>>2]=i,A[(i=e+40|0)>>2]=1+(0|A[i>>2]),1==(0|A[e+36>>2]))&&2==(0|A[m>>2])){if(r[f>>0]=1,o){t=23;break}o=4;break}o?t=23:o=4}}while(0);23==(0|t)&&(o=3),A[_>>2]=o;break}1==(0|n)&&(A[e+32>>2]=1)}}while(0)},function(t,e,i,n,r){hn[15&(t|=0)](e|=0,i|=0,n|=0,r|=0)},function(t,e,i,n,r){hn[15&(t|=0)](e|=0,i|=0,n|=0,r|=0)},function(t,e,i,n,r){i|=0,n|=0,r|=0;var s,o=0;return s=0|A[(t|=0)>>2],t=(e|=0)+((o=0|A[t+4>>2])>>1)|0,1&o?void hn[15&(o=0|A[(0|A[t>>2])+s>>2])](t,i,n,r):void hn[15&(o=s)](t,i,n,r)},function(t,e,i,n,r){i|=0,n|=0,r|=0;var s,o=0;return s=0|A[(t|=0)>>2],t=(e|=0)+((o=0|A[t+4>>2])>>1)|0,1&o?void hn[15&(o=0|A[(0|A[t>>2])+s>>2])](t,i,n,r):void hn[15&(o=s)](t,i,n,r)}],fn=[function(t,e,i,n,r,s){M(20)},function(t,e,i,n,r,s){i|=0,n|=0,r|=0,0|Ai(t|=0,0|A[8+(e|=0)>>2])&&hi(0,e,i,n,r)},function(t,e,i,n,r,s){i|=0,n|=0,r|=0,s|=0,0|Ai(t|=0,0|A[8+(e|=0)>>2])?hi(0,e,i,n,r):fn[3&A[20+(0|A[(t=0|A[t+8>>2])>>2])>>2]](t,e,i,n,r,s)},function(t,e,i,n,s,o){i|=0,n|=0,s|=0,o|=0;var a=0,l=0,u=0,h=0,c=0,f=0,m=0,_=0;if(0|Ai(t|=0,0|A[8+(e|=0)>>2]))hi(0,e,i,n,s);else{a=0|r[(_=e+52|0)>>0],u=0|r[(l=e+53|0)>>0],h=t+16+((m=0|A[t+12>>2])<<3)|0,r[_>>0]=0,r[l>>0]=0,_i(t+16|0,e,i,n,s,o);t:do{if((0|m)>1){c=e+24|0,f=t+8|0,m=e+54|0,t=t+24|0;do{if(0|r[m>>0])break t;if(0|r[_>>0]){if(1==(0|A[c>>2]))break t;if(!(2&A[f>>2]))break t}else if(0|r[l>>0]&&0==(1&A[f>>2]|0))break t;r[_>>0]=0,r[l>>0]=0,_i(t,e,i,n,s,o),t=t+8|0}while(t>>>0<h>>>0)}}while(0);r[_>>0]=a,r[l>>0]=u}}];return{__GLOBAL__sub_I_bind_cpp:function(){it(3864,8056),O(3880,8061,1,1,0),Z(3888,8066,1,-128,127),Z(3904,8071,1,-128,127),Z(3896,8083,1,0,255),Z(3912,8097,2,-32768,32767),Z(3920,8103,2,0,65535),Z(3928,8118,4,-2147483648,2147483647),Z(3936,8122,4,0,-1),Z(3944,8135,4,-2147483648,2147483647),Z(3952,8140,4,0,-1),X(3960,8154,4),X(3968,8160,8),tt(3552,8167),tt(3576,8179),et(3600,4,8212),K(3088,8225),$(3624,0,8241),$(3632,0,8271),$(3640,1,8308),$(3648,2,8347),$(3656,3,8378),$(3664,4,8418),$(3672,5,8447),$(3680,4,8485),$(3688,5,8515),$(3632,0,8554),$(3640,1,8586),$(3648,2,8619),$(3656,3,8652),$(3664,4,8686),$(3672,5,8719),$(3696,6,8753),$(2976,7,8784),$(3704,7,8816)},__GLOBAL__sub_I_clipper_cpp:function(){!function(t){t|=0;var e=0;W(5311,3,4104,6598,1,1),W(5318,3,4116,6598,2,2),W(5326,2,4128,6790,2,3),W(5335,2,4136,6790,3,4),q(3096,5345,4,0),z(3096,5354,0),z(3096,5367,1),z(3096,5373,2),z(3096,5384,3),q(3104,5388,4,0),z(3104,5397,0),z(3104,5405,1),q(3112,5410,4,0),z(3112,5423,0),z(3112,5431,1),z(3112,5439,2),z(3112,5448,3),Y(3120,3128,3144,0,6946,5,6949,0,6949,0,5457,6951,25),e=0|ei(8),A[e>>2]=1,A[e+4>>2]=0,t=0|ei(8),A[t>>2]=1,A[t+4>>2]=0,j(3120,5466,3968,6954,1,0|e,3968,6958,1,0|t),t=0|ei(8),A[t>>2]=2,A[t+4>>2]=0,e=0|ei(8),A[e>>2]=2,A[e+4>>2]=0,j(3120,5468,3968,6954,1,0|t,3968,6958,1,0|e),W(5470,3,4144,6963,1,1),function(t){Y(3016,3160,3176,0,6946,30,6949,0,6949,0,0|(t|=0),6951,36),H(3016,1,4156,6946,31,3),t=0|ei(8),A[t>>2]=18,A[t+4>>2]=0,J(3016,6968,3,4160,6598,13,0|t,0),t=0|ei(8),A[t>>2]=14,A[t+4>>2]=0,J(3016,6978,4,16,7121,11,0|t,0),t=0|ei(8),A[t>>2]=32,A[t+4>>2]=0,J(3016,6985,2,4172,6790,18,0|t,0),t=0|ei(4),A[t>>2]=15,J(3016,6990,3,4180,7127,8,0|t,0),t=0|ei(4),A[t>>2]=9,J(3016,6994,4,32,7132,5,0|t,0)}(5482),function(t){Y(3064,3192,3208,0,6946,33,6949,0,6949,0,0|(t|=0),6951,37),H(3064,1,4192,6946,34,4),t=0|ei(8),A[t>>2]=19,A[t+4>>2]=0,J(3064,6968,3,4196,6598,16,0|t,0),t=0|ei(8),A[t>>2]=17,A[t+4>>2]=0,J(3064,6978,4,48,7121,12,0|t,0),t=0|ei(8),A[t>>2]=35,A[t+4>>2]=0,J(3064,6985,2,4208,6790,19,0|t,0),t=0|ei(4),A[t>>2]=18,J(3064,6990,3,4216,7127,10,0|t,0),t=0|ei(4),A[t>>2]=11,J(3064,6994,4,64,7132,6,0|t,0)}(5487),q(3224,5493,4,0),z(3224,5505,1),z(3224,5521,2),z(3224,5536,4),q(3232,5554,4,0),z(3232,5563,0),z(3232,5570,1),z(3232,5576,2),q(3240,5582,4,0),z(3240,5590,0),z(3240,5604,1),z(3240,5615,2),z(3240,5624,3),z(3240,5635,4),Y(2968,3248,3264,0,6946,6,6949,0,6949,0,5645,6951,26),H(2968,1,4228,6946,7,1),e=0|ei(4),A[e>>2]=4,t=0|ei(4),A[t>>2]=4,j(2968,5654,3016,6790,4,0|e,3016,6598,3,0|t),t=0|ei(4),A[t>>2]=16,e=0|ei(4),A[e>>2]=16,j(2968,5662,3304,6790,5,0|t,3304,6598,4,0|e),e=0|ei(8),A[e>>2]=8,A[e+4>>2]=0,J(2968,5669,2,4232,6790,6,0|e,0),e=0|ei(8),A[e>>2]=9,A[e+4>>2]=0,J(2968,5679,2,4232,6790,6,0|e,0),e=0|ei(8),A[e>>2]=10,A[e+4>>2]=0,J(2968,5687,2,4240,6790,7,0|e,0),e=0|ei(8),A[e>>2]=11,A[e+4>>2]=0,J(2968,5694,2,4240,6790,7,0|e,0),e=0|ei(8),A[e>>2]=12,A[e+4>>2]=0,J(2968,5701,2,4248,6790,8,0|e,0),function(t){Y(3304,3328,3344,0,6946,36,6949,0,6949,0,0|(t|=0),6951,38),H(3304,1,4256,6946,37,5),t=0|ei(8),A[t>>2]=20,A[t+4>>2]=0,J(3304,6968,3,4260,6598,19,0|t,0),t=0|ei(8),A[t>>2]=20,A[t+4>>2]=0,J(3304,6978,4,80,7121,13,0|t,0),t=0|ei(8),A[t>>2]=38,A[t+4>>2]=0,J(3304,6985,2,4272,6790,20,0|t,0),t=0|ei(4),A[t>>2]=21,J(3304,6990,3,4280,7127,12,0|t,0),t=0|ei(4),A[t>>2]=13,J(3304,6994,4,96,7132,7,0|t,0)}(5712),Y(3360,3376,3392,2968,6946,13,6946,14,6946,15,5722,6951,27),H(3360,1,4292,6946,16,2),e=0|ei(8),A[e>>2]=17,A[e+4>>2]=0,J(3360,5731,2,4312,6790,9,0|e,0),e=0|ei(8),A[e>>2]=28,A[e+4>>2]=0,J(3360,5740,2,4320,7751,5,0|e,0),e=0|ei(8),A[e>>2]=18,A[e+4>>2]=0,J(3360,5746,2,4328,6790,10,0|e,0),W(5752,2,4336,6790,11,19),W(5764,2,4344,6954,2,3),W(5769,3,4352,7127,7,12),W(5784,4,112,7121,4,5),W(5800,4,128,7121,5,6),W(5822,3,4364,6598,7,6),W(5848,4,144,7755,1,2),W(5848,3,4376,6958,3,3),W(5861,4,160,7755,2,4),W(5861,3,4388,6958,5,4),W(5875,5,176,7761,4,6),W(5892,5,208,7761,5,7),W(5910,4,240,7121,8,8),W(5924,3,4400,6598,9,7),W(5940,3,4400,6598,9,8),W(5964,3,4412,6598,10,9),W(5986,2,4424,7751,10,29),W(5998,2,4432,7751,11,30),Y(3408,3416,3432,0,6946,20,6949,0,6949,0,6011,6951,31),e=0|ei(8),A[e>>2]=4,A[e+4>>2]=0,t=0|ei(8),A[t>>2]=5,A[t+4>>2]=0,j(3408,6019,3968,6954,3,0|e,3968,6958,6,0|t),t=0|ei(8),A[t>>2]=5,A[t+4>>2]=0,e=0|ei(8),A[e>>2]=6,A[e+4>>2]=0,j(3408,6024,3968,6954,3,0|t,3968,6958,6,0|e),e=0|ei(8),A[e>>2]=6,A[e+4>>2]=0,t=0|ei(8),A[t>>2]=7,A[t+4>>2]=0,j(3408,6028,3968,6954,3,0|e,3968,6958,6,0|t),t=0|ei(8),A[t>>2]=7,A[t+4>>2]=0,e=0|ei(8),A[e>>2]=8,A[e+4>>2]=0,j(3408,6034,3968,6954,3,0|t,3968,6958,6,0|e),Y(2944,3448,3464,0,6946,21,6949,0,6949,0,6041,6951,32),e=0|ei(8),A[e>>2]=8,A[e+4>>2]=1,J(2944,6053,5,256,7899,1,0|e,0),e=0|ei(8),A[e>>2]=2,A[e+4>>2]=0,J(2944,6061,5,288,7899,2,0|e,0),e=0|ei(8),A[e>>2]=12,A[e+4>>2]=1,J(2944,5740,2,4440,7751,12,0|e,0),e=0|ei(8),A[e>>2]=13,A[e+4>>2]=0,J(2944,6070,2,4448,6790,13,0|e,0),e=0|ei(8),A[e>>2]=22,A[e+4>>2]=0,t=0|ei(8),A[t>>2]=14,A[t+4>>2]=0,j(2944,6080,3880,6790,14,0|e,3880,6598,11,0|t),Y(2952,3480,3496,2944,6946,23,6946,24,6946,25,6098,6951,33),H(2952,2,4456,6790,15,26),t=0|ei(8),A[t>>2]=3,A[t+4>>2]=0,J(2952,6106,5,320,7899,3,0|t,0),t=0|ei(8),A[t>>2]=4,A[t+4>>2]=0,J(2952,6119,6,352,7955,1,0|t,0),t=0|ei(8),A[t>>2]=4,A[t+4>>2]=0,J(2952,6145,5,384,7899,5,0|t,0),t=0|ei(8),A[t>>2]=6,A[t+4>>2]=0,J(2952,6161,6,416,7955,2,0|t,0),t=0|ei(8),A[t>>2]=27,A[t+4>>2]=0,e=0|ei(8),A[e>>2]=15,A[e+4>>2]=0,j(2952,6190,3880,6790,16,0|t,3880,6598,12,0|e),e=0|ei(8),A[e>>2]=28,A[e+4>>2]=0,t=0|ei(8),A[t>>2]=16,A[t+4>>2]=0,j(2952,6206,3880,6790,16,0|e,3880,6598,12,0|t),Y(3512,3520,3536,0,6946,29,6949,0,6949,0,6221,6951,34),H(3512,3,4464,6963,2,17),t=0|ei(8),A[t>>2]=9,A[t+4>>2]=0,J(3512,6053,5,448,7761,6,0|t,0),t=0|ei(8),A[t>>2]=10,A[t+4>>2]=0,J(3512,6061,5,480,7761,7,0|t,0),t=0|ei(8),A[t>>2]=7,A[t+4>>2]=0,J(3512,6106,4,512,7755,3,0|t,0),t=0|ei(8),A[t>>2]=8,A[t+4>>2]=0,J(3512,6145,4,528,7755,4,0|t,0),t=0|ei(8),A[t>>2]=35,A[t+4>>2]=0,J(3512,5740,2,4476,7751,17,0|t,0),t=0|ei(4),A[t>>2]=0,e=0|ei(4),A[e>>2]=0,j(3512,6235,3968,6954,4,0|t,3968,6958,9,0|e),e=0|ei(4),A[e>>2]=8,t=0|ei(4),A[t>>2]=8,j(3512,6246,3968,6954,4,0|e,3968,6958,9,0|t)}(0)},___cxa_can_catch:function(t,e,i){var n,r;return t|=0,e|=0,r=mt,mt=mt+16|0,A[(n=r)>>2]=A[(i|=0)>>2],(t=0|Zi[15&A[16+(0|A[t>>2])>>2]](t,e,n))&&(A[i>>2]=A[n>>2]),mt=r,1&t|0},___cxa_is_pointer_type:function(t){return 0|((t|=0)?0!=(0|ci(t,3744,3832,0))&1:0)},___getTypeName:function(t){return 0|function(t){var e,i;return 0|((i=0|$e(e=1+(0|Xe(t|=0))|0))?0|bi(0|i,0|t,0|e):0)}(0|A[4+(t|=0)>>2])},___muldi3:pi,___udivdi3:Ii,_bitshift64Lshr:Bi,_bitshift64Shl:Ei,_emscripten_replace_memory:function(t){return!(16777215&g(t)||g(t)<=16777215||g(t)>2147483648||(r=new n(t),o=new s(t),A=new a(t),u=new l(t),new h(t),new c(t),new f(t),_=new m(t),i=t,0))},_free:ti,_i64Add:yi,_i64Subtract:Ci,_llvm_bswap_i32:wi,_malloc:$e,_memcpy:bi,_memmove:xi,_memset:Si,_sbrk:Qi,dynCall_di:function(t,e){return+ji[7&(t|=0)](0|(e|=0))},dynCall_dii:function(t,e,i){return+Ki[7&(t|=0)](0|(e|=0),0|(i|=0))},dynCall_i:function(t){return 0|qi[7&(t|=0)]()},dynCall_ii:function(t,e){return 0|zi[63&(t|=0)](0|(e|=0))},dynCall_iidd:function(t,e,i,n){return 0|Xi[3&(t|=0)](0|(e|=0),+(i=+i),+(n=+n))},dynCall_iii:function(t,e,i){return 0|Wi[31&(t|=0)](0|(e|=0),0|(i|=0))},dynCall_iiii:function(t,e,i,n){return 0|Zi[15&(t|=0)](0|(e|=0),0|(i|=0),0|(n|=0))},dynCall_iiiii:function(t,e,i,n,r){return 0|$i[7&(t|=0)](0|(e|=0),0|(i|=0),0|(n|=0),0|(r|=0))},dynCall_iiiiii:function(t,e,i,n,r,s){return 0|tn[7&(t|=0)](0|(e|=0),0|(i|=0),0|(n|=0),0|(r|=0),0|(s|=0))},dynCall_iiiiiii:function(t,e,i,n,r,s,o){return 0|en[3&(t|=0)](0|(e|=0),0|(i|=0),0|(n|=0),0|(r|=0),0|(s|=0),0|(o|=0))},dynCall_v:function(t){nn[3&(t|=0)]()},dynCall_vi:function(t,e){rn[63&(t|=0)](0|(e|=0))},dynCall_vid:function(t,e,i){sn[15&(t|=0)](0|(e|=0),+(i=+i))},dynCall_vidd:function(t,e,i,n){on[1&(t|=0)](0|(e|=0),+(i=+i),+(n=+n))},dynCall_vii:function(t,e,i){an[31&(t|=0)](0|(e|=0),0|(i|=0))},dynCall_viid:function(t,e,i,n){An[15&(t|=0)](0|(e|=0),0|(i|=0),+(n=+n))},dynCall_viii:function(t,e,i,n){ln[31&(t|=0)](0|(e|=0),0|(i|=0),0|(n|=0))},dynCall_viiid:function(t,e,i,n,r){un[7&(t|=0)](0|(e|=0),0|(i|=0),0|(n|=0),+(r=+r))},dynCall_viiii:function(t,e,i,n,r){hn[15&(t|=0)](0|(e|=0),0|(i|=0),0|(n|=0),0|(r|=0))},dynCall_viiiii:function(t,e,i,n,r,s){cn[7&(t|=0)](0|(e|=0),0|(i|=0),0|(n|=0),0|(r|=0),0|(s|=0))},dynCall_viiiiii:function(t,e,i,n,r,s,o){fn[3&(t|=0)](0|(e|=0),0|(i|=0),0|(n|=0),0|(r|=0),0|(s|=0),0|(o|=0))},establishStackSpace:function(t,e){mt=t|=0},setThrew:function(t,e){y||(y=t|=0)},stackAlloc:function(t){var e;return e=mt,mt=15+(mt=mt+(t|=0)|0)&-16,0|e},stackRestore:function(t){mt=t|=0},stackSave:function(){return 0|mt}}}(ye,e.asmLibraryArg,c),Ie=e.__GLOBAL__sub_I_bind_cpp=ve.__GLOBAL__sub_I_bind_cpp,Be=e.__GLOBAL__sub_I_clipper_cpp=ve.__GLOBAL__sub_I_clipper_cpp,Ee=(e.___cxa_can_catch=ve.___cxa_can_catch,e.___cxa_is_pointer_type=ve.___cxa_is_pointer_type,e.___getTypeName=ve.___getTypeName),we=(e.___muldi3=ve.___muldi3,e.___udivdi3=ve.___udivdi3,e._bitshift64Lshr=ve._bitshift64Lshr,e._bitshift64Shl=ve._bitshift64Shl,e._emscripten_replace_memory=ve._emscripten_replace_memory),be=e._free=ve._free,xe=(e._i64Add=ve._i64Add,e._i64Subtract=ve._i64Subtract,e._llvm_bswap_i32=ve._llvm_bswap_i32,e._malloc=ve._malloc);if(e._memcpy=ve._memcpy,e._memmove=ve._memmove,e._memset=ve._memset,e._sbrk=ve._sbrk,e.establishStackSpace=ve.establishStackSpace,e.setThrew=ve.setThrew,e.stackAlloc=ve.stackAlloc,e.stackRestore=ve.stackRestore,e.stackSave=ve.stackSave,e.dynCall_di=ve.dynCall_di,e.dynCall_dii=ve.dynCall_dii,e.dynCall_i=ve.dynCall_i,e.dynCall_ii=ve.dynCall_ii,e.dynCall_iidd=ve.dynCall_iidd,e.dynCall_iii=ve.dynCall_iii,e.dynCall_iiii=ve.dynCall_iiii,e.dynCall_iiiii=ve.dynCall_iiiii,e.dynCall_iiiiii=ve.dynCall_iiiiii,e.dynCall_iiiiiii=ve.dynCall_iiiiiii,e.dynCall_v=ve.dynCall_v,e.dynCall_vi=ve.dynCall_vi,e.dynCall_vid=ve.dynCall_vid,e.dynCall_vidd=ve.dynCall_vidd,e.dynCall_vii=ve.dynCall_vii,e.dynCall_viid=ve.dynCall_viid,e.dynCall_viii=ve.dynCall_viii,e.dynCall_viiid=ve.dynCall_viiid,e.dynCall_viiii=ve.dynCall_viiii,e.dynCall_viiiii=ve.dynCall_viiiii,e.dynCall_viiiiii=ve.dynCall_viiiiii,e.asm=ve,F)if(N(F)||(Ce=F,F=e.locateFile?e.locateFile(Ce,s):s+Ce),r){var Se=e.readBinary(F);m.set(Se,8)}else{V++,e.monitorRunDependencies&&e.monitorRunDependencies(V);var Qe=function(t){t.byteLength&&(t=new Uint8Array(t)),m.set(t,8),e.memoryInitializerRequest&&delete e.memoryInitializerRequest.response,function(t){if(V--,e.monitorRunDependencies&&e.monitorRunDependencies(V),0==V&&(null!==T&&(clearInterval(T),T=null),G)){var i=G;G=null,i()}}()},ke=function(){e.readAsync(F,Qe,(function(){throw"could not load memory initializer "+F}))},De=pe(F);if(De)Qe(De.buffer);else if(e.memoryInitializerRequest){var Me=function(){var t=e.memoryInitializerRequest,i=t.response;if(200!==t.status&&0!==t.status){var n=pe(e.memoryInitializerRequestURL);if(!n)return console.warn("a problem seems to have happened with Module.memoryInitializerRequest, status: "+t.status+", retrying "+F),void ke();i=n.buffer}Qe(i)};e.memoryInitializerRequest.response?setTimeout(Me,0):e.memoryInitializerRequest.addEventListener("load",Me)}else ke()}function Re(t){this.name="ExitStatus",this.message="Program terminated with exit("+t+")",this.status=t}function Ve(t){function i(){e.calledRun||(e.calledRun=!0,u||(R||(R=!0,S(k)),S(D),e.onRuntimeInitialized&&e.onRuntimeInitialized(),function(){if(e.postRun)for("function"==typeof e.postRun&&(e.postRun=[e.postRun]);e.postRun.length;)t=e.postRun.shift(),M.unshift(t);var t;S(M)}()))}t=t||e.arguments,V>0||(function(){if(e.preRun)for("function"==typeof e.preRun&&(e.preRun=[e.preRun]);e.preRun.length;)t=e.preRun.shift(),Q.unshift(t);var t;S(Q)}(),V>0||e.calledRun||(e.setStatus?(e.setStatus("Running..."),setTimeout((function(){setTimeout((function(){e.setStatus("")}),1),i()}),1)):i()))}function Te(t){throw e.onAbort&&e.onAbort(t),void 0!==t?(o(t),a(t),t=JSON.stringify(t)):t="",u=!0,"abort("+t+"). Build with -s ASSERTIONS=1 for more info."}if((Re.prototype=new Error).constructor=Re,G=function t(){e.calledRun||Ve(),e.calledRun||(G=t)},e.run=Ve,e.abort=Te,e.preInit)for("function"==typeof e.preInit&&(e.preInit=[e.preInit]);e.preInit.length>0;)e.preInit.pop()();return e.noExitRuntime=!0,Ve(),e}}},"0jZk":function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=i("Tk29");function r(t,e){return s(t,e)<<24>>24}function s(t,e){return t[e.offset++]}function o(t,e){return a(t,e)<<16>>16}function a(t,e){return t[e.offset++]|t[e.offset++]<<8}function A(t,e){return t[e.offset++]|t[e.offset++]<<8|t[e.offset++]<<16|t[e.offset++]<<24}function l(t,e){return A(t,e)>>>0}function u(t,e){var i=l(t,e);return A(t,e)*Math.pow(2,32)+i}function h(t,e){var i=l(t,e);return l(t,e)*Math.pow(2,32)+i}e.int8=r,e.uint8=s,e.int16=o,e.uint16=a,e.int32=A,e.uint32=l,e.float32=function(t,e){return g(t,e)},e.float64=function(t,e){return d(t,e)},e.int64=u,e.uint64=h;var c=!0,f=new Int32Array(2),m=new Float32Array(f.buffer),_=new Float64Array(f.buffer);function g(t,e){return f[0]=A(t,e),m[0]}function d(t,e){return f[c?0:1]=A(t,e),f[c?1:0]=A(t,e),_[0]}e.readFloat32=g,e.readFloat64=d,e.boolean=function(t,e){return s(t,e)>0},e.string=function(t,e){var i,n=t[e.offset++];n<192?i=31&n:217===n?i=s(t,e):218===n?i=a(t,e):219===n&&(i=l(t,e));var r=function(t,e,i){for(var n="",r=0,s=e,o=e+i;s<o;s++){var a=t[s];if(0!=(128&a))if(192!=(224&a))if(224!=(240&a)){if(240!=(248&a))throw new Error("Invalid byte "+a.toString(16));(r=(7&a)<<18|(63&t[++s])<<12|(63&t[++s])<<6|(63&t[++s])<<0)>=65536?(r-=65536,n+=String.fromCharCode(55296+(r>>>10),56320+(1023&r))):n+=String.fromCharCode(r)}else n+=String.fromCharCode((15&a)<<12|(63&t[++s])<<6|(63&t[++s])<<0);else n+=String.fromCharCode((31&a)<<6|63&t[++s]);else n+=String.fromCharCode(a)}return n}(t,e.offset,i);return e.offset+=i,r},e.stringCheck=function(t,e){var i=t[e.offset];return i<192&&i>160||217===i||218===i||219===i},e.number=function(t,e){var i=t[e.offset++];return i<128?i:202===i?g(t,e):203===i?d(t,e):204===i?s(t,e):205===i?a(t,e):206===i?l(t,e):207===i?h(t,e):208===i?r(t,e):209===i?o(t,e):210===i?A(t,e):211===i?u(t,e):i>223?-1*(255-i+1):void 0},e.numberCheck=function(t,e){var i=t[e.offset];return i<128||i>=202&&i<=211},e.arrayCheck=function(t,e){return t[e.offset]<160},e.nilCheck=function(t,e){return t[e.offset]===n.NIL},e.indexChangeCheck=function(t,e){return t[e.offset]===n.INDEX_CHANGE}},"0riL":function(t,e,i){"use strict";i.r(e);var n,r=i("ofXK"),s=i("zZ8E"),o=i("JeQM"),a=i("fXoL"),A=((n=function(){function t(){_classCallCheck2(this,t)}return _createClass2(t,[{key:"ngOnInit",value:function(){var t=new s.Client("ws://localhost:2568");Object(o.a)().then((function(e){console.log("Generated map. Creating room ..."),t.create("battle",{map:e}).then((function(t){console.log("Created room successfully",t)})).catch((function(t){console.error("Create room error",t)}))}))}}]),t}()).\u0275fac=function(t){return new(t||n)},n.\u0275cmp=a.zb({type:n,selectors:[["app-multiplayer"]],decls:2,vars:0,template:function(t,e){1&t&&(a.Ib(0,"p"),a.Sb(1,"multiplayer works!"),a.Hb())},styles:[""]}),n),l=i("tyNb"),u=[{path:"",component:A}];i.d(e,"MultiplayerModule",(function(){return c}));var h,c=((h=function t(){_classCallCheck2(this,t)}).\u0275mod=a.Db({type:h}),h.\u0275inj=a.Cb({factory:function(t){return new(t||h)},imports:[[r.b,l.a.forChild(u)],l.a]}),h)},"0zm2":function(t,e){t.exports={init:function(t){var e={};Object.keys(t).forEach((function(i){e[i]=t[i]})),e=void 0!==e?e:{};var i,n={};for(i in e)e.hasOwnProperty(i)&&(n[i]=e[i]);e.arguments=[],e.thisProgram="./this.program",e.quit=function(t,e){throw e},e.preRun=[],e.postRun=[];var r=!0,s=!1,o=!1,a="";(r||s)&&(s?a=self.location.href:document.currentScript&&(a=document.currentScript.src),a=0!==a.indexOf("blob:")?a.substr(0,a.lastIndexOf("/")+1):"",e.read=function(t){try{var e=new XMLHttpRequest;return e.open("GET",t,!1),e.send(null),e.responseText}catch(l){var i=zt(t);if(i)return function(t){for(var e=[],i=0;i<t.length;i++){var n=t[i];n>255&&(Kt&&c(!1,"Character code "+n+" ("+String.fromCharCode(n)+")  at offset "+i+" not in 0x00-0xFF."),n&=255),e.push(String.fromCharCode(n))}return e.join("")}(i);throw l}},s&&(e.readBinary=function(t){try{var e=new XMLHttpRequest;return e.open("GET",t,!1),e.responseType="arraybuffer",e.send(null),new Uint8Array(e.response)}catch(l){var i=zt(t);if(i)return i;throw l}}),e.readAsync=function(t,e,i){var n=new XMLHttpRequest;n.open("GET",t,!0),n.responseType="arraybuffer",n.onload=function(){if(200==n.status||0==n.status&&n.response)e(n.response);else{var r=zt(t);r?e(r.buffer):i()}},n.onerror=i,n.send(null)},e.setWindowTitle=function(t){document.title=t});var A=e.print||("undefined"!=typeof console?console.log.bind(console):"undefined"!=typeof print?print:null),l=e.printErr||("undefined"!=typeof printErr?printErr:"undefined"!=typeof console&&console.warn.bind(console)||A);for(i in n)n.hasOwnProperty(i)&&(e[i]=n[i]);n=void 0;var u={"f64-rem":function(t,e){return t%e},debugger:function(){}},h=(new Array(0),!1);function c(t,e){t||re("Assertion failed: "+e)}var f,m,_,g,d,p,y,C,v,I="undefined"!=typeof TextDecoder?new TextDecoder("utf8"):void 0;function B(t,e){for(var i=e;t[i];)++i;if(i-e>16&&t.subarray&&I)return I.decode(t.subarray(e,i));for(var n="";;){var r=t[e++];if(!r)return n;if(128&r){var s=63&t[e++];if(192!=(224&r)){var o=63&t[e++];if((r=224==(240&r)?(15&r)<<12|s<<6|o:(7&r)<<18|s<<12|o<<6|63&t[e++])<65536)n+=String.fromCharCode(r);else{var a=r-65536;n+=String.fromCharCode(55296|a>>10,56320|1023&a)}}else n+=String.fromCharCode((31&r)<<6|s)}else n+=String.fromCharCode(r)}}function E(t){return B(_,t)}function w(t,e){return t%e>0&&(t+=e-t%e),t}function b(t){e.buffer=f=t}function x(){e.HEAP8=m=new Int8Array(f),e.HEAP16=g=new Int16Array(f),e.HEAP32=p=new Int32Array(f),e.HEAPU8=_=new Uint8Array(f),e.HEAPU16=d=new Uint16Array(f),e.HEAPU32=y=new Uint32Array(f),e.HEAPF32=C=new Float32Array(f),e.HEAPF64=v=new Float64Array(f)}"undefined"!=typeof TextDecoder&&new TextDecoder("utf-16le");try{Function.prototype.call.bind(Object.getOwnPropertyDescriptor(ArrayBuffer.prototype,"byteLength").get)(new ArrayBuffer(4))}catch(se){}var S=e.TOTAL_MEMORY||16777216;function Q(t){for(;t.length>0;){var i=t.shift();if("function"!=typeof i){var n=i.func;"number"==typeof n?void 0===i.arg?e.dynCall_v(n):e.dynCall_vi(n,i.arg):n(void 0===i.arg?null:i.arg)}else i()}}S<5242880&&l("TOTAL_MEMORY should be larger than TOTAL_STACK, was "+S+"! (TOTAL_STACK=5242880)"),e.buffer?f=e.buffer:("object"==typeof WebAssembly&&"function"==typeof WebAssembly.Memory?(e.wasmMemory=new WebAssembly.Memory({initial:S/65536}),f=e.wasmMemory.buffer):f=new ArrayBuffer(S),e.buffer=f),x(),p[3308]=5256368;var k=[],D=[],M=[],R=[],V=!1,T=0,G=null,F=null;e.preloadedImages={},e.preloadedAudios={};var P="data:application/octet-stream;base64,";function N(t){return String.prototype.startsWith?t.startsWith(P):0===t.indexOf(P)}var L,U="data:application/octet-stream;base64,AGFzbQEAAAABqQIpYAF/AGAEf39/fwF/YAF/AX9gAn9/AX9gAn9/AGABfwF8YAJ/fABgA398fABgAAF/YAN/f38AYAN/f38Bf2ADf398AGAEf39/fwBgBX9/f39/AX9gAABgBn9/f39/fwBgBX9/f39/AGACf38BfGADf3x8AX9gBn9/f39/fwF/YAR/f398AGANf39/f39/f39/f39/fwBgCH9/f39/f39/AGAKf39/f39/f39/fwBgAn9+AGACf34Bf2AEf39/fAF/YAN+f38Bf2ACfn8Bf2AGf3x/f39/AX9gAnx/AXxgAnx8AXxgAnx/AX9gA3x8fwF8YAF8AXxgA39/fwF8YAR/f3x8AX9gB39/f39/f38Bf2AEf398fABgBX9/f398AGAHf39/f39/fwACzgImA2VudgFiABYDZW52AWMADgNlbnYBZAAPA2VudgFlAAkDZW52AWYAAgNlbnYBZwAJA2VudgFoAAADZW52AWkACQNlbnYBagAXA2VudgFrABUDZW52AWwAEANlbnYBbQAPA2VudgFuAAwDZW52AW8AAwNlbnYBcAADA2VudgFxAAADZW52AXIAAANlbnYBcwAAA2VudgF0AAQDZW52AXUACQNlbnYBdgAQA2VudgF3AAMDZW52AXgAAwNlbnYBeQADA2VudgF6AAMDZW52AUEAAwNlbnYBQgACA2VudgFDAAIDZW52AUQACgNlbnYBRQAIA2VudgFGAAQDZW52AUcACQNlbnYBSAAEA2VudgFJAAgDZW52DF9fdGFibGVfYmFzZQN/AANlbnYBYQN/AANlbnYGbWVtb3J5AgCAAgNlbnYFdGFibGUBcAHqAuoCA8YCxAIAAgoKBAIEAAkQBAQDAAkDBA0GAwsCCgQDBAkAAhwAAgkMDAQBCiEfDQQBCQkNFBEQAwQeDQwCAAIJBBALCQQJAwQJDAoIDwwJACACDQMEEAsUBAoICQEJCQkLCQYADAkEAwEYAw4TDRIKDAoAAB8iAyECHgMJAhQQEwoKEQMAAQwACxEAAwoCCgYFBgUJDAwGBhoEAgkACwALAgAMAAAAARMABAQEBAMCGAcABAAYGQIEBAEBDxAEBwABBSgADycmACUTDQEkIwICAQwQDwoAAgAODBAPDBAPCggOBAAiIiIiAgEKCgADAx0DHBsKAwoKAgIODg4LERID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ACABLAAAOgAAIAAgASwAAToAASAAIAEsAAI6AAIgACABLAADOgADIABBBGohACABQQRqIQEMAQsLCwNAIAAgA0gEQCAAIAEsAAA6AAAgAEEBaiEAIAFBAWohAQwBCwsgBAvoAQEKfyAAQQRqIgcoAgAgACgCACIEayIGQQR1IghBAWoiA0H/////AEsEQBABCyADIABBCGoiCSgCACAEayICQQN1IgogCiADSRtB/////wAgAkEEdUH///8/SRsiAwRAIANB/////wBLBEBBCBAEIgIQLyACQfgxNgIAIAJB6ChBEhADBSADQQR0ECMiCyEFCwsgCEEEdCAFaiICIAEpAwA3AwAgAiABKQMINwMIIAZBAEoEQCALIAQgBhAlGgsgACAFNgIAIAcgAkEQajYCACAJIANBBHQgBWo2AgAgBEUEQA8LIAQQIgsIAEEDEAZBAAvfAQEKfyAAQQRqIgcoAgAgACgCACIEayIGQQJ1IghBAWoiAkH/////A0sEQBABCyACIABBCGoiCSgCACAEayIDQQF1IgogCiACSRtB/////wMgA0ECdUH/////AUkbIgIEQCACQf////8DSwRAQQgQBCIDEC8gA0H4MTYCACADQegoQRIQAwUgAkECdBAjIgshBQsLIAhBAnQgBWoiAyABKAIANgIAIAZBAEoEQCALIAQgBhAlGgsgACAFNgIAIAcgA0EEajYCACAJIAJBAnQgBWo2AgAgBEUEQA8LIAQQIgsGAEELEAYLGAAgACgCAEEgcUUEQCABIAIgABCGAhoLC4ABAQJ/IwMhBSMDQYACaiQDIARBgMAEcUUgAiADSnEEQCAFIAFBGHRBGHUgAiADayIBQYACIAFBgAJJGxA4GiABQf8BSwRAAn8gAiADayEGA0AgACAFQYACECogAUGAfmoiAUH/AUsNAAsgBgtB/wFxIQELIAAgBSABECoLIAUkAwvJBAEMfyAAQQRqIgkoAgAiBSAAKAIAIgZrQQxtIgNBAWoiAkHVqtWqAUsEQBABCyACIABBCGoiCigCACAGa0EMbSIEQQF0IgggCCACSRtB1arVqgEgBEGq1arVAEkbIgQEQCAEQdWq1aoBSwRAQQgQBCICEC8gAkH4MTYCACACQegoQRIQAwUgBEEMbBAjIQcLCyADQQxsIAdqIgJBADYCACADQQxsIAdqQQRqIghBADYCACADQQxsIAdqQQhqIgxBADYCACABKAIEIAEoAgAiDWsiAUEEdSELIAEEQCALQf////8ASwRAEAELIAggARAjIgM2AgAgAiADNgIAIAwgC0EEdCADajYCACABQQBKBEAgAyANIAEQJRogCCABQQR2QQR0IANqNgIACwsgBEEMbCAHaiEHIAJBDGohAyAFIgEgBkYEfyAAIAI2AgAgCSADNgIAIAogBzYCACAGBQNAIAJBdGoiBUEANgIAIAJBeGoiBEEANgIAIAJBfGoiCEEANgIAIAUgAUF0aiICKAIANgIAIAQgAUF4aiIEKAIANgIAIAggAUF8aiIBKAIANgIAIAFBADYCACAEQQA2AgAgAkEANgIAIAIgBkcEQCACIQEgBSECDAELCyAJKAIAIQIgACgCACIBIQYgACAFNgIAIAkgAzYCACAKIAc2AgAgAiAGRgR/IAEFIAIhAAN/IABBdGoiAigCACIFBEAgAEF4aiAFNgIAIAUQIgsgAiAGRgR/IAEFIAIhAAwBCwsLCyIARQRADwsgABAiCwYAQQ4QBgsIAEEFEAZBAAsVACAAQeQxNgIAIABBBGpBzjwQ/gELBgBBEBAGCzwBAX8gACgCACECIAEgACgCBCIBQQF1aiEAIAFBAXEEQCACIAAoAgBqKAIAIQILIAAgAkE/cUEYahECAAuBAwEJfyAAQQhqIggoAgAgACgCACIEa0EMbSABTwRADwsgAUHVqtWqAUsEQEEIEAQiAhAvIAJB+DE2AgAgAkHoKEESEAMLIABBBGoiBigCACICIARrQQxtQQxsIAFBDGwQIyIDaiIFIQcgAUEMbCADaiEJIAIgBEYEfyAAIAc2AgAgBiAHNgIAIAggCTYCACAEBSAFIQEDQCABQXRqIgVBADYCACABQXhqIgNBADYCACABQXxqIgpBADYCACAFIAJBdGoiASgCADYCACADIAJBeGoiAygCADYCACAKIAJBfGoiAigCADYCACACQQA2AgAgA0EANgIAIAFBADYCACABIARHBEAgASECIAUhAQwBCwsgBigCACECIAAoAgAiASEDIAAgBTYCACAGIAc2AgAgCCAJNgIAIAIgA0YEfyABBSACIQADfyAAQXRqIgIoAgAiBARAIABBeGogBDYCACAEECILIAIgA0YEfyABBSACIQAMAQsLCwsiAEUE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IRADfyAFQX9qIgRBBHQgB2opAwAgEFINASAFQQR0IAdqKQMIIARBBHQgB2opAwhSDQEgBUEBSgR/IAQhBQwBBSAECwshBQsLIAVBAkggBUEBSCADGwRAIAokA0EADwtBfyAFQQFqIgRB8ABsIARBksmkEksbECMhBiAEBEAgBEHwAGwgBmohByAGIQQDQCAEQgA3AwAgBEIANwMIIARCADcDECAEQgA3AxggBEIANwMgIARCADcDKCAEQfAAaiIEIAdHDQALIAEoAgAhBwsgCkEQaiIPIAY2AgAgBkGAAWoiCCAHQRBqIgQpAwA3AwAgCCAEKQMINwMIIAcpAwAhEAJAAkACQCAAQRRqIg4sAAANACAHKQMIQv////8DfEL+////B1YgEEL/////A3xC/v///wdWcgRAIA5BAToAAAwBCyAFQQR0IAdqKQMAIRAgBUEEdCAHaikDCEL/////A3xC/v///wdWBEAgDkEBOgAADAILIBBC/////wN8Qv7///8HVgR/IA5BAToAAAwCBUEACyELDAILIBBC/////////w9VBEBBEBAEIghBjCs2AgAgCEEEaiIEQgA3AgAgBEEANgIIIARBMBAjIgQ2AgAgCEGwgICAeDYCDCAIQSA2AgggBEGAMykAADcAACAEQYgzKQAANwAIIARBkDMpAAA3ABAgBEGYMykAADcAGCAEQQA6ACAgCEGAIkEJEAMLIBBCgYCAgICAgHBTIAcpAwhC/////////w98Qv7///////8fVnIEQEEQEAQiCEGMKzYCACAIQQRqIgRCADcCACAEQQA2AgggBEEwECMiBDYCACAIQbCAgIB4NgIMIAhBIDYCCCAEQYAzKQAANwAAIARBiDMpAAA3AAggBEGQMykAADcAECAEQZgzKQAANwAYIARBADoAICAIQYAiQQkQAwUgBUEEdCAHaikDACEQDAELDAELIBBC/////////w9VBEBBEBAEIghBjCs2AgAgCEEEaiIEQgA3AgAgBEEANgIIIARBMBAjIgQ2AgAgCEGwgICAeDYCDCAIQSA2AgggBEGAMykAADcAACAEQYgzKQAANwAIIARBkDMpAAA3ABAgBEGYMykAADcAGCAEQQA6ACAgCEGAIkEJEAMLIBBCgYCAgICAgHBTIAVBBHQgB2opAwhC/////////w98Qv7///////8fVnIEQEEQEAQiCEGMKzYCACAIQQRqIgRCADcCACAEQQA2AgggBEEwECMiBDYCACAIQbCAgIB4NgIMIAhBIDYCCCAEQYAzKQAANwAAIARBiDMpAAA3AAggBEGQMykAADcAECAEQZgzKQAANwAYIARBADoAICAIQYAiQQkQAwVBASELCwsgBkIANwMAIAZCADcDCCAGQgA3AxAgBkIANwMYIAZCADcDICAGQgA3AyggBkIANwMwIAZCADcDOCAGQUBrQgA3AwAgBkIANwNIIAZCADcDUCAGQgA3A1ggBkIANwNgIAZCADcDaCAGIAZB8ABqNgJQIAYgBUHwAGwgBmoiCTYCVCAGQRBqIgQgBykDADcDACAEIAcpAwg3AwggBkF/NgJMIAEoAgAiCCAFQQR0aiEHIAlCADcDACAJQgA3AwggCUIANwMQIAlCADcDGCAJQgA3AyAgCUIANwMoIAlCADcDMCAJQgA3AzggCUFAa0IANwMAIAlCADcDSCAJQgA3A1AgCUIANwNYIAlCADcDYCAJQgA3A2ggBUHwAGwgBmogBjYCUCAFQfAAbCAGaiAFQX9qIgFB8ABsIAZqNgJUIAVB8ABsIAZqQRBqIgQgBykDADcDACAEIAcpAwg3AwggBUHwAGwgBmpBfzYCTCAFQQFKBEACQCABIQUgCyEBA0ACQCAFQQR0IAhqIgspAwAhEAJAAkAgAUH/AXENACAFQQR0IAhqKQMIQv////8DfEL+////B1YgEEL/////A3xC/v///wdWcgR/IA5BAToAAEEBIQEMAQVBAAshAQwBCyAQQv////////8PVQ0BIBBCgYCAgICAgHBTIAVBBHQgCGopAwhC/////////w98Qv7///////8fVnINAQsgBUHwAGwgBmoiBEIANwMAIARCADcDCCAEQgA3AxAgBEIANwMYIARCADcDICAEQgA3AyggBEIANwMwIARCADcDOCAEQUBrQgA3AwAgBEIANwNIIARCADcDUCAEQgA3A1ggBEIANwNgIARCADcDaCAFQfAAbCAGaiAFQQFqQfAAbCAGajYCUCAFQfAAbCAGaiAFQX9qIgRB8ABsIAZqNgJUIAVB8ABsIAZqQRBqIgcgCykDADcDACAHIAspAwg3AwggBUHwAGwgBmpBfzYCTCAFQQFMDQIgBCEFDAELC0EQEAQiBUGMKzYC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IABBH3FBpgJqEQkACwQAIAALIwEBfyAARQRADwsgACgCACgCBCEBIAAgAUE/cUGkAWoRAAALDQAgACgCAEF8aigCAAs/AQF/IAAoAgAhAyABIAAoAgQiAUEBdWohACABQQFxBEAgAyAAKAIAaigCACEDCyAAIAIgA0EfcUH2AWoRBAALoQIBCn8gAEEIaiIJKAIAIgIgAEEEaiIGKAIAIgNrQQR1IAFPBEAgAyEAA0AgAEIANwMAIABCADcDCCAGIAYoAgBBEGoiADYCACABQX9qIgENAAsPCyABIAMgACgCACIDayIIQQR1IgpqIgdB/////wBLBEAQAQsgByACIANrIgJBA3UiBCAEIAdJG0H/////ACACQQR1Qf///z9JGyICBEAgAkH/////AEsEQEEIEAQiBBAvIARB+DE2AgAgBEHoKEESEAMFIAJBBHQQIyILIQULCyAKQQR0IAVqQQAgAUEEdBA4GiAIQQBKBEAgCyADIAgQJRoLIAAgBTYCACAGIAdBBHQgBWo2AgAgCSACQQR0IAVqNgIAIANFBEAPCyADECILjRADE38CfgF8IwMhBSMDQTBqJAMgBUEQaiEJIABBBGoiDCgCACAAKAIAayIWQQR1IRMgASgCBCABKAIAayIKQQR1IRQgBSILQSBqIg5BADYCACAOQQRqIg9BADYCACAOQQhqIhFBADYCACAOIBQQMiAKQQBHIQUCQCADBEAgBQRAIAlBBGohCCAJQQhqIRAgC0EIaiEVQQAhCgNAAkAgCUEANgIAIAhBADYCACAQQQA2AgAgCSATEDsgACgCACIDIAwoAgBHBEBBACEFA0AgASgCACIHIApBBHRqKQMIIAVBBHQgA2opAwh8IRggCyAKQQR0IAdqKQMAIAVBBHQgA2opAwB8NwMAIBUgGDcDACAIKAIAIgMgECgCAEkEQCADIAspAwA3AwAgAyALKQMINwMIIAggA0EQajYCAAUgCSALECYLIAVBAWoiBSAMKAIAIAAoAgAiA2tBBHVJDQALCyAPKAIAIgUgESgCAEYEQCAOIAkQLCAJKAIAIQMFIAVBADYCACAFQQRqIg1BADYCACAFQQhqIgdBADYCACAIKAIAIAkoAgAiA2siBkEEdSESIA8gBgR/IBJB/////wBLDQIgDSAGECMiBjYCACAFIAY2AgAgByASQQR0IAZq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ATYCACAAQQNqIQEgAigCACEIIAUoAgAgAygCACAIQR9xQdwAahEDAAR/IAMoAgAhASADIAUoAgA2AgAgBSABNgIAIABBBGoFIAELBSABCwUgAQshAAsFAn8gAigCACEAAn8gBCgCACADKAIAIABBH3FB3ABqEQMAIQwgAigCACEBIAcoAgAgBCgCACABQR9xQdwAahEDACEBIAwLRQRAQQAgAUUNARogBCgCACEAIAQgBygCADYCACAHIAA2AgAgAigCACEAQQEgBCgCACADKAIAIABBH3FB3ABqEQMARQ0BGiADKAIAIQAgAyAEKAIANgIAIAQgADYCAEECDAELIAMoAgAhACABBEAgAyAHKAIANgIAIAcgADYCAEEBDAELIAMgBCgCADYCACAEIAA2AgAgAigCACEBIAcoAgAgACABQR9xQdwAahEDAAR/IAQoAgAhACAEIAcoAgA2AgAgByAANgIAQQIFQQELCyEACyACKAIAIQEgAygCACAEKAIAIAFBH3FB3ABqEQMABH8gByEBIAAFIAMgCkYNASAKIQEDQAJAIAIoAgAhBSABKAIAIAQoAgAgBUEfcUHcAGoRAwANACABQXxqIgEgA0cNAQwDCwsgAygCACEFIAMgASgCADYCACABIAU2AgAgAEEBagshBSADQQRqIgggAUkEfyABIQAgCCEBIAUhCAN/A0AgAigCACEJIAFBBGohBSABKAIAIAQoAgAgCUEfcUHcAGoRAwAEQCAFIQEMAQsLA0AgAigCACEJIABBfGoiACgCACAEKAIAIAlBH3FB3ABqEQMARQ0ACyABIABLBH8gCAUgASgCACEJIAEgACgCADYCACAAIAk2AgAgACAEIAEgBEYbIQQgBSEBIAhBAWohCAwBCwsFIAghASAFCyEAIAEgBEcEQCACKAIAIQUgBCgCACABKAIAIAVBH3FB3ABqEQMABEAgASgCACEFIAEgBCgCADYCACAEIAU2AgAgAEEBaiEACwsgAEUEQCADIAEgAhCoASEFIAFBBGoiACAGIAIQqAENAyAFBEBBAiEEIAYhAQwGCwsgASADayAGIAFrTg0DIAMgASACEHkgAUEEaiEDDAELCyADQQRqIQAgAigCACEBIAMoAgAgBygCACABQR9xQdwAahEDAEUEQCAAIAdGDQsDQAJAIAIoAgAhASADKAIAIAAoAgAgAUEfcUHcAGoRAwANACAHIABBBGoiAEcNAQwNCwsgACgCACEBIAAgBygCADYCACAHIAE2AgAgAEEEaiEACyAAIAdGDQogByEBA0ADQCACKAIAIQQgAEEEaiEFIAMoAgAgACgCACAEQR9xQdwAahEDAEUEQCAFIQAMAQsLA0AgAigCACEEIAMoAgAgAUF8aiIBKAIAIARBH3FB3ABqEQMADQALIAAgAUkEQCAAKAIAIQQgACABKAIANgIAIAEgBDYCACAFIQAMAQVBBCEEIAYhAQwECwAACwALQQFBAiAFGyEEIAMhACAGIAEgBRshAQwBCyABQQRqIAYgAhB5IAMhAAwBCwJAIARBB3EOBQAIAAgACAsLDAELCyACKAIAIQEgBkF8aiIAKAIAIAMoAgAgAUEfcUHcAGoRAwBFBEAPCwwFCyACKAIAIQECfyADQQRqIgAoAgAgAygCACABQR9xQdwAahEDACENIAIoAgAhBCAGQXxqIgEoAgAgACgCACAEQR9xQdwAahEDACEGIA0LRQRAIAZFBEAPCyAAKAIAIQUgACABKAIANgIAIAEgBTYCACACKAIAIQEgACgCACADKAIAIAFBH3FB3ABqEQMARQRADwsMBQsgAygCACEFIAYEQCADIAEoAgA2AgAgASAFNgIADwsgAyAAKAIANgIAIAAgBTYCACACKAIAIQIgASgCACAFIAJBH3FB3ABqEQMARQRADwsgACgCACECIAAgASgCADYCACABIAI2AgAPCyADIANBBGogA0EIaiAGQXxqIAIQShoPCyADIANBBGoiASADQQhqIgUgA0EMaiIAIAIQShogAigCACEEIAZBfGoiBigCACAAKAIAIARBH3FB3ABqEQMARQRADwsgACgCACEEIAAgBigCADYCACAGIAQ2AgAgAigCACEGIAAoAgAgBSgCACAGQR9xQdwAahEDAEUEQA8LIAUoAgAhBiAFIAAoAgAiBDYCACAAIAY2AgAgAigCACEAIAQgASgCACAAQR9xQdwAahEDAEUEQA8LIAEoAgAhACABIAUoAgAiBjYCACAFIAA2AgAgAigCACEAIAYgAygCACAAQR9xQdwAahEDAEUEQA8LIAMoAgAhACADIAEoAgA2AgAgASAANgIADwsgAyAGIAIQxQILDwsgAygCACEBIAMgACgCADYCACAAIAE2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CDcDCCAAIAMpAwA3AwAgACADKQMINwMIDAYLIARBEGoiAikDACINIApBcGoiASkDAFMhACAEKQMAIA1ZBEAgAEUNBiADIAIpAwA3AwAgAyACKQMINwMIIAIgASkDADcDACACIAEpAwg3AwggASADKQMANwMAIAEgAykDCDcDCCAEKQMAIAIpAwBZDQYgAyAEKQMANwMAIAMgBCkDCDcDCCAEIAIpAwA3AwAgBCACKQMINwMIIAIgAykDADcDACACIAMpAwg3AwgMBgsgAARAIAMgBCkDADcDACADIAQpAwg3AwggBCABKQMANwMAIAQgASkDCDcDCAwFCyADIAQpAwA3AwAgAyAEKQMINwMIIAQgAikDADcDACAEIAIpAwg3AwggAiADKQMANwMAIAIgAykDCDcDCCACKQMAIAEpAwBZDQUgAyACKQMANwMAIAMgAikDCDcDCCACIAEpAwA3AwAgAiABKQMINwMIDAQLIAQgBEEQaiAEQSBqIApBcGoQTBoMBAsgBCAEQRBqIgkgBEEgaiIFIARBMGoiARBMGiABKQMAIApBcGoiACkDAFkNAyADIAEpAwA3AwAgAyABKQMINwMIIAEgACkDADcDACABIAApAwg3AwggACADKQMANwMAIAAgAykDCDcDCCAFKQMAIAEpAwBZDQMgAyAFKQMANwMAIAMgBSkDCDcDCCAFIAEpAwA3AwAgBSABKQMINwMIIAEgAykDADcDACABIAMpAwg3AwggCSkDACAFKQMAWQ0DIAMgCSkDADcDACADIAkpAwg3AwggCSAFKQMANwMAIAkgBSkDCDcDCCAFIAMpAwA3AwAgBSADKQMINwMIIAQpAwAgCSkDAFkNAyADIAQpAwA3AwAgAyAEKQMINwMIIAQgCSkDADcDACAEIAkpAwg3AwggCSADKQMANwMAIAkgAykDCDcDCAwDCyAEQRBqIgIpAwAiDyAEQSBqIgEpAwAiDlMhACAEKQMAIg0gD1MEQAJAIAAEQCADIAQpAwA3AwAgAyAEKQMINwMIIAQgASkDADcDACAEIAEpAwg3AwggASADKQMANwMAIAEgAykDCDcDCAwBCyADIAQpAwA3AwAgAyAEKQMINwMIIAQgAikDADcDACAEIAIpAwg3AwggAiADKQMANwMAIAIgAykDCDcDCCACKQMAIA5TBEAgAyACKQMANwMAIAMgAikDCDcDCCACIAEpAwA3AwAgAiABKQMINwMIIAEgAykDADcDACABIAMpAwg3AwgLCwUgAARAIAMgAikDADcDACADIAIpAwg3AwggAiABKQMANwMAIAIgASkDCDcDCCABIAMpAwA3AwAgASADKQMINwMIIA0gAikDAFMEQCADIAQpAwA3AwAgAyAEKQMINwMIIAQgAikDADcDACAEIAIpAwg3AwggAiADKQMANwMAIAIgAykDCDcDCAsLCyAKIARBMGoiAEYNAgNAIAEpAwAgACkDACIOUwRAIAApAwghDSAAIQICQAJAA0ACQCACIAEpAwA3AwAgAiABKQMINwMIIAEgBEYEQCAEIgEhAgwBCyABQXBqIgUpAwAgDlkNAiABIQIgBSEBDAELCwwBCyABIQILIAIgDjcDACABIA03AwgLIABBEGoiAiAKRwRAIAAhASACIQAMAQsLDAILIAMkAw8LIAEgAykDADcDACABIAMpAwg3AwgLIAMkAwvPAgEIfwJ/AkACQAJAIAFBAWsOAgEAAgsgACwAJEEARwwCCw8LQQALIABBBGoiBSgCACAAQQhqIgYoAgBGckUEQAJAIAJBBGoiBygCACIDIAIoAghGBEAgAiAFECwMAQsgA0EANgIAIANBBGoiCEEANgIAIANBCGoiCkEANgIAIAYoAgAgBSgCAGsiBEEEdSEJIAQEQCAJQf////8ASwRAEAELIAggBBAjIgQ2AgAgAyAENgIAIAogCUEEdCAEajYCACAGKAIAIAUoAgAiBWsiA0EASgRAIAQgBSADECUaIAggA0EEdkEEdCAEajYCAAsLIAcgBygCAEEMajYCAAsLIABBFGoiBCgCACAAQRBqIgUoAgAiAGtBAEwEQA8LQQAhAwNAIANBAnQgAGooAgAgASACEHsgA0EBaiIDIAQoAgAgBSgCACIAa0ECdUgNAAsL1wEBBn8gAEEEaiIHKAIAIAAoAgBrQQxtIgUgAUEEaiIIKAIAIgQgASgCACIDa0EMbSIGSwRAIAEgBSAGaxDGAgUgBSAGSQRAIAVBDGwgA2oiBiAERwRAA0AgBEF0aiIDKAIAIgUEQCAEQXhqIAU2AgAgBRAiCyADIAZHBEAgAyEEDAELCwsgCCAGNgIACwsgACgCACIEIAcoAgBGBEAPC0EAIQMDQCADQQxsIARqIAEoAgAgA0EMbGogAhBeIANBAWoiAyAHKAIAIAAoAgAiBGtBDG1JDQALC5QGARF/IwMhAyMDQZABaiQDIANBGGoiC0EANgIAIANBHGoiBkEANgIAIANBADYCICADQShqIgxBADYCACADQSxqIg1BADYCACADQQA2AjAgA0E4aiIOQQA2AgAgA0E8aiIPQQA2AgAgA0FAa0EANgIAIANBBGoiCEIANwIAIAhCADcCCCADQewqNgIAIANByABqIgVCADcCACAFQgA3AgggBUIANwIQIAVCADcCGCAFQQA2AiAgA0HwAGoiBCAENgIAIANB9ABqIhAgBDYCACADQfgAaiIJQQA2AgAgA0EAOgCAASADQRRqIhFBADoAACADQQA6AIwBIANBADoAJCADQSVqIhJBADoAACADQQE6AI4BIAAoAgAiBCAAQQRqIhMoAgBHBEACQEHsKiEKA0AgAyAHQQxsIARqQQBBASAKKAIIQQdxQYwBahEBABogB0EBaiIHIBMoAgAgACgCACIEa0EMbU8NASADKAIAIQoMAAALAAsLIANBASABIAIgAhAzGiADQewqNgIAIANB8ABqIQIgCSgCAARAIBAoAgAiACgCACIBIAIoAgBBBGoiBCgCADYCBCAEKAIAIAE2AgAgCUEANgIAIAAgAkcEQANAIAAoAgQhASAAECIgASACRwRAIAEhAAwBCwsLCyADKAJgIgAEQCADIAA2AmQgABAiCyADKAJUIgAEQCADIAA2AlggABAiCyAFKAIAIgAEQCADIAA2AkwgABAiCyADQdAqNgIAIANBDGoiBCADKAIIIgA2AgAgCCAANgIAIAYoAgAiASADQRhqIgcoAgAiAEYEQCABIQAFQQAhAgNAIAJBAnQgAGooAgAiBQRAIAUQIiAGKAIAIQEgBygCACEACyACQQFqIgIgASAAa0ECdUkNAAsLIAYgADYCACARQQA6AAAgEkEAOgAAIA4oAgAiAARAIA8gADYCACAAECILIAwoAgAiAARAIA0gADYCACAAECILIAsoAgAiAARAIAYgADYCACAAECILIAMoAggiAEUEQCADJAMPCyAEIAA2AgAgABAiIAMkAwuvJwMkfwR+B3wjAyEJIwNBIGokAyAAQRBqIhUoAgAiDiAAQRRqIgooAgAiAkcEQANAIAJBdGoiAygCACIGBEAgAkF4aiAG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IgZBADYCACAHKAIAIAgoAgBrIgJBBHUhBCACBEBB0AAgBEH/////AEsNBhogAyACECMiAjYCACALIAI2AgAgBiAEQQR0IAJqNgIAIAcoAgAgGSgCACIGayIEQQBKBEAgAiAGIAQQJRogAyAEQQR2QQR0IAJqNgIACwsgCiAKKAIAQQxqNgIACwwCCyAFIAI2AgAgBkEASiIRBEAgFEEoaiEEQQAhAwNAIAAgAyAFIAQoAgAQQyADQQFqIgMgD0gNAAsLIAooAgAiECAWKAIARgRAIBUgCBAsBSAQQQA2AgAgEEEEaiIEQQA2AgAgEEEIaiIPQQA2AgAgBygCACAIKAIAayIDQQR1IQYgAwRAQdwAIAZB/////wBLDQUaIAQgAxAjIgM2AgAgECADNgIAIA8gBkEEdCADajYCACAHKAIAIBkoAgAiD2siBkEASgRAIAMgDyAGECUaIAQgBkEEdkEEdCADajYCAAsLIAogCigCAEEMajYCAAsgByAIKAIANgIAIAwoAgAiBCACQQR0aisDACEqIAJBBHQgBGorAwghKyALBEAgAiEDA0AgA0F/aiIGQQR0IARqKwMImiEsIANBBHQgBGogBkEEdCAEaisDAJo5AwAgA0EEdCAEaiAsOQMIIAwoAgAhBCADQQFKBEAgBiEDDAELCwsgBCAqmjkDACAEICuaOQMIIAVBADYCACARBEAgFEEoaiEEA0AgACACIAUgBCgCABBDIAJBf2ohAyACQQBKBEAgAyECDAELCwsgCigCACILIBYoAgBGBEAgFSAIECwFIAtBADYCACALQQRqIgNBADYCACALQQhqIgZBADYCACAHKAIAIAgoAgBrIgJBBHUhBCACBEACQEHqACAEQf////8ASw0GGiADIAIQIyICNgIAIAsgAjYCACAGIARBBHQgAmo2AgAgBygCACAZKAIAIgZrIgRBAEwNACACIAYgBBAlGiADIARBBHZBBHQgAmo2AgALCyAKIAooAgBBDGo2AgALDAELIAVBADYCACAGQSBKIhAEQCAUQShqIQRBASEDA0AgACADIAUgBCgCABBDIANBAWoiAyACSA0ACyARKAIAIQMLIAlCADcDACAJQgA3AwggA0ECRgRAIAwoAgAiAyACQQR0aisDACABoiANKAIAIgQgAkEEdGopAwC5oCEqIAJBBHQgA2orAwgg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AmoRDAALBwAgACABRgsLACAAEI8BIAAQIgsSACAAQeQxNgIAIABBBGoQ8QELowQCBn8CfgJAIAG9IghC////////////AINCgICAgICAgPj/AFgEQCAAvSIJQv///////////wCDQoCAgICAgID4/wBYBEAgCKciAyAIQiCIpyIGQYCAwIB8anJFBEAgABCRAQ8LIAlCP4inIgUgCEI+iKdBAnEiB3IhAiAJQiCIp0H/////B3EiBCAJp3JFBEACQAJAAkACQCACQQNxDgQCAgABAwtEGC1EVPshCUAPC0QYLURU+yEJwA8LIAAPCwsgAyAGQf////8HcSIDckUNAiADQYCAwP8HRwRAIARBgIDA/wdGIANBgICAIGogBElyDQMgB0EARyAEQYCAgCBqIANJcQR8RAAAAAAAAAAABSAAIAGjmRCRAQshAAJAAkACQAJAIAJBA3EOAwIAAQMLIACaDwtEGC1EVPshCUAgAEQHXBQzJqahvKChDwsgAA8LIABEB1wUMyamobygRBgtRFT7IQnAoA8LIAJB/wFxIQIgBEGAgMD/B0YEQAJAAkACQAJAAkAgAkEDcQ4EAwABAgQLRBgtRFT7Iem/DwtE0iEzf3zZAkAPC0TSITN/fNkCwA8LRBgtRFT7Iek/DwsFAkACQAJAAkACQCACQQNxDgQDAAECBAtEAAAAAAAAAIAPC0QYLURU+yEJQA8LRBgtRFT7IQnADwtEAAAAAAAAAAAPCwsLCyAAIAGgDwtEGC1EVPsh+b9EGC1EVPsh+T8gBRsLiAQDAn8BfgJ8IAC9IgNCP4inIQIgA0IgiKdB/////wdxIgFB//+/oARLBEAgAEQYLURU+yH5v0QYLURU+yH5PyACGyADQv///////////wCDQoCAgICAgID4/wBWGw8LIAFBgIDw/gNJBEAgAUGAgIDyA0kEfyAADwVBfwshAQUgAJkhACABQYCAzP8DSQR8IAFBgICY/wNJBHxBACEBIABEAAAAAAAAAECiRAAAAAAAAPC/oCAARAAAAAAAAABAoKMFQQEhASAARAAAAAAAAPC/oCAARAAAAAAAAPA/oKMLBSABQYCAjoAESQR8QQIhASAARAAAAAAAAPi/oCAARAAAAAAAAPg/okQAAAAAAADwP6CjBUEDIQFEAAAAAAAA8L8gAKMLCyEACyAAIACiIgUg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BSkDACAGKQMAWQ0DIAMgBSkDADcDACADIAUpAwg3AwggBSAGKQMANwMAIAUgBikDCDcDCCAGIAMpAwA3AwAgBiADKQMINwMIIAQpAwAgBSkDAFkNAyADIAQpAwA3AwAgAyAEKQMINwMIIAQgBSkDADcDACAEIAUpAwg3AwggBSADKQMANwMAIAUgAykDCDcDCCAAKQMAIAQpAwBZDQMgAyAAKQMANwMAIAMgACkDCDcDCCAAIAQpAwA3AwAgACAEKQMINwMIIAQgAykDADcDACAEIAMpAwg3AwgMAwsgAEEQaiIEKQMAIgkgAEEgaiICKQMAIgpTIQUgACkDACILIAlTBEACQCAFBEAgAyAAKQMANwMAIAMgACkDCDcDCCAAIAIpAwA3AwAgACACKQMINwMIIAIgAykDADcDACACIAMpAwg3AwgMAQsgAyAAKQMANwMAIAMgACkDCDcDCCAAIAQpAwA3AwAgACAEKQMINwMIIAQgAykDADcDACAEIAMpAwg3AwggBCkDACAKUwRAIAMgBCkDADcDACADIAQpAwg3AwggBCACKQMANwMAIAQgAikDCDcDCCACIAMpAwA3AwAgAiADKQMINwMICwsFIAUEQCADIAQpAwA3AwAgAyAEKQMINwMIIAQgAikDADcDACAEIAIpAwg3AwggAiADKQMANwMAIAIgAykDCDcDCCALIAQpAwBTBEAgAyAAKQMANwMAIAMgACkDCDcDCCAAIAQpAwA3AwAgACAEKQMINwMIIAQgAykDADcDACAEIAMpAwg3AwgLCwsgASAAQTBqIgRGDQIDQAJAIAIpAwAgBCkDACIJUwRAIAMgBCkDCDcDACAEIQUCQAJAA0ACQCAFIAIpAwA3AwAgBSACKQMINwMIIAAgAkYEQCAAIgIhBQwBCyACQXBqIgcpAwAgCVkNAiACIQUgByECDAELCwwBCyACIQULIAUgCTcDACACIAMpAwA3AwggBkEBaiICQQhGDQEFIAYhAgsgASAEQRBqIgZGDQQCfyAEIQggBiEEIAIhBiAICyECDAELCyADJAMgASAEQRBqRg8LIAMgACkDADcDACADIAApAwg3AwggACABKQMANwMAIAAgASkDCDcDCAsgASADKQMANwMAIAEgAykDCDcDCAsgAyQDQQELCgAgACABsDcDCAsIACAAKQMIuQsKACAAIAGwNwMACwgAIAApAwC5C6QGAQ9/IwMhAyMDQZABaiQDIAAgASACQQBBARBdIANBGGoiC0EANgIAIANBHGoiBkEANgIAIANBADYCICADQShqIgxBADYCACADQSxqIg1BADYCACADQQA2AjAgA0E4aiIOQQA2AgAgA0E8aiIPQQA2AgAgA0FAa0EANgIAIANBBGoiCUIANwIAIAlCADcCCCADQewqNgIAIANByABqIgVCADcCACAFQgA3AgggBUIANwIQIAVCADcCGCAFQQA2AiAgA0HwAGoiACAANgIAIANB9ABqIgcgADYCACADQfgAaiIKQQA2AgAgA0EAOgCAASADQRRqIhBBADoAACADQQA6AIwBIANBADoAjgEgA0EAOgAkIANBJWoiEUEAOgAAIAIoAgAiACACQQRqIggoAgBHBEACQEEAIQFB7CohBANAIAMgAUEMbCAAakEAQQEgBCgCCEEHcUGMAWoRAQAaIAFBAWoiASAIKAIAIAIoAgAiAGtBDG1PDQEgAygCACEEDAAACwALCyADQQEgAkEBQQEQMxogA0HsKjYCACADQfAAaiEEIAooAgAEQCAHKAIAIgAoAgAiAiAEKAIAQQRqIgEoAgA2AgQgASgCACACNgIAIApBADYCACAAIARHBEADQCAAKAIEIQEgABAiIAEgBEcEQCABIQAMAQsLCwsgAygCYCIABEAgAyAANgJkIAAQIgsgAygCVCIABEAgAyAANgJYIAAQIgsgBSgCACIABEAgAyAANgJMIAAQIgsgA0HQKjYCACADQQxqIgcgAygCCCIANgIAIAkgADYCACAGKAIAIgAgA0EYaiIIKAIAIgFGBEAgACEBBUEAIQIDQCACQQJ0IAFqKAIAIgQEQCAEECIgCCgCACEBIAYoAgAhAAsgAkEBaiICIAAgAWtBAnVJDQALCyAGIAE2AgAgEEEAOgAAIBFBADoAACAOKAIAIgAEQCAPIAA2AgAgABAiCyAMKAIAIgAEQCANIAA2AgAgABAiCyALKAIAIgAEQCAGIAA2AgAgABAiCyADKAIIIgBFBEAgAyQDDwsgByAANgIAIAAQIiADJAML3AkCG38DfiMDIQcjA0GwAWokAyAHQQxqIQggB0EYaiIEQRhqIhNBADYCACAEQRxqIg1BADYCACAEQQA2AiAgBEEoaiIUQQA2AgAgBEEsaiIVQQA2AgAgBEEANgIwIARBOGoiFkEANgIAIARBPGoiF0EANgIAIARBQGtBADYCACAEQQRqIhBCADcCACAQQgA3AgggBEHsKjYCACAEQcgAaiIKQgA3AgAgCkIANwIIIApCADcCECAKQgA3AhggCkEANgIgIARB8ABqIgUgBTYCACAEQfQAaiIYIAU2AgAgBEH4AGoiEUEANgIAIARBADoAgAEgBEEUaiIZQQA6AAAgBEEAOgCMASAEQQA6AI4BIARBADoAJCAEQSVqIhpBADoAACABKAIAIgUgAUEEaiIbKAIARwRAIAhBBGohCyAIQQhqIRwgB0EEaiESIAdBCGohHQNAIAhBADYCACALQQA2AgAgHEEANgIAIAAgDkEMbCAFaiAIQQEgAxBdIAgoAgAiBSALKAIARwRAQQAhBgNAIAQgBkEMbCAFakEAQQEgBCgCACgCCEEHcUGMAWoRAQAaIAZBAWoiBiALKAIAIAgoAgAiBWtBDG1JDQALCyADBH8gB0EANgIAIBJBADYCACAdQQA2AgAgASgCACIFIA5BDGxqIQkgACgCACIGKQMAIR8gBikDCCEgIA5BDGwgBWpBBGoiDCgCACIGIAkoAgAiBWsiDwRAIAcgD0EEdRBcIAwoAgAhBiAJKAIAIQULIAUgBkcEQEEAIQYDQCAgIAZBBHQgBWopAwh8ISEgBygCACIPIAZBBHRqIB8gBkEEdCAFaikDAHw3AwAgBkEEdCAPaiAhNwMIIAZBAWoiBiAMKAIAIAkoAgAiBWtBBHVJDQALCyAEIAdBAUEBEEYaIAcoAgAiBQRAIBIgBTYCACAFECILIAgoAgAFIAULIgYEQAJ/IAYgCygCACIFRgR/IAYFA0AgBUF0aiIJKAIAIgwEQCAFQXhqIAw2AgAgDBAiCyAGIAlHBEAgCSEFDAELCyAIKAIACyEeIAsgBjYCACAeCxAiCyAOQQFqIg4gGygCACABKAIAIgVrQQxtSQ0ACwsgBEEBIAJBAUEBEDMaIARB7Co2AgAgBEHwAGohAiARKAIABEAgGCgCACIAKAIAIgEgAigCAEEEaiIDKAIANgIEIAMoAgAgATYCACARQQA2AgAgACACRwRAA0AgACgCBCEBIAAQIiABIAJHBEAgASEADAELCwsLIAQoAmAiAARAIAQgADYCZCAAECILIAQoAlQiAARAIAQgADYCWCAAECILIAooAgAiAARAIAQgADYCTCAAECILIARB0Co2AgAgBEEMaiIDIAQoAggiADYCACAQIAA2AgAgDSgCACIBIARBGGoiBSgCACIARgRAIAEhAAVBACECA0AgAkECdCAAaigCACIGBEAgBhAiIA0oAgAhASAFKAIAIQALIAJBAWoiAiABIABrQQJ1SQ0ACwsgDSAANgIAIBlBADoAACAaQQA6AAAgFigCACIABEAgFyAANgIAIAAQIgsgFCgCACIABEAgFSAANgIAIAAQIgsgEygCACIABEAgDSAANgIAIAAQIgsgBCgCCCIARQRAIAckAw8LIAMgADYCACAAECIgByQDC6QGAQ5/IwMhBCMDQZABaiQDIAAgASACQQEgAxBdIARBGGoiC0EANgIAIARBHGoiBkEANgIAIARBADYCICAEQShqIgxBADYCACAEQSxqIg1BADYCACAEQQA2AjAgBEE4aiIOQQA2AgAgBEE8aiIPQQA2AgAgBEFAa0EANgIAIARBBGoiCUIANwIAIAlCADcCCCAEQewqNgIAIARByABqIgVCADcCACAFQgA3AgggBUIANwIQIAVCADcCGCAFQQA2AiAgBEHwAGoiACAANgIAIARB9ABqIgcgADYCACAEQfgAaiIKQQA2AgAgBEEAOgCAASAEQRRqIhBBADoAACAEQQA6AIwBIARBADoAjgEgBEEAOgAkIARBJWoiEUEAOgAAIAIoAgAiACACQQRqIggoAgBHBEACQEEAIQFB7CohAwNAIAQgAUEMbCAAakEAQQEgAygCCEEHcUGMAWoRAQAaIAFBAWoiASAIKAIAIAIoAgAiAGtBDG1PDQEgBCgCACEDDAAACwALCyAEQQEgAkEBQQEQMxogBEHsKjYCACAEQfAAaiEDIAooAgAEQCAHKAIAIgAoAgAiAiADKAIAQQRqIgEoAgA2AgQgASgCACACNgIAIApBADYCACAAIANHBEADQCAAKAIEIQEgABAiIAEgA0cEQCABIQAMAQsLCwsgBCgCYCIABEAgBCAANgJkIAAQIgsgBCgCVCIABEAgBCAANgJYIAAQIgsgBSgCACIABEAgBCAANgJMIAAQIgsgBEHQKjYCACAEQQxqIgcgBCgCCCIANgIAIAkgADYCACAGKAIAIgAgBEEYaiIIKAIAIgFGBEAgACEBBUEA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AgAiAyABQRRqIgsoAgBHBEAgCyADNgIACyAAEH8gACACEH4gCEEYaiIEQRhqIhVBADYCACAEQRxqIg9BADYCACAEQQA2AiAgBEEoaiIWQQA2AgAgBEEsaiIXQQA2AgAgBEEANgIwIARBOGoiGEEANgIAIARBPGoiGUEANgIAIARBQGtBADYCACAEQQRqIhJCADcCACASQgA3AgggBEHsKjYCACAEQcgAaiIOQgA3AgAgDkIANwIIIA5CADcCECAOQgA3AhggDkEANgIgIARB8ABqIgMgAzYCACAEQfQAaiIaIAM2AgAgBEH4AGoiE0EANgIAIARBADoAgAEgBEEUaiIbQQA6AAAgBEGMAWoiEEEAOgAAIARBADoAjgEgBEEAOgAkIARBJWoiHEEAOgAAIABBFGoiBigCACAAQRBqIgcoAgAiAEcEQAJAQQAhA0HsKiEFA0AgBCADQQxsIABqQQBBASAFKAIIQQdxQYwBahEBABogA0EBaiIDIAYoAgAgBygCACIAa0EMbU8NASAEKAIAIQUMAAALAAsLIAhBqAFqIRQgCEEIaiENIAJEAAAAAAAAAABkBEAgBEEBIAFBAkECEE8aBSAEKAIIIgUgBCgCDCIdRgRAIAhCADcDAAUgCCAFKAIIIgMpAwAiIzcDACADKQMIIiUhJiAjISEgJSEnA0AgJyAlUyEeIAVBDGohHyADIQcgIyEiICEhIwNAIAcpAwAiISAiUyEGIAggBygCWCIABH8gIiEkA0AgISAiIAYbISIgISAjICEgI1UbISMgACkDACIoICEgJCAGGyIkUyEGIAAoAlgiDARAICghISAMIQAMAQsLIAggIjcDACAGIQwgAAUgBiEMIAciAAsiBiAIIAwbKQMAIiI3AwAgBikDACIhICMgIyAhUxshJCAIIAApAyAiISAiICEgIlMbIiM3AwAgISAkICQgIVMbISEgACkDKCIiICYgIiAmUxshJiADIAdGBEAgHygCACEHICMhIiAhISMMAQsLICUgJyAeGyEiIB0gBUEQaiIARwRAIAUoAhghAyAAIQUgAykDCCElICIhJwwBCwsLIA1BADYCACANQQRqIgxBADYCACANQQhqIgBBADYCACANQcAAECMiAzYCACAAIANBQGsiADYCACAMIAA2AgAgAyAjQnZ8IiM3AwAgAyAiQgp8IiI3AwggAyAhQgp8IiE3AxAgAyAiNwMYIAMgITcDICADICZCdnwiITcDKCADICM3AzAgAyAhNwM4IAQgDUEAQQEQRhogEEEBOgAAIARBASABQQNBAxBPGgJAAn8CfwJAIAsoAgAgCigCACIAa0EERw0AIAAoAgAiAEEQaiEGIABBFGoiECgCACAGKAIAayIFQQBMDQAgCiAFQQJ2EGAgCigCACAGKAIAKAIANgIAIAooAgAiBSgCACAAKAIcNgIcIBAoAgAgBigCACIAa0EESgRAIAFBGGohCUEBIQMDQCALKAIAIQcgFCADQQJ0IABqKAIAIgA2AgAgCSgCACAHSwRAIAcgADYCACALIAsoAgBBBGo2AgAFIAogFBAoCyAAIAE2AhwgACAHIAVrQQJ1NgIgIANBAWoiAyAQKAIAIAYoAgAiAGtBAnVIBEAgCigCACEFDAELCyANKAIAIgAEQCAADAMLBSADIgAMAgsMAwsgCSgCACIBIBEoAgAiAEcEQEEAIQUDQCAFQQJ0IABqKAIAIgYEQCAGIAYoAgAoAgRBP3FBpAFqEQAAIAkoAgAhASARKAIAIQALIAVBAWoiBSABIABrIgZBAnVJDQALIAYEQCAJIAA2AgALCyAKKAIAIgAgCygCAEcEQCALIAA2AgALIAMiAAshICAMIAA2AgAgIAsQIgsLIARB7Co2AgAgBEHwAGohAyATKAIABEAgGigCACIAKAIAIgEgAygCAEEEaiIFKAIANgIEIAUoAgAgATYCACATQQA2AgAgACADRwRAA0AgACgCBCEBIAAQIiABIANHBEAgASEADAELCwsLIAQoAmAiAARAIAQgADYCZCAAECILIAQoAlQiAARAIAQgADYCWCAAECILIA4oAgAiAARAIAQgADYCTCAAECILIARB0Co2AgAgBEEMaiIFIAQoAggiADYCACASIAA2AgAgDygCACIBIARBGGoiBigCACIARgRAIAEhAAVBACEDA0AgA0ECdCAAaigCACIHBEAgBxAiIA8oAgAhASAGKAIAIQALIANBAWoiAyABIABrQQJ1SQ0ACwsgDyAANgIAIBtBADoAACAcQQA6AAAgGCgCACIABEAgGSAANgIAIAAQIgsgFigCACIABEAgFyAANgIAIAAQIgsgFSgCACIABEAgDyAANgIAIAAQIgsgBCgCCCIARQRAIAgkAw8L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CiAFUwRAIANFDQEgAEEBIABrIAkgB1UgCSAGfbkgCiAFfbmiIAcgBn25IAggBX25oqEiC0QAAAAAAAAAAGRzGyEAIAtEAAAAAAAAAABiDQFBfyEADAMLIAMEQEEBIABrIQAFIABBASAAayAJIAdVIAkgBn25IAogBX25oiAHIAZ9uSAIIAV9uaKhIgtEAAAAAAAAAABkcxshACALRAAAAAAAAAAAYQRAQX8hAAwECwsLCyABQQFqIgEgBE0EQCAIIQogCSEHDAILCwsgAAufAQEFfyABIAAoAgBqIQFBDBAjIgBBADYCACAAQQRqIgNBADYCACAAQQhqIgRBADYCACABKAIEIAEoAgAiBWsiAUUEQCAADwsgAUECdSIGQf////8DSwRAEAELIAMgARAjIgI2AgAgACACNgIAIAQgBkECdCACajYCACABQQBMBEAgAA8LIAIgBSABECUaIAMgAUECdkECdCACajYCACAACyMBAX8gAiABIAAoAgBqIgNGBEAPCyADIAIoAgAgAigCBBB3C58BAQV/IAEgACgCAGohAUEMECMiAEEANgIAIABBBGoiA0EANgIAIABBCGoiBEEANgIAIAEoAgQgASgCACIFayIBRQRAIAAPCyABQQR1IgZB/////wBLBEAQAQsgAyABECMiAjYCACAAIAI2AgAgBCAGQQR0IAJqNgIAIAFBAEwEQCAADwsgAiAFIAEQJRogAyABQQR2QQR0IAJqNgIAIAALOgECf0EwECMiAUHAKjYCACABQQRqIgBCADcCACAAQgA3AgggAEIANwIQIABCADcCGCAAQQA6ACAgAQukAQEGf0EMECMiAkEANgIAIAJBBGoiBEEANgIAIAJBCGoiBUEANgIAIAEoAgQgASgCACIGayIBRQRAIAAgAjYCAA8LIAFBBHUiB0H/////AEsEQBABCyAEIAEQIyIDNgIAIAIgAzYCACAFIAdBBHQgA2o2AgAgAUEATARAIAAgAjYCAA8LIAMgBiABECUaIAQgAUEEdkEEdCADajYCACAAIAI2AgALcQEGfyAARQRADwsgACgCACICBEACfyACIABBBGoiBSgCACIBRgR/IAIFA0AgAUF0aiIDKAIAIgQEQCABQXhqIAQ2AgAgBBAiCyACIANHBEAgAyEBDAELCyAAKAIACyEGIAUgAjYCACAGCxAiCyAAECILBQBBiCMLwgYBDn8gAEEIaiIQKAIAIg0gAEEEaiIIKAIAIgdrQQxtIAFPBEAgAkEEaiEJIAEhAyAHIQQCQAJAA0ACQCAEQQA2AgAgBEEEaiIKQQA2AgAgBEEIaiIGQQA2AgAgCSgCACACKAIAayIFQQR1IQsgBQRAIAtB/////wBLDQEgCiAFECMiBTYCACAEIAU2AgAgBiALQQR0IAVqNgIAIAkoAgAgAigCACIEayIGQQBKBEAgBSAEIAYQJRogCiAGQQR2QQR0IAVqNgIACwsgCCAIKAIAQQxqIgQ2AgAgA0F/aiIDDQEMAgsLEAEMAQsPCwsgASAHIAAoAgAiA2tBDG0iB2oiBkHVqtWqAUsEQBABCyAGIA0gA2tBDG0iBEEBdCIDIAMgBkkbQdWq1aoBIARBqtWq1QBJGyIOBEAgDkHVqtWqAUsEQEEIEAQiAxAvIANB+DE2AgAgA0HoKEESEAMFIA5BDGwQIyEPCwsgAkEEaiEJIAdBDGwgD2oiBCIGIQcgBCEDAkACQANAIANBADYCACADQQRqIgpBADYCACADQQhqIg1BADYCACAJKAIAIAIoAgBrIgVBBHUhCyAFBEAgC0H/////AEsNAiAKIAUQIyIFNgIAIAMgBTYCACANIAtBBHQgBWo2AgAgCSgCACACKAIAIgNrIgxBAEoEQCAFIAMgDBAlGiAKIAxBBHZBBHQgBWo2AgALCyAHQQxqIgwhAyABQX9qIgEEQCADIQcgDCEDDAELCwwBCxABCyAAKAIAIgcgCCgCACIDRgR/IAYhASAHIgIFIAQhAgNAIAJBdGoiAUEANgIAIAJBeGoiBEEANgIAIAJBfGoiBkEANgIAIAEgA0F0aiICKAIANgIAIAQgA0F4aiIEKAIANgIAIAYgA0F8aiIDKAIANgIAIANBADYCACAEQQA2AgAgAkEANgIAIAIgB0cEQCACIQMgASECDAELCyAAKAIAIQIgCCgCAAshAyAAIAE2AgAgCCAMNgIAIBAgDkEMbCAPajYCACACIANHBEAgAyEAA0AgAEF0aiIBKAIAIgMEQCAAQXhqIAM2AgAgAxAiCyABIAJHBEAgASEADAELCwsgAkUEQA8LIAIQIgsQACAAKAIEIAAoAgBrQQR1CyoBAX8gAiAAKAIAIAFBDGxqIgNGBEBBAQ8LIAMgAigCACACKAIEEHdBAQtOAQF/IwMhAyMDQRBqJAMgASgCBCABKAIAIgFrQQxtIAJNBEAgAEEBNgIAIAMkAw8LIAMgAkEMbCABahC0AiAAQdgiIAMQDTYCACADJAMLgAEBBH8gAEEEaiIFKAIAIgMgACgCACIGa0EMbSIEIAFJBEAgACABIARrIAIQtwIPCyAEIAFNBEAPCyADIgAgAUEMbCAGaiICRwRAA0AgAEF0aiIBKAIAIgMEQCAAQXhqIAM2AgAgAxAiCyABIAJHBEAgASEADAELCwsgBSACNgIAC5QBAwN/An4BfCAAKAIEIAAoAgAiAWsiAkEwSARARAAAAAAAAAAADwtBACEAIAJBBHUiA0F/aiICQQR0IAFqKQMAIQQgAkEEdCABaikDCCEFA0AgBiAEuSAAQQR0IAFqKQMAIgS5oCAFuSAAQQR0IAFqKQMIIgW5oaKgIQYgAEEBaiIAIANIDQALIAZEAAAAAAAA4L+iCwUAQdgiC+ECAQd/IABBCGoiCSgCACIEIABBBGoiBSgCACIDa0EEdSABTwRAIAMhAANAIAAgAikDADcDACAAIAIpAwg3AwggBSAFKAIAQRBqIgA2AgAgAUF/aiIBDQALDwsgASADIAAoAgAiA2tBBHUiBmoiB0H/////AEsEQBABCyAHIAQgA2siA0EDdSIEIAQgB0kbQf////8AIANBBHVB////P0kbIgQEQCAEQf////8ASwRAQQgQBCIDEC8gA0H4MTYCACADQegoQRIQAwUgBEEEdBAjIQgLCyAGQQR0IAhqIgYhAwNAIAMgAikDADcDACADIAIpAwg3AwggA0EQaiEDIAFBf2oiAQ0AC0EAIAUoAgAgACgCACIBayICQQR1a0EEdCAGaiEDIAJBAEoEQCADIAEgAhAlGgsgACADNgIAIAUgB0EEdCAIajYCACAJIARBBHQgCGo2AgAgAUUEQA8LIAEQIgslAQF/IAAoAgAgAUEEdGoiAyACKQMANwMAIAMgAikDCDcDCEEBC2gBAn8jAyEDIwNBEGokAyABKAIEIAEoAgAiBGtBBHUgAk0EQCAAQQE2AgAgAyQDDwtBEBAjIgEgAkEEdCAEaiICKQMANwMAIAEgAikDCDcDCCADIAE2AgAgAEHAIyADEA02AgAgAyQDC0QBA38gAEEEaiIEKAIAIAAoAgAiBWtBBHUiAyABSQRAIAAgASADayACEL4CDwsgAyABTQRADwsgBCABQQR0IAVqNgIACz8BAX8jAyEDIwNBEGokAyADIAEgAiAAQQFxQfQBahEHAEEQECMiACADKQMANwMAIAAgAykDCDcDCCADJAMgAAuXAQMDfwJ+AXwgACgCBCAAKAIAIgFrIgJBMEgEQEEBDwtBACEAIAJBBHUiA0F/aiICQQR0IAFqKQMAIQQgAkEEdCABaikDCCEFA0AgBiAEuSAAQQR0IAFqKQMAIgS5oCAFuSAAQQR0IAFqKQMIIgW5oaKgIQYgAEEBaiIAIANIDQALIAZEAAAAAAAA4L+iRAAAAAAAAAAAZgsFAEHAIwu3AwEHfyACKAIAIQQCfyAAQQRqIgUoAgAgACgCACAEQR9xQdwAahEDACEJIAIoAgAhBiAAQQhqIgQoAgAgBSgCACAGQR9xQdwAahEDACEGIAkLBEACQCAAKAIAIQMgBgRAIAAgBCgCADYCACAEIAM2AgAMAQsgACAFKAIANgIAIAUgAzYCACACKAIAIQYgBCgCACADIAZBH3FB3ABqEQMABEAgBSgCACEDIAUgBCgCADYCACAEIAM2AgALCwUgBgRAIAUoAgAhAyAFIAQoAgAiBjYCACAEIAM2AgAgAigCACEDIAYgACgCACADQR9xQdwAahEDAARAIAAoAgAhAyAAIAUoAgA2AgAgBSADNgIACwsLIAEgAEEMaiIFRgRADwsDQCACKAIAIQMgBSgCACAEKAIAIANBH3FB3ABqEQMABEAgBSgCACIHIQggBSEDA0ACQCADIAQoAgA2AgAgACAERgRAIAAhBAwBCyACKAIAIQMgCCAEQXxqIgYoAgAgA0EfcUHcAGoRAwAEQCAEIQMgBiEEDAILCwsgBCAHNgIACyAFQQRqIgMgAUcEQCAFIQQgAyEFDAELCwvXAwELfyAAQQRqIggoAgAiAiEDIABBCGoiCygCACIFIAJrQQxtIAFPBEAgAkEAIAFBDGwQOBogCCABQQxsIANqNgIADwsgASACIAAoAgAiAmtBDG0iBmoiBEHVqtWqAUsEQBABCyAEIAUgAmtBDG0iBUEBdCIHIAcgBEkbQdWq1aoBIAVBqtWq1QBJGyIHBEAgB0HVqtWqAUsEQEEIEAQiBBAvIARB+DE2AgAgBEHoKEESEAMFIAdBDGwQIyEKCwsgBkEMbCAKaiIFQQAgAUEMbBA4GiACIgYgA0YEQCAFIQQFIAUhAgNAIAJBdGoiBEEANgIAIAJBeGoiCUEANgIAIAJBfGoiDEEANgIAIAQgA0F0aiICKAIANgIAIAkgA0F4aiIJKAIANgIAIAwgA0F8aiIDKAIANgIAIANBADYCACAJQQA2AgAgAkEANgIAIAIgBkcEQCACIQMgBCECDAELCyAAKAIAIgIhBiAIKAIAIQMLIAAgBDYCACAIIAFBDGwgBWo2AgAgCyAHQQxsIApqNgIAIAMgBkcEQCADIQADQCAAQXRqIgEoAgAiAwRAIABBeGogAzYCACADECILIAEgBkcEQCABIQAMAQsLCyACRQRADwsgAhAiCxwBAX8gAEEEaiIBLAALQQBIBH8gASgCAAUgAQsLLAEBfyAAQYwrNgIAIABBBGoiASwAC0EATgRAIAAQIg8LIAEoAgAQIiAAECILJAECf0EBIQEDQCABQQFzIQIgACgCHCIABEAgAiEBDAELCyABC0ABAX8gAEHAKjYCACAAKAIQIgEEQCAAIAE2AhQgARAiCyAAKAIEIgFFBEAgABAiDwsgACABNgIIIAEQIiAAECILxAEBBX8gAEHsKjYCACAAQfAAaiEDIABB+ABqIgIoAgAEQCAAKAJ0IgEoAgAiBCADKAIAQQRqIgUoAgA2AgQgBSgCACAENgIAIAJBADYCACABIANHBEADQCABKAIEIQIgARAiIAIgA0cEQCACIQEMAQsLCwsgACgCYCIBBEAgACABNgJkIAEQIgsgACgCVCIBBEAgACABNgJYIAEQIgsgACgCSCIBRQRAIAAQQCAAECIPCyAAIAE2AkwgARAiIAAQQCAAECILDQAgACABQQFxOgCOAQsLACAALACOAUEARwsNACAAIAFBAXE6AIwBCwsAIAAsAIwBQQBHCwwAIAAgAUEBcToAJAsDAAELCAAgACkDGLkLCgAgACABsDcDEAt+AQJ/IAAoAhAiASAAKAIURwRAIAEoAgAPCyAAKAIcIgJFBEBBAA8LIAAhASACIQACQAJAA0AgASgCICIBIAAoAhQgACgCECICa0ECdUF/akYEQCAAKAIcIgJFDQIgACEBIAIhAAwBCwsMAQtBAA8LIAFBAWpBAnQgAmooAgALCAAgACkDELkLgQIBAX9B+CRBkCVBoCVBAEGywQBBJEG1wQBBAEG1wQBBAEHgN0G3wQBBJhAJQfgkQQFBsCxBssEAQSVBBRALQQgQIyIAQRQ2AgAgAEEANgIEQfgkQcjBAEEDQbQsQdY+QRMgAEEAEABBCBAjIgBBFDYCACAAQQA2AgRB+CRB0sEAQQRBwAhB4cIAQQ0gAEEAEABBCBAjIgBBJjYCACAAQQA2AgRB+CRB2cEAQQJBwCxBlsAAQRQgAEEAEABBBBAjIgBBFTYCAEH4JEHewQBBA0HILEHnwgBBDCAAQQAQAEEEECMiAEENNgIAQfgkQeLBAEEEQdAIQezCAEEHIABBABAACwcAIAAoAhwLgQIBAX9BiCNBiCRBmCRBAEGywQBBIUG1wQBBAEG1wQBBAEH/NUG3wQBBJRAJQYgjQQFB8CtBssEAQSJBBBALQQgQIyIAQRM2AgAgAEEANgIEQYgjQcjBAEEDQfQrQdY+QRAgAEEAEABBCBAjIgBBETYCACAAQQA2AgRBiCNB0sEAQQRBoAhB4cIAQQwgAEEAEABBCBAjIgBBIzYCACAAQQA2AgRBiCNB2cEAQQJBgCxBlsAAQRMgAEEAEABBBBAjIgBBEjYCAEGII0HewQBBA0GILEHnwgBBCiAAQQAQAEEEECMiAEELNgIAQYgjQeLBAEEEQbAIQezCAEEGIABBABAAC4ECAQF/QdgiQegjQfgjQQBBssEAQR5BtcEAQQBBtcEAQQBB+jVBt8EAQSQQCUHYIkEBQcwrQbLBAEEfQQMQC0EIECMiAEESNgIAIABBADYCBEHYIkHIwQBBA0HQK0HWPkENIABBABAAQQgQIyIAQQ42AgAgAEEANgIEQdgiQdLBAEEEQYAIQeHCAEELIABBABAAQQgQIyIAQSA2AgAgAEEANgIEQdgiQdnBAEECQdwrQZbAAEESIABBABAAQQQQIyIAQQ82AgBB2CJB3sEAQQNB5CtB58IAQQggAEEAEABBBBAjIgBBCTYCAEHYIkHiwQBBBEGQCEHswgBBBSAAQQAQAAubFQECf0HPNEEDQZgrQdY+QQFBARACQdY0QQNBpCtB1j5BAkECEAJB3jRBAkGwK0GWwABBAkEDEAJB5zRBAkG4K0GWwABBA0EEEAJBqCNB8TRBBEEAEAxBqCNB+jRBABAFQagjQYc1QQEQBUGoI0GNNUECEAVBqCNBmDVBAxAFQbAjQZw1QQRBABAMQbAjQaU1QQAQBUGwI0GtNUEBEAVBuCNBsjVBBEEAEAxBuCNBvzVBABAFQbgjQcc1QQEQBUG4I0HPNUECEAVBuCNB2DVBAxAFQcAjQcgjQdgjQQBBssEAQQVBtcEAQQBBtcEAQQBB4TVBt8EAQRkQCUEIECMiAEEBNgIAIABBADYCBEEIECMiAUEBNgIAIAFBADYCBEHAI0HqNUGQKkG6wQBBASAAQZAqQb7BAEEBIAEQCEEIECMiAEECNgIAIABBADYCBEEIECMiAUECNgIAIAFBADYCBEHAI0HsNUGQKkG6wQBBASAAQZAqQb7BAEEBIAEQCEHuNUEDQcArQcPBAEEBQQEQAhDZAhDYAkGoJEGFNkEEQQAQDEGoJEGRNkEBEAVBqCRBoTZBAhAFQagkQbA2QQQQBUGwJEHCNkEEQQAQDEGwJEHLNkEAEAVBsCRB0jZBARAFQbAkQdg2QQIQBUG4JEHeNkEEQQAQDEG4JEHmNkEAEAVBuCRB9DZBARAFQbgkQf82QQIQBUG4JEGIN0EDEAVBuCRBkzdBBBAFQagiQcAkQdAkQQBBssEAQQZBtcEAQQBBtcEAQQBBnTdBt8EAQRoQCUGoIkEBQZQsQbLBAEEHQQEQC0EEECMiAEEENgIAQQQQIyIBQQQ2AgBBqCJBpjdB2CJBlsAAQQQgAEHYIkHWPkEDIAEQCEEEECMiAEEQNgIAQQQQIyIBQRA2AgBBqCJBrjdB+CRBlsAAQQUgAEH4JEHWPkEEIAEQCEEIECMiAEEINgIAIABBADYCBEGoIkG1N0ECQZgsQZbAAEEGIABBABAAQQgQIyIAQQk2AgAgAEEANgIEQagiQb83QQJBmCxBlsAAQQYgAEEAEABBCBAjIgBBCjYCACAAQQA2AgRBqCJBxzdBAkGgLEGWwABBByAAQQAQAEEIECMiAEELNgIAIABBADYCBEGoIkHON0ECQaAsQZbAAEEHIABBABAAQQgQIyIAQQw2AgAgAEEANgIEQagiQdU3QQJBqCxBlsAAQQggAEEAEAAQ1gJBsCVBwCVB0CVBqCJBssEAQQ1BssEAQQ5BssEAQQ9B6jdBt8EAQRsQCUGwJUEBQdQsQbLBAEEQQQIQC0EIECMiAEERNgIAIABBADYCBEGwJUHzN0ECQegsQZbAAEEJIABBABAAQQgQIyIAQRw2AgAgAEEANgIEQbAlQfw3QQJB8CxB18cAQQUgAEEAEABBCBAjIgBBEjYCACAAQQA2AgRBsCVBgjhBAkH4LEGWwABBCiAAQQAQAEGIOEECQYAtQZbAAEELQRMQAkGUOEECQYgtQbrBAEECQQMQAkGZOEEDQZAtQefCAEEHQQwQAkGoOEEEQeAIQeHCAEEEQQUQAkG4OEEEQfAIQeHCAEEFQQYQAkHOOEEDQZwtQdY+QQdBBhACQeg4QQRBgAlB28cAQQFBAhACQeg4QQNBqC1BvsEAQQNBAxACQfU4QQRBkAlB28cAQQJBBBACQfU4QQNBtC1BvsEAQQVBBBACQYM5QQVBoAlB4ccAQQRBBhACQZQ5QQVBwAlB4ccAQQVBBxACQaY5QQRB4AlB4cIAQQhBCBACQbQ5QQNBwC1B1j5BCUEHEAJBxDlBA0HALUHWPkEJQQgQAkHcOUEDQcwtQdY+QQpBCRACQfI5QQJB2C1B18cAQQpBHRACQf45QQJB4C1B18cAQQtBHhACQeAlQeglQfglQQBBssEAQRRBtcEAQQBBtcEAQQBBizpBt8EAQR8QCUEIECMiAEEENgIAIABBADYCBEEIECMiAUEFNgIAIAFBADYCBEHgJUGTOkGQKkG6wQBBAyAAQZAqQb7BAEEGIAEQCEEIECMiAEEFNgIAIABBADYCBEEIECMiAUEGNgIAIAFBADYCBEHgJUGYOkGQKkG6wQBBAyAAQZAqQb7BAEEGIAEQCEEIECMiAEEGNgIAIABBADYCBEEIECMiAUEHNgIAIAFBADYCBEHgJUGcOkGQKkG6wQBBAyAAQZAqQb7BAEEGIAEQCEEIECMiAEEHNgIAIABBADYCBEEIECMiAUEINgIAIAFBADYCBEHgJUGiOkGQKkG6wQBBAyAAQZAqQb7BAEEGIAEQCEGQIkGIJkGYJkEAQbLBAEEVQbXBAEEAQbXBAEEAQak6QbfBAEEgEAlBCBAjIgBBCDYCACAAQQE2AgRBkCJBtTpBBUHwCUHryABBASAAQQAQAEEIECMiAEECNgIAIABBADYCBEGQIkG9OkEFQZAKQevIAEECIABBABAAQQgQIyIAQQw2AgAgAEEBNgIEQZAiQfw3QQJB6C1B18cAQQwgAEEAEABBCBAjIgBBDTYCACAAQQA2AgRBkCJBxjpBAkHwLUGWwABBDSAAQQAQAEEIECMiAEEWNgIAIABBADYCBEEIECMiAUEONgIAIAFBADYCBEGQIkHQOkG4KUGWwABBDiAAQbgpQdY+QQsgARAIQZgiQagmQbgmQZAiQbLBAEEXQbLBAEEYQbLBAEEZQeI6QbfBAEEhEAlBmCJBAkH4LUGWwABBD0EaEAtBCBAjIgBBAzYCACAAQQA2AgRBmCJB6jpBBUGwCkHryABBAyAAQQAQAEEIECMiAEEENgIAIABBADYCBEGYIkH3OkEGQdAKQaPJAEEBIABBABAAQQgQIyIAQQQ2AgAgAEEANgIEQZgiQZE7QQVB8ApB68gAQQUgAEEAEABBCBAjIgBBBjYCACAAQQA2AgRBmCJBoTtBBkGQC0GjyQBBAiAAQQAQAEEIECMiAEEbNgIAIABBADYCBEEIECMiAUEPNgIAIAFBADYCBEGYIkG+O0G4KUGWwABBECAAQbgpQdY+QQwgARAIQQgQIyIAQRw2AgAgAEEANgIEQQgQIyIBQRA2AgAgAUEANgIEQZgiQc47QbgpQZbAAEEQIABBuClB1j5BDCABEAhByCZB0CZB4CZBAEGywQBBHUG1wQBBAEG1wQBBAEHdO0G3wQBBIhAJQcgmQQNBgC5Bw8EAQQJBERALQQgQIyIAQQk2AgAgAEEANgIEQcgmQbU6QQVBsAtB4ccAQQYgAEEAEABBCBAjIgBBCjYCACAAQQA2AgRByCZBvTpBBUHQC0HhxwBBByAAQQAQAEEIECMiAEEHNgIAIABBADYCBEHIJkHqOkEEQfALQdvHAEEDIABBABAAQQgQIyIAQQg2AgAgAEEANgIEQcgmQZE7QQRBgAxB28cAQQQgAEEAEABBCBAjIgBBIzYCACAAQQA2AgRByCZB/DdBAkGMLkHXxwBBESAAQQAQAEEEECMiAEEANgIAQQQQIyIBQQA2AgBByCZB6ztBkCpBusEAQQQgAEGQKkG+wQBBCSABEAhBBBAjIgBBCDYCAEEEECMiAUEINgIAQcgmQfY7QZAqQbrBAEEEIABBkCpBvsEAQQkgARAICxAAIAAoAhQgACgCEGtBAnULkgEBBX8jAyEEIwNBEGokAyABKAIEIAEoAgAiAmsiA0EMbSEGIAIhBSADBEBBASECQQAhAwNAIAJBAWogA0EMbCAFaigCBCADQQxsIAVqKAIAa0EEdUEBdGohAiADQQFqIgMgBkkNAAsFQQEhAgsgARDdAiEBIAQgAjYCACAEIAE2AgQgAEGwIiAEEA02AgAgBCQDC6ACAQl/IAAoAgQgACgCACIEayIAQQxtIQUgAEUiAgRAQQgQPiIAIAW4OQMAIAAPC0EBIQFBACEAA0AgAUEBaiAAQQxsIARqKAIEIABBDGwgBGooAgBrQQR1QQF0aiEBIABBAWoiACAFSQ0ACyABQQN0ED4iBiAFuDkDACACBEAgBg8LIAZBCGohAEEAIQIDfyAAIAJBDGwgBGooAgQgAkEMbCAEaigCACIHayIDQQR1Igi4OQMAIABBCGohASADBH9BACEDA38gASADQQR0IAdqKQMAuTkDACAAQRBqIgkgA0EEdCAHaikDCLk5AwAgAEEYaiEBIANBAWoiAyAISQR/IAkhAAwBBSABCwsFIAELIQAgAkEBaiICIAVJDQAgBgsLqwEBB38jAyECIwNBEGokAyABKAIEIAEoAgAiBmsiAUEEdSIEQQR0QQhqED4iBSAEuDkDACABBEAgBUEIaiEHIAUhAQNAIAcgA0EEdCAGaikDALk5AwAgAUEQaiIIIANBBHQgBmopAwi5OQMAIAFBGGohByADQQFqIgMgBEkEQCAIIQEMAQsLCyACIARBAXRBAWo2AgAgAiAFNgIEIABBsCIgAhANNgIAIAIkAwsJACAAIAEQ4AILnwQCEH8BfiMDIQQjA0EQaiQDIAErAwCrIQsgACgCACIHIABBBGoiCCgCACIFRwRAA0AgBUF0aiICKAIAIgMEQCAFQXhqIAM2AgAgAxAiCyACIAdHBEAgAiEFDAELCwsgCCAHNgIAIAAgCxAyIAtFBEAgBCQDDwsgBEEEaiEJIARBCGohDiAAQQhqIQ9BACEHIAFBCGohBQJAA0AgBEEANgIAIA5BADYCACAFKwMAqyEGIAlBADYCAAJ/IAYEfyAEIAYQXAJ/IAZBAXQhECAFQQhqIQNBACECIAUhAQNAIAFBEGoiDCsDALAhEiAEKAIAIg0gAkEEdGogAysDALA3AwAgAkEEdCANaiASNwMIIAFBGGohAyACQQFqIgIgBkcEQCAMIQEMAQsLIBALQQFyBUEBCyERIAgoAgAiAiAPKAIARgRAIAAgBBAsIAQoAgAhAQUgAkEANgIAIAJBBGoiBkEANgIAIAJBCGoiDUEANgIAIAkoAgAgBCgCACIBayIDQQR1IQogAwRAIApB/////wBLDQQgBiADECMiAzYCACACIAM2AgAgDSAKQQR0IANqNgIAIAkoAgAgBCgCACIBayICQQBKBEAgAyABIAIQJRogBiACQQR2QQR0IANqNgIACwsgCCAIKAIAQQxqNgIACyABBEAgCSABNgIAIAEQIgsgEQtBA3QgBWohBSAHQQFqIgcgC0kNAAsgBCQDDwsQAQt5AgV/AX4gASsDAKshAyAAIAAoAgA2AgQgA0UEQA8LIAAgAxBcIAFBCGohBANAIAFBEGoiBSsDALAhByAAKAIAIgYgAkEEdGogBCsDALA3AwAgAkEEdCAGaiAHNwMIIAFBGGohBCADIAJBAWoiAkcEQCAFIQEMAQsLC7sDAQt/IAEoAgAiAiEDIAFBBGoiBigCACIFIQQgAiAFRwRAIAMgBEcEQANAIARBdGoiAigCACIFBEAgBEF4aiAFNgIAIAUQIgsgAiADRwRAIAIhBAwBCwsLIAYgAzYCAAsgACgCNCAAKAIwIgJrIgNBAnUhBCABIANBAEoEfyAEIAAoAhAoAgAgAigCAEdBH3RBH3VqBSAECxAyIABBFGoiCCgCACAAQRBqIgkoAgAiAGtBAEwEQA8LIAFBCGohCkEAIQQCQANAIARBAnQgAGooAgAiAiwAJARAAkAgAkEEaiEDIAYoAgAiACAKKAIARgRAIAEgAxAsDAELIABBADYCACAAQQRqIgVBADYCACAAQQhqIgtBADYCACACQQhqIgwoAgAgAygCAGsiAkEEdSEHIAIEQCAHQf////8ASw0EIAUgAhAjIgI2AgAgACACNgIAIAsgB0EEdCACajYCACAMKAIAIAMoAgAiA2siAEEASgRAIAIgAyAAECUaIAUgAEEEdkEEdCACajYCAAsLIAYgBigCAEEMajYCAAsLIARBAWoiBCAIKAIAIAkoAgAiAGtBAnVIDQALDwsQAQuiAQEFfyABKAIAIgMhBCABQQRqIgYoAgAiBSECIAMgBUcEQCACIARHBEADQCACQXRqIgMoAgAiBQRAIAJBeGogBTYCACAFECILIAMgBEcEQCADIQIMAQsLCyAGIAQ2AgALIAAoAjQgACgCMCIDayIEQQJ1IQIgASAEQQBKBH8gAiAAKAIQKAIAIAMoAgBHQR90QR91agUgAgsQMiAAQQIgARB7C6IBAQV/IAEoAgAiAyEEIAFBBGoiBigCACIFIQIgAyAFRwRAIAIgBEcEQANAIAJBdGoiAygCACIFBEAgAkF4aiAFNgIAIAUQIgsgAyAERwRAIAMhAgwBCwsLIAYgBDYCAAsgACgCNCAAKAIwIgNrIgRBAnUhAiABIARBAEoEfyACIAAoAhAoAgAgAygCAEdBH3RBH3VqBSACCxAyIABBACABEHsLOgEDfyAAKAI0IAAoAjAiAmsiA0ECdSEBIANBAEoEfyAAKAIQKAIAIAIoAgBHQR90QR91IAFqBSABCwsLsk4jAEGACAuyAagUAADoEQAAABUAAMARAAC4FAAAWBEAAAAVAADAEQAAqBQAAAgSAAAAFQAAWBEAALgUAACIEQAAABUAAFgRAACoFAAAkBIAAAAVAABAEgAAuBQAAHgSAAAAFQAAQBIAAKgUAABYEQAAiBEAALgRAACoFAAAiBEAAIgRAAC4EQAAqBQAAFgRAABYEQAAEBUAAKgUAACIEQAAiBEAABAVAACoFAAAWBEAAFgRAACIEQAAuBQAQcAJCxKoFAAAWBEAAIgRAACIEQAAuBQAQeAJCyKoFAAAWBEAAFgRAACIEQAAuBQAAAgTAABYEQAAsBEAALgUAEGQCgsSuBQAAAgTAACIEQAAsBEAALgUAEGwCgsSuBQAACgTAACoEQAAiBEAALgRAEHQCgsWuBQAACgTAACoEQAAiBEAALgRAAC4EQBB8AoLErgUAAAoEwAAqBEAALASAAC4EQBBkAsLFrgUAAAoEwAAqBEAALASAAC4EQAAuBEAQbALCxKoFAAAUBMAAFgRAAAwEgAAOBIAQdALCxKoFAAAUBMAAIgRAAAwEgAAOBIAQfALCzioFAAAUBMAAIgRAAAQFQAAqBQAAFATAACwEgAAEBUAABEACgAREREAAAAABQAAAAAAAAkAAAAACwBBsAwLIREADwoREREDCgcAARMJCwsAAAkGCwAACwAGEQAAABEREQBB4QwLAQsAQeoMCxgRAAoKERERAAoAAAIACQsAAAAJAAsAAAsAQZsNCwEMAEGnDQsVDAAAAAAMAAAAAAkMAAAAAAAMAAAMAEHVDQsBDgBB4Q0LFQ0AAAAEDQAAAAAJDgAAAAAADgAADgBBjw4LARAAQZsOCx4PAAAAAA8AAAAACRAAAAAAABAAABAAABIAAAASEhIAQdIOCw4SAAAAEhISAAAAAAAACQBBgw8LAQsAQY8PCxUKAAAAAAoAAAAACQsAAAAAAAsAAAsAQb0PCwEMAEHJDwt+DAAAAAAMAAAAAAkMAAAAAAAMAAAMAAAwMTIzNDU2Nzg5QUJDREVGVCEiGQ0BAgMRSxwMEAQLHRIeJ2hub3BxYiAFBg8TFBUaCBYHKCQXGAkKDhsfJSODgn0mKis8PT4/Q0dKTVhZWltcXV5fYGFjZGVmZ2lqa2xyc3R5ent8AEHQEAunEElsbGVnYWwgYnl0ZSBzZXF1ZW5jZQBEb21haW4gZXJyb3IAUmVzdWx0IG5vdCByZXByZXNlbnRhYmxlAE5vdCBhIHR0eQBQZXJtaXNzaW9uIGRlbmllZABPcGVyYXRpb24gbm90IHBlcm1pdHRlZABObyBzdWNoIGZpbGUgb3IgZGlyZWN0b3J5AE5vIHN1Y2ggcHJvY2VzcwBGaWxlIGV4aXN0cwBWYWx1ZSB0b28gbGFyZ2UgZm9yIGRhdGEgdHlwZQBObyBzcGFjZSBsZWZ0IG9uIGRldmljZQBPdXQgb2YgbWVtb3J5AFJlc291cmNlIGJ1c3kASW50ZXJydXB0ZWQgc3lzdGVtIGNhbGwAUmVzb3VyY2UgdGVtcG9yYXJpbHkgdW5hdmFpbGFibGUASW52YWxpZCBzZWVrAENyb3NzLWRldmljZSBsaW5rAFJlYWQtb25seSBmaWxlIHN5c3RlbQBEaXJlY3Rvcnkgbm90IGVtcHR5AENvbm5lY3Rpb24gcmVzZXQgYnkgcGVlcgBPcGVyYXRpb24gdGltZWQgb3V0AENvbm5lY3Rpb24gcmVmdXNlZABIb3N0IGlzIGRvd24ASG9zdCBpcyB1bnJlYWNoYWJsZQBBZGRyZXNzIGluIHVzZQBCcm9rZW4gcGlwZQBJL08gZXJyb3IATm8gc3VjaCBkZXZpY2Ugb3IgYWRkcmVzcwBCbG9jayBkZXZpY2UgcmVxdWlyZWQATm8gc3VjaCBkZXZpY2UATm90IGEgZGlyZWN0b3J5AElzIGEgZGlyZWN0b3J5AFRleHQgZmlsZSBidXN5AEV4ZWMgZm9ybWF0IGVycm9yAEludmFsaWQgYXJndW1lbnQAQXJndW1lbnQgbGlzdCB0b28gbG9uZwBTeW1ib2xpYyBsaW5rIGxvb3AARmlsZW5hbWUgdG9vIGxvbmcAVG9vIG1hbnkgb3BlbiBmaWxlcyBpbiBzeXN0ZW0ATm8gZmlsZSBkZXNjcmlwdG9ycyBhdmFpbGFibGUAQmFkIGZpbGUgZGVzY3JpcHRvcgBObyBjaGlsZCBwcm9jZXNzAEJhZCBhZGRyZXNzAEZpbGUgdG9vIGxhcmdlAFRvbyBtYW55IGxpbmtzAE5vIGxvY2tzIGF2YWlsYWJsZQBSZXNvdXJjZSBkZWFkbG9jayB3b3VsZCBvY2N1cgBTdGF0ZSBub3QgcmVjb3ZlcmFibGUAUHJldmlvdXMgb3duZXIgZGllZABPcGVyYXRpb24gY2FuY2VsZWQARnVuY3Rpb24gbm90IGltcGxlbWVudGVkAE5vIG1lc3NhZ2Ugb2YgZGVzaXJlZCB0eXBlAElkZW50aWZpZXIgcmVtb3ZlZABEZXZpY2Ugbm90IGEgc3RyZWFtAE5vIGRhdGEgYXZhaWxhYmxlAERldmljZSB0aW1lb3V0AE91dCBvZiBzdHJlYW1zIHJlc291cmNlcwBMaW5rIGhhcyBiZWVuIHNldmVyZWQAUHJvdG9jb2wgZXJyb3IAQmFkIG1lc3NhZ2UARmlsZSBkZXNjcmlwdG9yIGluIGJhZCBzdGF0ZQBOb3QgYSBzb2NrZXQARGVzdGluYXRpb24gYWRkcmVzcyByZXF1aXJlZABNZXNzYWdlIHRvbyBsYXJnZQBQcm90b2NvbCB3cm9uZyB0eXBlIGZvciBzb2NrZXQAUHJvdG9jb2wgbm90IGF2YWlsYWJsZQBQcm90b2NvbCBub3Qgc3VwcG9ydGVkAFNvY2tldCB0eXBlIG5vdCBzdXBwb3J0ZWQATm90IHN1cHBvcnRlZABQcm90b2NvbCBmYW1pbHkgbm90IHN1cHBvcnRlZABBZGRyZXNzIGZhbWlseSBub3Qgc3VwcG9ydGVkIGJ5IHByb3RvY29sAEFkZHJlc3Mgbm90IGF2YWlsYWJsZQBOZXR3b3JrIGlzIGRvd24ATmV0d29yayB1bnJlYWNoYWJsZQBDb25uZWN0aW9uIHJlc2V0IGJ5IG5ldHdvcmsAQ29ubmVjdGlvbiBhYm9ydGVkAE5vIGJ1ZmZlciBzcGFjZSBhdmFpbGFibGUAU29ja2V0IGlzIGNvbm5lY3RlZABTb2NrZXQgbm90IGNvbm5lY3Rl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ZnJvbVBhdGhzAENsaXBUeXBlAEludGVyc2VjdGlvbgBVbmlvbgBEaWZmZXJlbmNlAFhvcgBQb2x5VHlwZQBTdWJqZWN0AENsaXAAUG9seUZpbGxUeXBlAEV2ZW5PZGQATm9uWmVybwBQb3NpdGl2ZQBOZWdhdGl2ZQBJbnRQb2ludAB4AHkAbmV3SW50UG9pbnQAUGF0aABQYXRocwBJbml0T3B0aW9ucwBSZXZlcnNlU29sdXRpb24AU3RyaWN0bHlTaW1wbGUAUHJlc2VydmVDb2xsaW5lYXIASm9pblR5cGUAU3F1YXJlAFJvdW5kAE1pdGVyAEVuZFR5cGUAQ2xvc2VkUG9seWdvbgBDbG9zZWRMaW5lAE9wZW5CdXR0AE9wZW5TcXVhcmUAT3BlblJvdW5kAFBvbHlOb2RlAGNvbnRvdXIAY2hpbGRzAGdldFBhcmVudABnZXROZXh0AGlzSG9sZQBpc09wZW4AY2hpbGRDb3VudABQb2x5Tm9kZXMAUG9seVRyZWUAZ2V0Rmlyc3QAY2xlYXIAdG90YWwAb3JpZW50YXRpb24AYXJlYQBwb2ludEluUG9seWdvbgBzaW1wbGlmeVBvbHlnb24Ac2ltcGxpZnlQb2x5Z29uc0luT3V0AHNpbXBsaWZ5UG9seWdvbnNPdmVyd3JpdGUAY2xlYW5Qb2x5Z29uAGNsZWFuUG9seWdvbnMAbWlua293c2tpU3VtUGF0aABtaW5rb3dza2lTdW1QYXRocwBtaW5rb3dza2lEaWZmAHBvbHlUcmVlVG9QYXRocwBjbG9zZWRQYXRoc0Zyb21Qb2x5VHJlZQBvcGVuUGF0aHNGcm9tUG9seVRyZWUAcmV2ZXJzZVBhdGgAcmV2ZXJzZVBhdGhzAEludFJlY3QAbGVmdAB0b3AAcmlnaHQAYm90dG9tAENsaXBwZXJCYXNlAGFkZFBhdGgAYWRkUGF0aHMAZ2V0Qm91bmRzAHByZXNlcnZlQ29sbGluZWFyAENsaXBwZXIAZXhlY3V0ZVBhdGhzAGV4ZWN1dGVQYXRoc1dpdGhGaWxsVHlwZXMAZXhlY3V0ZVBvbHlUcmVlAGV4ZWN1dGVQb2x5VHJlZVdpdGhGaWxsVHlwZXMAcmV2ZXJzZVNvbHV0aW9uAHN0cmljdGx5U2ltcGxlAENsaXBwZXJPZmZzZXQAbWl0ZXJMaW1pdABhcmNUb2xlcmFuY2UATjEwQ2xpcHBlckxpYjExQ2xpcHBlckJhc2VFAE4xMENsaXBwZXJMaWI3Q2xpcHBlckUATjEwQ2xpcHBlckxpYjhQb2x5Tm9kZUUAYWxsb2NhdG9yPFQ+OjphbGxvY2F0ZShzaXplX3QgbikgJ24nIGV4Y2VlZHMgbWF4aW11bSBzdXBwb3J0ZWQgc2l6ZQBOMTBlbXNjcmlwdGVuMTFtZW1vcnlfdmlld0lkRUUATlN0M19fMjZ2ZWN0b3JJTjEwQ2xpcHBlckxpYjhJbnRQb2ludEVOU185YWxsb2NhdG9ySVMyX0VFRUUATlN0M19fMjEzX192ZWN0b3JfYmFzZUlOMTBDbGlwcGVyTGliOEludFBvaW50RU5TXzlhbGxvY2F0b3JJUzJfRUVFRQBOU3QzX18yMjBfX3ZlY3Rvcl9iYXNlX2NvbW1vbklMYjFFRUUAdmlpaQBOU3QzX18yNnZlY3RvcklOUzBfSU4xMENsaXBwZXJMaWI4SW50UG9pbnRFTlNfOWFsbG9jYXRvcklTMl9FRUVFTlMzX0lTNV9FRUVFAE5TdDNfXzIxM19fdmVjdG9yX2Jhc2VJTlNfNnZlY3RvcklOMTBDbGlwcGVyTGliOEludFBvaW50RU5TXzlhbGxvY2F0b3JJUzNfRUVFRU5TNF9JUzZfRUVFRQBOMTBlbXNjcmlwdGVuM3ZhbEUAaWlpAE4xMENsaXBwZXJMaWI4Q2xpcFR5cGVFAE4xMENsaXBwZXJMaWI4UG9seVR5cGVFAE4xMENsaXBwZXJMaWIxMlBvbHlGaWxsVHlwZUUATjEwQ2xpcHBlckxpYjhJbnRQb2ludEUAUE4xMENsaXBwZXJMaWI4SW50UG9pbnRFAFBLTjEwQ2xpcHBlckxpYjhJbnRQb2ludEUAaWkAdgB2aQBkaWkAdmlpZABpaWRkAHB1c2hfYmFjawByZXNpemUAc2l6ZQBnZXQAc2V0AFBOU3QzX18yNnZlY3RvcklOMTBDbGlwcGVyTGliOEludFBvaW50RU5TXzlhbGxvY2F0b3JJUzJfRUVFRQBQS05TdDNfXzI2dmVjdG9ySU4xMENsaXBwZXJMaWI4SW50UG9pbnRFTlNfOWFsbG9jYXRvcklTMl9FRUVFAHZpaWlpAGlpaWkAaWlpaWkAUE5TdDNfXzI2dmVjdG9ySU5TMF9JTjEwQ2xpcHBlckxpYjhJbnRQb2ludEVOU185YWxsb2NhdG9ySVMyX0VFRUVOUzNfSVM1X0VFRUUAUEtOU3QzX18yNnZlY3RvcklOUzBfSU4xMENsaXBwZXJMaWI4SW50UG9pbnRFTlNfOWFsbG9jYXRvcklTMl9FRUVFTlMzX0lTNV9FRUVFAE4xMENsaXBwZXJMaWIxMUluaXRPcHRpb25zRQBOMTBDbGlwcGVyTGliOEpvaW5UeXBlRQBOMTBDbGlwcGVyTGliN0VuZFR5cGVFAFBOMTBDbGlwcGVyTGliOFBvbHlOb2RlRQBQS04xMENsaXBwZXJMaWI4UG9seU5vZGVFAE5TdDNfXzI2dmVjdG9ySVBOMTBDbGlwcGVyTGliOFBvbHlOb2RlRU5TXzlhbGxvY2F0b3JJUzNfRUVFRQBOU3QzX18yMTNfX3ZlY3Rvcl9iYXNlSVBOMTBDbGlwcGVyTGliOFBvbHlOb2RlRU5TXzlhbGxvY2F0b3JJUzNfRUVFRQBQTlN0M19fMjZ2ZWN0b3JJUE4xMENsaXBwZXJMaWI4UG9seU5vZGVFTlNfOWFsbG9jYXRvcklTM19FRUVFAFBLTlN0M19fMjZ2ZWN0b3JJUE4xMENsaXBwZXJMaWI4UG9seU5vZGVFTlNfOWFsbG9jYXRvcklTM19FRUVFAE4xMENsaXBwZXJMaWI4UG9seVRyZWVFAFBOMTBDbGlwcGVyTGliOFBvbHlUcmVlRQBQS04xMENsaXBwZXJMaWI4UG9seVRyZWVFAHZpaQB2aWlpZAB2aWlpaWkATjEwQ2xpcHBlckxpYjdJbnRSZWN0RQBQTjEwQ2xpcHBlckxpYjdJbnRSZWN0RQBQS04xMENsaXBwZXJMaWI3SW50UmVjdEUAUE4xMENsaXBwZXJMaWIxMUNsaXBwZXJCYXNlRQBQS04xMENsaXBwZXJMaWIxMUNsaXBwZXJCYXNlRQBpaWlpaWkAUE4xMENsaXBwZXJMaWI3Q2xpcHBlckUAUEtOMTBDbGlwcGVyTGliN0NsaXBwZXJFAGlpaWlpaWkATjEwQ2xpcHBlckxpYjEzQ2xpcHBlck9mZnNldEUAUE4xMENsaXBwZXJMaWIxM0NsaXBwZXJPZmZzZXRFAFBLTjEwQ2xpcHBlckxpYjEzQ2xpcHBlck9mZnNldEUAdm9pZABib29sAGNoYXIAc2lnbmVkIGNoYXIAdW5zaWduZWQgY2hhcgBzaG9ydAB1bnNpZ25lZCBzaG9ydABpbnQAdW5zaWduZWQgaW50AGxvbmcAdW5zaWduZWQgbG9uZwBmbG9hdABkb3VibGUAc3RkOjpzdHJpbmcAc3RkOjpiYXNpY19zdHJpbmc8dW5zaWduZWQgY2hhcj4Ac3RkOjp3c3RyaW5nAGVtc2NyaXB0ZW46OnZhbABlbXNjcmlwdGVuOjptZW1vcnlfdmlldzxjaGFyPgBlbXNjcmlwdGVuOjptZW1vcnlfdmlldzxzaWduZWQgY2hhcj4AZW1zY3JpcHRlbjo6bWVtb3J5X3ZpZXc8dW5zaWduZWQgY2hhcj4AZW1zY3JpcHRlbjo6bWVtb3J5X3ZpZXc8c2hvcnQ+AGVtc2NyaXB0ZW46Om1lbW9yeV92aWV3PHVuc2lnbmVkIHNob3J0PgBlbXNjcmlwdGVuOjptZW1vcnlfdmlldzxpbnQ+AGVtc2NyaXB0ZW46Om1lbW9yeV92aWV3PHVuc2lnbmVkIGludD4AZW1zY3JpcHRlbjo6bWVtb3J5X3ZpZXc8bG9uZz4AZW1zY3JpcHRlbjo6bWVtb3J5X3ZpZXc8dW5zaWduZWQgbG9uZz4AZW1zY3JpcHRlbjo6bWVtb3J5X3ZpZXc8aW50OF90PgBlbXNjcmlwdGVuOjptZW1vcnlfdmlldzx1aW50OF90PgBlbXNjcmlwdGVuOjptZW1vcnlfdmlldzxpbnQxNl90PgBlbXNjcmlwdGVuOjptZW1vcnlfdmlldzx1aW50MTZfdD4AZW1zY3JpcHRlbjo6bWVtb3J5X3ZpZXc8aW50MzJfdD4AZW1zY3JpcHRlbjo6bWVtb3J5X3ZpZXc8dWludDMyX3Q+AGVtc2NyaXB0ZW46Om1lbW9yeV92aWV3PGZsb2F0PgBlbXNjcmlwdGVuOjptZW1vcnlfdmlldzxkb3VibGU+AGVtc2NyaXB0ZW46Om1lbW9yeV92aWV3PGxvbmcgZG91YmxlPgBOMTBlbXNjcmlwdGVuMTFtZW1vcnlfdmlld0llRUUATjEwZW1zY3JpcHRlbjExbWVtb3J5X3ZpZXdJZkVFAE4xMGVtc2NyaXB0ZW4xMW1lbW9yeV92aWV3SW1FRQBOMTBlbXNjcmlwdGVuMTFtZW1vcnlfdmlld0lsRUUATjEwZW1zY3JpcHRlbjExbWVtb3J5X3ZpZXdJakVFAE4xMGVtc2NyaXB0ZW4xMW1lbW9yeV92aWV3SWlFRQBOMTBlbXNjcmlwdGVuMTFtZW1vcnlfdmlld0l0RUUATjEwZW1zY3JpcHRlbjExbWVtb3J5X3ZpZXdJc0VFAE4xMGVtc2NyaXB0ZW4xMW1lbW9yeV92aWV3SWhFRQBOMTBlbXNjcmlwdGVuMTFtZW1vcnlfdmlld0lhRUUATjEwZW1zY3JpcHRlbjExbWVtb3J5X3ZpZXdJY0VFAE5TdDNfXzIxMmJhc2ljX3N0cmluZ0l3TlNfMTFjaGFyX3RyYWl0c0l3RUVOU185YWxsb2NhdG9ySXdFRUVFAE5TdDNfXzIyMV9fYmFzaWNfc3RyaW5nX2NvbW1vbklMYjFFRUUATlN0M19fMjEyYmFzaWNfc3RyaW5nSWhOU18xMWNoYXJfdHJhaXRzSWhFRU5TXzlhbGxvY2F0b3JJaEVFRUUATlN0M19fMjEyYmFzaWNfc3RyaW5nSWNOU18xMWNoYXJfdHJhaXRzSWNFRU5TXzlhbGxvY2F0b3JJY0VFRUUALSsgICAwWDB4AChudWxsKQAtMFgrMFggMFgtMHgrMHggMHgAaW5mAElORgBuYW4ATkFOAC4AdGVybWluYXRpbmcgd2l0aCAlcyBleGNlcHRpb24gb2YgdHlwZSAlczogJXMAdGVybWluYXRpbmcgd2l0aCAlcyBleGNlcHRpb24gb2YgdHlwZSAlcwB0ZXJtaW5hdGluZyB3aXRoICVzIGZvcmVpZ24gZXhjZXB0aW9uAHRlcm1pbmF0aW5nAHVuY2F1Z2h0AFN0OWV4Y2VwdGlvbgBOMTBfX2N4eGFiaXYxMTZfX3NoaW1fdHlwZV9pbmZvRQBTdDl0eXBlX2luZm8ATjEwX19jeHhhYml2MTIwX19zaV9jbGFzc190eXBlX2luZm9FAE4xMF9fY3h4YWJpdjExN19fY2xhc3NfdHlwZV9pbmZvRQBwdGhyZWFkX29uY2UgZmFpbHVyZSBpbiBfX2N4YV9nZXRfZ2xvYmFsc19mYXN0KCkAY2Fubm90IGNyZWF0ZSBwdGhyZWFkIGtleSBmb3IgX19jeGFfZ2V0X2dsb2JhbHMoKQBjYW5ub3QgemVybyBvdXQgdGhyZWFkIHZhbHVlIGZvciBfX2N4YV9nZXRfZ2xvYmFscygpAHRlcm1pbmF0ZV9oYW5kbGVyIHVuZXhwZWN0ZWRseSByZXR1cm5lZABTdDExbG9naWNfZXJyb3IAU3QxMmxlbmd0aF9lcnJvcgBOMTBfX2N4eGFiaXYxMTlfX3BvaW50ZXJfdHlwZV9pbmZvRQBOMTBfX2N4eGFiaXYxMTdfX3BiYXNlX3R5cGVfaW5mb0UATjEwX19jeHhhYml2MTIzX19mdW5kYW1lbnRhbF90eXBlX2luZm9FAHYARG4AYgBjAGgAYQBzAHQAaQBqAGwAbQBmAGQATjEwX19jeHhhYml2MTE2X19lbnVtX3R5cGVfaW5mb0UATjEwX19jeHhhYml2MTIxX192bWlfY2xhc3NfdHlwZV9pbmZvRQ==";function O(){try{if(e.wasmBinary)return new Uint8Array(e.wasmBinary);var t=zt(U);if(t)return t;if(e.readBinary)return e.readBinary(U);throw"both async and sync fetching of the wasm failed"}catch(l){re(l)}}function Y(){return!!Y.uncaught_exception}N(U)||(L=U,U=e.locateFile?e.locateFile(L,a):a+L),e.reallocBuffer=function(t){return function(t){t=w(t,65536);var i=e.buffer.byteLength;try{return-1!==e.wasmMemory.grow((t-i)/65536)?e.buffer=e.wasmMemory.buffer:null}catch(se){return null}}(t)},e.asm=function(t,i,n){if(!i.table){var o=e.wasmTableSize,a=e.wasmMaxTableSize;i.table="object"==typeof WebAssembly&&"function"==typeof WebAssembly.Table?void 0!==a?new WebAssembly.Table({initial:o,maximum:a,element:"anyfunc"}):new WebAssembly.Table({initial:o,element:"anyfunc"}):new Array(o),e.wasmTable=i.table}return i.__memory_base||(i.__memory_base=e.STATIC_BASE),i.__table_base||(i.__table_base=0),function(t){if("object"!=typeof WebAssembly)return l("no native wasm support detected"),!1;if(!(e.wasmMemory instanceof WebAssembly.Memory))return l("no native wasm Memory in use"),!1;t.memory=e.wasmMemory;var i={global:{NaN:NaN,Infinity:1/0},"global.Math":Math,env:t,asm2wasm:u,parent:e};function n(t,i){var n=t.exports;n.memory&&function(t){var i=e.buffer;t.byteLength<i.byteLength&&l("the new buffer in mergeMemory is smaller than the previous one. in native wasm, we should grow memory here");var n=new Int8Array(i);new Int8Array(t).set(n),b(t),x()}(n.memory),e.asm=n,function(t){if(T--,e.monitorRunDependencies&&e.monitorRunDependencies(T),0==T&&(null!==G&&(clearInterval(G),G=null),F)){var i=F;F=null,i()}}()}if(T++,e.monitorRunDependencies&&e.monitorRunDependencies(T),e.instantiateWasm)try{return e.instantiateWasm(i,n)}catch(se){return l("Module.instantiateWasm callback failed with error: "+se),!1}function o(t){n(t.instance)}function a(t){(e.wasmBinary||!r&&!s||"function"!=typeof fetch?new Promise((function(t,e){t(O())})):fetch(U,{credentials:"same-origin"}).then((function(t){if(!t.ok)throw"failed to load wasm binary file at '"+U+"'";return t.arrayBuffer()})).catch((function(){return O()}))).then((function(t){return WebAssembly.instantiate(t,i)})).then(t,(function(t){l("failed to asynchronously prepare wasm: "+t),re(t)}))}return e.wasmBinary||"function"!=typeof WebAssembly.instantiateStreaming||N(U)||"function"!=typeof fetch?a(o):WebAssembly.instantiateStreaming(fetch(U,{credentials:"same-origin"}),i).then(o,(function(t){l("wasm streaming compile failed: "+t),l("falling back to ArrayBuffer instantiation"),a(o)})),{}}(i)},D.push({func:function(){Zt()}},{func:function(){Wt()}}),e.STATIC_BASE=1024,e.STATIC_BUMP=12464;var H={last:0,caught:[],infos:{},deAdjust:function(t){if(!t||H.infos[t])return t;for(var e in H.infos)for(var i=+e,n=H.infos[i].adjusted,r=n.length,s=0;s<r;s++)if(n[s]===t)return i;return t},addRef:function(t){t&&H.infos[t].refcount++},decRef:function(t){if(t){var i=H.infos[t];c(i.refcount>0),i.refcount--,0!==i.refcount||i.rethrown||(i.destructor&&e.dynCall_vi(i.destructor,t),delete H.infos[t],function(t){try{te(t)}catch(se){}}(t))}},clearRef:function(t){t&&(H.infos[t].refcount=0)}},J={buffers:[null,[],[]],printChar:function(t,e){var i=J.buffers[t];c(i),0===e||10===e?((1===t?A:l)(B(i,0)),i.length=0):i.push(e)},varargs:0,get:function(t){return J.varargs+=4,p[J.varargs-4>>2]},getStr:function(){return E(J.get())},get64:function(){var t=J.get(),e=J.get();return c(t>=0?0===e:-1===e),t},getZero:function(){c(0===J.get())}};function j(t){switch(t){case 1:return 0;case 2:return 1;case 4:return 2;case 8:return 3;default:throw new TypeError("Unknown type size: "+t)}}var K=void 0;function q(t){for(var e="",i=t;_[i];)e+=K[_[i++]];return e}var z={},X={},W={},Z=48,$=57;function tt(t){if(void 0===t)return"_unknown";var e=(t=t.replace(/[^a-zA-Z0-9_]/g,"$")).charCodeAt(0);return e>=Z&&e<=$?"_"+t:t}function et(t,e){return t=tt(t),new Function("body","return function "+t+'() {\n    "use strict";    return body.apply(this, arguments);\n};\n')(e)}function it(t,e){var i=et(e,(function(t){this.name=e,this.message=t;var i=new Error(t).stack;void 0!==i&&(this.stack=this.toString()+"\n"+i.replace(/^Error(:[^\n]*)?\n/,""))}));return i.prototype=Object.create(t.prototype),i.prototype.constructor=i,i.prototype.toString=function(){return void 0===this.message?this.name:this.name+": "+this.message},i}var nt=void 0;function rt(t){throw new nt(t)}var st=void 0;function ot(t){throw new st(t)}function at(t,e,i){function n(e){var n=i(e);n.length!==t.length&&ot("Mismatched type converter count");for(var r=0;r<t.length;++r)At(t[r],n[r])}t.forEach((function(t){W[t]=e}));var r=new Array(e.length),s=[],o=0;e.forEach((function(t,e){X.hasOwnProperty(t)?r[e]=X[t]:(s.push(t),z.hasOwnProperty(t)||(z[t]=[]),z[t].push((function(){r[e]=X[t],++o===s.length&&n(r)})))})),0===s.length&&n(r)}function At(t,e,i){if(i=i||{},!("argPackAdvance"in e))throw new TypeError("registerType registeredInstance requires argPackAdvance");var n=e.name;if(t||rt('type "'+n+'" must have a positive integer typeid pointer'),X.hasOwnProperty(t)){if(i.ignoreDuplicateRegistrations)return;rt("Cannot register type '"+n+"' twice")}if(X[t]=e,delete W[t],z.hasOwnProperty(t)){var r=z[t];delete z[t],r.forEach((function(t){t()}))}}function lt(t){rt(t.$$.ptrType.registeredClass.name+" instance already deleted")}var ut=void 0,ht=[];function ct(){for(;ht.length;){var t=ht.pop();t.$$.deleteScheduled=!1,t.delete()}}function ft(){}var mt={};function _t(t,e,i){if(void 0===t[e].overloadTable){var n=t[e];t[e]=function(){return t[e].overloadTable.hasOwnProperty(arguments.length)||rt("Function '"+i+"' called with an invalid number of arguments ("+arguments.length+") - expects one of ("+t[e].overloadTable+")!"),t[e].overloadTable[arguments.length].apply(this,arguments)},t[e].overloadTable=[],t[e].overloadTable[n.argCount]=n}}function gt(t,i,n){e.hasOwnProperty(t)?((void 0===n||void 0!==e[t].overloadTable&&void 0!==e[t].overloadTable[n])&&rt("Cannot register public name '"+t+"' twice"),_t(e,t,t),e.hasOwnProperty(n)&&rt("Cannot register multiple overloads of a function with the same number of arguments ("+n+")!"),e[t].overloadTable[n]=i):(e[t]=i,void 0!==n&&(e[t].numArguments=n))}function dt(t,e,i,n,r,s,o,a){this.name=t,this.constructor=e,this.instancePrototype=i,this.rawDestructor=n,this.baseClass=r,this.getActualType=s,this.upcast=o,this.downcast=a,this.pureVirtualFunctions=[]}function pt(t,e,i){for(;e!==i;)e.upcast||rt("Expected null or instance of "+i.name+", got an instance of "+e.name),t=e.upcast(t),e=e.baseClass;return t}function yt(t,e){return null===e?(this.isReference&&rt("null is not a valid "+this.name),0):(e.$$||rt('Cannot pass "'+Ut(e)+'" as a '+this.name),e.$$.ptr||rt("Cannot pass deleted object as a pointer of type "+this.name),pt(e.$$.ptr,e.$$.ptrType.registeredClass,this.registeredClass))}function Ct(t,e){var i;if(null===e)return this.isReference&&rt("null is not a valid "+this.name),this.isSmartPointer?(i=this.rawConstructor(),null!==t&&t.push(this.rawDestructor,i),i):0;if(e.$$||rt('Cannot pass "'+Ut(e)+'" as a '+this.name),e.$$.ptr||rt("Cannot pass deleted object as a pointer of type "+this.name),!this.isConst&&e.$$.ptrType.isConst&&rt("Cannot convert argument of type "+(e.$$.smartPtrType?e.$$.smartPtrType.name:e.$$.ptrType.name)+" to parameter type "+this.name),i=pt(e.$$.ptr,e.$$.ptrType.registeredClass,this.registeredClass),this.isSmartPointer)switch(void 0===e.$$.smartPtr&&rt("Passing raw pointer to smart pointer is illegal"),this.sharingPolicy){case 0:e.$$.smartPtrType===this?i=e.$$.smartPtr:rt("Cannot convert argument of type "+(e.$$.smartPtrType?e.$$.smartPtrType.name:e.$$.ptrType.name)+" to parameter type "+this.name);break;case 1:i=e.$$.smartPtr;break;case 2:if(e.$$.smartPtrType===this)i=e.$$.smartPtr;else{var n=e.clone();i=this.rawShare(i,Pt((function(){n.delete()}))),null!==t&&t.push(this.rawDestructor,i)}break;default:rt("Unsupporting sharing policy")}return i}function vt(t,e){return null===e?(this.isReference&&rt("null is not a valid "+this.name),0):(e.$$||rt('Cannot pass "'+Ut(e)+'" as a '+this.name),e.$$.ptr||rt("Cannot pass deleted object as a pointer of type "+this.name),e.$$.ptrType.isConst&&rt("Cannot convert argument of type "+e.$$.ptrType.name+" to parameter type "+this.name),pt(e.$$.ptr,e.$$.ptrType.registeredClass,this.registeredClass))}function It(t){return this.fromWireType(y[t>>2])}var Bt={};function Et(t,e){return e.ptrType&&e.ptr||ot("makeClassHandle requires ptr and ptrType"),!!e.smartPtrType!=!!e.smartPtr&&ot("Both smartPtrType and smartPtr must be specified"),e.count={value:1},Object.create(t,{$$:{value:e}})}function wt(t,e,i,n,r,s,o,a,A,l,u){this.name=t,this.registeredClass=e,this.isReference=i,this.isConst=n,this.isSmartPointer=r,this.pointeeType=s,this.sharingPolicy=o,this.rawGetPointee=a,this.rawConstructor=A,this.rawShare=l,this.rawDestructor=u,r||void 0!==e.baseClass?this.toWireType=Ct:n?(this.toWireType=yt,this.destructorFunction=null):(this.toWireType=vt,this.destructorFunction=null)}function bt(t,i,n){e.hasOwnProperty(t)||ot("Replacing nonexistant public symbol"),void 0!==e[t].overloadTable&&void 0!==n?e[t].overloadTable[n]=i:(e[t]=i,e[t].argCount=n)}function xt(t,i){var n;if(t=q(t),void 0!==e["FUNCTION_TABLE_"+t])n=e["FUNCTION_TABLE_"+t][i];else if("undefined"!=typeof FUNCTION_TABLE)n=FUNCTION_TABLE[i];else{var r=e["dynCall_"+t];void 0===r&&void 0===(r=e["dynCall_"+t.replace(/f/g,"d")])&&rt("No dynCall invoker for signature: "+t),n=function(e){for(var n=[],r=1;r<t.length;++r)n.push("a"+r);var s="return function dynCall_"+t+"_"+i+"("+n.join(", ")+") {\n";return s+="    return dynCall(rawFunction"+(n.length?", ":"")+n.join(", ")+");\n",s+="};\n",new Function("dynCall","rawFunction",s)(e,i)}(r)}return"function"!=typeof n&&rt("unknown function pointer with signature "+t+": "+i),n}var St=void 0;function Qt(t){var e=$t(t),i=q(e);return te(e),i}function kt(t,e){var i=[],n={};throw e.forEach((function t(e){n[e]||X[e]||(W[e]?W[e].forEach(t):(i.push(e),n[e]=!0))})),new St(t+": "+i.map(Qt).join([", "]))}function Dt(t,e){for(var i=[],n=0;n<t;n++)i.push(p[(e>>2)+n]);return i}function Mt(t){for(;t.length;){var e=t.pop();t.pop()(e)}}function Rt(t,e,i,n,r){var s=e.length;s<2&&rt("argTypes array size mismatch! Must at least get return value and 'this' types!");for(var o=null!==e[1]&&null!==i,a=!1,A=1;A<e.length;++A)if(null!==e[A]&&void 0===e[A].destructorFunction){a=!0;break}var l="void"!==e[0].name,u="",h="";for(A=0;A<s-2;++A)u+=(0!==A?", ":"")+"arg"+A,h+=(0!==A?", ":"")+"arg"+A+"Wired";var c="return function "+tt(t)+"("+u+") {\nif (arguments.length !== "+(s-2)+") {\nthrowBindingError('function "+t+" called with ' + arguments.length + ' arguments, expected "+(s-2)+" args!');\n}\n";a&&(c+="var destructors = [];\n");var f=a?"destructors":"null",m=["throwBindingError","invoker","fn","runDestructors","retType","classParam"],_=[rt,n,r,Mt,e[0],e[1]];for(o&&(c+="var thisWired = classParam.toWireType("+f+", this);\n"),A=0;A<s-2;++A)c+="var arg"+A+"Wired = argType"+A+".toWireType("+f+", arg"+A+"); // "+e[A+2].name+"\n",m.push("argType"+A),_.push(e[A+2]);if(o&&(h="thisWired"+(h.length>0?", ":"")+h),c+=(l?"var rv = ":"")+"invoker(fn"+(h.length>0?", ":"")+h+");\n",a)c+="runDestructors(destructors);\n";else for(A=o?1:2;A<e.length;++A){var g=1===A?"thisWired":"arg"+(A-2)+"Wired";null!==e[A].destructorFunction&&(c+=g+"_dtor("+g+"); // "+e[A].name+"\n",m.push(g+"_dtor"),_.push(e[A].destructorFunction))}return l&&(c+="var ret = retType.fromWireType(rv);\nreturn ret;\n"),m.push(c+="}\n"),function(t,e){if(!(t instanceof Function))throw new TypeError("new_ called with constructor type "+typeof t+" which is not a function");var i=et(t.name||"unknownFunctionName",(function(){}));i.prototype=t.prototype;var n=new i,r=t.apply(n,e);return r instanceof Object?r:n}(Function,m).apply(null,_)}function Vt(t,e,i){return t instanceof Object||rt(i+' with invalid "this": '+t),t instanceof e.registeredClass.constructor||rt(i+' incompatible with "this" of type '+t.constructor.name),t.$$.ptr||rt("cannot call emscripten binding method "+i+" on deleted object"),pt(t.$$.ptr,t.$$.ptrType.registeredClass,e.registeredClass)}var Tt=[],Gt=[{},{value:void 0},{value:null},{value:!0},{value:!1}];function Ft(t){t>4&&0==--Gt[t].refcount&&(Gt[t]=void 0,Tt.push(t))}function Pt(t){switch(t){case void 0:return 1;case null:return 2;case!0:return 3;case!1:return 4;default:var e=Tt.length?Tt.pop():Gt.length;return Gt[e]={refcount:1,value:t},e}}function Nt(t,e,i){switch(e){case 0:return function(t){return this.fromWireType((i?m:_)[t])};case 1:return function(t){return this.fromWireType((i?g:d)[t>>1])};case 2:return function(t){return this.fromWireType((i?p:y)[t>>2])};default:throw new TypeError("Unknown integer type: "+t)}}function Lt(t,e){var i=X[t];return void 0===i&&rt(e+" has unknown type "+Qt(t)),i}function Ut(t){if(null===t)return"null";var e=typeof t;return"object"===e||"array"===e||"function"===e?t.toString():""+t}function Ot(t,e){switch(e){case 2:return function(t){return this.fromWireType(C[t>>2])};case 3:return function(t){return this.fromWireType(v[t>>3])};default:throw new TypeError("Unknown float type: "+t)}}function Yt(t,e,i){switch(e){case 0:return i?function(t){return m[t]}:function(t){return _[t]};case 1:return i?function(t){return g[t>>1]}:function(t){return d[t>>1]};case 2:return i?function(t){return p[t>>2]}:function(t){return y[t>>2]};default:throw new TypeError("Unknown integer type: "+t)}}function Ht(){return S}var Jt={},jt=1;!function(){for(var t=new Array(256),e=0;e<256;++e)t[e]=String.fromCharCode(e);K=t}(),nt=e.BindingError=it(Error,"BindingError"),st=e.InternalError=it(Error,"InternalError"),ft.prototype.isAliasOf=function(t){if(!(this instanceof ft))return!1;if(!(t instanceof ft))return!1;for(var e=this.$$.ptrType.registeredClass,i=this.$$.ptr,n=t.$$.ptrType.registeredClass,r=t.$$.ptr;e.baseClass;)i=e.upcast(i),e=e.baseClass;for(;n.baseClass;)r=n.upcast(r),n=n.baseClass;return e===n&&i===r},ft.prototype.clone=function(){if(this.$$.ptr||lt(this),this.$$.preservePointerOnDelete)return this.$$.count.value+=1,this;var t,e=Object.create(Object.getPrototypeOf(this),{$$:{value:(t=this.$$,{count:t.count,deleteScheduled:t.deleteScheduled,preservePointerOnDelete:t.preservePointerOnDelete,ptr:t.ptr,ptrType:t.ptrType,smartPtr:t.smartPtr,smartPtrType:t.smartPtrType})}});return e.$$.count.value+=1,e.$$.deleteScheduled=!1,e},ft.prototype.delete=function(){var t;this.$$.ptr||lt(this),this.$$.deleteScheduled&&!this.$$.preservePointerOnDelete&&rt("Object already scheduled for deletion"),this.$$.count.value-=1,0===this.$$.count.value&&((t=this.$$).smartPtr?t.smartPtrType.rawDestructor(t.smartPtr):t.ptrType.registeredClass.rawDestructor(t.ptr)),this.$$.preservePointerOnDelete||(this.$$.smartPtr=void 0,this.$$.ptr=void 0)},ft.prototype.isDeleted=function(){return!this.$$.ptr},ft.prototype.deleteLater=function(){return this.$$.ptr||lt(this),this.$$.deleteScheduled&&!this.$$.preservePointerOnDelete&&rt("Object already scheduled for deletion"),ht.push(this),1===ht.length&&ut&&ut(ct),this.$$.deleteScheduled=!0,this},wt.prototype.getPointee=function(t){return this.rawGetPointee&&(t=this.rawGetPointee(t)),t},wt.prototype.destructor=function(t){this.rawDestructor&&this.rawDestructor(t)},wt.prototype.argPackAdvance=8,wt.prototype.readValueFromPointer=It,wt.prototype.deleteObject=function(t){null!==t&&t.delete()},wt.prototype.fromWireType=function(t){var e=this.getPointee(t);if(!e)return this.destructor(t),null;var i=function(t,e){return e=function(t,e){for(void 0===e&&rt("ptr should not be undefined");t.baseClass;)e=t.upcast(e),t=t.baseClass;return e}(t,e),Bt[e]}(this.registeredClass,e);if(void 0!==i){if(0===i.$$.count.value)return i.$$.ptr=e,i.$$.smartPtr=t,i.clone();var n=i.clone();return this.destructor(t),n}function r(){return Et(this.registeredClass.instancePrototype,this.isSmartPointer?{ptrType:this.pointeeType,ptr:e,smartPtrType:this,smartPtr:t}:{ptrType:this,ptr:t})}var s,o=this.registeredClass.getActualType(e),a=mt[o];if(!a)return r.call(this);var A=function t(e,i,n){if(i===n)return e;if(void 0===n.baseClass)return null;var r=t(e,i,n.baseClass);return null===r?null:n.downcast(r)}(e,this.registeredClass,(s=this.isConst?a.constPointerType:a.pointerType).registeredClass);return null===A?r.call(this):Et(s.registeredClass.instancePrototype,this.isSmartPointer?{ptrType:s,ptr:A,smartPtrType:this,smartPtr:t}:{ptrType:s,ptr:A})},e.getInheritedInstanceCount=function(){return Object.keys(Bt).length},e.getLiveInheritedInstances=function(){var t=[];for(var e in Bt)Bt.hasOwnProperty(e)&&t.push(Bt[e]);return t},e.flushPendingDeletes=ct,e.setDelayFunction=function(t){ut=t,ht.length&&ut&&ut(ct)},St=e.UnboundTypeError=it(Error,"UnboundTypeError"),e.count_emval_handles=function(){for(var t=0,e=5;e<Gt.length;++e)void 0!==Gt[e]&&++t;return t},e.get_first_emval=function(){for(var t=5;t<Gt.length;++t)if(void 0!==Gt[t])return Gt[t];return null};var Kt=!1,qt="function"==typeof atob?atob:function(t){var e,i,n,r,s,o,a="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",A="",l=0;t=t.replace(/[^A-Za-z0-9\+\/\=]/g,"");do{n=a.indexOf(t.charAt(l++)),e=(15&(r=a.indexOf(t.charAt(l++))))<<4|(s=a.indexOf(t.charAt(l++)))>>2,i=(3&s)<<6|(o=a.indexOf(t.charAt(l++))),A+=String.fromCharCode(n<<2|r>>4),64!==s&&(A+=String.fromCharCode(e)),64!==o&&(A+=String.fromCharCode(i))}while(l<t.length);return A};function zt(t){if(N(t))return function(t){if("boolean"==typeof o&&o){var e;try{e=Buffer.from(t,"base64")}catch(s){e=new Buffer(t,"base64")}return new Uint8Array(e.buffer,e.byteOffset,e.byteLength)}try{for(var i=qt(t),n=new Uint8Array(i.length),r=0;r<i.length;++r)n[r]=i.charCodeAt(r);return n}catch(s){throw new Error("Converting base64 string to bytes failed.")}}(t.slice(P.length))}e.wasmTableSize=362,e.wasmMaxTableSize=362,e.asmLibraryArg={h:re,I:function(){re("Cannot enlarge memory arrays. Either (1) compile with  -s TOTAL_MEMORY=X  with X higher than the current value "+S+", (2) compile with  -s ALLOW_MEMORY_GROWTH=1  which allows increasing the size at runtime, or (3) if you want malloc to return NULL (0) instead of this abort, compile with  -s ABORTING_MALLOC=0 ")},f:function(t){return ee(t)},e:function(t,e,i){throw H.infos[t]={ptr:t,adjusted:[t],type:e,destructor:i,refcount:0,caught:!1,rethrown:!1},H.last=t,"uncaught_exception"in Y?Y.uncaught_exception++:Y.uncaught_exception=1,t+" - Exception catching is disabled, this exception cannot be caught. Compile with -s DISABLE_EXCEPTION_CATCHING=0 or DISABLE_EXCEPTION_CATCHING=2 to catch."},q:function(t){return e.___errno_location&&(p[e.___errno_location()>>2]=t),t},x:function(t,e){J.varargs=e;try{var i=J.getStreamFromFD(),n=(J.get(),J.get()),r=J.get(),s=J.get(),o=n;return FS.llseek(i,o,s),p[r>>2]=i.position,i.getdents&&0===o&&0===s&&(i.getdents=null),0}catch(se){return"undefined"!=typeof FS&&se instanceof FS.ErrnoError||re(se),-se.errno}},p:function(t,e){J.varargs=e;try{for(var i=J.get(),n=J.get(),r=J.get(),s=0,o=0;o<r;o++){for(var a=p[n+8*o>>2],A=p[n+(8*o+4)>>2],l=0;l<A;l++)J.printChar(i,_[a+l]);s+=A}return s}catch(se){return"undefined"!=typeof FS&&se instanceof FS.ErrnoError||re(se),-se.errno}},w:function(t,e){J.varargs=e;try{var i=J.getStreamFromFD();return FS.close(i),0}catch(se){return"undefined"!=typeof FS&&se instanceof FS.ErrnoError||re(se),-se.errno}},v:function(t,e,i,n,r){var s=j(i);At(t,{name:e=q(e),fromWireType:function(t){return!!t},toWireType:function(t,e){return e?n:r},argPackAdvance:8,readValueFromPointer:function(t){var n;if(1===i)n=m;else if(2===i)n=g;else{if(4!==i)throw new TypeError("Unknown boolean type size: "+e);n=p}return this.fromWireType(n[t>>s])},destructorFunction:null})},k:function(t,e,i,n,r,s,o,a,A,l,u,h,c){u=q(u),s=xt(r,s),a&&(a=xt(o,a)),l&&(l=xt(A,l)),c=xt(h,c);var f=tt(u);gt(f,(function(){kt("Cannot construct "+u+" due to unbound types",[n])})),at([t,e,i],n?[n]:[],(function(e){var i,r;e=e[0],r=n?(i=e.registeredClass).instancePrototype:ft.prototype;var o=et(f,(function(){if(Object.getPrototypeOf(this)!==A)throw new nt("Use 'new' to construct "+u);if(void 0===h.constructor_body)throw new nt(u+" has no accessible constructor");var t=h.constructor_body[arguments.length];if(void 0===t)throw new nt("Tried to invoke ctor of "+u+" with invalid number of parameters ("+arguments.length+") - expected ("+Object.keys(h.constructor_body).toString()+") parameters instead!");return t.apply(this,arguments)})),A=Object.create(r,{constructor:{value:o}});o.prototype=A;var h=new dt(u,o,A,c,i,s,a,l),m=new wt(u,h,!0,!1,!1),_=new wt(u+"*",h,!1,!1,!1),g=new wt(u+" const*",h,!1,!0,!1);return mt[t]={pointerType:_,constPointerType:g},bt(f,o),[m,_,g]}))},m:function(t,e,i,n,r,s){var o=Dt(e,i);r=xt(n,r),at([],[t],(function(t){var i="constructor "+(t=t[0]).name;if(void 0===t.registeredClass.constructor_body&&(t.registeredClass.constructor_body=[]),void 0!==t.registeredClass.constructor_body[e-1])throw new nt("Cannot register multiple constructors with identical number of parameters ("+(e-1)+") for class '"+t.name+"'! Overload resolution is currently only performed using the parameter count, not actual type info!");return t.registeredClass.constructor_body[e-1]=function(){kt("Cannot construct "+t.name+" due to unbound types",o)},at([],o,(function(n){return t.registeredClass.constructor_body[e-1]=function(){arguments.length!==e-1&&rt(i+" called with "+arguments.length+" arguments, expected "+(e-1));var t=[],o=new Array(e);o[0]=s;for(var a=1;a<e;++a)o[a]=n[a].toWireType(t,arguments[a-1]);var A=r.apply(null,o);return Mt(t),n[0].fromWireType(A)},[]})),[]}))},b:function(t,e,i,n,r,s,o,a){var A=Dt(i,n);e=q(e),s=xt(r,s),at([],[t],(function(t){var n=(t=t[0]).name+"."+e;function r(){kt("Cannot call "+n+" due to unbound types",A)}a&&t.registeredClass.pureVirtualFunctions.push(e);var l=t.registeredClass.instancePrototype,u=l[e];return void 0===u||void 0===u.overloadTable&&u.className!==t.name&&u.argCount===i-2?(r.argCount=i-2,r.className=t.name,l[e]=r):(_t(l,e,n),l[e].overloadTable[i-2]=r),at([],A,(function(r){var a=Rt(n,r,t,s,o);return void 0===l[e].overloadTable?(a.argCount=i-2,l[e]=a):l[e].overloadTable[i-2]=a,[]})),[]}))},j:function(t,e,i,n,r,s,o,a,A,l){e=q(e),r=xt(n,r),at([],[t],(function(t){var n=(t=t[0]).name+"."+e,u={get:function(){kt("Cannot access "+n+" due to unbound types",[i,o])},enumerable:!0,configurable:!0};return u.set=A?function(){kt("Cannot access "+n+" due to unbound types",[i,o])}:function(t){rt(n+" is a read-only property")},Object.defineProperty(t.registeredClass.instancePrototype,e,u),at([],A?[i,o]:[i],(function(i){var o=i[0],u={get:function(){var e=Vt(this,t,n+" getter");return o.fromWireType(r(s,e))},enumerable:!0};if(A){A=xt(a,A);var h=i[1];u.set=function(e){var i=Vt(this,t,n+" setter"),r=[];A(l,i,h.toWireType(r,e)),Mt(r)}}return Object.defineProperty(t.registeredClass.instancePrototype,e,u),[]})),[]}))},H:function(t,e){At(t,{name:e=q(e),fromWireType:function(t){var e=Gt[t].value;return Ft(t),e},toWireType:function(t,e){return Pt(e)},argPackAdvance:8,readValueFromPointer:It,destructorFunction:null})},n:function(t,e,i,n){var r=j(i);function s(){}e=q(e),s.values={},At(t,{name:e,constructor:s,fromWireType:function(t){return this.constructor.values[t]},toWireType:function(t,e){return e.value},argPackAdvance:8,readValueFromPointer:Nt(e,r,n),destructorFunction:null}),gt(e,s)},g:function(t,e,i){var n=Lt(t,"enum");e=q(e);var r=n.constructor,s=Object.create(n.constructor.prototype,{value:{value:i},constructor:{value:et(n.name+"_"+e,(function(){}))}});r.values[i]=s,r[e]=s},u:function(t,e,i){var n=j(i);At(t,{name:e=q(e),fromWireType:function(t){return t},toWireType:function(t,e){if("number"!=typeof e&&"boolean"!=typeof e)throw new TypeError('Cannot convert "'+Ut(e)+'" to '+this.name);return e},argPackAdvance:8,readValueFromPointer:Ot(e,n),destructorFunction:null})},d:function(t,e,i,n,r,s){var o=Dt(e,i);t=q(t),r=xt(n,r),gt(t,(function(){kt("Cannot call "+t+" due to unbound types",o)}),e-1),at([],o,(function(i){var n=[i[0],null].concat(i.slice(1));return bt(t,Rt(t,n,null,r,s),e-1),[]}))},l:function(t,e,i,n,r){e=q(e),-1===r&&(r=4294967295);var s=j(i),o=function(t){return t};if(0===n){var a=32-8*i;o=function(t){return t<<a>>>a}}var A=-1!=e.indexOf("unsigned");At(t,{name:e,fromWireType:o,toWireType:function(t,i){if("number"!=typeof i&&"boolean"!=typeof i)throw new TypeError('Cannot convert "'+Ut(i)+'" to '+this.name);if(i<n||i>r)throw new TypeError('Passing a number "'+Ut(i)+'" from JS side to C/C++ side to an argument of type "'+e+'", which is outside the valid range ['+n+", "+r+"]!");return A?i>>>0:0|i},argPackAdvance:8,readValueFromPointer:Yt(e,s,0!==n),destructorFunction:null})},i:function(t,e,i){var n=[Int8Array,Uint8Array,Int16Array,Uint16Array,Int32Array,Uint32Array,Float32Array,Float64Array][e];function r(t){return new n(y.buffer,y[1+(t>>=2)],y[t])}At(t,{name:i=q(i),fromWireType:r,argPackAdvance:8,readValueFromPointer:r},{ignoreDuplicateRegistrations:!0})},t:function(t,e){var i="std::string"===(e=q(e));At(t,{name:e,fromWireType:function(t){var e,n=y[t>>2];if(i){var r=_[t+4+n],s=0;0!=r&&(s=r,_[t+4+n]=0);for(var o=t+4,a=0;a<=n;++a){var A=t+4+a;if(0==_[A]){var l=E(o);void 0===e?e=l:(e+=String.fromCharCode(0),e+=l),o=A+1}}0!=s&&(_[t+4+n]=s)}else{var u=new Array(n);for(a=0;a<n;++a)u[a]=String.fromCharCode(_[t+4+a]);e=u.join("")}return te(t),e},toWireType:function(t,e){e instanceof ArrayBuffer&&(e=new Uint8Array(e));var n="string"==typeof e;n||e instanceof Uint8Array||e instanceof Uint8ClampedArray||e instanceof Int8Array||rt("Cannot pass non-string to std::string");var r=(i&&n?function(){return function(t){for(var e=0,i=0;i<t.length;++i){var n=t.charCodeAt(i);n>=55296&&n<=57343&&(n=65536+((1023&n)<<10)|1023&t.charCodeAt(++i)),n<=127?++e:e+=n<=2047?2:n<=65535?3:n<=2097151?4:n<=67108863?5:6}return e}(e)}:function(){return e.length})(),s=ee(4+r+1);if(y[s>>2]=r,i&&n)!function(t,e,i,n){if(!(n>0))return 0;for(var r=i+n-1,s=0;s<t.length;++s){var o=t.charCodeAt(s);if(o>=55296&&o<=57343&&(o=65536+((1023&o)<<10)|1023&t.charCodeAt(++s)),o<=127){if(i>=r)break;e[i++]=o}else if(o<=2047){if(i+1>=r)break;e[i++]=192|o>>6,e[i++]=128|63&o}else if(o<=65535){if(i+2>=r)break;e[i++]=224|o>>12,e[i++]=128|o>>6&63,e[i++]=128|63&o}else{if(i+3>=r)break;e[i++]=240|o>>18,e[i++]=128|o>>12&63,e[i++]=128|o>>6&63,e[i++]=128|63&o}}e[i]=0}(e,_,s+4,r+1);else if(n)for(var o=0;o<r;++o){var a=e.charCodeAt(o);a>255&&(te(s),rt("String has UTF-16 code units that do not fit in 8 bits")),_[s+4+o]=a}else for(o=0;o<r;++o)_[s+4+o]=e[o];return null!==t&&t.push(te,s),s},argPackAdvance:8,readValueFromPointer:It,destructorFunction:function(t){te(t)}})},G:function(t,e,i){var n,r;i=q(i),2===e?(n=function(){return d},r=1):4===e&&(n=function(){return y},r=2),At(t,{name:i,fromWireType:function(t){for(var e=n(),i=y[t>>2],s=new Array(i),o=t+4>>r,a=0;a<i;++a)s[a]=String.fromCharCode(e[o+a]);return te(t),s.join("")},toWireType:function(t,i){var s=n(),o=i.length,a=ee(4+o*e);y[a>>2]=o;for(var A=a+4>>r,l=0;l<o;++l)s[A+l]=i.charCodeAt(l);return null!==t&&t.push(te,a),a},argPackAdvance:8,readValueFromPointer:It,destructorFunction:function(t){te(t)}})},F:function(t,e){At(t,{isVoid:!0,name:e=q(e),argPackAdvance:0,fromWireType:function(){},toWireType:function(t,e){}})},s:Ft,r:function(t){t>4&&(Gt[t].refcount+=1)},o:function(t,e){return Pt((t=Lt(t,"_emval_take_value")).readValueFromPointer(e))},c:function(){e.abort()},E:Ht,D:function(t,e,i){_.set(_.subarray(e,e+i),t)},C:function(t){var i=Ht();if(t>2147418112)return!1;for(var n=Math.max(i,16777216);n<t;)n=n<=536870912?w(2*n,65536):Math.min(w((3*n+2147483648)/4,65536),2147418112);var r=e.reallocBuffer(n);return!(!r||r.byteLength!=n||(b(r),x(),S=n,y[3308]=t,0))},B:function(t){return Jt[t]||0},A:function(t,e){return 0==t?22:(p[t>>2]=jt,Jt[jt]=0,jt++,0)},z:function t(i,n){t.seen||(t.seen={}),i in t.seen||(e.dynCall_v(n),t.seen[i]=1)},y:function(t,e){return t in Jt?(Jt[t]=e,0):22},a:13232};var Xt=e.asm({},e.asmLibraryArg,f);e.asm=Xt;var Wt=e.__GLOBAL__sub_I_bind_cpp=function(){return e.asm.J.apply(null,arguments)},Zt=e.__GLOBAL__sub_I_clipper_cpp=function(){return e.asm.K.apply(null,arguments)},$t=e.___getTypeName=function(){return e.asm.L.apply(null,arguments)},te=e._free=function(){return e.asm.M.apply(null,arguments)},ee=e._malloc=function(){return e.asm.N.apply(null,arguments)};function ie(t){this.name="ExitStatus",this.message="Program terminated with exit("+t+")",this.status=t}function ne(t){function i(){e.calledRun||(e.calledRun=!0,h||(V||(V=!0,Q(D)),Q(M),e.onRuntimeInitialized&&e.onRuntimeInitialized(),function(){if(e.postRun)for("function"==typeof e.postRun&&(e.postRun=[e.postRun]);e.postRun.length;)t=e.postRun.shift(),R.unshift(t);var t;Q(R)}()))}t=t||e.arguments,T>0||(function(){if(e.preRun)for("function"==typeof e.preRun&&(e.preRun=[e.preRun]);e.preRun.length;)t=e.preRun.shift(),k.unshift(t);var t;Q(k)}(),T>0||e.calledRun||(e.setStatus?(e.setStatus("Running..."),setTimeout((function(){setTimeout((function(){e.setStatus("")}),1),i()}),1)):i()))}function re(t){throw e.onAbort&&e.onAbort(t),void 0!==t?(A(t),l(t),t=JSON.stringify(t)):t="",h=!0,"abort("+t+"). Build with -s ASSERTIONS=1 for more info."}if(e.dynCall_di=function(){return e.asm.O.apply(null,arguments)},e.dynCall_dii=function(){return e.asm.P.apply(null,arguments)},e.dynCall_i=function(){return e.asm.Q.apply(null,arguments)},e.dynCall_ii=function(){return e.asm.R.apply(null,arguments)},e.dynCall_iidd=function(){return e.asm.S.apply(null,arguments)},e.dynCall_iii=function(){return e.asm.T.apply(null,arguments)},e.dynCall_iiii=function(){return e.asm.U.apply(null,arguments)},e.dynCall_iiiii=function(){return e.asm.V.apply(null,arguments)},e.dynCall_iiiiii=function(){return e.asm.W.apply(null,arguments)},e.dynCall_iiiiiii=function(){return e.asm.X.apply(null,arguments)},e.dynCall_v=function(){return e.asm.Y.apply(null,arguments)},e.dynCall_vi=function(){return e.asm.Z.apply(null,arguments)},e.dynCall_vid=function(){return e.asm._.apply(null,arguments)},e.dynCall_vidd=function(){return e.asm.$.apply(null,arguments)},e.dynCall_vii=function(){return e.asm.aa.apply(null,arguments)},e.dynCall_viid=function(){return e.asm.ba.apply(null,arguments)},e.dynCall_viii=function(){return e.asm.ca.apply(null,arguments)},e.dynCall_viiid=function(){return e.asm.da.apply(null,arguments)},e.dynCall_viiii=function(){return e.asm.ea.apply(null,arguments)},e.dynCall_viiiii=function(){return e.asm.fa.apply(null,arguments)},e.dynCall_viiiiii=function(){return e.asm.ga.apply(null,arguments)},e.asm=Xt,(ie.prototype=new Error).constructor=ie,F=function t(){e.calledRun||ne(),e.calledRun||(F=t)},e.run=ne,e.abort=re,e.preInit)for("function"==typeof e.preInit&&(e.preInit=[e.preInit]);e.preInit.length>0;)e.preInit.pop()();return e.noExitRuntime=!0,ne(),e}}},1:function(t,e){},"1LSx":function(t,e,i){var n;!function(r){var s=r.Promise,o=s&&"resolve"in s&&"reject"in s&&"all"in s&&"race"in s&&function(){var t;return new s((function(e){t=e})),"function"==typeof t}();e?(e.Promise=o?s:b,e.Polyfill=b):void 0===(n=(function(){return o?s:b}).call(e,i,e,t))||(t.exports=n);var a="pending",A="sealed",l="fulfilled",u="rejected",h=function(){};function c(t){return"[object Array]"===Object.prototype.toString.call(t)}var f,m="undefined"!=typeof setImmediate?setImmediate:setTimeout,_=[];function g(){for(var t=0;t<_.length;t++)_[t][0](_[t][1]);_=[],f=!1}function d(t,e){_.push([t,e]),f||(f=!0,m(g,0))}function p(t){var e=t.owner,i=e.state_,n=e.data_,r=t[i],s=t.then;if("function"==typeof r){i=l;try{n=r(n)}catch(o){I(s,o)}}y(s,n)||(i===l&&C(s,n),i===u&&I(s,n))}function y(t,e){var i;try{if(t===e)throw new TypeError("A promises callback cannot return that same promise.");if(e&&("function"==typeof e||"object"==typeof e)){var n=e.then;if("function"==typeof n)return n.call(e,(function(n){i||(i=!0,e!==n?C(t,n):v(t,n))}),(function(e){i||(i=!0,I(t,e))})),!0}}catch(r){return i||I(t,r),!0}return!1}function C(t,e){t!==e&&y(t,e)||v(t,e)}function v(t,e){t.state_===a&&(t.state_=A,t.data_=e,d(E,t))}function I(t,e){t.state_===a&&(t.state_=A,t.data_=e,d(w,t))}function B(t){var e=t.then_;t.then_=void 0;for(var i=0;i<e.length;i++)p(e[i])}function E(t){t.state_=l,B(t)}function w(t){t.state_=u,B(t)}function b(t){if("function"!=typeof t)throw new TypeError("Promise constructor takes a function argument");if(this instanceof b==0)throw new TypeError("Failed to construct 'Promise': Please use the 'new' operator, this object constructor cannot be called as a function.");this.then_=[],function(t,e){function i(t){I(e,t)}try{t((function(t){C(e,t)}),i)}catch(n){i(n)}}(t,this)}b.prototype={constructor:b,state_:a,then_:null,data_:void 0,then:function(t,e){var i={owner:this,then:new this.constructor(h),fulfilled:t,rejected:e};return this.state_===l||this.state_===u?d(p,i):this.then_.push(i),i.then},catch:function(t){return this.then(null,t)}},b.all=function(t){if(!c(t))throw new TypeError("You must pass an array to Promise.all().");return new this((function(e,i){var n=[],r=0;function s(t){return r++,function(i){n[t]=i,--r||e(n)}}for(var o,a=0;a<t.length;a++)(o=t[a])&&"function"==typeof o.then?o.then(s(a),i):n[a]=o;r||e(n)}))},b.race=function(t){if(!c(t))throw new TypeError("You must pass an array to Promise.race().");return new this((function(e,i){for(var n,r=0;r<t.length;r++)(n=t[r])&&"function"==typeof n.then?n.then(e,i):e(n)}))},b.resolve=function(t){return t&&"object"==typeof t&&t.constructor===this?t:new this((function(e){e(t)}))},b.reject=function(t){return new this((function(e,i){i(t)}))}}("undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:this)},"2QA8":function(t,e,i){"use strict";i.d(e,"a",(function(){return n}));var n="function"==typeof Symbol?Symbol("rxSubscriber"):"@@rxSubscriber_"+Math.random()},"2SUM":function(t,e,i){"use strict";function n(t,e){return Object.prototype.hasOwnProperty.call(t,e)}t.exports=function(t,e,i,r){i=i||"=";var s={};if("string"!=typeof t||0===t.length)return s;var o=/\+/g;t=t.split(e=e||"&");var a=1e3;r&&"number"==typeof r.maxKeys&&(a=r.maxKeys);var A=t.length;a>0&&A>a&&(A=a);for(var l=0;l<A;++l){var u,h,c,f,m=t[l].replace(o,"%20"),_=m.indexOf(i);_>=0?(u=m.substr(0,_),h=m.substr(_+1)):(u=m,h=""),c=decodeURIComponent(u),f=decodeURIComponent(h),n(s,c)?Array.isArray(s[c])?s[c].push(f):s[c]=[s[c],f]:s[c]=f}return s}},"2fFW":function(t,e,i){"use strict";i.d(e,"a",(function(){return r}));var n=!1,r={Promise:void 0,set useDeprecatedSynchronousErrorHandling(t){if(t){var e=new Error;console.warn("DEPRECATED! RxJS was set to use deprecated synchronous error handling behavior by code at: \n"+e.stack)}else n&&console.log("RxJS: Back to a better error behavior. Thank you. <3");n=t},get useDeprecatedSynchronousErrorHandling(){return n}}},"3Hso":function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=i("mzIk");e.StateContainer=n.StateContainer},"5+tZ":function(t,e,i){"use strict";i.d(e,"a",(function(){return A}));var n=i("ZUHj"),r=i("l7GE"),s=i("51Dv"),o=i("lJxs"),a=i("Cfvw");function A(t,e){var i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:Number.POSITIVE_INFINITY;return"function"==typeof e?function(n){return n.pipe(A((function(i,n){return Object(a.a)(t(i,n)).pipe(Object(o.a)((function(t,r){return e(i,t,n,r)})))}),i))}:("number"==typeof e&&(i=e),function(e){return e.lift(new l(t,i))})}var l=function(){function t(e){var i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Number.POSITIVE_INFINITY;_classCallCheck2(this,t),this.project=e,this.concurrent=i}return _createClass2(t,[{key:"call",value:function(t,e){return e.subscribe(new u(t,this.project,this.concurrent))}}]),t}(),u=function(t){function e(t,i){var n,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:Number.POSITIVE_INFINITY;return _classCallCheck2(this,e),(n=_possibleConstructorReturn(this,_getPrototypeOf(e).call(this,t))).project=i,n.concurrent=r,n.hasCompleted=!1,n.buffer=[],n.active=0,n.index=0,n}return _inherits(e,t),_createClass2(e,[{key:"_next",value:function(t){this.active<this.concurrent?this._tryNext(t):this.buffer.push(t)}},{key:"_tryNext",value:function(t){var e,i=this.index++;try{e=this.project(t,i)}catch(n){return void this.destination.error(n)}this.active++,this._innerSub(e,t,i)}},{key:"_innerSub",value:function(t,e,i){var r=new s.a(this,void 0,void 0);this.destination.add(r),Object(n.a)(this,t,e,i,r)}},{key:"_complete",value:function(){this.hasCompleted=!0,0===this.active&&0===this.buffer.length&&this.destination.complete(),this.unsubscribe()}},{key:"notifyNext",value:function(t,e,i,n,r){this.destination.next(e)}},{key:"notifyComplete",value:function(t){var e=this.buffer;this.remove(t),this.active--,e.length>0?this._next(e.shift()):0===this.active&&this.hasCompleted&&this.destination.complete()}}]),e}(r.a)},"51Dv":function(t,e,i){"use strict";i.d(e,"a",(function(){return n}));var n=function(t){function e(t,i,n){var r;return _classCallCheck2(this,e),(r=_possibleConstructorReturn(this,_getPrototypeOf(e).call(this))).parent=t,r.outerValue=i,r.outerIndex=n,r.index=0,r}return _inherits(e,t),_createClass2(e,[{key:"_next",value:function(t){this.parent.notifyNext(this.outerValue,t,this.outerIndex,this.index++,this)}},{key:"_error",value:function(t){this.parent.notifyError(t,this),this.unsubscribe()}},{key:"_complete",value:function(){this.parent.notifyComplete(this),this.unsubscribe()}}]),e}(i("7o/Q").a)},"5UGa":function(t,e,i){"use strict";var n,r=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])})(t,e)},function(t,e){function i(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)}),s=this&&this.__spreadArrays||function(){for(var t=0,e=0,i=arguments.length;e<i;e++)t+=arguments[e].length;var n=Array(t),r=0;for(e=0;e<i;e++)for(var s=arguments[e],o=0,a=s.length;o<a;o++,r++)n[r]=s[o];return n};Object.defineProperty(e,"__esModule",{value:!0});var o=i("Tk29"),a=i("6cl6"),A=i("0jZk"),l=i("KFww"),u=i("i/Fw"),h=i("CnUt"),c=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return r(e,t),e}(Error);function f(t,e,i,n){if(!(t instanceof e))throw new c("a '"+e.name+"' was expected, but '"+t.constructor.name+"' was provided in "+i.constructor.name+"#"+n)}function m(t,e,i,n,r){!function(t,e,i,n){var r,s=!1;switch(e){case"number":case"int8":case"uint8":case"int16":case"uint16":case"int32":case"uint32":case"int64":case"uint64":case"float32":case"float64":r="number",isNaN(t)&&console.log('trying to encode "NaN" in '+i.constructor.name+"#"+n);break;case"string":r="string",s=!0;break;case"boolean":return}if(typeof t!==r&&(!s||s&&null!==t)){var o="'"+JSON.stringify(t)+"'"+(t&&t.constructor&&" ("+t.constructor.name+")");throw new c("a '"+r+"' was expected, but "+o+" was provided in "+i.constructor.name+"#"+n)}}(i,t,n,r);var s=a[t];if(!s)throw new c("a '"+t+"' was expected, but "+i+" was provided in "+n.constructor.name+"#"+r);s(e,i)}function _(t,e,i){return A[t](e,i)}var g=function(){function t(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];Object.defineProperties(this,{$changes:{value:new h.ChangeTree,enumerable:!1,writable:!0}});var i=this._descriptors;i&&Object.defineProperties(this,i)}return t.onError=function(t){console.error(t)},Object.defineProperty(t.prototype,"_schema",{get:function(){return this.constructor._schema},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"_descriptors",{get:function(){return this.constructor._descriptors},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"_indexes",{get:function(){return this.constructor._indexes},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"_filters",{get:function(){return this.constructor._filters},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"_deprecated",{get:function(){return this.constructor._deprecated},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"$changed",{get:function(){return this.$changes.changed},enumerable:!0,configurable:!0}),t.prototype.decode=function(e,i){void 0===i&&(i={offset:0});var n=[],r=this._schema,s=this._indexes,a={};Object.keys(s).forEach((function(t){a[s[t]]=t}));var h=e.length;e[i.offset]===o.TYPE_ID&&(i.offset+=2);for(var c=function(){var s=A.nilCheck(e,i)&&++i.offset,h=e[i.offset++];if(h===o.END_OF_STRUCTURE)return"break";var c=a[h],m=r[c],g=void 0,d=void 0,p=!1;if(!c)return"continue";if(s)g=null,p=!0;else if(m._schema)(g=f["_"+c]||f.createTypeInstance(e,i,m)).decode(e,i),p=!0;else if(Array.isArray(m)){m=m[0],d=[];var y=f["_"+c]||new l.ArraySchema;g=y.clone(!0);var C=A.number(e,i),v=Math.min(A.number(e,i),C);p=v>0;var I=!1;g.length>C&&Array.prototype.splice.call(g,C).forEach((function(e,i){if(e&&e.onRemove)try{e.onRemove()}catch(n){t.onError(n)}if(y.onRemove)try{y.onRemove(e,C+i)}catch(n){t.onError(n)}}));for(var B=0;B<v;B++){var E=A.number(e,i),w=void 0;A.indexChangeCheck(e,i)&&(A.uint8(e,i),w=A.number(e,i),I=!0);var b=!I&&void 0===g[E]||I&&void 0===w;if(m.prototype instanceof t){var x=void 0;(x=b?f.createTypeInstance(e,i,m):void 0!==w?y[w]:y[E])||(x=f.createTypeInstance(e,i,m),b=!0),x.decode(e,i),g[E]=x}else g[E]=_(m,e,i);if(b){if(y.onAdd)try{y.onAdd(g[E],E)}catch(G){t.onError(G)}}else if(y.onChange)try{y.onChange(g[E],E)}catch(G){t.onError(G)}d.push(g[E])}}else if(m.map){m=m.map;var S=f["_"+c]||new u.MapSchema;g=S.clone(!0);var Q=A.number(e,i);p=Q>0,I=!1;var k=Object.keys(S);for(B=0;B<Q&&void 0!==e[i.offset]&&e[i.offset]!==o.END_OF_STRUCTURE;B++){var D=A.nilCheck(e,i)&&++i.offset,M=void 0;A.indexChangeCheck(e,i)&&(A.uint8(e,i),M=k[A.number(e,i)],I=!0);var R=A.numberCheck(e,i),V="string"!=typeof m,T=R?k[A.number(e,i)]:A.string(e,i);if(x=void 0,x=(b=!I&&void 0===S[T]||I&&void 0===M&&R)&&V?f.createTypeInstance(e,i,m):void 0!==M?S[M]:S[T],D){if(x&&x.onRemove)try{x.onRemove()}catch(G){t.onError(G)}if(S.onRemove)try{S.onRemove(x,T)}catch(G){t.onError(G)}delete g[T]}else if(V?(x.decode(e,i),g[T]=x):g[T]=_(m,e,i),b){if(S.onAdd)try{S.onAdd(g[T],T)}catch(G){t.onError(G)}}else if(S.onChange)try{S.onChange(g[T],T)}catch(G){t.onError(G)}}}else g=_(m,e,i),p=!0;p&&f.onChange&&n.push({field:c,value:d||g,previousValue:f["_"+c]}),f["_"+c]=g},f=this;i.offset<h&&"break"!==c(););if(this.onChange&&n.length>0)try{this.onChange(n)}catch(m){t.onError(m)}return this},t.prototype.encode=function(t,e,i){var n=this;void 0===t&&(t=this),void 0===e&&(e=!1);var r=[];if(!this.$changes.changed&&!e)return this._encodeEndOfStructure(this,t,r),r;for(var A=this._schema,h=this._indexes,c=this._filters,_=e||i?this.$changes.allChanges:this.$changes.changes,g=function(g,p){var y=_[g],C=A[y],v=c&&c[y],I=d["_"+y],B=h[y],E=[];if(void 0===I)a.uint8(E,o.NIL),a.number(E,B);else if(C._schema){if(i&&v&&!v.call(d,i,I,t))return"continue";I?(a.number(E,B),f(I,C,d,y),d.tryEncodeTypeId(E,C,I.constructor),E.push.apply(E,I.encode(t,e,i))):(a.uint8(E,o.NIL),a.number(E,B))}else if(Array.isArray(C)){a.number(E,B),a.number(E,I.length);var w=(e||i?I.$changes.allChanges:I.$changes.changes).filter((function(t){return void 0!==n["_"+y][t]})).sort((function(t,e){return t-e}));a.number(E,M=w.length);var b="string"!=typeof C[0];f(d["_"+y],l.ArraySchema,d,y);for(var x=0;x<M;x++){var S=w[x],Q=d["_"+y][S];i&&v&&!v.call(d,i,Q,t)||(b?(a.number(E,S),e||void 0!==(G=I.$changes.getIndexChange(Q))&&(a.uint8(E,o.INDEX_CHANGE),a.number(E,G)),f(Q,C[0],d,y),d.tryEncodeTypeId(E,C[0],Q.constructor),E.push.apply(E,Q.encode(t,e,i))):void 0!==Q&&(a.number(E,S),m(C[0],E,Q,d,y)))}e||I.$changes.discard()}else if(C.map){a.number(E,B);var k=e||i?I.$changes.allChanges:I.$changes.changes;a.number(E,k.length);var D=I.$changes.allChanges,M=(b="string"!=typeof C.map,k.length);f(d["_"+y],u.MapSchema,d,y);for(var R=0;R<M;R++){var V="number"==typeof k[R]&&D[k[R]]||k[R],T=void(Q=d["_"+y][V]);if(!i||!v||v.call(d,i,Q,t)){if(e){if(void 0===Q)continue}else{var G=I.$changes.getIndexChange(Q);Q&&void 0!==G&&(a.uint8(E,o.INDEX_CHANGE),a.number(E,d["_"+y]._indexes.get(G))),T=I.$changes.isDeleted(V)&&Q?void 0:d["_"+y]._indexes.get(V)}var F=void 0===Q;F&&a.uint8(E,o.NIL),void 0!==T?a.number(E,T):a.string(E,V),Q&&b?(f(Q,C.map,d,y),d.tryEncodeTypeId(E,C.map,Q.constructor),E.push.apply(E,Q.encode(t,e,i))):F||m(C.map,E,Q,d,y)}}e||(I.$changes.discard(),i||d["_"+y]._updateIndexes(I.$changes.allChanges))}else{if(i&&v&&!v.call(d,i,I,t))return"continue";a.number(E,B),m(C,E,I,d,y)}r=s(r,E)},d=this,p=0,y=_.length;p<y;p++)g(p);return this._encodeEndOfStructure(this,t,r),e||i||this.$changes.discard(),r},t.prototype.encodeFiltered=function(t){return this.encode(this,!1,t)},t.prototype.encodeAll=function(){return this.encode(this,!0)},t.prototype.encodeAllFiltered=function(t){return this.encode(this,!0,t)},t.prototype.clone=function(){var t=new this.constructor,e=this._schema;for(var i in e)t[i]="object"==typeof this[i]&&"function"==typeof this[i].clone?this[i].clone():this[i];return t},t.prototype.triggerAll=function(){if(this.onChange){var e=[],i=this._schema;for(var n in i)void 0!==this[n]&&e.push({field:n,value:this[n],previousValue:void 0});try{this.onChange(e)}catch(r){t.onError(r)}}},t.prototype.toJSON=function(){var t=this._schema,e=this._deprecated,i={};for(var n in t)e[n]||null==this[n]||(i[n]="function"==typeof this[n].toJSON?this[n].toJSON():this["_"+n]);return i},t.prototype._encodeEndOfStructure=function(t,e,i){t!==e&&i.push(o.END_OF_STRUCTURE)},t.prototype.tryEncodeTypeId=function(t,e,i){e._typeid!==i._typeid&&(a.uint8(t,o.TYPE_ID),a.uint8(t,i._typeid))},t.prototype.createTypeInstance=function(t,e,i){return t[e.offset]===o.TYPE_ID?(e.offset++,new(this.constructor._context.get(A.uint8(t,e)))):new i},t}();e.Schema=g},"6cl6":function(t,e,i){"use strict";function n(t,e,i){for(var n=0,r=0,s=i.length;r<s;r++)(n=i.charCodeAt(r))<128?t[e++]=n:n<2048?(t[e++]=192|n>>6,t[e++]=128|63&n):n<55296||n>=57344?(t[e++]=224|n>>12,t[e++]=128|n>>6&63,t[e++]=128|63&n):(n=65536+((1023&n)<<10|1023&i.charCodeAt(++r)),t[e++]=240|n>>18,t[e++]=128|n>>12&63,t[e++]=128|n>>6&63,t[e++]=128|63&n)}function r(t,e){t.push(255&e)}function s(t,e){t.push(255&e)}function o(t,e){t.push(255&e),t.push(e>>8&255)}function a(t,e){t.push(255&e),t.push(e>>8&255)}function A(t,e){t.push(255&e),t.push(e>>8&255),t.push(e>>16&255),t.push(e>>24&255)}function l(t,e){var i=e>>24,n=e>>16,r=e>>8;t.push(255&e),t.push(255&r),t.push(255&n),t.push(255&i)}function u(t,e){var i=Math.floor(e/Math.pow(2,32));l(t,e>>>0),l(t,i)}function h(t,e){var i=e/Math.pow(2,32)>>0;l(t,e>>>0),l(t,i)}Object.defineProperty(e,"__esModule",{value:!0}),e.utf8Write=n,e.int8=r,e.uint8=s,e.int16=o,e.uint16=a,e.int32=A,e.uint32=l,e.int64=u,e.uint64=h,e.float32=function(t,e){g(t,e)},e.float64=function(t,e){d(t,e)};var c=!0,f=new Int32Array(2),m=new Float32Array(f.buffer),_=new Float64Array(f.buffer);function g(t,e){m[0]=e,A(t,f[0])}function d(t,e){_[0]=e,A(t,f[c?0:1]),A(t,f[c?1:0])}e.writeFloat32=g,e.writeFloat64=d,e.boolean=function(t,e){return s(t,e?1:0)},e.string=function(t,e){e||(e="");var i=function(t){for(var e=0,i=0,n=0,r=t.length;n<r;n++)(e=t.charCodeAt(n))<128?i+=1:e<2048?i+=2:e<55296||e>=57344?i+=3:(n++,i+=4);return i}(e),r=0;if(i<32)t.push(160|i),r=1;else if(i<256)t.push(217),s(t,i),r=2;else if(i<65536)t.push(218),a(t,i),r=3;else{if(!(i<4294967296))throw new Error("String too long");t.push(219),l(t,i),r=5}return n(t,t.length,e),r+i},e.number=function t(e,i){return isNaN(i)?t(e,0):isFinite(i)?i!==(0|i)?(e.push(203),d(e,i),9):i>=0?i<128?(s(e,i),1):i<256?(e.push(204),s(e,i),2):i<65536?(e.push(205),a(e,i),3):i<4294967296?(e.push(206),l(e,i),5):(e.push(207),h(e,i),9):i>=-32?(e.push(i),1):i>=-128?(e.push(208),r(e,i),2):i>=-32768?(e.push(209),o(e,i),3):i>=-2147483648?(e.push(210),A(e,i),5):(e.push(211),u(e,i),9):t(e,i>0?Number.MAX_SAFE_INTEGER:-Number.MAX_SAFE_INTEGER)}},"7o/Q":function(t,e,i){"use strict";i.d(e,"a",(function(){return l}));var n=i("n6bG"),r=i("gRHU"),s=i("quSY"),o=i("2QA8"),a=i("2fFW"),A=i("NJ4a"),l=function(t){function e(t,i,n){var s;switch(_classCallCheck2(this,e),(s=_possibleConstructorReturn(this,_getPrototypeOf(e).call(this))).syncErrorValue=null,s.syncErrorThrown=!1,s.syncErrorThrowable=!1,s.isStopped=!1,arguments.length){case 0:s.destination=r.a;break;case 1:if(!t){s.destination=r.a;break}if("object"==typeof t){t instanceof e?(s.syncErrorThrowable=t.syncErrorThrowable,s.destination=t,t.add(_assertThisInitialized(s))):(s.syncErrorThrowable=!0,s.destination=new u(_assertThisInitialized(s),t));break}default:s.syncErrorThrowable=!0,s.destination=new u(_assertThisInitialized(s),t,i,n)}return s}return _inherits(e,t),_createClass2(e,[{key:o.a,value:function(){return this}},{key:"next",value:function(t){this.isStopped||this._next(t)}},{key:"error",value:function(t){this.isStopped||(this.isStopped=!0,this._error(t))}},{key:"complete",value:function(){this.isStopped||(this.isStopped=!0,this._complete())}},{key:"unsubscribe",value:function(){this.closed||(this.isStopped=!0,_get(_getPrototypeOf(e.prototype),"unsubscribe",this).call(this))}},{key:"_next",value:function(t){this.destination.next(t)}},{key:"_error",value:function(t){this.destination.error(t),this.unsubscribe()}},{key:"_complete",value:function(){this.destination.complete(),this.unsubscribe()}},{key:"_unsubscribeAndRecycle",value:function(){var t=this._parentOrParents;return this._parentOrParents=null,this.unsubscribe(),this.closed=!1,this.isStopped=!1,this._parentOrParents=t,this}}],[{key:"create",value:function(t,i,n){var r=new e(t,i,n);return r.syncErrorThrowable=!1,r}}]),e}(s.a),u=function(t){function e(t,i,s,o){var a,A;_classCallCheck2(this,e),(a=_possibleConstructorReturn(this,_getPrototypeOf(e).call(this)))._parentSubscriber=t;var l=_assertThisInitialized(a);return Object(n.a)(i)?A=i:i&&(A=i.next,s=i.error,o=i.complete,i!==r.a&&(l=Object.create(i),Object(n.a)(l.unsubscribe)&&a.add(l.unsubscribe.bind(l)),l.unsubscribe=a.unsubscribe.bind(_assertThisInitialized(a)))),a._context=l,a._next=A,a._error=s,a._complete=o,a}return _inherits(e,t),_createClass2(e,[{key:"next",value:function(t){if(!this.isStopped&&this._next){var e=this._parentSubscriber;a.a.useDeprecatedSynchronousErrorHandling&&e.syncErrorThrowable?this.__tryOrSetError(e,this._next,t)&&this.unsubscribe():this.__tryOrUnsub(this._next,t)}}},{key:"error",value:function(t){if(!this.isStopped){var e=this._parentSubscriber,i=a.a.useDeprecatedSynchronousErrorHandling;if(this._error)i&&e.syncErrorThrowable?(this.__tryOrSetError(e,this._error,t),this.unsubscribe()):(this.__tryOrUnsub(this._error,t),this.unsubscribe());else if(e.syncErrorThrowable)i?(e.syncErrorValue=t,e.syncErrorThrown=!0):Object(A.a)(t),this.unsubscribe();else{if(this.unsubscribe(),i)throw t;Object(A.a)(t)}}}},{key:"complete",value:function(){var t=this;if(!this.isStopped){var e=this._parentSubscriber;if(this._complete){var i=function(){return t._complete.call(t._context)};a.a.useDeprecatedSynchronousErrorHandling&&e.syncErrorThrowable?(this.__tryOrSetError(e,i),this.unsubscribe()):(this.__tryOrUnsub(i),this.unsubscribe())}else this.unsubscribe()}}},{key:"__tryOrUnsub",value:function(t,e){try{t.call(this._context,e)}catch(i){if(this.unsubscribe(),a.a.useDeprecatedSynchronousErrorHandling)throw i;Object(A.a)(i)}}},{key:"__tryOrSetError",value:function(t,e,i){if(!a.a.useDeprecatedSynchronousErrorHandling)throw new Error("bad call");try{e.call(this._context,i)}catch(n){return a.a.useDeprecatedSynchronousErrorHandling?(t.syncErrorValue=n,t.syncErrorThrown=!0,!0):(Object(A.a)(n),!0)}return!1}},{key:"_unsubscribe",value:function(){var t=this._parentSubscriber;this._context=null,this._parentSubscriber=null,t.unsubscribe()}}]),e}(l)},"9ppp":function(t,e,i){"use strict";i.d(e,"a",(function(){return n}));var n=function(){function t(){return Error.call(this),this.message="object unsubscribed",this.name="ObjectUnsubscribedError",this}return t.prototype=Object.create(Error.prototype),t}()},Cfvw:function(t,e,i){"use strict";var n=i("HDdC"),r=i("SeVD"),s=i("quSY"),o=i("kJWO"),a=i("jZKg"),A=i("Lhse"),l=i("c2HN"),u=i("I55L");function h(t,e){return e?function(t,e){if(null!=t){if(function(t){return t&&"function"==typeof t[o.a]}(t))return function(t,e){return new n.a((function(i){var n=new s.a;return n.add(e.schedule((function(){var r=t[o.a]();n.add(r.subscribe({next:function(t){n.add(e.schedule((function(){return i.next(t)})))},error:function(t){n.add(e.schedule((function(){return i.error(t)})))},complete:function(){n.add(e.schedule((function(){return i.complete()})))}}))}))),n}))}(t,e);if(Object(l.a)(t))return function(t,e){return new n.a((function(i){var n=new s.a;return n.add(e.schedule((function(){return t.then((function(t){n.add(e.schedule((function(){i.next(t),n.add(e.schedule((function(){return i.complete()})))})))}),(function(t){n.add(e.schedule((function(){return i.error(t)})))}))}))),n}))}(t,e);if(Object(u.a)(t))return Object(a.a)(t,e);if(function(t){return t&&"function"==typeof t[A.a]}(t)||"string"==typeof t)return function(t,e){if(!t)throw new Error("Iterable cannot be null");return new n.a((function(i){var n,r=new s.a;return r.add((function(){n&&"function"==typeof n.return&&n.return()})),r.add(e.schedule((function(){n=t[A.a](),r.add(e.schedule((function(){if(!i.closed){var t,e;try{var r=n.next();t=r.value,e=r.done}catch(s){return void i.error(s)}e?i.complete():(i.next(t),this.schedule())}})))}))),r}))}(t,e)}throw new TypeError((null!==t&&typeof t||t)+" is not observable")}(t,e):t instanceof n.a?t:new n.a(Object(r.a)(t))}i.d(e,"a",(function(){return h}))},CnUt:function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=i("5UGa"),r=i("KFww"),s=i("i/Fw"),o=function(){function t(t,e){void 0===t&&(t=null),this.changed=!1,this.changes=[],this.allChanges=[],this.deletedKeys={},this.parent=e,this.parentField=t}return t.prototype.change=function(t,e){void 0===e&&(e=!1),this.changed=!0,-1===this.changes.indexOf(t)&&this.changes.push(t);var i=this.allChanges.indexOf(t);e||-1!==i?e&&i>=0&&this.allChanges.splice(i,1):this.allChanges.push(t),this.parent&&this.parent.change(this.parentField)},t.prototype.mapIndex=function(t,e){"object"==typeof t&&(this.indexMap||(this.indexMap=new Map,this.indexChange=new Map),this.indexMap.set(t,e))},t.prototype.getIndex=function(t){return this.indexMap&&this.indexMap.get(t)},t.prototype.deleteIndex=function(t){"object"==typeof t&&(this.deletedKeys[this.indexMap.get(t)]=!0,this.indexMap.delete(t))},t.prototype.isDeleted=function(t){return void 0!==this.deletedKeys[t]},t.prototype.mapIndexChange=function(t,e){"object"==typeof t&&this.indexChange.set(t,e)},t.prototype.getIndexChange=function(t){return this.indexChange&&this.indexChange.get(t)},t.prototype.deleteIndexChange=function(t){"object"==typeof t&&this.indexChange.delete(t)},t.prototype.changeAll=function(t){if(t instanceof n.Schema){var e=t._schema;for(var i in e)(t[i]instanceof n.Schema||t[i]instanceof r.ArraySchema||t[i]instanceof s.MapSchema)&&!t[i].$changes.parent.parent&&(t[i].$changes.parent=this),void 0!==t[i]&&this.change(i)}else for(var o=0,a=Object.keys(t);o<a.length;o++){var A=a[o];void 0!==t[A]&&this.change(A)}},t.prototype.discard=function(){this.changed=!1,this.changes=[],this.deletedKeys={},this.indexChange&&this.indexChange.clear()},t}();e.ChangeTree=o},DFru:function(t,e,i){"use strict";i.r(e);var n=i("ofXK"),r=i("hQ4F"),s=function t(){_classCallCheck2(this,t),this.hz=60,this.velocityIterations=8,this.positionIterations=3,this.drawShapes=!1,this.drawJoints=!1,this.drawAABBs=!1,this.drawContactPoints=!1,this.drawContactNormals=!1,this.drawContactImpulse=!1,this.drawFrictionImpulse=!1,this.drawCOMs=!1,this.drawControllers=!0,this.drawStats=!1,this.drawProfile=!1,this.enableWarmStarting=!0,this.enableContinuous=!0,this.enableSubStepping=!1,this.enableSleep=!0,this.pause=!1,this.singleStep=!1},o=function(t){function e(t){var i;return _classCallCheck2(this,e),(i=_possibleConstructorReturn(this,_getPrototypeOf(e).call(this))).map=t,i}return _inherits(e,t),_createClass2(e,[{key:"SayGoodbyeJoint",value:function(t){this.map.mapMouseJoint===t?this.map.mapMouseJoint=null:this.map.JointDestroyed(t)}},{key:"SayGoodbyeFixture",value:function(t){}}]),e}(r.b2DestructionListener),a=function(t){function e(){var t;_classCallCheck2(this,e),(t=_possibleConstructorReturn(this,_getPrototypeOf(e).call(this))).mapMouseJoint=null,t.mapMouseWorld=new r.b2Vec2;var i=new r.b2Vec2(0,-12);t.world=new r.b2World(i),t.mapMouseJoint=null,t.mapDestructionListener=new o(_assertThisInitialized(t)),t.world.SetDestructionListener(t.mapDestructionListener),t.world.SetContactListener(_assertThisInitialized(t));var n=new r.b2BodyDef;return t.mapGroundBody=t.world.CreateBody(n),t}return _inherits(e,t),_createClass2(e,[{key:"Step",value:function(t,e){var i=t.hz>0?1/t.hz:0;this.world.SetAllowSleeping(t.enableSleep),this.world.SetWarmStarting(t.enableWarmStarting),this.world.SetContinuousPhysics(t.enableContinuous),this.world.SetSubStepping(t.enableSubStepping),this.world.Step(i,t.velocityIterations,t.positionIterations)}},{key:"JointDestroyed",value:function(t){}},{key:"MouseDown",value:function(t){this.mapMouseWorld.Copy(t),null!==this.mapMouseJoint&&(this.world.DestroyJoint(this.mapMouseJoint),this.mapMouseJoint=null);var e=null;if(this.world.QueryPointAABB(null,t,(function(i){return i.GetBody().GetType()!==r.b2BodyType.b2_dynamicBody||!i.TestPoint(t)||(e=i,!1)})),e){var i=e.GetBody(),n=new r.b2MouseJointDef;n.bodyA=this.mapGroundBody,n.bodyB=i,n.target.Copy(t),n.maxForce=1e3*i.GetMass(),this.mapMouseJoint=this.world.CreateJoint(n),i.SetAwake(!0)}return e}},{key:"MouseUp",value:function(t){this.mapMouseJoint&&(this.world.DestroyJoint(this.mapMouseJoint),this.mapMouseJoint=null)}},{key:"MouseMove",value:function(t){this.mapMouseWorld.Copy(t),this.mapMouseJoint&&this.mapMouseJoint.SetTarget(t)}},{key:"GetDefaultViewZoom",value:function(){return 1}}]),e}(r.b2ContactListener),A=i("1LSx"),l=i("+tqq"),u=i.n(l);window.Promise||(window.Promise=A.Polyfill),Object.assign||(Object.assign=u.a);var h="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{};if(Date.now&&Date.prototype.getTime||(Date.now=function(){return(new Date).getTime()}),!h.performance||!h.performance.now){var c=Date.now();h.performance||(h.performance={}),h.performance.now=function(){return Date.now()-c}}for(var f=Date.now(),m=["ms","moz","webkit","o"],_=0;_<m.length&&!h.requestAnimationFrame;++_){var g=m[_];h.requestAnimationFrame=h[g+"RequestAnimationFrame"],h.cancelAnimationFrame=h[g+"CancelAnimationFrame"]||h[g+"CancelRequestAnimationFrame"]}h.requestAnimationFrame||(h.requestAnimationFrame=function(t){if("function"!=typeof t)throw new TypeError(t+"is not a function");var e=Date.now(),i=16+f-e;return i<0&&(i=0),f=e,setTimeout((function(){f=Date.now(),t(performance.now())}),i)}),h.cancelAnimationFrame||(h.cancelAnimationFrame=function(t){return clearTimeout(t)}),Math.sign||(Math.sign=function(t){return 0===(t=Number(t))||isNaN(t)?t:t>0?1:-1}),Number.isInteger||(Number.isInteger=function(t){return"number"==typeof t&&isFinite(t)&&Math.floor(t)===t}),window.ArrayBuffer||(window.ArrayBuffer=Array),window.Float32Array||(window.Float32Array=Array),window.Uint32Array||(window.Uint32Array=Array),window.Uint16Array||(window.Uint16Array=Array),window.Uint8Array||(window.Uint8Array=Array),window.Int32Array||(window.Int32Array=Array);var d,p,y,C,v,I,B,E,w,b,x,S,Q,k,D=i("J/2F"),M=i.n(D),R={MIPMAP_TEXTURES:1,ANISOTROPIC_LEVEL:0,RESOLUTION:1,FILTER_RESOLUTION:1,SPRITE_MAX_TEXTURES:function(t){var e=!0;if(M.a.tablet||M.a.phone){if(e=!1,M.a.apple.device){var i=navigator.userAgent.match(/OS (\d+)_(\d+)?/);i&&parseInt(i[1],10)>=11&&(e=!0)}if(M.a.android.device){var n=navigator.userAgent.match(/Android\s([0-9.]*)/);n&&parseInt(n[1],10)>=7&&(e=!0)}}return e?32:4}(),SPRITE_BATCH_SIZE:4096,RENDER_OPTIONS:{view:null,antialias:!1,forceFXAA:!1,autoDensity:!1,transparent:!1,backgroundColor:0,clearBeforeRender:!0,preserveDrawingBuffer:!1,width:800,height:600,legacy:!1},GC_MODE:0,GC_MAX_IDLE:3600,GC_MAX_CHECK_COUNT:600,WRAP_MODE:33071,SCALE_MODE:1,PRECISION_VERTEX:"highp",PRECISION_FRAGMENT:M.a.apple.device?"highp":"mediump",CAN_UPLOAD_SAME_BUFFER:!M.a.apple.device,CREATE_IMAGE_BITMAP:!1,ROUND_PIXELS:!1},V=i("jFue"),T=i.n(V),G=i("uip3"),F=i.n(G),P=i("Pvix"),N=i.n(P);!function(t){t[t.WEBGL_LEGACY=0]="WEBGL_LEGACY",t[t.WEBGL=1]="WEBGL",t[t.WEBGL2=2]="WEBGL2"}(d||(d={})),function(t){t[t.UNKNOWN=0]="UNKNOWN",t[t.WEBGL=1]="WEBGL",t[t.CANVAS=2]="CANVAS"}(p||(p={})),function(t){t[t.NORMAL=0]="NORMAL",t[t.ADD=1]="ADD",t[t.MULTIPLY=2]="MULTIPLY",t[t.SCREEN=3]="SCREEN",t[t.OVERLAY=4]="OVERLAY",t[t.DARKEN=5]="DARKEN",t[t.LIGHTEN=6]="LIGHTEN",t[t.COLOR_DODGE=7]="COLOR_DODGE",t[t.COLOR_BURN=8]="COLOR_BURN",t[t.HARD_LIGHT=9]="HARD_LIGHT",t[t.SOFT_LIGHT=10]="SOFT_LIGHT",t[t.DIFFERENCE=11]="DIFFERENCE",t[t.EXCLUSION=12]="EXCLUSION",t[t.HUE=13]="HUE",t[t.SATURATION=14]="SATURATION",t[t.COLOR=15]="COLOR",t[t.LUMINOSITY=16]="LUMINOSITY",t[t.NORMAL_NPM=17]="NORMAL_NPM",t[t.ADD_NPM=18]="ADD_NPM",t[t.SCREEN_NPM=19]="SCREEN_NPM",t[t.NONE=20]="NONE",t[t.SRC_OVER=0]="SRC_OVER",t[t.SRC_IN=21]="SRC_IN",t[t.SRC_OUT=22]="SRC_OUT",t[t.SRC_ATOP=23]="SRC_ATOP",t[t.DST_OVER=24]="DST_OVER",t[t.DST_IN=25]="DST_IN",t[t.DST_OUT=26]="DST_OUT",t[t.DST_ATOP=27]="DST_ATOP",t[t.ERASE=26]="ERASE",t[t.SUBTRACT=28]="SUBTRACT",t[t.XOR=29]="XOR"}(y||(y={})),function(t){t[t.POINTS=0]="POINTS",t[t.LINES=1]="LINES",t[t.LINE_LOOP=2]="LINE_LOOP",t[t.LINE_STRIP=3]="LINE_STRIP",t[t.TRIANGLES=4]="TRIANGLES",t[t.TRIANGLE_STRIP=5]="TRIANGLE_STRIP",t[t.TRIANGLE_FAN=6]="TRIANGLE_FAN"}(C||(C={})),function(t){t[t.RGBA=6408]="RGBA",t[t.RGB=6407]="RGB",t[t.ALPHA=6406]="ALPHA",t[t.LUMINANCE=6409]="LUMINANCE",t[t.LUMINANCE_ALPHA=6410]="LUMINANCE_ALPHA",t[t.DEPTH_COMPONENT=6402]="DEPTH_COMPONENT",t[t.DEPTH_STENCIL=34041]="DEPTH_STENCIL"}(v||(v={})),function(t){t[t.TEXTURE_2D=3553]="TEXTURE_2D",t[t.TEXTURE_CUBE_MAP=34067]="TEXTURE_CUBE_MAP",t[t.TEXTURE_2D_ARRAY=35866]="TEXTURE_2D_ARRAY",t[t.TEXTURE_CUBE_MAP_POSITIVE_X=34069]="TEXTURE_CUBE_MAP_POSITIVE_X",t[t.TEXTURE_CUBE_MAP_NEGATIVE_X=34070]="TEXTURE_CUBE_MAP_NEGATIVE_X",t[t.TEXTURE_CUBE_MAP_POSITIVE_Y=34071]="TEXTURE_CUBE_MAP_POSITIVE_Y",t[t.TEXTURE_CUBE_MAP_NEGATIVE_Y=34072]="TEXTURE_CUBE_MAP_NEGATIVE_Y",t[t.TEXTURE_CUBE_MAP_POSITIVE_Z=34073]="TEXTURE_CUBE_MAP_POSITIVE_Z",t[t.TEXTURE_CUBE_MAP_NEGATIVE_Z=34074]="TEXTURE_CUBE_MAP_NEGATIVE_Z"}(I||(I={})),function(t){t[t.UNSIGNED_BYTE=5121]="UNSIGNED_BYTE",t[t.UNSIGNED_SHORT=5123]="UNSIGNED_SHORT",t[t.UNSIGNED_SHORT_5_6_5=33635]="UNSIGNED_SHORT_5_6_5",t[t.UNSIGNED_SHORT_4_4_4_4=32819]="UNSIGNED_SHORT_4_4_4_4",t[t.UNSIGNED_SHORT_5_5_5_1=32820]="UNSIGNED_SHORT_5_5_5_1",t[t.FLOAT=5126]="FLOAT",t[t.HALF_FLOAT=36193]="HALF_FLOAT"}(B||(B={})),function(t){t[t.NEAREST=0]="NEAREST",t[t.LINEAR=1]="LINEAR"}(E||(E={})),function(t){t[t.CLAMP=33071]="CLAMP",t[t.REPEAT=10497]="REPEAT",t[t.MIRRORED_REPEAT=33648]="MIRRORED_REPEAT"}(w||(w={})),function(t){t[t.OFF=0]="OFF",t[t.POW2=1]="POW2",t[t.ON=2]="ON"}(b||(b={})),function(t){t[t.NPM=0]="NPM",t[t.UNPACK=1]="UNPACK",t[t.PMA=2]="PMA",t[t.NO_PREMULTIPLIED_ALPHA=0]="NO_PREMULTIPLIED_ALPHA",t[t.PREMULTIPLY_ON_UPLOAD=1]="PREMULTIPLY_ON_UPLOAD",t[t.PREMULTIPLY_ALPHA=2]="PREMULTIPLY_ALPHA"}(x||(x={})),function(t){t[t.AUTO=0]="AUTO",t[t.MANUAL=1]="MANUAL"}(S||(S={})),function(t){t.LOW="lowp",t.MEDIUM="mediump",t.HIGH="highp"}(Q||(Q={})),function(t){t[t.NONE=0]="NONE",t[t.SCISSOR=1]="SCISSOR",t[t.STENCIL=2]="STENCIL",t[t.SPRITE=3]="SPRITE"}(k||(k={})),R.RETINA_PREFIX=/@([0-9\.]+)x/,R.FAIL_IF_MAJOR_PERFORMANCE_CAVEAT=!0;var L,U=!1,O="5.2.0";function Y(t,e){return(e=e||[])[0]=(t>>16&255)/255,e[1]=(t>>8&255)/255,e[2]=(255&t)/255,e}function H(t){return t=t.toString(16),"#"+("000000".substr(0,6-t.length)+t)}var J=function(){for(var t=[],e=[],i=0;i<32;i++)t[i]=i,e[i]=i;t[y.NORMAL_NPM]=y.NORMAL,t[y.ADD_NPM]=y.ADD,t[y.SCREEN_NPM]=y.SCREEN,e[y.NORMAL]=y.NORMAL_NPM,e[y.ADD]=y.ADD_NPM,e[y.SCREEN]=y.SCREEN_NPM;var n=[];return n.push(e),n.push(t),n}();function j(t,e){return J[e?1:0][t]}function K(t,e){if(1===e)return(255*e<<24)+t;if(0===e)return 0;var i=t>>16&255,n=t>>8&255;return(255*e<<24)+((i=i*e+.5|0)<<16)+((n=n*e+.5|0)<<8)+((255&t)*e+.5|0)}function q(t,e,i){var n,r=t.length;if(!(e>=r||0===i)){var s=r-(i=e+i>r?r-e:i);for(n=e;n<s;++n)t[n]=t[n+i];t.length=s}}var z=0;function X(){return++z}function W(t){return 0===t?0:t<0?-1:1}function Z(t){return t+=0===t,--t,t|=t>>>1,t|=t>>>2,t|=t>>>4,1+((t|=t>>>8)|t>>>16)}function $(t){return!(t&t-1||!t)}function tt(t){var e=(t>65535)<<4,i=((t>>>=e)>255)<<3;return e|=i,e|=i=((t>>>=i)>15)<<2,(e|=i=((t>>>=i)>3)<<1)|(t>>>=i)>>1}var et,it={},nt=Object.create(null),rt=Object.create(null),st=function(t,e,i){this.canvas=document.createElement("canvas"),this.context=this.canvas.getContext("2d"),this.resolution=i||R.RESOLUTION,this.resize(t,e)},ot={width:{configurable:!0},height:{configurable:!0}};function at(t,e){var i=R.RETINA_PREFIX.exec(t);return i?parseFloat(i[1]):void 0!==e?e:1}st.prototype.clear=function(){this.context.setTransform(1,0,0,1,0,0),this.context.clearRect(0,0,this.canvas.width,this.canvas.height)},st.prototype.resize=function(t,e){this.canvas.width=t*this.resolution,this.canvas.height=e*this.resolution},st.prototype.destroy=function(){this.context=null,this.canvas=null},ot.width.get=function(){return this.canvas.width},ot.width.set=function(t){this.canvas.width=t},ot.height.get=function(){return this.canvas.height},ot.height.set=function(t){this.canvas.height=t},Object.defineProperties(st.prototype,ot);var At={};function lt(t,e,i){if(void 0===i&&(i=3),!At[e]){var n=(new Error).stack;void 0===n?console.warn("PixiJS Deprecation Warning: ",e+"\nDeprecated since v"+t):(n=n.split("\n").splice(i).join("\n"),console.groupCollapsed?(console.groupCollapsed("%cPixiJS Deprecation Warning: %c%s","color:#614108;background:#fffbe6","font-weight:normal;color:#614108;background:#fffbe6",e+"\nDeprecated since v"+t),console.warn(n),console.groupEnd()):(console.warn("PixiJS Deprecation Warning: ",e+"\nDeprecated since v"+t),console.warn(n))),At[e]=!0}}var ut,ht=function(){function t(t,e){void 0===t&&(t=0),void 0===e&&(e=0),this.x=t,this.y=e}return t.prototype.clone=function(){return new t(this.x,this.y)},t.prototype.copyFrom=function(t){return this.set(t.x,t.y),this},t.prototype.copyTo=function(t){return t.set(this.x,this.y),t},t.prototype.equals=function(t){return t.x===this.x&&t.y===this.y},t.prototype.set=function(t,e){void 0===t&&(t=0),void 0===e&&(e=t),this.x=t,this.y=e},t}(),ct=function(){function t(t,e,i,n){void 0===i&&(i=0),void 0===n&&(n=0),this._x=i,this._y=n,this.cb=t,this.scope=e}return t.prototype.clone=function(e,i){return void 0===e&&(e=this.cb),void 0===i&&(i=this.scope),new t(e,i,this._x,this._y)},t.prototype.set=function(t,e){void 0===t&&(t=0),void 0===e&&(e=t),this._x===t&&this._y===e||(this._x=t,this._y=e,this.cb.call(this.scope))},t.prototype.copyFrom=function(t){return this._x===t.x&&this._y===t.y||(this._x=t.x,this._y=t.y,this.cb.call(this.scope)),this},t.prototype.copyTo=function(t){return t.set(this._x,this._y),t},t.prototype.equals=function(t){return t.x===this._x&&t.y===this._y},Object.defineProperty(t.prototype,"x",{get:function(){return this._x},set:function(t){this._x!==t&&(this._x=t,this.cb.call(this.scope))},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"y",{get:function(){return this._y},set:function(t){this._y!==t&&(this._y=t,this.cb.call(this.scope))},enumerable:!0,configurable:!0}),t}(),ft=2*Math.PI,mt=180/Math.PI,_t=Math.PI/180;!function(t){t[t.POLY=0]="POLY",t[t.RECT=1]="RECT",t[t.CIRC=2]="CIRC",t[t.ELIP=3]="ELIP",t[t.RREC=4]="RREC"}(ut||(ut={}));var gt=function(){function t(t,e,i,n,r,s){void 0===t&&(t=1),void 0===e&&(e=0),void 0===i&&(i=0),void 0===n&&(n=1),void 0===r&&(r=0),void 0===s&&(s=0),this.array=null,this.a=t,this.b=e,this.c=i,this.d=n,this.tx=r,this.ty=s}return t.prototype.fromArray=function(t){this.a=t[0],this.b=t[1],this.c=t[3],this.d=t[4],this.tx=t[2],this.ty=t[5]},t.prototype.set=function(t,e,i,n,r,s){return this.a=t,this.b=e,this.c=i,this.d=n,this.tx=r,this.ty=s,this},t.prototype.toArray=function(t,e){this.array||(this.array=new Float32Array(9));var i=e||this.array;return t?(i[0]=this.a,i[1]=this.b,i[2]=0,i[3]=this.c,i[4]=this.d,i[5]=0,i[6]=this.tx,i[7]=this.ty,i[8]=1):(i[0]=this.a,i[1]=this.c,i[2]=this.tx,i[3]=this.b,i[4]=this.d,i[5]=this.ty,i[6]=0,i[7]=0,i[8]=1),i},t.prototype.apply=function(t,e){e=e||new ht;var i=t.x,n=t.y;return e.x=this.a*i+this.c*n+this.tx,e.y=this.b*i+this.d*n+this.ty,e},t.prototype.applyInverse=function(t,e){e=e||new ht;var i=1/(this.a*this.d+this.c*-this.b),n=t.x,r=t.y;return e.x=this.d*i*n+-this.c*i*r+(this.ty*this.c-this.tx*this.d)*i,e.y=this.a*i*r+-this.b*i*n+(-this.ty*this.a+this.tx*this.b)*i,e},t.prototype.translate=function(t,e){return this.tx+=t,this.ty+=e,this},t.prototype.scale=function(t,e){return this.a*=t,this.d*=e,this.c*=t,this.b*=e,this.tx*=t,this.ty*=e,this},t.prototype.rotate=function(t){var e=Math.cos(t),i=Math.sin(t),n=this.a,r=this.c,s=this.tx;return this.a=n*e-this.b*i,this.b=n*i+this.b*e,this.c=r*e-this.d*i,this.d=r*i+this.d*e,this.tx=s*e-this.ty*i,this.ty=s*i+this.ty*e,this},t.prototype.append=function(t){var e=this.a,i=this.b,n=this.c,r=this.d;return this.a=t.a*e+t.b*n,this.b=t.a*i+t.b*r,this.c=t.c*e+t.d*n,this.d=t.c*i+t.d*r,this.tx=t.tx*e+t.ty*n+this.tx,this.ty=t.tx*i+t.ty*r+this.ty,this},t.prototype.setTransform=function(t,e,i,n,r,s,o,a,A){return this.a=Math.cos(o+A)*r,this.b=Math.sin(o+A)*r,this.c=-Math.sin(o-a)*s,this.d=Math.cos(o-a)*s,this.tx=t-(i*this.a+n*this.c),this.ty=e-(i*this.b+n*this.d),this},t.prototype.prepend=function(t){var e=this.tx;if(1!==t.a||0!==t.b||0!==t.c||1!==t.d){var i=this.a,n=this.c;this.a=i*t.a+this.b*t.c,this.b=i*t.b+this.b*t.d,this.c=n*t.a+this.d*t.c,this.d=n*t.b+this.d*t.d}return this.tx=e*t.a+this.ty*t.c+t.tx,this.ty=e*t.b+this.ty*t.d+t.ty,this},t.prototype.decompose=function(t){var e=this.a,i=this.b,n=this.c,r=this.d,s=-Math.atan2(-n,r),o=Math.atan2(i,e),a=Math.abs(s+o);return a<1e-5||Math.abs(ft-a)<1e-5?(t.rotation=o,t.skew.x=t.skew.y=0):(t.rotation=0,t.skew.x=s,t.skew.y=o),t.scale.x=Math.sqrt(e*e+i*i),t.scale.y=Math.sqrt(n*n+r*r),t.position.x=this.tx,t.position.y=this.ty,t},t.prototype.invert=function(){var t=this.a,e=this.b,i=this.c,n=this.d,r=this.tx,s=t*n-e*i;return this.a=n/s,this.b=-e/s,this.c=-i/s,this.d=t/s,this.tx=(i*this.ty-n*r)/s,this.ty=-(t*this.ty-e*r)/s,this},t.prototype.identity=function(){return this.a=1,this.b=0,this.c=0,this.d=1,this.tx=0,this.ty=0,this},t.prototype.clone=function(){var e=new t;return e.a=this.a,e.b=this.b,e.c=this.c,e.d=this.d,e.tx=this.tx,e.ty=this.ty,e},t.prototype.copyTo=function(t){return t.a=this.a,t.b=this.b,t.c=this.c,t.d=this.d,t.tx=this.tx,t.ty=this.ty,t},t.prototype.copyFrom=function(t){return this.a=t.a,this.b=t.b,this.c=t.c,this.d=t.d,this.tx=t.tx,this.ty=t.ty,this},Object.defineProperty(t,"IDENTITY",{get:function(){return new t},enumerable:!0,configurable:!0}),Object.defineProperty(t,"TEMP_MATRIX",{get:function(){return new t},enumerable:!0,configurable:!0}),t}(),dt=[1,1,0,-1,-1,-1,0,1,1,1,0,-1,-1,-1,0,1],pt=[0,1,1,1,0,-1,-1,-1,0,1,1,1,0,-1,-1,-1],yt=[0,-1,-1,-1,0,1,1,1,0,1,1,1,0,-1,-1,-1],Ct=[1,1,0,-1,-1,-1,0,1,-1,-1,0,1,1,1,0,-1],vt=[],It=[],Bt=Math.sign;!function(){for(var t=0;t<16;t++){var e=[];vt.push(e);for(var i=0;i<16;i++)for(var n=Bt(dt[t]*dt[i]+yt[t]*pt[i]),r=Bt(pt[t]*dt[i]+Ct[t]*pt[i]),s=Bt(dt[t]*yt[i]+yt[t]*Ct[i]),o=Bt(pt[t]*yt[i]+Ct[t]*Ct[i]),a=0;a<16;a++)if(dt[a]===n&&pt[a]===r&&yt[a]===s&&Ct[a]===o){e.push(a);break}}for(t=0;t<16;t++){var A=new gt;A.set(dt[t],pt[t],yt[t],Ct[t],0,0),It.push(A)}}();var Et={E:0,SE:1,S:2,SW:3,W:4,NW:5,N:6,NE:7,MIRROR_VERTICAL:8,MAIN_DIAGONAL:10,MIRROR_HORIZONTAL:12,REVERSE_DIAGONAL:14,uX:function(t){return dt[t]},uY:function(t){return pt[t]},vX:function(t){return yt[t]},vY:function(t){return Ct[t]},inv:function(t){return 8&t?15&t:7&-t},add:function(t,e){return vt[t][e]},sub:function(t,e){return vt[t][Et.inv(e)]},rotate180:function(t){return 4^t},isVertical:function(t){return 2==(3&t)},byDirection:function(t,e){return 2*Math.abs(t)<=Math.abs(e)?e>=0?Et.S:Et.N:2*Math.abs(e)<=Math.abs(t)?t>0?Et.E:Et.W:e>0?t>0?Et.SE:Et.SW:t>0?Et.NE:Et.NW},matrixAppendRotationInv:function(t,e,i,n){void 0===i&&(i=0),void 0===n&&(n=0);var r=It[Et.inv(e)];r.tx=i,r.ty=n,t.append(r)}},wt=function(){function t(){this.worldTransform=new gt,this.localTransform=new gt,this.position=new ct(this.onChange,this,0,0),this.scale=new ct(this.onChange,this,1,1),this.pivot=new ct(this.onChange,this,0,0),this.skew=new ct(this.updateSkew,this,0,0),this._rotation=0,this._cx=1,this._sx=0,this._cy=0,this._sy=1,this._localID=0,this._currentLocalID=0,this._worldID=0,this._parentID=0}return t.prototype.onChange=function(){this._localID++},t.prototype.updateSkew=function(){this._cx=Math.cos(this._rotation+this.skew.y),this._sx=Math.sin(this._rotation+this.skew.y),this._cy=-Math.sin(this._rotation-this.skew.x),this._sy=Math.cos(this._rotation-this.skew.x),this._localID++},t.prototype.updateLocalTransform=function(){var t=this.localTransform;this._localID!==this._currentLocalID&&(t.a=this._cx*this.scale.x,t.b=this._sx*this.scale.x,t.c=this._cy*this.scale.y,t.d=this._sy*this.scale.y,t.tx=this.position.x-(this.pivot.x*t.a+this.pivot.y*t.c),t.ty=this.position.y-(this.pivot.x*t.b+this.pivot.y*t.d),this._currentLocalID=this._localID,this._parentID=-1)},t.prototype.updateTransform=function(t){var e=this.localTransform;if(this._localID!==this._currentLocalID&&(e.a=this._cx*this.scale.x,e.b=this._sx*this.scale.x,e.c=this._cy*this.scale.y,e.d=this._sy*this.scale.y,e.tx=this.position.x-(this.pivot.x*e.a+this.pivot.y*e.c),e.ty=this.position.y-(this.pivot.x*e.b+this.pivot.y*e.d),this._currentLocalID=this._localID,this._parentID=-1),this._parentID!==t._worldID){var i=t.worldTransform,n=this.worldTransform;n.a=e.a*i.a+e.b*i.c,n.b=e.a*i.b+e.b*i.d,n.c=e.c*i.a+e.d*i.c,n.d=e.c*i.b+e.d*i.d,n.tx=e.tx*i.a+e.ty*i.c+i.tx,n.ty=e.tx*i.b+e.ty*i.d+i.ty,this._parentID=t._worldID,this._worldID++}},t.prototype.setFromMatrix=function(t){t.decompose(this),this._localID++},Object.defineProperty(t.prototype,"rotation",{get:function(){return this._rotation},set:function(t){this._rotation!==t&&(this._rotation=t,this.updateSkew())},enumerable:!0,configurable:!0}),t.IDENTITY=new t,t}(),bt=function(){function t(t,e,i,n){void 0===t&&(t=0),void 0===e&&(e=0),void 0===i&&(i=0),void 0===n&&(n=0),this.x=Number(t),this.y=Number(e),this.width=Number(i),this.height=Number(n),this.type=ut.RECT}return Object.defineProperty(t.prototype,"left",{get:function(){return this.x},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"right",{get:function(){return this.x+this.width},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"top",{get:function(){return this.y},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"bottom",{get:function(){return this.y+this.height},enumerable:!0,configurable:!0}),Object.defineProperty(t,"EMPTY",{get:function(){return new t(0,0,0,0)},enumerable:!0,configurable:!0}),t.prototype.clone=function(){return new t(this.x,this.y,this.width,this.height)},t.prototype.copyFrom=function(t){return this.x=t.x,this.y=t.y,this.width=t.width,this.height=t.height,this},t.prototype.copyTo=function(t){return t.x=this.x,t.y=this.y,t.width=this.width,t.height=this.height,t},t.prototype.contains=function(t,e){return!(this.width<=0||this.height<=0)&&t>=this.x&&t<this.x+this.width&&e>=this.y&&e<this.y+this.height},t.prototype.pad=function(t,e){return void 0===t&&(t=0),void 0===e&&(e=t),this.x-=t,this.y-=e,this.width+=2*t,this.height+=2*e,this},t.prototype.fit=function(t){var e=Math.max(this.x,t.x),i=Math.min(this.x+this.width,t.x+t.width),n=Math.max(this.y,t.y),r=Math.min(this.y+this.height,t.y+t.height);return this.x=e,this.width=Math.max(i-e,0),this.y=n,this.height=Math.max(r-n,0),this},t.prototype.ceil=function(t,e){void 0===t&&(t=1),void 0===e&&(e=.001);var i=Math.ceil((this.x+this.width-e)*t)/t,n=Math.ceil((this.y+this.height-e)*t)/t;return this.x=Math.floor((this.x+e)*t)/t,this.y=Math.floor((this.y+e)*t)/t,this.width=i-this.x,this.height=n-this.y,this},t.prototype.enlarge=function(t){var e=Math.min(this.x,t.x),i=Math.max(this.x+this.width,t.x+t.width),n=Math.min(this.y,t.y),r=Math.max(this.y+this.height,t.y+t.height);return this.x=e,this.width=i-e,this.y=n,this.height=r-n,this},t}(),xt=function(){function t(t,e,i){void 0===t&&(t=0),void 0===e&&(e=0),void 0===i&&(i=0),this.x=t,this.y=e,this.radius=i,this.type=ut.CIRC}return t.prototype.clone=function(){return new t(this.x,this.y,this.radius)},t.prototype.contains=function(t,e){if(this.radius<=0)return!1;var i=this.x-t,n=this.y-e;return(i*=i)+(n*=n)<=this.radius*this.radius},t.prototype.getBounds=function(){return new bt(this.x-this.radius,this.y-this.radius,2*this.radius,2*this.radius)},t}(),St=function(){function t(t,e,i,n){void 0===t&&(t=0),void 0===e&&(e=0),void 0===i&&(i=0),void 0===n&&(n=0),this.x=t,this.y=e,this.width=i,this.height=n,this.type=ut.ELIP}return t.prototype.clone=function(){return new t(this.x,this.y,this.width,this.height)},t.prototype.contains=function(t,e){if(this.width<=0||this.height<=0)return!1;var i=(t-this.x)/this.width,n=(e-this.y)/this.height;return(i*=i)+(n*=n)<=1},t.prototype.getBounds=function(){return new bt(this.x-this.width,this.y-this.height,this.width,this.height)},t}(),Qt=function(){function t(){for(var t=arguments,e=[],i=0;i<arguments.length;i++)e[i]=t[i];if(Array.isArray(e[0])&&(e=e[0]),e[0]instanceof ht){for(var n=[],r=0,s=(e=e).length;r<s;r++)n.push(e[r].x,e[r].y);e=n}this.points=e,this.type=ut.POLY,this.closeStroke=!0}return t.prototype.clone=function(){var e=new t(this.points.slice());return e.closeStroke=this.closeStroke,e},t.prototype.contains=function(t,e){for(var i=!1,n=this.points.length/2,r=0,s=n-1;r<n;s=r++){var o=this.points[2*r],a=this.points[2*r+1],A=this.points[2*s+1];a>e!=A>e&&t<(e-a)/(A-a)*(this.points[2*s]-o)+o&&(i=!i)}return i},t}(),kt=function(){function t(t,e,i,n,r){void 0===t&&(t=0),void 0===e&&(e=0),void 0===i&&(i=0),void 0===n&&(n=0),void 0===r&&(r=20),this.x=t,this.y=e,this.width=i,this.height=n,this.radius=r,this.type=ut.RREC}return t.prototype.clone=function(){return new t(this.x,this.y,this.width,this.height,this.radius)},t.prototype.contains=function(t,e){if(this.width<=0||this.height<=0)return!1;if(t>=this.x&&t<=this.x+this.width&&e>=this.y&&e<=this.y+this.height){if(e>=this.y+this.radius&&e<=this.y+this.height-this.radius||t>=this.x+this.radius&&t<=this.x+this.width-this.radius)return!0;var i=t-(this.x+this.radius),n=e-(this.y+this.radius),r=this.radius*this.radius;if(i*i+n*n<=r)return!0;if((i=t-(this.x+this.width-this.radius))*i+n*n<=r)return!0;if(i*i+(n=e-(this.y+this.height-this.radius))*n<=r)return!0;if((i=t-(this.x+this.radius))*i+n*n<=r)return!0}return!1},t}();R.SORTABLE_CHILDREN=!1;var Dt=function(){this.minX=1/0,this.minY=1/0,this.maxX=-1/0,this.maxY=-1/0,this.rect=null};Dt.prototype.isEmpty=function(){return this.minX>this.maxX||this.minY>this.maxY},Dt.prototype.clear=function(){this.updateID++,this.minX=1/0,this.minY=1/0,this.maxX=-1/0,this.maxY=-1/0},Dt.prototype.getRectangle=function(t){return this.minX>this.maxX||this.minY>this.maxY?bt.EMPTY:((t=t||new bt(0,0,1,1)).x=this.minX,t.y=this.minY,t.width=this.maxX-this.minX,t.height=this.maxY-this.minY,t)},Dt.prototype.addPoint=function(t){this.minX=Math.min(this.minX,t.x),this.maxX=Math.max(this.maxX,t.x),this.minY=Math.min(this.minY,t.y),this.maxY=Math.max(this.maxY,t.y)},Dt.prototype.addQuad=function(t){var e=this.minX,i=this.minY,n=this.maxX,r=this.maxY,s=t[0],o=t[1];e=s<e?s:e,i=o<i?o:i,n=s>n?s:n,r=o>r?o:r,e=(s=t[2])<e?s:e,i=(o=t[3])<i?o:i,n=s>n?s:n,r=o>r?o:r,e=(s=t[4])<e?s:e,i=(o=t[5])<i?o:i,n=s>n?s:n,r=o>r?o:r,i=(o=t[7])<i?o:i,n=(s=t[6])>n?s:n,r=o>r?o:r,this.minX=e=s<e?s:e,this.minY=i,this.maxX=n,this.maxY=r},Dt.prototype.addFrame=function(t,e,i,n,r){this.addFrameMatrix(t.worldTransform,e,i,n,r)},Dt.prototype.addFrameMatrix=function(t,e,i,n,r){var s=t.a,o=t.b,a=t.c,A=t.d,l=t.tx,u=t.ty,h=this.minX,c=this.minY,f=this.maxX,m=this.maxY,_=s*e+a*i+l,g=o*e+A*i+u;h=_<h?_:h,c=g<c?g:c,f=_>f?_:f,m=g>m?g:m,h=(_=s*n+a*i+l)<h?_:h,c=(g=o*n+A*i+u)<c?g:c,f=_>f?_:f,m=g>m?g:m,h=(_=s*e+a*r+l)<h?_:h,c=(g=o*e+A*r+u)<c?g:c,f=_>f?_:f,m=g>m?g:m,c=(g=o*n+A*r+u)<c?g:c,f=(_=s*n+a*r+l)>f?_:f,m=g>m?g:m,this.minX=h=_<h?_:h,this.minY=c,this.maxX=f,this.maxY=m},Dt.prototype.addVertexData=function(t,e,i){for(var n=this.minX,r=this.minY,s=this.maxX,o=this.maxY,a=e;a<i;a+=2){var A=t[a],l=t[a+1];n=A<n?A:n,r=l<r?l:r,s=A>s?A:s,o=l>o?l:o}this.minX=n,this.minY=r,this.maxX=s,this.maxY=o},Dt.prototype.addVertices=function(t,e,i,n){this.addVerticesMatrix(t.worldTransform,e,i,n)},Dt.prototype.addVerticesMatrix=function(t,e,i,n,r,s){var o=t.a,a=t.b,A=t.c,l=t.d,u=t.tx,h=t.ty;r=r||0,s=s||0;for(var c=this.minX,f=this.minY,m=this.maxX,_=this.maxY,g=i;g<n;g+=2){var d=e[g],p=e[g+1],y=o*d+A*p+u,C=l*p+a*d+h;c=Math.min(c,y-r),m=Math.max(m,y+r),f=Math.min(f,C-s),_=Math.max(_,C+s)}this.minX=c,this.minY=f,this.maxX=m,this.maxY=_},Dt.prototype.addBounds=function(t){var e=this.minX,i=this.minY,n=this.maxX,r=this.maxY;this.minX=t.minX<e?t.minX:e,this.minY=t.minY<i?t.minY:i,this.maxX=t.maxX>n?t.maxX:n,this.maxY=t.maxY>r?t.maxY:r},Dt.prototype.addBoundsMask=function(t,e){var i=t.minX>e.minX?t.minX:e.minX,n=t.minY>e.minY?t.minY:e.minY,r=t.maxX<e.maxX?t.maxX:e.maxX,s=t.maxY<e.maxY?t.maxY:e.maxY;if(i<=r&&n<=s){var o=this.minX,a=this.minY,A=this.maxX,l=this.maxY;this.minX=i<o?i:o,this.minY=n<a?n:a,this.maxX=r>A?r:A,this.maxY=s>l?s:l}},Dt.prototype.addBoundsMatrix=function(t,e){this.addFrameMatrix(e,t.minX,t.minY,t.maxX,t.maxY)},Dt.prototype.addBoundsArea=function(t,e){var i=t.minX>e.x?t.minX:e.x,n=t.minY>e.y?t.minY:e.y,r=t.maxX<e.x+e.width?t.maxX:e.x+e.width,s=t.maxY<e.y+e.height?t.maxY:e.y+e.height;if(i<=r&&n<=s){var o=this.minX,a=this.minY,A=this.maxX,l=this.maxY;this.minX=i<o?i:o,this.minY=n<a?n:a,this.maxX=r>A?r:A,this.maxY=s>l?s:l}},Dt.prototype.pad=function(t,e){t=t||0,e=e||(0!==e?t:0),this.isEmpty()||(this.minX-=t,this.maxX+=t,this.minY-=e,this.maxY+=e)},Dt.prototype.addFramePad=function(t,e,i,n,r,s){e-=s,i+=r,n+=s,this.minX=this.minX<(t-=r)?this.minX:t,this.maxX=this.maxX>i?this.maxX:i,this.minY=this.minY<e?this.minY:e,this.maxY=this.maxY>n?this.maxY:n};var Mt=function(t){function e(){t.call(this),this.tempDisplayObjectParent=null,this.transform=new wt,this.alpha=1,this.visible=!0,this.renderable=!0,this.parent=null,this.worldAlpha=1,this._lastSortedIndex=0,this._zIndex=0,this.filterArea=null,this.filters=null,this._enabledFilters=null,this._bounds=new Dt,this._boundsID=0,this._lastBoundsID=-1,this._boundsRect=null,this._localBoundsRect=null,this._mask=null,this._destroyed=!1,this.isSprite=!1,this.isMask=!1}t&&(e.__proto__=t),(e.prototype=Object.create(t&&t.prototype)).constructor=e;var i={_tempDisplayObjectParent:{configurable:!0},x:{configurable:!0},y:{configurable:!0},worldTransform:{configurable:!0},localTransform:{configurable:!0},position:{configurable:!0},scale:{configurable:!0},pivot:{configurable:!0},skew:{configurable:!0},rotation:{configurable:!0},angle:{configurable:!0},zIndex:{configurable:!0},worldVisible:{configurable:!0},mask:{configurable:!0}};return e.mixin=function(t){for(var i=Object.keys(t),n=0;n<i.length;++n){var r=i[n];Object.defineProperty(e.prototype,r,Object.getOwnPropertyDescriptor(t,r))}},i._tempDisplayObjectParent.get=function(){return null===this.tempDisplayObjectParent&&(this.tempDisplayObjectParent=new e),this.tempDisplayObjectParent},e.prototype.updateTransform=function(){this.transform.updateTransform(this.parent.transform),this.worldAlpha=this.alpha*this.parent.worldAlpha,this._bounds.updateID++},e.prototype._recursivePostUpdateTransform=function(){this.parent?(this.parent._recursivePostUpdateTransform(),this.transform.updateTransform(this.parent.transform)):this.transform.updateTransform(this._tempDisplayObjectParent.transform)},e.prototype.getBounds=function(t,e){return t||(this.parent?(this._recursivePostUpdateTransform(),this.updateTransform()):(this.parent=this._tempDisplayObjectParent,this.updateTransform(),this.parent=null)),this._boundsID!==this._lastBoundsID&&(this.calculateBounds(),this._lastBoundsID=this._boundsID),e||(this._boundsRect||(this._boundsRect=new bt),e=this._boundsRect),this._bounds.getRectangle(e)},e.prototype.getLocalBounds=function(t){var e=this.transform,i=this.parent;this.parent=null,this.transform=this._tempDisplayObjectParent.transform,t||(this._localBoundsRect||(this._localBoundsRect=new bt),t=this._localBoundsRect);var n=this.getBounds(!1,t);return this.parent=i,this.transform=e,n},e.prototype.toGlobal=function(t,e,i){return void 0===i&&(i=!1),i||(this._recursivePostUpdateTransform(),this.parent?this.displayObjectUpdateTransform():(this.parent=this._tempDisplayObjectParent,this.displayObjectUpdateTransform(),this.parent=null)),this.worldTransform.apply(t,e)},e.prototype.toLocal=function(t,e,i,n){return e&&(t=e.toGlobal(t,i,n)),n||(this._recursivePostUpdateTransform(),this.parent?this.displayObjectUpdateTransform():(this.parent=this._tempDisplayObjectParent,this.displayObjectUpdateTransform(),this.parent=null)),this.worldTransform.applyInverse(t,i)},e.prototype.render=function(t){},e.prototype.setParent=function(t){if(!t||!t.addChild)throw new Error("setParent: Argument must be a Container");return t.addChild(this),t},e.prototype.setTransform=function(t,e,i,n,r,s,o,a,A){return void 0===t&&(t=0),void 0===e&&(e=0),void 0===i&&(i=1),void 0===n&&(n=1),void 0===r&&(r=0),void 0===s&&(s=0),void 0===o&&(o=0),void 0===a&&(a=0),void 0===A&&(A=0),this.position.x=t,this.position.y=e,this.scale.x=i||1,this.scale.y=n||1,this.rotation=r,this.skew.x=s,this.skew.y=o,this.pivot.x=a,this.pivot.y=A,this},e.prototype.destroy=function(){this.removeAllListeners(),this.parent&&this.parent.removeChild(this),this.transform=null,this.parent=null,this._bounds=null,this._currentBounds=null,this._mask=null,this.filters=null,this.filterArea=null,this.hitArea=null,this.interactive=!1,this.interactiveChildren=!1,this._destroyed=!0},i.x.get=function(){return this.position.x},i.x.set=function(t){this.transform.position.x=t},i.y.get=function(){return this.position.y},i.y.set=function(t){this.transform.position.y=t},i.worldTransform.get=function(){return this.transform.worldTransform},i.localTransform.get=function(){return this.transform.localTransform},i.position.get=function(){return this.transform.position},i.position.set=function(t){this.transform.position.copyFrom(t)},i.scale.get=function(){return this.transform.scale},i.scale.set=function(t){this.transform.scale.copyFrom(t)},i.pivot.get=function(){return this.transform.pivot},i.pivot.set=function(t){this.transform.pivot.copyFrom(t)},i.skew.get=function(){return this.transform.skew},i.skew.set=function(t){this.transform.skew.copyFrom(t)},i.rotation.get=function(){return this.transform.rotation},i.rotation.set=function(t){this.transform.rotation=t},i.angle.get=function(){return this.transform.rotation*mt},i.angle.set=function(t){this.transform.rotation=t*_t},i.zIndex.get=function(){return this._zIndex},i.zIndex.set=function(t){this._zIndex=t,this.parent&&(this.parent.sortDirty=!0)},i.worldVisible.get=function(){var t=this;do{if(!t.visible)return!1;t=t.parent}while(t);return!0},i.mask.get=function(){return this._mask},i.mask.set=function(t){if(this._mask){var e=this._mask.maskObject||this._mask;e.renderable=!0,e.isMask=!1}if(this._mask=t,this._mask){var i=this._mask.maskObject||this._mask;i.renderable=!1,i.isMask=!0}},Object.defineProperties(e.prototype,i),e}(T.a);function Rt(t,e){return t.zIndex===e.zIndex?t._lastSortedIndex-e._lastSortedIndex:t.zIndex-e.zIndex}Mt.prototype.displayObjectUpdateTransform=Mt.prototype.updateTransform;var Vt=function(t){function e(){t.call(this),this.children=[],this.sortableChildren=R.SORTABLE_CHILDREN,this.sortDirty=!1}t&&(e.__proto__=t),(e.prototype=Object.create(t&&t.prototype)).constructor=e;var i={width:{configurable:!0},height:{configurable:!0}};return e.prototype.onChildrenChange=function(){},e.prototype.addChild=function(t){var e=arguments,i=arguments.length;if(i>1)for(var n=0;n<i;n++)this.addChild(e[n]);else t.parent&&t.parent.removeChild(t),t.parent=this,this.sortDirty=!0,t.transform._parentID=-1,this.children.push(t),this._boundsID++,this.onChildrenChange(this.children.length-1),this.emit("childAdded",t,this,this.children.length-1),t.emit("added",this);return t},e.prototype.addChildAt=function(t,e){if(e<0||e>this.children.length)throw new Error(t+"addChildAt: The index "+e+" supplied is out of bounds "+this.children.length);return t.parent&&t.parent.removeChild(t),t.parent=this,this.sortDirty=!0,t.transform._parentID=-1,this.children.splice(e,0,t),this._boundsID++,this.onChildrenChange(e),t.emit("added",this),this.emit("childAdded",t,this,e),t},e.prototype.swapChildren=function(t,e){if(t!==e){var i=this.getChildIndex(t),n=this.getChildIndex(e);this.children[i]=e,this.children[n]=t,this.onChildrenChange(i<n?i:n)}},e.prototype.getChildIndex=function(t){var e=this.children.indexOf(t);if(-1===e)throw new Error("The supplied DisplayObject must be a child of the caller");return e},e.prototype.setChildIndex=function(t,e){if(e<0||e>=this.children.length)throw new Error("The index "+e+" supplied is out of bounds "+this.children.length);var i=this.getChildIndex(t);q(this.children,i,1),this.children.splice(e,0,t),this.onChildrenChange(e)},e.prototype.getChildAt=function(t){if(t<0||t>=this.children.length)throw new Error("getChildAt: Index ("+t+") does not exist.");return this.children[t]},e.prototype.removeChild=function(t){var e=arguments,i=arguments.length;if(i>1)for(var n=0;n<i;n++)this.removeChild(e[n]);else{var r=this.children.indexOf(t);if(-1===r)return null;t.parent=null,t.transform._parentID=-1,q(this.children,r,1),this._boundsID++,this.onChildrenChange(r),t.emit("removed",this),this.emit("childRemoved",t,this,r)}return t},e.prototype.removeChildAt=function(t){var e=this.getChildAt(t);return e.parent=null,e.transform._parentID=-1,q(this.children,t,1),this._boundsID++,this.onChildrenChange(t),e.emit("removed",this),this.emit("childRemoved",e,this,t),e},e.prototype.removeChildren=function(t,e){void 0===t&&(t=0);var i,n="number"==typeof e?e:this.children.length,r=n-t;if(r>0&&r<=n){i=this.children.splice(t,r);for(var s=0;s<i.length;++s)i[s].parent=null,i[s].transform&&(i[s].transform._parentID=-1);this._boundsID++,this.onChildrenChange(t);for(var o=0;o<i.length;++o)i[o].emit("removed",this),this.emit("childRemoved",i[o],this,o);return i}if(0===r&&0===this.children.length)return[];throw new RangeError("removeChildren: numeric values are outside the acceptable range.")},e.prototype.sortChildren=function(){for(var t=!1,e=0,i=this.children.length;e<i;++e){var n=this.children[e];n._lastSortedIndex=e,t||0===n.zIndex||(t=!0)}t&&this.children.length>1&&this.children.sort(Rt),this.sortDirty=!1},e.prototype.updateTransform=function(){this.sortableChildren&&this.sortDirty&&this.sortChildren(),this._boundsID++,this.transform.updateTransform(this.parent.transform),this.worldAlpha=this.alpha*this.parent.worldAlpha;for(var t=0,e=this.children.length;t<e;++t){var i=this.children[t];i.visible&&i.updateTransform()}},e.prototype.calculateBounds=function(){this._bounds.clear(),this._calculateBounds();for(var t=0;t<this.children.length;t++){var e=this.children[t];if(e.visible&&e.renderable)if(e.calculateBounds(),e._mask){var i=e._mask.maskObject||e._mask;i.calculateBounds(),this._bounds.addBoundsMask(e._bounds,i._bounds)}else e.filterArea?this._bounds.addBoundsArea(e._bounds,e.filterArea):this._bounds.addBounds(e._bounds)}this._lastBoundsID=this._boundsID},e.prototype._calculateBounds=function(){},e.prototype.render=function(t){if(this.visible&&!(this.worldAlpha<=0)&&this.renderable)if(this._mask||this.filters&&this.filters.length)this.renderAdvanced(t);else{this._render(t);for(var e=0,i=this.children.length;e<i;++e)this.children[e].render(t)}},e.prototype.renderAdvanced=function(t){t.batch.flush();var e=this.filters,i=this._mask;if(e){this._enabledFilters||(this._enabledFilters=[]),this._enabledFilters.length=0;for(var n=0;n<e.length;n++)e[n].enabled&&this._enabledFilters.push(e[n]);this._enabledFilters.length&&t.filter.push(this,this._enabledFilters)}i&&t.mask.push(this,this._mask),this._render(t);for(var r=0,s=this.children.length;r<s;r++)this.children[r].render(t);t.batch.flush(),i&&t.mask.pop(this,this._mask),e&&this._enabledFilters&&this._enabledFilters.length&&t.filter.pop()},e.prototype._render=function(t){},e.prototype.destroy=function(e){t.prototype.destroy.call(this),this.sortDirty=!1;var i="boolean"==typeof e?e:e&&e.children,n=this.removeChildren(0,this.children.length);if(i)for(var r=0;r<n.length;++r)n[r].destroy(e)},i.width.get=function(){return this.scale.x*this.getLocalBounds().width},i.width.set=function(t){var e=this.getLocalBounds().width;this.scale.x=0!==e?t/e:1,this._width=t},i.height.get=function(){return this.scale.y*this.getLocalBounds().height},i.height.set=function(t){var e=this.getLocalBounds().height;this.scale.y=0!==e?t/e:1,this._height=t},Object.defineProperties(e.prototype,i),e}(Mt);Vt.prototype.containerUpdateTransform=Vt.prototype.updateTransform,Mt.mixin({accessible:!1,accessibleTitle:null,accessibleHint:null,tabIndex:0,_accessibleActive:!1,_accessibleDiv:!1,accessibleType:"button",accessiblePointerEvents:"auto",accessibleChildren:!0});var Tt=function(t){this._hookDiv=null,(M.a.tablet||M.a.phone)&&this.createTouchHook();var e=document.createElement("div");e.style.width="100px",e.style.height="100px",e.style.position="absolute",e.style.top="0px",e.style.left="0px",e.style.zIndex=2,this.div=e,this.pool=[],this.renderId=0,this.debug=!1,this.renderer=t,this.children=[],this._onKeyDown=this._onKeyDown.bind(this),this._onMouseMove=this._onMouseMove.bind(this),this.isActive=!1,this.isMobileAccessibility=!1,window.addEventListener("keydown",this._onKeyDown,!1)};Tt.prototype.createTouchHook=function(){var t=this,e=document.createElement("button");e.style.width="1px",e.style.height="1px",e.style.position="absolute",e.style.top="-1000px",e.style.left="-1000px",e.style.zIndex=2,e.style.backgroundColor="#FF0000",e.title="HOOK DIV",e.addEventListener("focus",(function(){t.isMobileAccessibility=!0,t.activate(),t.destroyTouchHook()})),document.body.appendChild(e),this._hookDiv=e},Tt.prototype.destroyTouchHook=function(){this._hookDiv&&(document.body.removeChild(this._hookDiv),this._hookDiv=null)},Tt.prototype.activate=function(){this.isActive||(this.isActive=!0,window.document.addEventListener("mousemove",this._onMouseMove,!0),window.removeEventListener("keydown",this._onKeyDown,!1),this.renderer.on("postrender",this.update,this),this.renderer.view.parentNode&&this.renderer.view.parentNode.appendChild(this.div))},Tt.prototype.deactivate=function(){this.isActive&&!this.isMobileAccessibility&&(this.isActive=!1,window.document.removeEventListener("mousemove",this._onMouseMove,!0),window.addEventListener("keydown",this._onKeyDown,!1),this.renderer.off("postrender",this.update),this.div.parentNode&&this.div.parentNode.removeChild(this.div))},Tt.prototype.updateAccessibleObjects=function(t){if(t.visible&&t.accessibleChildren){t.accessible&&t.interactive&&(t._accessibleActive||this.addChild(t),t.renderId=this.renderId);for(var e=t.children,i=0;i<e.length;i++)this.updateAccessibleObjects(e[i])}},Tt.prototype.update=function(){if(this.renderer.renderingToScreen){this.updateAccessibleObjects(this.renderer._lastObjectRendered);var t=this.renderer.view.getBoundingClientRect(),e=t.width/this.renderer.width,i=t.height/this.renderer.height,n=this.div;n.style.left=t.left+"px",n.style.top=t.top+"px",n.style.width=this.renderer.width+"px",n.style.height=this.renderer.height+"px";for(var r=0;r<this.children.length;r++){var s=this.children[r];if(s.renderId!==this.renderId)s._accessibleActive=!1,q(this.children,r,1),this.div.removeChild(s._accessibleDiv),this.pool.push(s._accessibleDiv),s._accessibleDiv=null,r--,0===this.children.length&&this.deactivate();else{n=s._accessibleDiv;var o=s.hitArea,a=s.worldTransform;s.hitArea?(n.style.left=(a.tx+o.x*a.a)*e+"px",n.style.top=(a.ty+o.y*a.d)*i+"px",n.style.width=o.width*a.a*e+"px",n.style.height=o.height*a.d*i+"px"):(o=s.getBounds(),this.capHitArea(o),n.style.left=o.x*e+"px",n.style.top=o.y*i+"px",n.style.width=o.width*e+"px",n.style.height=o.height*i+"px",n.title!==s.accessibleTitle&&null!==s.accessibleTitle&&(n.title=s.accessibleTitle),n.getAttribute("aria-label")!==s.accessibleHint&&null!==s.accessibleHint&&n.setAttribute("aria-label",s.accessibleHint)),s.accessibleTitle===n.title&&s.tabIndex===n.tabIndex||(n.title=s.accessibleTitle,n.tabIndex=s.tabIndex,this.debug&&this.updateDebugHTML(n))}}this.renderId++}},Tt.prototype.updateDebugHTML=function(t){t.innerHTML="type: "+t.type+"</br> title : "+t.title+"</br> tabIndex: "+t.tabIndex},Tt.prototype.capHitArea=function(t){t.x<0&&(t.width+=t.x,t.x=0),t.y<0&&(t.height+=t.y,t.y=0),t.x+t.width>this.renderer.width&&(t.width=this.renderer.width-t.x),t.y+t.height>this.renderer.height&&(t.height=this.renderer.height-t.y)},Tt.prototype.addChild=function(t){var e=this.pool.pop();e||((e=document.createElement("button")).style.width="100px",e.style.height="100px",e.style.backgroundColor=this.debug?"rgba(255,255,255,0.5)":"transparent",e.style.position="absolute",e.style.zIndex=2,e.style.borderStyle="none",navigator.userAgent.toLowerCase().indexOf("chrome")>-1?e.setAttribute("aria-live","off"):e.setAttribute("aria-live","polite"),navigator.userAgent.match(/rv:.*Gecko\//)?e.setAttribute("aria-relevant","additions"):e.setAttribute("aria-relevant","text"),e.addEventListener("click",this._onClick.bind(this)),e.addEventListener("focus",this._onFocus.bind(this)),e.addEventListener("focusout",this._onFocusOut.bind(this))),e.style.pointerEvents=t.accessiblePointerEvents,e.type=t.accessibleType,t.accessibleTitle&&null!==t.accessibleTitle?e.title=t.accessibleTitle:t.accessibleHint&&null!==t.accessibleHint||(e.title="displayObject "+t.tabIndex),t.accessibleHint&&null!==t.accessibleHint&&e.setAttribute("aria-label",t.accessibleHint),this.debug&&this.updateDebugHTML(e),t._accessibleActive=!0,t._accessibleDiv=e,e.displayObject=t,this.children.push(t),this.div.appendChild(t._accessibleDiv),t._accessibleDiv.tabIndex=t.tabIndex},Tt.prototype._onClick=function(t){var e=this.renderer.plugins.interaction;e.dispatchEvent(t.target.displayObject,"click",e.eventData),e.dispatchEvent(t.target.displayObject,"pointertap",e.eventData),e.dispatchEvent(t.target.displayObject,"tap",e.eventData)},Tt.prototype._onFocus=function(t){t.target.getAttribute("aria-live","off")||t.target.setAttribute("aria-live","assertive");var e=this.renderer.plugins.interaction;e.dispatchEvent(t.target.displayObject,"mouseover",e.eventData)},Tt.prototype._onFocusOut=function(t){t.target.getAttribute("aria-live","off")||t.target.setAttribute("aria-live","polite");var e=this.renderer.plugins.interaction;e.dispatchEvent(t.target.displayObject,"mouseout",e.eventData)},Tt.prototype._onKeyDown=function(t){9===t.keyCode&&this.activate()},Tt.prototype._onMouseMove=function(t){0===t.movementX&&0===t.movementY||this.deactivate()},Tt.prototype.destroy=function(){this.destroyTouchHook(),this.div=null;for(var t=0;t<this.children.length;t++)this.children[t].div=null;window.document.removeEventListener("mousemove",this._onMouseMove,!0),window.removeEventListener("keydown",this._onKeyDown),this.pool=null,this.children=null,this.renderer=null};var Gt,Ft=function(){function t(t){this.items=[],this._name=t,this._aliasCount=0}return t.prototype.emit=function(t,e,i,n,r,s,o,a){if(arguments.length>8)throw new Error("max arguments reached");var A=this,l=A.name,u=A.items;this._aliasCount++;for(var h=0,c=u.length;h<c;h++)u[h][l](t,e,i,n,r,s,o,a);return u===this.items&&this._aliasCount--,this},t.prototype.ensureNonAliasedItems=function(){this._aliasCount>0&&this.items.length>1&&(this._aliasCount=0,this.items=this.items.slice(0))},t.prototype.add=function(t){return t[this._name]&&(this.ensureNonAliasedItems(),this.remove(t),this.items.push(t)),this},t.prototype.remove=function(t){var e=this.items.indexOf(t);return-1!==e&&(this.ensureNonAliasedItems(),this.items.splice(e,1)),this},t.prototype.contains=function(t){return-1!==this.items.indexOf(t)},t.prototype.removeAll=function(){return this.ensureNonAliasedItems(),this.items.length=0,this},t.prototype.destroy=function(){this.removeAll(),this.items=null,this._name=null},Object.defineProperty(t.prototype,"empty",{get:function(){return 0===this.items.length},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"name",{get:function(){return this._name},enumerable:!0,configurable:!0}),t}();Object.defineProperties(Ft.prototype,{dispatch:{value:Ft.prototype.emit},run:{value:Ft.prototype.emit}}),R.TARGET_FPMS=.06,function(t){t[t.INTERACTION=50]="INTERACTION",t[t.HIGH=25]="HIGH",t[t.NORMAL=0]="NORMAL",t[t.LOW=-25]="LOW",t[t.UTILITY=-50]="UTILITY"}(Gt||(Gt={}));var Pt=function(){function t(t,e,i,n){void 0===e&&(e=null),void 0===i&&(i=0),void 0===n&&(n=!1),this.fn=t,this.context=e,this.priority=i,this.once=n,this.next=null,this.previous=null,this._destroyed=!1}return t.prototype.match=function(t,e){return void 0===e&&(e=null),this.fn===t&&this.context===e},t.prototype.emit=function(t){this.fn&&(this.context?this.fn.call(this.context,t):this.fn(t));var e=this.next;return this.once&&this.destroy(!0),this._destroyed&&(this.next=null),e},t.prototype.connect=function(t){this.previous=t,t.next&&(t.next.previous=this),this.next=t.next,t.next=this},t.prototype.destroy=function(t){void 0===t&&(t=!1),this._destroyed=!0,this.fn=null,this.context=null,this.previous&&(this.previous.next=this.next),this.next&&(this.next.previous=this.previous);var e=this.next;return this.next=t?null:e,this.previous=null,e},t}(),Nt=function(){function t(){var t=this;this._head=new Pt(null,null,1/0),this._requestId=null,this._maxElapsedMS=100,this._minElapsedMS=0,this.autoStart=!1,this.deltaTime=1,this.deltaMS=1/R.TARGET_FPMS,this.elapsedMS=1/R.TARGET_FPMS,this.lastTime=-1,this.speed=1,this.started=!1,this._protected=!1,this._lastFrame=-1,this._tick=function(e){t._requestId=null,t.started&&(t.update(e),t.started&&null===t._requestId&&t._head.next&&(t._requestId=requestAnimationFrame(t._tick)))}}return t.prototype._requestIfNeeded=function(){null===this._requestId&&this._head.next&&(this.lastTime=performance.now(),this._lastFrame=this.lastTime,this._requestId=requestAnimationFrame(this._tick))},t.prototype._cancelIfNeeded=function(){null!==this._requestId&&(cancelAnimationFrame(this._requestId),this._requestId=null)},t.prototype._startIfPossible=function(){this.started?this._requestIfNeeded():this.autoStart&&this.start()},t.prototype.add=function(t,e,i){return void 0===i&&(i=Gt.NORMAL),this._addListener(new Pt(t,e,i))},t.prototype.addOnce=function(t,e,i){return void 0===i&&(i=Gt.NORMAL),this._addListener(new Pt(t,e,i,!0))},t.prototype._addListener=function(t){var e=this._head.next,i=this._head;if(e){for(;e;){if(t.priority>e.priority){t.connect(i);break}i=e,e=e.next}t.previous||t.connect(i)}else t.connect(i);return this._startIfPossible(),this},t.prototype.remove=function(t,e){for(var i=this._head.next;i;)i=i.match(t,e)?i.destroy():i.next;return this._head.next||this._cancelIfNeeded(),this},t.prototype.start=function(){this.started||(this.started=!0,this._requestIfNeeded())},t.prototype.stop=function(){this.started&&(this.started=!1,this._cancelIfNeeded())},t.prototype.destroy=function(){if(!this._protected){this.stop();for(var t=this._head.next;t;)t=t.destroy(!0);this._head.destroy(),this._head=null}},t.prototype.update=function(t){var e;if(void 0===t&&(t=performance.now()),t>this.lastTime){if((e=this.elapsedMS=t-this.lastTime)>this._maxElapsedMS&&(e=this._maxElapsedMS),e*=this.speed,this._minElapsedMS){var i=t-this._lastFrame|0;if(i<this._minElapsedMS)return;this._lastFrame=t-i%this._minElapsedMS}this.deltaMS=e,this.deltaTime=this.deltaMS*R.TARGET_FPMS;for(var n=this._head,r=n.next;r;)r=r.emit(this.deltaTime);n.next||this._cancelIfNeeded()}else this.deltaTime=this.deltaMS=this.elapsedMS=0;this.lastTime=t},Object.defineProperty(t.prototype,"FPS",{get:function(){return 1e3/this.elapsedMS},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"minFPS",{get:function(){return 1e3/this._maxElapsedMS},set:function(t){var e=Math.min(this.maxFPS,t),i=Math.min(Math.max(0,e)/1e3,R.TARGET_FPMS);this._maxElapsedMS=1/i},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"maxFPS",{get:function(){return this._minElapsedMS?Math.round(1e3/this._minElapsedMS):0},set:function(t){if(0===t)this._minElapsedMS=0;else{var e=Math.max(this.minFPS,t);this._minElapsedMS=1/(e/1e3)}},enumerable:!0,configurable:!0}),Object.defineProperty(t,"shared",{get:function(){if(!t._shared){var e=t._shared=new t;e.autoStart=!0,e._protected=!0}return t._shared},enumerable:!0,configurable:!0}),Object.defineProperty(t,"system",{get:function(){if(!t._system){var e=t._system=new t;e.autoStart=!0,e._protected=!0}return t._system},enumerable:!0,configurable:!0}),t}(),Lt=function(){function t(){}return t.init=function(t){var e=this;t=Object.assign({autoStart:!0,sharedTicker:!1},t),Object.defineProperty(this,"ticker",{set:function(t){this._ticker&&this._ticker.remove(this.render,this),this._ticker=t,t&&t.add(this.render,this,Gt.LOW)},get:function(){return this._ticker}}),this.stop=function(){e._ticker.stop()},this.start=function(){e._ticker.start()},this._ticker=null,this.ticker=t.sharedTicker?Nt.shared:new Nt,t.autoStart&&this.start()},t.destroy=function(){if(this._ticker){var t=this._ticker;this.ticker=null,t.destroy()}},t}(),Ut=function(t,e){void 0===t&&(t=0),void 0===e&&(e=0),this._width=t,this._height=e,this.destroyed=!1,this.internal=!1,this.onResize=new Ft("setRealSize",2),this.onUpdate=new Ft("update"),this.onError=new Ft("onError",1)},Ot={valid:{configurable:!0},width:{configurable:!0},height:{configurable:!0}};Ut.prototype.bind=function(t){this.onResize.add(t),this.onUpdate.add(t),this.onError.add(t),(this._width||this._height)&&this.onResize.run(this._width,this._height)},Ut.prototype.unbind=function(t){this.onResize.remove(t),this.onUpdate.remove(t),this.onError.remove(t)},Ut.prototype.resize=function(t,e){t===this._width&&e===this._height||(this._width=t,this._height=e,this.onResize.run(t,e))},Ot.valid.get=function(){return!!this._width&&!!this._height},Ut.prototype.update=function(){this.destroyed||this.onUpdate.run()},Ut.prototype.load=function(){return Promise.resolve()},Ot.width.get=function(){return this._width},Ot.height.get=function(){return this._height},Ut.prototype.upload=function(t,e,i){return!1},Ut.prototype.style=function(t,e,i){return!1},Ut.prototype.dispose=function(){},Ut.prototype.destroy=function(){this.destroyed||(this.destroyed=!0,this.dispose(),this.onError.removeAll(),this.onError=null,this.onResize.removeAll(),this.onResize=null,this.onUpdate.removeAll(),this.onUpdate=null)},Object.defineProperties(Ut.prototype,Ot);var Yt=function(t){function e(e){t.call(this,e.naturalWidth||e.videoWidth||e.width,e.naturalHeight||e.videoHeight||e.height),this.source=e,this.noSubImage=!1}return t&&(e.__proto__=t),(e.prototype=Object.create(t&&t.prototype)).constructor=e,e.crossOrigin=function(t,e,i){void 0===i&&0!==e.indexOf("data:")?t.crossOrigin=function(t,e){return void 0===e&&(e=window.location),0===t.indexOf("data:")?"":(e=e||window.location,et||(et=document.createElement("a")),et.href=t,(t=N.a.parse(et.href)).hostname!==e.hostname||(t.port||""!==e.port)&&t.port!==e.port||t.protocol!==e.protocol?"anonymous":"")}(e):!1!==i&&(t.crossOrigin="string"==typeof i?i:"anonymous")},e.prototype.upload=function(t,e,i,n){var r=t.gl,s=e.realWidth,o=e.realHeight;return n=n||this.source,r.pixelStorei(r.UNPACK_PREMULTIPLY_ALPHA_WEBGL,e.alphaMode===x.UNPACK),this.noSubImage||e.target!==r.TEXTURE_2D||i.width!==s||i.height!==o?(i.width=s,i.height=o,r.texImage2D(e.target,0,e.format,e.format,e.type,n)):r.texSubImage2D(r.TEXTURE_2D,0,0,0,e.format,e.type,n),!0},e.prototype.update=function(){this.destroyed||(this.resize(this.source.naturalWidth||this.source.videoWidth||this.source.width,this.source.naturalHeight||this.source.videoHeight||this.source.height),t.prototype.update.call(this))},e.prototype.dispose=function(){this.source=null},e}(Ut),Ht=function(t){function e(e,i){if(i=i||{},!(e instanceof HTMLImageElement)){var n=new Image;t.crossOrigin(n,e,i.crossorigin),n.src=e,e=n}t.call(this,e),!e.complete&&this._width&&this._height&&(this._width=0,this._height=0),this.url=e.src,this._process=null,this.preserveBitmap=!1,this.createBitmap=(void 0!==i.createBitmap?i.createBitmap:R.CREATE_IMAGE_BITMAP)&&!!window.createImageBitmap,this.alphaMode="number"==typeof i.alphaMode?i.alphaMode:null,void 0!==i.premultiplyAlpha&&(this.premultiplyAlpha=i.premultiplyAlpha),this.bitmap=null,this._load=null,!1!==i.autoLoad&&this.load()}return t&&(e.__proto__=t),(e.prototype=Object.create(t&&t.prototype)).constructor=e,e.prototype.load=function(t){var e=this;return void 0!==t&&(this.createBitmap=t),this._load?this._load:(this._load=new Promise((function(t){e.url=e.source.src;var i=e.source,n=function(){e.destroyed||(i.onload=null,i.onerror=null,e.resize(i.width,i.height),e._load=null,t(e.createBitmap?e.process():e))};i.complete&&i.src?n():(i.onload=n,i.onerror=function(t){return e.onError.run(t)})})),this._load)},e.prototype.process=function(){var t=this;return null!==this._process?this._process:null===this.bitmap&&window.createImageBitmap?(this._process=window.createImageBitmap(this.source,0,0,this.source.width,this.source.height,{premultiplyAlpha:this.premultiplyAlpha===x.UNPACK?"premultiply":"none"}).then((function(e){return t.destroyed?Promise.reject():(t.bitmap=e,t.update(),t._process=null,Promise.resolve(t))})),this._process):Promise.resolve(this)},e.prototype.upload=function(e,i,n){if("number"==typeof this.alphaMode&&(i.alphaMode=this.alphaMode),!this.createBitmap)return t.prototype.upload.call(this,e,i,n);if(!this.bitmap&&(this.process(),!this.bitmap))return!1;if(t.prototype.upload.call(this,e,i,n,this.bitmap),!this.preserveBitmap){var r=!0;for(var s in i._glTextures){var o=i._glTextures[s];if(o!==n&&o.dirtyId!==i.dirtyId){r=!1;break}}r&&(this.bitmap.close&&this.bitmap.close(),this.bitmap=null)}return!0},e.prototype.dispose=function(){this.source.onload=null,this.source.onerror=null,t.prototype.dispose.call(this),this.bitmap&&(this.bitmap.close(),this.bitmap=null),this._process=null,this._load=null},e}(Yt),Jt=[];function jt(t,e){if(!t)return null;var i="";if("string"==typeof t){var n=/\.(\w{3,4})(?:$|\?|#)/i.exec(t);n&&(i=n[1].toLowerCase())}for(var r=Jt.length-1;r>=0;--r){var s=Jt[r];if(s.test&&s.test(t,i))return new s(t,e)}return new Ht(t,e)}var Kt=function(t){function e(e,i){var n=i||{},r=n.width,s=n.height;if(!r||!s)throw new Error("BufferResource width or height invalid");t.call(this,r,s),this.data=e}return t&&(e.__proto__=t),(e.prototype=Object.create(t&&t.prototype)).constructor=e,e.prototype.upload=function(t,e,i){var n=t.gl;return n.pixelStorei(n.UNPACK_PREMULTIPLY_ALPHA_WEBGL,e.alphaMode===x.UNPACK),i.width===e.width&&i.height===e.height?n.texSubImage2D(e.target,0,0,0,e.width,e.height,e.format,e.type,this.data):(i.width=e.width,i.height=e.height,n.texImage2D(e.target,0,i.internalFormat,e.width,e.height,0,e.format,i.type,this.data)),!0},e.prototype.dispose=function(){this.data=null},e.test=function(t){return t instanceof Float32Array||t instanceof Uint8Array||t instanceof Uint32Array},e}(Ut),qt={scaleMode:E.NEAREST,format:v.RGBA,alphaMode:x.NPM},zt=function(t){function e(e,i){void 0===e&&(e=null),void 0===i&&(i=null),t.call(this);var n=(i=i||{}).alphaMode,r=i.mipmap,s=i.anisotropicLevel,o=i.scaleMode,a=i.width,A=i.height,l=i.wrapMode,u=i.format,h=i.type,c=i.target,f=i.resolution;!e||e instanceof Ut||((e=jt(e,i.resourceOptions)).internal=!0),this.width=a||0,this.height=A||0,this.resolution=f||R.RESOLUTION,this.mipmap=void 0!==r?r:R.MIPMAP_TEXTURES,this.anisotropicLevel=void 0!==s?s:R.ANISOTROPIC_LEVEL,this.wrapMode=l||R.WRAP_MODE,this.scaleMode=void 0!==o?o:R.SCALE_MODE,this.format=u||v.RGBA,this.type=h||B.UNSIGNED_BYTE,this.target=c||I.TEXTURE_2D,this.alphaMode=void 0!==n?n:x.UNPACK,void 0!==i.premultiplyAlpha&&(this.premultiplyAlpha=i.premultiplyAlpha),this.uid=X(),this.touched=0,this.isPowerOfTwo=!1,this._refreshPOT(),this._glTextures={},this.dirtyId=0,this.dirtyStyleId=0,this.cacheId=null,this.valid=a>0&&A>0,this.textureCacheIds=[],this.destroyed=!1,this.resource=null,this._batchEnabled=0,this._batchLocation=0,this.setResource(e)}t&&(e.__proto__=t),(e.prototype=Object.create(t&&t.prototype)).constructor=e;var i={realWidth:{configurable:!0},realHeight:{configurable:!0}};return i.realWidth.get=function(){return Math.ceil(this.width*this.resolution-1e-4)},i.realHeight.get=function(){return Math.ceil(this.height*this.resolution-1e-4)},e.prototype.setStyle=function(t,e){var i;return void 0!==t&&t!==this.scaleMode&&(this.scaleMode=t,i=!0),void 0!==e&&e!==this.mipmap&&(this.mipmap=e,i=!0),i&&this.dirtyStyleId++,this},e.prototype.setSize=function(t,e,i){return this.resolution=i||this.resolution,this.width=t,this.height=e,this._refreshPOT(),this.update(),this},e.prototype.setRealSize=function(t,e,i){return this.resolution=i||this.resolution,this.width=t/this.resolution,this.height=e/this.resolution,this._refreshPOT(),this.update(),this},e.prototype._refreshPOT=function(){this.isPowerOfTwo=$(this.realWidth)&&$(this.realHeight)},e.prototype.setResolution=function(t){var e=this.resolution;return e===t?this:(this.resolution=t,this.valid&&(this.width=this.width*e/t,this.height=this.height*e/t,this.emit("update",this)),this._refreshPOT(),this)},e.prototype.setResource=function(t){if(this.resource===t)return this;if(this.resource)throw new Error("Resource can be set only once");return t.bind(this),this.resource=t,this},e.prototype.update=function(){this.valid?(this.dirtyId++,this.dirtyStyleId++,this.emit("update",this)):this.width>0&&this.height>0&&(this.valid=!0,this.emit("loaded",this),this.emit("update",this))},e.prototype.onError=function(t){this.emit("error",this,t)},e.prototype.destroy=function(){this.resource&&(this.resource.unbind(this),this.resource.internal&&this.resource.destroy(),this.resource=null),this.cacheId&&(delete rt[this.cacheId],delete nt[this.cacheId],this.cacheId=null),this.dispose(),e.removeFromCache(this),this.textureCacheIds=null,this.destroyed=!0},e.prototype.dispose=function(){this.emit("dispose",this)},e.from=function(t,i,n){void 0===n&&(n=R.STRICT_TEXTURE_CACHE);var r="string"==typeof t,s=null;r?s=t:(t._pixiId||(t._pixiId="pixiid_"+X()),s=t._pixiId);var o=rt[s];if(r&&n&&!o)throw new Error('The cacheId "'+s+'" does not exist in BaseTextureCache.');return o||((o=new e(t,i)).cacheId=s,e.addToCache(o,s)),o},e.fromBuffer=function(t,i,n,r){t=t||new Float32Array(i*n*4);var s=new Kt(t,{width:i,height:n}),o=t instanceof Float32Array?B.FLOAT:B.UNSIGNED_BYTE;return new e(s,Object.assign(qt,r||{width:i,height:n,type:o}))},e.addToCache=function(t,e){e&&(-1===t.textureCacheIds.indexOf(e)&&t.textureCacheIds.push(e),rt[e]&&console.warn("BaseTexture added to the cache with an id ["+e+"] that already had an entry"),rt[e]=t)},e.removeFromCache=function(t){if("string"==typeof t){var e=rt[t];if(e){var i=e.textureCacheIds.indexOf(t);return i>-1&&e.textureCacheIds.splice(i,1),delete rt[t],e}}else if(t&&t.textureCacheIds){for(var n=0;n<t.textureCacheIds.length;++n)delete rt[t.textureCacheIds[n]];return t.textureCacheIds.length=0,t}return null},Object.defineProperties(e.prototype,i),e}(T.a);zt._globalBatch=0;var Xt=function(t){function e(e,i){var n;i=i||{};var r=e;Array.isArray(e)&&(n=e,r=e.length),t.call(this,i.width,i.height),this.items=[],this.itemDirtyIds=[];for(var s=0;s<r;s++){var o=new zt;this.items.push(o),this.itemDirtyIds.push(-1)}if(this.length=r,this._load=null,n)for(var a=0;a<r;a++)this.addResourceAt(jt(n[a],i),a)}return t&&(e.__proto__=t),(e.prototype=Object.create(t&&t.prototype)).constructor=e,e.prototype.dispose=function(){for(var t=0,e=this.length;t<e;t++)this.items[t].destroy();this.items=null,this.itemDirtyIds=null,this._load=null},e.prototype.addResourceAt=function(t,e){if(!this.items[e])throw new Error("Index "+e+" is out of bounds");return t.valid&&!this.valid&&this.resize(t.width,t.height),this.items[e].setResource(t),this},e.prototype.bind=function(e){t.prototype.bind.call(this,e),e.target=I.TEXTURE_2D_ARRAY;for(var i=0;i<this.length;i++)this.items[i].on("update",e.update,e)},e.prototype.unbind=function(e){t.prototype.unbind.call(this,e);for(var i=0;i<this.length;i++)this.items[i].off("update",e.update,e)},e.prototype.load=function(){var t=this;if(this._load)return this._load;var e=this.items.map((function(t){return t.resource})),i=e.map((function(t){return t.load()}));return this._load=Promise.all(i).then((function(){var i=e[0];return t.resize(i.width,i.height),Promise.resolve(t)})),this._load},e.prototype.upload=function(t,e,i){var n=this.length,r=this.itemDirtyIds,s=this.items,o=t.gl;i.dirtyId<0&&o.texImage3D(o.TEXTURE_2D_ARRAY,0,e.format,this._width,this._height,n,0,e.format,e.type,null);for(var a=0;a<n;a++){var A=s[a];r[a]<A.dirtyId&&(r[a]=A.dirtyId,A.valid&&o.texSubImage3D(o.TEXTURE_2D_ARRAY,0,0,0,a,A.resource.width,A.resource.height,1,e.format,e.type,A.resource.source))}return!0},e}(Ut),Wt=function(t){function e(){t.apply(this,arguments)}return t&&(e.__proto__=t),(e.prototype=Object.create(t&&t.prototype)).constructor=e,e.test=function(t){var e=window.OffscreenCanvas;return!!(e&&t instanceof e)||t instanceof HTMLCanvasElement},e}(Yt),Zt=function(t){function e(i,n){if(t.call(this,i,n=n||{}),this.length!==e.SIDES)throw new Error("Invalid length. Got "+this.length+", expected 6");for(var r=0;r<e.SIDES;r++)this.items[r].target=I.TEXTURE_CUBE_MAP_POSITIVE_X+r;!1!==n.autoLoad&&this.load()}return t&&(e.__proto__=t),(e.prototype=Object.create(t&&t.prototype)).constructor=e,e.prototype.bind=function(e){t.prototype.bind.call(this,e),e.target=I.TEXTURE_CUBE_MAP},e.prototype.upload=function(t,i,n){for(var r=this.itemDirtyIds,s=0;s<e.SIDES;s++){var o=this.items[s];r[s]<o.dirtyId&&(r[s]=o.dirtyId,o.valid&&o.resource.upload(t,o,n))}return!0},e}(Xt);Zt.SIDES=6;var $t=function(t){function e(e,i){i=i||{},t.call(this,document.createElement("canvas")),this._width=0,this._height=0,this.svg=e,this.scale=i.scale||1,this._overrideWidth=i.width,this._overrideHeight=i.height,this._resolve=null,this._crossorigin=i.crossorigin,this._load=null,!1!==i.autoLoad&&this.load()}return t&&(e.__proto__=t),(e.prototype=Object.create(t&&t.prototype)).constructor=e,e.prototype.load=function(){var t=this;return this._load?this._load:(this._load=new Promise((function(e){if(t._resolve=function(){t.resize(t.source.width,t.source.height),e(t)},/^\<svg/.test(t.svg.trim())){if(!btoa)throw new Error("Your browser doesn't support base64 conversions.");t.svg="data:image/svg+xml;base64,"+btoa(unescape(encodeURIComponent(t.svg)))}t._loadSvg()})),this._load)},e.prototype._loadSvg=function(){var e=this,i=new Image;t.crossOrigin(i,this.svg,this._crossorigin),i.src=this.svg,i.onerror=function(t){i.onerror=null,e.onError.run(t)},i.onload=function(){var t=i.width,n=i.height;if(!t||!n)throw new Error("The SVG image must have width and height defined (in pixels), canvas API needs them.");var r=t*e.scale,s=n*e.scale;(e._overrideWidth||e._overrideHeight)&&(r=e._overrideWidth||e._overrideHeight/n*t,s=e._overrideHeight||e._overrideWidth/t*n),r=Math.round(r),s=Math.round(s);var o=e.source;o.width=r,o.height=s,o._pixiId="canvas_"+X(),o.getContext("2d").drawImage(i,0,0,t,n,0,0,r,s),e._resolve(),e._resolve=null}},e.getSize=function(t){var i=e.SVG_SIZE.exec(t),n={};return i&&(n[i[1]]=Math.round(parseFloat(i[3])),n[i[5]]=Math.round(parseFloat(i[7]))),n},e.prototype.dispose=function(){t.prototype.dispose.call(this),this._resolve=null,this._crossorigin=null},e.test=function(t,e){return"svg"===e||"string"==typeof t&&0===t.indexOf("data:image/svg+xml;base64")||"string"==typeof t&&0===t.indexOf("<svg")},e}(Yt);$t.SVG_SIZE=/<svg[^>]*(?:\s(width|height)=('|")(\d*(?:\.\d+)?)(?:px)?('|"))[^>]*(?:\s(width|height)=('|")(\d*(?:\.\d+)?)(?:px)?('|"))[^>]*>/i;var te=function(t){function e(e,i){if(i=i||{},!(e instanceof HTMLVideoElement)){var n=document.createElement("video");n.setAttribute("preload","auto"),n.setAttribute("webkit-playsinline",""),n.setAttribute("playsinline",""),"string"==typeof e&&(e=[e]),t.crossOrigin(n,e[0].src||e[0],i.crossorigin);for(var r=0;r<e.length;++r){var s=document.createElement("source"),o=e[r],a=o.src,A=o.mime,l=(a=a||e[r]).split("?").shift().toLowerCase(),u=l.substr(l.lastIndexOf(".")+1);A=A||"video/"+u,s.src=a,s.type=A,n.appendChild(s)}e=n}t.call(this,e),this.noSubImage=!0,this._autoUpdate=!0,this._isAutoUpdating=!1,this._updateFPS=i.updateFPS||0,this._msToNextUpdate=0,this.autoPlay=!1!==i.autoPlay,this._load=null,this._resolve=null,this._onCanPlay=this._onCanPlay.bind(this),this._onError=this._onError.bind(this),!1!==i.autoLoad&&this.load()}t&&(e.__proto__=t),(e.prototype=Object.create(t&&t.prototype)).constructor=e;var i={autoUpdate:{configurable:!0},updateFPS:{configurable:!0}};return e.prototype.update=function(e){void 0===e&&(e=0),this.destroyed||(this._msToNextUpdate=Math.floor(this._msToNextUpdate-Nt.shared.elapsedMS*this.source.playbackRate),(!this._updateFPS||this._msToNextUpdate<=0)&&(t.prototype.update.call(this,e),this._msToNextUpdate=this._updateFPS?Math.floor(1e3/this._updateFPS):0))},e.prototype.load=function(){var t=this;if(this._load)return this._load;var e=this.source;return(e.readyState===e.HAVE_ENOUGH_DATA||e.readyState===e.HAVE_FUTURE_DATA)&&e.width&&e.height&&(e.complete=!0),e.addEventListener("play",this._onPlayStart.bind(this)),e.addEventListener("pause",this._onPlayStop.bind(this)),this._isSourceReady()?this._onCanPlay():(e.addEventListener("canplay",this._onCanPlay),e.addEventListener("canplaythrough",this._onCanPlay),e.addEventListener("error",this._onError,!0)),this._load=new Promise((function(i){t.valid?i(t):(t._resolve=i,e.load())})),this._load},e.prototype._onError=function(){this.source.removeEventListener("error",this._onError,!0),this.onError.run(event)},e.prototype._isSourcePlaying=function(){var t=this.source;return t.currentTime>0&&!1===t.paused&&!1===t.ended&&t.readyState>2},e.prototype._isSourceReady=function(){return 3===this.source.readyState||4===this.source.readyState},e.prototype._onPlayStart=function(){this.valid||this._onCanPlay(),!this._isAutoUpdating&&this.autoUpdate&&(Nt.shared.add(this.update,this),this._isAutoUpdating=!0)},e.prototype._onPlayStop=function(){this._isAutoUpdating&&(Nt.shared.remove(this.update,this),this._isAutoUpdating=!1)},e.prototype._onCanPlay=function(){var t=this.source;t.removeEventListener("canplay",this._onCanPlay),t.removeEventListener("canplaythrough",this._onCanPlay);var e=this.valid;this.resize(t.videoWidth,t.videoHeight),!e&&this._resolve&&(this._resolve(this),this._resolve=null),this._isSourcePlaying()?this._onPlayStart():this.autoPlay&&t.play()},e.prototype.dispose=function(){this._isAutoUpdating&&Nt.shared.remove(this.update,this),this.source&&(this.source.removeEventListener("error",this._onError,!0),this.source.pause(),this.source.src="",this.source.load()),t.prototype.dispose.call(this)},i.autoUpdate.get=function(){return this._autoUpdate},i.autoUpdate.set=function(t){t!==this._autoUpdate&&(this._autoUpdate=t,!this._autoUpdate&&this._isAutoUpdating?(Nt.shared.remove(this.update,this),this._isAutoUpdating=!1):this._autoUpdate&&!this._isAutoUpdating&&(Nt.shared.add(this.update,this),this._isAutoUpdating=!0))},i.updateFPS.get=function(){return this._updateFPS},i.updateFPS.set=function(t){t!==this._updateFPS&&(this._updateFPS=t)},e.test=function(t,i){return t instanceof HTMLVideoElement||e.TYPES.indexOf(i)>-1},Object.defineProperties(e.prototype,i),e}(Yt);te.TYPES=["mp4","m4v","webm","ogg","ogv","h264","avi","mov"],Jt.push(Ht,function(t){function e(){t.apply(this,arguments)}return t&&(e.__proto__=t),(e.prototype=Object.create(t&&t.prototype)).constructor=e,e.test=function(t){return!!window.createImageBitmap&&t instanceof ImageBitmap},e}(Yt),Wt,te,$t,Kt,Zt,Xt);var ee=function(t){this.renderer=t};ee.prototype.destroy=function(){this.renderer=null};var ie=function(t){function e(){t.apply(this,arguments)}return t&&(e.__proto__=t),(e.prototype=Object.create(t&&t.prototype)).constructor=e,e.prototype.upload=function(t,e,i){var n=t.gl;return n.pixelStorei(n.UNPACK_PREMULTIPLY_ALPHA_WEBGL,e.alphaMode===x.UNPACK),i.width===e.width&&i.height===e.height?n.texSubImage2D(e.target,0,0,0,e.width,e.height,e.format,e.type,this.data):(i.width=e.width,i.height=e.height,n.texImage2D(e.target,0,n.DEPTH_COMPONENT16,e.width,e.height,0,e.format,e.type,this.data)),!0},e}(Kt),ne=function(t,e){this.width=Math.ceil(t||100),this.height=Math.ceil(e||100),this.stencil=!1,this.depth=!1,this.dirtyId=0,this.dirtyFormat=0,this.dirtySize=0,this.depthTexture=null,this.colorTextures=[],this.glFramebuffers={},this.disposeRunner=new Ft("disposeFramebuffer",2)},re={colorTexture:{configurable:!0}};re.colorTexture.get=function(){return this.colorTextures[0]},ne.prototype.addColorTexture=function(t,e){return void 0===t&&(t=0),this.colorTextures[t]=e||new zt(null,{scaleMode:0,resolution:1,mipmap:!1,width:this.width,height:this.height}),this.dirtyId++,this.dirtyFormat++,this},ne.prototype.addDepthTexture=function(t){return this.depthTexture=t||new zt(new ie(null,{width:this.width,height:this.height}),{scaleMode:0,resolution:1,width:this.width,height:this.height,mipmap:!1,format:v.DEPTH_COMPONENT,type:B.UNSIGNED_SHORT}),this.dirtyId++,this.dirtyFormat++,this},ne.prototype.enableDepth=function(){return this.depth=!0,this.dirtyId++,this.dirtyFormat++,this},ne.prototype.enableStencil=function(){return this.stencil=!0,this.dirtyId++,this.dirtyFormat++,this},ne.prototype.resize=function(t,e){if(t=Math.ceil(t),e=Math.ceil(e),t!==this.width||e!==this.height){this.width=t,this.height=e,this.dirtyId++,this.dirtySize++;for(var i=0;i<this.colorTextures.length;i++){var n=this.colorTextures[i],r=n.resolution;n.setSize(t/r,e/r)}if(this.depthTexture){var s=this.depthTexture.resolution;this.depthTexture.setSize(t/s,e/s)}}},ne.prototype.dispose=function(){this.disposeRunner.run(this,!1)},Object.defineProperties(ne.prototype,re);var se=function(t){function e(e){"number"==typeof e&&(e={width:arguments[0],height:arguments[1],scaleMode:arguments[2],resolution:arguments[3]}),t.call(this,null,e);var i=e||{},n=i.width,r=i.height;this.mipmap=!1,this.width=Math.ceil(n)||100,this.height=Math.ceil(r)||100,this.valid=!0,this._canvasRenderTarget=null,this.clearColor=[0,0,0,0],this.framebuffer=new ne(this.width*this.resolution,this.height*this.resolution).addColorTexture(0,this),this.maskStack=[],this.filterStack=[{}]}return t&&(e.__proto__=t),(e.prototype=Object.create(t&&t.prototype)).constructor=e,e.prototype.resize=function(t,e){t=Math.ceil(t),e=Math.ceil(e),this.framebuffer.resize(t*this.resolution,e*this.resolution)},e.prototype.dispose=function(){this.framebuffer.dispose(),t.prototype.dispose.call(this)},e.prototype.destroy=function(){t.prototype.destroy.call(this,!0),this.framebuffer=null},e}(zt),oe=function(){this.x0=0,this.y0=0,this.x1=1,this.y1=0,this.x2=1,this.y2=1,this.x3=0,this.y3=1,this.uvsFloat32=new Float32Array(8)};oe.prototype.set=function(t,e,i){var n=e.width,r=e.height;if(i){var s=t.width/2/n,o=t.height/2/r,a=t.x/n+s,A=t.y/r+o;i=Et.add(i,Et.NW),this.x0=a+s*Et.uX(i),this.y0=A+o*Et.uY(i),i=Et.add(i,2),this.x1=a+s*Et.uX(i),this.y1=A+o*Et.uY(i),i=Et.add(i,2),this.x2=a+s*Et.uX(i),this.y2=A+o*Et.uY(i),i=Et.add(i,2),this.x3=a+s*Et.uX(i),this.y3=A+o*Et.uY(i)}else this.x0=t.x/n,this.y0=t.y/r,this.x1=(t.x+t.width)/n,this.y1=t.y/r,this.x2=(t.x+t.width)/n,this.y2=(t.y+t.height)/r,this.x3=t.x/n,this.y3=(t.y+t.height)/r;this.uvsFloat32[0]=this.x0,this.uvsFloat32[1]=this.y0,this.uvsFloat32[2]=this.x1,this.uvsFloat32[3]=this.y1,this.uvsFloat32[4]=this.x2,this.uvsFloat32[5]=this.y2,this.uvsFloat32[6]=this.x3,this.uvsFloat32[7]=this.y3};var ae=new oe,Ae=function(t){function e(i,n,r,s,o,a){if(t.call(this),this.noFrame=!1,n||(this.noFrame=!0,n=new bt(0,0,1,1)),i instanceof e&&(i=i.baseTexture),this.baseTexture=i,this._frame=n,this.trim=s,this.valid=!1,this.requiresUpdate=!1,this._uvs=ae,this.uvMatrix=null,this.orig=r||n,this._rotate=Number(o||0),!0===o)this._rotate=2;else if(this._rotate%2!=0)throw new Error("attempt to use diamond-shaped UVs. If you are sure, set rotation manually");this.defaultAnchor=a?new ht(a.x,a.y):new ht(0,0),this._updateID=0,this.textureCacheIds=[],i.valid?this.noFrame?i.valid&&this.onBaseTextureUpdated(i):this.frame=n:i.once("loaded",this.onBaseTextureUpdated,this),this.noFrame&&i.on("update",this.onBaseTextureUpdated,this)}t&&(e.__proto__=t),(e.prototype=Object.create(t&&t.prototype)).constructor=e;var i={resolution:{configurable:!0},frame:{configurable:!0},rotate:{configurable:!0},width:{configurable:!0},height:{configurable:!0}};return e.prototype.update=function(){this.baseTexture.resource&&this.baseTexture.resource.update()},e.prototype.onBaseTextureUpdated=function(t){if(this.noFrame){if(!this.baseTexture.valid)return;this._frame.width=t.width,this._frame.height=t.height,this.valid=!0,this.updateUvs()}else this.frame=this._frame;this.emit("update",this)},e.prototype.destroy=function(t){if(this.baseTexture){if(t){var i=this.baseTexture.resource;i&&nt[i.url]&&e.removeFromCache(i.url),this.baseTexture.destroy()}this.baseTexture.off("update",this.onBaseTextureUpdated,this),this.baseTexture=null}this._frame=null,this._uvs=null,this.trim=null,this.orig=null,this.valid=!1,e.removeFromCache(this),this.textureCacheIds=null},e.prototype.clone=function(){return new e(this.baseTexture,this.frame,this.orig,this.trim,this.rotate,this.defaultAnchor)},e.prototype.updateUvs=function(){this._uvs===ae&&(this._uvs=new oe),this._uvs.set(this._frame,this.baseTexture,this.rotate),this._updateID++},e.from=function(t,i,n){void 0===i&&(i={}),void 0===n&&(n=R.STRICT_TEXTURE_CACHE);var r="string"==typeof t,s=null;r?s=t:(t._pixiId||(t._pixiId="pixiid_"+X()),s=t._pixiId);var o=nt[s];if(r&&n&&!o)throw new Error('The cacheId "'+s+'" does not exist in TextureCache.');return o||(i.resolution||(i.resolution=at(t)),(o=new e(new zt(t,i))).baseTexture.cacheId=s,zt.addToCache(o.baseTexture,s),e.addToCache(o,s)),o},e.fromBuffer=function(t,i,n,r){return new e(zt.fromBuffer(t,i,n,r))},e.fromLoader=function(t,i,n){var r=new Ht(t);r.url=i;var s=new e(new zt(r,{scaleMode:R.SCALE_MODE,resolution:at(i)}));return n||(n=i),zt.addToCache(s.baseTexture,n),e.addToCache(s,n),n!==i&&(zt.addToCache(s.baseTexture,i),e.addToCache(s,i)),s},e.addToCache=function(t,e){e&&(-1===t.textureCacheIds.indexOf(e)&&t.textureCacheIds.push(e),nt[e]&&console.warn("Texture added to the cache with an id ["+e+"] that already had an entry"),nt[e]=t)},e.removeFromCache=function(t){if("string"==typeof t){var e=nt[t];if(e){var i=e.textureCacheIds.indexOf(t);return i>-1&&e.textureCacheIds.splice(i,1),delete nt[t],e}}else if(t&&t.textureCacheIds){for(var n=0;n<t.textureCacheIds.length;++n)nt[t.textureCacheIds[n]]===t&&delete nt[t.textureCacheIds[n]];return t.textureCacheIds.length=0,t}return null},i.resolution.get=function(){return this.baseTexture.resolution},i.frame.get=function(){return this._frame},i.frame.set=function(t){this._frame=t,this.noFrame=!1;var e=t.x,i=t.y,n=t.width,r=t.height,s=e+n>this.baseTexture.width,o=i+r>this.baseTexture.height;if(s||o)throw new Error("Texture Error: frame does not fit inside the base Texture dimensions: X: "+e+" + "+n+" = "+(e+n)+" > "+this.baseTexture.width+" "+(s&&o?"and":"or")+" Y: "+i+" + "+r+" = "+(i+r)+" > "+this.baseTexture.height);this.valid=n&&r&&this.baseTexture.valid,this.trim||this.rotate||(this.orig=t),this.valid&&this.updateUvs()},i.rotate.get=function(){return this._rotate},i.rotate.set=function(t){this._rotate=t,this.valid&&this.updateUvs()},i.width.get=function(){return this.orig.width},i.height.get=function(){return this.orig.height},Object.defineProperties(e.prototype,i),e}(T.a);function le(t){t.destroy=function(){},t.on=function(){},t.once=function(){},t.emit=function(){}}Ae.EMPTY=new Ae(new zt),le(Ae.EMPTY),le(Ae.EMPTY.baseTexture),Ae.WHITE=function(){var t=document.createElement("canvas");t.width=16,t.height=16;var e=t.getContext("2d");return e.fillStyle="white",e.fillRect(0,0,16,16),new Ae(new zt(new Wt(t)))}(),le(Ae.WHITE),le(Ae.WHITE.baseTexture);var ue=function(t){function e(e,i){var n=null;if(!(e instanceof se)){var r=arguments[1],s=arguments[2],o=arguments[3],a=arguments[4];console.warn("Please use RenderTexture.create("+r+", "+s+") instead of the ctor directly."),n=arguments[0],i=null,e=new se({width:r,height:s,scaleMode:o,resolution:a})}t.call(this,e,i),this.legacyRenderer=n,this.valid=!0,this.filterFrame=null,this.filterPoolKey=null,this.updateUvs()}return t&&(e.__proto__=t),(e.prototype=Object.create(t&&t.prototype)).constructor=e,e.prototype.resize=function(t,e,i){void 0===i&&(i=!0),t=Math.ceil(t),e=Math.ceil(e),this.valid=t>0&&e>0,this._frame.width=this.orig.width=t,this._frame.height=this.orig.height=e,i&&this.baseTexture.resize(t,e),this.updateUvs()},e.prototype.setResolution=function(t){var e=this.baseTexture;e.resolution!==t&&(e.setResolution(t),this.resize(e.width,e.height,!1))},e.create=function(t){return"number"==typeof t&&(t={width:t,height:arguments[1],scaleMode:arguments[2],resolution:arguments[3]}),new e(new se(t))},e}(Ae),he=function(t){this.texturePool={},this.textureOptions=t||{},this.enableFullScreen=!1,this._pixelsWidth=0,this._pixelsHeight=0};he.prototype.createTexture=function(t,e){var i=new se(Object.assign({width:t,height:e,resolution:1},this.textureOptions));return new ue(i)},he.prototype.getOptimalTexture=function(t,e,i){void 0===i&&(i=1);var n=he.SCREEN_KEY;t*=i,e*=i,this.enableFullScreen&&t===this._pixelsWidth&&e===this._pixelsHeight||(n=(65535&(t=Z(t)))<<16|65535&(e=Z(e))),this.texturePool[n]||(this.texturePool[n]=[]);var r=this.texturePool[n].pop();return r||(r=this.createTexture(t,e)),r.filterPoolKey=n,r.setResolution(i),r},he.prototype.getFilterTexture=function(t,e){var i=this.getOptimalTexture(t.width,t.height,e||t.resolution);return i.filterFrame=t.filterFrame,i},he.prototype.returnTexture=function(t){var e=t.filterPoolKey;t.filterFrame=null,this.texturePool[e].push(t)},he.prototype.returnFilterTexture=function(t){this.returnTexture(t)},he.prototype.clear=function(t){if(t=!1!==t)for(var e in this.texturePool){var i=this.texturePool[e];if(i)for(var n=0;n<i.length;n++)i[n].destroy(!0)}this.texturePool={}},he.prototype.setScreenSize=function(t){if(t.width!==this._pixelsWidth||t.height!==this._pixelsHeight){var e=he.SCREEN_KEY,i=this.texturePool[e];if(this.enableFullScreen=t.width>0&&t.height>0,i)for(var n=0;n<i.length;n++)i[n].destroy(!0);this.texturePool[e]=[],this._pixelsWidth=t.width,this._pixelsHeight=t.height}},he.SCREEN_KEY="screen";var ce=function(t,e,i,n,r,s,o){void 0===i&&(i=!1),void 0===n&&(n=5126),this.buffer=t,this.size=e,this.normalized=i,this.type=n,this.stride=r,this.start=s,this.instance=o};ce.prototype.destroy=function(){this.buffer=null},ce.from=function(t,e,i,n,r){return new ce(t,e,i,n,r)};var fe=0,me=function(t,e,i){void 0===e&&(e=!0),void 0===i&&(i=!1),this.data=t||new Float32Array(1),this._glBuffers={},this._updateID=0,this.index=i,this.static=e,this.id=fe++,this.disposeRunner=new Ft("disposeBuffer",2)};function _e(t){if(4===t.BYTES_PER_ELEMENT)return t instanceof Float32Array?"Float32Array":t instanceof Uint32Array?"Uint32Array":"Int32Array";if(2===t.BYTES_PER_ELEMENT){if(t instanceof Uint16Array)return"Uint16Array"}else if(1===t.BYTES_PER_ELEMENT&&t instanceof Uint8Array)return"Uint8Array";return null}me.prototype.update=function(t){this.data=t||this.data,this._updateID++},me.prototype.dispose=function(){this.disposeRunner.run(this,!1)},me.prototype.destroy=function(){this.dispose(),this.data=null},me.from=function(t){return t instanceof Array&&(t=new Float32Array(t)),new me(t)};var ge={Float32Array:Float32Array,Uint32Array:Uint32Array,Int32Array:Int32Array,Uint8Array:Uint8Array},de={5126:4,5123:2,5121:1},pe=0,ye={Float32Array:Float32Array,Uint32Array:Uint32Array,Int32Array:Int32Array,Uint8Array:Uint8Array,Uint16Array:Uint16Array},Ce=function(t,e){void 0===t&&(t=[]),void 0===e&&(e={}),this.buffers=t,this.indexBuffer=null,this.attributes=e,this.glVertexArrayObjects={},this.id=pe++,this.instanced=!1,this.instanceCount=1,this.disposeRunner=new Ft("disposeGeometry",2),this.refCount=0};Ce.prototype.addAttribute=function(t,e,i,n,r,s,o,a){if(void 0===n&&(n=!1),void 0===a&&(a=!1),!e)throw new Error("You must pass a buffer when creating an attribute");e.data||(e instanceof Array&&(e=new Float32Array(e)),e=new me(e));var A=t.split("|");if(A.length>1){for(var l=0;l<A.length;l++)this.addAttribute(A[l],e,i,n,r);return this}var u=this.buffers.indexOf(e);return-1===u&&(this.buffers.push(e),u=this.buffers.length-1),this.attributes[t]=new ce(u,i,n,r,s,o,a),this.instanced=this.instanced||a,this},Ce.prototype.getAttribute=function(t){return this.attributes[t]},Ce.prototype.getBuffer=function(t){return this.buffers[this.getAttribute(t).buffer]},Ce.prototype.addIndex=function(t){return t.data||(t instanceof Array&&(t=new Uint16Array(t)),t=new me(t)),t.index=!0,this.indexBuffer=t,-1===this.buffers.indexOf(t)&&this.buffers.push(t),this},Ce.prototype.getIndex=function(){return this.indexBuffer},Ce.prototype.interleave=function(){if(1===this.buffers.length||2===this.buffers.length&&this.indexBuffer)return this;var t,e=[],i=[],n=new me;for(t in this.attributes){var r=this.attributes[t];e.push(this.buffers[r.buffer].data),i.push(r.size*de[r.type]/4),r.buffer=0}for(n.data=function(t,e){for(var i=0,n=0,r={},s=0;s<t.length;s++)n+=e[s],i+=t[s].length;for(var o=new ArrayBuffer(4*i),a=null,A=0,l=0;l<t.length;l++){var u=e[l],h=t[l],c=_e(h);r[c]||(r[c]=new ge[c](o)),a=r[c];for(var f=0;f<h.length;f++)a[(f/u|0)*n+A+f%u]=h[f];A+=u}return new Float32Array(o)}(e,i),t=0;t<this.buffers.length;t++)this.buffers[t]!==this.indexBuffer&&this.buffers[t].destroy();return this.buffers=[n],this.indexBuffer&&this.buffers.push(this.indexBuffer),this},Ce.prototype.getSize=function(){for(var t in this.attributes){var e=this.attributes[t];return this.buffers[e.buffer].data.length/(e.stride/4||e.size)}return 0},Ce.prototype.dispose=function(){this.disposeRunner.run(this,!1)},Ce.prototype.destroy=function(){this.dispose(),this.buffers=null,this.indexBuffer=null,this.attributes=null},Ce.prototype.clone=function(){for(var t=new Ce,e=0;e<this.buffers.length;e++)t.buffers[e]=new me(this.buffers[e].data.slice());for(var i in this.attributes){var n=this.attributes[i];t.attributes[i]=new ce(n.buffer,n.size,n.normalized,n.type,n.stride,n.start,n.instance)}return this.indexBuffer&&(t.indexBuffer=t.buffers[this.buffers.indexOf(this.indexBuffer)],t.indexBuffer.index=!0),t},Ce.merge=function(t){for(var e,i=new Ce,n=[],r=[],s=[],o=0;o<t.length;o++){e=t[o];for(var a=0;a<e.buffers.length;a++)r[a]=r[a]||0,r[a]+=e.buffers[a].data.length,s[a]=0}for(var A=0;A<e.buffers.length;A++)n[A]=new(ye[_e(e.buffers[A].data)])(r[A]),i.buffers[A]=new me(n[A]);for(var l=0;l<t.length;l++){e=t[l];for(var u=0;u<e.buffers.length;u++)n[u].set(e.buffers[u].data,s[u]),s[u]+=e.buffers[u].data.length}if(i.attributes=e.attributes,e.indexBuffer){i.indexBuffer=i.buffers[e.buffers.indexOf(e.indexBuffer)],i.indexBuffer.index=!0;for(var h=0,c=0,f=0,m=0,_=0;_<e.buffers.length;_++)if(e.buffers[_]!==e.indexBuffer){m=_;break}for(var g in e.attributes){var d=e.attributes[g];(0|d.buffer)===m&&(c+=d.size*de[d.type]/4)}for(var p=0;p<t.length;p++){for(var y=t[p].indexBuffer.data,C=0;C<y.length;C++)i.indexBuffer.data[C+f]+=h;h+=e.buffers[m].data.length/c,f+=y.length}}return i};var ve=function(t){function e(){t.call(this),this.addAttribute("aVertexPosition",[0,0,1,0,1,1,0,1]).addIndex([0,1,3,2])}return t&&(e.__proto__=t),(e.prototype=Object.create(t&&t.prototype)).constructor=e,e}(Ce),Ie=function(t){function e(){t.call(this),this.vertices=new Float32Array([-1,-1,1,-1,1,1,-1,1]),this.uvs=new Float32Array([0,0,1,0,1,1,0,1]),this.vertexBuffer=new me(this.vertices),this.uvBuffer=new me(this.uvs),this.addAttribute("aVertexPosition",this.vertexBuffer).addAttribute("aTextureCoord",this.uvBuffer).addIndex([0,1,2,0,2,3])}return t&&(e.__proto__=t),(e.prototype=Object.create(t&&t.prototype)).constructor=e,e.prototype.map=function(t,e){var i=0,n=0;return this.uvs[0]=i,this.uvs[1]=n,this.uvs[2]=i+e.width/t.width,this.uvs[3]=n,this.uvs[4]=i+e.width/t.width,this.uvs[5]=n+e.height/t.height,this.uvs[6]=i,this.uvs[7]=n+e.height/t.height,n=e.y,this.vertices[0]=i=e.x,this.vertices[1]=n,this.vertices[2]=i+e.width,this.vertices[3]=n,this.vertices[4]=i+e.width,this.vertices[5]=n+e.height,this.vertices[6]=i,this.vertices[7]=n+e.height,this.invalidate(),this},e.prototype.invalidate=function(){return this.vertexBuffer._updateID++,this.uvBuffer._updateID++,this},e}(Ce),Be=0,Ee=function(t,e){this.uniforms=t,this.group=!0,this.syncUniforms={},this.dirtyId=0,this.id=Be++,this.static=!!e};Ee.prototype.update=function(){this.dirtyId++},Ee.prototype.add=function(t,e,i){this.uniforms[t]=new Ee(e,i)},Ee.from=function(t,e){return new Ee(t,e)};var we=function(){this.renderTexture=null,this.target=null,this.legacy=!1,this.resolution=1,this.sourceFrame=new bt,this.destinationFrame=new bt,this.filters=[]};we.prototype.clear=function(){this.target=null,this.filters=null,this.renderTexture=null};var be=function(t){function e(e){t.call(this,e),this.defaultFilterStack=[{}],this.texturePool=new he,this.texturePool.setScreenSize(e.view),this.statePool=[],this.quad=new ve,this.quadUv=new Ie,this.tempRect=new bt,this.activeState={},this.globalUniforms=new Ee({outputFrame:this.tempRect,inputSize:new Float32Array(4),inputPixel:new Float32Array(4),inputClamp:new Float32Array(4),resolution:1,filterArea:new Float32Array(4),filterClamp:new Float32Array(4)},!0),this._pixelsWidth=e.view.width,this._pixelsHeight=e.view.height}return t&&(e.__proto__=t),(e.prototype=Object.create(t&&t.prototype)).constructor=e,e.prototype.push=function(t,e){for(var i=this.renderer,n=this.defaultFilterStack,r=this.statePool.pop()||new we,s=e[0].resolution,o=e[0].padding,a=e[0].autoFit,A=e[0].legacy,l=1;l<e.length;l++){var u=e[l];s=Math.min(s,u.resolution),o=Math.max(o,u.padding),a=a||u.autoFit,A=A||u.legacy}1===n.length&&(this.defaultFilterStack[0].renderTexture=i.renderTexture.current),n.push(r),r.resolution=s,r.legacy=A,r.target=t,r.sourceFrame.copyFrom(t.filterArea||t.getBounds(!0)),r.sourceFrame.pad(o),a&&r.sourceFrame.fit(this.renderer.renderTexture.sourceFrame),r.sourceFrame.ceil(s),r.renderTexture=this.getOptimalFilterTexture(r.sourceFrame.width,r.sourceFrame.height,s),r.filters=e,r.destinationFrame.width=r.renderTexture.width,r.destinationFrame.height=r.renderTexture.height,r.renderTexture.filterFrame=r.sourceFrame,i.renderTexture.bind(r.renderTexture,r.sourceFrame),i.renderTexture.clear()},e.prototype.pop=function(){var t=this.defaultFilterStack,e=t.pop(),i=e.filters;this.activeState=e;var n=this.globalUniforms.uniforms;n.outputFrame=e.sourceFrame,n.resolution=e.resolution;var r=n.inputSize,s=n.inputPixel,o=n.inputClamp;if(r[0]=e.destinationFrame.width,r[1]=e.destinationFrame.height,r[2]=1/r[0],r[3]=1/r[1],s[0]=r[0]*e.resolution,s[1]=r[1]*e.resolution,s[2]=1/s[0],s[3]=1/s[1],o[0]=.5*s[2],o[1]=.5*s[3],o[2]=e.sourceFrame.width*r[2]-.5*s[2],o[3]=e.sourceFrame.height*r[3]-.5*s[3],e.legacy){var a=n.filterArea;a[0]=e.destinationFrame.width,a[1]=e.destinationFrame.height,a[2]=e.sourceFrame.x,a[3]=e.sourceFrame.y,n.filterClamp=n.inputClamp}this.globalUniforms.update();var A=t[t.length-1];if(1===i.length)i[0].apply(this,e.renderTexture,A.renderTexture,!1,e),this.returnFilterTexture(e.renderTexture);else{var l=e.renderTexture,u=this.getOptimalFilterTexture(l.width,l.height,e.resolution);u.filterFrame=l.filterFrame;var h=0;for(h=0;h<i.length-1;++h){i[h].apply(this,l,u,!0,e);var c=l;l=u,u=c}i[h].apply(this,l,A.renderTexture,!1,e),this.returnFilterTexture(l),this.returnFilterTexture(u)}e.clear(),this.statePool.push(e)},e.prototype.applyFilter=function(t,e,i,n){var r=this.renderer;r.renderTexture.bind(i,i?i.filterFrame:null),n&&r.renderTexture.clear(),t.uniforms.uSampler=e,t.uniforms.filterGlobals=this.globalUniforms,r.state.set(t.state),r.shader.bind(t),t.legacy?(this.quadUv.map(e._frame,e.filterFrame),r.geometry.bind(this.quadUv),r.geometry.draw(C.TRIANGLES)):(r.geometry.bind(this.quad),r.geometry.draw(C.TRIANGLE_STRIP))},e.prototype.calculateSpriteMatrix=function(t,e){var i=this.activeState,n=i.sourceFrame,r=i.destinationFrame,s=e._texture.orig,o=t.set(r.width,0,0,r.height,n.x,n.y),a=e.worldTransform.copyTo(gt.TEMP_MATRIX);return a.invert(),o.prepend(a),o.scale(1/s.width,1/s.height),o.translate(e.anchor.x,e.anchor.y),o},e.prototype.destroy=function(){this.texturePool.clear(!1)},e.prototype.getOptimalFilterTexture=function(t,e,i){return void 0===i&&(i=1),this.texturePool.getOptimalTexture(t,e,i)},e.prototype.getFilterTexture=function(t,e){if("number"==typeof t){var i=t;t=e,e=i}var n=this.texturePool.getOptimalTexture((t=t||this.activeState.renderTexture).width,t.height,e||t.resolution);return n.filterFrame=t.filterFrame,n},e.prototype.returnFilterTexture=function(t){this.texturePool.returnTexture(t)},e.prototype.emptyPool=function(){this.texturePool.clear(!0)},e.prototype.resize=function(){this.texturePool.setScreenSize(this.renderer.view)},e}(ee),xe=function(t){this.renderer=t};xe.prototype.flush=function(){},xe.prototype.destroy=function(){this.renderer=null},xe.prototype.start=function(){},xe.prototype.stop=function(){this.flush()},xe.prototype.render=function(t){};var Se=function(t){function e(e){t.call(this,e),this.emptyRenderer=new xe(e),this.currentRenderer=this.emptyRenderer}return t&&(e.__proto__=t),(e.prototype=Object.create(t&&t.prototype)).constructor=e,e.prototype.setObjectRenderer=function(t){this.currentRenderer!==t&&(this.currentRenderer.stop(),this.currentRenderer=t,this.currentRenderer.start())},e.prototype.flush=function(){this.setObjectRenderer(this.emptyRenderer)},e.prototype.reset=function(){this.setObjectRenderer(this.emptyRenderer)},e.prototype.copyBoundTextures=function(t,e){for(var i=this.renderer.texture.boundTextures,n=e-1;n>=0;--n)t[n]=i[n]||null,t[n]&&(t[n]._batchLocation=n)},e.prototype.boundArray=function(t,e,i,n){for(var r=t.elements,s=t.ids,o=t.count,a=0,A=0;A<o;A++){var l=r[A],u=l._batchLocation;if(u>=0&&u<n&&e[u]===l)s[A]=u;else for(;a<n;){var h=e[a];if(!h||h._batchEnabled!==i||h._batchLocation!==a){s[A]=a,l._batchLocation=a,e[a]=l;break}a++}}},e}(ee);R.PREFER_ENV=M.a.any?d.WEBGL:d.WEBGL2,R.STRICT_TEXTURE_CACHE=!1;var Qe=0,ke=function(t){function e(e){t.call(this,e),this.webGLVersion=1,this.extensions={},this.handleContextLost=this.handleContextLost.bind(this),this.handleContextRestored=this.handleContextRestored.bind(this),e.view.addEventListener("webglcontextlost",this.handleContextLost,!1),e.view.addEventListener("webglcontextrestored",this.handleContextRestored,!1)}t&&(e.__proto__=t),(e.prototype=Object.create(t&&t.prototype)).constructor=e;var i={isLost:{configurable:!0}};return i.isLost.get=function(){return!this.gl||this.gl.isContextLost()},e.prototype.contextChange=function(t){this.gl=t,this.renderer.gl=t,this.renderer.CONTEXT_UID=Qe++,t.isContextLost()&&t.getExtension("WEBGL_lose_context")&&t.getExtension("WEBGL_lose_context").restoreContext()},e.prototype.initFromContext=function(t){this.gl=t,this.validateContext(t),this.renderer.gl=t,this.renderer.CONTEXT_UID=Qe++,this.renderer.runners.contextChange.run(t)},e.prototype.initFromOptions=function(t){var e=this.createContext(this.renderer.view,t);this.initFromContext(e)},e.prototype.createContext=function(t,e){var i;if(R.PREFER_ENV>=d.WEBGL2&&(i=t.getContext("webgl2",e)),i)this.webGLVersion=2;else if(this.webGLVersion=1,!(i=t.getContext("webgl",e)||t.getContext("experimental-webgl",e)))throw new Error("This browser does not support WebGL. Try using the canvas renderer");return this.gl=i,this.getExtensions(),i},e.prototype.getExtensions=function(){var t=this.gl;1===this.webGLVersion?Object.assign(this.extensions,{drawBuffers:t.getExtension("WEBGL_draw_buffers"),depthTexture:t.getExtension("WEBKIT_WEBGL_depth_texture"),loseContext:t.getExtension("WEBGL_lose_context"),vertexArrayObject:t.getExtension("OES_vertex_array_object")||t.getExtension("MOZ_OES_vertex_array_object")||t.getExtension("WEBKIT_OES_vertex_array_object"),anisotropicFiltering:t.getExtension("EXT_texture_filter_anisotropic"),uint32ElementIndex:t.getExtension("OES_element_index_uint"),floatTexture:t.getExtension("OES_texture_float"),floatTextureLinear:t.getExtension("OES_texture_float_linear"),textureHalfFloat:t.getExtension("OES_texture_half_float"),textureHalfFloatLinear:t.getExtension("OES_texture_half_float_linear")}):2===this.webGLVersion&&Object.assign(this.extensions,{anisotropicFiltering:t.getExtension("EXT_texture_filter_anisotropic"),colorBufferFloat:t.getExtension("EXT_color_buffer_float"),floatTextureLinear:t.getExtension("OES_texture_float_linear")})},e.prototype.handleContextLost=function(t){t.preventDefault()},e.prototype.handleContextRestored=function(){this.renderer.runners.contextChange.run(this.gl)},e.prototype.destroy=function(){var t=this.renderer.view;t.removeEventListener("webglcontextlost",this.handleContextLost),t.removeEventListener("webglcontextrestored",this.handleContextRestored),this.gl.useProgram(null),this.extensions.loseContext&&this.extensions.loseContext.loseContext()},e.prototype.postrender=function(){this.renderer.renderingToScreen&&this.gl.flush()},e.prototype.validateContext=function(t){t.getContextAttributes().stencil||console.warn("Provided WebGL context does not have a stencil buffer, masks may not render correctly")},Object.defineProperties(e.prototype,i),e}(ee),De=function(t){function e(e){t.call(this,e),this.managedFramebuffers=[],this.unknownFramebuffer=new ne(10,10)}t&&(e.__proto__=t),(e.prototype=Object.create(t&&t.prototype)).constructor=e;var i={size:{configurable:!0}};return e.prototype.contextChange=function(){var t=this.gl=this.renderer.gl;if(this.CONTEXT_UID=this.renderer.CONTEXT_UID,this.current=this.unknownFramebuffer,this.viewport=new bt,this.hasMRT=!0,this.writeDepthTexture=!0,this.disposeAll(!0),1===this.renderer.context.webGLVersion){var e=this.renderer.context.extensions.drawBuffers,i=this.renderer.context.extensions.depthTexture;R.PREFER_ENV===d.WEBGL_LEGACY&&(e=null,i=null),e?t.drawBuffers=function(t){return e.drawBuffersWEBGL(t)}:(this.hasMRT=!1,t.drawBuffers=function(){}),i||(this.writeDepthTexture=!1)}},e.prototype.bind=function(t,e){var i=this.gl;if(t){var n=t.glFramebuffers[this.CONTEXT_UID]||this.initFramebuffer(t);this.current!==t&&(this.current=t,i.bindFramebuffer(i.FRAMEBUFFER,n.framebuffer)),n.dirtyId!==t.dirtyId&&(n.dirtyId=t.dirtyId,n.dirtyFormat!==t.dirtyFormat?(n.dirtyFormat=t.dirtyFormat,this.updateFramebuffer(t)):n.dirtySize!==t.dirtySize&&(n.dirtySize=t.dirtySize,this.resizeFramebuffer(t)));for(var r=0;r<t.colorTextures.length;r++)this.renderer.texture.unbind(t.colorTextures[r].texturePart?t.colorTextures[r].texture:t.colorTextures[r]);t.depthTexture&&this.renderer.texture.unbind(t.depthTexture),e?this.setViewport(e.x,e.y,e.width,e.height):this.setViewport(0,0,t.width,t.height)}else this.current&&(this.current=null,i.bindFramebuffer(i.FRAMEBUFFER,null)),e?this.setViewport(e.x,e.y,e.width,e.height):this.setViewport(0,0,this.renderer.width,this.renderer.height)},e.prototype.setViewport=function(t,e,i,n){var r=this.viewport;r.width===i&&r.height===n&&r.x===t&&r.y===e||(r.x=t,r.y=e,r.width=i,r.height=n,this.gl.viewport(t,e,i,n))},i.size.get=function(){return this.current?{x:0,y:0,width:this.current.width,height:this.current.height}:{x:0,y:0,width:this.renderer.width,height:this.renderer.height}},e.prototype.clear=function(t,e,i,n){var r=this.gl;r.clearColor(t,e,i,n),r.clear(r.COLOR_BUFFER_BIT|r.DEPTH_BUFFER_BIT)},e.prototype.initFramebuffer=function(t){var e={framebuffer:this.gl.createFramebuffer(),stencil:null,dirtyId:0,dirtyFormat:0,dirtySize:0};return t.glFramebuffers[this.CONTEXT_UID]=e,this.managedFramebuffers.push(t),t.disposeRunner.add(this),e},e.prototype.resizeFramebuffer=function(t){var e=this.gl,i=t.glFramebuffers[this.CONTEXT_UID];i.stencil&&(e.bindRenderbuffer(e.RENDERBUFFER,i.stencil),e.renderbufferStorage(e.RENDERBUFFER,e.DEPTH_STENCIL,t.width,t.height));for(var n=t.colorTextures,r=0;r<n.length;r++)this.renderer.texture.bind(n[r],0);t.depthTexture&&this.renderer.texture.bind(t.depthTexture,0)},e.prototype.updateFramebuffer=function(t){var e=this.gl,i=t.glFramebuffers[this.CONTEXT_UID],n=t.colorTextures.length;e.drawBuffers||(n=Math.min(n,1));for(var r=[],s=0;s<n;s++){var o=t.colorTextures[s];o.texturePart?(this.renderer.texture.bind(o.texture,0),e.framebufferTexture2D(e.FRAMEBUFFER,e.COLOR_ATTACHMENT0+s,e.TEXTURE_CUBE_MAP_NEGATIVE_X+o.side,o.texture._glTextures[this.CONTEXT_UID].texture,0)):(this.renderer.texture.bind(o,0),e.framebufferTexture2D(e.FRAMEBUFFER,e.COLOR_ATTACHMENT0+s,e.TEXTURE_2D,o._glTextures[this.CONTEXT_UID].texture,0)),r.push(e.COLOR_ATTACHMENT0+s)}if(r.length>1&&e.drawBuffers(r),t.depthTexture&&this.writeDepthTexture){var a=t.depthTexture;this.renderer.texture.bind(a,0),e.framebufferTexture2D(e.FRAMEBUFFER,e.DEPTH_ATTACHMENT,e.TEXTURE_2D,a._glTextures[this.CONTEXT_UID].texture,0)}i.stencil||!t.stencil&&!t.depth||(i.stencil=e.createRenderbuffer(),e.bindRenderbuffer(e.RENDERBUFFER,i.stencil),e.renderbufferStorage(e.RENDERBUFFER,e.DEPTH_STENCIL,t.width,t.height),t.depthTexture||e.framebufferRenderbuffer(e.FRAMEBUFFER,e.DEPTH_STENCIL_ATTACHMENT,e.RENDERBUFFER,i.stencil))},e.prototype.disposeFramebuffer=function(t,e){var i=t.glFramebuffers[this.CONTEXT_UID],n=this.gl;if(i){delete t.glFramebuffers[this.CONTEXT_UID];var r=this.managedFramebuffers.indexOf(t);r>=0&&this.managedFramebuffers.splice(r,1),t.disposeRunner.remove(this),e||(n.deleteFramebuffer(i.framebuffer),i.stencil&&n.deleteRenderbuffer(i.stencil))}},e.prototype.disposeAll=function(t){var e=this.managedFramebuffers;this.managedFramebuffers=[];for(var i=0;i<e.length;i++)this.disposeFramebuffer(e[i],t)},e.prototype.forceStencil=function(){var t=this.current;if(t){var e=t.glFramebuffers[this.CONTEXT_UID];if(e&&!e.stencil){t.enableStencil();var i=t.width,n=t.height,r=this.gl,s=r.createRenderbuffer();r.bindRenderbuffer(r.RENDERBUFFER,s),r.renderbufferStorage(r.RENDERBUFFER,r.DEPTH_STENCIL,i,n),e.stencil=s,r.framebufferRenderbuffer(r.FRAMEBUFFER,r.DEPTH_STENCIL_ATTACHMENT,r.RENDERBUFFER,s)}}},e.prototype.reset=function(){this.current=this.unknownFramebuffer,this.viewport=new bt},Object.defineProperties(e.prototype,i),e}(ee),Me=function(t){this.buffer=t,this.updateID=-1,this.byteLength=-1,this.refCount=0},Re={5126:4,5123:2,5121:1},Ve=function(t){function e(e){t.call(this,e),this._activeGeometry=null,this._activeVao=null,this.hasVao=!0,this.hasInstance=!0,this.canUseUInt32ElementIndex=!1,this.boundBuffers={},this.managedGeometries={},this.managedBuffers={}}return t&&(e.__proto__=t),(e.prototype=Object.create(t&&t.prototype)).constructor=e,e.prototype.contextChange=function(){this.disposeAll(!0);var t=this.gl=this.renderer.gl,e=this.renderer.context;if(this.CONTEXT_UID=this.renderer.CONTEXT_UID,!t.createVertexArray){var i=this.renderer.context.extensions.vertexArrayObject;R.PREFER_ENV===d.WEBGL_LEGACY&&(i=null),i?(t.createVertexArray=function(){return i.createVertexArrayOES()},t.bindVertexArray=function(t){return i.bindVertexArrayOES(t)},t.deleteVertexArray=function(t){return i.deleteVertexArrayOES(t)}):(this.hasVao=!1,t.createVertexArray=function(){},t.bindVertexArray=function(){},t.deleteVertexArray=function(){})}if(!t.vertexAttribDivisor){var n=t.getExtension("ANGLE_instanced_arrays");n?(t.vertexAttribDivisor=function(t,e){return n.vertexAttribDivisorANGLE(t,e)},t.drawElementsInstanced=function(t,e,i,r,s){return n.drawElementsInstancedANGLE(t,e,i,r,s)},t.drawArraysInstanced=function(t,e,i,r){return n.drawArraysInstancedANGLE(t,e,i,r)}):this.hasInstance=!1}this.canUseUInt32ElementIndex=2===e.webGLVersion||!!e.extensions.uint32ElementIndex},e.prototype.bind=function(t,e){e=e||this.renderer.shader.shader;var i=this.gl,n=t.glVertexArrayObjects[this.CONTEXT_UID];n||(this.managedGeometries[t.id]=t,t.disposeRunner.add(this),t.glVertexArrayObjects[this.CONTEXT_UID]=n={});var r=n[e.program.id]||this.initGeometryVao(t,e.program);this._activeGeometry=t,this._activeVao!==r&&(this._activeVao=r,this.hasVao?i.bindVertexArray(r):this.activateVao(t,e.program)),this.updateBuffers()},e.prototype.reset=function(){this.unbind()},e.prototype.updateBuffers=function(){for(var t=this._activeGeometry,e=this.gl,i=0;i<t.buffers.length;i++){var n=t.buffers[i],r=n._glBuffers[this.CONTEXT_UID];if(n._updateID!==r.updateID){r.updateID=n._updateID;var s=n.index?e.ELEMENT_ARRAY_BUFFER:e.ARRAY_BUFFER;if(e.bindBuffer(s,r.buffer),this._boundBuffer=r,r.byteLength>=n.data.byteLength)e.bufferSubData(s,0,n.data);else{var o=n.static?e.STATIC_DRAW:e.DYNAMIC_DRAW;r.byteLength=n.data.byteLength,e.bufferData(s,n.data,o)}}}},e.prototype.checkCompatibility=function(t,e){var i=t.attributes,n=e.attributeData;for(var r in n)if(!i[r])throw new Error('shader and geometry incompatible, geometry missing the "'+r+'" attribute')},e.prototype.getSignature=function(t,e){var i=t.attributes,n=e.attributeData,r=["g",t.id];for(var s in i)n[s]&&r.push(s);return r.join("-")},e.prototype.initGeometryVao=function(t,e){this.checkCompatibility(t,e);var i=this.gl,n=this.CONTEXT_UID,r=this.getSignature(t,e),s=t.glVertexArrayObjects[this.CONTEXT_UID],o=s[r];if(o)return s[e.id]=o,o;var a=t.buffers,A=t.attributes,l={},u={};for(var h in a)l[h]=0,u[h]=0;for(var c in A)!A[c].size&&e.attributeData[c]?A[c].size=e.attributeData[c].size:A[c].size||console.warn("PIXI Geometry attribute '"+c+"' size cannot be determined (likely the bound shader does not have the attribute)"),l[A[c].buffer]+=A[c].size*Re[A[c].type];for(var f in A){var m=A[f],_=m.size;void 0===m.stride&&(m.stride=l[m.buffer]===_*Re[m.type]?0:l[m.buffer]),void 0===m.start&&(m.start=u[m.buffer],u[m.buffer]+=_*Re[m.type])}o=i.createVertexArray(),i.bindVertexArray(o);for(var g=0;g<a.length;g++){var d=a[g];d._glBuffers[n]||(d._glBuffers[n]=new Me(i.createBuffer()),this.managedBuffers[d.id]=d,d.disposeRunner.add(this)),d._glBuffers[n].refCount++}return this.activateVao(t,e),this._activeVao=o,s[e.id]=o,s[r]=o,o},e.prototype.disposeBuffer=function(t,e){if(this.managedBuffers[t.id]){delete this.managedBuffers[t.id];var i=t._glBuffers[this.CONTEXT_UID],n=this.gl;t.disposeRunner.remove(this),i&&(e||n.deleteBuffer(i.buffer),delete t._glBuffers[this.CONTEXT_UID])}},e.prototype.disposeGeometry=function(t,e){if(this.managedGeometries[t.id]){delete this.managedGeometries[t.id];var i=t.glVertexArrayObjects[this.CONTEXT_UID],n=this.gl,r=t.buffers;if(t.disposeRunner.remove(this),i){for(var s=0;s<r.length;s++){var o=r[s]._glBuffers[this.CONTEXT_UID];o.refCount--,0!==o.refCount||e||this.disposeBuffer(r[s],e)}if(!e)for(var a in i)if("g"===a[0]){var A=i[a];this._activeVao===A&&this.unbind(),n.deleteVertexArray(A)}delete t.glVertexArrayObjects[this.CONTEXT_UID]}}},e.prototype.disposeAll=function(t){for(var e=Object.keys(this.managedGeometries),i=0;i<e.length;i++)this.disposeGeometry(this.managedGeometries[e[i]],t);e=Object.keys(this.managedBuffers);for(var n=0;n<e.length;n++)this.disposeBuffer(this.managedBuffers[e[n]],t)},e.prototype.activateVao=function(t,e){var i=this.gl,n=this.CONTEXT_UID,r=t.buffers,s=t.attributes;t.indexBuffer&&i.bindBuffer(i.ELEMENT_ARRAY_BUFFER,t.indexBuffer._glBuffers[n].buffer);var o=null;for(var a in s){var A=s[a],l=r[A.buffer]._glBuffers[n];if(e.attributeData[a]){o!==l&&(i.bindBuffer(i.ARRAY_BUFFER,l.buffer),o=l);var u=e.attributeData[a].location;if(i.enableVertexAttribArray(u),i.vertexAttribPointer(u,A.size,A.type||i.FLOAT,A.normalized,A.stride,A.start),A.instance){if(!this.hasInstance)throw new Error("geometry error, GPU Instancing is not supported on this device");i.vertexAttribDivisor(u,1)}}}},e.prototype.draw=function(t,e,i,n){var r=this.gl,s=this._activeGeometry;if(s.indexBuffer){var o=s.indexBuffer.data.BYTES_PER_ELEMENT,a=2===o?r.UNSIGNED_SHORT:r.UNSIGNED_INT;2===o||4===o&&this.canUseUInt32ElementIndex?s.instanced?r.drawElementsInstanced(t,e||s.indexBuffer.data.length,a,(i||0)*o,n||1):r.drawElements(t,e||s.indexBuffer.data.length,a,(i||0)*o):console.warn("unsupported index buffer type: uint32")}else s.instanced?r.drawArraysInstanced(t,i,e||s.getSize(),n||1):r.drawArrays(t,i,e||s.getSize());return this},e.prototype.unbind=function(){this.gl.bindVertexArray(null),this._activeVao=null,this._activeGeometry=null},e}(ee),Te=function(t){this.type=k.NONE,this.autoDetect=!0,this.maskObject=t||null,this.pooled=!1,this.isMaskData=!0,this._stencilCounter=0,this._scissorCounter=0,this._scissorRect=null,this._target=null};function Ge(t,e,i,n){var r=Fe(t,t.VERTEX_SHADER,e),s=Fe(t,t.FRAGMENT_SHADER,i),o=t.createProgram();if(t.attachShader(o,r),t.attachShader(o,s),n)for(var a in n)t.bindAttribLocation(o,n[a],a);return t.linkProgram(o),t.getProgramParameter(o,t.LINK_STATUS)||(console.error("Pixi.js Error: Could not initialize shader."),console.error("gl.VALIDATE_STATUS",t.getProgramParameter(o,t.VALIDATE_STATUS)),console.error("gl.getError()",t.getError()),""!==t.getProgramInfoLog(o)&&console.warn("Pixi.js Warning: gl.getProgramInfoLog()",t.getProgramInfoLog(o)),t.deleteProgram(o),o=null),t.deleteShader(r),t.deleteShader(s),o}function Fe(t,e,i){var n=t.createShader(e);return t.shaderSource(n,i),t.compileShader(n),t.getShaderParameter(n,t.COMPILE_STATUS)?n:(console.warn(i),console.error(t.getShaderInfoLog(n)),null)}function Pe(t,e){switch(t){case"float":return 0;case"vec2":return new Float32Array(2*e);case"vec3":return new Float32Array(3*e);case"vec4":return new Float32Array(4*e);case"int":case"sampler2D":case"sampler2DArray":return 0;case"ivec2":return new Int32Array(2*e);case"ivec3":return new Int32Array(3*e);case"ivec4":return new Int32Array(4*e);case"bool":return!1;case"bvec2":return Ne(2*e);case"bvec3":return Ne(3*e);case"bvec4":return Ne(4*e);case"mat2":return new Float32Array([1,0,0,1]);case"mat3":return new Float32Array([1,0,0,0,1,0,0,0,1]);case"mat4":return new Float32Array([1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1])}return null}function Ne(t){for(var e=new Array(t),i=0;i<e.length;i++)e[i]=!1;return e}Te.prototype.reset=function(){this.pooled&&(this.maskObject=null,this.type=k.NONE,this.autoDetect=!0),this._target=null},Te.prototype.copyCountersOrReset=function(t){t?(this._stencilCounter=t._stencilCounter,this._scissorCounter=t._scissorCounter,this._scissorRect=t._scissorRect):(this._stencilCounter=0,this._scissorCounter=0,this._scissorRect=null)};var Le,Ue={},Oe=Ue;function Ye(){if(Oe===Ue||Oe&&Oe.isContextLost()){var t,e=document.createElement("canvas");R.PREFER_ENV>=d.WEBGL2&&(t=e.getContext("webgl2",{})),t||((t=e.getContext("webgl",{})||e.getContext("experimental-webgl",{}))?t.getExtension("WEBGL_draw_buffers"):t=null),Oe=t}return Oe}function He(t,e,i){if("precision"!==t.substring(0,9)){var n=e;return e===Q.HIGH&&i!==Q.HIGH&&(n=Q.MEDIUM),"precision "+n+" float;\n"+t}return i!==Q.HIGH&&"precision highp"===t.substring(0,15)?t.replace("precision highp","precision mediump"):t}var Je={float:1,vec2:2,vec3:3,vec4:4,int:1,ivec2:2,ivec3:3,ivec4:4,bool:1,bvec2:2,bvec3:3,bvec4:4,mat2:4,mat3:9,mat4:16,sampler2D:1};function je(t){return Je[t]}var Ke=null,qe={FLOAT:"float",FLOAT_VEC2:"vec2",FLOAT_VEC3:"vec3",FLOAT_VEC4:"vec4",INT:"int",INT_VEC2:"ivec2",INT_VEC3:"ivec3",INT_VEC4:"ivec4",BOOL:"bool",BOOL_VEC2:"bvec2",BOOL_VEC3:"bvec3",BOOL_VEC4:"bvec4",FLOAT_MAT2:"mat2",FLOAT_MAT3:"mat3",FLOAT_MAT4:"mat4",SAMPLER_2D:"sampler2D",SAMPLER_CUBE:"samplerCube",SAMPLER_2D_ARRAY:"sampler2DArray"};function ze(t,e){if(!Ke){var i=Object.keys(qe);Ke={};for(var n=0;n<i.length;++n){var r=i[n];Ke[t[r]]=qe[r]}}return Ke[e]}var Xe,We={float:"\n    if(cv !== v)\n    {\n        cv.v = v;\n        gl.uniform1f(location, v)\n    }",vec2:"\n    if(cv[0] !== v[0] || cv[1] !== v[1])\n    {\n        cv[0] = v[0];\n        cv[1] = v[1];\n        gl.uniform2f(location, v[0], v[1])\n    }",vec3:"\n    if(cv[0] !== v[0] || cv[1] !== v[1] || cv[2] !== v[2])\n    {\n        cv[0] = v[0];\n        cv[1] = v[1];\n        cv[2] = v[2];\n\n        gl.uniform3f(location, v[0], v[1], v[2])\n    }",vec4:"gl.uniform4f(location, v[0], v[1], v[2], v[3])",int:"gl.uniform1i(location, v)",ivec2:"gl.uniform2i(location, v[0], v[1])",ivec3:"gl.uniform3i(location, v[0], v[1], v[2])",ivec4:"gl.uniform4i(location, v[0], v[1], v[2], v[3])",bool:"gl.uniform1i(location, v)",bvec2:"gl.uniform2i(location, v[0], v[1])",bvec3:"gl.uniform3i(location, v[0], v[1], v[2])",bvec4:"gl.uniform4i(location, v[0], v[1], v[2], v[3])",mat2:"gl.uniformMatrix2fv(location, false, v)",mat3:"gl.uniformMatrix3fv(location, false, v)",mat4:"gl.uniformMatrix4fv(location, false, v)",sampler2D:"gl.uniform1i(location, v)",samplerCube:"gl.uniform1i(location, v)",sampler2DArray:"gl.uniform1i(location, v)"},Ze={float:"gl.uniform1fv(location, v)",vec2:"gl.uniform2fv(location, v)",vec3:"gl.uniform3fv(location, v)",vec4:"gl.uniform4fv(location, v)",mat4:"gl.uniformMatrix4fv(location, false, v)",mat3:"gl.uniformMatrix3fv(location, false, v)",mat2:"gl.uniformMatrix2fv(location, false, v)",int:"gl.uniform1iv(location, v)",ivec2:"gl.uniform2iv(location, v)",ivec3:"gl.uniform3iv(location, v)",ivec4:"gl.uniform4iv(location, v)",bool:"gl.uniform1iv(location, v)",bvec2:"gl.uniform2iv(location, v)",bvec3:"gl.uniform3iv(location, v)",bvec4:"gl.uniform4iv(location, v)",sampler2D:"gl.uniform1iv(location, v)",samplerCube:"gl.uniform1iv(location, v)",sampler2DArray:"gl.uniform1iv(location, v)"},$e=["precision mediump float;","void main(void){","float test = 0.1;","%forloop%","gl_FragColor = vec4(0.0);","}"].join("\n");function ti(t){for(var e="",i=0;i<t;++i)i>0&&(e+="\nelse "),i<t-1&&(e+="if(test == "+i+".0){}");return e}var ei=0,ii={},ni=function t(e,i,n){void 0===n&&(n="pixi-shader"),this.id=ei++,this.vertexSrc=e||t.defaultVertexSrc,this.fragmentSrc=i||t.defaultFragmentSrc,this.vertexSrc=this.vertexSrc.trim(),this.fragmentSrc=this.fragmentSrc.trim(),"#version"!==this.vertexSrc.substring(0,8)&&(n=n.replace(/\s+/g,"-"),ii[n]?(ii[n]++,n+="-"+ii[n]):ii[n]=1,this.vertexSrc="#define SHADER_NAME "+n+"\n"+this.vertexSrc,this.fragmentSrc="#define SHADER_NAME "+n+"\n"+this.fragmentSrc,this.vertexSrc=He(this.vertexSrc,R.PRECISION_VERTEX,Q.HIGH),this.fragmentSrc=He(this.fragmentSrc,R.PRECISION_FRAGMENT,function(){if(!Le){Le=Q.MEDIUM;var t=Ye();if(t&&t.getShaderPrecisionFormat){var e=t.getShaderPrecisionFormat(t.FRAGMENT_SHADER,t.HIGH_FLOAT);Le=e.precision?Q.HIGH:Q.MEDIUM}}return Le}())),this.extractData(this.vertexSrc,this.fragmentSrc),this.glPrograms={},this.syncUniforms=null},ri={defaultVertexSrc:{configurable:!0},defaultFragmentSrc:{configurable:!0}};ni.prototype.extractData=function(t,e){var i=Ye();if(i){var n=Ge(i,t,e);this.attributeData=this.getAttributeData(n,i),this.uniformData=this.getUniformData(n,i),i.deleteProgram(n)}else this.uniformData={},this.attributeData={}},ni.prototype.getAttributeData=function(t,e){for(var i={},n=[],r=e.getProgramParameter(t,e.ACTIVE_ATTRIBUTES),s=0;s<r;s++){var o=e.getActiveAttrib(t,s),a=ze(e,o.type),A={type:a,name:o.name,size:je(a),location:0};i[o.name]=A,n.push(A)}n.sort((function(t,e){return t.name>e.name?1:-1}));for(var l=0;l<n.length;l++)n[l].location=l;return i},ni.prototype.getUniformData=function(t,e){for(var i={},n=e.getProgramParameter(t,e.ACTIVE_UNIFORMS),r=0;r<n;r++){var s=e.getActiveUniform(t,r),o=s.name.replace(/\[.*?\]/,""),a=s.name.match(/\[.*?\]/,""),A=ze(e,s.type);i[o]={type:A,size:s.size,isArray:a,value:Pe(A,s.size)}}return i},ri.defaultVertexSrc.get=function(){return"attribute vec2 aVertexPosition;\nattribute vec2 aTextureCoord;\n\nuniform mat3 projectionMatrix;\n\nvarying vec2 vTextureCoord;\n\nvoid main(void){\n   gl_Position = vec4((projectionMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);\n   vTextureCoord = aTextureCoord;\n}\n"},ri.defaultFragmentSrc.get=function(){return"varying vec2 vTextureCoord;\n\nuniform sampler2D uSampler;\n\nvoid main(void){\n   gl_FragColor *= texture2D(uSampler, vTextureCoord);\n}"},ni.from=function(t,e,i){var n=t+e,r=it[n];return r||(it[n]=r=new ni(t,e,i)),r},Object.defineProperties(ni,ri);var si=function(t,e){for(var i in this.program=t,this.uniformGroup=e?e instanceof Ee?e:new Ee(e):new Ee({}),t.uniformData)this.uniformGroup.uniforms[i]instanceof Array&&(this.uniformGroup.uniforms[i]=new Float32Array(this.uniformGroup.uniforms[i]))},oi={uniforms:{configurable:!0}};si.prototype.checkUniformExists=function(t,e){if(e.uniforms[t])return!0;for(var i in e.uniforms){var n=e.uniforms[i];if(n.group&&this.checkUniformExists(t,n))return!0}return!1},si.prototype.destroy=function(){this.uniformGroup=null},oi.uniforms.get=function(){return this.uniformGroup.uniforms},si.from=function(t,e,i){var n=ni.from(t,e);return new si(n,i)},Object.defineProperties(si.prototype,oi);var ai=function(){this.data=0,this.blendMode=y.NORMAL,this.polygonOffset=0,this.blend=!0},Ai={blend:{configurable:!0},offsets:{configurable:!0},culling:{configurable:!0},depthTest:{configurable:!0},clockwiseFrontFace:{configurable:!0},blendMode:{configurable:!0},polygonOffset:{configurable:!0}};Ai.blend.get=function(){return!!(1&this.data)},Ai.blend.set=function(t){!!(1&this.data)!==t&&(this.data^=1)},Ai.offsets.get=function(){return!!(2&this.data)},Ai.offsets.set=function(t){!!(2&this.data)!==t&&(this.data^=2)},Ai.culling.get=function(){return!!(4&this.data)},Ai.culling.set=function(t){!!(4&this.data)!==t&&(this.data^=4)},Ai.depthTest.get=function(){return!!(8&this.data)},Ai.depthTest.set=function(t){!!(8&this.data)!==t&&(this.data^=8)},Ai.clockwiseFrontFace.get=function(){return!!(16&this.data)},Ai.clockwiseFrontFace.set=function(t){!!(16&this.data)!==t&&(this.data^=16)},Ai.blendMode.get=function(){return this._blendMode},Ai.blendMode.set=function(t){this.blend=t!==y.NONE,this._blendMode=t},Ai.polygonOffset.get=function(){return this._polygonOffset},Ai.polygonOffset.set=function(t){this.offsets=!!t,this._polygonOffset=t},ai.for2d=function(){var t=new ai;return t.depthTest=!1,t.blend=!0,t},Object.defineProperties(ai.prototype,Ai);var li=function(t){function e(i,n,r){var s=ni.from(i||e.defaultVertexSrc,n||e.defaultFragmentSrc);t.call(this,s,r),this.padding=0,this.resolution=R.FILTER_RESOLUTION,this.enabled=!0,this.autoFit=!0,this.legacy=!!this.program.attributeData.aTextureCoord,this.state=new ai}t&&(e.__proto__=t),(e.prototype=Object.create(t&&t.prototype)).constructor=e;var i={blendMode:{configurable:!0}},n={defaultVertexSrc:{configurable:!0},defaultFragmentSrc:{configurable:!0}};return e.prototype.apply=function(t,e,i,n,r){t.applyFilter(this,e,i,n,r)},i.blendMode.get=function(){return this.state.blendMode},i.blendMode.set=function(t){this.state.blendMode=t},n.defaultVertexSrc.get=function(){return"attribute vec2 aVertexPosition;\n\nuniform mat3 projectionMatrix;\n\nvarying vec2 vTextureCoord;\n\nuniform vec4 inputSize;\nuniform vec4 outputFrame;\n\nvec4 filterVertexPosition( void )\n{\n    vec2 position = aVertexPosition * max(outputFrame.zw, vec2(0.)) + outputFrame.xy;\n\n    return vec4((projectionMatrix * vec3(position, 1.0)).xy, 0.0, 1.0);\n}\n\nvec2 filterTextureCoord( void )\n{\n    return aVertexPosition * (outputFrame.zw * inputSize.zw);\n}\n\nvoid main(void)\n{\n    gl_Position = filterVertexPosition();\n    vTextureCoord = filterTextureCoord();\n}\n"},n.defaultFragmentSrc.get=function(){return"varying vec2 vTextureCoord;\n\nuniform sampler2D uSampler;\n\nvoid main(void){\n   gl_FragColor = texture2D(uSampler, vTextureCoord);\n}\n"},Object.defineProperties(e.prototype,i),Object.defineProperties(e,n),e}(si);li.SOURCE_KEY_MAP={};var ui="attribute vec2 aVertexPosition;\nattribute vec2 aTextureCoord;\n\nuniform mat3 projectionMatrix;\nuniform mat3 otherMatrix;\n\nvarying vec2 vMaskCoord;\nvarying vec2 vTextureCoord;\n\nvoid main(void)\n{\n    gl_Position = vec4((projectionMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);\n\n    vTextureCoord = aTextureCoord;\n    vMaskCoord = ( otherMatrix * vec3( aTextureCoord, 1.0)  ).xy;\n}\n",hi="varying vec2 vMaskCoord;\nvarying vec2 vTextureCoord;\n\nuniform sampler2D uSampler;\nuniform sampler2D mask;\nuniform float alpha;\nuniform float npmAlpha;\nuniform vec4 maskClamp;\n\nvoid main(void)\n{\n    float clip = step(3.5,\n        step(maskClamp.x, vMaskCoord.x) +\n        step(maskClamp.y, vMaskCoord.y) +\n        step(vMaskCoord.x, maskClamp.z) +\n        step(vMaskCoord.y, maskClamp.w));\n\n    vec4 original = texture2D(uSampler, vTextureCoord);\n    vec4 masky = texture2D(mask, vMaskCoord);\n    float alphaMul = 1.0 - npmAlpha * (1.0 - masky.a);\n\n    original *= (alphaMul * masky.r * alpha * clip);\n\n    gl_FragColor = original;\n}\n",ci=new gt,fi=function(t,e){this._texture=t,this.mapCoord=new gt,this.uClampFrame=new Float32Array(4),this.uClampOffset=new Float32Array(2),this._updateID=-1,this.clampOffset=0,this.clampMargin=void 0===e?.5:e,this.isSimple=!1},mi={texture:{configurable:!0}};mi.texture.get=function(){return this._texture},mi.texture.set=function(t){this._texture=t,this._updateID=-1},fi.prototype.multiplyUvs=function(t,e){void 0===e&&(e=t);for(var i=this.mapCoord,n=0;n<t.length;n+=2){var r=t[n],s=t[n+1];e[n]=r*i.a+s*i.c+i.tx,e[n+1]=r*i.b+s*i.d+i.ty}return e},fi.prototype.update=function(t){var e=this._texture;if(!e||!e.valid)return!1;if(!t&&this._updateID===e._updateID)return!1;this._updateID=e._updateID;var i=e._uvs;this.mapCoord.set(i.x1-i.x0,i.y1-i.y0,i.x3-i.x0,i.y3-i.y0,i.x0,i.y0);var n=e.orig,r=e.trim;r&&(ci.set(n.width/r.width,0,0,n.height/r.height,-r.x/r.width,-r.y/r.height),this.mapCoord.append(ci));var s=e.baseTexture,o=this.uClampFrame,a=this.clampMargin/s.resolution,A=this.clampOffset;return o[0]=(e._frame.x+a+A)/s.width,o[1]=(e._frame.y+a+A)/s.height,o[2]=(e._frame.x+e._frame.width-a+A)/s.width,o[3]=(e._frame.y+e._frame.height-a+A)/s.height,this.uClampOffset[0]=A/s.realWidth,this.uClampOffset[1]=A/s.realHeight,this.isSimple=e._frame.width===s.width&&e._frame.height===s.height&&0===e.rotate,!0},Object.defineProperties(fi.prototype,mi);var _i=function(t){function e(e){var i=new gt;t.call(this,ui,hi),e.renderable=!1,this.maskSprite=e,this.maskMatrix=i}return t&&(e.__proto__=t),(e.prototype=Object.create(t&&t.prototype)).constructor=e,e.prototype.apply=function(t,e,i,n){var r=this.maskSprite,s=this.maskSprite.texture;s.valid&&(s.transform||(s.transform=new fi(s,0)),s.transform.update(),this.uniforms.npmAlpha=s.baseTexture.alphaMode?0:1,this.uniforms.mask=s,this.uniforms.otherMatrix=t.calculateSpriteMatrix(this.maskMatrix,r).prepend(s.transform.mapCoord),this.uniforms.alpha=r.worldAlpha,this.uniforms.maskClamp=s.transform.uClampFrame,t.applyFilter(this,e,i,n))},e}(li),gi=function(t){function e(e){t.call(this,e),this.scissorRenderTarget=null,this.enableScissor=!1,this.alphaMaskPool=[],this.maskDataPool=[],this.maskStack=[],this.alphaMaskIndex=0}return t&&(e.__proto__=t),(e.prototype=Object.create(t&&t.prototype)).constructor=e,e.prototype.setMaskStack=function(t){this.maskStack=t,this.renderer.scissor.setMaskStack(t),this.renderer.stencil.setMaskStack(t)},e.prototype.push=function(t,e){if(!e.isMaskData){var i=this.maskDataPool.pop()||new Te;i.pooled=!0,i.maskObject=e,e=i}switch(e.autoDetect&&this.detect(e),e.copyCountersOrReset(this.maskStack[this.maskStack.length-1]),e._target=t,e.type){case k.SCISSOR:this.maskStack.push(e),this.renderer.scissor.push(e);break;case k.STENCIL:this.maskStack.push(e),this.renderer.stencil.push(e);break;case k.SPRITE:e.copyCountersOrReset(null),this.pushSpriteMask(e),this.maskStack.push(e)}},e.prototype.pop=function(t){var e=this.maskStack.pop();if(e&&e._target===t){switch(e.type){case k.SCISSOR:this.renderer.scissor.pop();break;case k.STENCIL:this.renderer.stencil.pop(e.maskObject);break;case k.SPRITE:this.popSpriteMask()}e.reset(),e.pooled&&this.maskDataPool.push(e)}},e.prototype.detect=function(t){var e=t.maskObject;if(e.isSprite)t.type=k.SPRITE;else if(t.type=k.STENCIL,this.enableScissor&&e.isFastRect&&e.isFastRect()){var i=e.worldTransform,n=Math.atan2(i.b,i.a),r=Math.atan2(i.d,i.c);n=Math.round(n*(180/Math.PI)*100),r=((r=Math.round(r*(180/Math.PI)*100)-n)%18e3+18e3)%18e3,0==(n=(n%9e3+9e3)%9e3)&&9e3===r&&(t.type=k.SCISSOR)}},e.prototype.pushSpriteMask=function(t){var e=t.maskObject,i=t._target,n=this.alphaMaskPool[this.alphaMaskIndex];n||(n=this.alphaMaskPool[this.alphaMaskIndex]=[new _i(e)]),n[0].resolution=this.renderer.resolution,n[0].maskSprite=e;var r=i.filterArea;i.filterArea=e.getBounds(!0),this.renderer.filter.push(i,n),i.filterArea=r,this.alphaMaskIndex++},e.prototype.popSpriteMask=function(){this.renderer.filter.pop(),this.alphaMaskIndex--},e}(ee),di=function(t){function e(e){t.call(this,e),this.maskStack=[],this.glConst=0}return t&&(e.__proto__=t),(e.prototype=Object.create(t&&t.prototype)).constructor=e,e.prototype.getStackLength=function(){return this.maskStack.length},e.prototype.setMaskStack=function(t){var e=this.renderer.gl,i=this.getStackLength();this.maskStack=t;var n=this.getStackLength();n!==i&&(0===n?e.disable(this.glConst):(e.enable(this.glConst),this._useCurrent()))},e.prototype._useCurrent=function(){},e.prototype.destroy=function(){t.prototype.destroy.call(this,this),this.maskStack=null},e}(ee),pi=function(t){function e(e){t.call(this,e),this.glConst=WebGLRenderingContext.SCISSOR_TEST}return t&&(e.__proto__=t),(e.prototype=Object.create(t&&t.prototype)).constructor=e,e.prototype.getStackLength=function(){var t=this.maskStack[this.maskStack.length-1];return t?t._scissorCounter:0},e.prototype.push=function(t){var e=t.maskObject;e.renderable=!0;var i=t._scissorRect,n=e.getBounds(!0),r=this.renderer.gl;e.renderable=!1,i?n.fit(i):r.enable(r.SCISSOR_TEST),t._scissorCounter++,t._scissorRect=n,this._useCurrent()},e.prototype.pop=function(){var t=this.renderer.gl;this.getStackLength()>0?this._useCurrent():t.disable(t.SCISSOR_TEST)},e.prototype._useCurrent=function(){var t=this.maskStack[this.maskStack.length-1]._scissorRect,e=this.renderer.renderTexture.current,i=this.renderer.projection,n=i.transform,r=i.sourceFrame,s=i.destinationFrame,o=e?e.resolution:this.renderer.resolution,a=(t.x-r.x)*o+s.x,A=(t.y-r.y)*o+s.y,l=t.height*o;n&&(a+=n.tx*o,A+=n.ty*o),e||(A=this.renderer.height-l-A),this.renderer.gl.scissor(a,A,t.width*o,l)},e}(di),yi=function(t){function e(e){t.call(this,e),this.glConst=WebGLRenderingContext.STENCIL_TEST}return t&&(e.__proto__=t),(e.prototype=Object.create(t&&t.prototype)).constructor=e,e.prototype.getStackLength=function(){var t=this.maskStack[this.maskStack.length-1];return t?t._stencilCounter:0},e.prototype.push=function(t){var e=t.maskObject,i=this.renderer.gl,n=t._stencilCounter;0===n&&(this.renderer.framebuffer.forceStencil(),i.enable(i.STENCIL_TEST)),t._stencilCounter++,i.colorMask(!1,!1,!1,!1),i.stencilFunc(i.EQUAL,n,this._getBitwiseMask()),i.stencilOp(i.KEEP,i.KEEP,i.INCR),e.renderable=!0,e.render(this.renderer),this.renderer.batch.flush(),e.renderable=!1,this._useCurrent()},e.prototype.pop=function(t){var e=this.renderer.gl;0===this.getStackLength()?(e.disable(e.STENCIL_TEST),e.clear(e.STENCIL_BUFFER_BIT),e.clearStencil(0)):(e.colorMask(!1,!1,!1,!1),e.stencilOp(e.KEEP,e.KEEP,e.DECR),t.renderable=!0,t.render(this.renderer),this.renderer.batch.flush(),t.renderable=!1,this._useCurrent())},e.prototype._useCurrent=function(){var t=this.renderer.gl;t.colorMask(!0,!0,!0,!0),t.stencilFunc(t.EQUAL,this.getStackLength(),this._getBitwiseMask()),t.stencilOp(t.KEEP,t.KEEP,t.KEEP)},e.prototype._getBitwiseMask=function(){return(1<<this.getStackLength())-1},e}(di),Ci=function(t){function e(e){t.call(this,e),this.destinationFrame=null,this.sourceFrame=null,this.defaultFrame=null,this.projectionMatrix=new gt,this.transform=null}return t&&(e.__proto__=t),(e.prototype=Object.create(t&&t.prototype)).constructor=e,e.prototype.update=function(t,e,i,n){this.destinationFrame=t||this.destinationFrame||this.defaultFrame,this.sourceFrame=e||this.sourceFrame||t,this.calculateProjection(this.destinationFrame,this.sourceFrame,i,n),this.transform&&this.projectionMatrix.append(this.transform);var r=this.renderer;r.globalUniforms.uniforms.projectionMatrix=this.projectionMatrix,r.globalUniforms.update(),r.shader.shader&&r.shader.syncUniformGroup(r.shader.shader.uniforms.globals)},e.prototype.calculateProjection=function(t,e,i,n){var r=this.projectionMatrix;n?(r.a=1/t.width*2*i,r.d=-1/t.height*2*i,r.tx=-1-e.x*r.a,r.ty=1-e.y*r.d):(r.a=1/t.width*2*i,r.d=1/t.height*2*i,r.tx=-1-e.x*r.a,r.ty=-1-e.y*r.d)},e.prototype.setTransform=function(){},e}(ee),vi=new bt,Ii=function(t){function e(e){t.call(this,e),this.clearColor=e._backgroundColorRgba,this.defaultMaskStack=[],this.current=null,this.sourceFrame=new bt,this.destinationFrame=new bt}return t&&(e.__proto__=t),(e.prototype=Object.create(t&&t.prototype)).constructor=e,e.prototype.bind=function(t,e,i){void 0===t&&(t=null),this.current=t;var n,r=this.renderer;if(t){var s=t.baseTexture;n=s.resolution,i||(vi.width=s.realWidth,vi.height=s.realHeight,i=vi),e||(e=i),this.renderer.framebuffer.bind(s.framebuffer,i),this.renderer.projection.update(i,e,n,!1),this.renderer.mask.setMaskStack(s.maskStack)}else n=this.renderer.resolution,i||(vi.width=r.width,vi.height=r.height,i=vi),e||(e=i),r.framebuffer.bind(null,i),this.renderer.projection.update(i,e,n,!0),this.renderer.mask.setMaskStack(this.defaultMaskStack);this.sourceFrame.copyFrom(e),this.destinationFrame.x=i.x/n,this.destinationFrame.y=i.y/n,this.destinationFrame.width=i.width/n,this.destinationFrame.height=i.height/n,e===i&&this.sourceFrame.copyFrom(this.destinationFrame)},e.prototype.clear=function(t){this.renderer.framebuffer.clear((t=this.current?t||this.current.baseTexture.clearColor:t||this.clearColor)[0],t[1],t[2],t[3])},e.prototype.resize=function(){this.bind(null)},e.prototype.reset=function(){this.bind(null)},e}(ee),Bi=function(t,e){this.program=t,this.uniformData=e,this.uniformGroups={}};Bi.prototype.destroy=function(){this.uniformData=null,this.uniformGroups=null,this.program=null};var Ei=0,wi=function(t){function e(e){t.call(this,e),this.systemCheck(),this.gl=null,this.shader=null,this.program=null,this.cache={},this.id=Ei++}return t&&(e.__proto__=t),(e.prototype=Object.create(t&&t.prototype)).constructor=e,e.prototype.systemCheck=function(){if(!function(){if("boolean"==typeof Xe)return Xe;try{var t=new Function("param1","param2","param3","return param1[param2] === param3;");Xe=!0===t({a:"b"},"a","b")}catch(e){Xe=!1}return Xe}())throw new Error("Current environment does not allow unsafe-eval, please use @pixi/unsafe-eval module to enable support.")},e.prototype.contextChange=function(t){this.gl=t,this.reset()},e.prototype.bind=function(t,e){t.uniforms.globals=this.renderer.globalUniforms;var i=t.program,n=i.glPrograms[this.renderer.CONTEXT_UID]||this.generateShader(t);return this.shader=t,this.program!==i&&(this.program=i,this.gl.useProgram(n.program)),e||this.syncUniformGroup(t.uniformGroup),n},e.prototype.setUniforms=function(t){var e=this.shader.program;e.syncUniforms(e.glPrograms[this.renderer.CONTEXT_UID].uniformData,t,this.renderer)},e.prototype.syncUniformGroup=function(t){var e=this.getglProgram();t.static&&t.dirtyId===e.uniformGroups[t.id]||(e.uniformGroups[t.id]=t.dirtyId,this.syncUniforms(t,e))},e.prototype.syncUniforms=function(t,e){(t.syncUniforms[this.shader.program.id]||this.createSyncGroups(t))(e.uniformData,t.uniforms,this.renderer)},e.prototype.createSyncGroups=function(t){var e=this.getSignature(t,this.shader.program.uniformData);return this.cache[e]||(this.cache[e]=function(t,e){var i=0,n="var v = null;\n    var cv = null\n    var gl = renderer.gl";for(var r in t.uniforms){var s=e[r];s?"float"===s.type&&1===s.size?n+="\n            if(uv."+r+" !== ud."+r+".value)\n            {\n                ud."+r+".value = uv."+r+"\n                gl.uniform1f(ud."+r+".location, uv."+r+")\n            }\n":"sampler2D"!==s.type&&"samplerCube"!==s.type&&"sampler2DArray"!==s.type||1!==s.size||s.isArray?n+="mat3"===s.type&&1===s.size?void 0!==t.uniforms[r].a?"\n                gl.uniformMatrix3fv(ud."+r+".location, false, uv."+r+".toArray(true));\n                \n":"\n                gl.uniformMatrix3fv(ud."+r+".location, false, uv."+r+");\n                \n":"vec2"===s.type&&1===s.size?void 0!==t.uniforms[r].x?"\n                cv = ud."+r+".value;\n                v = uv."+r+";\n\n                if(cv[0] !== v.x || cv[1] !== v.y)\n                {\n                    cv[0] = v.x;\n                    cv[1] = v.y;\n                    gl.uniform2f(ud."+r+".location, v.x, v.y);\n                }\n":"\n                cv = ud."+r+".value;\n                v = uv."+r+";\n\n                if(cv[0] !== v[0] || cv[1] !== v[1])\n                {\n                    cv[0] = v[0];\n                    cv[1] = v[1];\n                    gl.uniform2f(ud."+r+".location, v[0], v[1]);\n                }\n                \n":"vec4"===s.type&&1===s.size?void 0!==t.uniforms[r].width?"\n                cv = ud."+r+".value;\n                v = uv."+r+";\n\n                if(cv[0] !== v.x || cv[1] !== v.y || cv[2] !== v.width || cv[3] !== v.height)\n                {\n                    cv[0] = v.x;\n                    cv[1] = v.y;\n                    cv[2] = v.width;\n                    cv[3] = v.height;\n                    gl.uniform4f(ud."+r+".location, v.x, v.y, v.width, v.height)\n                }\n":"\n                cv = ud."+r+".value;\n                v = uv."+r+";\n\n                if(cv[0] !== v[0] || cv[1] !== v[1] || cv[2] !== v[2] || cv[3] !== v[3])\n                {\n                    cv[0] = v[0];\n                    cv[1] = v[1];\n                    cv[2] = v[2];\n                    cv[3] = v[3];\n\n                    gl.uniform4f(ud."+r+".location, v[0], v[1], v[2], v[3])\n                }\n                \n":"\n            cv = ud."+r+".value;\n            v = uv."+r+";\n            "+(1===s.size?We:Ze)[s.type].replace("location","ud."+r+".location")+";\n":(n+="\n            renderer.texture.bind(uv."+r+", "+i+");\n\n            if(ud."+r+".value !== "+i+")\n            {\n                ud."+r+".value = "+i+";\n                gl.uniform1i(ud."+r+".location, "+i+");\n; // eslint-disable-line max-len\n            }\n",i++):t.uniforms[r].group&&(n+="\n                    renderer.shader.syncUniformGroup(uv."+r+");\n                ")}return new Function("ud","uv","renderer",n)}(t,this.shader.program.uniformData)),t.syncUniforms[this.shader.program.id]=this.cache[e],t.syncUniforms[this.shader.program.id]},e.prototype.getSignature=function(t,e){var i=t.uniforms,n=[];for(var r in i)n.push(r),e[r]&&n.push(e[r].type);return n.join("-")},e.prototype.getglProgram=function(){return this.shader?this.shader.program.glPrograms[this.renderer.CONTEXT_UID]:null},e.prototype.generateShader=function(t){var e=this.gl,i=t.program,n={};for(var r in i.attributeData)n[r]=i.attributeData[r].location;var s=Ge(e,i.vertexSrc,i.fragmentSrc,n),o={};for(var a in i.uniformData){var A=i.uniformData[a];o[a]={location:e.getUniformLocation(s,a),value:Pe(A.type,A.size)}}var l=new Bi(s,o);return i.glPrograms[this.renderer.CONTEXT_UID]=l,l},e.prototype.reset=function(){this.program=null,this.shader=null},e.prototype.destroy=function(){this.destroyed=!0},e}(ee),bi=0,xi=1,Si=2,Qi=3,ki=4,Di=function(t){function e(e){t.call(this,e),this.gl=null,this.stateId=0,this.polygonOffset=0,this.blendMode=y.NONE,this._blendEq=!1,this.map=[],this.map[bi]=this.setBlend,this.map[xi]=this.setOffset,this.map[Si]=this.setCullFace,this.map[Qi]=this.setDepthTest,this.map[ki]=this.setFrontFace,this.checks=[],this.defaultState=new ai,this.defaultState.blend=!0,this.defaultState.depth=!0}return t&&(e.__proto__=t),(e.prototype=Object.create(t&&t.prototype)).constructor=e,e.prototype.contextChange=function(t){this.gl=t,this.blendModes=function(t,e){return void 0===e&&(e=[]),e[y.NORMAL]=[t.ONE,t.ONE_MINUS_SRC_ALPHA],e[y.ADD]=[t.ONE,t.ONE],e[y.MULTIPLY]=[t.DST_COLOR,t.ONE_MINUS_SRC_ALPHA,t.ONE,t.ONE_MINUS_SRC_ALPHA],e[y.SCREEN]=[t.ONE,t.ONE_MINUS_SRC_COLOR,t.ONE,t.ONE_MINUS_SRC_ALPHA],e[y.OVERLAY]=[t.ONE,t.ONE_MINUS_SRC_ALPHA],e[y.DARKEN]=[t.ONE,t.ONE_MINUS_SRC_ALPHA],e[y.LIGHTEN]=[t.ONE,t.ONE_MINUS_SRC_ALPHA],e[y.COLOR_DODGE]=[t.ONE,t.ONE_MINUS_SRC_ALPHA],e[y.COLOR_BURN]=[t.ONE,t.ONE_MINUS_SRC_ALPHA],e[y.HARD_LIGHT]=[t.ONE,t.ONE_MINUS_SRC_ALPHA],e[y.SOFT_LIGHT]=[t.ONE,t.ONE_MINUS_SRC_ALPHA],e[y.DIFFERENCE]=[t.ONE,t.ONE_MINUS_SRC_ALPHA],e[y.EXCLUSION]=[t.ONE,t.ONE_MINUS_SRC_ALPHA],e[y.HUE]=[t.ONE,t.ONE_MINUS_SRC_ALPHA],e[y.SATURATION]=[t.ONE,t.ONE_MINUS_SRC_ALPHA],e[y.COLOR]=[t.ONE,t.ONE_MINUS_SRC_ALPHA],e[y.LUMINOSITY]=[t.ONE,t.ONE_MINUS_SRC_ALPHA],e[y.NONE]=[0,0],e[y.NORMAL_NPM]=[t.SRC_ALPHA,t.ONE_MINUS_SRC_ALPHA,t.ONE,t.ONE_MINUS_SRC_ALPHA],e[y.ADD_NPM]=[t.SRC_ALPHA,t.ONE,t.ONE,t.ONE],e[y.SCREEN_NPM]=[t.SRC_ALPHA,t.ONE_MINUS_SRC_COLOR,t.ONE,t.ONE_MINUS_SRC_ALPHA],e[y.SRC_IN]=[t.DST_ALPHA,t.ZERO],e[y.SRC_OUT]=[t.ONE_MINUS_DST_ALPHA,t.ZERO],e[y.SRC_ATOP]=[t.DST_ALPHA,t.ONE_MINUS_SRC_ALPHA],e[y.DST_OVER]=[t.ONE_MINUS_DST_ALPHA,t.ONE],e[y.DST_IN]=[t.ZERO,t.SRC_ALPHA],e[y.DST_OUT]=[t.ZERO,t.ONE_MINUS_SRC_ALPHA],e[y.DST_ATOP]=[t.ONE_MINUS_DST_ALPHA,t.SRC_ALPHA],e[y.XOR]=[t.ONE_MINUS_DST_ALPHA,t.ONE_MINUS_SRC_ALPHA],e[y.SUBTRACT]=[t.ONE,t.ONE,t.ONE,t.ONE,t.FUNC_REVERSE_SUBTRACT,t.FUNC_ADD],e}(t),this.set(this.defaultState),this.reset()},e.prototype.set=function(t){if(this.stateId!==(t=t||this.defaultState).data){for(var e=this.stateId^t.data,i=0;e;)1&e&&this.map[i].call(this,!!(t.data&1<<i)),e>>=1,i++;this.stateId=t.data}for(var n=0;n<this.checks.length;n++)this.checks[n](this,t)},e.prototype.forceState=function(t){t=t||this.defaultState;for(var e=0;e<this.map.length;e++)this.map[e].call(this,!!(t.data&1<<e));for(var i=0;i<this.checks.length;i++)this.checks[i](this,t);this.stateId=t.data},e.prototype.setBlend=function(t){this.updateCheck(e.checkBlendMode,t),this.gl[t?"enable":"disable"](this.gl.BLEND)},e.prototype.setOffset=function(t){this.updateCheck(e.checkPolygonOffset,t),this.gl[t?"enable":"disable"](this.gl.POLYGON_OFFSET_FILL)},e.prototype.setDepthTest=function(t){this.gl[t?"enable":"disable"](this.gl.DEPTH_TEST)},e.prototype.setCullFace=function(t){this.gl[t?"enable":"disable"](this.gl.CULL_FACE)},e.prototype.setFrontFace=function(t){this.gl.frontFace(this.gl[t?"CW":"CCW"])},e.prototype.setBlendMode=function(t){if(t!==this.blendMode){this.blendMode=t;var e=this.blendModes[t],i=this.gl;2===e.length?i.blendFunc(e[0],e[1]):i.blendFuncSeparate(e[0],e[1],e[2],e[3]),6===e.length?(this._blendEq=!0,i.blendEquationSeparate(e[4],e[5])):this._blendEq&&(this._blendEq=!1,i.blendEquationSeparate(i.FUNC_ADD,i.FUNC_ADD))}},e.prototype.setPolygonOffset=function(t,e){this.gl.polygonOffset(t,e)},e.prototype.reset=function(){this.gl.pixelStorei(this.gl.UNPACK_FLIP_Y_WEBGL,!1),this.forceState(0),this._blendEq=!0,this.blendMode=-1,this.setBlendMode(0)},e.prototype.updateCheck=function(t,e){var i=this.checks.indexOf(t);e&&-1===i?this.checks.push(t):e||-1===i||this.checks.splice(i,1)},e.checkBlendMode=function(t,e){t.setBlendMode(e.blendMode)},e.checkPolygonOffset=function(t,e){t.setPolygonOffset(e.polygonOffset,0)},e}(ee),Mi=function(t){function e(e){t.call(this,e),this.count=0,this.checkCount=0,this.maxIdle=R.GC_MAX_IDLE,this.checkCountMax=R.GC_MAX_CHECK_COUNT,this.mode=R.GC_MODE}return t&&(e.__proto__=t),(e.prototype=Object.create(t&&t.prototype)).constructor=e,e.prototype.postrender=function(){this.renderer.renderingToScreen&&(this.count++,this.mode!==S.MANUAL&&(this.checkCount++,this.checkCount>this.checkCountMax&&(this.checkCount=0,this.run())))},e.prototype.run=function(){for(var t=this.renderer.texture,e=t.managedTextures,i=!1,n=0;n<e.length;n++){var r=e[n];!r.framebuffer&&this.count-r.touched>this.maxIdle&&(t.destroyTexture(r,!0),e[n]=null,i=!0)}if(i){for(var s=0,o=0;o<e.length;o++)null!==e[o]&&(e[s++]=e[o]);e.length=s}},e.prototype.unload=function(t){t._texture&&t._texture._glRenderTargets&&this.renderer.textureSystem.destroyTexture(t._texture);for(var e=t.children.length-1;e>=0;e--)this.unload(t.children[e])},e}(ee),Ri=function(t){this.texture=t,this.width=-1,this.height=-1,this.dirtyId=-1,this.dirtyStyleId=-1,this.mipmap=!1,this.wrapMode=33071,this.type=6408,this.internalFormat=5121},Vi=function(t){function e(e){t.call(this,e),this.boundTextures=[],this.currentLocation=-1,this.managedTextures=[],this._unknownBoundTextures=!1,this.unknownTexture=new zt}return t&&(e.__proto__=t),(e.prototype=Object.create(t&&t.prototype)).constructor=e,e.prototype.contextChange=function(){var t=this.gl=this.renderer.gl;this.CONTEXT_UID=this.renderer.CONTEXT_UID,this.webGLVersion=this.renderer.context.webGLVersion;var e=t.getParameter(t.MAX_TEXTURE_IMAGE_UNITS);this.boundTextures.length=e;for(var i=0;i<e;i++)this.boundTextures[i]=null;this.emptyTextures={};var n=new Ri(t.createTexture());t.bindTexture(t.TEXTURE_2D,n.texture),t.texImage2D(t.TEXTURE_2D,0,t.RGBA,1,1,0,t.RGBA,t.UNSIGNED_BYTE,new Uint8Array(4)),this.emptyTextures[t.TEXTURE_2D]=n,this.emptyTextures[t.TEXTURE_CUBE_MAP]=new Ri(t.createTexture()),t.bindTexture(t.TEXTURE_CUBE_MAP,this.emptyTextures[t.TEXTURE_CUBE_MAP].texture);for(var r=0;r<6;r++)t.texImage2D(t.TEXTURE_CUBE_MAP_POSITIVE_X+r,0,t.RGBA,1,1,0,t.RGBA,t.UNSIGNED_BYTE,null);t.texParameteri(t.TEXTURE_CUBE_MAP,t.TEXTURE_MAG_FILTER,t.LINEAR),t.texParameteri(t.TEXTURE_CUBE_MAP,t.TEXTURE_MIN_FILTER,t.LINEAR);for(var s=0;s<this.boundTextures.length;s++)this.bind(null,s)},e.prototype.bind=function(t,e){void 0===e&&(e=0);var i=this.gl;if(t){if((t=t.baseTexture||t).valid){t.touched=this.renderer.textureGC.count;var n=t._glTextures[this.CONTEXT_UID]||this.initTexture(t);this.boundTextures[e]!==t&&(this.currentLocation!==e&&(this.currentLocation=e,i.activeTexture(i.TEXTURE0+e)),i.bindTexture(t.target,n.texture)),n.dirtyId!==t.dirtyId&&(this.currentLocation!==e&&(this.currentLocation=e,i.activeTexture(i.TEXTURE0+e)),this.updateTexture(t)),this.boundTextures[e]=t}}else this.currentLocation!==e&&(this.currentLocation=e,i.activeTexture(i.TEXTURE0+e)),i.bindTexture(i.TEXTURE_2D,this.emptyTextures[i.TEXTURE_2D].texture),this.boundTextures[e]=null},e.prototype.reset=function(){this._unknownBoundTextures=!0,this.currentLocation=-1;for(var t=0;t<this.boundTextures.length;t++)this.boundTextures[t]=this.unknownTexture},e.prototype.unbind=function(t){var e=this.gl,i=this.boundTextures;if(this._unknownBoundTextures){this._unknownBoundTextures=!1;for(var n=0;n<i.length;n++)i[n]===this.unknownTexture&&this.bind(null,n)}for(var r=0;r<i.length;r++)i[r]===t&&(this.currentLocation!==r&&(e.activeTexture(e.TEXTURE0+r),this.currentLocation=r),e.bindTexture(e.TEXTURE_2D,this.emptyTextures[t.target].texture),i[r]=null)},e.prototype.initTexture=function(t){var e=new Ri(this.gl.createTexture());return e.dirtyId=-1,t._glTextures[this.CONTEXT_UID]=e,this.managedTextures.push(t),t.on("dispose",this.destroyTexture,this),e},e.prototype.initTextureType=function(t,e){if(e.internalFormat=t.format,e.type=t.type,2===this.webGLVersion){var i=this.renderer.gl;t.type===i.FLOAT&&t.format===i.RGBA&&(e.internalFormat=i.RGBA32F),t.type===B.HALF_FLOAT&&(e.type=i.HALF_FLOAT),e.type===i.HALF_FLOAT&&t.format===i.RGBA&&(e.internalFormat=i.RGBA16F)}},e.prototype.updateTexture=function(t){var e=t._glTextures[this.CONTEXT_UID];if(e){var i=this.renderer;if(this.initTextureType(t,e),t.resource&&t.resource.upload(i,t,e));else{var n=t.realWidth,r=t.realHeight,s=i.gl;(e.width!==n||e.height!==r||e.dirtyId<0)&&(e.width=n,e.height=r,s.texImage2D(t.target,0,e.internalFormat,n,r,0,t.format,e.type,null))}t.dirtyStyleId!==e.dirtyStyleId&&this.updateTextureStyle(t),e.dirtyId=t.dirtyId}},e.prototype.destroyTexture=function(t,e){var i=this.gl;if((t=t.baseTexture||t)._glTextures[this.CONTEXT_UID]&&(this.unbind(t),i.deleteTexture(t._glTextures[this.CONTEXT_UID].texture),t.off("dispose",this.destroyTexture,this),delete t._glTextures[this.CONTEXT_UID],!e)){var n=this.managedTextures.indexOf(t);-1!==n&&q(this.managedTextures,n,1)}},e.prototype.updateTextureStyle=function(t){var e=t._glTextures[this.CONTEXT_UID];e&&(e.mipmap=t.mipmap!==b.POW2&&2===this.webGLVersion||t.isPowerOfTwo?t.mipmap>=1:0,e.wrapMode=2===this.webGLVersion||t.isPowerOfTwo?t.wrapMode:w.CLAMP,t.resource&&t.resource.style(this.renderer,t,e)||this.setStyle(t,e),e.dirtyStyleId=t.dirtyStyleId)},e.prototype.setStyle=function(t,e){var i=this.gl;if(e.mipmap&&i.generateMipmap(t.target),i.texParameteri(t.target,i.TEXTURE_WRAP_S,e.wrapMode),i.texParameteri(t.target,i.TEXTURE_WRAP_T,e.wrapMode),e.mipmap){i.texParameteri(t.target,i.TEXTURE_MIN_FILTER,t.scaleMode?i.LINEAR_MIPMAP_LINEAR:i.NEAREST_MIPMAP_NEAREST);var n=this.renderer.context.extensions.anisotropicFiltering;if(n&&t.anisotropicLevel>0&&t.scaleMode===E.LINEAR){var r=Math.min(t.anisotropicLevel,i.getParameter(n.MAX_TEXTURE_MAX_ANISOTROPY_EXT));i.texParameterf(t.target,n.TEXTURE_MAX_ANISOTROPY_EXT,r)}}else i.texParameteri(t.target,i.TEXTURE_MIN_FILTER,t.scaleMode?i.LINEAR:i.NEAREST);i.texParameteri(t.target,i.TEXTURE_MAG_FILTER,t.scaleMode?i.LINEAR:i.NEAREST)},e}(ee),Ti=new gt,Gi=function(t){function e(i){var n;void 0===i&&(i={}),t.call(this,"WebGL",i),i=this.options,this.type=p.WEBGL,this.gl=null,this.CONTEXT_UID=0,this.runners={destroy:new Ft("destroy"),contextChange:new Ft("contextChange",1),reset:new Ft("reset"),update:new Ft("update"),postrender:new Ft("postrender"),prerender:new Ft("prerender"),resize:new Ft("resize",2)},this.globalUniforms=new Ee({projectionMatrix:new gt},!0),this.addSystem(gi,"mask").addSystem(ke,"context").addSystem(Di,"state").addSystem(wi,"shader").addSystem(Vi,"texture").addSystem(Ve,"geometry").addSystem(De,"framebuffer").addSystem(pi,"scissor").addSystem(yi,"stencil").addSystem(Ci,"projection").addSystem(Mi,"textureGC").addSystem(be,"filter").addSystem(Ii,"renderTexture").addSystem(Se,"batch"),this.initPlugins(e.__plugins),i.context?this.context.initFromContext(i.context):this.context.initFromOptions({alpha:this.transparent,antialias:i.antialias,premultipliedAlpha:this.transparent&&"notMultiplied"!==this.transparent,stencil:!0,preserveDrawingBuffer:i.preserveDrawingBuffer,powerPreference:this.options.powerPreference}),this.renderingToScreen=!0,n=2===this.context.webGLVersion?"WebGL 2":"WebGL 1",U||(navigator.userAgent.toLowerCase().indexOf("chrome")>-1?window.console.log.apply(console,["\n %c %c %c PixiJS "+O+" - \u2730 "+n+" \u2730  %c  %c  http://www.pixijs.com/  %c %c \u2665%c\u2665%c\u2665 \n\n","background: #ff66a5; padding:5px 0;","background: #ff66a5; padding:5px 0;","color: #ff66a5; background: #030307; padding:5px 0;","background: #ff66a5; padding:5px 0;","background: #ffc3dc; padding:5px 0;","background: #ff66a5; padding:5px 0;","color: #ff2424; background: #fff; padding:5px 0;","color: #ff2424; background: #fff; padding:5px 0;","color: #ff2424; background: #fff; padding:5px 0;"]):window.console&&window.console.log("PixiJS "+O+" - "+n+" - http://www.pixijs.com/"),U=!0),this.resize(this.options.width,this.options.height)}return t&&(e.__proto__=t),(e.prototype=Object.create(t&&t.prototype)).constructor=e,e.create=function(t){if(void 0===L&&(L=function(){var t={stencil:!0,failIfMajorPerformanceCaveat:R.FAIL_IF_MAJOR_PERFORMANCE_CAVEAT};try{if(!window.WebGLRenderingContext)return!1;var e=document.createElement("canvas"),i=e.getContext("webgl",t)||e.getContext("experimental-webgl",t),n=!(!i||!i.getContextAttributes().stencil);if(i){var r=i.getExtension("WEBGL_lose_context");r&&r.loseContext()}return i=null,n}catch(s){return!1}}()),L)return new e(t);throw new Error('WebGL unsupported in this browser, use "pixi.js-legacy" for fallback canvas2d support.')},e.prototype.addSystem=function(t,e){e||(e=t.name);var i=new t(this);if(this[e])throw new Error('Whoops! The name "'+e+'" is already in use');for(var n in this[e]=i,this.runners)this.runners[n].add(i);return this},e.prototype.render=function(t,e,i,n,r){if(this.renderingToScreen=!e,this.runners.prerender.run(),this.emit("prerender"),this.projection.transform=n,!this.context.isLost){if(e||(this._lastObjectRendered=t),!r){var s=t.parent;t.parent=this._tempDisplayObjectParent,t.updateTransform(),t.parent=s}this.renderTexture.bind(e),this.batch.currentRenderer.start(),(void 0!==i?i:this.clearBeforeRender)&&this.renderTexture.clear(),t.render(this),this.batch.currentRenderer.flush(),e&&e.baseTexture.update(),this.runners.postrender.run(),this.projection.transform=null,this.emit("postrender")}},e.prototype.resize=function(e,i){t.prototype.resize.call(this,e,i),this.runners.resize.run(e,i)},e.prototype.reset=function(){return this.runners.reset.run(),this},e.prototype.clear=function(){this.framebuffer.bind(),this.framebuffer.clear()},e.prototype.destroy=function(e){for(var i in this.runners.destroy.run(),this.runners)this.runners[i].destroy();t.prototype.destroy.call(this,e),this.gl=null},e.registerPlugin=function(t,i){(e.__plugins=e.__plugins||{})[t]=i},e}(function(t){function e(e,i){t.call(this),(i=Object.assign({},R.RENDER_OPTIONS,i)).roundPixels&&(R.ROUND_PIXELS=i.roundPixels,lt("5.0.0","Renderer roundPixels option is deprecated, please use PIXI.settings.ROUND_PIXELS",2)),this.options=i,this.type=p.UNKNOWN,this.screen=new bt(0,0,i.width,i.height),this.view=i.view||document.createElement("canvas"),this.resolution=i.resolution||R.RESOLUTION,this.transparent=i.transparent,this.autoDensity=i.autoDensity||i.autoResize||!1,this.preserveDrawingBuffer=i.preserveDrawingBuffer,this.clearBeforeRender=i.clearBeforeRender,this._backgroundColor=0,this._backgroundColorRgba=[0,0,0,0],this._backgroundColorString="#000000",this.backgroundColor=i.backgroundColor||this._backgroundColor,this._tempDisplayObjectParent=new Vt,this._lastObjectRendered=this._tempDisplayObjectParent,this.plugins={}}t&&(e.__proto__=t),(e.prototype=Object.create(t&&t.prototype)).constructor=e;var i={width:{configurable:!0},height:{configurable:!0},backgroundColor:{configurable:!0}};return e.prototype.initPlugins=function(t){for(var e in t)this.plugins[e]=new t[e](this)},i.width.get=function(){return this.view.width},i.height.get=function(){return this.view.height},e.prototype.resize=function(t,e){this.screen.width=t,this.screen.height=e,this.view.width=t*this.resolution,this.view.height=e*this.resolution,this.autoDensity&&(this.view.style.width=t+"px",this.view.style.height=e+"px")},e.prototype.generateTexture=function(t,e,i,n){0===(n=n||t.getLocalBounds()).width&&(n.width=1),0===n.height&&(n.height=1);var r=ue.create(0|n.width,0|n.height,e,i);return Ti.tx=-n.x,Ti.ty=-n.y,this.render(t,r,!1,Ti,!!t.parent),r},e.prototype.destroy=function(t){for(var e in this.plugins)this.plugins[e].destroy(),this.plugins[e]=null;t&&this.view.parentNode&&this.view.parentNode.removeChild(this.view),this.plugins=null,this.type=p.UNKNOWN,this.view=null,this.screen=null,this.resolution=0,this.transparent=!1,this.autoDensity=!1,this.blendModes=null,this.options=null,this.preserveDrawingBuffer=!1,this.clearBeforeRender=!1,this._backgroundColor=0,this._backgroundColorRgba=null,this._backgroundColorString=null,this._tempDisplayObjectParent=null,this._lastObjectRendered=null},i.backgroundColor.get=function(){return this._backgroundColor},i.backgroundColor.set=function(t){this._backgroundColor=t,this._backgroundColorString=H(t),Y(t,this._backgroundColorRgba)},Object.defineProperties(e.prototype,i),e}(T.a)),Fi="attribute vec2 aVertexPosition;\n\nuniform mat3 projectionMatrix;\n\nvarying vec2 vTextureCoord;\n\nuniform vec4 inputSize;\nuniform vec4 outputFrame;\n\nvec4 filterVertexPosition( void )\n{\n    vec2 position = aVertexPosition * max(outputFrame.zw, vec2(0.)) + outputFrame.xy;\n\n    return vec4((projectionMatrix * vec3(position, 1.0)).xy, 0.0, 1.0);\n}\n\nvec2 filterTextureCoord( void )\n{\n    return aVertexPosition * (outputFrame.zw * inputSize.zw);\n}\n\nvoid main(void)\n{\n    gl_Position = filterVertexPosition();\n    vTextureCoord = filterTextureCoord();\n}\n",Pi=function(){this.texArray=null,this.blend=0,this.type=C.TRIANGLES,this.start=0,this.size=0,this.data=null},Ni=function(){this.elements=[],this.ids=[],this.count=0};Ni.prototype.clear=function(){for(var t=0;t<this.count;t++)this.elements[t]=null;this.count=0};var Li=function(t){this.rawBinaryData=new ArrayBuffer(t),this.uint32View=new Uint32Array(this.rawBinaryData),this.float32View=new Float32Array(this.rawBinaryData)},Ui={int8View:{configurable:!0},uint8View:{configurable:!0},int16View:{configurable:!0},uint16View:{configurable:!0},int32View:{configurable:!0}};Ui.int8View.get=function(){return this._int8View||(this._int8View=new Int8Array(this.rawBinaryData)),this._int8View},Ui.uint8View.get=function(){return this._uint8View||(this._uint8View=new Uint8Array(this.rawBinaryData)),this._uint8View},Ui.int16View.get=function(){return this._int16View||(this._int16View=new Int16Array(this.rawBinaryData)),this._int16View},Ui.uint16View.get=function(){return this._uint16View||(this._uint16View=new Uint16Array(this.rawBinaryData)),this._uint16View},Ui.int32View.get=function(){return this._int32View||(this._int32View=new Int32Array(this.rawBinaryData)),this._int32View},Li.prototype.view=function(t){return this[t+"View"]},Li.prototype.destroy=function(){this.rawBinaryData=null,this._int8View=null,this._uint8View=null,this._int16View=null,this._uint16View=null,this._int32View=null,this.uint32View=null,this.float32View=null},Li.sizeOf=function(t){switch(t){case"int8":case"uint8":return 1;case"int16":case"uint16":return 2;case"int32":case"uint32":case"float32":return 4;default:throw new Error(t+" isn't a valid view type")}},Object.defineProperties(Li.prototype,Ui);var Oi=function(t){function e(e){t.call(this,e),this.shaderGenerator=null,this.geometryClass=null,this.vertexSize=null,this.state=ai.for2d(),this.size=4*R.SPRITE_BATCH_SIZE,this._vertexCount=0,this._indexCount=0,this._bufferedElements=[],this._bufferedTextures=[],this._bufferSize=0,this._shader=null,this._packedGeometries=[],this._packedGeometryPoolSize=2,this._flushId=0,this._aBuffers={},this._iBuffers={},this.MAX_TEXTURES=1,this.renderer.on("prerender",this.onPrerender,this),e.runners.contextChange.add(this),this._dcIndex=0,this._aIndex=0,this._iIndex=0,this._attributeBuffer=null,this._indexBuffer=null,this._tempBoundTextures=[]}return t&&(e.__proto__=t),(e.prototype=Object.create(t&&t.prototype)).constructor=e,e.prototype.contextChange=function(){var t=this.renderer.gl;R.PREFER_ENV===d.WEBGL_LEGACY?this.MAX_TEXTURES=1:(this.MAX_TEXTURES=Math.min(t.getParameter(t.MAX_TEXTURE_IMAGE_UNITS),R.SPRITE_MAX_TEXTURES),this.MAX_TEXTURES=function(t,e){if(0===t)throw new Error("Invalid value of `0` passed to `checkMaxIfStatementsInShader`");for(var i=e.createShader(e.FRAGMENT_SHADER);;){var n=$e.replace(/%forloop%/gi,ti(t));if(e.shaderSource(i,n),e.compileShader(i),e.getShaderParameter(i,e.COMPILE_STATUS))break;t=t/2|0}return t}(this.MAX_TEXTURES,t)),this._shader=this.shaderGenerator.generateShader(this.MAX_TEXTURES);for(var e=0;e<this._packedGeometryPoolSize;e++)this._packedGeometries[e]=new this.geometryClass;this.initFlushBuffers()},e.prototype.initFlushBuffers=function(){for(var t=e._drawCallPool,i=e._textureArrayPool,n=this.size/4,r=Math.floor(n/this.MAX_TEXTURES)+1;t.length<n;)t.push(new Pi);for(;i.length<r;)i.push(new Ni);for(var s=0;s<this.MAX_TEXTURES;s++)this._tempBoundTextures[s]=null},e.prototype.onPrerender=function(){this._flushId=0},e.prototype.render=function(t){t._texture.valid&&(this._vertexCount+t.vertexData.length/2>this.size&&this.flush(),this._vertexCount+=t.vertexData.length/2,this._indexCount+=t.indices.length,this._bufferedTextures[this._bufferSize]=t._texture.baseTexture,this._bufferedElements[this._bufferSize++]=t)},e.prototype.buildTexturesAndDrawCalls=function(){var t=this._bufferedTextures,i=this.MAX_TEXTURES,n=e._textureArrayPool,r=this.renderer.batch,s=this._tempBoundTextures,o=this.renderer.textureGC.count,a=++zt._globalBatch,A=0,l=n[0],u=0;r.copyBoundTextures(s,i);for(var h=0;h<this._bufferSize;++h){var c=t[h];t[h]=null,c._batchEnabled!==a&&(l.count>=i&&(r.boundArray(l,s,a,i),this.buildDrawCalls(l,u,h),u=h,l=n[++A],++a),c._batchEnabled=a,c.touched=o,l.elements[l.count++]=c)}l.count>0&&(r.boundArray(l,s,a,i),this.buildDrawCalls(l,u,this._bufferSize),++A,++a);for(var f=0;f<s.length;f++)s[f]=null;zt._globalBatch=a},e.prototype.buildDrawCalls=function(t,i,n){var r=this._bufferedElements,s=this._attributeBuffer,o=this._indexBuffer,a=this.vertexSize,A=e._drawCallPool,l=this._dcIndex,u=this._aIndex,h=this._iIndex,c=A[l];c.start=this._iIndex,c.texArray=t;for(var f=i;f<n;++f){var m=r[f],_=J[m._texture.baseTexture.alphaMode?1:0][m.blendMode];r[f]=null,i<f&&c.blend!==_&&(c.size=h-c.start,i=f,(c=A[++l]).texArray=t,c.start=h),this.packInterleavedGeometry(m,s,o,u,h),u+=m.vertexData.length/2*a,h+=m.indices.length,c.blend=_}i<n&&(c.size=h-c.start,++l),this._dcIndex=l,this._aIndex=u,this._iIndex=h},e.prototype.bindAndClearTexArray=function(t){for(var e=this.renderer.texture,i=0;i<t.count;i++)e.bind(t.elements[i],t.ids[i]),t.elements[i]=null;t.count=0},e.prototype.updateGeometry=function(){var t=this._packedGeometries,e=this._attributeBuffer,i=this._indexBuffer;R.CAN_UPLOAD_SAME_BUFFER?(t[this._flushId]._buffer.update(e.rawBinaryData),t[this._flushId]._indexBuffer.update(i),this.renderer.geometry.updateBuffers()):(this._packedGeometryPoolSize<=this._flushId&&(this._packedGeometryPoolSize++,t[this._flushId]=new this.geometryClass),t[this._flushId]._buffer.update(e.rawBinaryData),t[this._flushId]._indexBuffer.update(i),this.renderer.geometry.bind(t[this._flushId]),this.renderer.geometry.updateBuffers(),this._flushId++)},e.prototype.drawBatches=function(){for(var t=this._dcIndex,i=this.renderer,n=i.gl,r=i.state,s=e._drawCallPool,o=null,a=0;a<t;a++){var A=s[a],l=A.texArray,u=A.type,h=A.size,c=A.start,f=A.blend;o!==l&&(o=l,this.bindAndClearTexArray(l)),r.setBlendMode(f),n.drawElements(u,h,n.UNSIGNED_SHORT,2*c)}},e.prototype.flush=function(){0!==this._vertexCount&&(this._attributeBuffer=this.getAttributeBuffer(this._vertexCount),this._indexBuffer=this.getIndexBuffer(this._indexCount),this._aIndex=0,this._iIndex=0,this._dcIndex=0,this.buildTexturesAndDrawCalls(),this.updateGeometry(),this.drawBatches(),this._bufferSize=0,this._vertexCount=0,this._indexCount=0)},e.prototype.start=function(){this.renderer.state.set(this.state),this.renderer.shader.bind(this._shader),R.CAN_UPLOAD_SAME_BUFFER&&this.renderer.geometry.bind(this._packedGeometries[this._flushId])},e.prototype.stop=function(){this.flush()},e.prototype.destroy=function(){for(var e=0;e<this._packedGeometryPoolSize;e++)this._packedGeometries[e]&&this._packedGeometries[e].destroy();this.renderer.off("prerender",this.onPrerender,this),this._aBuffers=null,this._iBuffers=null,this._packedGeometries=null,this._attributeBuffer=null,this._indexBuffer=null,this._shader&&(this._shader.destroy(),this._shader=null),t.prototype.destroy.call(this)},e.prototype.getAttributeBuffer=function(t){var e=Z(Math.ceil(t/8)),i=tt(e),n=8*e;this._aBuffers.length<=i&&(this._iBuffers.length=i+1);var r=this._aBuffers[n];return r||(this._aBuffers[n]=r=new Li(n*this.vertexSize*4)),r},e.prototype.getIndexBuffer=function(t){var e=Z(Math.ceil(t/12)),i=tt(e),n=12*e;this._iBuffers.length<=i&&(this._iBuffers.length=i+1);var r=this._iBuffers[i];return r||(this._iBuffers[i]=r=new Uint16Array(n)),r},e.prototype.packInterleavedGeometry=function(t,e,i,n,r){for(var s=e.uint32View,o=e.float32View,a=n/this.vertexSize,A=t.uvs,l=t.indices,u=t.vertexData,h=t._texture.baseTexture._batchLocation,c=Math.min(t.worldAlpha,1),f=c<1&&t._texture.baseTexture.alphaMode?K(t._tintRGB,c):t._tintRGB+(255*c<<24),m=0;m<u.length;m+=2)o[n++]=u[m],o[n++]=u[m+1],o[n++]=A[m],o[n++]=A[m+1],s[n++]=f,o[n++]=h;for(var _=0;_<l.length;_++)i[r++]=a+l[_]},e}(xe);Oi._drawCallPool=[],Oi._textureArrayPool=[];var Yi=function(t,e){if(this.vertexSrc=t,this.fragTemplate=e,this.programCache={},this.defaultGroupCache={},e.indexOf("%count%")<0)throw new Error('Fragment template must contain "%count%".');if(e.indexOf("%forloop%")<0)throw new Error('Fragment template must contain "%forloop%".')};Yi.prototype.generateShader=function(t){if(!this.programCache[t]){for(var e=new Int32Array(t),i=0;i<t;i++)e[i]=i;this.defaultGroupCache[t]=Ee.from({uSamplers:e},!0);var n=this.fragTemplate;n=(n=n.replace(/%count%/gi,""+t)).replace(/%forloop%/gi,this.generateSampleSrc(t)),this.programCache[t]=new ni(this.vertexSrc,n)}var r={tint:new Float32Array([1,1,1,1]),translationMatrix:new gt,default:this.defaultGroupCache[t]};return new si(this.programCache[t],r)},Yi.prototype.generateSampleSrc=function(t){var e="";e+="\n",e+="\n";for(var i=0;i<t;i++)i>0&&(e+="\nelse "),i<t-1&&(e+="if(vTextureId < "+i+".5)"),e+="\n{",e+="\n\tcolor = texture2D(uSamplers["+i+"], vTextureCoord);",e+="\n}";return(e+="\n")+"\n"};var Hi=function(t){function e(e){void 0===e&&(e=!1),t.call(this),this._buffer=new me(null,e,!1),this._indexBuffer=new me(null,e,!0),this.addAttribute("aVertexPosition",this._buffer,2,!1,B.FLOAT).addAttribute("aTextureCoord",this._buffer,2,!1,B.FLOAT).addAttribute("aColor",this._buffer,4,!0,B.UNSIGNED_BYTE).addAttribute("aTextureId",this._buffer,1,!0,B.FLOAT).addIndex(this._indexBuffer)}return t&&(e.__proto__=t),(e.prototype=Object.create(t&&t.prototype)).constructor=e,e}(Ce),Ji="precision highp float;\nattribute vec2 aVertexPosition;\nattribute vec2 aTextureCoord;\nattribute vec4 aColor;\nattribute float aTextureId;\n\nuniform mat3 projectionMatrix;\nuniform mat3 translationMatrix;\nuniform vec4 tint;\n\nvarying vec2 vTextureCoord;\nvarying vec4 vColor;\nvarying float vTextureId;\n\nvoid main(void){\n    gl_Position = vec4((projectionMatrix * translationMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);\n\n    vTextureCoord = aTextureCoord;\n    vTextureId = aTextureId;\n    vColor = aColor * tint;\n}\n",ji="varying vec2 vTextureCoord;\nvarying vec4 vColor;\nvarying float vTextureId;\nuniform sampler2D uSamplers[%count%];\n\nvoid main(void){\n    vec4 color;\n    %forloop%\n    gl_FragColor = color * vColor;\n}\n",Ki=function(){},qi={defaultVertexSrc:{configurable:!0},defaultFragmentTemplate:{configurable:!0}};Ki.create=function(t){var e=Object.assign({vertex:Ji,fragment:ji,geometryClass:Hi,vertexSize:6},t),i=e.vertex,n=e.fragment,r=e.vertexSize,s=e.geometryClass;return function(t){function e(e){t.call(this,e),this.shaderGenerator=new Yi(i,n),this.geometryClass=s,this.vertexSize=r}return t&&(e.__proto__=t),(e.prototype=Object.create(t&&t.prototype)).constructor=e,e}(Oi)},qi.defaultVertexSrc.get=function(){return Ji},qi.defaultFragmentTemplate.get=function(){return ji},Object.defineProperties(Ki,qi);var zi=Ki.create(),Xi=new bt,Wi=function(t){this.renderer=t,t.extract=this};Wi.prototype.image=function(t,e,i){var n=new Image;return n.src=this.base64(t,e,i),n},Wi.prototype.base64=function(t,e,i){return this.canvas(t).toDataURL(e,i)},Wi.prototype.canvas=function(t){var e,i,n,r=this.renderer,s=!1,o=!1;t&&(t instanceof ue?n=t:(n=this.renderer.generateTexture(t),o=!0)),n?(e=n.baseTexture.resolution,i=n.frame,s=!1,r.renderTexture.bind(n)):(e=this.renderer.resolution,s=!0,(i=Xi).width=this.renderer.width,i.height=this.renderer.height,r.renderTexture.bind(null));var a=Math.floor(i.width*e+1e-4),A=Math.floor(i.height*e+1e-4),l=new st(a,A,1),u=new Uint8Array(4*a*A),h=r.gl;h.readPixels(i.x*e,i.y*e,a,A,h.RGBA,h.UNSIGNED_BYTE,u);var c=l.context.getImageData(0,0,a,A);return Wi.arrayPostDivide(u,c.data),l.context.putImageData(c,0,0),s&&(l.context.scale(1,-1),l.context.drawImage(l.canvas,0,-A)),o&&n.destroy(!0),l.canvas},Wi.prototype.pixels=function(t){var e,i,n,r=this.renderer,s=!1;t&&(t instanceof ue?n=t:(n=this.renderer.generateTexture(t),s=!0)),n?(e=n.baseTexture.resolution,i=n.frame,r.renderTexture.bind(n)):(e=r.resolution,(i=Xi).width=r.width,i.height=r.height,r.renderTexture.bind(null));var o=i.width*e,a=i.height*e,A=new Uint8Array(4*o*a),l=r.gl;return l.readPixels(i.x*e,i.y*e,o,a,l.RGBA,l.UNSIGNED_BYTE,A),s&&n.destroy(!0),Wi.arrayPostDivide(A,A),A},Wi.prototype.destroy=function(){this.renderer.extract=null,this.renderer=null},Wi.arrayPostDivide=function(t,e){for(var i=0;i<t.length;i+=4){var n=e[i+3]=t[i+3];0!==n?(e[i]=Math.round(Math.min(255*t[i]/n,255)),e[i+1]=Math.round(Math.min(255*t[i+1]/n,255)),e[i+2]=Math.round(Math.min(255*t[i+2]/n,255))):(e[i]=t[i],e[i+1]=t[i+1],e[i+2]=t[i+2])}};var Zi=function(){this.global=new ht,this.target=null,this.originalEvent=null,this.identifier=null,this.isPrimary=!1,this.button=0,this.buttons=0,this.width=0,this.height=0,this.tiltX=0,this.tiltY=0,this.pointerType=null,this.pressure=0,this.rotationAngle=0,this.twist=0,this.tangentialPressure=0},$i={pointerId:{configurable:!0}};$i.pointerId.get=function(){return this.identifier},Zi.prototype.getLocalPosition=function(t,e,i){return t.worldTransform.applyInverse(i||this.global,e)},Zi.prototype.copyEvent=function(t){t.isPrimary&&(this.isPrimary=!0),this.button=t.button,this.buttons=Number.isInteger(t.buttons)?t.buttons:t.which,this.width=t.width,this.height=t.height,this.tiltX=t.tiltX,this.tiltY=t.tiltY,this.pointerType=t.pointerType,this.pressure=t.pressure,this.rotationAngle=t.rotationAngle,this.twist=t.twist||0,this.tangentialPressure=t.tangentialPressure||0},Zi.prototype.reset=function(){this.isPrimary=!1},Object.defineProperties(Zi.prototype,$i);var tn=function(){this.stopped=!1,this.stopsPropagatingAt=null,this.stopPropagationHint=!1,this.target=null,this.currentTarget=null,this.type=null,this.data=null};tn.prototype.stopPropagation=function(){this.stopped=!0,this.stopPropagationHint=!0,this.stopsPropagatingAt=this.currentTarget},tn.prototype.reset=function(){this.stopped=!1,this.stopsPropagatingAt=null,this.stopPropagationHint=!1,this.currentTarget=null,this.target=null};var en=function t(e){this._pointerId=e,this._flags=t.FLAGS.NONE},nn={pointerId:{configurable:!0},flags:{configurable:!0},none:{configurable:!0},over:{configurable:!0},rightDown:{configurable:!0},leftDown:{configurable:!0}};en.prototype._doSet=function(t,e){this._flags=e?this._flags|t:this._flags&~t},nn.pointerId.get=function(){return this._pointerId},nn.flags.get=function(){return this._flags},nn.flags.set=function(t){this._flags=t},nn.none.get=function(){return this._flags===this.constructor.FLAGS.NONE},nn.over.get=function(){return 0!=(this._flags&this.constructor.FLAGS.OVER)},nn.over.set=function(t){this._doSet(this.constructor.FLAGS.OVER,t)},nn.rightDown.get=function(){return 0!=(this._flags&this.constructor.FLAGS.RIGHT_DOWN)},nn.rightDown.set=function(t){this._doSet(this.constructor.FLAGS.RIGHT_DOWN,t)},nn.leftDown.get=function(){return 0!=(this._flags&this.constructor.FLAGS.LEFT_DOWN)},nn.leftDown.set=function(t){this._doSet(this.constructor.FLAGS.LEFT_DOWN,t)},Object.defineProperties(en.prototype,nn),en.FLAGS=Object.freeze({NONE:0,OVER:1,LEFT_DOWN:2,RIGHT_DOWN:4});var rn=function(){this._tempPoint=new ht};rn.prototype.recursiveFindHit=function(t,e,i,n,r){if(!e||!e.visible)return!1;var s=t.data.global,o=!1,a=r=e.interactive||r,A=!0;if(e.hitArea?(n&&(e.worldTransform.applyInverse(s,this._tempPoint),e.hitArea.contains(this._tempPoint.x,this._tempPoint.y)?o=!0:(n=!1,A=!1)),a=!1):e._mask&&n&&(e._mask.containsPoint&&e._mask.containsPoint(s)||(n=!1)),A&&e.interactiveChildren&&e.children)for(var l=e.children,u=l.length-1;u>=0;u--){var h=l[u],c=this.recursiveFindHit(t,h,i,n,a);if(c){if(!h.parent)continue;a=!1,c&&(t.target&&(n=!1),o=!0)}}return r&&(n&&!t.target&&!e.hitArea&&e.containsPoint&&e.containsPoint(s)&&(o=!0),e.interactive&&(o&&!t.target&&(t.target=e),i&&i(t,e,!!o))),o},rn.prototype.findHit=function(t,e,i,n){this.recursiveFindHit(t,e,i,n,!1)},Mt.mixin({interactive:!1,interactiveChildren:!0,hitArea:null,get buttonMode(){return"pointer"===this.cursor},set buttonMode(t){t?this.cursor="pointer":"pointer"===this.cursor&&(this.cursor=null)},cursor:null,get trackedPointers(){return void 0===this._trackedPointers&&(this._trackedPointers={}),this._trackedPointers},_trackedPointers:void 0});var sn=1,on={target:null,data:{global:null}},an=function(t){function e(e,i){t.call(this),i=i||{},this.renderer=e,this.autoPreventDefault=void 0===i.autoPreventDefault||i.autoPreventDefault,this.interactionFrequency=i.interactionFrequency||10,this.mouse=new Zi,this.mouse.identifier=sn,this.mouse.global.set(-999999),this.activeInteractionData={},this.activeInteractionData[sn]=this.mouse,this.interactionDataPool=[],this.eventData=new tn,this.interactionDOMElement=null,this.moveWhenInside=!1,this.eventsAdded=!1,this.mouseOverRenderer=!1,this.supportsTouchEvents="ontouchstart"in window,this.supportsPointerEvents=!!window.PointerEvent,this.onPointerUp=this.onPointerUp.bind(this),this.processPointerUp=this.processPointerUp.bind(this),this.onPointerCancel=this.onPointerCancel.bind(this),this.processPointerCancel=this.processPointerCancel.bind(this),this.onPointerDown=this.onPointerDown.bind(this),this.processPointerDown=this.processPointerDown.bind(this),this.onPointerMove=this.onPointerMove.bind(this),this.processPointerMove=this.processPointerMove.bind(this),this.onPointerOut=this.onPointerOut.bind(this),this.processPointerOverOut=this.processPointerOverOut.bind(this),this.onPointerOver=this.onPointerOver.bind(this),this.cursorStyles={default:"inherit",pointer:"pointer"},this.currentCursorMode=null,this.cursor=null,this.resolution=1,this.delayedEvents=[],this.search=new rn,this.setTargetElement(this.renderer.view,this.renderer.resolution)}return t&&(e.__proto__=t),(e.prototype=Object.create(t&&t.prototype)).constructor=e,e.prototype.hitTest=function(t,e){return on.target=null,on.data.global=t,e||(e=this.renderer._lastObjectRendered),this.processInteractive(on,e,null,!0),on.target},e.prototype.setTargetElement=function(t,e){void 0===e&&(e=1),this.removeEvents(),this.interactionDOMElement=t,this.resolution=e,this.addEvents()},e.prototype.addEvents=function(){this.interactionDOMElement&&(Nt.system.add(this.update,this,Gt.INTERACTION),window.navigator.msPointerEnabled?(this.interactionDOMElement.style["-ms-content-zooming"]="none",this.interactionDOMElement.style["-ms-touch-action"]="none"):this.supportsPointerEvents&&(this.interactionDOMElement.style["touch-action"]="none"),this.supportsPointerEvents?(window.document.addEventListener("pointermove",this.onPointerMove,!0),this.interactionDOMElement.addEventListener("pointerdown",this.onPointerDown,!0),this.interactionDOMElement.addEventListener("pointerleave",this.onPointerOut,!0),this.interactionDOMElement.addEventListener("pointerover",this.onPointerOver,!0),window.addEventListener("pointercancel",this.onPointerCancel,!0),window.addEventListener("pointerup",this.onPointerUp,!0)):(window.document.addEventListener("mousemove",this.onPointerMove,!0),this.interactionDOMElement.addEventListener("mousedown",this.onPointerDown,!0),this.interactionDOMElement.addEventListener("mouseout",this.onPointerOut,!0),this.interactionDOMElement.addEventListener("mouseover",this.onPointerOver,!0),window.addEventListener("mouseup",this.onPointerUp,!0)),this.supportsTouchEvents&&(this.interactionDOMElement.addEventListener("touchstart",this.onPointerDown,!0),this.interactionDOMElement.addEventListener("touchcancel",this.onPointerCancel,!0),this.interactionDOMElement.addEventListener("touchend",this.onPointerUp,!0),this.interactionDOMElement.addEventListener("touchmove",this.onPointerMove,!0)),this.eventsAdded=!0)},e.prototype.removeEvents=function(){this.interactionDOMElement&&(Nt.system.remove(this.update,this),window.navigator.msPointerEnabled?(this.interactionDOMElement.style["-ms-content-zooming"]="",this.interactionDOMElement.style["-ms-touch-action"]=""):this.supportsPointerEvents&&(this.interactionDOMElement.style["touch-action"]=""),this.supportsPointerEvents?(window.document.removeEventListener("pointermove",this.onPointerMove,!0),this.interactionDOMElement.removeEventListener("pointerdown",this.onPointerDown,!0),this.interactionDOMElement.removeEventListener("pointerleave",this.onPointerOut,!0),this.interactionDOMElement.removeEventListener("pointerover",this.onPointerOver,!0),window.removeEventListener("pointercancel",this.onPointerCancel,!0),window.removeEventListener("pointerup",this.onPointerUp,!0)):(window.document.removeEventListener("mousemove",this.onPointerMove,!0),this.interactionDOMElement.removeEventListener("mousedown",this.onPointerDown,!0),this.interactionDOMElement.removeEventListener("mouseout",this.onPointerOut,!0),this.interactionDOMElement.removeEventListener("mouseover",this.onPointerOver,!0),window.removeEventListener("mouseup",this.onPointerUp,!0)),this.supportsTouchEvents&&(this.interactionDOMElement.removeEventListener("touchstart",this.onPointerDown,!0),this.interactionDOMElement.removeEventListener("touchcancel",this.onPointerCancel,!0),this.interactionDOMElement.removeEventListener("touchend",this.onPointerUp,!0),this.interactionDOMElement.removeEventListener("touchmove",this.onPointerMove,!0)),this.interactionDOMElement=null,this.eventsAdded=!1)},e.prototype.update=function(t){if(this._deltaTime+=t,!(this._deltaTime<this.interactionFrequency)&&(this._deltaTime=0,this.interactionDOMElement))if(this.didMove)this.didMove=!1;else{for(var e in this.cursor=null,this.activeInteractionData)if(this.activeInteractionData.hasOwnProperty(e)){var i=this.activeInteractionData[e];if(i.originalEvent&&"touch"!==i.pointerType){var n=this.configureInteractionEventForDOMEvent(this.eventData,i.originalEvent,i);this.processInteractive(n,this.renderer._lastObjectRendered,this.processPointerOverOut,!0)}}this.setCursorMode(this.cursor)}},e.prototype.setCursorMode=function(t){if(this.currentCursorMode!==(t=t||"default")){this.currentCursorMode=t;var e=this.cursorStyles[t];if(e)switch(typeof e){case"string":this.interactionDOMElement.style.cursor=e;break;case"function":e(t);break;case"object":Object.assign(this.interactionDOMElement.style,e)}else"string"!=typeof t||Object.prototype.hasOwnProperty.call(this.cursorStyles,t)||(this.interactionDOMElement.style.cursor=t)}},e.prototype.dispatchEvent=function(t,e,i){i.stopPropagationHint&&t!==i.stopsPropagatingAt||(i.currentTarget=t,i.type=e,t.emit(e,i),t[e]&&t[e](i))},e.prototype.delayDispatchEvent=function(t,e,i){this.delayedEvents.push({displayObject:t,eventString:e,eventData:i})},e.prototype.mapPositionToPoint=function(t,e,i){var n;n=this.interactionDOMElement.parentElement?this.interactionDOMElement.getBoundingClientRect():{x:0,y:0,width:0,height:0};var r=1/this.resolution;t.x=this.interactionDOMElement.width/n.width*(e-n.left)*r,t.y=this.interactionDOMElement.height/n.height*(i-n.top)*r},e.prototype.processInteractive=function(t,e,i,n){var r=this.search.findHit(t,e,i,n),s=this.delayedEvents;if(!s.length)return r;t.stopPropagationHint=!1;var o=s.length;this.delayedEvents=[];for(var a=0;a<o;a++){var A=s[a],l=A.displayObject,u=A.eventString,h=A.eventData;h.stopsPropagatingAt===l&&(h.stopPropagationHint=!0),this.dispatchEvent(l,u,h)}return r},e.prototype.onPointerDown=function(t){if(!this.supportsTouchEvents||"touch"!==t.pointerType){var e=this.normalizeToPointerData(t);this.autoPreventDefault&&e[0].isNormalized&&(t.cancelable||!("cancelable"in t))&&t.preventDefault();for(var i=e.length,n=0;n<i;n++){var r=e[n],s=this.getInteractionDataForPointerId(r),o=this.configureInteractionEventForDOMEvent(this.eventData,r,s);o.data.originalEvent=t,this.processInteractive(o,this.renderer._lastObjectRendered,this.processPointerDown,!0),this.emit("pointerdown",o),"touch"===r.pointerType?this.emit("touchstart",o):"mouse"!==r.pointerType&&"pen"!==r.pointerType||this.emit(2===r.button?"rightdown":"mousedown",this.eventData)}}},e.prototype.processPointerDown=function(t,e,i){var n=t.data,r=t.data.identifier;if(i)if(e.trackedPointers[r]||(e.trackedPointers[r]=new en(r)),this.dispatchEvent(e,"pointerdown",t),"touch"===n.pointerType)this.dispatchEvent(e,"touchstart",t);else if("mouse"===n.pointerType||"pen"===n.pointerType){var s=2===n.button;s?e.trackedPointers[r].rightDown=!0:e.trackedPointers[r].leftDown=!0,this.dispatchEvent(e,s?"rightdown":"mousedown",t)}},e.prototype.onPointerComplete=function(t,e,i){for(var n=this.normalizeToPointerData(t),r=n.length,s=t.target!==this.interactionDOMElement?"outside":"",o=0;o<r;o++){var a=n[o],A=this.getInteractionDataForPointerId(a),l=this.configureInteractionEventForDOMEvent(this.eventData,a,A);l.data.originalEvent=t,this.processInteractive(l,this.renderer._lastObjectRendered,i,e||!s),this.emit(e?"pointercancel":"pointerup"+s,l),"mouse"===a.pointerType||"pen"===a.pointerType?this.emit(2===a.button?"rightup"+s:"mouseup"+s,l):"touch"===a.pointerType&&(this.emit(e?"touchcancel":"touchend"+s,l),this.releaseInteractionDataForPointerId(a.pointerId,A))}},e.prototype.onPointerCancel=function(t){this.supportsTouchEvents&&"touch"===t.pointerType||this.onPointerComplete(t,!0,this.processPointerCancel)},e.prototype.processPointerCancel=function(t,e){var i=t.data,n=t.data.identifier;void 0!==e.trackedPointers[n]&&(delete e.trackedPointers[n],this.dispatchEvent(e,"pointercancel",t),"touch"===i.pointerType&&this.dispatchEvent(e,"touchcancel",t))},e.prototype.onPointerUp=function(t){this.supportsTouchEvents&&"touch"===t.pointerType||this.onPointerComplete(t,!1,this.processPointerUp)},e.prototype.processPointerUp=function(t,e,i){var n=t.data,r=t.data.identifier,s=e.trackedPointers[r],o="touch"===n.pointerType,a="mouse"===n.pointerType||"pen"===n.pointerType,A=!1;if(a){var l=2===n.button,u=en.FLAGS,h=void 0!==s&&s.flags&(l?u.RIGHT_DOWN:u.LEFT_DOWN);i?(this.dispatchEvent(e,l?"rightup":"mouseup",t),h&&(this.dispatchEvent(e,l?"rightclick":"click",t),A=!0)):h&&this.dispatchEvent(e,l?"rightupoutside":"mouseupoutside",t),s&&(l?s.rightDown=!1:s.leftDown=!1)}i?(this.dispatchEvent(e,"pointerup",t),o&&this.dispatchEvent(e,"touchend",t),s&&(a&&!A||this.dispatchEvent(e,"pointertap",t),o&&(this.dispatchEvent(e,"tap",t),s.over=!1))):s&&(this.dispatchEvent(e,"pointerupoutside",t),o&&this.dispatchEvent(e,"touchendoutside",t)),s&&s.none&&delete e.trackedPointers[r]},e.prototype.onPointerMove=function(t){if(!this.supportsTouchEvents||"touch"!==t.pointerType){var e=this.normalizeToPointerData(t);"mouse"!==e[0].pointerType&&"pen"!==e[0].pointerType||(this.didMove=!0,this.cursor=null);for(var i=e.length,n=0;n<i;n++){var r=e[n],s=this.getInteractionDataForPointerId(r),o=this.configureInteractionEventForDOMEvent(this.eventData,r,s);o.data.originalEvent=t,this.processInteractive(o,this.renderer._lastObjectRendered,this.processPointerMove,!0),this.emit("pointermove",o),"touch"===r.pointerType&&this.emit("touchmove",o),"mouse"!==r.pointerType&&"pen"!==r.pointerType||this.emit("mousemove",o)}"mouse"===e[0].pointerType&&this.setCursorMode(this.cursor)}},e.prototype.processPointerMove=function(t,e,i){var n=t.data,r="touch"===n.pointerType,s="mouse"===n.pointerType||"pen"===n.pointerType;s&&this.processPointerOverOut(t,e,i),this.moveWhenInside&&!i||(this.dispatchEvent(e,"pointermove",t),r&&this.dispatchEvent(e,"touchmove",t),s&&this.dispatchEvent(e,"mousemove",t))},e.prototype.onPointerOut=function(t){if(!this.supportsTouchEvents||"touch"!==t.pointerType){var e=this.normalizeToPointerData(t)[0];"mouse"===e.pointerType&&(this.mouseOverRenderer=!1,this.setCursorMode(null));var i=this.getInteractionDataForPointerId(e),n=this.configureInteractionEventForDOMEvent(this.eventData,e,i);n.data.originalEvent=e,this.processInteractive(n,this.renderer._lastObjectRendered,this.processPointerOverOut,!1),this.emit("pointerout",n),"mouse"===e.pointerType||"pen"===e.pointerType?this.emit("mouseout",n):this.releaseInteractionDataForPointerId(i.identifier)}},e.prototype.processPointerOverOut=function(t,e,i){var n=t.data,r=t.data.identifier,s="mouse"===n.pointerType||"pen"===n.pointerType,o=e.trackedPointers[r];i&&!o&&(o=e.trackedPointers[r]=new en(r)),void 0!==o&&(i&&this.mouseOverRenderer?(o.over||(o.over=!0,this.delayDispatchEvent(e,"pointerover",t),s&&this.delayDispatchEvent(e,"mouseover",t)),s&&null===this.cursor&&(this.cursor=e.cursor)):o.over&&(o.over=!1,this.dispatchEvent(e,"pointerout",this.eventData),s&&this.dispatchEvent(e,"mouseout",t),o.none&&delete e.trackedPointers[r]))},e.prototype.onPointerOver=function(t){var e=this.normalizeToPointerData(t)[0],i=this.getInteractionDataForPointerId(e),n=this.configureInteractionEventForDOMEvent(this.eventData,e,i);n.data.originalEvent=e,"mouse"===e.pointerType&&(this.mouseOverRenderer=!0),this.emit("pointerover",n),"mouse"!==e.pointerType&&"pen"!==e.pointerType||this.emit("mouseover",n)},e.prototype.getInteractionDataForPointerId=function(t){var e,i=t.pointerId;return i===sn||"mouse"===t.pointerType?e=this.mouse:this.activeInteractionData[i]?e=this.activeInteractionData[i]:((e=this.interactionDataPool.pop()||new Zi).identifier=i,this.activeInteractionData[i]=e),e.copyEvent(t),e},e.prototype.releaseInteractionDataForPointerId=function(t){var e=this.activeInteractionData[t];e&&(delete this.activeInteractionData[t],e.reset(),this.interactionDataPool.push(e))},e.prototype.configureInteractionEventForDOMEvent=function(t,e,i){return t.data=i,this.mapPositionToPoint(i.global,e.clientX,e.clientY),"touch"===e.pointerType&&(e.globalX=i.global.x,e.globalY=i.global.y),i.originalEvent=e,t.reset(),t},e.prototype.normalizeToPointerData=function(t){var e=[];if(this.supportsTouchEvents&&t instanceof TouchEvent)for(var i=0,n=t.changedTouches.length;i<n;i++){var r=t.changedTouches[i];void 0===r.button&&(r.button=t.touches.length?1:0),void 0===r.buttons&&(r.buttons=t.touches.length?1:0),void 0===r.isPrimary&&(r.isPrimary=1===t.touches.length&&"touchstart"===t.type),void 0===r.width&&(r.width=r.radiusX||1),void 0===r.height&&(r.height=r.radiusY||1),void 0===r.tiltX&&(r.tiltX=0),void 0===r.tiltY&&(r.tiltY=0),void 0===r.pointerType&&(r.pointerType="touch"),void 0===r.pointerId&&(r.pointerId=r.identifier||0),void 0===r.pressure&&(r.pressure=r.force||.5),void 0===r.twist&&(r.twist=0),void 0===r.tangentialPressure&&(r.tangentialPressure=0),void 0===r.layerX&&(r.layerX=r.offsetX=r.clientX),void 0===r.layerY&&(r.layerY=r.offsetY=r.clientY),r.isNormalized=!0,e.push(r)}else!(t instanceof MouseEvent)||this.supportsPointerEvents&&t instanceof window.PointerEvent?e.push(t):(void 0===t.isPrimary&&(t.isPrimary=!0),void 0===t.width&&(t.width=1),void 0===t.height&&(t.height=1),void 0===t.tiltX&&(t.tiltX=0),void 0===t.tiltY&&(t.tiltY=0),void 0===t.pointerType&&(t.pointerType="mouse"),void 0===t.pointerId&&(t.pointerId=sn),void 0===t.pressure&&(t.pressure=.5),void 0===t.twist&&(t.twist=0),void 0===t.tangentialPressure&&(t.tangentialPressure=0),t.isNormalized=!0,e.push(t));return e},e.prototype.destroy=function(){this.removeEvents(),this.removeAllListeners(),this.renderer=null,this.mouse=null,this.eventData=null,this.interactionDOMElement=null,this.onPointerDown=null,this.processPointerDown=null,this.onPointerUp=null,this.processPointerUp=null,this.onPointerCancel=null,this.processPointerCancel=null,this.onPointerMove=null,this.processPointerMove=null,this.onPointerOut=null,this.processPointerOverOut=null,this.onPointerOver=null,this.search=null},e}(T.a),An={adaptive:!0,maxLength:10,minSegments:8,maxSegments:2048,_segmentsCount:function(t,e){if(void 0===e&&(e=20),!this.adaptive)return e;var i=Math.ceil(t/this.maxLength);return i<this.minSegments?i=this.minSegments:i>this.maxSegments&&(i=this.maxSegments),i}},ln=function(){this.reset()};ln.prototype.clone=function(){var t=new ln;return t.color=this.color,t.alpha=this.alpha,t.texture=this.texture,t.matrix=this.matrix,t.visible=this.visible,t},ln.prototype.reset=function(){this.color=16777215,this.alpha=1,this.texture=Ae.WHITE,this.matrix=null,this.visible=!1},ln.prototype.destroy=function(){this.texture=null,this.matrix=null};var un={build:function(t){t.points=t.shape.points.slice()},triangulate:function(t,e){var i=t.points,n=t.holes,r=e.points,s=e.indices;if(i.length>=6){for(var o=[],a=0;a<n.length;a++){var A=n[a];o.push(i.length/2),i=i.concat(A.points)}var l=F()(i,o,2);if(!l)return;for(var u=r.length/2,h=0;h<l.length;h+=3)s.push(l[h]+u),s.push(l[h+1]+u),s.push(l[h+2]+u);for(var c=0;c<i.length;c++)r.push(i[c])}}},hn={build:function(t){var e,i,n=t.shape,r=t.points,s=n.x,o=n.y;if(r.length=0,t.type===ut.CIRC?(e=n.radius,i=n.radius):(e=n.width,i=n.height),0!==e&&0!==i){var a=Math.floor(30*Math.sqrt(n.radius))||Math.floor(15*Math.sqrt(n.width+n.height));a/=2.3;for(var A=2*Math.PI/a,l=0;l<a;l++)r.push(s+Math.sin(-A*l)*e,o+Math.cos(-A*l)*i);r.push(r[0],r[1])}},triangulate:function(t,e){var i=t.points,n=e.points,r=e.indices,s=n.length/2,o=s;n.push(t.shape.x,t.shape.y);for(var a=0;a<i.length;a+=2)n.push(i[a],i[a+1]),r.push(s++,o,s)}},cn={build:function(t){var e=t.shape,i=t.points,n=e.x,r=e.y,s=e.width,o=e.height,a=e.radius;i.length=0,mn(n,r+a,n,r,n+a,r,i),mn(n+s-a,r,n+s,r,n+s,r+a,i),mn(n+s,r+o-a,n+s,r+o,n+s-a,r+o,i),mn(n+a,r+o,n,r+o,n,r+o-a,i)},triangulate:function(t,e){for(var i=t.points,n=e.points,r=e.indices,s=n.length/2,o=F()(i,null,2),a=0,A=o.length;a<A;a+=3)r.push(o[a]+s),r.push(o[a+1]+s),r.push(o[a+2]+s);for(var l=0,u=i.length;l<u;l++)n.push(i[l],i[++l])}};function fn(t,e,i){return t+(e-t)*i}function mn(t,e,i,n,r,s,o){void 0===o&&(o=[]);for(var a=o,A=0,l=0,u=0,h=0,c=0,f=0,m=0,_=0;m<=20;++m)A=fn(t,i,_=m/20),l=fn(e,n,_),u=fn(i,r,_),h=fn(n,s,_),c=fn(A,u,_),f=fn(l,h,_),a.push(c,f);return a}function _n(t,e){t.lineStyle.native?function(t,e){var i=0,n=t.shape,r=t.points||n.points,s=n.type!==ut.POLY||n.closeStroke;if(0!==r.length){var o=e.points,a=e.indices,A=r.length/2,l=o.length/2,u=l;for(o.push(r[0],r[1]),i=1;i<A;i++)o.push(r[2*i],r[2*i+1]),a.push(u,u+1),u++;s&&a.push(u,l)}}(t,e):function(t,e){var i=t.shape,n=t.points||i.points.slice(),r=e.closePointEps;if(0!==n.length){var s=t.lineStyle,o=new ht(n[0],n[1]),a=new ht(n[n.length-2],n[n.length-1]),A=i.type!==ut.POLY||i.closeStroke,l=Math.abs(o.x-a.x)<r&&Math.abs(o.y-a.y)<r;if(A){n=n.slice(),l&&(n.pop(),n.pop(),a.set(n[n.length-2],n[n.length-1]));var u=a.x+.5*(o.x-a.x),h=a.y+.5*(o.y-a.y);n.unshift(u,h),n.push(u,h)}var c=e.points,f=n.length/2,m=n.length,_=c.length/2,g=s.width/2,d=n[0],p=n[1],y=n[2],C=n[3],v=0,I=0,B=-(p-C),E=d-y,w=0,b=0,x=0,S=0,Q=Math.sqrt(B*B+E*E);B/=Q,E/=Q;var k=s.alignment,D=2*(1-k),M=2*k;c.push(d-(B*=g)*D,p-(E*=g)*D),c.push(d+B*M,p+E*M);for(var R=1;R<f-1;++R){v=n[2*(R+1)],I=n[2*(R+1)+1],B=-((p=n[2*(R-1)+1])-(C=n[2*R+1])),E=(d=n[2*(R-1)])-(y=n[2*R]),B/=Q=Math.sqrt(B*B+E*E),E/=Q,B*=g,E*=g,w=-(C-I),b=y-v,w/=Q=Math.sqrt(w*w+b*b),b/=Q;var V=-E+p-(-E+C),T=-B+y-(-B+d),G=(-B+d)*(-E+C)-(-B+y)*(-E+p),F=-(b*=g)+I-(-b+C),P=-(w*=g)+y-(-w+v),N=(-w+v)*(-b+C)-(-w+y)*(-b+I),L=V*P-F*T;if(Math.abs(L)<.1)L+=10.1,c.push(y-B*D,C-E*D),c.push(y+B*M,C+E*M);else{var U=(T*N-P*G)/L,O=(F*G-V*N)/L;(U-y)*(U-y)+(O-C)*(O-C)>196*g*g?(x=B-w,S=E-b,x/=Q=Math.sqrt(x*x+S*S),S/=Q,c.push(y-(x*=g)*D,C-(S*=g)*D),c.push(y+x*M,C+S*M),c.push(y-x*M*D,C-S*D),m++):(c.push(y+(U-y)*D,C+(O-C)*D),c.push(y-(U-y)*M,C-(O-C)*M))}}B=-((p=n[2*(f-2)+1])-(C=n[2*(f-1)+1])),E=(d=n[2*(f-2)])-(y=n[2*(f-1)]),B/=Q=Math.sqrt(B*B+E*E),E/=Q,c.push(y-(B*=g)*D,C-(E*=g)*D),c.push(y+B*M,C+E*M);for(var Y=e.indices,H=0;H<m-2;++H)Y.push(_,_+1,_+2),_++}}(t,e)}var gn=function(t){function e(e,i,n,r,s,o){s=s||r/2;for(var a=-1*Math.PI/2+o,A=2*n,l=ft/A,u=[],h=0;h<A;h++){var c=h%2?s:r,f=h*l+a;u.push(e+c*Math.cos(f),i+c*Math.sin(f))}t.call(this,u)}return t&&(e.__proto__=t),(e.prototype=Object.create(t&&t.prototype)).constructor=e,e}(Qt),dn=function(){};dn.curveTo=function(t,e,i,n,r,s){var o=s[s.length-1]-e,a=s[s.length-2]-t,A=n-e,l=i-t,u=Math.abs(o*l-a*A);if(u<1e-8||0===r)return s[s.length-2]===t&&s[s.length-1]===e||s.push(t,e),null;var h=o*o+a*a,c=A*A+l*l,f=o*A+a*l,m=r*Math.sqrt(h)/u,_=r*Math.sqrt(c)/u,g=m*f/h,d=_*f/c,p=m*l+_*a,y=m*A+_*o,C=l*(m+d),v=A*(m+d);return{cx:p+t,cy:y+e,radius:r,startAngle:Math.atan2(o*(_+g)-y,a*(_+g)-p),endAngle:Math.atan2(v-y,C-p),anticlockwise:a*A>l*o}},dn.arc=function(t,e,i,n,r,s,o,a,A){for(var l=o-s,u=An._segmentsCount(Math.abs(l)*r,40*Math.ceil(Math.abs(l)/ft)),h=l/(2*u),c=2*h,f=Math.cos(h),m=Math.sin(h),_=u-1,g=_%1/_,d=0;d<=_;++d){var p=h+s+c*(d+g*d),y=Math.cos(p),C=-Math.sin(p);A.push((f*y+m*C)*r+i,(f*-C+m*y)*r+n)}};var pn=function(){};pn.curveLength=function(t,e,i,n,r,s,o,a){for(var A=0,l=0,u=0,h=0,c=0,f=0,m=0,_=0,g=0,d=0,p=0,y=t,C=e,v=1;v<=10;++v)d=y-(_=(m=(f=(c=1-(l=v/10))*c)*c)*t+3*f*l*i+3*c*(u=l*l)*r+(h=u*l)*o),p=C-(g=m*e+3*f*l*n+3*c*u*s+h*a),y=_,C=g,A+=Math.sqrt(d*d+p*p);return A},pn.curveTo=function(t,e,i,n,r,s,o){var a=o[o.length-2],A=o[o.length-1];o.length-=2;var l=An._segmentsCount(pn.curveLength(a,A,t,e,i,n,r,s)),u=0,h=0,c=0,f=0,m=0;o.push(a,A);for(var _=1,g=0;_<=l;++_)o.push((c=(h=(u=1-(g=_/l))*u)*u)*a+3*h*g*t+3*u*(f=g*g)*i+(m=f*g)*r,c*A+3*h*g*e+3*u*f*n+m*s)};var yn=function(){};yn.curveLength=function(t,e,i,n,r,s){var o=t-2*i+r,a=e-2*n+s,A=2*i-2*t,l=2*n-2*e,u=4*(o*o+a*a),h=4*(o*A+a*l),c=A*A+l*l,f=2*Math.sqrt(u+h+c),m=Math.sqrt(u),_=2*u*m,g=2*Math.sqrt(c),d=h/m;return(_*f+m*h*(f-g)+(4*c*u-h*h)*Math.log((2*m+d+f)/(d+g)))/(4*_)},yn.curveTo=function(t,e,i,n,r){for(var s=r[r.length-2],o=r[r.length-1],a=An._segmentsCount(yn.curveLength(s,o,t,e,i,n)),A=0,l=0,u=1;u<=a;++u){var h=u/a;r.push((A=s+(t-s)*h)+(t+(i-t)*h-A)*h,(l=o+(e-o)*h)+(e+(n-e)*h-l)*h)}};var Cn=function(){this.reset()};Cn.prototype.begin=function(t,e,i){this.reset(),this.style=t,this.start=e,this.attribStart=i},Cn.prototype.end=function(t,e){this.attribSize=e-this.attribStart,this.size=t-this.start},Cn.prototype.reset=function(){this.style=null,this.size=0,this.start=0,this.attribStart=0,this.attribSize=0};var vn={};vn[ut.POLY]=un,vn[ut.CIRC]=hn,vn[ut.ELIP]=hn,vn[ut.RECT]={build:function(t){var e=t.shape,i=e.x,n=e.y,r=e.width,s=e.height,o=t.points;o.length=0,o.push(i,n,i+r,n,i+r,n+s,i,n+s)},triangulate:function(t,e){var i=t.points,n=e.points,r=n.length/2;n.push(i[0],i[1],i[2],i[3],i[6],i[7],i[4],i[5]),e.indices.push(r,r+1,r+2,r+1,r+2,r+3)}},vn[ut.RREC]=cn;var In=[],Bn=[],En=function(t,e,i,n){void 0===e&&(e=null),void 0===i&&(i=null),void 0===n&&(n=null),this.shape=t,this.lineStyle=i,this.fillStyle=e,this.matrix=n,this.type=t.type,this.points=[],this.holes=[]};En.prototype.clone=function(){return new En(this.shape,this.fillStyle,this.lineStyle,this.matrix)},En.prototype.destroy=function(){this.shape=null,this.holes.length=0,this.holes=null,this.points.length=0,this.points=null,this.lineStyle=null,this.fillStyle=null};var wn=new ht,bn=new Dt,xn=function(t){function e(){t.call(this),this.points=[],this.colors=[],this.uvs=[],this.indices=[],this.textureIds=[],this.graphicsData=[],this.dirty=0,this.batchDirty=-1,this.cacheDirty=-1,this.clearDirty=0,this.drawCalls=[],this.batches=[],this.shapeIndex=0,this._bounds=new Dt,this.boundsDirty=-1,this.boundsPadding=0,this.batchable=!1,this.indicesUint16=null,this.uvsFloat32=null,this.closePointEps=1e-4}t&&(e.__proto__=t),(e.prototype=Object.create(t&&t.prototype)).constructor=e;var i={bounds:{configurable:!0}};return i.bounds.get=function(){return this.boundsDirty!==this.dirty&&(this.boundsDirty=this.dirty,this.calculateBounds()),this._bounds},e.prototype.invalidate=function(){this.boundsDirty=-1,this.dirty++,this.batchDirty++,this.shapeIndex=0,this.points.length=0,this.colors.length=0,this.uvs.length=0,this.indices.length=0,this.textureIds.length=0;for(var t=0;t<this.drawCalls.length;t++)this.drawCalls[t].textures.length=0,Bn.push(this.drawCalls[t]);this.drawCalls.length=0;for(var e=0;e<this.batches.length;e++){var i=this.batches[e];i.start=0,i.attribStart=0,i.style=null,In.push(i)}this.batches.length=0},e.prototype.clear=function(){return this.graphicsData.length>0&&(this.invalidate(),this.clearDirty++,this.graphicsData.length=0),this},e.prototype.drawShape=function(t,e,i,n){var r=new En(t,e,i,n);return this.graphicsData.push(r),this.dirty++,this},e.prototype.drawHole=function(t,e){if(!this.graphicsData.length)return null;var i=new En(t,null,null,e),n=this.graphicsData[this.graphicsData.length-1];return i.lineStyle=n.lineStyle,n.holes.push(i),this.dirty++,this},e.prototype.destroy=function(e){t.prototype.destroy.call(this,e);for(var i=0;i<this.graphicsData.length;++i)this.graphicsData[i].destroy();this.points.length=0,this.points=null,this.colors.length=0,this.colors=null,this.uvs.length=0,this.uvs=null,this.indices.length=0,this.indices=null,this.indexBuffer.destroy(),this.indexBuffer=null,this.graphicsData.length=0,this.graphicsData=null,this.drawCalls.length=0,this.drawCalls=null,this.batches.length=0,this.batches=null,this._bounds=null},e.prototype.containsPoint=function(t){for(var e=this.graphicsData,i=0;i<e.length;++i){var n=e[i];if(n.fillStyle.visible&&n.shape&&(n.matrix?n.matrix.applyInverse(t,wn):wn.copyFrom(t),n.shape.contains(wn.x,wn.y))){var r=!1;if(n.holes)for(var s=0;s<n.holes.length;s++)if(n.holes[s].shape.contains(wn.x,wn.y)){r=!0;break}if(!r)return!0}}return!1},e.prototype.updateBatches=function(){if(this.graphicsData.length){if(this.validateBatching()){this.cacheDirty=this.dirty;var t=this.uvs,e=this.graphicsData,i=null,n=null;this.batches.length>0&&(n=(i=this.batches[this.batches.length-1]).style);for(var r=this.shapeIndex;r<e.length;r++){this.shapeIndex++;var s=e[r],o=s.fillStyle,a=s.lineStyle;vn[s.type].build(s),s.matrix&&this.transformPoints(s.points,s.matrix);for(var A=0;A<2;A++){var l=0===A?o:a;if(l.visible){var u=this.indices.length,h=this.points.length/2;l.texture.baseTexture.wrapMode=w.REPEAT,i&&!this._compareStyles(n,l)&&(i.end(u,h),i.size>0&&(i=null)),i||((i=In.pop()||new Cn).begin(l,u,h),this.batches.push(i),n=l);var c=this.points.length/2;0===A?this.processFill(s):this.processLine(s),this.addUvs(this.points,t,l.texture,c,this.points.length/2-c,l.matrix)}}}i?(i.end(this.indices.length,this.points.length/2),this.indicesUint16=new Uint16Array(this.indices),this.batchable=this.isBatchable(),this.batchable?this.packBatches():this.buildDrawCalls()):this.batchable=!0}}else this.batchable=!0},e.prototype._compareStyles=function(t,e){return!(!t||!e)&&t.texture.baseTexture===e.texture.baseTexture&&t.color+t.alpha===e.color+e.alpha&&!!t.native==!!e.native},e.prototype.validateBatching=function(){if(this.dirty===this.cacheDirty||!this.graphicsData.length)return!1;for(var t=0,e=this.graphicsData.length;t<e;t++){var i=this.graphicsData[t],n=i.fillStyle,r=i.lineStyle;if(n&&!n.texture.baseTexture.valid)return!1;if(r&&!r.texture.baseTexture.valid)return!1}return!0},e.prototype.packBatches=function(){this.batchDirty++,this.uvsFloat32=new Float32Array(this.uvs);for(var t=this.batches,e=0,i=t.length;e<i;e++)for(var n=t[e],r=0;r<n.size;r++){var s=n.start+r;this.indicesUint16[s]=this.indicesUint16[s]-n.attribStart}},e.prototype.isBatchable=function(){for(var t=this.batches,i=0;i<t.length;i++)if(t[i].style.native)return!1;return this.points.length<2*e.BATCHABLE_SIZE},e.prototype.buildDrawCalls=function(){for(var t=++zt._globalBatch,e=0;e<this.drawCalls.length;e++)this.drawCalls[e].textures.length=0,Bn.push(this.drawCalls[e]);this.drawCalls.length=0;var i=this.colors,n=this.textureIds,r=Bn.pop();r||((r=new Pi).textures=new Ni),r.textures.count=0,r.start=0,r.size=0,r.type=C.TRIANGLES;var s=0,o=null,a=0,A=!1,l=C.TRIANGLES,u=0;this.drawCalls.push(r);for(var h=0;h<this.batches.length;h++){var c=this.batches[h],f=c.style,m=f.texture.baseTexture;A!==!!f.native&&(l=(A=!!f.native)?C.LINES:C.TRIANGLES,o=null,s=8,t++),o!==m&&(o=m,m._batchEnabled!==t&&(8===s&&(t++,s=0,r.size>0&&((r=Bn.pop())||((r=new Pi).textures=new Ni),this.drawCalls.push(r)),r.start=u,r.size=0,r.textures.count=0,r.type=l),m.touched=1,m._batchEnabled=t,m._batchLocation=s,m.wrapMode=10497,r.textures.elements[r.textures.count++]=m,s++)),r.size+=c.size,u+=c.size,a=m._batchLocation,this.addColors(i,f.color,f.alpha,c.attribSize),this.addTextureIds(n,a,c.attribSize)}zt._globalBatch=t,this.packAttributes()},e.prototype.packAttributes=function(){for(var t=this.points,e=this.uvs,i=this.colors,n=this.textureIds,r=new ArrayBuffer(3*t.length*4),s=new Float32Array(r),o=new Uint32Array(r),a=0,A=0;A<t.length/2;A++)s[a++]=t[2*A],s[a++]=t[2*A+1],s[a++]=e[2*A],s[a++]=e[2*A+1],o[a++]=i[A],s[a++]=n[A];this._buffer.update(r),this._indexBuffer.update(this.indicesUint16)},e.prototype.processFill=function(t){t.holes.length?(this.processHoles(t.holes),un.triangulate(t,this)):vn[t.type].triangulate(t,this)},e.prototype.processLine=function(t){_n(t,this);for(var e=0;e<t.holes.length;e++)_n(t.holes[e],this)},e.prototype.processHoles=function(t){for(var e=0;e<t.length;e++){var i=t[e];vn[i.type].build(i),i.matrix&&this.transformPoints(i.points,i.matrix)}},e.prototype.calculateBounds=function(){var t=this._bounds,e=bn,i=gt.IDENTITY;this._bounds.clear(),e.clear();for(var n=0;n<this.graphicsData.length;n++){var r=this.graphicsData[n],s=r.shape,o=r.type,a=r.lineStyle,A=r.matrix||gt.IDENTITY,l=0;if(a&&a.visible){var u=a.alignment;l=a.width,l*=o===ut.POLY?.5+Math.abs(.5-u):Math.max(0,u)}i!==A&&(e.isEmpty()||(t.addBoundsMatrix(e,i),e.clear()),i=A),o===ut.RECT||o===ut.RREC?e.addFramePad(s.x,s.y,s.x+s.width,s.y+s.height,l,l):o===ut.CIRC?e.addFramePad(s.x,s.y,s.x,s.y,s.radius+l,s.radius+l):o===ut.ELIP?e.addFramePad(s.x,s.y,s.x,s.y,s.width+l,s.height+l):t.addVerticesMatrix(i,s.points,0,s.points.length,l,l)}e.isEmpty()||t.addBoundsMatrix(e,i),t.pad(this.boundsPadding,this.boundsPadding)},e.prototype.transformPoints=function(t,e){for(var i=0;i<t.length/2;i++){var n=t[2*i],r=t[2*i+1];t[2*i]=e.a*n+e.c*r+e.tx,t[2*i+1]=e.b*n+e.d*r+e.ty}},e.prototype.addColors=function(t,e,i,n){for(var r=K((e>>16)+(65280&e)+((255&e)<<16),i);n-- >0;)t.push(r)},e.prototype.addTextureIds=function(t,e,i){for(;i-- >0;)t.push(e)},e.prototype.addUvs=function(t,e,i,n,r,s){for(var o=0,a=e.length,A=i.frame;o<r;){var l=t[2*(n+o)],u=t[2*(n+o)+1];if(s){var h=s.a*l+s.c*u+s.tx;u=s.b*l+s.d*u+s.ty,l=h}o++,e.push(l/A.width,u/A.height)}var c=i.baseTexture;(A.width<c.width||A.height<c.height)&&this.adjustUvs(e,i,a,r)},e.prototype.adjustUvs=function(t,e,i,n){for(var r=e.baseTexture,s=i+2*n,o=e.frame,a=o.width/r.width,A=o.height/r.height,l=o.x/o.width,u=o.y/o.height,h=Math.floor(t[i]+1e-6),c=Math.floor(t[i+1]+1e-6),f=i+2;f<s;f+=2)h=Math.min(h,Math.floor(t[f]+1e-6)),c=Math.min(c,Math.floor(t[f+1]+1e-6));l-=h,u-=c;for(var m=i;m<s;m+=2)t[m]=(t[m]+l)*a,t[m+1]=(t[m+1]+u)*A},Object.defineProperties(e.prototype,i),e}(Hi);xn.BATCHABLE_SIZE=100;var Sn=function(t){function e(){t.apply(this,arguments)}return t&&(e.__proto__=t),(e.prototype=Object.create(t&&t.prototype)).constructor=e,e.prototype.clone=function(){var t=new e;return t.color=this.color,t.alpha=this.alpha,t.texture=this.texture,t.matrix=this.matrix,t.visible=this.visible,t.width=this.width,t.alignment=this.alignment,t.native=this.native,t},e.prototype.reset=function(){t.prototype.reset.call(this),this.color=0,this.width=0,this.alignment=.5,this.native=!1},e}(ln),Qn=new Float32Array(3),kn={},Dn=function(t){function e(e){void 0===e&&(e=null),t.call(this),this.geometry=e||new xn,this.geometry.refCount++,this.shader=null,this.state=ai.for2d(),this._fillStyle=new ln,this._lineStyle=new Sn,this._matrix=null,this._holeMode=!1,this.currentPath=null,this.batches=[],this.batchTint=-1,this.vertexData=null,this._transformID=-1,this.batchDirty=-1,this.pluginName="batch",this.tint=16777215,this.blendMode=y.NORMAL}t&&(e.__proto__=t),(e.prototype=Object.create(t&&t.prototype)).constructor=e;var i={blendMode:{configurable:!0},tint:{configurable:!0},fill:{configurable:!0},line:{configurable:!0}};return e.prototype.clone=function(){return this.finishPoly(),new e(this.geometry)},i.blendMode.set=function(t){this.state.blendMode=t},i.blendMode.get=function(){return this.state.blendMode},i.tint.get=function(){return this._tint},i.tint.set=function(t){this._tint=t},i.fill.get=function(){return this._fillStyle},i.line.get=function(){return this._lineStyle},e.prototype.lineStyle=function(t){if("number"==typeof t){var e=arguments;t={width:e[0]||0,color:e[1]||0,alpha:void 0!==e[2]?e[2]:1,alignment:void 0!==e[3]?e[3]:.5,native:!!e[4]}}return this.lineTextureStyle(t)},e.prototype.lineTextureStyle=function(t){if("number"==typeof t){lt("v5.2.0","Please use object-based options for Graphics#lineTextureStyle");var e=arguments[0],i=arguments[1],n=arguments[2],r=arguments[3],s=arguments[4],o=arguments[5],a=arguments[6];t={width:e,texture:i,color:n,alpha:r,matrix:s,alignment:o,native:a},Object.keys(t).forEach((function(e){return void 0===t[e]&&delete t[e]}))}t=Object.assign({width:0,texture:Ae.WHITE,color:t&&t.texture?16777215:0,alpha:1,matrix:null,alignment:.5,native:!1},t),this.currentPath&&this.startPoly();var A=t.width>0&&t.alpha>0;return A?(t.matrix&&(t.matrix=t.matrix.clone(),t.matrix.invert()),Object.assign(this._lineStyle,{visible:A},t)):this._lineStyle.reset(),this},e.prototype.startPoly=function(){if(this.currentPath){var t=this.currentPath.points,e=this.currentPath.points.length;e>2&&(this.drawShape(this.currentPath),this.currentPath=new Qt,this.currentPath.closeStroke=!1,this.currentPath.points.push(t[e-2],t[e-1]))}else this.currentPath=new Qt,this.currentPath.closeStroke=!1},e.prototype.finishPoly=function(){this.currentPath&&(this.currentPath.points.length>2?(this.drawShape(this.currentPath),this.currentPath=null):this.currentPath.points.length=0)},e.prototype.moveTo=function(t,e){return this.startPoly(),this.currentPath.points[0]=t,this.currentPath.points[1]=e,this},e.prototype.lineTo=function(t,e){this.currentPath||this.moveTo(0,0);var i=this.currentPath.points;return i[i.length-2]===t&&i[i.length-1]===e||i.push(t,e),this},e.prototype._initCurve=function(t,e){void 0===t&&(t=0),void 0===e&&(e=0),this.currentPath?0===this.currentPath.points.length&&(this.currentPath.points=[t,e]):this.moveTo(t,e)},e.prototype.quadraticCurveTo=function(t,e,i,n){this._initCurve();var r=this.currentPath.points;return 0===r.length&&this.moveTo(0,0),yn.curveTo(t,e,i,n,r),this},e.prototype.bezierCurveTo=function(t,e,i,n,r,s){return this._initCurve(),pn.curveTo(t,e,i,n,r,s,this.currentPath.points),this},e.prototype.arcTo=function(t,e,i,n,r){this._initCurve(t,e);var s=dn.curveTo(t,e,i,n,r,this.currentPath.points);return s&&this.arc(s.cx,s.cy,s.radius,s.startAngle,s.endAngle,s.anticlockwise),this},e.prototype.arc=function(t,e,i,n,r,s){if(void 0===s&&(s=!1),n===r)return this;if(!s&&r<=n?r+=ft:s&&n<=r&&(n+=ft),0==r-n)return this;var o=t+Math.cos(n)*i,a=e+Math.sin(n)*i,A=this.geometry.closePointEps,l=this.currentPath?this.currentPath.points:null;if(l){var u=Math.abs(l[l.length-2]-o),h=Math.abs(l[l.length-1]-a);u<A&&h<A||l.push(o,a)}else this.moveTo(o,a),l=this.currentPath.points;return dn.arc(o,a,t,e,i,n,r,s,l),this},e.prototype.beginFill=function(t,e){return void 0===t&&(t=0),void 0===e&&(e=1),this.beginTextureFill({texture:Ae.WHITE,color:t,alpha:e})},e.prototype.beginTextureFill=function(t){if(t instanceof Ae){lt("v5.2.0","Please use object-based options for Graphics#beginTextureFill");var e=arguments[0],i=arguments[1],n=arguments[2],r=arguments[3];t={texture:e,color:i,alpha:n,matrix:r},Object.keys(t).forEach((function(e){return void 0===t[e]&&delete t[e]}))}t=Object.assign({texture:Ae.WHITE,color:16777215,alpha:1,matrix:null},t),this.currentPath&&this.startPoly();var s=t.alpha>0;return s?(t.matrix&&(t.matrix=t.matrix.clone(),t.matrix.invert()),Object.assign(this._fillStyle,{visible:s},t)):this._fillStyle.reset(),this},e.prototype.endFill=function(){return this.finishPoly(),this._fillStyle.reset(),this},e.prototype.drawRect=function(t,e,i,n){return this.drawShape(new bt(t,e,i,n))},e.prototype.drawRoundedRect=function(t,e,i,n,r){return this.drawShape(new kt(t,e,i,n,r))},e.prototype.drawCircle=function(t,e,i){return this.drawShape(new xt(t,e,i))},e.prototype.drawEllipse=function(t,e,i,n){return this.drawShape(new St(t,e,i,n))},e.prototype.drawPolygon=function(t){var e=arguments,i=t,n=!0;if(i.points&&(n=i.closeStroke,i=i.points),!Array.isArray(i)){i=new Array(arguments.length);for(var r=0;r<i.length;++r)i[r]=e[r]}var s=new Qt(i);return s.closeStroke=n,this.drawShape(s),this},e.prototype.drawShape=function(t){return this._holeMode?this.geometry.drawHole(t,this._matrix):this.geometry.drawShape(t,this._fillStyle.clone(),this._lineStyle.clone(),this._matrix),this},e.prototype.drawStar=function(t,e,i,n,r,s){return void 0===s&&(s=0),this.drawPolygon(new gn(t,e,i,n,r,s))},e.prototype.clear=function(){return this.geometry.clear(),this._lineStyle.reset(),this._fillStyle.reset(),this._matrix=null,this._holeMode=!1,this.currentPath=null,this},e.prototype.isFastRect=function(){return 1===this.geometry.graphicsData.length&&this.geometry.graphicsData[0].shape.type===ut.RECT&&!this.geometry.graphicsData[0].lineWidth},e.prototype._render=function(t){this.finishPoly();var e=this.geometry;e.updateBatches(),e.batchable?(this.batchDirty!==e.batchDirty&&this._populateBatches(),this._renderBatched(t)):(t.batch.flush(),this._renderDirect(t))},e.prototype._populateBatches=function(){var t=this.geometry,e=this.blendMode;this.batches=[],this.batchTint=-1,this._transformID=-1,this.batchDirty=t.batchDirty,this.vertexData=new Float32Array(t.points);for(var i=0,n=t.batches.length;i<n;i++){var r=t.batches[i],s=r.style.color,o=new Float32Array(this.vertexData.buffer,4*r.attribStart*2,2*r.attribSize),a=new Float32Array(t.uvsFloat32.buffer,4*r.attribStart*2,2*r.attribSize),A={vertexData:o,blendMode:e,indices:new Uint16Array(t.indicesUint16.buffer,2*r.start,r.size),uvs:a,_batchRGB:Y(s),_tintRGB:s,_texture:r.style.texture,alpha:r.style.alpha,worldAlpha:1};this.batches[i]=A}},e.prototype._renderBatched=function(t){if(this.batches.length){t.batch.setObjectRenderer(t.plugins[this.pluginName]),this.calculateVertices(),this.calculateTints();for(var e=0,i=this.batches.length;e<i;e++){var n=this.batches[e];n.worldAlpha=this.worldAlpha*n.alpha,t.plugins[this.pluginName].render(n)}}},e.prototype._renderDirect=function(t){var e=this._resolveDirectShader(t),i=this.geometry,n=this.tint,r=this.worldAlpha,s=e.uniforms,o=i.drawCalls;s.translationMatrix=this.transform.worldTransform,s.tint[0]=(n>>16&255)/255*r,s.tint[1]=(n>>8&255)/255*r,s.tint[2]=(255&n)/255*r,s.tint[3]=r,t.shader.bind(e),t.geometry.bind(i,e),t.state.set(this.state);for(var a=0,A=o.length;a<A;a++)this._renderDrawCallDirect(t,i.drawCalls[a])},e.prototype._renderDrawCallDirect=function(t,e){for(var i=e.textures,n=e.type,r=e.size,s=e.start,o=i.count,a=0;a<o;a++)t.texture.bind(i.elements[a],a);t.geometry.draw(n,r,s)},e.prototype._resolveDirectShader=function(t){var e=this.shader,i=this.pluginName;if(!e){if(!kn[i]){for(var n=new Int32Array(16),r=0;r<16;r++)n[r]=r;var s={tint:new Float32Array([1,1,1,1]),translationMatrix:new gt,default:Ee.from({uSamplers:n},!0)};kn[i]=new si(t.plugins[i]._shader.program,s)}e=kn[i]}return e},e.prototype._calculateBounds=function(){this.finishPoly();var t=this.geometry;if(t.graphicsData.length){var e=t.bounds;this._bounds.addFrame(this.transform,e.minX,e.minY,e.maxX,e.maxY)}},e.prototype.containsPoint=function(t){return this.worldTransform.applyInverse(t,e._TEMP_POINT),this.geometry.containsPoint(e._TEMP_POINT)},e.prototype.calculateTints=function(){if(this.batchTint!==this.tint){this.batchTint=this.tint;for(var t=Y(this.tint,Qn),e=0;e<this.batches.length;e++){var i=this.batches[e],n=i._batchRGB,r=(t[0]*n[0]*255<<16)+(t[1]*n[1]*255<<8)+(0|t[2]*n[2]*255);i._tintRGB=(r>>16)+(65280&r)+((255&r)<<16)}}},e.prototype.calculateVertices=function(){if(this._transformID!==this.transform._worldID){this._transformID=this.transform._worldID;for(var t=this.transform.worldTransform,e=t.a,i=t.b,n=t.c,r=t.d,s=t.tx,o=t.ty,a=this.geometry.points,A=this.vertexData,l=0,u=0;u<a.length;u+=2){var h=a[u],c=a[u+1];A[l++]=e*h+n*c+s,A[l++]=r*c+i*h+o}}},e.prototype.closePath=function(){var t=this.currentPath;return t&&(t.closeStroke=!0),this},e.prototype.setMatrix=function(t){return this._matrix=t,this},e.prototype.beginHole=function(){return this.finishPoly(),this._holeMode=!0,this},e.prototype.endHole=function(){return this.finishPoly(),this._holeMode=!1,this},e.prototype.destroy=function(e){t.prototype.destroy.call(this,e),this.geometry.refCount--,0===this.geometry.refCount&&this.geometry.dispose(),this._matrix=null,this.currentPath=null,this._lineStyle.destroy(),this._lineStyle=null,this._fillStyle.destroy(),this._fillStyle=null,this.geometry=null,this.shader=null,this.vertexData=null,this.batches.length=0,this.batches=null,t.prototype.destroy.call(this,e)},Object.defineProperties(e.prototype,i),e}(Vt);Dn._TEMP_POINT=new ht;var Mn=new ht,Rn=new Uint16Array([0,1,2,0,2,3]),Vn=function(t){function e(e){t.call(this),this._anchor=new ct(this._onAnchorUpdate,this,e?e.defaultAnchor.x:0,e?e.defaultAnchor.y:0),this._texture=null,this._width=0,this._height=0,this._tint=null,this._tintRGB=null,this.tint=16777215,this.blendMode=y.NORMAL,this.shader=null,this._cachedTint=16777215,this.uvs=null,this.texture=e||Ae.EMPTY,this.vertexData=new Float32Array(8),this.vertexTrimmedData=null,this._transformID=-1,this._textureID=-1,this._transformTrimmedID=-1,this._textureTrimmedID=-1,this.indices=Rn,this.size=4,this.start=0,this.pluginName="batch",this.isSprite=!0,this._roundPixels=R.ROUND_PIXELS}t&&(e.__proto__=t),(e.prototype=Object.create(t&&t.prototype)).constructor=e;var i={roundPixels:{configurable:!0},width:{configurable:!0},height:{configurable:!0},anchor:{configurable:!0},tint:{configurable:!0},texture:{configurable:!0}};return e.prototype._onTextureUpdate=function(){this._textureID=-1,this._textureTrimmedID=-1,this._cachedTint=16777215,this._width&&(this.scale.x=W(this.scale.x)*this._width/this._texture.orig.width),this._height&&(this.scale.y=W(this.scale.y)*this._height/this._texture.orig.height)},e.prototype._onAnchorUpdate=function(){this._transformID=-1,this._transformTrimmedID=-1},e.prototype.calculateVertices=function(){var t=this._texture;if(this._transformID!==this.transform._worldID||this._textureID!==t._updateID){this._textureID!==t._updateID&&(this.uvs=this._texture._uvs.uvsFloat32),this._transformID=this.transform._worldID,this._textureID=t._updateID;var e=this.transform.worldTransform,i=e.a,n=e.b,r=e.c,s=e.d,o=e.tx,a=e.ty,A=this.vertexData,l=t.trim,u=t.orig,h=this._anchor,c=0,f=0,m=0,_=0;if(l?(c=(f=l.x-h._x*u.width)+l.width,m=(_=l.y-h._y*u.height)+l.height):(c=(f=-h._x*u.width)+u.width,m=(_=-h._y*u.height)+u.height),A[0]=i*f+r*_+o,A[1]=s*_+n*f+a,A[2]=i*c+r*_+o,A[3]=s*_+n*c+a,A[4]=i*c+r*m+o,A[5]=s*m+n*c+a,A[6]=i*f+r*m+o,A[7]=s*m+n*f+a,this._roundPixels)for(var g=0;g<8;g++)A[g]=Math.round(A[g])}},e.prototype.calculateTrimmedVertices=function(){if(this.vertexTrimmedData){if(this._transformTrimmedID===this.transform._worldID&&this._textureTrimmedID===this._texture._updateID)return}else this.vertexTrimmedData=new Float32Array(8);this._transformTrimmedID=this.transform._worldID,this._textureTrimmedID=this._texture._updateID;var t=this.vertexTrimmedData,e=this._texture.orig,i=this._anchor,n=this.transform.worldTransform,r=n.a,s=n.b,o=n.c,a=n.d,A=n.tx,l=n.ty,u=-i._x*e.width,h=u+e.width,c=-i._y*e.height,f=c+e.height;t[0]=r*u+o*c+A,t[1]=a*c+s*u+l,t[2]=r*h+o*c+A,t[3]=a*c+s*h+l,t[4]=r*h+o*f+A,t[5]=a*f+s*h+l,t[6]=r*u+o*f+A,t[7]=a*f+s*u+l},e.prototype._render=function(t){this.calculateVertices(),t.batch.setObjectRenderer(t.plugins[this.pluginName]),t.plugins[this.pluginName].render(this)},e.prototype._calculateBounds=function(){var t=this._texture.trim,e=this._texture.orig;!t||t.width===e.width&&t.height===e.height?(this.calculateVertices(),this._bounds.addQuad(this.vertexData)):(this.calculateTrimmedVertices(),this._bounds.addQuad(this.vertexTrimmedData))},e.prototype.getLocalBounds=function(e){return 0===this.children.length?(this._bounds.minX=this._texture.orig.width*-this._anchor._x,this._bounds.minY=this._texture.orig.height*-this._anchor._y,this._bounds.maxX=this._texture.orig.width*(1-this._anchor._x),this._bounds.maxY=this._texture.orig.height*(1-this._anchor._y),e||(this._localBoundsRect||(this._localBoundsRect=new bt),e=this._localBoundsRect),this._bounds.getRectangle(e)):t.prototype.getLocalBounds.call(this,e)},e.prototype.containsPoint=function(t){this.worldTransform.applyInverse(t,Mn);var e=this._texture.orig.width,i=this._texture.orig.height,n=-e*this.anchor.x,r=0;return Mn.x>=n&&Mn.x<n+e&&Mn.y>=(r=-i*this.anchor.y)&&Mn.y<r+i},e.prototype.destroy=function(e){t.prototype.destroy.call(this,e),this._texture.off("update",this._onTextureUpdate,this),this._anchor=null,("boolean"==typeof e?e:e&&e.texture)&&this._texture.destroy(!!("boolean"==typeof e?e:e&&e.baseTexture)),this._texture=null,this.shader=null},e.from=function(t,i){return new e(t instanceof Ae?t:Ae.from(t,i))},i.roundPixels.set=function(t){this._roundPixels!==t&&(this._transformID=-1),this._roundPixels=t},i.roundPixels.get=function(){return this._roundPixels},i.width.get=function(){return Math.abs(this.scale.x)*this._texture.orig.width},i.width.set=function(t){var e=W(this.scale.x)||1;this.scale.x=e*t/this._texture.orig.width,this._width=t},i.height.get=function(){return Math.abs(this.scale.y)*this._texture.orig.height},i.height.set=function(t){var e=W(this.scale.y)||1;this.scale.y=e*t/this._texture.orig.height,this._height=t},i.anchor.get=function(){return this._anchor},i.anchor.set=function(t){this._anchor.copyFrom(t)},i.tint.get=function(){return this._tint},i.tint.set=function(t){this._tint=t,this._tintRGB=(t>>16)+(65280&t)+((255&t)<<16)},i.texture.get=function(){return this._texture},i.texture.set=function(t){this._texture!==t&&(this._texture&&this._texture.off("update",this._onTextureUpdate,this),this._texture=t||Ae.EMPTY,this._cachedTint=16777215,this._textureID=-1,this._textureTrimmedID=-1,t&&(t.baseTexture.valid?this._onTextureUpdate():t.once("update",this._onTextureUpdate,this)))},Object.defineProperties(e.prototype,i),e}(Vt),Tn={align:"left",breakWords:!1,dropShadow:!1,dropShadowAlpha:1,dropShadowAngle:Math.PI/6,dropShadowBlur:0,dropShadowColor:"black",dropShadowDistance:5,fill:"black",fillGradientType:0,fillGradientStops:[],fontFamily:"Arial",fontSize:26,fontStyle:"normal",fontVariant:"normal",fontWeight:"normal",letterSpacing:0,lineHeight:0,lineJoin:"miter",miterLimit:10,padding:0,stroke:"black",strokeThickness:0,textBaseline:"alphabetic",trim:!1,whiteSpace:"pre",wordWrap:!1,wordWrapWidth:100,leading:0},Gn=["serif","sans-serif","monospace","cursive","fantasy","system-ui"],Fn=function(t){this.styleID=0,this.reset(),Un(this,t,t)},Pn={align:{configurable:!0},breakWords:{configurable:!0},dropShadow:{configurable:!0},dropShadowAlpha:{configurable:!0},dropShadowAngle:{configurable:!0},dropShadowBlur:{configurable:!0},dropShadowColor:{configurable:!0},dropShadowDistance:{configurable:!0},fill:{configurable:!0},fillGradientType:{configurable:!0},fillGradientStops:{configurable:!0},fontFamily:{configurable:!0},fontSize:{configurable:!0},fontStyle:{configurable:!0},fontVariant:{configurable:!0},fontWeight:{configurable:!0},letterSpacing:{configurable:!0},lineHeight:{configurable:!0},leading:{configurable:!0},lineJoin:{configurable:!0},miterLimit:{configurable:!0},padding:{configurable:!0},stroke:{configurable:!0},strokeThickness:{configurable:!0},textBaseline:{configurable:!0},trim:{configurable:!0},whiteSpace:{configurable:!0},wordWrap:{configurable:!0},wordWrapWidth:{configurable:!0}};function Nn(t){return"number"==typeof t?H(t):("string"==typeof t&&0===t.indexOf("0x")&&(t=t.replace("0x","#")),t)}function Ln(t){if(Array.isArray(t)){for(var e=0;e<t.length;++e)t[e]=Nn(t[e]);return t}return Nn(t)}function Un(t,e,i){for(var n in i)t[n]=Array.isArray(e[n])?e[n].slice():e[n]}Fn.prototype.clone=function(){var t={};return Un(t,this,Tn),new Fn(t)},Fn.prototype.reset=function(){Un(this,Tn,Tn)},Pn.align.get=function(){return this._align},Pn.align.set=function(t){this._align!==t&&(this._align=t,this.styleID++)},Pn.breakWords.get=function(){return this._breakWords},Pn.breakWords.set=function(t){this._breakWords!==t&&(this._breakWords=t,this.styleID++)},Pn.dropShadow.get=function(){return this._dropShadow},Pn.dropShadow.set=function(t){this._dropShadow!==t&&(this._dropShadow=t,this.styleID++)},Pn.dropShadowAlpha.get=function(){return this._dropShadowAlpha},Pn.dropShadowAlpha.set=function(t){this._dropShadowAlpha!==t&&(this._dropShadowAlpha=t,this.styleID++)},Pn.dropShadowAngle.get=function(){return this._dropShadowAngle},Pn.dropShadowAngle.set=function(t){this._dropShadowAngle!==t&&(this._dropShadowAngle=t,this.styleID++)},Pn.dropShadowBlur.get=function(){return this._dropShadowBlur},Pn.dropShadowBlur.set=function(t){this._dropShadowBlur!==t&&(this._dropShadowBlur=t,this.styleID++)},Pn.dropShadowColor.get=function(){return this._dropShadowColor},Pn.dropShadowColor.set=function(t){var e=Ln(t);this._dropShadowColor!==e&&(this._dropShadowColor=e,this.styleID++)},Pn.dropShadowDistance.get=function(){return this._dropShadowDistance},Pn.dropShadowDistance.set=function(t){this._dropShadowDistance!==t&&(this._dropShadowDistance=t,this.styleID++)},Pn.fill.get=function(){return this._fill},Pn.fill.set=function(t){var e=Ln(t);this._fill!==e&&(this._fill=e,this.styleID++)},Pn.fillGradientType.get=function(){return this._fillGradientType},Pn.fillGradientType.set=function(t){this._fillGradientType!==t&&(this._fillGradientType=t,this.styleID++)},Pn.fillGradientStops.get=function(){return this._fillGradientStops},Pn.fillGradientStops.set=function(t){(function(t,e){if(!Array.isArray(t)||!Array.isArray(e))return!1;if(t.length!==e.length)return!1;for(var i=0;i<t.length;++i)if(t[i]!==e[i])return!1;return!0})(this._fillGradientStops,t)||(this._fillGradientStops=t,this.styleID++)},Pn.fontFamily.get=function(){return this._fontFamily},Pn.fontFamily.set=function(t){this.fontFamily!==t&&(this._fontFamily=t,this.styleID++)},Pn.fontSize.get=function(){return this._fontSize},Pn.fontSize.set=function(t){this._fontSize!==t&&(this._fontSize=t,this.styleID++)},Pn.fontStyle.get=function(){return this._fontStyle},Pn.fontStyle.set=function(t){this._fontStyle!==t&&(this._fontStyle=t,this.styleID++)},Pn.fontVariant.get=function(){return this._fontVariant},Pn.fontVariant.set=function(t){this._fontVariant!==t&&(this._fontVariant=t,this.styleID++)},Pn.fontWeight.get=function(){return this._fontWeight},Pn.fontWeight.set=function(t){this._fontWeight!==t&&(this._fontWeight=t,this.styleID++)},Pn.letterSpacing.get=function(){return this._letterSpacing},Pn.letterSpacing.set=function(t){this._letterSpacing!==t&&(this._letterSpacing=t,this.styleID++)},Pn.lineHeight.get=function(){return this._lineHeight},Pn.lineHeight.set=function(t){this._lineHeight!==t&&(this._lineHeight=t,this.styleID++)},Pn.leading.get=function(){return this._leading},Pn.leading.set=function(t){this._leading!==t&&(this._leading=t,this.styleID++)},Pn.lineJoin.get=function(){return this._lineJoin},Pn.lineJoin.set=function(t){this._lineJoin!==t&&(this._lineJoin=t,this.styleID++)},Pn.miterLimit.get=function(){return this._miterLimit},Pn.miterLimit.set=function(t){this._miterLimit!==t&&(this._miterLimit=t,this.styleID++)},Pn.padding.get=function(){return this._padding},Pn.padding.set=function(t){this._padding!==t&&(this._padding=t,this.styleID++)},Pn.stroke.get=function(){return this._stroke},Pn.stroke.set=function(t){var e=Ln(t);this._stroke!==e&&(this._stroke=e,this.styleID++)},Pn.strokeThickness.get=function(){return this._strokeThickness},Pn.strokeThickness.set=function(t){this._strokeThickness!==t&&(this._strokeThickness=t,this.styleID++)},Pn.textBaseline.get=function(){return this._textBaseline},Pn.textBaseline.set=function(t){this._textBaseline!==t&&(this._textBaseline=t,this.styleID++)},Pn.trim.get=function(){return this._trim},Pn.trim.set=function(t){this._trim!==t&&(this._trim=t,this.styleID++)},Pn.whiteSpace.get=function(){return this._whiteSpace},Pn.whiteSpace.set=function(t){this._whiteSpace!==t&&(this._whiteSpace=t,this.styleID++)},Pn.wordWrap.get=function(){return this._wordWrap},Pn.wordWrap.set=function(t){this._wordWrap!==t&&(this._wordWrap=t,this.styleID++)},Pn.wordWrapWidth.get=function(){return this._wordWrapWidth},Pn.wordWrapWidth.set=function(t){this._wordWrapWidth!==t&&(this._wordWrapWidth=t,this.styleID++)},Fn.prototype.toFontString=function(){var t="number"==typeof this.fontSize?this.fontSize+"px":this.fontSize,e=this.fontFamily;Array.isArray(this.fontFamily)||(e=this.fontFamily.split(","));for(var i=e.length-1;i>=0;i--){var n=e[i].trim();!/([\"\'])[^\'\"]+\1/.test(n)&&Gn.indexOf(n)<0&&(n='"'+n+'"'),e[i]=n}return this.fontStyle+" "+this.fontVariant+" "+this.fontWeight+" "+t+" "+e.join(",")},Object.defineProperties(Fn.prototype,Pn);var On=function(t,e,i,n,r,s,o,a,A){this.text=t,this.style=e,this.width=i,this.height=n,this.lines=r,this.lineWidths=s,this.lineHeight=o,this.maxLineWidth=a,this.fontProperties=A};On.measureText=function(t,e,i,n){void 0===n&&(n=On._canvas),i=null==i?e.wordWrap:i;var r=e.toFontString(),s=On.measureFont(r);0===s.fontSize&&(s.fontSize=e.fontSize,s.ascent=e.fontSize);var o=n.getContext("2d");o.font=r;for(var a=(i?On.wordWrap(t,e,n):t).split(/(?:\r\n|\r|\n)/),A=new Array(a.length),l=0,u=0;u<a.length;u++){var h=o.measureText(a[u]).width+(a[u].length-1)*e.letterSpacing;A[u]=h,l=Math.max(l,h)}var c=l+e.strokeThickness;e.dropShadow&&(c+=e.dropShadowDistance);var f=e.lineHeight||s.fontSize+e.strokeThickness,m=Math.max(f,s.fontSize+e.strokeThickness)+(a.length-1)*(f+e.leading);return e.dropShadow&&(m+=e.dropShadowDistance),new On(t,e,c,m,a,A,f+e.leading,l,s)},On.wordWrap=function(t,e,i){void 0===i&&(i=On._canvas);for(var n=i.getContext("2d"),r=0,s="",o="",a={},A=e.letterSpacing,l=e.whiteSpace,u=On.collapseSpaces(l),h=On.collapseNewlines(l),c=!u,f=e.wordWrapWidth+A,m=On.tokenize(t),_=0;_<m.length;_++){var g=m[_];if(On.isNewline(g)){if(!h){o+=On.addLine(s),c=!u,s="",r=0;continue}g=" "}if(u){var d=On.isBreakingSpace(g),p=On.isBreakingSpace(s[s.length-1]);if(d&&p)continue}var y=On.getFromCache(g,A,a,n);if(y>f)if(""!==s&&(o+=On.addLine(s),s="",r=0),On.canBreakWords(g,e.breakWords))for(var C=g.split(""),v=0;v<C.length;v++){for(var I=C[v],B=1;C[v+B];){var E=C[v+B];if(On.canBreakChars(I[I.length-1],E,g,v,e.breakWords))break;I+=E,B++}v+=I.length-1;var w=On.getFromCache(I,A,a,n);w+r>f&&(o+=On.addLine(s),c=!1,s="",r=0),s+=I,r+=w}else s.length>0&&(o+=On.addLine(s),s="",r=0),o+=On.addLine(g,!(_===m.length-1)),c=!1,s="",r=0;else y+r>f&&(c=!1,o+=On.addLine(s),s="",r=0),(s.length>0||!On.isBreakingSpace(g)||c)&&(s+=g,r+=y)}return o+On.addLine(s,!1)},On.addLine=function(t,e){return void 0===e&&(e=!0),t=On.trimRight(t),e?t+"\n":t},On.getFromCache=function(t,e,i,n){var r=i[t];if(void 0===r){var s=t.length*e;r=n.measureText(t).width+s,i[t]=r}return r},On.collapseSpaces=function(t){return"normal"===t||"pre-line"===t},On.collapseNewlines=function(t){return"normal"===t},On.trimRight=function(t){if("string"!=typeof t)return"";for(var e=t.length-1;e>=0&&On.isBreakingSpace(t[e]);e--)t=t.slice(0,-1);return t},On.isNewline=function(t){return"string"==typeof t&&On._newlines.indexOf(t.charCodeAt(0))>=0},On.isBreakingSpace=function(t){return"string"==typeof t&&On._breakingSpaces.indexOf(t.charCodeAt(0))>=0},On.tokenize=function(t){var e=[],i="";if("string"!=typeof t)return e;for(var n=0;n<t.length;n++){var r=t[n];On.isBreakingSpace(r)||On.isNewline(r)?(""!==i&&(e.push(i),i=""),e.push(r)):i+=r}return""!==i&&e.push(i),e},On.canBreakWords=function(t,e){return e},On.canBreakChars=function(t,e,i,n,r){return!0},On.measureFont=function(t){if(On._fonts[t])return On._fonts[t];var e={},i=On._canvas,n=On._context;n.font=t;var r=On.METRICS_STRING+On.BASELINE_SYMBOL,s=Math.ceil(n.measureText(r).width),o=Math.ceil(n.measureText(On.BASELINE_SYMBOL).width),a=2*o;o=o*On.BASELINE_MULTIPLIER|0,i.width=s,i.height=a,n.fillStyle="#f00",n.fillRect(0,0,s,a),n.font=t,n.textBaseline="alphabetic",n.fillStyle="#000",n.fillText(r,0,o);var A=n.getImageData(0,0,s,a).data,l=A.length,u=4*s,h=0,c=0,f=!1;for(h=0;h<o;++h){for(var m=0;m<u;m+=4)if(255!==A[c+m]){f=!0;break}if(f)break;c+=u}for(e.ascent=o-h,c=l-u,f=!1,h=a;h>o;--h){for(var _=0;_<u;_+=4)if(255!==A[c+_]){f=!0;break}if(f)break;c-=u}return e.descent=h-o,e.fontSize=e.ascent+e.descent,On._fonts[t]=e,e},On.clearMetrics=function(t){void 0===t&&(t=""),t?delete On._fonts[t]:On._fonts={}};var Yn=function(){try{var t=new OffscreenCanvas(0,0);return t.getContext("2d")?t:document.createElement("canvas")}catch(e){return document.createElement("canvas")}}();Yn.width=Yn.height=10,On._canvas=Yn,On._context=Yn.getContext("2d"),On._fonts={},On.METRICS_STRING="|\xc9q\xc5",On.BASELINE_SYMBOL="M",On.BASELINE_MULTIPLIER=1.4,On._newlines=[10,13],On._breakingSpaces=[9,32,8192,8193,8194,8195,8196,8197,8198,8200,8201,8202,8287,12288];var Hn={texture:!0,children:!1,baseTexture:!0},Jn=function(t){function e(e,i,n){(n=n||document.createElement("canvas")).width=3,n.height=3;var r=Ae.from(n);r.orig=new bt,r.trim=new bt,t.call(this,r),this.canvas=n,this.context=this.canvas.getContext("2d"),this._resolution=R.RESOLUTION,this._autoResolution=!0,this._text=null,this._style=null,this._styleListener=null,this._font="",this.text=e,this.style=i,this.localStyleID=-1}t&&(e.__proto__=t),(e.prototype=Object.create(t&&t.prototype)).constructor=e;var i={width:{configurable:!0},height:{configurable:!0},style:{configurable:!0},text:{configurable:!0},resolution:{configurable:!0}};return e.prototype.updateText=function(t){var e=this._style;if(this.localStyleID!==e.styleID&&(this.dirty=!0,this.localStyleID=e.styleID),this.dirty||!t){this._font=this._style.toFontString();var i,n,r=this.context,s=On.measureText(this._text||" ",this._style,this._style.wordWrap,this.canvas),o=s.height,a=s.lines,A=s.lineHeight,l=s.lineWidths,u=s.maxLineWidth,h=s.fontProperties;this.canvas.width=Math.ceil((Math.max(1,s.width)+2*e.padding)*this._resolution),this.canvas.height=Math.ceil((Math.max(1,o)+2*e.padding)*this._resolution),r.scale(this._resolution,this._resolution),r.clearRect(0,0,this.canvas.width,this.canvas.height),r.font=this._font,r.lineWidth=e.strokeThickness,r.textBaseline=e.textBaseline,r.lineJoin=e.lineJoin,r.miterLimit=e.miterLimit;for(var c,f=e.dropShadow?2:1,m=0;m<f;++m){var _=e.dropShadow&&0===m,g=_?2*o:0,d=g*this.resolution;if(_){r.fillStyle="black",r.strokeStyle="black";var p=e.dropShadowColor,y=Y("number"==typeof p?p:("string"==typeof(c=p)&&"#"===c[0]&&(c=c.substr(1)),parseInt(c,16)));r.shadowColor="rgba("+255*y[0]+","+255*y[1]+","+255*y[2]+","+e.dropShadowAlpha+")",r.shadowBlur=e.dropShadowBlur,r.shadowOffsetX=Math.cos(e.dropShadowAngle)*e.dropShadowDistance,r.shadowOffsetY=Math.sin(e.dropShadowAngle)*e.dropShadowDistance+d}else r.fillStyle=this._generateFillStyle(e,a),r.strokeStyle=e.stroke,r.shadowColor=0,r.shadowBlur=0,r.shadowOffsetX=0,r.shadowOffsetY=0;for(var C=0;C<a.length;C++)i=e.strokeThickness/2,n=e.strokeThickness/2+C*A+h.ascent,"right"===e.align?i+=u-l[C]:"center"===e.align&&(i+=(u-l[C])/2),e.stroke&&e.strokeThickness&&this.drawLetterSpacing(a[C],i+e.padding,n+e.padding-g,!0),e.fill&&this.drawLetterSpacing(a[C],i+e.padding,n+e.padding-g)}this.updateTexture()}},e.prototype.drawLetterSpacing=function(t,e,i,n){void 0===n&&(n=!1);var r=this._style.letterSpacing;if(0!==r)for(var s=e,o=Array.from?Array.from(t):t.split(""),a=this.context.measureText(t).width,A=0,l=0;l<o.length;++l){var u=o[l];n?this.context.strokeText(u,s,i):this.context.fillText(u,s,i),s+=a-(A=this.context.measureText(t.substring(l+1)).width)+r,a=A}else n?this.context.strokeText(t,e,i):this.context.fillText(t,e,i)},e.prototype.updateTexture=function(){var t=this.canvas;if(this._style.trim){var e=function(t){var e,i,n,r=t.width,s=t.height,o=t.getContext("2d"),a=o.getImageData(0,0,r,s).data,A=a.length,l={top:null,left:null,right:null,bottom:null},u=null;for(e=0;e<A;e+=4)0!==a[e+3]&&(i=e/4%r,n=~~(e/4/r),null===l.top&&(l.top=n),null===l.left?l.left=i:i<l.left&&(l.left=i),null===l.right?l.right=i+1:l.right<i&&(l.right=i+1),null===l.bottom?l.bottom=n:l.bottom<n&&(l.bottom=n));return null!==l.top&&(u=o.getImageData(l.left,l.top,r=l.right-l.left,s=l.bottom-l.top+1)),{height:s,width:r,data:u}}(t);e.data&&(t.width=e.width,t.height=e.height,this.context.putImageData(e.data,0,0))}var i=this._texture,n=this._style,r=n.trim?0:n.padding,s=i.baseTexture;i.trim.width=i._frame.width=Math.ceil(t.width/this._resolution),i.trim.height=i._frame.height=Math.ceil(t.height/this._resolution),i.trim.x=-r,i.trim.y=-r,i.orig.width=i._frame.width-2*r,i.orig.height=i._frame.height-2*r,this._onTextureUpdate(),s.setRealSize(t.width,t.height,this._resolution),this.dirty=!1},e.prototype._render=function(e){this._autoResolution&&this._resolution!==e.resolution&&(this._resolution=e.resolution,this.dirty=!0),this.updateText(!0),t.prototype._render.call(this,e)},e.prototype.getLocalBounds=function(e){return this.updateText(!0),t.prototype.getLocalBounds.call(this,e)},e.prototype._calculateBounds=function(){this.updateText(!0),this.calculateVertices(),this._bounds.addQuad(this.vertexData)},e.prototype._onStyleChange=function(){this.dirty=!0},e.prototype._generateFillStyle=function(t,e){if(!Array.isArray(t.fill))return t.fill;if(1===t.fill.length)return t.fill[0];var i,n,r,s=Math.ceil(this.canvas.width/this._resolution),o=Math.ceil(this.canvas.height/this._resolution),a=t.fill.slice(),A=t.fillGradientStops.slice();if(!A.length)for(var l=a.length+1,u=1;u<l;++u)A.push(u/l);if(a.unshift(t.fill[0]),A.unshift(0),a.push(t.fill[t.fill.length-1]),A.push(1),0===t.fillGradientType){i=this.context.createLinearGradient(s/2,0,s/2,o),n=(a.length+1)*e.length,r=0;for(var h=0;h<e.length;h++){r+=1;for(var c=0;c<a.length;c++)i.addColorStop("number"==typeof A[c]?A[c]/e.length+h/e.length:r/n,a[c]),r++}}else{i=this.context.createLinearGradient(0,o/2,s,o/2),n=a.length+1,r=1;for(var f=0;f<a.length;f++)i.addColorStop("number"==typeof A[f]?A[f]:r/n,a[f]),r++}return i},e.prototype.destroy=function(e){"boolean"==typeof e&&(e={children:e}),e=Object.assign({},Hn,e),t.prototype.destroy.call(this,e),this.context=null,this.canvas=null,this._style=null},i.width.get=function(){return this.updateText(!0),Math.abs(this.scale.x)*this._texture.orig.width},i.width.set=function(t){this.updateText(!0);var e=W(this.scale.x)||1;this.scale.x=e*t/this._texture.orig.width,this._width=t},i.height.get=function(){return this.updateText(!0),Math.abs(this.scale.y)*this._texture.orig.height},i.height.set=function(t){this.updateText(!0);var e=W(this.scale.y)||1;this.scale.y=e*t/this._texture.orig.height,this._height=t},i.style.get=function(){return this._style},i.style.set=function(t){this._style=(t=t||{})instanceof Fn?t:new Fn(t),this.localStyleID=-1,this.dirty=!0},i.text.get=function(){return this._text},i.text.set=function(t){t=String(null==t?"":t),this._text!==t&&(this._text=t,this.dirty=!0)},i.resolution.get=function(){return this._resolution},i.resolution.set=function(t){this._autoResolution=!1,this._resolution!==t&&(this._resolution=t,this.dirty=!0)},Object.defineProperties(e.prototype,i),e}(Vn);R.UPLOADS_PER_FRAME=4;var jn=function(t){this.maxItemsPerFrame=t,this.itemsLeft=0};jn.prototype.beginFrame=function(){this.itemsLeft=this.maxItemsPerFrame},jn.prototype.allowedToUpload=function(){return this.itemsLeft-- >0};var Kn=function(t){var e=this;this.limiter=new jn(R.UPLOADS_PER_FRAME),this.renderer=t,this.uploadHookHelper=null,this.queue=[],this.addHooks=[],this.uploadHooks=[],this.completes=[],this.ticking=!1,this.delayedTick=function(){e.queue&&e.prepareItems()},this.registerFindHook($n),this.registerFindHook(tr),this.registerFindHook(qn),this.registerFindHook(zn),this.registerFindHook(Xn),this.registerUploadHook(Wn),this.registerUploadHook(Zn)};function qn(t,e){var i=!1;if(t&&t._textures&&t._textures.length)for(var n=0;n<t._textures.length;n++)if(t._textures[n]instanceof Ae){var r=t._textures[n].baseTexture;-1===e.indexOf(r)&&(e.push(r),i=!0)}return i}function zn(t,e){if(t.baseTexture instanceof zt){var i=t.baseTexture;return-1===e.indexOf(i)&&e.push(i),!0}return!1}function Xn(t,e){if(t._texture&&t._texture instanceof Ae){var i=t._texture.baseTexture;return-1===e.indexOf(i)&&e.push(i),!0}return!1}function Wn(t,e){return e instanceof Jn&&(e.updateText(!0),!0)}function Zn(t,e){if(e instanceof Fn){var i=e.toFontString();return On.measureFont(i),!0}return!1}function $n(t,e){if(t instanceof Jn){-1===e.indexOf(t.style)&&e.push(t.style),-1===e.indexOf(t)&&e.push(t);var i=t._texture.baseTexture;return-1===e.indexOf(i)&&e.push(i),!0}return!1}function tr(t,e){return t instanceof Fn&&(-1===e.indexOf(t)&&e.push(t),!0)}Kn.prototype.upload=function(t,e){"function"==typeof t&&(e=t,t=null),t&&this.add(t),this.queue.length?(e&&this.completes.push(e),this.ticking||(this.ticking=!0,Nt.system.addOnce(this.tick,this,Gt.UTILITY))):e&&e()},Kn.prototype.tick=function(){setTimeout(this.delayedTick,0)},Kn.prototype.prepareItems=function(){for(this.limiter.beginFrame();this.queue.length&&this.limiter.allowedToUpload();){var t=this.queue[0],e=!1;if(t&&!t._destroyed)for(var i=0,n=this.uploadHooks.length;i<n;i++)if(this.uploadHooks[i](this.uploadHookHelper,t)){this.queue.shift(),e=!0;break}e||this.queue.shift()}if(this.queue.length)Nt.system.addOnce(this.tick,this,Gt.UTILITY);else{this.ticking=!1;var r=this.completes.slice(0);this.completes.length=0;for(var s=0,o=r.length;s<o;s++)r[s]()}},Kn.prototype.registerFindHook=function(t){return t&&this.addHooks.push(t),this},Kn.prototype.registerUploadHook=function(t){return t&&this.uploadHooks.push(t),this},Kn.prototype.add=function(t){for(var e=0,i=this.addHooks.length;e<i&&!this.addHooks[e](t,this.queue);e++);if(t instanceof Vt)for(var n=t.children.length-1;n>=0;n--)this.add(t.children[n]);return this},Kn.prototype.destroy=function(){this.ticking&&Nt.system.remove(this.tick,this),this.ticking=!1,this.addHooks=null,this.uploadHooks=null,this.renderer=null,this.completes=null,this.queue=null,this.limiter=null,this.uploadHookHelper=null};var er=function(t){function e(e){t.call(this,e),this.uploadHookHelper=this.renderer,this.registerFindHook(rr),this.registerUploadHook(ir),this.registerUploadHook(nr)}return t&&(e.__proto__=t),(e.prototype=Object.create(t&&t.prototype)).constructor=e,e}(Kn);function ir(t,e){return e instanceof zt&&(e._glTextures[t.CONTEXT_UID]||t.texture.bind(e),!0)}function nr(t,e){if(!(e instanceof Dn))return!1;var i=e.geometry;e.finishPoly(),i.updateBatches();for(var n=i.batches,r=0;r<n.length;r++){var s=n[r].style.texture;s&&ir(t,s.baseTexture)}return i.batchable||t.geometry.bind(i,e._resolveDirectShader()),!0}function rr(t,e){return t instanceof Dn&&(e.push(t),!0)}var sr=function(t){this.maxMilliseconds=t,this.frameStart=0};sr.prototype.beginFrame=function(){this.frameStart=Date.now()},sr.prototype.allowedToUpload=function(){return Date.now()-this.frameStart<this.maxMilliseconds};var or=function t(e){var i=this;e=Object.assign({forceCanvas:!1},e),this.renderer=function(t){return Gi.create(t)}(e),this.stage=new Vt,t._plugins.forEach((function(t){t.init.call(i,e)}))},ar={view:{configurable:!0},screen:{configurable:!0}};or.registerPlugin=function(t){or._plugins.push(t)},or.prototype.render=function(){this.renderer.render(this.stage)},ar.view.get=function(){return this.renderer.view},ar.screen.get=function(){return this.renderer.screen},or.prototype.destroy=function(t,e){var i=this,n=or._plugins.slice(0);n.reverse(),n.forEach((function(t){t.destroy.call(i)})),this.stage.destroy(e),this.stage=null,this.renderer.destroy(t),this.renderer=null,this._options=null},Object.defineProperties(or.prototype,ar),or._plugins=[];var Ar=function(){};Ar.init=function(t){var e=this;Object.defineProperty(this,"resizeTo",{set:function(t){window.removeEventListener("resize",this.resize),this._resizeTo=t,t&&(window.addEventListener("resize",this.resize),this.resize())},get:function(){return this._resizeTo}}),this.resize=function(){e._resizeTo&&(e._resizeTo===window?e.renderer.resize(window.innerWidth,window.innerHeight):e.renderer.resize(e._resizeTo.clientWidth,e._resizeTo.clientHeight))},this._resizeTo=null,this.resizeTo=t.resizeTo||null},Ar.destroy=function(){this.resizeTo=null,this.resize=null},or.registerPlugin(Ar);var lr=i("yWyV"),ur=i.n(lr),hr=i("DGRU"),cr=i.n(hr);function fr(){}function mr(t,e,i,n){var r=0,s=t.length;!function o(a){a||r===s?i&&i(a):n?setTimeout((function(){e(t[r++],o)}),1):e(t[r++],o)}()}function _r(t){return function(){if(null===t)throw new Error("Callback was already called.");var e=t;t=null,e.apply(this,arguments)}}var gr={};function dr(t,e){for(var i=0;i<e.length;i++){var n=e[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}function pr(t,e,i){return e&&dr(t.prototype,e),i&&dr(t,i),t}var yr=!(!window.XDomainRequest||"withCredentials"in new XMLHttpRequest),Cr=null;function vr(){}var Ir=function(){function t(e,i,n){if("string"!=typeof e||"string"!=typeof i)throw new Error("Both name and url are required for constructing a resource.");n=n||{},this._flags=0,this._setFlag(t.STATUS_FLAGS.DATA_URL,0===i.indexOf("data:")),this.name=e,this.url=i,this.extension=this._getExtension(),this.data=null,this.crossOrigin=!0===n.crossOrigin?"anonymous":n.crossOrigin,this.timeout=n.timeout||0,this.loadType=n.loadType||this._determineLoadType(),this.xhrType=n.xhrType,this.metadata=n.metadata||{},this.error=null,this.xhr=null,this.children=[],this.type=t.TYPE.UNKNOWN,this.progressChunk=0,this._dequeue=vr,this._onLoadBinding=null,this._elementTimer=0,this._boundComplete=this.complete.bind(this),this._boundOnError=this._onError.bind(this),this._boundOnProgress=this._onProgress.bind(this),this._boundOnTimeout=this._onTimeout.bind(this),this._boundXhrOnError=this._xhrOnError.bind(this),this._boundXhrOnTimeout=this._xhrOnTimeout.bind(this),this._boundXhrOnAbort=this._xhrOnAbort.bind(this),this._boundXhrOnLoad=this._xhrOnLoad.bind(this),this.onStart=new cr.a,this.onProgress=new cr.a,this.onComplete=new cr.a,this.onAfterMiddleware=new cr.a}t.setExtensionLoadType=function(e,i){Br(t._loadTypeMap,e,i)},t.setExtensionXhrType=function(e,i){Br(t._xhrTypeMap,e,i)};var e=t.prototype;return e.complete=function(){this._clearEvents(),this._finish()},e.abort=function(e){if(!this.error){if(this.error=new Error(e),this._clearEvents(),this.xhr)this.xhr.abort();else if(this.xdr)this.xdr.abort();else if(this.data)if(this.data.src)this.data.src=t.EMPTY_GIF;else for(;this.data.firstChild;)this.data.removeChild(this.data.firstChild);this._finish()}},e.load=function(e){var i=this;if(!this.isLoading)if(this.isComplete)e&&setTimeout((function(){return e(i)}),1);else switch(e&&this.onComplete.once(e),this._setFlag(t.STATUS_FLAGS.LOADING,!0),this.onStart.dispatch(this),!1!==this.crossOrigin&&"string"==typeof this.crossOrigin||(this.crossOrigin=this._determineCrossOrigin(this.url)),this.loadType){case t.LOAD_TYPE.IMAGE:this.type=t.TYPE.IMAGE,this._loadElement("image");break;case t.LOAD_TYPE.AUDIO:this.type=t.TYPE.AUDIO,this._loadSourceElement("audio");break;case t.LOAD_TYPE.VIDEO:this.type=t.TYPE.VIDEO,this._loadSourceElement("video");break;case t.LOAD_TYPE.XHR:default:yr&&this.crossOrigin?this._loadXdr():this._loadXhr()}},e._hasFlag=function(t){return 0!=(this._flags&t)},e._setFlag=function(t,e){this._flags=e?this._flags|t:this._flags&~t},e._clearEvents=function(){clearTimeout(this._elementTimer),this.data&&this.data.removeEventListener&&(this.data.removeEventListener("error",this._boundOnError,!1),this.data.removeEventListener("load",this._boundComplete,!1),this.data.removeEventListener("progress",this._boundOnProgress,!1),this.data.removeEventListener("canplaythrough",this._boundComplete,!1)),this.xhr&&(this.xhr.removeEventListener?(this.xhr.removeEventListener("error",this._boundXhrOnError,!1),this.xhr.removeEventListener("timeout",this._boundXhrOnTimeout,!1),this.xhr.removeEventListener("abort",this._boundXhrOnAbort,!1),this.xhr.removeEventListener("progress",this._boundOnProgress,!1),this.xhr.removeEventListener("load",this._boundXhrOnLoad,!1)):(this.xhr.onerror=null,this.xhr.ontimeout=null,this.xhr.onprogress=null,this.xhr.onload=null))},e._finish=function(){if(this.isComplete)throw new Error("Complete called again for an already completed resource.");this._setFlag(t.STATUS_FLAGS.COMPLETE,!0),this._setFlag(t.STATUS_FLAGS.LOADING,!1),this.onComplete.dispatch(this)},e._loadElement=function(t){this.data=this.metadata.loadElement?this.metadata.loadElement:"image"===t&&void 0!==window.Image?new Image:document.createElement(t),this.crossOrigin&&(this.data.crossOrigin=this.crossOrigin),this.metadata.skipSource||(this.data.src=this.url),this.data.addEventListener("error",this._boundOnError,!1),this.data.addEventListener("load",this._boundComplete,!1),this.data.addEventListener("progress",this._boundOnProgress,!1),this.timeout&&(this._elementTimer=setTimeout(this._boundOnTimeout,this.timeout))},e._loadSourceElement=function(t){if(this.data=this.metadata.loadElement?this.metadata.loadElement:"audio"===t&&void 0!==window.Audio?new Audio:document.createElement(t),null!==this.data){if(this.crossOrigin&&(this.data.crossOrigin=this.crossOrigin),!this.metadata.skipSource)if(navigator.isCocoonJS)this.data.src=Array.isArray(this.url)?this.url[0]:this.url;else if(Array.isArray(this.url))for(var e=this.metadata.mimeType,i=0;i<this.url.length;++i)this.data.appendChild(this._createSource(t,this.url[i],Array.isArray(e)?e[i]:e));else{var n=this.metadata.mimeType;this.data.appendChild(this._createSource(t,this.url,Array.isArray(n)?n[0]:n))}this.data.addEventListener("error",this._boundOnError,!1),this.data.addEventListener("load",this._boundComplete,!1),this.data.addEventListener("progress",this._boundOnProgress,!1),this.data.addEventListener("canplaythrough",this._boundComplete,!1),this.data.load(),this.timeout&&(this._elementTimer=setTimeout(this._boundOnTimeout,this.timeout))}else this.abort("Unsupported element: "+t)},e._loadXhr=function(){"string"!=typeof this.xhrType&&(this.xhrType=this._determineXhrType());var e=this.xhr=new XMLHttpRequest;e.open("GET",this.url,!0),e.timeout=this.timeout,e.responseType=this.xhrType===t.XHR_RESPONSE_TYPE.JSON||this.xhrType===t.XHR_RESPONSE_TYPE.DOCUMENT?t.XHR_RESPONSE_TYPE.TEXT:this.xhrType,e.addEventListener("error",this._boundXhrOnError,!1),e.addEventListener("timeout",this._boundXhrOnTimeout,!1),e.addEventListener("abort",this._boundXhrOnAbort,!1),e.addEventListener("progress",this._boundOnProgress,!1),e.addEventListener("load",this._boundXhrOnLoad,!1),e.send()},e._loadXdr=function(){"string"!=typeof this.xhrType&&(this.xhrType=this._determineXhrType());var t=this.xhr=new XDomainRequest;t.timeout=this.timeout||5e3,t.onerror=this._boundXhrOnError,t.ontimeout=this._boundXhrOnTimeout,t.onprogress=this._boundOnProgress,t.onload=this._boundXhrOnLoad,t.open("GET",this.url,!0),setTimeout((function(){return t.send()}),1)},e._createSource=function(t,e,i){i||(i=t+"/"+this._getExtension(e));var n=document.createElement("source");return n.src=e,n.type=i,n},e._onError=function(t){this.abort("Failed to load element using: "+t.target.nodeName)},e._onProgress=function(t){t&&t.lengthComputable&&this.onProgress.dispatch(this,t.loaded/t.total)},e._onTimeout=function(){this.abort("Load timed out.")},e._xhrOnError=function(){var t=this.xhr;this.abort(Er(t)+" Request failed. Status: "+t.status+', text: "'+t.statusText+'"')},e._xhrOnTimeout=function(){this.abort(Er(this.xhr)+" Request timed out.")},e._xhrOnAbort=function(){this.abort(Er(this.xhr)+" Request was aborted by the user.")},e._xhrOnLoad=function(){var e=this.xhr,i="",n=void 0===e.status?200:e.status;if(""!==e.responseType&&"text"!==e.responseType&&void 0!==e.responseType||(i=e.responseText),0===n&&(i.length>0||e.responseType===t.XHR_RESPONSE_TYPE.BUFFER)?n=200:1223===n&&(n=204),2==(n/100|0)){if(this.xhrType===t.XHR_RESPONSE_TYPE.TEXT)this.data=i,this.type=t.TYPE.TEXT;else if(this.xhrType===t.XHR_RESPONSE_TYPE.JSON)try{this.data=JSON.parse(i),this.type=t.TYPE.JSON}catch(o){return void this.abort("Error trying to parse loaded json: "+o)}else if(this.xhrType===t.XHR_RESPONSE_TYPE.DOCUMENT)try{if(window.DOMParser){var r=new DOMParser;this.data=r.parseFromString(i,"text/xml")}else{var s=document.createElement("div");s.innerHTML=i,this.data=s}this.type=t.TYPE.XML}catch(o){return void this.abort("Error trying to parse loaded xml: "+o)}else this.data=e.response||i;this.complete()}else this.abort("["+e.status+"] "+e.statusText+": "+e.responseURL)},e._determineCrossOrigin=function(t,e){return 0===t.indexOf("data:")?"":window.origin!==window.location.origin?"anonymous":(e=e||window.location,Cr||(Cr=document.createElement("a")),Cr.href=t,(t=ur()(Cr.href,{strictMode:!0})).host!==e.hostname||(t.port||""!==e.port)&&t.port!==e.port||(t.protocol?t.protocol+":":"")!==e.protocol?"anonymous":"")},e._determineXhrType=function(){return t._xhrTypeMap[this.extension]||t.XHR_RESPONSE_TYPE.TEXT},e._determineLoadType=function(){return t._loadTypeMap[this.extension]||t.LOAD_TYPE.XHR},e._getExtension=function(){var t=this.url,e="";if(this.isDataUrl){var i=t.indexOf("/");e=t.substring(i+1,t.indexOf(";",i))}else{var n=t.indexOf("?"),r=t.indexOf("#"),s=Math.min(n>-1?n:t.length,r>-1?r:t.length);e=(t=t.substring(0,s)).substring(t.lastIndexOf(".")+1)}return e.toLowerCase()},e._getMimeFromXhrType=function(e){switch(e){case t.XHR_RESPONSE_TYPE.BUFFER:return"application/octet-binary";case t.XHR_RESPONSE_TYPE.BLOB:return"application/blob";case t.XHR_RESPONSE_TYPE.DOCUMENT:return"application/xml";case t.XHR_RESPONSE_TYPE.JSON:return"application/json";case t.XHR_RESPONSE_TYPE.DEFAULT:case t.XHR_RESPONSE_TYPE.TEXT:default:return"text/plain"}},pr(t,[{key:"isDataUrl",get:function(){return this._hasFlag(t.STATUS_FLAGS.DATA_URL)}},{key:"isComplete",get:function(){return this._hasFlag(t.STATUS_FLAGS.COMPLETE)}},{key:"isLoading",get:function(){return this._hasFlag(t.STATUS_FLAGS.LOADING)}}]),t}();function Br(t,e,i){e&&0===e.indexOf(".")&&(e=e.substring(1)),e&&(t[e]=i)}function Er(t){return t.toString().replace("object ","")}Ir.STATUS_FLAGS={NONE:0,DATA_URL:1,COMPLETE:2,LOADING:4},Ir.TYPE={UNKNOWN:0,JSON:1,XML:2,IMAGE:3,AUDIO:4,VIDEO:5,TEXT:6},Ir.LOAD_TYPE={XHR:1,IMAGE:2,AUDIO:3,VIDEO:4},Ir.XHR_RESPONSE_TYPE={DEFAULT:"text",BUFFER:"arraybuffer",BLOB:"blob",DOCUMENT:"document",JSON:"json",TEXT:"text"},Ir._loadTypeMap={gif:Ir.LOAD_TYPE.IMAGE,png:Ir.LOAD_TYPE.IMAGE,bmp:Ir.LOAD_TYPE.IMAGE,jpg:Ir.LOAD_TYPE.IMAGE,jpeg:Ir.LOAD_TYPE.IMAGE,tif:Ir.LOAD_TYPE.IMAGE,tiff:Ir.LOAD_TYPE.IMAGE,webp:Ir.LOAD_TYPE.IMAGE,tga:Ir.LOAD_TYPE.IMAGE,svg:Ir.LOAD_TYPE.IMAGE,"svg+xml":Ir.LOAD_TYPE.IMAGE,mp3:Ir.LOAD_TYPE.AUDIO,ogg:Ir.LOAD_TYPE.AUDIO,wav:Ir.LOAD_TYPE.AUDIO,mp4:Ir.LOAD_TYPE.VIDEO,webm:Ir.LOAD_TYPE.VIDEO},Ir._xhrTypeMap={xhtml:Ir.XHR_RESPONSE_TYPE.DOCUMENT,html:Ir.XHR_RESPONSE_TYPE.DOCUMENT,htm:Ir.XHR_RESPONSE_TYPE.DOCUMENT,xml:Ir.XHR_RESPONSE_TYPE.DOCUMENT,tmx:Ir.XHR_RESPONSE_TYPE.DOCUMENT,svg:Ir.XHR_RESPONSE_TYPE.DOCUMENT,tsx:Ir.XHR_RESPONSE_TYPE.DOCUMENT,gif:Ir.XHR_RESPONSE_TYPE.BLOB,png:Ir.XHR_RESPONSE_TYPE.BLOB,bmp:Ir.XHR_RESPONSE_TYPE.BLOB,jpg:Ir.XHR_RESPONSE_TYPE.BLOB,jpeg:Ir.XHR_RESPONSE_TYPE.BLOB,tif:Ir.XHR_RESPONSE_TYPE.BLOB,tiff:Ir.XHR_RESPONSE_TYPE.BLOB,webp:Ir.XHR_RESPONSE_TYPE.BLOB,tga:Ir.XHR_RESPONSE_TYPE.BLOB,json:Ir.XHR_RESPONSE_TYPE.JSON,text:Ir.XHR_RESPONSE_TYPE.TEXT,txt:Ir.XHR_RESPONSE_TYPE.TEXT,ttf:Ir.XHR_RESPONSE_TYPE.BUFFER,otf:Ir.XHR_RESPONSE_TYPE.BUFFER},Ir.EMPTY_GIF="data:image/gif;base64,R0lGODlhAQABAIAAAP///wAAACH5BAEAAAAALAAAAAABAAEAAAICRAEAOw==";var wr=window.URL||window.webkitURL,br={caching:function(t,e){var i=this;gr[t.url]?(t.data=gr[t.url],t.complete()):t.onComplete.once((function(){return gr[i.url]=i.data})),e()},parsing:function(t,e){if(t.data){if(t.xhr&&t.xhrType===Ir.XHR_RESPONSE_TYPE.BLOB)if(window.Blob&&"string"!=typeof t.data){if(0===t.data.type.indexOf("image")){var i=wr.createObjectURL(t.data);return t.blob=t.data,t.data=new Image,t.data.src=i,t.type=Ir.TYPE.IMAGE,void(t.data.onload=function(){wr.revokeObjectURL(i),t.data.onload=null,e()})}}else{var n=t.xhr.getResponseHeader("content-type");if(n&&0===n.indexOf("image"))return t.data=new Image,t.data.src="data:"+n+";base64,"+function(t){for(var e="",i=0;i<t.length;){for(var n=[0,0,0],r=[0,0,0,0],s=0;s<n.length;++s)n[s]=i<t.length?255&t.charCodeAt(i++):0;switch(r[0]=n[0]>>2,r[1]=(3&n[0])<<4|n[1]>>4,r[2]=(15&n[1])<<2|n[2]>>6,r[3]=63&n[2],i-(t.length-1)){case 2:r[3]=64,r[2]=64;break;case 1:r[3]=64}for(var o=0;o<r.length;++o)e+="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=".charAt(r[o])}return e}(t.xhr.responseText),t.type=Ir.TYPE.IMAGE,void(t.data.onload=function(){t.data.onload=null,e()})}e()}else e()}},xr=/(#[\w-]+)?$/,Sr=function(){function t(e,i){var n=this;void 0===e&&(e=""),void 0===i&&(i=10),this.baseUrl=e,this.progress=0,this.loading=!1,this.defaultQueryString="",this._beforeMiddleware=[],this._afterMiddleware=[],this._resourcesParsing=[],this._boundLoadResource=function(t,e){return n._loadResource(t,e)},this._queue=function(t,e){if(null==e)e=1;else if(0===e)throw new Error("Concurrency must not be zero");var i=0,n={_tasks:[],concurrency:e,saturated:fr,unsaturated:fr,buffer:e/4,empty:fr,drain:fr,error:fr,started:!1,paused:!1,push:function(t,e){r(t,!1,e)},kill:function(){i=0,n.drain=fr,n.started=!1,n._tasks=[]},unshift:function(t,e){r(t,!0,e)},process:function(){for(;!n.paused&&i<n.concurrency&&n._tasks.length;){var e=n._tasks.shift();0===n._tasks.length&&n.empty(),(i+=1)===n.concurrency&&n.saturated(),t(e.data,_r(s(e)))}},length:function(){return n._tasks.length},running:function(){return i},idle:function(){return n._tasks.length+i===0},pause:function(){!0!==n.paused&&(n.paused=!0)},resume:function(){if(!1!==n.paused){n.paused=!1;for(var t=1;t<=n.concurrency;t++)n.process()}}};function r(t,e,i){if(null!=i&&"function"!=typeof i)throw new Error("task callback must be a function");if(n.started=!0,null==t&&n.idle())setTimeout((function(){return n.drain()}),1);else{var r={data:t,callback:"function"==typeof i?i:fr};e?n._tasks.unshift(r):n._tasks.push(r),setTimeout((function(){return n.process()}),1)}}function s(t){return function(){i-=1,t.callback.apply(t,arguments),null!=arguments[0]&&n.error(arguments[0],t.data),i<=n.concurrency-n.buffer&&n.unsaturated(),n.idle()&&n.drain(),n.process()}}return n}(this._boundLoadResource,i),this._queue.pause(),this.resources={},this.onProgress=new cr.a,this.onError=new cr.a,this.onLoad=new cr.a,this.onStart=new cr.a,this.onComplete=new cr.a;for(var r=0;r<t._defaultBeforeMiddleware.length;++r)this.pre(t._defaultBeforeMiddleware[r]);for(var s=0;s<t._defaultAfterMiddleware.length;++s)this.use(t._defaultAfterMiddleware[s])}var e=t.prototype;return e.add=function(t,e,i,n){if(Array.isArray(t)){for(var r=0;r<t.length;++r)this.add(t[r]);return this}if("object"==typeof t&&(n=e||t.callback||t.onComplete,i=t,e=t.url,t=t.name||t.key||t.url),"string"!=typeof e&&(n=i,i=e,e=t),"string"!=typeof e)throw new Error("No url passed to add resource to loader.");if("function"==typeof i&&(n=i,i=null),this.loading&&(!i||!i.parentResource))throw new Error("Cannot add resources while the loader is running.");if(this.resources[t])throw new Error('Resource named "'+t+'" already exists.');if(e=this._prepareUrl(e),this.resources[t]=new Ir(t,e,i),"function"==typeof n&&this.resources[t].onAfterMiddleware.once(n),this.loading){for(var s=i.parentResource,o=[],a=0;a<s.children.length;++a)s.children[a].isComplete||o.push(s.children[a]);var A=s.progressChunk*(o.length+1)/(o.length+2);s.children.push(this.resources[t]),s.progressChunk=A;for(var l=0;l<o.length;++l)o[l].progressChunk=A;this.resources[t].progressChunk=A}return this._queue.push(this.resources[t]),this},e.pre=function(t){return this._beforeMiddleware.push(t),this},e.use=function(t){return this._afterMiddleware.push(t),this},e.reset=function(){for(var t in this.progress=0,this.loading=!1,this._queue.kill(),this._queue.pause(),this.resources){var e=this.resources[t];e._onLoadBinding&&e._onLoadBinding.detach(),e.isLoading&&e.abort()}return this.resources={},this},e.load=function(t){if("function"==typeof t&&this.onComplete.once(t),this.loading)return this;if(this._queue.idle())this._onStart(),this._onComplete();else{for(var e=100/this._queue._tasks.length,i=0;i<this._queue._tasks.length;++i)this._queue._tasks[i].data.progressChunk=e;this._onStart(),this._queue.resume()}return this},e._prepareUrl=function(t){var e,i=ur()(t,{strictMode:!0});if(e=i.protocol||!i.path||0===t.indexOf("//")?t:this.baseUrl.length&&this.baseUrl.lastIndexOf("/")!==this.baseUrl.length-1&&"/"!==t.charAt(0)?this.baseUrl+"/"+t:this.baseUrl+t,this.defaultQueryString){var n=xr.exec(e)[0];-1!==(e=e.substr(0,e.length-n.length)).indexOf("?")?e+="&"+this.defaultQueryString:e+="?"+this.defaultQueryString,e+=n}return e},e._loadResource=function(t,e){var i=this;t._dequeue=e,mr(this._beforeMiddleware,(function(e,n){e.call(i,t,(function(){n(t.isComplete?{}:null)}))}),(function(){t.isComplete?i._onLoad(t):(t._onLoadBinding=t.onComplete.once(i._onLoad,i),t.load())}),!0)},e._onStart=function(){this.progress=0,this.loading=!0,this.onStart.dispatch(this)},e._onComplete=function(){this.progress=100,this.loading=!1,this.onComplete.dispatch(this,this.resources)},e._onLoad=function(t){var e=this;t._onLoadBinding=null,this._resourcesParsing.push(t),t._dequeue(),mr(this._afterMiddleware,(function(i,n){i.call(e,t,n)}),(function(){t.onAfterMiddleware.dispatch(t),e.progress=Math.min(100,e.progress+t.progressChunk),e.onProgress.dispatch(e,t),t.error?e.onError.dispatch(t.error,e,t):e.onLoad.dispatch(e,t),e._resourcesParsing.splice(e._resourcesParsing.indexOf(t),1),e._queue.idle()&&0===e._resourcesParsing.length&&e._onComplete()}),!0)},pr(t,[{key:"concurrency",get:function(){return this._queue.concurrency},set:function(t){this._queue.concurrency=t}}]),t}();Sr._defaultBeforeMiddleware=[],Sr._defaultAfterMiddleware=[],Sr.pre=function(t){return Sr._defaultBeforeMiddleware.push(t),Sr},Sr.use=function(t){return Sr._defaultAfterMiddleware.push(t),Sr};var Qr=function(){};Qr.use=function(t,e){t.data&&t.type===Ir.TYPE.IMAGE&&(t.texture=Ae.fromLoader(t.data,t.url,t.name)),e()};var kr=function(t){function e(i,n){var r=this;t.call(this,i,n),T.a.call(this);for(var s=0;s<e._plugins.length;++s){var o=e._plugins[s],a=o.pre,A=o.use;a&&this.pre(a),A&&this.use(A)}this.onStart.add((function(t){return r.emit("start",t)})),this.onProgress.add((function(t,e){return r.emit("progress",t,e)})),this.onError.add((function(t,e,i){return r.emit("error",t,e,i)})),this.onLoad.add((function(t,e){return r.emit("load",t,e)})),this.onComplete.add((function(t,e){return r.emit("complete",t,e)})),this._protected=!1}t&&(e.__proto__=t),(e.prototype=Object.create(t&&t.prototype)).constructor=e;var i={shared:{configurable:!0}};return e.prototype.destroy=function(){this._protected||(this.removeAllListeners(),this.reset())},i.shared.get=function(){var t=e._shared;return t||((t=new e)._protected=!0,e._shared=t),t},Object.defineProperties(e,i),e}(Sr);Object.assign(kr.prototype,T.a.prototype),kr._plugins=[],kr.registerPlugin=function(t){return kr._plugins.push(t),t.add&&t.add(),kr},kr.registerPlugin({use:br.parsing}),kr.registerPlugin(Qr);var Dr=function(){};Dr.init=function(t){t=Object.assign({sharedLoader:!1},t),this.loader=t.sharedLoader?kr.shared:new kr},Dr.destroy=function(){this.loader&&(this.loader.destroy(),this.loader=null)};var Mr=Ir,Rr=function(t,e,i){this.geometry=new Ce,this.indexBuffer=null,this.size=i,this.dynamicProperties=[],this.staticProperties=[];for(var n=0;n<t.length;++n){var r=t[n];r={attributeName:r.attributeName,size:r.size,uploadFunction:r.uploadFunction,type:r.type||B.FLOAT,offset:r.offset},e[n]?this.dynamicProperties.push(r):this.staticProperties.push(r)}this.staticStride=0,this.staticBuffer=null,this.staticData=null,this.staticDataUint32=null,this.dynamicStride=0,this.dynamicBuffer=null,this.dynamicData=null,this.dynamicDataUint32=null,this._updateID=0,this.initBuffers()};Rr.prototype.initBuffers=function(){var t=this.geometry,e=0;this.indexBuffer=new me(function(t,e){void 0===e&&(e=null);var i=6*t;if((e=e||new Uint16Array(i)).length!==i)throw new Error("Out buffer length is incorrect, got "+e.length+" and expected "+i);for(var n=0,r=0;n<i;n+=6,r+=4)e[n+0]=r+0,e[n+1]=r+1,e[n+2]=r+2,e[n+3]=r+0,e[n+4]=r+2,e[n+5]=r+3;return e}(this.size),!0,!0),t.addIndex(this.indexBuffer),this.dynamicStride=0;for(var i=0;i<this.dynamicProperties.length;++i){var n=this.dynamicProperties[i];n.offset=e,e+=n.size,this.dynamicStride+=n.size}var r=new ArrayBuffer(this.size*this.dynamicStride*4*4);this.dynamicData=new Float32Array(r),this.dynamicDataUint32=new Uint32Array(r),this.dynamicBuffer=new me(this.dynamicData,!1,!1);var s=0;this.staticStride=0;for(var o=0;o<this.staticProperties.length;++o){var a=this.staticProperties[o];a.offset=s,s+=a.size,this.staticStride+=a.size}var A=new ArrayBuffer(this.size*this.staticStride*4*4);this.staticData=new Float32Array(A),this.staticDataUint32=new Uint32Array(A),this.staticBuffer=new me(this.staticData,!0,!1);for(var l=0;l<this.dynamicProperties.length;++l){var u=this.dynamicProperties[l];t.addAttribute(u.attributeName,this.dynamicBuffer,0,u.type===B.UNSIGNED_BYTE,u.type,4*this.dynamicStride,4*u.offset)}for(var h=0;h<this.staticProperties.length;++h){var c=this.staticProperties[h];t.addAttribute(c.attributeName,this.staticBuffer,0,c.type===B.UNSIGNED_BYTE,c.type,4*this.staticStride,4*c.offset)}},Rr.prototype.uploadDynamic=function(t,e,i){for(var n=0;n<this.dynamicProperties.length;n++){var r=this.dynamicProperties[n];r.uploadFunction(t,e,i,r.type===B.UNSIGNED_BYTE?this.dynamicDataUint32:this.dynamicData,this.dynamicStride,r.offset)}this.dynamicBuffer._updateID++},Rr.prototype.uploadStatic=function(t,e,i){for(var n=0;n<this.staticProperties.length;n++){var r=this.staticProperties[n];r.uploadFunction(t,e,i,r.type===B.UNSIGNED_BYTE?this.staticDataUint32:this.staticData,this.staticStride,r.offset)}this.staticBuffer._updateID++},Rr.prototype.destroy=function(){this.indexBuffer=null,this.dynamicProperties=null,this.dynamicBuffer=null,this.dynamicData=null,this.dynamicDataUint32=null,this.staticProperties=null,this.staticBuffer=null,this.staticData=null,this.staticDataUint32=null,this.geometry.destroy()};var Vr="attribute vec2 aVertexPosition;\nattribute vec2 aTextureCoord;\nattribute vec4 aColor;\n\nattribute vec2 aPositionCoord;\nattribute float aRotation;\n\nuniform mat3 translationMatrix;\nuniform vec4 uColor;\n\nvarying vec2 vTextureCoord;\nvarying vec4 vColor;\n\nvoid main(void){\n    float x = (aVertexPosition.x) * cos(aRotation) - (aVertexPosition.y) * sin(aRotation);\n    float y = (aVertexPosition.x) * sin(aRotation) + (aVertexPosition.y) * cos(aRotation);\n\n    vec2 v = vec2(x, y);\n    v = v + aPositionCoord;\n\n    gl_Position = vec4((translationMatrix * vec3(v, 1.0)).xy, 0.0, 1.0);\n\n    vTextureCoord = aTextureCoord;\n    vColor = aColor * uColor;\n}\n",Tr="varying vec2 vTextureCoord;\nvarying vec4 vColor;\n\nuniform sampler2D uSampler;\n\nvoid main(void){\n    vec4 color = texture2D(uSampler, vTextureCoord) * vColor;\n    gl_FragColor = color;\n}",Gr=function(t){function e(e){t.call(this,e),this.shader=null,this.properties=null,this.tempMatrix=new gt,this.properties=[{attributeName:"aVertexPosition",size:2,uploadFunction:this.uploadVertices,offset:0},{attributeName:"aPositionCoord",size:2,uploadFunction:this.uploadPosition,offset:0},{attributeName:"aRotation",size:1,uploadFunction:this.uploadRotation,offset:0},{attributeName:"aTextureCoord",size:2,uploadFunction:this.uploadUvs,offset:0},{attributeName:"aColor",size:1,type:B.UNSIGNED_BYTE,uploadFunction:this.uploadTint,offset:0}],this.shader=si.from(Vr,Tr,{})}return t&&(e.__proto__=t),(e.prototype=Object.create(t&&t.prototype)).constructor=e,e.prototype.render=function(t){var e=t.children,i=t._maxSize,n=t._batchSize,r=this.renderer,s=e.length;if(0!==s){s>i&&!t.autoResize&&(s=i);var o=t._buffers;o||(o=t._buffers=this.generateBuffers(t));var a=e[0]._texture.baseTexture;this.renderer.state.setBlendMode(j(t.blendMode,a.alphaMode));var A,l,u,h,c=r.gl,f=t.worldTransform.copyTo(this.tempMatrix);f.prepend(r.globalUniforms.uniforms.projectionMatrix),this.shader.uniforms.translationMatrix=f.toArray(!0),this.shader.uniforms.uColor=(A=t.tintRgb,l=t.worldAlpha,h=a.alphaMode,u=(u=this.shader.uniforms.uColor)||new Float32Array(4),h||void 0===h?(u[0]=A[0]*l,u[1]=A[1]*l,u[2]=A[2]*l):(u[0]=A[0],u[1]=A[1],u[2]=A[2]),u[3]=l,u),this.shader.uniforms.uSampler=a,this.renderer.shader.bind(this.shader);for(var m=!1,_=0,g=0;_<s;_+=n,g+=1){var d=s-_;d>n&&(d=n),g>=o.length&&o.push(this._generateOneMoreBuffer(t));var p=o[g];p.uploadDynamic(e,_,d),(m=m||p._updateID<(t._bufferUpdateIDs[g]||0))&&(p._updateID=t._updateID,p.uploadStatic(e,_,d)),r.geometry.bind(p.geometry),c.drawElements(c.TRIANGLES,6*d,c.UNSIGNED_SHORT,0)}}},e.prototype.generateBuffers=function(t){for(var e=[],i=t._maxSize,n=t._batchSize,r=t._properties,s=0;s<i;s+=n)e.push(new Rr(this.properties,r,n));return e},e.prototype._generateOneMoreBuffer=function(t){return new Rr(this.properties,t._properties,t._batchSize)},e.prototype.uploadVertices=function(t,e,i,n,r,s){for(var o=0,a=0,A=0,l=0,u=0;u<i;++u){var h=t[e+u],c=h._texture,f=h.scale.x,m=h.scale.y,_=c.trim,g=c.orig;_?(o=(a=_.x-h.anchor.x*g.width)+_.width,A=(l=_.y-h.anchor.y*g.height)+_.height):(o=g.width*(1-h.anchor.x),a=g.width*-h.anchor.x,A=g.height*(1-h.anchor.y),l=g.height*-h.anchor.y),n[s]=a*f,n[s+1]=l*m,n[s+r]=o*f,n[s+r+1]=l*m,n[s+2*r]=o*f,n[s+2*r+1]=A*m,n[s+3*r]=a*f,n[s+3*r+1]=A*m,s+=4*r}},e.prototype.uploadPosition=function(t,e,i,n,r,s){for(var o=0;o<i;o++){var a=t[e+o].position;n[s]=a.x,n[s+1]=a.y,n[s+r]=a.x,n[s+r+1]=a.y,n[s+2*r]=a.x,n[s+2*r+1]=a.y,n[s+3*r]=a.x,n[s+3*r+1]=a.y,s+=4*r}},e.prototype.uploadRotation=function(t,e,i,n,r,s){for(var o=0;o<i;o++){var a=t[e+o].rotation;n[s]=a,n[s+r]=a,n[s+2*r]=a,n[s+3*r]=a,s+=4*r}},e.prototype.uploadUvs=function(t,e,i,n,r,s){for(var o=0;o<i;++o){var a=t[e+o]._texture._uvs;a?(n[s]=a.x0,n[s+1]=a.y0,n[s+r]=a.x1,n[s+r+1]=a.y1,n[s+2*r]=a.x2,n[s+2*r+1]=a.y2,n[s+3*r]=a.x3,n[s+3*r+1]=a.y3,s+=4*r):(n[s]=0,n[s+1]=0,n[s+r]=0,n[s+r+1]=0,n[s+2*r]=0,n[s+2*r+1]=0,n[s+3*r]=0,n[s+3*r+1]=0,s+=4*r)}},e.prototype.uploadTint=function(t,e,i,n,r,s){for(var o=0;o<i;++o){var a=t[e+o],A=a.alpha,l=A<1&&a._texture.baseTexture.alphaMode>0?K(a._tintRGB,A):a._tintRGB+(255*A<<24);n[s]=l,n[s+r]=l,n[s+2*r]=l,n[s+3*r]=l,s+=4*r}},e.prototype.destroy=function(){t.prototype.destroy.call(this),this.shader&&(this.shader.destroy(),this.shader=null),this.tempMatrix=null},e}(xe),Fr=function(t,e,i){void 0===i&&(i=null),this.baseTexture=t,this.textures={},this.animations={},this.data=e,this.resolution=this._updateResolution(i||(this.baseTexture.resource?this.baseTexture.resource.url:null)),this._frames=this.data.frames,this._frameKeys=Object.keys(this._frames),this._batchIndex=0,this._callback=null},Pr={BATCH_SIZE:{configurable:!0}};Pr.BATCH_SIZE.get=function(){return 1e3},Fr.prototype._updateResolution=function(t){var e=this.data.meta.scale,i=at(t,null);return null===i&&(i=void 0!==e?parseFloat(e):1),1!==i&&this.baseTexture.setResolution(i),i},Fr.prototype.parse=function(t){this._batchIndex=0,this._callback=t,this._frameKeys.length<=Fr.BATCH_SIZE?(this._processFrames(0),this._processAnimations(),this._parseComplete()):this._nextBatch()},Fr.prototype._processFrames=function(t){for(var e=t,i=Fr.BATCH_SIZE;e-t<i&&e<this._frameKeys.length;){var n=this._frameKeys[e],r=this._frames[n],s=r.frame;if(s){var o,a=null,A=!1!==r.trimmed&&r.sourceSize?r.sourceSize:r.frame,l=new bt(0,0,Math.floor(A.w)/this.resolution,Math.floor(A.h)/this.resolution);o=r.rotated?new bt(Math.floor(s.x)/this.resolution,Math.floor(s.y)/this.resolution,Math.floor(s.h)/this.resolution,Math.floor(s.w)/this.resolution):new bt(Math.floor(s.x)/this.resolution,Math.floor(s.y)/this.resolution,Math.floor(s.w)/this.resolution,Math.floor(s.h)/this.resolution),!1!==r.trimmed&&r.spriteSourceSize&&(a=new bt(Math.floor(r.spriteSourceSize.x)/this.resolution,Math.floor(r.spriteSourceSize.y)/this.resolution,Math.floor(s.w)/this.resolution,Math.floor(s.h)/this.resolution)),this.textures[n]=new Ae(this.baseTexture,o,l,a,r.rotated?2:0,r.anchor),Ae.addToCache(this.textures[n],n)}e++}},Fr.prototype._processAnimations=function(){var t=this.data.animations||{};for(var e in t){this.animations[e]=[];for(var i=0;i<t[e].length;i++)this.animations[e].push(this.textures[t[e][i]])}},Fr.prototype._parseComplete=function(){var t=this._callback;this._callback=null,this._batchIndex=0,t.call(this,this.textures)},Fr.prototype._nextBatch=function(){var t=this;this._processFrames(this._batchIndex*Fr.BATCH_SIZE),this._batchIndex++,setTimeout((function(){t._batchIndex*Fr.BATCH_SIZE<t._frameKeys.length?t._nextBatch():(t._processAnimations(),t._parseComplete())}),0)},Fr.prototype.destroy=function(t){for(var e in void 0===t&&(t=!1),this.textures)this.textures[e].destroy();this._frames=null,this._frameKeys=null,this.data=null,this.textures=null,t&&this.baseTexture.destroy(),this.baseTexture=null},Object.defineProperties(Fr,Pr);var Nr=function(){};Nr.use=function(t,e){var i=t.name+"_image";if(t.data&&t.type===Mr.TYPE.JSON&&t.data.frames&&!this.resources[i]){var n={crossOrigin:t.crossOrigin,metadata:t.metadata.imageMetadata,parentResource:t},r=Nr.getResourcePath(t,this.baseUrl);this.add(i,r,n,(function(i){if(i.error)e(i.error);else{var n=new Fr(i.texture.baseTexture,t.data,t.url);n.parse((function(){t.spritesheet=n,t.textures=n.textures,e()}))}}))}else e()},Nr.getResourcePath=function(t,e){return t.isDataUrl?t.data.meta.image:N.a.resolve(t.url.replace(e,""),t.data.meta.image)},new ht;var Lr="attribute vec2 aVertexPosition;\nattribute vec2 aTextureCoord;\n\nuniform mat3 projectionMatrix;\nuniform mat3 translationMatrix;\nuniform mat3 uTransform;\n\nvarying vec2 vTextureCoord;\n\nvoid main(void)\n{\n    gl_Position = vec4((projectionMatrix * translationMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);\n\n    vTextureCoord = (uTransform * vec3(aTextureCoord, 1.0)).xy;\n}\n",Ur="varying vec2 vTextureCoord;\n\nuniform sampler2D uSampler;\nuniform vec4 uColor;\nuniform mat3 uMapCoord;\nuniform vec4 uClampFrame;\nuniform vec2 uClampOffset;\n\nvoid main(void)\n{\n    vec2 coord = vTextureCoord - floor(vTextureCoord - uClampOffset);\n    coord = (uMapCoord * vec3(coord, 1.0)).xy;\n    coord = clamp(coord, uClampFrame.xy, uClampFrame.zw);\n\n    vec4 texSample = texture2D(uSampler, coord);\n    gl_FragColor = texSample * uColor;\n}\n",Or="varying vec2 vTextureCoord;\n\nuniform sampler2D uSampler;\nuniform vec4 uColor;\n\nvoid main(void)\n{\n    vec4 sample = texture2D(uSampler, vTextureCoord);\n    gl_FragColor = sample * uColor;\n}\n",Yr=new gt,Hr=function(t){function e(e){t.call(this,e);var i={globals:this.renderer.globalUniforms};this.shader=si.from(Lr,Ur,i),this.simpleShader=si.from(Lr,Or,i),this.quad=new Ie}return t&&(e.__proto__=t),(e.prototype=Object.create(t&&t.prototype)).constructor=e,e.prototype.render=function(t){var e=this.renderer,i=this.quad,n=i.vertices;n[0]=n[6]=t._width*-t.anchor.x,n[1]=n[3]=t._height*-t.anchor.y,n[2]=n[4]=t._width*(1-t.anchor.x),n[5]=n[7]=t._height*(1-t.anchor.y),t.uvRespectAnchor&&((n=i.uvs)[0]=n[6]=-t.anchor.x,n[1]=n[3]=-t.anchor.y,n[2]=n[4]=1-t.anchor.x,n[5]=n[7]=1-t.anchor.y),i.invalidate();var r=t._texture,s=r.baseTexture,o=t.tileTransform.localTransform,a=t.uvMatrix,A=s.isPowerOfTwo&&r.frame.width===s.width&&r.frame.height===s.height;A&&(s._glTextures[e.CONTEXT_UID]?A=s.wrapMode!==w.CLAMP:s.wrapMode===w.CLAMP&&(s.wrapMode=w.REPEAT));var l,u,h,c,f=A?this.simpleShader:this.shader,m=r.width,_=r.height,g=t._width,d=t._height;Yr.set(o.a*m/g,o.b*m/d,o.c*_/g,o.d*_/d,o.tx/g,o.ty/d),Yr.invert(),A?Yr.prepend(a.mapCoord):(f.uniforms.uMapCoord=a.mapCoord.toArray(!0),f.uniforms.uClampFrame=a.uClampFrame,f.uniforms.uClampOffset=a.uClampOffset),f.uniforms.uTransform=Yr.toArray(!0),f.uniforms.uColor=(l=t.tint,u=t.worldAlpha,c=s.alphaMode,(h=(h=f.uniforms.uColor)||new Float32Array(4))[0]=(l>>16&255)/255,h[1]=(l>>8&255)/255,h[2]=(255&l)/255,(c||void 0===c)&&(h[0]*=u,h[1]*=u,h[2]*=u),h[3]=u,h),f.uniforms.translationMatrix=t.transform.worldTransform.toArray(!0),f.uniforms.uSampler=r,e.shader.bind(f),e.geometry.bind(i),e.state.setBlendMode(j(t.blendMode,s.alphaMode)),e.geometry.draw(this.renderer.gl.TRIANGLES,6,0)},e}(xe),Jr=function(t){function e(e,i){var n=this;void 0===i&&(i={}),t.call(this),this._textWidth=0,this._textHeight=0,this._glyphs=[],this._font={tint:void 0!==i.tint?i.tint:16777215,align:i.align||"left",name:null,size:0},this.font=i.font,this._text=e,this._maxWidth=0,this._maxLineHeight=0,this._letterSpacing=0,this._anchor=new ct((function(){n.dirty=!0}),this,0,0),this.dirty=!1,this.roundPixels=R.ROUND_PIXELS,this.updateText()}t&&(e.__proto__=t),(e.prototype=Object.create(t&&t.prototype)).constructor=e;var i={tint:{configurable:!0},align:{configurable:!0},anchor:{configurable:!0},font:{configurable:!0},text:{configurable:!0},maxWidth:{configurable:!0},maxLineHeight:{configurable:!0},textWidth:{configurable:!0},letterSpacing:{configurable:!0},textHeight:{configurable:!0}};return e.prototype.updateText=function(){for(var t=e.fonts[this._font.name],i=this._font.size/t.size,n=new ht,r=[],s=[],o=this._text.replace(/(?:\r\n|\r)/g,"\n")||" ",a=o.length,A=this._maxWidth*t.size/this._font.size,l=null,u=0,h=0,c=0,f=-1,m=0,_=0,g=0,d=0;d<a;d++){var p=o.charCodeAt(d),y=o.charAt(d);if(/(?:\s)/.test(y)&&(f=d,m=u),"\r"!==y&&"\n"!==y){var C=t.chars[p];C&&(l&&C.kerning[l]&&(n.x+=C.kerning[l]),r.push({texture:C.texture,line:c,charCode:p,position:new ht(n.x+C.xOffset+this._letterSpacing/2,n.y+C.yOffset)}),n.x+=C.xAdvance+this._letterSpacing,u=n.x,g=Math.max(g,C.yOffset+C.texture.height),l=p,-1!==f&&A>0&&n.x>A&&(q(r,1+f-++_,1+d-f),d=f,f=-1,s.push(m),h=Math.max(h,m),c++,n.x=0,n.y+=t.lineHeight,l=null))}else s.push(u),h=Math.max(h,u),++c,++_,n.x=0,n.y+=t.lineHeight,l=null}var v=o.charAt(o.length-1);"\r"!==v&&"\n"!==v&&(/(?:\s)/.test(v)&&(u=m),s.push(u),h=Math.max(h,u));for(var I=[],B=0;B<=c;B++){var E=0;"right"===this._font.align?E=h-s[B]:"center"===this._font.align&&(E=(h-s[B])/2),I.push(E)}for(var w=r.length,b=this.tint,x=0;x<w;x++){var S=this._glyphs[x];S?S.texture=r[x].texture:((S=new Vn(r[x].texture)).roundPixels=this.roundPixels,this._glyphs.push(S)),S.position.x=(r[x].position.x+I[r[x].line])*i,S.position.y=r[x].position.y*i,S.scale.x=S.scale.y=i,S.tint=b,S.parent||this.addChild(S)}for(var Q=w;Q<this._glyphs.length;++Q)this.removeChild(this._glyphs[Q]);if(this._textWidth=h*i,this._textHeight=(n.y+t.lineHeight)*i,0!==this.anchor.x||0!==this.anchor.y)for(var k=0;k<w;k++)this._glyphs[k].x-=this._textWidth*this.anchor.x,this._glyphs[k].y-=this._textHeight*this.anchor.y;this._maxLineHeight=g*i},e.prototype.updateTransform=function(){this.validate(),this.containerUpdateTransform()},e.prototype.getLocalBounds=function(){return this.validate(),t.prototype.getLocalBounds.call(this)},e.prototype.validate=function(){this.dirty&&(this.updateText(),this.dirty=!1)},i.tint.get=function(){return this._font.tint},i.tint.set=function(t){this._font.tint="number"==typeof t&&t>=0?t:16777215,this.dirty=!0},i.align.get=function(){return this._font.align},i.align.set=function(t){this._font.align=t||"left",this.dirty=!0},i.anchor.get=function(){return this._anchor},i.anchor.set=function(t){"number"==typeof t?this._anchor.set(t):this._anchor.copyFrom(t)},i.font.get=function(){return this._font},i.font.set=function(t){t&&("string"==typeof t?(t=t.split(" "),this._font.name=1===t.length?t[0]:t.slice(1).join(" "),this._font.size=t.length>=2?parseInt(t[0],10):e.fonts[this._font.name].size):(this._font.name=t.name,this._font.size="number"==typeof t.size?t.size:parseInt(t.size,10)),this.dirty=!0)},i.text.get=function(){return this._text},i.text.set=function(t){t=String(null==t?"":t),this._text!==t&&(this._text=t,this.dirty=!0)},i.maxWidth.get=function(){return this._maxWidth},i.maxWidth.set=function(t){this._maxWidth!==t&&(this._maxWidth=t,this.dirty=!0)},i.maxLineHeight.get=function(){return this.validate(),this._maxLineHeight},i.textWidth.get=function(){return this.validate(),this._textWidth},i.letterSpacing.get=function(){return this._letterSpacing},i.letterSpacing.set=function(t){this._letterSpacing!==t&&(this._letterSpacing=t,this.dirty=!0)},i.textHeight.get=function(){return this.validate(),this._textHeight},e.registerFont=function(t,i){var n={},r=t.getElementsByTagName("info")[0],s=t.getElementsByTagName("common")[0],o=t.getElementsByTagName("page"),a=at(o[0].getAttribute("file"),R.RESOLUTION),A={};n.font=r.getAttribute("face"),n.size=parseInt(r.getAttribute("size"),10),n.lineHeight=parseInt(s.getAttribute("lineHeight"),10)/a,n.chars={},i instanceof Ae&&(i=[i]);for(var l=0;l<o.length;l++){var u=o[l].getAttribute("id"),h=o[l].getAttribute("file");A[u]=i instanceof Array?i[l]:i[h]}for(var c=t.getElementsByTagName("char"),f=0;f<c.length;f++){var m=c[f],_=parseInt(m.getAttribute("id"),10),g=m.getAttribute("page")||0,d=new bt(parseInt(m.getAttribute("x"),10)/a+A[g].frame.x/a,parseInt(m.getAttribute("y"),10)/a+A[g].frame.y/a,parseInt(m.getAttribute("width"),10)/a,parseInt(m.getAttribute("height"),10)/a);n.chars[_]={xOffset:parseInt(m.getAttribute("xoffset"),10)/a,yOffset:parseInt(m.getAttribute("yoffset"),10)/a,xAdvance:parseInt(m.getAttribute("xadvance"),10)/a,kerning:{},texture:new Ae(A[g].baseTexture,d),page:g}}for(var p=t.getElementsByTagName("kerning"),y=0;y<p.length;y++){var C=p[y],v=parseInt(C.getAttribute("first"),10)/a,I=parseInt(C.getAttribute("second"),10)/a,B=parseInt(C.getAttribute("amount"),10)/a;n.chars[I]&&(n.chars[I].kerning[v]=B)}return e.fonts[n.font]=n,n},Object.defineProperties(e.prototype,i),e}(Vt);Jr.fonts={};var jr=function(){};jr.parse=function(t,e){t.bitmapFont=Jr.registerFont(t.data,e)},jr.add=function(){Mr.setExtensionXhrType("fnt",Mr.XHR_RESPONSE_TYPE.DOCUMENT)},jr.dirname=function(t){var e=t.replace(/\/$/,"").replace(/\/[^\/]*$/,"");return e===t?".":""===e?"/":e},jr.use=function(t,e){if(t.data&&t.type===Mr.TYPE.XML)if(0!==t.data.getElementsByTagName("page").length&&0!==t.data.getElementsByTagName("info").length&&null!==t.data.getElementsByTagName("info")[0].getAttribute("face")){var i=t.isDataUrl?"":jr.dirname(t.url);t.isDataUrl&&("."===i&&(i=""),this.baseUrl&&i&&"/"===this.baseUrl.charAt(this.baseUrl.length-1)&&(i+="/")),(i=i.replace(this.baseUrl,""))&&"/"!==i.charAt(i.length-1)&&(i+="/");for(var n=t.data.getElementsByTagName("page"),r={},s=function(i){r[i.metadata.pageFile]=i.texture,Object.keys(r).length===n.length&&(jr.parse(t,r),e())},o=0;o<n.length;++o){var a=n[o].getAttribute("file"),A=i+a,l=!1;for(var u in this.resources){var h=this.resources[u];if(h.url===A){h.metadata.pageFile=a,h.texture?s(h):h.onAfterMiddleware.add(s),l=!0;break}}if(!l){var c={crossOrigin:t.crossOrigin,loadType:Mr.LOAD_TYPE.IMAGE,metadata:Object.assign({pageFile:a},t.metadata.imageMetadata),parentResource:t};this.add(A,c,s)}}}else e();else e()},["varying vec2 vBlurTexCoords[%size%];","uniform sampler2D uSampler;","void main(void)","{","    gl_FragColor = vec4(0.0);","    %blur%","}"].join("\n");var Kr="varying vec2 vTextureCoord;\nuniform sampler2D uSampler;\nuniform float m[20];\nuniform float uAlpha;\n\nvoid main(void)\n{\n    vec4 c = texture2D(uSampler, vTextureCoord);\n\n    if (uAlpha == 0.0) {\n        gl_FragColor = c;\n        return;\n    }\n\n    // Un-premultiply alpha before applying the color matrix. See issue #3539.\n    if (c.a > 0.0) {\n      c.rgb /= c.a;\n    }\n\n    vec4 result;\n\n    result.r = (m[0] * c.r);\n        result.r += (m[1] * c.g);\n        result.r += (m[2] * c.b);\n        result.r += (m[3] * c.a);\n        result.r += m[4];\n\n    result.g = (m[5] * c.r);\n        result.g += (m[6] * c.g);\n        result.g += (m[7] * c.b);\n        result.g += (m[8] * c.a);\n        result.g += m[9];\n\n    result.b = (m[10] * c.r);\n       result.b += (m[11] * c.g);\n       result.b += (m[12] * c.b);\n       result.b += (m[13] * c.a);\n       result.b += m[14];\n\n    result.a = (m[15] * c.r);\n       result.a += (m[16] * c.g);\n       result.a += (m[17] * c.b);\n       result.a += (m[18] * c.a);\n       result.a += m[19];\n\n    vec3 rgb = mix(c.rgb, result.rgb, uAlpha);\n\n    // Premultiply alpha again.\n    rgb *= result.a;\n\n    gl_FragColor = vec4(rgb, result.a);\n}\n",qr=function(t){function e(){var e={m:new Float32Array([1,0,0,0,0,0,1,0,0,0,0,0,1,0,0,0,0,0,1,0]),uAlpha:1};t.call(this,Fi,Kr,e),this.alpha=1}t&&(e.__proto__=t),(e.prototype=Object.create(t&&t.prototype)).constructor=e;var i={matrix:{configurable:!0},alpha:{configurable:!0}};return e.prototype._loadMatrix=function(t,e){void 0===e&&(e=!1);var i=t;e&&(this._multiply(i,this.uniforms.m,t),i=this._colorMatrix(i)),this.uniforms.m=i},e.prototype._multiply=function(t,e,i){return t[0]=e[0]*i[0]+e[1]*i[5]+e[2]*i[10]+e[3]*i[15],t[1]=e[0]*i[1]+e[1]*i[6]+e[2]*i[11]+e[3]*i[16],t[2]=e[0]*i[2]+e[1]*i[7]+e[2]*i[12]+e[3]*i[17],t[3]=e[0]*i[3]+e[1]*i[8]+e[2]*i[13]+e[3]*i[18],t[4]=e[0]*i[4]+e[1]*i[9]+e[2]*i[14]+e[3]*i[19]+e[4],t[5]=e[5]*i[0]+e[6]*i[5]+e[7]*i[10]+e[8]*i[15],t[6]=e[5]*i[1]+e[6]*i[6]+e[7]*i[11]+e[8]*i[16],t[7]=e[5]*i[2]+e[6]*i[7]+e[7]*i[12]+e[8]*i[17],t[8]=e[5]*i[3]+e[6]*i[8]+e[7]*i[13]+e[8]*i[18],t[9]=e[5]*i[4]+e[6]*i[9]+e[7]*i[14]+e[8]*i[19]+e[9],t[10]=e[10]*i[0]+e[11]*i[5]+e[12]*i[10]+e[13]*i[15],t[11]=e[10]*i[1]+e[11]*i[6]+e[12]*i[11]+e[13]*i[16],t[12]=e[10]*i[2]+e[11]*i[7]+e[12]*i[12]+e[13]*i[17],t[13]=e[10]*i[3]+e[11]*i[8]+e[12]*i[13]+e[13]*i[18],t[14]=e[10]*i[4]+e[11]*i[9]+e[12]*i[14]+e[13]*i[19]+e[14],t[15]=e[15]*i[0]+e[16]*i[5]+e[17]*i[10]+e[18]*i[15],t[16]=e[15]*i[1]+e[16]*i[6]+e[17]*i[11]+e[18]*i[16],t[17]=e[15]*i[2]+e[16]*i[7]+e[17]*i[12]+e[18]*i[17],t[18]=e[15]*i[3]+e[16]*i[8]+e[17]*i[13]+e[18]*i[18],t[19]=e[15]*i[4]+e[16]*i[9]+e[17]*i[14]+e[18]*i[19]+e[19],t},e.prototype._colorMatrix=function(t){var e=new Float32Array(t);return e[4]/=255,e[9]/=255,e[14]/=255,e[19]/=255,e},e.prototype.brightness=function(t,e){this._loadMatrix([t,0,0,0,0,0,t,0,0,0,0,0,t,0,0,0,0,0,1,0],e)},e.prototype.greyscale=function(t,e){this._loadMatrix([t,t,t,0,0,t,t,t,0,0,t,t,t,0,0,0,0,0,1,0],e)},e.prototype.blackAndWhite=function(t){this._loadMatrix([.3,.6,.1,0,0,.3,.6,.1,0,0,.3,.6,.1,0,0,0,0,0,1,0],t)},e.prototype.hue=function(t,e){t=(t||0)/180*Math.PI;var i=Math.cos(t),n=Math.sin(t),r=1/3,s=(0,Math.sqrt)(r);this._loadMatrix([i+(1-i)*r,r*(1-i)-s*n,r*(1-i)+s*n,0,0,r*(1-i)+s*n,i+r*(1-i),r*(1-i)-s*n,0,0,r*(1-i)-s*n,r*(1-i)+s*n,i+r*(1-i),0,0,0,0,0,1,0],e)},e.prototype.contrast=function(t,e){var i=(t||0)+1,n=-.5*(i-1);this._loadMatrix([i,0,0,0,n,0,i,0,0,n,0,0,i,0,n,0,0,0,1,0],e)},e.prototype.saturate=function(t,e){void 0===t&&(t=0);var i=2*t/3+1,n=-.5*(i-1);this._loadMatrix([i,n,n,0,0,n,i,n,0,0,n,n,i,0,0,0,0,0,1,0],e)},e.prototype.desaturate=function(){this.saturate(-1)},e.prototype.negative=function(t){this._loadMatrix([-1,0,0,1,0,0,-1,0,1,0,0,0,-1,1,0,0,0,0,1,0],t)},e.prototype.sepia=function(t){this._loadMatrix([.393,.7689999,.18899999,0,0,.349,.6859999,.16799999,0,0,.272,.5339999,.13099999,0,0,0,0,0,1,0],t)},e.prototype.technicolor=function(t){this._loadMatrix([1.9125277891456083,-.8545344976951645,-.09155508482755585,0,11.793603434377337,-.3087833385928097,1.7658908555458428,-.10601743074722245,0,-70.35205161461398,-.231103377548616,-.7501899197440212,1.847597816108189,0,30.950940869491138,0,0,0,1,0],t)},e.prototype.polaroid=function(t){this._loadMatrix([1.438,-.062,-.062,0,0,-.122,1.378,-.122,0,0,-.016,-.016,1.483,0,0,0,0,0,1,0],t)},e.prototype.toBGR=function(t){this._loadMatrix([0,0,1,0,0,0,1,0,0,0,1,0,0,0,0,0,0,0,1,0],t)},e.prototype.kodachrome=function(t){this._loadMatrix([1.1285582396593525,-.3967382283601348,-.03992559172921793,0,63.72958762196502,-.16404339962244616,1.0835251566291304,-.05498805115633132,0,24.732407896706203,-.16786010706155763,-.5603416277695248,1.6014850761964943,0,35.62982807460946,0,0,0,1,0],t)},e.prototype.browni=function(t){this._loadMatrix([.5997023498159715,.34553243048391263,-.2708298674538042,0,47.43192855600873,-.037703249837783157,.8609577587992641,.15059552388459913,0,-36.96841498319127,.24113635128153335,-.07441037908422492,.44972182064877153,0,-7.562075277591283,0,0,0,1,0],t)},e.prototype.vintage=function(t){this._loadMatrix([.6279345635605994,.3202183420819367,-.03965408211312453,0,9.651285835294123,.02578397704808868,.6441188644374771,.03259127616149294,0,7.462829176470591,.0466055556782719,-.0851232987247891,.5241648018700465,0,5.159190588235296,0,0,0,1,0],t)},e.prototype.colorTone=function(t,e,i,n,r){var s=((i=i||16770432)>>16&255)/255,o=(i>>8&255)/255,a=(255&i)/255,A=((n=n||3375104)>>16&255)/255,l=(n>>8&255)/255,u=(255&n)/255;this._loadMatrix([.3,.59,.11,0,0,s,o,a,t=t||.2,0,A,l,u,e=e||.15,0,s-A,o-l,a-u,0,0],r)},e.prototype.night=function(t,e){this._loadMatrix([-2*(t=t||.1),-t,0,0,0,-t,0,t,0,0,0,t,2*t,0,0,0,0,0,1,0],e)},e.prototype.predator=function(t,e){this._loadMatrix([11.224130630493164*t,-4.794486999511719*t,-2.8746118545532227*t,0*t,.40342438220977783*t,-3.6330697536468506*t,9.193157196044922*t,-2.951810836791992*t,0*t,-1.316135048866272*t,-3.2184197902679443*t,-4.2375030517578125*t,7.476448059082031*t,0*t,.8044459223747253*t,0,0,0,1,0],e)},e.prototype.lsd=function(t){this._loadMatrix([2,-.4,.5,0,0,-.5,2,-.4,0,0,-.4,-.5,3,0,0,0,0,0,1,0],t)},e.prototype.reset=function(){this._loadMatrix([1,0,0,0,0,0,1,0,0,0,0,0,1,0,0,0,0,0,1,0],!1)},i.matrix.get=function(){return this.uniforms.m},i.matrix.set=function(t){this.uniforms.m=t},i.alpha.get=function(){return this.uniforms.uAlpha},i.alpha.set=function(t){this.uniforms.uAlpha=t},Object.defineProperties(e.prototype,i),e}(li);qr.prototype.grayscale=qr.prototype.greyscale;var zr=new gt;Mt.prototype._cacheAsBitmap=!1,Mt.prototype._cacheData=!1;var Xr=function(){this.textureCacheId=null,this.originalRender=null,this.originalRenderCanvas=null,this.originalCalculateBounds=null,this.originalGetLocalBounds=null,this.originalUpdateTransform=null,this.originalHitTest=null,this.originalDestroy=null,this.originalMask=null,this.originalFilterArea=null,this.sprite=null};Object.defineProperties(Mt.prototype,{cacheAsBitmap:{get:function(){return this._cacheAsBitmap},set:function(t){var e;this._cacheAsBitmap!==t&&(this._cacheAsBitmap=t,t?(this._cacheData||(this._cacheData=new Xr),(e=this._cacheData).originalRender=this.render,e.originalRenderCanvas=this.renderCanvas,e.originalUpdateTransform=this.updateTransform,e.originalCalculateBounds=this.calculateBounds,e.originalGetLocalBounds=this.getLocalBounds,e.originalDestroy=this.destroy,e.originalContainsPoint=this.containsPoint,e.originalMask=this._mask,e.originalFilterArea=this.filterArea,this.render=this._renderCached,this.renderCanvas=this._renderCachedCanvas,this.destroy=this._cacheAsBitmapDestroy):((e=this._cacheData).sprite&&this._destroyCachedDisplayObject(),this.render=e.originalRender,this.renderCanvas=e.originalRenderCanvas,this.calculateBounds=e.originalCalculateBounds,this.getLocalBounds=e.originalGetLocalBounds,this.destroy=e.originalDestroy,this.updateTransform=e.originalUpdateTransform,this.containsPoint=e.originalContainsPoint,this._mask=e.originalMask,this.filterArea=e.originalFilterArea))}}}),Mt.prototype._renderCached=function(t){!this.visible||this.worldAlpha<=0||!this.renderable||(this._initCachedDisplayObject(t),this._cacheData.sprite.transform._worldID=this.transform._worldID,this._cacheData.sprite.worldAlpha=this.worldAlpha,this._cacheData.sprite._render(t))},Mt.prototype._initCachedDisplayObject=function(t){if(!this._cacheData||!this._cacheData.sprite){var e=this.alpha;this.alpha=1,t.batch.flush();var i=this.getLocalBounds().clone();this.filters&&i.pad(this.filters[0].padding),i.ceil(R.RESOLUTION);var n=t.renderTexture.current,r=t.renderTexture.sourceFrame,s=t.projection.transform,o=ue.create(i.width,i.height),a="cacheAsBitmap_"+X();this._cacheData.textureCacheId=a,zt.addToCache(o.baseTexture,a),Ae.addToCache(o,a);var A=zr;A.tx=-i.x,A.ty=-i.y,this.transform.worldTransform.identity(),this.render=this._cacheData.originalRender,t.render(this,o,!0,A,!0),t.projection.transform=s,t.renderTexture.bind(n,r),this.render=this._renderCached,this.updateTransform=this.displayObjectUpdateTransform,this.calculateBounds=this._calculateCachedBounds,this.getLocalBounds=this._getCachedLocalBounds,this._mask=null,this.filterArea=null;var l=new Vn(o);l.transform.worldTransform=this.transform.worldTransform,l.anchor.x=-i.x/i.width,l.anchor.y=-i.y/i.height,l.alpha=e,l._bounds=this._bounds,this._cacheData.sprite=l,this.transform._parentID=-1,this.parent?this.updateTransform():(this.parent=t._tempDisplayObjectParent,this.updateTransform(),this.parent=null),this.containsPoint=l.containsPoint.bind(l)}},Mt.prototype._renderCachedCanvas=function(t){!this.visible||this.worldAlpha<=0||!this.renderable||(this._initCachedDisplayObjectCanvas(t),this._cacheData.sprite.worldAlpha=this.worldAlpha,this._cacheData.sprite._renderCanvas(t))},Mt.prototype._initCachedDisplayObjectCanvas=function(t){if(!this._cacheData||!this._cacheData.sprite){var e=this.getLocalBounds(),i=this.alpha;this.alpha=1;var n=t.context;e.ceil(R.RESOLUTION);var r=ue.create(e.width,e.height),s="cacheAsBitmap_"+X();this._cacheData.textureCacheId=s,zt.addToCache(r.baseTexture,s),Ae.addToCache(r,s);var o=zr;this.transform.localTransform.copyTo(o),o.invert(),o.tx-=e.x,o.ty-=e.y,this.renderCanvas=this._cacheData.originalRenderCanvas,t.render(this,r,!0,o,!1),t.context=n,this.renderCanvas=this._renderCachedCanvas,this.updateTransform=this.displayObjectUpdateTransform,this.calculateBounds=this._calculateCachedBounds,this.getLocalBounds=this._getCachedLocalBounds,this._mask=null,this.filterArea=null;var a=new Vn(r);a.transform.worldTransform=this.transform.worldTransform,a.anchor.x=-e.x/e.width,a.anchor.y=-e.y/e.height,a.alpha=i,a._bounds=this._bounds,this._cacheData.sprite=a,this.transform._parentID=-1,this.parent?this.updateTransform():(this.parent=t._tempDisplayObjectParent,this.updateTransform(),this.parent=null),this.containsPoint=a.containsPoint.bind(a)}},Mt.prototype._calculateCachedBounds=function(){this._bounds.clear(),this._cacheData.sprite.transform._worldID=this.transform._worldID,this._cacheData.sprite._calculateBounds(),this._lastBoundsID=this._boundsID},Mt.prototype._getCachedLocalBounds=function(){return this._cacheData.sprite.getLocalBounds()},Mt.prototype._destroyCachedDisplayObject=function(){this._cacheData.sprite._texture.destroy(!0),this._cacheData.sprite=null,zt.removeFromCache(this._cacheData.textureCacheId),Ae.removeFromCache(this._cacheData.textureCacheId),this._cacheData.textureCacheId=null},Mt.prototype._cacheAsBitmapDestroy=function(t){this.cacheAsBitmap=!1,this.destroy(t)},Mt.prototype.name=null,Vt.prototype.getChildByName=function(t){for(var e=0;e<this.children.length;e++)if(this.children[e].name===t)return this.children[e];return null},Mt.prototype.getGlobalPosition=function(t,e){return void 0===t&&(t=new ht),void 0===e&&(e=!1),this.parent?this.parent.toGlobal(this.position,t,e):(t.x=this.position.x,t.y=this.position.y),t};var Wr=function(t,e){this.uvBuffer=t,this.uvMatrix=e,this.data=null,this._bufferUpdateId=-1,this._textureUpdateId=-1,this._updateID=0};Wr.prototype.update=function(t){if(t||this._bufferUpdateId!==this.uvBuffer._updateID||this._textureUpdateId!==this.uvMatrix._updateID){this._bufferUpdateId=this.uvBuffer._updateID,this._textureUpdateId=this.uvMatrix._updateID;var e=this.uvBuffer.data;this.data&&this.data.length===e.length||(this.data=new Float32Array(e.length)),this.uvMatrix.multiplyUvs(e,this.data),this._updateID++}};var Zr=new ht,$r=new Qt;(function(t){function e(e,i,n,r){void 0===r&&(r=C.TRIANGLES),t.call(this),this.geometry=e,e.refCount++,this.shader=i,this.state=n||ai.for2d(),this.drawMode=r,this.start=0,this.size=0,this.uvs=null,this.indices=null,this.vertexData=new Float32Array(1),this.vertexDirty=0,this._transformID=-1,this.tint=16777215,this.blendMode=y.NORMAL,this._roundPixels=R.ROUND_PIXELS,this.batchUvs=null}t&&(e.__proto__=t),(e.prototype=Object.create(t&&t.prototype)).constructor=e;var i={uvBuffer:{configurable:!0},verticesBuffer:{configurable:!0},material:{configurable:!0},blendMode:{configurable:!0},roundPixels:{configurable:!0},tint:{configurable:!0},texture:{configurable:!0}};return i.uvBuffer.get=function(){return this.geometry.buffers[1]},i.verticesBuffer.get=function(){return this.geometry.buffers[0]},i.material.set=function(t){this.shader=t},i.material.get=function(){return this.shader},i.blendMode.set=function(t){this.state.blendMode=t},i.blendMode.get=function(){return this.state.blendMode},i.roundPixels.set=function(t){this._roundPixels!==t&&(this._transformID=-1),this._roundPixels=t},i.roundPixels.get=function(){return this._roundPixels},i.tint.get=function(){return this.shader.tint},i.tint.set=function(t){this.shader.tint=t},i.texture.get=function(){return this.shader.texture},i.texture.set=function(t){this.shader.texture=t},e.prototype._render=function(t){this.shader.batchable&&this.drawMode===C.TRIANGLES&&this.geometry.buffers[0].data.length<2*e.BATCHABLE_SIZE?this._renderToBatch(t):this._renderDefault(t)},e.prototype._renderDefault=function(t){var e=this.shader;e.alpha=this.worldAlpha,e.update&&e.update(),t.batch.flush(),e.program.uniformData.translationMatrix&&(e.uniforms.translationMatrix=this.transform.worldTransform.toArray(!0)),t.shader.bind(e),t.state.set(this.state),t.geometry.bind(this.geometry,e),t.geometry.draw(this.drawMode,this.size,this.start,this.geometry.instanceCount)},e.prototype._renderToBatch=function(t){var e=this.geometry;this.shader.uvMatrix&&(this.shader.uvMatrix.update(),this.calculateUvs()),this.calculateVertices(),this.indices=e.indexBuffer.data,this._tintRGB=this.shader._tintRGB,this._texture=this.shader.texture;var i=this.material.pluginName;t.batch.setObjectRenderer(t.plugins[i]),t.plugins[i].render(this)},e.prototype.calculateVertices=function(){var t=this.geometry,e=t.buffers[0].data;if(t.vertexDirtyId!==this.vertexDirty||this._transformID!==this.transform._worldID){this._transformID=this.transform._worldID,this.vertexData.length!==e.length&&(this.vertexData=new Float32Array(e.length));for(var i=this.transform.worldTransform,n=i.a,r=i.b,s=i.c,o=i.d,a=i.tx,A=i.ty,l=this.vertexData,u=0;u<l.length/2;u++){var h=e[2*u],c=e[2*u+1];l[2*u]=n*h+s*c+a,l[2*u+1]=r*h+o*c+A}if(this._roundPixels)for(var f=0;f<l.length;f++)l[f]=Math.round(l[f]);this.vertexDirty=t.vertexDirtyId}},e.prototype.calculateUvs=function(){var t=this.geometry.buffers[1];this.shader.uvMatrix.isSimple?this.uvs=t.data:(this.batchUvs||(this.batchUvs=new Wr(t,this.shader.uvMatrix)),this.batchUvs.update(),this.uvs=this.batchUvs.data)},e.prototype._calculateBounds=function(){this.calculateVertices(),this._bounds.addVertexData(this.vertexData,0,this.vertexData.length)},e.prototype.containsPoint=function(t){if(!this.getBounds().contains(t.x,t.y))return!1;this.worldTransform.applyInverse(t,Zr);for(var e=this.geometry.getBuffer("aVertexPosition").data,i=$r.points,n=this.geometry.getIndex().data,r=n.length,s=4===this.drawMode?3:1,o=0;o+2<r;o+=s){var a=2*n[o],A=2*n[o+1],l=2*n[o+2];if(i[0]=e[a],i[1]=e[a+1],i[2]=e[A],i[3]=e[A+1],i[4]=e[l],i[5]=e[l+1],$r.contains(Zr.x,Zr.y))return!0}return!1},e.prototype.destroy=function(e){t.prototype.destroy.call(this,e),this.geometry.refCount--,0===this.geometry.refCount&&this.geometry.dispose(),this.geometry=null,this.shader=null,this.state=null,this.uvs=null,this.indices=null,this.vertexData=null},Object.defineProperties(e.prototype,i),e}(Vt)).BATCHABLE_SIZE=100,Gi.registerPlugin("accessibility",Tt),Gi.registerPlugin("extract",Wi),Gi.registerPlugin("interaction",an),Gi.registerPlugin("particle",Gr),Gi.registerPlugin("prepare",er),Gi.registerPlugin("batch",zi),Gi.registerPlugin("tilingSprite",Hr),kr.registerPlugin(jr),kr.registerPlugin(Nr),or.registerPlugin(Lt),or.registerPlugin(Dr);var ts=20,es=new(function(t){function e(){var t;return _classCallCheck2(this,e),(t=_possibleConstructorReturn(this,_getPrototypeOf(e).apply(this,arguments))).metersToPixel=20,t}return _inherits(e,t),e}(or))({transparent:!0,resizeTo:window});function is(t,e){var i=[];t.forEach((function(t){i.push(t.x*ts),i.push(-t.y*ts)}));var n,s,o=(n=i,(s=new Dn).lineStyle(0),s.beginFill(3473658,1),s.drawPolygon(n),s.endFill(),es.stage.addChild(s)),a=new r.b2BodyDef,A=e.CreateBody(a),l=new r.b2PolygonShape;l.Set(t,t.length);var u={objectType:0,displayObject:o},h=new r.b2FixtureDef;h.shape=l,h.userData=u,A.CreateFixture(h,0)}document.body.appendChild(es.view).className="game-canvas",es.stage.position.x=es.screen.width/2,es.stage.position.y=es.screen.height/2;var ns,rs=i("NL4Z"),ss=i("dQjV"),os=function(t){t.x=Math.round(1e5*t.x),t.y=Math.round(1e5*t.y)},as=function(t){t.x/=1e5,t.y/=1e5};ss.loadNativeClipperLibInstanceAsync(ss.NativeClipperLibRequestedFormat.WasmWithAsmJsFallback).then((function(t){ns=t}));var As,ls=function(t){return t[t.LEFT=0]="LEFT",t[t.RIGHT=1]="RIGHT",t[t.NONE=2]="NONE",t}({}),us=function(t){return t[t.UP=0]="UP",t[t.DOWN=1]="DOWN",t[t.NONE=2]="NONE",t}({}),hs=function t(){_classCallCheck2(this,t),this.moveX=ls.NONE,this.moveY=us.NONE},cs=function(){function t(e,i){_classCallCheck2(this,t),this.sprite=this.createSprite(),this.displayObject=es.stage.addChild(this.sprite),this.body=this.createBody(e),this.setPosition(i.x,i.y)}return _createClass2(t,[{key:"getSprite",value:function(){return this.sprite}},{key:"updateSprite",value:function(){var t=this.body.GetWorldCenter();this.sprite.position.set(t.x*es.metersToPixel,-t.y*es.metersToPixel)}},{key:"getPosition",value:function(){return this.body.GetPosition()}},{key:"setPosition",value:function(t,e){this.body.SetPosition(new r.b2Vec2(t,e))}},{key:"getUserData",value:function(){return this.sensorFixture.GetUserData()}},{key:"destroyBody",value:function(){this.body&&this.body.GetWorld().DestroyBody(this.body)}},{key:"destroySprite",value:function(){this.sprite&&this.sprite.destroy()}}]),t}(),fs=function(t){function e(){var t;return _classCallCheck2(this,e),(t=_possibleConstructorReturn(this,_getPrototypeOf(e).apply(this,arguments))).stopped=!0,t.aimAngle=90,t.direction=1,t}return _inherits(e,t),_createClass2(e,[{key:"createBody",value:function(t){var e=new r.b2BodyDef;e.type=r.b2BodyType.b2_dynamicBody;var i=t.CreateBody(e),n=new r.b2PolygonShape;n.SetAsBox(.5,.75),i.CreateFixture(n,0);var s=new r.b2CircleShape;s.m_p.Set(0,-.75),s.m_radius=.5,this.playerMovement={objectType:1,displayObject:this.displayObject,minAngle:Object(r.b2DegToRad)(-172),maxAngle:Object(r.b2DegToRad)(-8),velocity:0,moveX:ls.NONE,direction:1,numFootContacts:0},this.jumpTimer=0;var o=new r.b2FixtureDef;return o.shape=s,o.friction=1e7,o.userData=this.playerMovement,this.sensorFixture=i.CreateFixture(o,0),i.SetFixedRotation(!0),i.SetSleepingAllowed(!0),i}},{key:"createSprite",value:function(){var t=Vn.from("assets/bunny.png");return t.anchor.set(.5,.3),t.interactive=!0,t.buttonMode=!0,this.sprite=t,this.DrawAimArrow(),t}},{key:"handleInput",value:function(t){var e=this.body.GetLinearVelocity();if(Math.abs(e.x)<1&&t.moveX===ls.NONE&&!this.stopped&&(this.sensorFixture.SetUserData(_objectSpread({},this.sensorFixture.GetUserData(),{velocity:0,moveX:t.moveX})),e.x=0,this.body.SetLinearVelocity(e),this.body.SetSleepingAllowed(!0),this.stopped=!0),e.x||t.moveX!==ls.NONE){this.stopped&&(this.body.SetSleepingAllowed(!1),this.stopped=!1);var i,n=0;switch(t.moveX){case ls.LEFT:this.direction=i=-1,n=-2;break;case ls.RIGHT:this.direction=i=1,n=2}this.sensorFixture.SetUserData(_objectSpread({},this.sensorFixture.GetUserData(),{velocity:n,moveX:t.moveX},i&&{direction:i}))}if(t.jump&&0===this.jumpTimer&&this.canJump()){var s=this.sensorFixture.GetUserData().direction;this.body.ApplyLinearImpulse(new r.b2Vec2(2*this.body.GetMass()*s,5*this.body.GetMass()),this.body.GetWorldCenter()),this.jumpTimer=50,this.stopped&&(this.body.SetSleepingAllowed(!1),this.stopped=!1)}switch(this.jumpTimerTick(),t.moveY){case us.UP:this.aimAngle+=2,this.aimAngle=Object(r.b2Min)(this.aimAngle,180);break;case us.DOWN:this.aimAngle-=2,this.aimAngle=Object(r.b2Max)(this.aimAngle,0)}this.aimArrow.setTransform(void 0,void 0,void 0,void 0,Object(r.b2DegToRad)(this.aimAngle*this.direction*-1))}},{key:"addNumFootContacts",value:function(t){var e=this.sensorFixture.GetUserData();this.sensorFixture.SetUserData(_objectSpread({},e,{numFootContacts:e.numFootContacts+t}))}},{key:"canJump",value:function(){return this.sensorFixture.GetUserData().numFootContacts>0}},{key:"jumpTimerTick",value:function(){this.jumpTimer>0&&this.jumpTimer--}},{key:"DrawAimArrow",value:function(){var t=new Dn,e=[30*Object(r.b2Sin)(Object(r.b2DegToRad)(10)),30*Object(r.b2Cos)(Object(r.b2DegToRad)(10)),30*Object(r.b2Sin)(Object(r.b2DegToRad)(-10)),30*Object(r.b2Cos)(Object(r.b2DegToRad)(-10)),30*Object(r.b2Sin)(Object(r.b2DegToRad)(0))*2,30*Object(r.b2Cos)(Object(r.b2DegToRad)(0))*2];t.lineStyle(0),t.beginFill(16448250,1),t.drawPolygon(e),t.endFill(),this.aimArrow=this.sprite.addChild(t),this.aimArrow.setTransform(void 0,void 0,void 0,void 0,Object(r.b2DegToRad)(270))}},{key:"RemoveAimArrow",value:function(){this.sprite.removeChild(this.aimArrow)}}]),e}(cs),ms=function(t){function e(t,i,n,s){var o;_classCallCheck2(this,e),o=_possibleConstructorReturn(this,_getPrototypeOf(e).call(this,t,i));var a=12*Object(r.b2Sin)(Object(r.b2DegToRad)(n))*s,A=-12*Object(r.b2Cos)(Object(r.b2DegToRad)(n));return o.body.SetLinearVelocity(new r.b2Vec2(a,A)),o}return _inherits(e,t),_createClass2(e,[{key:"createBody",value:function(t){var e=new r.b2BodyDef;e.type=r.b2BodyType.b2_dynamicBody;var i=t.CreateBody(e),n={objectType:2,displayObject:this.displayObject},s=new r.b2CircleShape;s.m_radius=.5;var o=new r.b2FixtureDef;return o.shape=s,o.userData=n,this.sensorFixture=i.CreateFixture(o,0),i}},{key:"createSprite",value:function(){var t=new Dn;return t.lineStyle(0),t.beginFill(16056570,1),t.drawCircle(0,0,.5*ts),t.endFill(),t}}]),e}(cs),_s=function(t){function e(t){var i;return _classCallCheck2(this,e),(i=_possibleConstructorReturn(this,_getPrototypeOf(e).call(this))).mapSizeMultiplier=8,i.mapWidthPx=1280,i.mapHeightPx=612,i.mapPivot=new ht(0,0),i.mouseDragPos=new ht(0,0),i.draggingMap=!1,i.player=null,i.playerFireCooldown=!1,i.gameObjects=[],i.gameObjectsToDestroy=[],i.initMap(t),i}return _inherits(e,t),_createClass2(e,[{key:"initMap",value:function(t){var e=this;this.mapWidthPx=t.width,this.mapHeightPx=t.height,console.log(t),t.polygons.forEach((function(t){return e.CreateMapPoly(t)}));var i=t.playerPositions[0],n=new r.b2Vec2(i.x/this.mapSizeMultiplier-this.mapWidthPx/2/this.mapSizeMultiplier,i.y/-this.mapSizeMultiplier-this.mapHeightPx/2/-this.mapSizeMultiplier);this.player=new fs(this.world,n);for(var s=1;s<5;s++){var o=t.playerPositions[s],a=new r.b2Vec2(o.x/this.mapSizeMultiplier-this.mapWidthPx/2/this.mapSizeMultiplier,o.y/-this.mapSizeMultiplier-this.mapHeightPx/2/-this.mapSizeMultiplier),A=new fs(this.world,a);this.gameObjects.push(A)}this.CreateContactListener(),this.addMapEventHandlers(),this.addPlayerEventHandlers()}},{key:"Step",value:function(t,i){var n=this;if(this.player&&(this.player.handleInput(i),this.player.updateSprite(),this.playerFireCooldown&&!i.fire&&(this.playerFireCooldown=!1),i.fire&&!this.playerFireCooldown)){var s=this.player.getPosition(),o=s.x+2*Object(r.b2Sin)(Object(r.b2DegToRad)(this.player.aimAngle))*this.player.direction,a=s.y-2*Object(r.b2Cos)(Object(r.b2DegToRad)(this.player.aimAngle)),A=new r.b2Vec2(o,a),l=new ms(this.world,A,this.player.aimAngle,this.player.direction);this.gameObjects.push(l),this.playerFireCooldown=!0}this.gameObjects.forEach((function(t){return t.updateSprite()})),this.gameObjectsToDestroy.forEach((function(t){n.projectileExplode(t),t.destroyBody(),t.destroySprite();var e=n.gameObjects.indexOf(t,0);e>-1&&n.gameObjects.splice(e,1)})),this.gameObjectsToDestroy.length=0,_get(_getPrototypeOf(e.prototype),"Step",this).call(this,t,i)}},{key:"projectileExplode",value:function(t){var e=this,i=t.getPosition(),n=i.x,s=i.y,o=new r.b2AABB;o.lowerBound.Copy(new r.b2Vec2(n-3,s-3)),o.upperBound.Copy(new r.b2Vec2(n+3,s+3));var a=function(t,e,i){e.map(os);var n=i.QueryAllAABB(t),r=[],s=[];return n.forEach((function(t){var i=t.GetUserData()||null;if(i&&0===i.objectType){s.push(t);var n=t.m_shape.m_vertices;n.map(os),ns.clipToPaths({clipType:ss.ClipType.Difference,subjectInputs:[{data:n,closed:!0}],clipInputs:[{data:e,closed:!0}],subjectFillType:ss.PolyFillType.NonZero,clipFillType:ss.PolyFillType.NonZero}).forEach((function(t){t.map(as),rs.hxGeomAlgo.SnoeyinkKeil.decomposePoly(t).forEach((function(t){return r.push(t)}))}))}})),{polygonsToAdd:r,fixturesToDelete:s}}(o,function(t,e,i,n){for(var s=[],o=0;o<=15;o++){var a=3*Object(r.b2Cos)(2*o*r.b2_pi/15)+i,A=3*Object(r.b2Sin)(2*o*r.b2_pi/15)+n,l=new r.b2Vec2(a,A);s.push(l)}return s}(0,0,n,s),this.world);a.polygonsToAdd.forEach((function(t){return is(t,e.world)})),a.fixturesToDelete.forEach((function(t){return function(t,e){var i=t.GetUserData();0===i.objectType&&(e.DestroyBody(t.GetBody()),i.displayObject&&es.stage.removeChild(i.displayObject))}(t,e.world)}))}},{key:"CreateMapPoly",value:function(t){var e=this;is(t.map((function(t){return new r.b2Vec2(t.x/e.mapSizeMultiplier-e.mapWidthPx/2/e.mapSizeMultiplier,t.y/-e.mapSizeMultiplier-e.mapHeightPx/2/-e.mapSizeMultiplier)})),this.world)}},{key:"CreateContactListener",value:function(){var t=this,e=new r.b2ContactListener;e.BeginContact=function(e){var i=e.GetFixtureA(),n=e.GetFixtureB(),r=i.GetUserData()||null,s=n.GetUserData()||null,o=function(t,e,i,n,r){var s=[];return n&&2===n.objectType&&s.push(n),r&&2===r.objectType&&s.push(r),s}(0,0,0,r,s);o&&o.forEach((function(e){var i=t.gameObjects.find((function(t){return t.getUserData()===e}));-1===t.gameObjectsToDestroy.indexOf(i)&&t.gameObjectsToDestroy.push(i)}));var a=function(t,e,i,n,r){var s=null,o=null;n&&1===n.objectType&&(s=n),r&&1===r.objectType&&(o=r);var a=0;return s&&a++,o&&a++,a}(0,0,0,r,s);t.player.addNumFootContacts(a)},e.EndContact=function(e){var i=e.GetFixtureA(),n=e.GetFixtureB(),r=function(t,e,i,n,r){var s=null,o=null;n&&1===n.objectType&&(s=n),r&&1===r.objectType&&(o=r);var a=0;return s&&a--,o&&a--,a}(0,0,0,i.GetUserData()||null,n.GetUserData()||null);t.player.addNumFootContacts(r)},e.PreSolve=function(t){var e=t.GetFixtureA(),i=t.GetFixtureB(),n=e.GetUserData()||null,s=i.GetUserData()||null;!function(t,e,i,n,s){var o=null,a=null;n&&1===n.objectType&&(o=n),s&&1===s.objectType&&(a=s);var A=new r.b2WorldManifold;t.GetWorldManifold(A);var l=0,u=function(t,e){var i=Object(r.b2Atan2)(e.y,e.x);(t.minAngle<i&&i<t.maxAngle||t.moveX===ls.RIGHT&&t.minAngle>i||t.moveX===ls.LEFT&&i>t.maxAngle)&&(l+=t.velocity)};if(o&&u(o,e.GetBody().GetLocalVector(A.normal,new r.b2Vec2)),a){var h=new r.b2Vec2(-A.normal.x,-A.normal.y);u(a,i.GetBody().GetLocalVector(h,new r.b2Vec2))}t.SetTangentSpeed(l)}(t,e,i,n,s)},this.world.SetContactListener(e)}},{key:"screenToWorldPos",value:function(t){var e=t.data.getLocalPosition(es.stage).x/es.metersToPixel,i=t.data.getLocalPosition(es.stage).y/es.metersToPixel;return new r.b2Vec2(e,-i)}},{key:"addPlayerEventHandlers",value:function(){var t=this;this.player.getSprite().on("mousedown",(function(e){return t.onPlayerDragStart(e)})).on("touchstart",(function(e){return t.onPlayerDragStart(e)})).on("mouseup",(function(e){return t.onPlayerDragEnd(e)})).on("mouseupoutside",(function(e){return t.onPlayerDragEnd(e)})).on("touchend",(function(e){return t.onPlayerDragEnd(e)})).on("touchendoutside",(function(e){return t.onPlayerDragEnd(e)})).on("mousemove",(function(e){return t.onPlayerDragMove(e)})).on("touchmove",(function(e){return t.onPlayerDragMove(e)}))}},{key:"onPlayerDragStart",value:function(t){t.stopPropagation(),this.player.getSprite().alpha=.5,this.MouseDown(this.screenToWorldPos(t)),this.draggingMap=!1}},{key:"onPlayerDragEnd",value:function(t){t.stopPropagation(),this.player.getSprite().alpha=1,this.MouseUp(this.screenToWorldPos(t))}},{key:"onPlayerDragMove",value:function(t){t.stopPropagation(),this.MouseMove(this.screenToWorldPos(t))}},{key:"addMapEventHandlers",value:function(){var t=this;es.renderer.plugins.interaction.on("pointerdown",(function(e){return t.onMapMouseDown(e)})),es.renderer.plugins.interaction.on("mouseup",(function(e){return t.onMapMouseUp(e)})),es.renderer.plugins.interaction.on("mousemove",(function(e){return t.onMapDragMove(e)})),es.renderer.plugins.interaction.on("touchmove",(function(e){return t.onMapDragMove(e)}))}},{key:"onMapMouseDown",value:function(t){this.MouseDown(this.screenToWorldPos(t))||this.onMapDragStart(t)}},{key:"onMapMouseUp",value:function(t){this.draggingMap&&this.onMapDragEnd()}},{key:"onMapDragStart",value:function(t){t.data.global.copyTo(this.mouseDragPos),this.draggingMap=!0}},{key:"onMapDragEnd",value:function(){this.draggingMap=!1}},{key:"onMapDragMove",value:function(t){if(t.stopPropagation(),this.draggingMap){var e=t.data.global.clone(),i=this.mouseDragPos.x-e.x,n=this.mouseDragPos.y-e.y;this.mouseDragPos=e,this.mapPivot.set(this.mapPivot.x+i,this.mapPivot.y+n),es.stage.pivot=this.mapPivot}}},{key:"MouseDown",value:function(t){var i=_get(_getPrototypeOf(e.prototype),"MouseDown",this).call(this,t);return console.log("clicky"),i}}],[{key:"Create",value:function(t){return new e(t)}}]),e}(a),gs=function(){function t(){_classCallCheck2(this,t),this.fpsTime=0,this.fpsFrames=0,this.fps=0,this.fpsDiv=document.body.appendChild(document.createElement("div")),this.fpsDiv.style.position="absolute",this.fpsDiv.style.right="0px",this.fpsDiv.style.top="0px",this.fpsDiv.style.backgroundColor="rgba(0,0,255,0.75)",this.fpsDiv.style.color="white",this.fpsDiv.style.font="10pt Courier New",this.fpsDiv.style.zIndex="256",this.fpsDiv.innerHTML="FPS"}return _createClass2(t,[{key:"Update",value:function(t){this.fpsTime+=t,this.fpsFrames++,this.fpsTime>=500&&(this.fps=1e3*this.fpsFrames/this.fpsTime,this.fpsFrames=0,this.fpsTime=0,this.fpsDiv.innerHTML=this.fps.toFixed(1).toString())}}]),t}(),ds=function(){function t(e){_classCallCheck2(this,t),this.input=e,this.SetupControls()}return _createClass2(t,[{key:"SetupControls",value:function(){var t=this;window.addEventListener("keydown",(function(e){t.HandleKey(e,!0)})),window.addEventListener("keyup",(function(e){t.HandleKey(e,!1)}))}},{key:"HandleKey",value:function(t,e){switch(t.key){case" ":this.input.fire=e;break;case"Control":break;case"Shift":this.input.jump=e;break;case"ArrowLeft":this.input.moveX=e?ls.LEFT:ls.NONE;break;case"ArrowRight":this.input.moveX=e?ls.RIGHT:ls.NONE;break;case"ArrowDown":this.input.moveY=e?us.DOWN:us.NONE;break;case"ArrowUp":this.input.moveY=e?us.UP:us.NONE}}}]),t}(),ps=function(){function t(e){_classCallCheck2(this,t),this.timeLast=0,this.physicsSettings=new s,this.input=new hs,this.controls=new ds(this.input),this.fps=new gs,document.body.style.backgroundColor="black",this.timeLast=e}return _createClass2(t,[{key:"LoadLevel",value:function(t){this.map=_s.Create(t)}},{key:"SimulationLoop",value:function(t){this.timeLast=this.timeLast||t;var e=t-this.timeLast;this.timeLast=t,e>1e3&&(e=1e3),this.fps.Update(e),e>0&&this.map&&this.map.Step(this.physicsSettings,this.input)}}]),t}(),ys=i("JeQM"),Cs=i("fXoL"),vs=((As=function(){function t(){_classCallCheck2(this,t)}return _createClass2(t,[{key:"ngAfterViewInit",value:function(){this.startGameLoop()}},{key:"startGameLoop",value:function(){var t;Object(ys.a)().then((function(e){var i=function e(i){window.requestAnimationFrame(e),t.SimulationLoop(i)};window.requestAnimationFrame((function(n){(t=new ps(n)).LoadLevel(e),window.requestAnimationFrame(i)}))}))}}]),t}()).\u0275fac=function(t){return new(t||As)},As.\u0275cmp=Cs.zb({type:As,selectors:[["app-singleplayer"]],decls:0,vars:0,template:function(t,e){},styles:[""]}),As),Is=i("tyNb"),Bs=[{path:"",component:vs}];i.d(e,"SingleplayerModule",(function(){return ws}));var Es,ws=((Es=function t(){_classCallCheck2(this,t)}).\u0275mod=Cs.Db({type:Es}),Es.\u0275inj=Cs.Cb({factory:function(t){return new(t||Es)},imports:[[n.b,Is.a.forChild(Bs)],Is.a]}),Es)},DGRU:function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=function(){function t(t,e){for(var i=0;i<e.length;i++){var n=e[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}return function(e,i,n){return i&&t(e.prototype,i),n&&t(e,n),e}}();function r(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}var s=function(){function t(e,i,n){void 0===i&&(i=!1),r(this,t),this._fn=e,this._once=i,this._thisArg=n,this._next=this._prev=this._owner=null}return n(t,[{key:"detach",value:function(){return null!==this._owner&&(this._owner.detach(this),!0)}}]),t}();function o(t,e){return t._head?(t._tail._next=e,e._prev=t._tail,t._tail=e):(t._head=e,t._tail=e),e._owner=t,e}var a=function(){function t(){r(this,t),this._head=this._tail=void 0}return n(t,[{key:"handlers",value:function(){var t=!(arguments.length<=0||void 0===arguments[0])&&arguments[0],e=this._head;if(t)return!!e;for(var i=[];e;)i.push(e),e=e._next;return i}},{key:"has",value:function(t){if(!(t instanceof s))throw new Error("MiniSignal#has(): First arg must be a MiniSignalBinding object.");return t._owner===this}},{key:"dispatch",value:function(){var t=this._head;if(!t)return!1;for(;t;)t._once&&this.detach(t),t._fn.apply(t._thisArg,arguments),t=t._next;return!0}},{key:"add",value:function(t){var e=arguments.length<=1||void 0===arguments[1]?null:arguments[1];if("function"!=typeof t)throw new Error("MiniSignal#add(): First arg must be a Function.");return o(this,new s(t,!1,e))}},{key:"once",value:function(t){var e=arguments.length<=1||void 0===arguments[1]?null:arguments[1];if("function"!=typeof t)throw new Error("MiniSignal#once(): First arg must be a Function.");return o(this,new s(t,!0,e))}},{key:"detach",value:function(t){if(!(t instanceof s))throw new Error("MiniSignal#detach(): First arg must be a MiniSignalBinding object.");return t._owner!==this?this:(t._prev&&(t._prev._next=t._next),t._next&&(t._next._prev=t._prev),t===this._head?(this._head=t._next,null===t._next&&(this._tail=null)):t===this._tail&&(this._tail=t._prev,this._tail._next=null),t._owner=null,this)}},{key:"detachAll",value:function(){var t=this._head;if(!t)return this;for(this._head=this._tail=null;t;)t._owner=null,t=t._next;return this}}]),t}();a.MiniSignalBinding=s,e.default=a,t.exports=e.default},DH7j:function(t,e,i){"use strict";i.d(e,"a",(function(){return n}));var n=Array.isArray||function(t){return t&&"number"==typeof t.length}},F5iu:function(t,e,i){!function(t){"use strict";function e(t,e){return void 0!==t?t:e}var i=1e37,n=1e-5,r=n*n,s=3.14159265359,o=2,a=8,A=.008,l=2/180*s,u=2*A,h=-1,c=function(){function t(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;_classCallCheck2(this,t),this.major=0,this.minor=0,this.revision=0,this.major=e,this.minor=i,this.revision=n}return _createClass2(t,[{key:"toString",value:function(){return this.major+"."+this.minor+"."+this.revision}}]),t}(),f=new c(2,3,2);function m(t,e){for(var i=[],n=0;n<t;++n)i.push(e(n));return i}function _(t){for(var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,i=[],n=0;n<t;++n)i.push(e);return i}var g=Math.abs,d=Math.min,p=Math.max;function y(t,e,i){return t<e?e:t>i?i:t}var C=isFinite;function v(t){return t*t}function I(t){return 1/Math.sqrt(t)}var B=Math.sqrt,E=Math.pow,w=Math.cos,b=Math.sin,x=Math.acos,S=Math.asin,Q=Math.atan2,k=function(){function t(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;_classCallCheck2(this,t),this.x=e,this.y=i}return _createClass2(t,[{key:"Clone",value:function(){return new t(this.x,this.y)}},{key:"SetZero",value:function(){return this.x=0,this.y=0,this}},{key:"Set",value:function(t,e){return this.x=t,this.y=e,this}},{key:"Copy",value:function(t){return this.x=t.x,this.y=t.y,this}},{key:"SelfAdd",value:function(t){return this.x+=t.x,this.y+=t.y,this}},{key:"SelfAddXY",value:function(t,e){return this.x+=t,this.y+=e,this}},{key:"SelfSub",value:function(t){return this.x-=t.x,this.y-=t.y,this}},{key:"SelfSubXY",value:function(t,e){return this.x-=t,this.y-=e,this}},{key:"SelfMul",value:function(t){return this.x*=t,this.y*=t,this}},{key:"SelfMulAdd",value:function(t,e){return this.x+=t*e.x,this.y+=t*e.y,this}},{key:"SelfMulSub",value:function(t,e){return this.x-=t*e.x,this.y-=t*e.y,this}},{key:"Dot",value:function(t){return this.x*t.x+this.y*t.y}},{key:"Cross",value:function(t){return this.x*t.y-this.y*t.x}},{key:"Length",value:function(){var t=this.x,e=this.y;return Math.sqrt(t*t+e*e)}},{key:"LengthSquared",value:function(){var t=this.x,e=this.y;return t*t+e*e}},{key:"Normalize",value:function(){var t=this.Length();if(t>=n){var e=1/t;this.x*=e,this.y*=e}return t}},{key:"SelfNormalize",value:function(){var t=this.Length();if(t>=n){var e=1/t;this.x*=e,this.y*=e}return this}},{key:"SelfRotate",value:function(t){var e=Math.cos(t),i=Math.sin(t),n=this.x;return this.x=e*n-i*this.y,this.y=i*n+e*this.y,this}},{key:"SelfRotateCosSin",value:function(t,e){var i=this.x;return this.x=t*i-e*this.y,this.y=e*i+t*this.y,this}},{key:"IsValid",value:function(){return isFinite(this.x)&&isFinite(this.y)}},{key:"SelfCrossVS",value:function(t){var e=this.x;return this.x=t*this.y,this.y=-t*e,this}},{key:"SelfCrossSV",value:function(t){var e=this.x;return this.x=-t*this.y,this.y=t*e,this}},{key:"SelfMinV",value:function(t){return this.x=d(this.x,t.x),this.y=d(this.y,t.y),this}},{key:"SelfMaxV",value:function(t){return this.x=p(this.x,t.x),this.y=p(this.y,t.y),this}},{key:"SelfAbs",value:function(){return this.x=g(this.x),this.y=g(this.y),this}},{key:"SelfNeg",value:function(){return this.x=-this.x,this.y=-this.y,this}},{key:"SelfSkew",value:function(){var t=this.x;return this.x=-this.y,this.y=t,this}}],[{key:"MakeArray",value:function(e){return m(e,(function(e){return new t}))}},{key:"AbsV",value:function(t,e){return e.x=g(t.x),e.y=g(t.y),e}},{key:"MinV",value:function(t,e,i){return i.x=d(t.x,e.x),i.y=d(t.y,e.y),i}},{key:"MaxV",value:function(t,e,i){return i.x=p(t.x,e.x),i.y=p(t.y,e.y),i}},{key:"ClampV",value:function(t,e,i,n){return n.x=y(t.x,e.x,i.x),n.y=y(t.y,e.y,i.y),n}},{key:"RotateV",value:function(t,e,i){var n=t.x,r=t.y,s=Math.cos(e),o=Math.sin(e);return i.x=s*n-o*r,i.y=o*n+s*r,i}},{key:"DotVV",value:function(t,e){return t.x*e.x+t.y*e.y}},{key:"CrossVV",value:function(t,e){return t.x*e.y-t.y*e.x}},{key:"CrossVS",value:function(t,e,i){var n=t.x;return i.x=e*t.y,i.y=-e*n,i}},{key:"CrossVOne",value:function(t,e){var i=t.x;return e.x=t.y,e.y=-i,e}},{key:"CrossSV",value:function(t,e,i){var n=e.x;return i.x=-t*e.y,i.y=t*n,i}},{key:"CrossOneV",value:function(t,e){var i=t.x;return e.x=-t.y,e.y=i,e}},{key:"AddVV",value:function(t,e,i){return i.x=t.x+e.x,i.y=t.y+e.y,i}},{key:"SubVV",value:function(t,e,i){return i.x=t.x-e.x,i.y=t.y-e.y,i}},{key:"MulSV",value:function(t,e,i){return i.x=e.x*t,i.y=e.y*t,i}},{key:"MulVS",value:function(t,e,i){return i.x=t.x*e,i.y=t.y*e,i}},{key:"AddVMulSV",value:function(t,e,i,n){return n.x=t.x+e*i.x,n.y=t.y+e*i.y,n}},{key:"SubVMulSV",value:function(t,e,i,n){return n.x=t.x-e*i.x,n.y=t.y-e*i.y,n}},{key:"AddVCrossSV",value:function(t,e,i,n){var r=i.x;return n.x=t.x-e*i.y,n.y=t.y+e*r,n}},{key:"MidVV",value:function(t,e,i){return i.x=.5*(t.x+e.x),i.y=.5*(t.y+e.y),i}},{key:"ExtVV",value:function(t,e,i){return i.x=.5*(e.x-t.x),i.y=.5*(e.y-t.y),i}},{key:"IsEqualToV",value:function(t,e){return t.x===e.x&&t.y===e.y}},{key:"DistanceVV",value:function(t,e){var i=t.x-e.x,n=t.y-e.y;return Math.sqrt(i*i+n*n)}},{key:"DistanceSquaredVV",value:function(t,e){var i=t.x-e.x,n=t.y-e.y;return i*i+n*n}},{key:"NegV",value:function(t,e){return e.x=-t.x,e.y=-t.y,e}}]),t}();k.ZERO=new k(0,0),k.UNITX=new k(1,0),k.UNITY=new k(0,1),k.s_t0=new k,k.s_t1=new k,k.s_t2=new k,k.s_t3=new k;var D=new k(0,0),M=function(){function t(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;_classCallCheck2(this,t),this.x=e,this.y=i,this.z=n}return _createClass2(t,[{key:"Clone",value:function(){return new t(this.x,this.y,this.z)}},{key:"SetZero",value:function(){return this.x=0,this.y=0,this.z=0,this}},{key:"SetXYZ",value:function(t,e,i){return this.x=t,this.y=e,this.z=i,this}},{key:"Copy",value:function(t){return this.x=t.x,this.y=t.y,this.z=t.z,this}},{key:"SelfNeg",value:function(){return this.x=-this.x,this.y=-this.y,this.z=-this.z,this}},{key:"SelfAdd",value:function(t){return this.x+=t.x,this.y+=t.y,this.z+=t.z,this}},{key:"SelfAddXYZ",value:function(t,e,i){return this.x+=t,this.y+=e,this.z+=i,this}},{key:"SelfSub",value:function(t){return this.x-=t.x,this.y-=t.y,this.z-=t.z,this}},{key:"SelfSubXYZ",value:function(t,e,i){return this.x-=t,this.y-=e,this.z-=i,this}},{key:"SelfMul",value:function(t){return this.x*=t,this.y*=t,this.z*=t,this}}],[{key:"DotV3V3",value:function(t,e){return t.x*e.x+t.y*e.y+t.z*e.z}},{key:"CrossV3V3",value:function(t,e,i){var n=t.x,r=t.y,s=t.z,o=e.x,a=e.y,A=e.z;return i.x=r*A-s*a,i.y=s*o-n*A,i.z=n*a-r*o,i}}]),t}();M.ZERO=new M(0,0,0),M.s_t0=new M;var R=function(){function t(){_classCallCheck2(this,t),this.ex=new k(1,0),this.ey=new k(0,1)}return _createClass2(t,[{key:"Clone",value:function(){return(new t).Copy(this)}},{key:"SetSSSS",value:function(t,e,i,n){return this.ex.Set(t,i),this.ey.Set(e,n),this}},{key:"SetVV",value:function(t,e){return this.ex.Copy(t),this.ey.Copy(e),this}},{key:"SetAngle",value:function(t){var e=Math.cos(t),i=Math.sin(t);return this.ex.Set(e,i),this.ey.Set(-i,e),this}},{key:"Copy",value:function(t){return this.ex.Copy(t.ex),this.ey.Copy(t.ey),this}},{key:"SetIdentity",value:function(){return this.ex.Set(1,0),this.ey.Set(0,1),this}},{key:"SetZero",value:function(){return this.ex.SetZero(),this.ey.SetZero(),this}},{key:"GetAngle",value:function(){return Math.atan2(this.ex.y,this.ex.x)}},{key:"GetInverse",value:function(t){var e=this.ex.x,i=this.ey.x,n=this.ex.y,r=this.ey.y,s=e*r-i*n;return 0!==s&&(s=1/s),t.ex.x=s*r,t.ey.x=-s*i,t.ex.y=-s*n,t.ey.y=s*e,t}},{key:"Solve",value:function(t,e,i){var n=this.ex.x,r=this.ey.x,s=this.ex.y,o=this.ey.y,a=n*o-r*s;return 0!==a&&(a=1/a),i.x=a*(o*t-r*e),i.y=a*(n*e-s*t),i}},{key:"SelfAbs",value:function(){return this.ex.SelfAbs(),this.ey.SelfAbs(),this}},{key:"SelfInv",value:function(){return this.GetInverse(this),this}},{key:"SelfAddM",value:function(t){return this.ex.SelfAdd(t.ex),this.ey.SelfAdd(t.ey),this}},{key:"SelfSubM",value:function(t){return this.ex.SelfSub(t.ex),this.ey.SelfSub(t.ey),this}}],[{key:"FromVV",value:function(e,i){return(new t).SetVV(e,i)}},{key:"FromSSSS",value:function(e,i,n,r){return(new t).SetSSSS(e,i,n,r)}},{key:"FromAngle",value:function(e){return(new t).SetAngle(e)}},{key:"AbsM",value:function(t,e){var i=t.ex,n=t.ey;return e.ex.x=g(i.x),e.ex.y=g(i.y),e.ey.x=g(n.x),e.ey.y=g(n.y),e}},{key:"MulMV",value:function(t,e,i){var n=t.ex,r=t.ey,s=e.x,o=e.y;return i.x=n.x*s+r.x*o,i.y=n.y*s+r.y*o,i}},{key:"MulTMV",value:function(t,e,i){var n=t.ex,r=t.ey,s=e.x,o=e.y;return i.x=n.x*s+n.y*o,i.y=r.x*s+r.y*o,i}},{key:"AddMM",value:function(t,e,i){var n=t.ex,r=t.ey,s=e.ex,o=e.ey;return i.ex.x=n.x+s.x,i.ex.y=n.y+s.y,i.ey.x=r.x+o.x,i.ey.y=r.y+o.y,i}},{key:"MulMM",value:function(t,e,i){var n=t.ex.x,r=t.ex.y,s=t.ey.x,o=t.ey.y,a=e.ex.x,A=e.ex.y,l=e.ey.x,u=e.ey.y;return i.ex.x=n*a+s*A,i.ex.y=r*a+o*A,i.ey.x=n*l+s*u,i.ey.y=r*l+o*u,i}},{key:"MulTMM",value:function(t,e,i){var n=t.ex.x,r=t.ex.y,s=t.ey.x,o=t.ey.y,a=e.ex.x,A=e.ex.y,l=e.ey.x,u=e.ey.y;return i.ex.x=n*a+r*A,i.ex.y=s*a+o*A,i.ey.x=n*l+r*u,i.ey.y=s*l+o*u,i}}]),t}();R.IDENTITY=new R;var V=function(){function t(){_classCallCheck2(this,t),this.ex=new M(1,0,0),this.ey=new M(0,1,0),this.ez=new M(0,0,1)}return _createClass2(t,[{key:"Clone",value:function(){return(new t).Copy(this)}},{key:"SetVVV",value:function(t,e,i){return this.ex.Copy(t),this.ey.Copy(e),this.ez.Copy(i),this}},{key:"Copy",value:function(t){return this.ex.Copy(t.ex),this.ey.Copy(t.ey),this.ez.Copy(t.ez),this}},{key:"SetIdentity",value:function(){return this.ex.SetXYZ(1,0,0),this.ey.SetXYZ(0,1,0),this.ez.SetXYZ(0,0,1),this}},{key:"SetZero",value:function(){return this.ex.SetZero(),this.ey.SetZero(),this.ez.SetZero(),this}},{key:"SelfAddM",value:function(t){return this.ex.SelfAdd(t.ex),this.ey.SelfAdd(t.ey),this.ez.SelfAdd(t.ez),this}},{key:"Solve33",value:function(t,e,i,n){var r=this.ex.x,s=this.ex.y,o=this.ex.z,a=this.ey.x,A=this.ey.y,l=this.ey.z,u=this.ez.x,h=this.ez.y,c=this.ez.z,f=r*(A*c-l*h)+s*(l*u-a*c)+o*(a*h-A*u);return 0!==f&&(f=1/f),n.x=f*(t*(A*c-l*h)+e*(l*u-a*c)+i*(a*h-A*u)),n.y=f*(r*(e*c-i*h)+s*(i*u-t*c)+o*(t*h-e*u)),n.z=f*(r*(A*i-l*e)+s*(l*t-a*i)+o*(a*e-A*t)),n}},{key:"Solve22",value:function(t,e,i){var n=this.ex.x,r=this.ey.x,s=this.ex.y,o=this.ey.y,a=n*o-r*s;return 0!==a&&(a=1/a),i.x=a*(o*t-r*e),i.y=a*(n*e-s*t),i}},{key:"GetInverse22",value:function(t){var e=this.ex.x,i=this.ey.x,n=this.ex.y,r=this.ey.y,s=e*r-i*n;0!==s&&(s=1/s),t.ex.x=s*r,t.ey.x=-s*i,t.ex.z=0,t.ex.y=-s*n,t.ey.y=s*e,t.ey.z=0,t.ez.x=0,t.ez.y=0,t.ez.z=0}},{key:"GetSymInverse33",value:function(t){var e=M.DotV3V3(this.ex,M.CrossV3V3(this.ey,this.ez,M.s_t0));0!==e&&(e=1/e);var i=this.ex.x,n=this.ey.x,r=this.ez.x,s=this.ey.y,o=this.ez.y,a=this.ez.z;t.ex.x=e*(s*a-o*o),t.ex.y=e*(r*o-n*a),t.ex.z=e*(n*o-r*s),t.ey.x=t.ex.y,t.ey.y=e*(i*a-r*r),t.ey.z=e*(r*n-i*o),t.ez.x=t.ex.z,t.ez.y=t.ey.z,t.ez.z=e*(i*s-n*n)}}],[{key:"MulM33V3",value:function(t,e,i){var n=e.x,r=e.y,s=e.z;return i.x=t.ex.x*n+t.ey.x*r+t.ez.x*s,i.y=t.ex.y*n+t.ey.y*r+t.ez.y*s,i.z=t.ex.z*n+t.ey.z*r+t.ez.z*s,i}},{key:"MulM33XYZ",value:function(t,e,i,n,r){return r.x=t.ex.x*e+t.ey.x*i+t.ez.x*n,r.y=t.ex.y*e+t.ey.y*i+t.ez.y*n,r.z=t.ex.z*e+t.ey.z*i+t.ez.z*n,r}},{key:"MulM33V2",value:function(t,e,i){var n=e.x,r=e.y;return i.x=t.ex.x*n+t.ey.x*r,i.y=t.ex.y*n+t.ey.y*r,i}},{key:"MulM33XY",value:function(t,e,i,n){return n.x=t.ex.x*e+t.ey.x*i,n.y=t.ex.y*e+t.ey.y*i,n}}]),t}();V.IDENTITY=new V;var T=function(){function t(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0;_classCallCheck2(this,t),this.s=0,this.c=1,e&&(this.s=Math.sin(e),this.c=Math.cos(e))}return _createClass2(t,[{key:"Clone",value:function(){return(new t).Copy(this)}},{key:"Copy",value:function(t){return this.s=t.s,this.c=t.c,this}},{key:"SetAngle",value:function(t){return this.s=Math.sin(t),this.c=Math.cos(t),this}},{key:"SetIdentity",value:function(){return this.s=0,this.c=1,this}},{key:"GetAngle",value:function(){return Math.atan2(this.s,this.c)}},{key:"GetXAxis",value:function(t){return t.x=this.c,t.y=this.s,t}},{key:"GetYAxis",value:function(t){return t.x=-this.s,t.y=this.c,t}}],[{key:"MulRR",value:function(t,e,i){var n=t.c,r=t.s,s=e.c,o=e.s;return i.s=r*s+n*o,i.c=n*s-r*o,i}},{key:"MulTRR",value:function(t,e,i){var n=t.c,r=t.s,s=e.c,o=e.s;return i.s=n*o-r*s,i.c=n*s+r*o,i}},{key:"MulRV",value:function(t,e,i){var n=t.c,r=t.s,s=e.x,o=e.y;return i.x=n*s-r*o,i.y=r*s+n*o,i}},{key:"MulTRV",value:function(t,e,i){var n=t.c,r=t.s,s=e.x,o=e.y;return i.x=n*s+r*o,i.y=-r*s+n*o,i}}]),t}();T.IDENTITY=new T;var G=function(){function t(){_classCallCheck2(this,t),this.p=new k,this.q=new T}return _createClass2(t,[{key:"Clone",value:function(){return(new t).Copy(this)}},{key:"Copy",value:function(t){return this.p.Copy(t.p),this.q.Copy(t.q),this}},{key:"SetIdentity",value:function(){return this.p.SetZero(),this.q.SetIdentity(),this}},{key:"SetPositionRotation",value:function(t,e){return this.p.Copy(t),this.q.Copy(e),this}},{key:"SetPositionAngle",value:function(t,e){return this.p.Copy(t),this.q.SetAngle(e),this}},{key:"SetPosition",value:function(t){return this.p.Copy(t),this}},{key:"SetPositionXY",value:function(t,e){return this.p.Set(t,e),this}},{key:"SetRotation",value:function(t){return this.q.Copy(t),this}},{key:"SetRotationAngle",value:function(t){return this.q.SetAngle(t),this}},{key:"GetPosition",value:function(){return this.p}},{key:"GetRotation",value:function(){return this.q}},{key:"GetRotationAngle",value:function(){return this.q.GetAngle()}},{key:"GetAngle",value:function(){return this.q.GetAngle()}}],[{key:"MulXV",value:function(t,e,i){var n=t.q.c,r=t.q.s,s=e.x,o=e.y;return i.x=n*s-r*o+t.p.x,i.y=r*s+n*o+t.p.y,i}},{key:"MulTXV",value:function(t,e,i){var n=t.q.c,r=t.q.s,s=e.x-t.p.x,o=e.y-t.p.y;return i.x=n*s+r*o,i.y=-r*s+n*o,i}},{key:"MulXX",value:function(t,e,i){return T.MulRR(t.q,e.q,i.q),k.AddVV(T.MulRV(t.q,e.p,i.p),t.p,i.p),i}},{key:"MulTXX",value:function(t,e,i){return T.MulTRR(t.q,e.q,i.q),T.MulTRV(t.q,k.SubVV(e.p,t.p,i.p),i.p),i}}]),t}();G.IDENTITY=new G;var F,P=function(){function t(){_classCallCheck2(this,t),this.localCenter=new k,this.c0=new k,this.c=new k,this.a0=0,this.a=0,this.alpha0=0}return _createClass2(t,[{key:"Clone",value:function(){return(new t).Copy(this)}},{key:"Copy",value:function(t){return this.localCenter.Copy(t.localCenter),this.c0.Copy(t.c0),this.c.Copy(t.c),this.a0=t.a0,this.a=t.a,this.alpha0=t.alpha0,this}},{key:"GetTransform",value:function(t,e){var i=1-e;return t.p.x=i*this.c0.x+e*this.c.x,t.p.y=i*this.c0.y+e*this.c.y,t.q.SetAngle(i*this.a0+e*this.a),t.p.SelfSub(T.MulRV(t.q,this.localCenter,k.s_t0)),t}},{key:"Advance",value:function(t){var e=(t-this.alpha0)/(1-this.alpha0),i=1-e;this.c0.x=i*this.c0.x+e*this.c.x,this.c0.y=i*this.c0.y+e*this.c.y,this.a0=i*this.a0+e*this.a,this.alpha0=t}},{key:"Normalize",value:function(){var t=6.28318530718*Math.floor(this.a0/6.28318530718);this.a0-=t,this.a-=t}}]),t}(),N=function(){function t(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:.5,i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:.5,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:.5,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:1;_classCallCheck2(this,t),this.r=e,this.g=i,this.b=n,this.a=r}return _createClass2(t,[{key:"Clone",value:function(){return(new t).Copy(this)}},{key:"Copy",value:function(t){return this.r=t.r,this.g=t.g,this.b=t.b,this.a=t.a,this}},{key:"IsEqual",value:function(t){return this.r===t.r&&this.g===t.g&&this.b===t.b&&this.a===t.a}},{key:"IsZero",value:function(){return 0===this.r&&0===this.g&&0===this.b&&0===this.a}},{key:"Set",value:function(t,e,i){var n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:this.a;this.SetRGBA(t,e,i,n)}},{key:"SetByteRGB",value:function(t,e,i){return this.r=t/255,this.g=e/255,this.b=i/255,this}},{key:"SetByteRGBA",value:function(t,e,i,n){return this.r=t/255,this.g=e/255,this.b=i/255,this.a=n/255,this}},{key:"SetRGB",value:function(t,e,i){return this.r=t,this.g=e,this.b=i,this}},{key:"SetRGBA",value:function(t,e,i,n){return this.r=t,this.g=e,this.b=i,this.a=n,this}},{key:"SelfAdd",value:function(t){return this.r+=t.r,this.g+=t.g,this.b+=t.b,this.a+=t.a,this}},{key:"Add",value:function(t,e){return e.r=this.r+t.r,e.g=this.g+t.g,e.b=this.b+t.b,e.a=this.a+t.a,e}},{key:"SelfSub",value:function(t){return this.r-=t.r,this.g-=t.g,this.b-=t.b,this.a-=t.a,this}},{key:"Sub",value:function(t,e){return e.r=this.r-t.r,e.g=this.g-t.g,e.b=this.b-t.b,e.a=this.a-t.a,e}},{key:"SelfMul",value:function(t){return this.r*=t,this.g*=t,this.b*=t,this.a*=t,this}},{key:"Mul",value:function(t,e){return e.r=this.r*t,e.g=this.g*t,e.b=this.b*t,e.a=this.a*t,e}},{key:"Mix",value:function(e,i){t.MixColors(this,e,i)}},{key:"MakeStyleString",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.a;return t.MakeStyleString(this.r,this.g,this.b,e)}}],[{key:"MixColors",value:function(t,e,i){var n=i*(e.r-t.r),r=i*(e.g-t.g),s=i*(e.b-t.b),o=i*(e.a-t.a);t.r+=n,t.g+=r,t.b+=s,t.a+=o,e.r-=n,e.g-=r,e.b-=s,e.a-=o}},{key:"MakeStyleString",value:function(t,e,i){var n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:1;return t*=255,e*=255,i*=255,n<1?"rgba(".concat(t,",").concat(e,",").concat(i,",").concat(n,")"):"rgb(".concat(t,",").concat(e,",").concat(i,")")}}]),t}();N.ZERO=new N(0,0,0,0),N.RED=new N(1,0,0),N.GREEN=new N(0,1,0),N.BLUE=new N(0,0,1),(F=t.b2DrawFlags||(t.b2DrawFlags={}))[F.e_none=0]="e_none",F[F.e_shapeBit=1]="e_shapeBit",F[F.e_jointBit=2]="e_jointBit",F[F.e_aabbBit=4]="e_aabbBit",F[F.e_pairBit=8]="e_pairBit",F[F.e_centerOfMassBit=16]="e_centerOfMassBit",F[F.e_particleBit=32]="e_particleBit",F[F.e_controllerBit=64]="e_controllerBit",F[F.e_all=63]="e_all";var L=function(){function t(){_classCallCheck2(this,t),this.m_start=Date.now()}return _createClass2(t,[{key:"Reset",value:function(){return this.m_start=Date.now(),this}},{key:"GetMilliseconds",value:function(){return Date.now()-this.m_start}}]),t}(),U=function(){function t(e){_classCallCheck2(this,t),this.m_stack=[],this.m_count=0,this.m_stack=m(e,(function(t){return null})),this.m_count=0}return _createClass2(t,[{key:"Reset",value:function(){return this.m_count=0,this}},{key:"Push",value:function(t){this.m_stack[this.m_count]=t,this.m_count++}},{key:"Pop",value:function(){this.m_count--;var t=this.m_stack[this.m_count];if(this.m_stack[this.m_count]=null,null===t)throw new Error;return t}},{key:"GetCount",value:function(){return this.m_count}}]),t}(),O=function(){function t(){_classCallCheck2(this,t),this.m_buffer=k.MakeArray(2),this.m_vertices=this.m_buffer,this.m_count=0,this.m_radius=0}return _createClass2(t,[{key:"Copy",value:function(t){return t.m_vertices===t.m_buffer?(this.m_vertices=this.m_buffer,this.m_buffer[0].Copy(t.m_buffer[0]),this.m_buffer[1].Copy(t.m_buffer[1])):this.m_vertices=t.m_vertices,this.m_count=t.m_count,this.m_radius=t.m_radius,this}},{key:"Reset",value:function(){return this.m_vertices=this.m_buffer,this.m_count=0,this.m_radius=0,this}},{key:"SetShape",value:function(t,e){t.SetupDistanceProxy(this,e)}},{key:"SetVerticesRadius",value:function(t,e,i){this.m_vertices=t,this.m_count=e,this.m_radius=i}},{key:"GetSupport",value:function(t){for(var e=0,i=k.DotVV(this.m_vertices[0],t),n=1;n<this.m_count;++n){var r=k.DotVV(this.m_vertices[n],t);r>i&&(e=n,i=r)}return e}},{key:"GetSupportVertex",value:function(t){for(var e=0,i=k.DotVV(this.m_vertices[0],t),n=1;n<this.m_count;++n){var r=k.DotVV(this.m_vertices[n],t);r>i&&(e=n,i=r)}return this.m_vertices[e]}},{key:"GetVertexCount",value:function(){return this.m_count}},{key:"GetVertex",value:function(t){return this.m_vertices[t]}}]),t}(),Y=function(){function t(){_classCallCheck2(this,t),this.metric=0,this.count=0,this.indexA=[0,0,0],this.indexB=[0,0,0]}return _createClass2(t,[{key:"Reset",value:function(){return this.metric=0,this.count=0,this}}]),t}(),H=function(){function t(){_classCallCheck2(this,t),this.proxyA=new O,this.proxyB=new O,this.transformA=new G,this.transformB=new G,this.useRadii=!1}return _createClass2(t,[{key:"Reset",value:function(){return this.proxyA.Reset(),this.proxyB.Reset(),this.transformA.SetIdentity(),this.transformB.SetIdentity(),this.useRadii=!1,this}}]),t}(),J=function(){function t(){_classCallCheck2(this,t),this.pointA=new k,this.pointB=new k,this.distance=0,this.iterations=0}return _createClass2(t,[{key:"Reset",value:function(){return this.pointA.SetZero(),this.pointB.SetZero(),this.distance=0,this.iterations=0,this}}]),t}();t.b2_gjkCalls=0,t.b2_gjkIters=0,t.b2_gjkMaxIters=0;var j=function(){function t(){_classCallCheck2(this,t),this.wA=new k,this.wB=new k,this.w=new k,this.a=0,this.indexA=0,this.indexB=0}return _createClass2(t,[{key:"Copy",value:function(t){return this.wA.Copy(t.wA),this.wB.Copy(t.wB),this.w.Copy(t.w),this.a=t.a,this.indexA=t.indexA,this.indexB=t.indexB,this}}]),t}(),K=function(){function t(){_classCallCheck2(this,t),this.m_v1=new j,this.m_v2=new j,this.m_v3=new j,this.m_vertices=[],this.m_count=0,this.m_vertices[0]=this.m_v1,this.m_vertices[1]=this.m_v2,this.m_vertices[2]=this.m_v3}return _createClass2(t,[{key:"ReadCache",value:function(t,e,i,r,s){this.m_count=t.count;for(var o=this.m_vertices,a=0;a<this.m_count;++a){var A=o[a];A.indexA=t.indexA[a],A.indexB=t.indexB[a];var l=e.GetVertex(A.indexA),u=r.GetVertex(A.indexB);G.MulXV(i,l,A.wA),G.MulXV(s,u,A.wB),k.SubVV(A.wB,A.wA,A.w),A.a=0}if(this.m_count>1){var h=t.metric,c=this.GetMetric();(c<.5*h||2*h<c||c<n)&&(this.m_count=0)}if(0===this.m_count){var f=o[0];f.indexA=0,f.indexB=0;var m=e.GetVertex(0),_=r.GetVertex(0);G.MulXV(i,m,f.wA),G.MulXV(s,_,f.wB),k.SubVV(f.wB,f.wA,f.w),f.a=1,this.m_count=1}}},{key:"WriteCache",value:function(t){t.metric=this.GetMetric(),t.count=this.m_count;for(var e=this.m_vertices,i=0;i<this.m_count;++i)t.indexA[i]=e[i].indexA,t.indexB[i]=e[i].indexB}},{key:"GetSearchDirection",value:function(t){switch(this.m_count){case 1:return k.NegV(this.m_v1.w,t);case 2:var e=k.SubVV(this.m_v2.w,this.m_v1.w,t);return k.CrossVV(e,k.NegV(this.m_v1.w,k.s_t0))>0?k.CrossOneV(e,t):k.CrossVOne(e,t);default:return t.SetZero()}}},{key:"GetClosestPoint",value:function(t){switch(this.m_count){case 0:return t.SetZero();case 1:return t.Copy(this.m_v1.w);case 2:return t.Set(this.m_v1.a*this.m_v1.w.x+this.m_v2.a*this.m_v2.w.x,this.m_v1.a*this.m_v1.w.y+this.m_v2.a*this.m_v2.w.y);case 3:default:return t.SetZero()}}},{key:"GetWitnessPoints",value:function(t,e){switch(this.m_count){case 0:break;case 1:t.Copy(this.m_v1.wA),e.Copy(this.m_v1.wB);break;case 2:t.x=this.m_v1.a*this.m_v1.wA.x+this.m_v2.a*this.m_v2.wA.x,t.y=this.m_v1.a*this.m_v1.wA.y+this.m_v2.a*this.m_v2.wA.y,e.x=this.m_v1.a*this.m_v1.wB.x+this.m_v2.a*this.m_v2.wB.x,e.y=this.m_v1.a*this.m_v1.wB.y+this.m_v2.a*this.m_v2.wB.y;break;case 3:e.x=t.x=this.m_v1.a*this.m_v1.wA.x+this.m_v2.a*this.m_v2.wA.x+this.m_v3.a*this.m_v3.wA.x,e.y=t.y=this.m_v1.a*this.m_v1.wA.y+this.m_v2.a*this.m_v2.wA.y+this.m_v3.a*this.m_v3.wA.y}}},{key:"GetMetric",value:function(){switch(this.m_count){case 0:case 1:return 0;case 2:return k.DistanceVV(this.m_v1.w,this.m_v2.w);case 3:return k.CrossVV(k.SubVV(this.m_v2.w,this.m_v1.w,k.s_t0),k.SubVV(this.m_v3.w,this.m_v1.w,k.s_t1));default:return 0}}},{key:"Solve2",value:function(){var e=this.m_v1.w,i=this.m_v2.w,n=k.SubVV(i,e,t.s_e12),r=-k.DotVV(e,n);if(r<=0)return this.m_v1.a=1,void(this.m_count=1);var s=k.DotVV(i,n);if(s<=0)return this.m_v2.a=1,this.m_count=1,void this.m_v1.Copy(this.m_v2);var o=1/(s+r);this.m_v1.a=s*o,this.m_v2.a=r*o,this.m_count=2}},{key:"Solve3",value:function(){var e=this.m_v1.w,i=this.m_v2.w,n=this.m_v3.w,r=k.SubVV(i,e,t.s_e12),s=k.DotVV(e,r),o=k.DotVV(i,r),a=-s,A=k.SubVV(n,e,t.s_e13),l=k.DotVV(e,A),u=k.DotVV(n,A),h=-l,c=k.SubVV(n,i,t.s_e23),f=k.DotVV(i,c),m=k.DotVV(n,c),_=-f,g=k.CrossVV(r,A),d=g*k.CrossVV(i,n),p=g*k.CrossVV(n,e),y=g*k.CrossVV(e,i);if(a<=0&&h<=0)return this.m_v1.a=1,void(this.m_count=1);if(o>0&&a>0&&y<=0){var C=1/(o+a);return this.m_v1.a=o*C,this.m_v2.a=a*C,void(this.m_count=2)}if(u>0&&h>0&&p<=0){var v=1/(u+h);return this.m_v1.a=u*v,this.m_v3.a=h*v,this.m_count=2,void this.m_v2.Copy(this.m_v3)}if(o<=0&&_<=0)return this.m_v2.a=1,this.m_count=1,void this.m_v1.Copy(this.m_v2);if(u<=0&&m<=0)return this.m_v3.a=1,this.m_count=1,void this.m_v1.Copy(this.m_v3);if(m>0&&_>0&&d<=0){var I=1/(m+_);return this.m_v2.a=m*I,this.m_v3.a=_*I,this.m_count=2,void this.m_v1.Copy(this.m_v3)}var B=1/(d+p+y);this.m_v1.a=d*B,this.m_v2.a=p*B,this.m_v3.a=y*B,this.m_count=3}}]),t}();K.s_e12=new k,K.s_e13=new k,K.s_e23=new k;var q=new K,z=[0,0,0],X=[0,0,0],W=new k,Z=new k,$=new k,tt=new k,et=new k;function it(e,i,s){++t.b2_gjkCalls;var o=s.proxyA,a=s.proxyB,A=s.transformA,l=s.transformB,u=q;u.ReadCache(i,o,A,a,l);for(var h=u.m_vertices,c=z,f=X,m=0,_=0;_<20;){m=u.m_count;for(var g=0;g<m;++g)c[g]=h[g].indexA,f[g]=h[g].indexB;switch(u.m_count){case 1:break;case 2:u.Solve2();break;case 3:u.Solve3()}if(3===u.m_count)break;var d=u.GetSearchDirection(Z);if(d.LengthSquared()<r)break;var y=h[u.m_count];y.indexA=o.GetSupport(T.MulTRV(A.q,k.NegV(d,k.s_t0),tt)),G.MulXV(A,o.GetVertex(y.indexA),y.wA),y.indexB=a.GetSupport(T.MulTRV(l.q,d,et)),G.MulXV(l,a.GetVertex(y.indexB),y.wB),k.SubVV(y.wB,y.wA,y.w),++_,++t.b2_gjkIters;for(var C=!1,v=0;v<m;++v)if(y.indexA===c[v]&&y.indexB===f[v]){C=!0;break}if(C)break;++u.m_count}if(t.b2_gjkMaxIters=p(t.b2_gjkMaxIters,_),u.GetWitnessPoints(e.pointA,e.pointB),e.distance=k.DistanceVV(e.pointA,e.pointB),e.iterations=_,u.WriteCache(i),s.useRadii){var I=o.m_radius,B=a.m_radius;if(e.distance>I+B&&e.distance>n){e.distance-=I+B;var E=k.SubVV(e.pointB,e.pointA,$);E.Normalize(),e.pointA.SelfMulAdd(I,E),e.pointB.SelfMulSub(B,E)}else{var w=k.MidVV(e.pointA,e.pointB,W);e.pointA.Copy(w),e.pointB.Copy(w),e.distance=0}}}var nt,rt,st,ot=new k,at=new K,At=new k,lt=new k,ut=new k,ht=new k,ct=new k,ft=new k;(nt=t.b2ContactFeatureType||(t.b2ContactFeatureType={}))[nt.e_vertex=0]="e_vertex",nt[nt.e_face=1]="e_face";var mt=function(){function t(){_classCallCheck2(this,t),this._key=0,this._key_invalid=!1,this._indexA=0,this._indexB=0,this._typeA=0,this._typeB=0}return _createClass2(t,[{key:"key",get:function(){return this._key_invalid&&(this._key_invalid=!1,this._key=this._indexA|this._indexB<<8|this._typeA<<16|this._typeB<<24),this._key},set:function(t){this._key=t,this._key_invalid=!1,this._indexA=255&this._key,this._indexB=this._key>>8&255,this._typeA=this._key>>16&255,this._typeB=this._key>>24&255}},{key:"indexA",get:function(){return this._indexA},set:function(t){this._indexA=t,this._key_invalid=!0}},{key:"indexB",get:function(){return this._indexB},set:function(t){this._indexB=t,this._key_invalid=!0}},{key:"typeA",get:function(){return this._typeA},set:function(t){this._typeA=t,this._key_invalid=!0}},{key:"typeB",get:function(){return this._typeB},set:function(t){this._typeB=t,this._key_invalid=!0}}]),t}(),_t=function(){function t(){_classCallCheck2(this,t),this.cf=new mt}return _createClass2(t,[{key:"Copy",value:function(t){return this.key=t.key,this}},{key:"Clone",value:function(){return(new t).Copy(this)}},{key:"key",get:function(){return this.cf.key},set:function(t){this.cf.key=t}}]),t}(),gt=function(){function t(){_classCallCheck2(this,t),this.localPoint=new k,this.normalImpulse=0,this.tangentImpulse=0,this.id=new _t}return _createClass2(t,[{key:"Reset",value:function(){this.localPoint.SetZero(),this.normalImpulse=0,this.tangentImpulse=0,this.id.key=0}},{key:"Copy",value:function(t){return this.localPoint.Copy(t.localPoint),this.normalImpulse=t.normalImpulse,this.tangentImpulse=t.tangentImpulse,this.id.Copy(t.id),this}}],[{key:"MakeArray",value:function(e){return m(e,(function(e){return new t}))}}]),t}();(rt=t.b2ManifoldType||(t.b2ManifoldType={}))[rt.e_unknown=-1]="e_unknown",rt[rt.e_circles=0]="e_circles",rt[rt.e_faceA=1]="e_faceA",rt[rt.e_faceB=2]="e_faceB";var dt=function(){function e(){_classCallCheck2(this,e),this.points=gt.MakeArray(o),this.localNormal=new k,this.localPoint=new k,this.type=t.b2ManifoldType.e_unknown,this.pointCount=0}return _createClass2(e,[{key:"Reset",value:function(){for(var e=0;e<o;++e)this.points[e].Reset();this.localNormal.SetZero(),this.localPoint.SetZero(),this.type=t.b2ManifoldType.e_unknown,this.pointCount=0}},{key:"Copy",value:function(t){this.pointCount=t.pointCount;for(var e=0;e<o;++e)this.points[e].Copy(t.points[e]);return this.localNormal.Copy(t.localNormal),this.localPoint.Copy(t.localPoint),this.type=t.type,this}},{key:"Clone",value:function(){return(new e).Copy(this)}}]),e}(),pt=function(){function e(){_classCallCheck2(this,e),this.normal=new k,this.points=k.MakeArray(o),this.separations=_(o)}return _createClass2(e,[{key:"Initialize",value:function(i,n,s,o,a){if(0!==i.pointCount)switch(i.type){case t.b2ManifoldType.e_circles:this.normal.Set(1,0);var A=G.MulXV(n,i.localPoint,e.Initialize_s_pointA),l=G.MulXV(o,i.points[0].localPoint,e.Initialize_s_pointB);k.DistanceSquaredVV(A,l)>r&&k.SubVV(l,A,this.normal).SelfNormalize();var u=k.AddVMulSV(A,s,this.normal,e.Initialize_s_cA),h=k.SubVMulSV(l,a,this.normal,e.Initialize_s_cB);k.MidVV(u,h,this.points[0]),this.separations[0]=k.DotVV(k.SubVV(h,u,k.s_t0),this.normal);break;case t.b2ManifoldType.e_faceA:T.MulRV(n.q,i.localNormal,this.normal);for(var c=G.MulXV(n,i.localPoint,e.Initialize_s_planePoint),f=0;f<i.pointCount;++f){var m=G.MulXV(o,i.points[f].localPoint,e.Initialize_s_clipPoint),_=s-k.DotVV(k.SubVV(m,c,k.s_t0),this.normal),g=k.AddVMulSV(m,_,this.normal,e.Initialize_s_cA),d=k.SubVMulSV(m,a,this.normal,e.Initialize_s_cB);k.MidVV(g,d,this.points[f]),this.separations[f]=k.DotVV(k.SubVV(d,g,k.s_t0),this.normal)}break;case t.b2ManifoldType.e_faceB:T.MulRV(o.q,i.localNormal,this.normal);for(var p=G.MulXV(o,i.localPoint,e.Initialize_s_planePoint),y=0;y<i.pointCount;++y){var C=G.MulXV(n,i.points[y].localPoint,e.Initialize_s_clipPoint),v=a-k.DotVV(k.SubVV(C,p,k.s_t0),this.normal),I=k.AddVMulSV(C,v,this.normal,e.Initialize_s_cB),B=k.SubVMulSV(C,s,this.normal,e.Initialize_s_cA);k.MidVV(B,I,this.points[y]),this.separations[y]=k.DotVV(k.SubVV(B,I,k.s_t0),this.normal)}this.normal.SelfNeg()}}}]),e}();pt.Initialize_s_pointA=new k,pt.Initialize_s_pointB=new k,pt.Initialize_s_cA=new k,pt.Initialize_s_cB=new k,pt.Initialize_s_planePoint=new k,pt.Initialize_s_clipPoint=new k,(st=t.b2PointState||(t.b2PointState={}))[st.b2_nullState=0]="b2_nullState",st[st.b2_addState=1]="b2_addState",st[st.b2_persistState=2]="b2_persistState",st[st.b2_removeState=3]="b2_removeState";var yt=function(){function t(){_classCallCheck2(this,t),this.v=new k,this.id=new _t}return _createClass2(t,[{key:"Copy",value:function(t){return this.v.Copy(t.v),this.id.Copy(t.id),this}}],[{key:"MakeArray",value:function(e){return m(e,(function(e){return new t}))}}]),t}(),Ct=function(){function t(){_classCallCheck2(this,t),this.p1=new k,this.p2=new k,this.maxFraction=1}return _createClass2(t,[{key:"Copy",value:function(t){return this.p1.Copy(t.p1),this.p2.Copy(t.p2),this.maxFraction=t.maxFraction,this}}]),t}(),vt=function(){function t(){_classCallCheck2(this,t),this.normal=new k,this.fraction=0}return _createClass2(t,[{key:"Copy",value:function(t){return this.normal.Copy(t.normal),this.fraction=t.fraction,this}}]),t}(),It=function(){function t(){_classCallCheck2(this,t),this.lowerBound=new k,this.upperBound=new k,this.m_cache_center=new k,this.m_cache_extent=new k}return _createClass2(t,[{key:"Copy",value:function(t){return this.lowerBound.Copy(t.lowerBound),this.upperBound.Copy(t.upperBound),this}},{key:"IsValid",value:function(){return this.upperBound.x-this.lowerBound.x>=0&&this.upperBound.y-this.lowerBound.y>=0&&this.lowerBound.IsValid()&&this.upperBound.IsValid()}},{key:"GetCenter",value:function(){return k.MidVV(this.lowerBound,this.upperBound,this.m_cache_center)}},{key:"GetExtents",value:function(){return k.ExtVV(this.lowerBound,this.upperBound,this.m_cache_extent)}},{key:"GetPerimeter",value:function(){return 2*(this.upperBound.x-this.lowerBound.x+(this.upperBound.y-this.lowerBound.y))}},{key:"Combine1",value:function(t){return this.lowerBound.x=d(this.lowerBound.x,t.lowerBound.x),this.lowerBound.y=d(this.lowerBound.y,t.lowerBound.y),this.upperBound.x=p(this.upperBound.x,t.upperBound.x),this.upperBound.y=p(this.upperBound.y,t.upperBound.y),this}},{key:"Combine2",value:function(t,e){return this.lowerBound.x=d(t.lowerBound.x,e.lowerBound.x),this.lowerBound.y=d(t.lowerBound.y,e.lowerBound.y),this.upperBound.x=p(t.upperBound.x,e.upperBound.x),this.upperBound.y=p(t.upperBound.y,e.upperBound.y),this}},{key:"Contains",value:function(t){var e=!0;return(e=(e=(e=e&&this.lowerBound.x<=t.lowerBound.x)&&this.lowerBound.y<=t.lowerBound.y)&&t.upperBound.x<=this.upperBound.x)&&t.upperBound.y<=this.upperBound.y}},{key:"RayCast",value:function(t,e){var r=-i,s=i,o=e.p1.x,a=e.p1.y,A=e.p2.x-e.p1.x,l=e.p2.y-e.p1.y,u=g(A),h=g(l),c=t.normal;if(u<n){if(o<this.lowerBound.x||this.upperBound.x<o)return!1}else{var f=1/A,m=(this.lowerBound.x-o)*f,_=(this.upperBound.x-o)*f,p=-1;if(m>_){var y=m;m=_,_=y,p=1}if(m>r&&(c.x=p,c.y=0,r=m),r>(s=d(s,_)))return!1}if(h<n){if(a<this.lowerBound.y||this.upperBound.y<a)return!1}else{var C=1/l,v=(this.lowerBound.y-a)*C,I=(this.upperBound.y-a)*C,B=-1;if(v>I){var E=v;v=I,I=E,B=1}if(v>r&&(c.x=0,c.y=B,r=v),r>(s=d(s,I)))return!1}return!(r<0||e.maxFraction<r||(t.fraction=r,0))}},{key:"TestContain",value:function(t){return!(t.x<this.lowerBound.x||this.upperBound.x<t.x||t.y<this.lowerBound.y||this.upperBound.y<t.y)}},{key:"TestOverlap",value:function(t){return!(t.lowerBound.x-this.upperBound.x>0||t.lowerBound.y-this.upperBound.y>0||this.lowerBound.x-t.upperBound.x>0||this.lowerBound.y-t.upperBound.y>0)}}],[{key:"Combine",value:function(t,e,i){return i.Combine2(t,e),i}}]),t}();function Bt(t,e){return!(e.lowerBound.x-t.upperBound.x>0||e.lowerBound.y-t.upperBound.y>0||t.lowerBound.x-e.upperBound.x>0||t.lowerBound.y-e.upperBound.y>0)}function Et(e,i,n,r,s){var o=0,a=i[0],A=i[1],l=k.DotVV(n,a.v)-r,u=k.DotVV(n,A.v)-r;if(l<=0&&e[o++].Copy(a),u<=0&&e[o++].Copy(A),l*u<0){var h=l/(l-u),c=e[o].v;c.x=a.v.x+h*(A.v.x-a.v.x),c.y=a.v.y+h*(A.v.y-a.v.y);var f=e[o].id;f.cf.indexA=s,f.cf.indexB=a.id.cf.indexB,f.cf.typeA=t.b2ContactFeatureType.e_vertex,f.cf.typeB=t.b2ContactFeatureType.e_face,++o}return o}var wt=new H,bt=new Y,xt=new J;function St(t,e,i,r,s,o){var a=wt.Reset();a.proxyA.SetShape(t,e),a.proxyB.SetShape(i,r),a.transformA.Copy(s),a.transformB.Copy(o),a.useRadii=!0;var A=bt.Reset();A.count=0;var l=xt.Reset();return it(l,A,a),l.distance<10*n}function Qt(t){if(null===t)throw new Error;return t}var kt=function(){function t(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0;_classCallCheck2(this,t),this.m_id=0,this.aabb=new It,this.parent=null,this.child1=null,this.child2=null,this.height=0,this.m_id=e}return _createClass2(t,[{key:"IsLeaf",value:function(){return null===this.child1}}]),t}(),Dt=function(){function t(){_classCallCheck2(this,t),this.m_root=null,this.m_freeList=null,this.m_path=0,this.m_insertionCount=0,this.m_stack=new U(256)}return _createClass2(t,[{key:"Query",value:function(t,e){if(null!==this.m_root){var i=this.m_stack.Reset();for(i.Push(this.m_root);i.GetCount()>0;){var n=i.Pop();if(n.aabb.TestOverlap(t))if(n.IsLeaf()){if(!e(n))return}else i.Push(Qt(n.child1)),i.Push(Qt(n.child2))}}}},{key:"QueryPoint",value:function(t,e){if(null!==this.m_root){var i=this.m_stack.Reset();for(i.Push(this.m_root);i.GetCount()>0;){var n=i.Pop();if(n.aabb.TestContain(t))if(n.IsLeaf()){if(!e(n))return}else i.Push(Qt(n.child1)),i.Push(Qt(n.child2))}}}},{key:"RayCast",value:function(e,i){if(null!==this.m_root){var n=e.p1,r=e.p2,s=k.SubVV(r,n,t.s_r);s.Normalize();var o=k.CrossOneV(s,t.s_v),a=k.AbsV(o,t.s_abs_v),A=e.maxFraction,l=t.s_segmentAABB,u=n.x+A*(r.x-n.x),h=n.y+A*(r.y-n.y);l.lowerBound.x=d(n.x,u),l.lowerBound.y=d(n.y,h),l.upperBound.x=p(n.x,u),l.upperBound.y=p(n.y,h);var c=this.m_stack.Reset();for(c.Push(this.m_root);c.GetCount()>0;){var f=c.Pop();if(Bt(f.aabb,l)){var m=f.aabb.GetCenter(),_=f.aabb.GetExtents();if(!(g(k.DotVV(o,k.SubVV(n,m,k.s_t0)))-k.DotVV(a,_)>0))if(f.IsLeaf()){var y=t.s_subInput;y.p1.Copy(e.p1),y.p2.Copy(e.p2),y.maxFraction=A;var C=i(y,f);if(0===C)return;C>0&&(h=n.y+(A=C)*(r.y-n.y),l.lowerBound.x=d(n.x,u=n.x+A*(r.x-n.x)),l.lowerBound.y=d(n.y,h),l.upperBound.x=p(n.x,u),l.upperBound.y=p(n.y,h))}else c.Push(Qt(f.child1)),c.Push(Qt(f.child2))}}}}},{key:"AllocateNode",value:function(){if(this.m_freeList){var e=this.m_freeList;return this.m_freeList=e.parent,e.parent=null,e.child1=null,e.child2=null,e.height=0,delete e.userData,e}return new kt(t.s_node_id++)}},{key:"FreeNode",value:function(t){t.parent=this.m_freeList,t.child1=null,t.child2=null,t.height=-1,delete t.userData,this.m_freeList=t}},{key:"CreateProxy",value:function(t,e){var i=this.AllocateNode();return i.aabb.lowerBound.x=t.lowerBound.x-.1,i.aabb.lowerBound.y=t.lowerBound.y-.1,i.aabb.upperBound.x=t.upperBound.x+.1,i.aabb.upperBound.y=t.upperBound.y+.1,i.userData=e,i.height=0,this.InsertLeaf(i),i}},{key:"DestroyProxy",value:function(t){this.RemoveLeaf(t),this.FreeNode(t)}},{key:"MoveProxy",value:function(t,e,i){if(t.aabb.Contains(e))return!1;this.RemoveLeaf(t);var n=.1+2*(i.x>0?i.x:-i.x),r=.1+2*(i.y>0?i.y:-i.y);return t.aabb.lowerBound.x=e.lowerBound.x-n,t.aabb.lowerBound.y=e.lowerBound.y-r,t.aabb.upperBound.x=e.upperBound.x+n,t.aabb.upperBound.y=e.upperBound.y+r,this.InsertLeaf(t),!0}},{key:"InsertLeaf",value:function(e){if(++this.m_insertionCount,null===this.m_root)return this.m_root=e,void(this.m_root.parent=null);for(var i=e.aabb,n=this.m_root;!n.IsLeaf();){var r=Qt(n.child1),s=Qt(n.child2),o=n.aabb.GetPerimeter(),a=t.s_combinedAABB;a.Combine2(n.aabb,i);var A=a.GetPerimeter(),l=2*A,u=2*(A-o),h=void 0,c=t.s_aabb,f=void 0,m=void 0;if(r.IsLeaf()?(c.Combine2(i,r.aabb),h=c.GetPerimeter()+u):(c.Combine2(i,r.aabb),f=r.aabb.GetPerimeter(),h=c.GetPerimeter()-f+u),s.IsLeaf()?(c.Combine2(i,s.aabb),m=c.GetPerimeter()+u):(c.Combine2(i,s.aabb),f=s.aabb.GetPerimeter(),m=c.GetPerimeter()-f+u),l<h&&l<m)break;n=h<m?r:s}var _=n,g=_.parent,d=this.AllocateNode();d.parent=g,delete d.userData,d.aabb.Combine2(i,_.aabb),d.height=_.height+1,g?(g.child1===_?g.child1=d:g.child2=d,d.child1=_,d.child2=e,_.parent=d,e.parent=d):(d.child1=_,d.child2=e,_.parent=d,e.parent=d,this.m_root=d);for(var y=e.parent;null!==y;){var C=Qt((y=this.Balance(y)).child1),v=Qt(y.child2);y.height=1+p(C.height,v.height),y.aabb.Combine2(C.aabb,v.aabb),y=y.parent}}},{key:"RemoveLeaf",value:function(t){if(t!==this.m_root){var e,i=Qt(t.parent),n=i&&i.parent;if(e=Qt(i.child1===t?i.child2:i.child1),n){n.child1===i?n.child1=e:n.child2=e,e.parent=n,this.FreeNode(i);for(var r=n;r;){var s=Qt((r=this.Balance(r)).child1),o=Qt(r.child2);r.aabb.Combine2(s.aabb,o.aabb),r.height=1+p(s.height,o.height),r=r.parent}}else this.m_root=e,e.parent=null,this.FreeNode(i)}else this.m_root=null}},{key:"Balance",value:function(t){if(t.IsLeaf()||t.height<2)return t;var e=Qt(t.child1),i=Qt(t.child2),n=i.height-e.height;if(n>1){var r=Qt(i.child1),s=Qt(i.child2);return i.child1=t,i.parent=t.parent,t.parent=i,null!==i.parent?i.parent.child1===t?i.parent.child1=i:i.parent.child2=i:this.m_root=i,r.height>s.height?(i.child2=r,t.child2=s,s.parent=t,t.aabb.Combine2(e.aabb,s.aabb),i.aabb.Combine2(t.aabb,r.aabb),t.height=1+p(e.height,s.height),i.height=1+p(t.height,r.height)):(i.child2=s,t.child2=r,r.parent=t,t.aabb.Combine2(e.aabb,r.aabb),i.aabb.Combine2(t.aabb,s.aabb),t.height=1+p(e.height,r.height),i.height=1+p(t.height,s.height)),i}if(n<-1){var o=Qt(e.child1),a=Qt(e.child2);return e.child1=t,e.parent=t.parent,t.parent=e,null!==e.parent?e.parent.child1===t?e.parent.child1=e:e.parent.child2=e:this.m_root=e,o.height>a.height?(e.child2=o,t.child1=a,a.parent=t,t.aabb.Combine2(i.aabb,a.aabb),e.aabb.Combine2(t.aabb,o.aabb),t.height=1+p(i.height,a.height),e.height=1+p(t.height,o.height)):(e.child2=a,t.child1=o,o.parent=t,t.aabb.Combine2(i.aabb,o.aabb),e.aabb.Combine2(t.aabb,a.aabb),t.height=1+p(i.height,o.height),e.height=1+p(t.height,a.height)),e}return t}},{key:"GetHeight",value:function(){return null===this.m_root?0:this.m_root.height}},{key:"GetAreaRatio",value:function(){if(null===this.m_root)return 0;var e=this.m_root.aabb.GetPerimeter();return t.GetAreaNode(this.m_root)/e}},{key:"ComputeHeightNode",value:function(t){if(!t||t.IsLeaf())return 0;var e=this.ComputeHeightNode(t.child1),i=this.ComputeHeightNode(t.child2);return 1+p(e,i)}},{key:"ComputeHeight",value:function(){return this.ComputeHeightNode(this.m_root)}},{key:"ValidateStructure",value:function(t){if(null!==t){var e=t;if(!e.IsLeaf()){var i=Qt(e.child1),n=Qt(e.child2);this.ValidateStructure(i),this.ValidateStructure(n)}}}},{key:"ValidateMetrics",value:function(e){if(null!==e){var i=e;if(!i.IsLeaf()){var n=Qt(i.child1),r=Qt(i.child2);t.s_aabb.Combine2(n.aabb,r.aabb),this.ValidateMetrics(n),this.ValidateMetrics(r)}}}},{key:"Validate",value:function(){}},{key:"GetMaxBalance",value:function(){return t.GetMaxBalanceNode(this.m_root,0)}},{key:"RebuildBottomUp",value:function(){this.Validate()}},{key:"ShiftOrigin",value:function(e){t.ShiftOriginNode(this.m_root,e)}}],[{key:"GetAreaNode",value:function(e){if(null===e)return 0;if(e.IsLeaf())return 0;var i=e.aabb.GetPerimeter();return(i+=t.GetAreaNode(e.child1))+t.GetAreaNode(e.child2)}},{key:"GetMaxBalanceNode",value:function(t,e){if(null===t)return e;if(t.height<=1)return e;var i=Qt(t.child1),n=Qt(t.child2),r=g(n.height-i.height);return p(e,r)}},{key:"ShiftOriginNode",value:function(e,i){if(null!==e&&!(e.height<=1)){var n=e.child2;t.ShiftOriginNode(e.child1,i),t.ShiftOriginNode(n,i),e.aabb.lowerBound.SelfSub(i),e.aabb.upperBound.SelfSub(i)}}}]),t}();Dt.s_r=new k,Dt.s_v=new k,Dt.s_abs_v=new k,Dt.s_segmentAABB=new It,Dt.s_subInput=new Ct,Dt.s_combinedAABB=new It,Dt.s_aabb=new It,Dt.s_node_id=0;var Mt=function t(e,i){_classCallCheck2(this,t),this.proxyA=e,this.proxyB=i},Rt=function(){function t(){_classCallCheck2(this,t),this.m_tree=new Dt,this.m_proxyCount=0,this.m_moveCount=0,this.m_moveBuffer=[],this.m_pairCount=0,this.m_pairBuffer=[]}return _createClass2(t,[{key:"CreateProxy",value:function(t,e){var i=this.m_tree.CreateProxy(t,e);return++this.m_proxyCount,this.BufferMove(i),i}},{key:"DestroyProxy",value:function(t){this.UnBufferMove(t),--this.m_proxyCount,this.m_tree.DestroyProxy(t)}},{key:"MoveProxy",value:function(t,e,i){this.m_tree.MoveProxy(t,e,i)&&this.BufferMove(t)}},{key:"TouchProxy",value:function(t){this.BufferMove(t)}},{key:"GetProxyCount",value:function(){return this.m_proxyCount}},{key:"UpdatePairs",value:function(t){var e=this;this.m_pairCount=0;for(var i=function(t){var i=e.m_moveBuffer[t];null!==i&&e.m_tree.Query(i.aabb,(function(t){if(t.m_id===i.m_id)return!0;var n,r;if(t.m_id<i.m_id?(n=t,r=i):(n=i,r=t),e.m_pairCount===e.m_pairBuffer.length)e.m_pairBuffer[e.m_pairCount]=new Mt(n,r);else{var s=e.m_pairBuffer[e.m_pairCount];s.proxyA=n,s.proxyB=r}return++e.m_pairCount,!0}))},n=0;n<this.m_moveCount;++n)i(n);this.m_moveCount=0,this.m_pairBuffer.length=this.m_pairCount,this.m_pairBuffer.sort(Vt);for(var r=0;r<this.m_pairCount;){var s=this.m_pairBuffer[r];for(t(s.proxyA.userData,s.proxyB.userData),++r;r<this.m_pairCount;){var o=this.m_pairBuffer[r];if(o.proxyA.m_id!==s.proxyA.m_id||o.proxyB.m_id!==s.proxyB.m_id)break;++r}}}},{key:"Query",value:function(t,e){this.m_tree.Query(t,e)}},{key:"QueryPoint",value:function(t,e){this.m_tree.QueryPoint(t,e)}},{key:"RayCast",value:function(t,e){this.m_tree.RayCast(t,e)}},{key:"GetTreeHeight",value:function(){return this.m_tree.GetHeight()}},{key:"GetTreeBalance",value:function(){return this.m_tree.GetMaxBalance()}},{key:"GetTreeQuality",value:function(){return this.m_tree.GetAreaRatio()}},{key:"ShiftOrigin",value:function(t){this.m_tree.ShiftOrigin(t)}},{key:"BufferMove",value:function(t){this.m_moveBuffer[this.m_moveCount]=t,++this.m_moveCount}},{key:"UnBufferMove",value:function(t){var e=this.m_moveBuffer.indexOf(t);this.m_moveBuffer[e]=null}}]),t}();function Vt(t,e){return t.proxyA.m_id===e.proxyA.m_id?t.proxyB.m_id-e.proxyB.m_id:t.proxyA.m_id-e.proxyA.m_id}t.b2_toiTime=0,t.b2_toiMaxTime=0,t.b2_toiCalls=0,t.b2_toiIters=0,t.b2_toiMaxIters=0,t.b2_toiRootIters=0,t.b2_toiMaxRootIters=0;var Tt,Gt,Ft=new G,Pt=new G,Nt=new k,Lt=new k,Ut=new k,Ot=new k,Yt=new k,Ht=function t(){_classCallCheck2(this,t),this.proxyA=new O,this.proxyB=new O,this.sweepA=new P,this.sweepB=new P,this.tMax=0};(Tt=t.b2TOIOutputState||(t.b2TOIOutputState={}))[Tt.e_unknown=0]="e_unknown",Tt[Tt.e_failed=1]="e_failed",Tt[Tt.e_overlapped=2]="e_overlapped",Tt[Tt.e_touching=3]="e_touching",Tt[Tt.e_separated=4]="e_separated";var Jt=function e(){_classCallCheck2(this,e),this.state=t.b2TOIOutputState.e_unknown,this.t=0};(Gt=t.b2SeparationFunctionType||(t.b2SeparationFunctionType={}))[Gt.e_unknown=-1]="e_unknown",Gt[Gt.e_points=0]="e_points",Gt[Gt.e_faceA=1]="e_faceA",Gt[Gt.e_faceB=2]="e_faceB";var jt=function(){function e(){_classCallCheck2(this,e),this.m_sweepA=new P,this.m_sweepB=new P,this.m_type=t.b2SeparationFunctionType.e_unknown,this.m_localPoint=new k,this.m_axis=new k}return _createClass2(e,[{key:"Initialize",value:function(e,i,n,r,s,o){this.m_proxyA=i,this.m_proxyB=r;var a=e.count;this.m_sweepA.Copy(n),this.m_sweepB.Copy(s);var A=Ft,l=Pt;if(this.m_sweepA.GetTransform(A,o),this.m_sweepB.GetTransform(l,o),1===a){this.m_type=t.b2SeparationFunctionType.e_points;var u=this.m_proxyA.GetVertex(e.indexA[0]),h=this.m_proxyB.GetVertex(e.indexB[0]),c=G.MulXV(A,u,Nt),f=G.MulXV(l,h,Lt);k.SubVV(f,c,this.m_axis);var m=this.m_axis.Normalize();return this.m_localPoint.SetZero(),m}if(e.indexA[0]===e.indexA[1]){this.m_type=t.b2SeparationFunctionType.e_faceB;var _=this.m_proxyB.GetVertex(e.indexB[0]),g=this.m_proxyB.GetVertex(e.indexB[1]);k.CrossVOne(k.SubVV(g,_,k.s_t0),this.m_axis).SelfNormalize();var d=T.MulRV(l.q,this.m_axis,Ut);k.MidVV(_,g,this.m_localPoint);var p=G.MulXV(l,this.m_localPoint,Lt),y=this.m_proxyA.GetVertex(e.indexA[0]),C=G.MulXV(A,y,Nt),v=k.DotVV(k.SubVV(C,p,k.s_t0),d);return v<0&&(this.m_axis.SelfNeg(),v=-v),v}this.m_type=t.b2SeparationFunctionType.e_faceA;var I=this.m_proxyA.GetVertex(e.indexA[0]),B=this.m_proxyA.GetVertex(e.indexA[1]);k.CrossVOne(k.SubVV(B,I,k.s_t0),this.m_axis).SelfNormalize();var E=T.MulRV(A.q,this.m_axis,Ut);k.MidVV(I,B,this.m_localPoint);var w=G.MulXV(A,this.m_localPoint,Nt),b=this.m_proxyB.GetVertex(e.indexB[0]),x=G.MulXV(l,b,Lt),S=k.DotVV(k.SubVV(x,w,k.s_t0),E);return S<0&&(this.m_axis.SelfNeg(),S=-S),S}},{key:"FindMinSeparation",value:function(e,i,n){var r=Ft,s=Pt;switch(this.m_sweepA.GetTransform(r,n),this.m_sweepB.GetTransform(s,n),this.m_type){case t.b2SeparationFunctionType.e_points:var o=T.MulTRV(r.q,this.m_axis,Ot),a=T.MulTRV(s.q,k.NegV(this.m_axis,k.s_t0),Yt);e[0]=this.m_proxyA.GetSupport(o),i[0]=this.m_proxyB.GetSupport(a);var A=this.m_proxyA.GetVertex(e[0]),l=this.m_proxyB.GetVertex(i[0]),u=G.MulXV(r,A,Nt),h=G.MulXV(s,l,Lt);return k.DotVV(k.SubVV(h,u,k.s_t0),this.m_axis);case t.b2SeparationFunctionType.e_faceA:var c=T.MulRV(r.q,this.m_axis,Ut),f=G.MulXV(r,this.m_localPoint,Nt),m=T.MulTRV(s.q,k.NegV(c,k.s_t0),Yt);e[0]=-1,i[0]=this.m_proxyB.GetSupport(m);var _=this.m_proxyB.GetVertex(i[0]),g=G.MulXV(s,_,Lt);return k.DotVV(k.SubVV(g,f,k.s_t0),c);case t.b2SeparationFunctionType.e_faceB:var d=T.MulRV(s.q,this.m_axis,Ut),p=G.MulXV(s,this.m_localPoint,Lt),y=T.MulTRV(r.q,k.NegV(d,k.s_t0),Ot);i[0]=-1,e[0]=this.m_proxyA.GetSupport(y);var C=this.m_proxyA.GetVertex(e[0]),v=G.MulXV(r,C,Nt);return k.DotVV(k.SubVV(v,p,k.s_t0),d);default:return e[0]=-1,i[0]=-1,0}}},{key:"Evaluate",value:function(e,i,n){var r=Ft,s=Pt;switch(this.m_sweepA.GetTransform(r,n),this.m_sweepB.GetTransform(s,n),this.m_type){case t.b2SeparationFunctionType.e_points:var o=this.m_proxyA.GetVertex(e),a=this.m_proxyB.GetVertex(i),A=G.MulXV(r,o,Nt),l=G.MulXV(s,a,Lt);return k.DotVV(k.SubVV(l,A,k.s_t0),this.m_axis);case t.b2SeparationFunctionType.e_faceA:var u=T.MulRV(r.q,this.m_axis,Ut),h=G.MulXV(r,this.m_localPoint,Nt),c=this.m_proxyB.GetVertex(i),f=G.MulXV(s,c,Lt);return k.DotVV(k.SubVV(f,h,k.s_t0),u);case t.b2SeparationFunctionType.e_faceB:var m=T.MulRV(s.q,this.m_axis,Ut),_=G.MulXV(s,this.m_localPoint,Lt),g=this.m_proxyA.GetVertex(e),d=G.MulXV(r,g,Nt);return k.DotVV(k.SubVV(d,_,k.s_t0),m);default:return 0}}}]),e}(),Kt=new L,qt=new Y,zt=new H,Xt=new J,Wt=new jt,Zt=[0],$t=[0],te=new P,ee=new P;function ie(e,i){var n=Kt.Reset();++t.b2_toiCalls,e.state=t.b2TOIOutputState.e_unknown,e.t=i.tMax;var r=i.proxyA,s=i.proxyB,o=p(a,r.m_count,s.m_count),l=te.Copy(i.sweepA),u=ee.Copy(i.sweepB);l.Normalize(),u.Normalize();var h=i.tMax,c=p(A,r.m_radius+s.m_radius-3*A),f=.25*A,m=0,_=0,d=qt;d.count=0;var y=zt;for(y.proxyA.Copy(i.proxyA),y.proxyB.Copy(i.proxyB),y.useRadii=!1;;){var C=Ft,v=Pt;l.GetTransform(C,m),u.GetTransform(v,m),y.transformA.Copy(C),y.transformB.Copy(v);var I=Xt;if(it(I,d,y),I.distance<=0){e.state=t.b2TOIOutputState.e_overlapped,e.t=0;break}if(I.distance<c+f){e.state=t.b2TOIOutputState.e_touching,e.t=m;break}var B=Wt;B.Initialize(d,r,l,s,u,m);for(var E=!1,w=h,b=0;;){var x=Zt,S=$t,Q=B.FindMinSeparation(x,S,w);if(Q>c+f){e.state=t.b2TOIOutputState.e_separated,e.t=h,E=!0;break}if(Q>c-f){m=w;break}var k=B.Evaluate(x[0],S[0],m);if(k<c-f){e.state=t.b2TOIOutputState.e_failed,e.t=m,E=!0;break}if(k<=c+f){e.state=t.b2TOIOutputState.e_touching,e.t=m,E=!0;break}for(var D=0,M=m,R=w;;){var V;V=1&D?M+(c-k)*(R-M)/(Q-k):.5*(M+R),++D,++t.b2_toiRootIters;var T=B.Evaluate(x[0],S[0],V);if(g(T-c)<f){w=V;break}if(T>c?(M=V,k=T):(R=V,Q=T),50===D)break}if(t.b2_toiMaxRootIters=p(t.b2_toiMaxRootIters,D),++b===o)break}if(++_,++t.b2_toiIters,E)break;if(20===_){e.state=t.b2TOIOutputState.e_failed,e.t=m;break}}t.b2_toiMaxIters=p(t.b2_toiMaxIters,_);var G=n.GetMilliseconds();t.b2_toiMaxTime=p(t.b2_toiMaxTime,G),t.b2_toiTime+=G}var ne=new k,re=new k;function se(e,i,n,r,s){e.pointCount=0;var o=G.MulXV(n,i.m_p,ne),a=G.MulXV(s,r.m_p,re),A=k.DistanceSquaredVV(o,a),l=i.m_radius+r.m_radius;A>l*l||(e.type=t.b2ManifoldType.e_circles,e.localPoint.Copy(i.m_p),e.localNormal.SetZero(),e.pointCount=1,e.points[0].localPoint.Copy(r.m_p),e.points[0].id.key=0)}var oe=new k,ae=new k,Ae=new k;function le(e,r,s,o,a){e.pointCount=0;for(var A=G.MulXV(a,o.m_p,oe),l=G.MulTXV(s,A,ae),u=0,h=-i,c=r.m_radius+o.m_radius,f=r.m_count,m=r.m_vertices,_=r.m_normals,g=0;g<f;++g){var d=k.DotVV(_[g],k.SubVV(l,m[g],k.s_t0));if(d>c)return;d>h&&(h=d,u=g)}var p=u,y=m[p],C=m[(p+1)%f];if(h<n)return e.pointCount=1,e.type=t.b2ManifoldType.e_faceA,e.localNormal.Copy(_[u]),k.MidVV(y,C,e.localPoint),e.points[0].localPoint.Copy(o.m_p),void(e.points[0].id.key=0);var v=k.DotVV(k.SubVV(l,y,k.s_t0),k.SubVV(C,y,k.s_t1)),I=k.DotVV(k.SubVV(l,C,k.s_t0),k.SubVV(y,C,k.s_t1));if(v<=0){if(k.DistanceSquaredVV(l,y)>c*c)return;e.pointCount=1,e.type=t.b2ManifoldType.e_faceA,k.SubVV(l,y,e.localNormal).SelfNormalize(),e.localPoint.Copy(y),e.points[0].localPoint.Copy(o.m_p),e.points[0].id.key=0}else if(I<=0){if(k.DistanceSquaredVV(l,C)>c*c)return;e.pointCount=1,e.type=t.b2ManifoldType.e_faceA,k.SubVV(l,C,e.localNormal).SelfNormalize(),e.localPoint.Copy(C),e.points[0].localPoint.Copy(o.m_p),e.points[0].id.key=0}else{var B=k.MidVV(y,C,Ae);if(k.DotVV(k.SubVV(l,B,k.s_t1),_[p])>c)return;e.pointCount=1,e.type=t.b2ManifoldType.e_faceA,e.localNormal.Copy(_[p]).SelfNormalize(),e.localPoint.Copy(B),e.points[0].localPoint.Copy(o.m_p),e.points[0].id.key=0}}var ue=new k,he=new k,ce=new k,fe=new k;function me(t,e,n,r,s){for(var o=t.m_vertices,a=r.m_count,A=r.m_vertices,l=T.MulRV(e.q,t.m_normals[n],ue),u=T.MulTRV(s.q,l,he),h=0,c=i,f=0;f<a;++f){var m=k.DotVV(A[f],u);m<c&&(c=m,h=f)}var _=G.MulXV(e,o[n],ce),g=G.MulXV(s,A[h],fe);return k.DotVV(k.SubVV(g,_,k.s_t0),l)}var _e=new k,ge=new k;function de(t,e,n,r,s){for(var o=e.m_count,a=e.m_normals,A=k.SubVV(G.MulXV(s,r.m_centroid,k.s_t0),G.MulXV(n,e.m_centroid,k.s_t1),_e),l=T.MulTRV(n.q,A,ge),u=0,h=-i,c=0;c<o;++c){var f=k.DotVV(a[c],l);f>h&&(h=f,u=c)}var m=me(e,n,u,r,s),_=(u+o-1)%o,g=me(e,n,_,r,s),d=(u+1)%o,p=me(e,n,d,r,s),y=0,C=0,v=0;if(g>m&&g>p)v=-1,y=_,C=g;else{if(!(p>m))return t[0]=u,m;v=1,y=d,C=p}for(;(m=me(e,n,u=-1===v?(y+o-1)%o:(y+1)%o,r,s))>C;)y=u,C=m;return t[0]=y,C}var pe=new k,ye=yt.MakeArray(2),Ce=yt.MakeArray(2),ve=yt.MakeArray(2),Ie=[0],Be=[0],Ee=new k,we=new k,be=new k,xe=new k,Se=new k,Qe=new k,ke=new k,De=new k;function Me(e,n,r,s,a){e.pointCount=0;var A=n.m_radius+s.m_radius,l=Ie;l[0]=0;var u=de(l,n,r,s,a);if(!(u>A)){var h=Be;h[0]=0;var c=de(h,s,a,n,r);if(!(c>A)){var f,m,_,g,d=0,p=0;c>.98*u+.001?(f=s,m=n,_=a,g=r,d=h[0],e.type=t.b2ManifoldType.e_faceB,p=1):(f=n,m=s,_=r,g=a,d=l[0],e.type=t.b2ManifoldType.e_faceA,p=0);var y=ye;!function(e,n,r,s,o,a){for(var A=o.m_count,l=o.m_vertices,u=o.m_normals,h=T.MulTRV(a.q,T.MulRV(r.q,n.m_normals[s],k.s_t0),pe),c=0,f=i,m=0;m<A;++m){var _=k.DotVV(h,u[m]);_<f&&(f=_,c=m)}var g=c,d=(g+1)%A,p=e[0];G.MulXV(a,l[g],p.v);var y=p.id.cf;y.indexA=s,y.indexB=g,y.typeA=t.b2ContactFeatureType.e_face,y.typeB=t.b2ContactFeatureType.e_vertex;var C=e[1];G.MulXV(a,l[d],C.v);var v=C.id.cf;v.indexA=s,v.indexB=d,v.typeA=t.b2ContactFeatureType.e_face,v.typeB=t.b2ContactFeatureType.e_vertex}(y,f,_,d,m,g);var C=f.m_vertices,v=d,I=(d+1)%f.m_count,B=C[v],E=C[I],w=k.SubVV(E,B,Ee);w.Normalize();var b=k.CrossVOne(w,we),x=k.MidVV(B,E,be),S=T.MulRV(_.q,w,Se),Q=k.CrossVOne(S,xe),D=G.MulXV(_,B,ke),M=G.MulXV(_,E,De),R=k.DotVV(Q,D),V=-k.DotVV(S,D)+A,F=k.DotVV(S,M)+A,P=Ce,N=ve;if(!(Et(P,y,k.NegV(S,Qe),V,v)<2||Et(N,P,S,F,I)<2)){e.localNormal.Copy(b),e.localPoint.Copy(x);for(var L=0,U=0;U<o;++U){var O=N[U];if(k.DotVV(Q,O.v)-R<=A){var Y=e.points[L];if(G.MulTXV(g,O.v,Y.localPoint),Y.id.Copy(O.id),p){var H=Y.id.cf;Y.id.cf.indexA=H.indexB,Y.id.cf.indexB=H.indexA,Y.id.cf.typeA=H.typeB,Y.id.cf.typeB=H.typeA}++L}}e.pointCount=L}}}}var Re,Ve,Te=new k,Ge=new k,Fe=new k,Pe=new k,Ne=new k,Le=new k,Ue=new k,Oe=new _t;function Ye(e,i,n,r,s){e.pointCount=0;var o=G.MulTXV(n,G.MulXV(s,r.m_p,k.s_t0),Te),a=i.m_vertex1,A=i.m_vertex2,l=k.SubVV(A,a,Ge),u=k.DotVV(l,k.SubVV(A,o,k.s_t0)),h=k.DotVV(l,k.SubVV(o,a,k.s_t0)),c=i.m_radius+r.m_radius,f=Oe;if(f.cf.indexB=0,f.cf.typeB=t.b2ContactFeatureType.e_vertex,h<=0){var m=a,_=k.SubVV(o,m,Fe);if(k.DotVV(_,_)>c*c)return;if(i.m_hasVertex0){var g=a,d=k.SubVV(g,i.m_vertex0,Pe);if(k.DotVV(d,k.SubVV(g,o,k.s_t0))>0)return}return f.cf.indexA=0,f.cf.typeA=t.b2ContactFeatureType.e_vertex,e.pointCount=1,e.type=t.b2ManifoldType.e_circles,e.localNormal.SetZero(),e.localPoint.Copy(m),e.points[0].id.Copy(f),void e.points[0].localPoint.Copy(r.m_p)}if(u<=0){var p=A,y=k.SubVV(o,p,Fe);if(k.DotVV(y,y)>c*c)return;if(i.m_hasVertex3){var C=A,v=k.SubVV(i.m_vertex3,C,Ne);if(k.DotVV(v,k.SubVV(o,C,k.s_t0))>0)return}return f.cf.indexA=1,f.cf.typeA=t.b2ContactFeatureType.e_vertex,e.pointCount=1,e.type=t.b2ManifoldType.e_circles,e.localNormal.SetZero(),e.localPoint.Copy(p),e.points[0].id.Copy(f),void e.points[0].localPoint.Copy(r.m_p)}var I=k.DotVV(l,l),B=Le;B.x=1/I*(u*a.x+h*A.x),B.y=1/I*(u*a.y+h*A.y);var E=k.SubVV(o,B,Fe);if(!(k.DotVV(E,E)>c*c)){var w=Ue.Set(-l.y,l.x);k.DotVV(w,k.SubVV(o,a,k.s_t0))<0&&w.Set(-w.x,-w.y),w.Normalize(),f.cf.indexA=0,f.cf.typeA=t.b2ContactFeatureType.e_face,e.pointCount=1,e.type=t.b2ManifoldType.e_faceA,e.localNormal.Copy(w),e.localPoint.Copy(a),e.points[0].id.Copy(f),e.points[0].localPoint.Copy(r.m_p)}}!function(t){t[t.e_unknown=0]="e_unknown",t[t.e_edgeA=1]="e_edgeA",t[t.e_edgeB=2]="e_edgeB"}(Re||(Re={}));var He=function t(){_classCallCheck2(this,t),this.type=Re.e_unknown,this.index=0,this.separation=0},Je=function t(){_classCallCheck2(this,t),this.vertices=[],this.normals=[],this.count=0};!function(t){t[t.e_isolated=0]="e_isolated",t[t.e_concave=1]="e_concave",t[t.e_convex=2]="e_convex"}(Ve||(Ve={}));var je=function(){function e(){_classCallCheck2(this,e),this.m_polygonB=new Je,this.m_xf=new G,this.m_centroidB=new k,this.m_v0=new k,this.m_v1=new k,this.m_v2=new k,this.m_v3=new k,this.m_normal0=new k,this.m_normal1=new k,this.m_normal2=new k,this.m_normal=new k,this.m_type1=Ve.e_isolated,this.m_type2=Ve.e_isolated,this.m_lowerLimit=new k,this.m_upperLimit=new k,this.m_radius=0,this.m_front=!1}return _createClass2(e,[{key:"Collide",value:function(i,n,r,s,a){G.MulTXX(r,a,this.m_xf),G.MulXV(this.m_xf,s.m_centroid,this.m_centroidB),this.m_v0.Copy(n.m_vertex0),this.m_v1.Copy(n.m_vertex1),this.m_v2.Copy(n.m_vertex2),this.m_v3.Copy(n.m_vertex3);var A=n.m_hasVertex0,l=n.m_hasVertex3,u=k.SubVV(this.m_v2,this.m_v1,e.s_edge1);u.Normalize(),this.m_normal1.Set(u.y,-u.x);var h=k.DotVV(this.m_normal1,k.SubVV(this.m_centroidB,this.m_v1,k.s_t0)),c=0,f=0,m=!1,_=!1;if(A){var g=k.SubVV(this.m_v1,this.m_v0,e.s_edge0);g.Normalize(),this.m_normal0.Set(g.y,-g.x),m=k.CrossVV(g,u)>=0,c=k.DotVV(this.m_normal0,k.SubVV(this.m_centroidB,this.m_v0,k.s_t0))}if(l){var d=k.SubVV(this.m_v3,this.m_v2,e.s_edge2);d.Normalize(),this.m_normal2.Set(d.y,-d.x),_=k.CrossVV(u,d)>0,f=k.DotVV(this.m_normal2,k.SubVV(this.m_centroidB,this.m_v2,k.s_t0))}A&&l?m&&_?(this.m_front=c>=0||h>=0||f>=0,this.m_front?(this.m_normal.Copy(this.m_normal1),this.m_lowerLimit.Copy(this.m_normal0),this.m_upperLimit.Copy(this.m_normal2)):(this.m_normal.Copy(this.m_normal1).SelfNeg(),this.m_lowerLimit.Copy(this.m_normal1).SelfNeg(),this.m_upperLimit.Copy(this.m_normal1).SelfNeg())):m?(this.m_front=c>=0||h>=0&&f>=0,this.m_front?(this.m_normal.Copy(this.m_normal1),this.m_lowerLimit.Copy(this.m_normal0),this.m_upperLimit.Copy(this.m_normal1)):(this.m_normal.Copy(this.m_normal1).SelfNeg(),this.m_lowerLimit.Copy(this.m_normal2).SelfNeg(),this.m_upperLimit.Copy(this.m_normal1).SelfNeg())):_?(this.m_front=f>=0||c>=0&&h>=0,this.m_front?(this.m_normal.Copy(this.m_normal1),this.m_lowerLimit.Copy(this.m_normal1),this.m_upperLimit.Copy(this.m_normal2)):(this.m_normal.Copy(this.m_normal1).SelfNeg(),this.m_lowerLimit.Copy(this.m_normal1).SelfNeg(),this.m_upperLimit.Copy(this.m_normal0).SelfNeg())):(this.m_front=c>=0&&h>=0&&f>=0,this.m_front?(this.m_normal.Copy(this.m_normal1),this.m_lowerLimit.Copy(this.m_normal1),this.m_upperLimit.Copy(this.m_normal1)):(this.m_normal.Copy(this.m_normal1).SelfNeg(),this.m_lowerLimit.Copy(this.m_normal2).SelfNeg(),this.m_upperLimit.Copy(this.m_normal0).SelfNeg())):A?m?(this.m_front=c>=0||h>=0,this.m_front?(this.m_normal.Copy(this.m_normal1),this.m_lowerLimit.Copy(this.m_normal0),this.m_upperLimit.Copy(this.m_normal1).SelfNeg()):(this.m_normal.Copy(this.m_normal1).SelfNeg(),this.m_lowerLimit.Copy(this.m_normal1),this.m_upperLimit.Copy(this.m_normal1).SelfNeg())):(this.m_front=c>=0&&h>=0,this.m_front?(this.m_normal.Copy(this.m_normal1),this.m_lowerLimit.Copy(this.m_normal1),this.m_upperLimit.Copy(this.m_normal1).SelfNeg()):(this.m_normal.Copy(this.m_normal1).SelfNeg(),this.m_lowerLimit.Copy(this.m_normal1),this.m_upperLimit.Copy(this.m_normal0).SelfNeg())):l?_?(this.m_front=h>=0||f>=0,this.m_front?(this.m_normal.Copy(this.m_normal1),this.m_lowerLimit.Copy(this.m_normal1).SelfNeg(),this.m_upperLimit.Copy(this.m_normal2)):(this.m_normal.Copy(this.m_normal1).SelfNeg(),this.m_lowerLimit.Copy(this.m_normal1).SelfNeg(),this.m_upperLimit.Copy(this.m_normal1))):(this.m_front=h>=0&&f>=0,this.m_front?(this.m_normal.Copy(this.m_normal1),this.m_lowerLimit.Copy(this.m_normal1).SelfNeg(),this.m_upperLimit.Copy(this.m_normal1)):(this.m_normal.Copy(this.m_normal1).SelfNeg(),this.m_lowerLimit.Copy(this.m_normal2).SelfNeg(),this.m_upperLimit.Copy(this.m_normal1))):(this.m_front=h>=0,this.m_front?(this.m_normal.Copy(this.m_normal1),this.m_lowerLimit.Copy(this.m_normal1).SelfNeg(),this.m_upperLimit.Copy(this.m_normal1).SelfNeg()):(this.m_normal.Copy(this.m_normal1).SelfNeg(),this.m_lowerLimit.Copy(this.m_normal1),this.m_upperLimit.Copy(this.m_normal1))),this.m_polygonB.count=s.m_count;for(var p=0;p<s.m_count;++p)this.m_polygonB.vertices.length<=p&&this.m_polygonB.vertices.push(new k),this.m_polygonB.normals.length<=p&&this.m_polygonB.normals.push(new k),G.MulXV(this.m_xf,s.m_vertices[p],this.m_polygonB.vertices[p]),T.MulRV(this.m_xf.q,s.m_normals[p],this.m_polygonB.normals[p]);this.m_radius=s.m_radius+n.m_radius,i.pointCount=0;var y=this.ComputeEdgeSeparation(e.s_edgeAxis);if(y.type!==Re.e_unknown&&!(y.separation>this.m_radius)){var C=this.ComputePolygonSeparation(e.s_polygonAxis);if(!(C.type!==Re.e_unknown&&C.separation>this.m_radius)){var v,I=e.s_ie,B=e.s_rf;if((v=C.type===Re.e_unknown?y:C.separation>.98*y.separation+.001?C:y).type===Re.e_edgeA){i.type=t.b2ManifoldType.e_faceA;for(var E=0,w=k.DotVV(this.m_normal,this.m_polygonB.normals[0]),b=1;b<this.m_polygonB.count;++b){var x=k.DotVV(this.m_normal,this.m_polygonB.normals[b]);x<w&&(w=x,E=b)}var S=E,Q=(S+1)%this.m_polygonB.count,D=I[0];D.v.Copy(this.m_polygonB.vertices[S]),D.id.cf.indexA=0,D.id.cf.indexB=S,D.id.cf.typeA=t.b2ContactFeatureType.e_face,D.id.cf.typeB=t.b2ContactFeatureType.e_vertex;var M=I[1];M.v.Copy(this.m_polygonB.vertices[Q]),M.id.cf.indexA=0,M.id.cf.indexB=Q,M.id.cf.typeA=t.b2ContactFeatureType.e_face,M.id.cf.typeB=t.b2ContactFeatureType.e_vertex,this.m_front?(B.i1=0,B.i2=1,B.v1.Copy(this.m_v1),B.v2.Copy(this.m_v2),B.normal.Copy(this.m_normal1)):(B.i1=1,B.i2=0,B.v1.Copy(this.m_v2),B.v2.Copy(this.m_v1),B.normal.Copy(this.m_normal1).SelfNeg())}else{i.type=t.b2ManifoldType.e_faceB;var R=I[0];R.v.Copy(this.m_v1),R.id.cf.indexA=0,R.id.cf.indexB=v.index,R.id.cf.typeA=t.b2ContactFeatureType.e_vertex,R.id.cf.typeB=t.b2ContactFeatureType.e_face;var V=I[1];V.v.Copy(this.m_v2),V.id.cf.indexA=0,V.id.cf.indexB=v.index,V.id.cf.typeA=t.b2ContactFeatureType.e_vertex,V.id.cf.typeB=t.b2ContactFeatureType.e_face,B.i1=v.index,B.i2=(B.i1+1)%this.m_polygonB.count,B.v1.Copy(this.m_polygonB.vertices[B.i1]),B.v2.Copy(this.m_polygonB.vertices[B.i2]),B.normal.Copy(this.m_polygonB.normals[B.i1])}B.sideNormal1.Set(B.normal.y,-B.normal.x),B.sideNormal2.Copy(B.sideNormal1).SelfNeg(),B.sideOffset1=k.DotVV(B.sideNormal1,B.v1),B.sideOffset2=k.DotVV(B.sideNormal2,B.v2);var F=e.s_clipPoints1,P=e.s_clipPoints2;if(!(Et(F,I,B.sideNormal1,B.sideOffset1,B.i1)<o||Et(P,F,B.sideNormal2,B.sideOffset2,B.i2)<o)){v.type===Re.e_edgeA?(i.localNormal.Copy(B.normal),i.localPoint.Copy(B.v1)):(i.localNormal.Copy(s.m_normals[B.i1]),i.localPoint.Copy(s.m_vertices[B.i1]));for(var N=0,L=0;L<o;++L){if(k.DotVV(B.normal,k.SubVV(P[L].v,B.v1,k.s_t0))<=this.m_radius){var U=i.points[N];v.type===Re.e_edgeA?(G.MulTXV(this.m_xf,P[L].v,U.localPoint),U.id=P[L].id):(U.localPoint.Copy(P[L].v),U.id.cf.typeA=P[L].id.cf.typeB,U.id.cf.typeB=P[L].id.cf.typeA,U.id.cf.indexA=P[L].id.cf.indexB,U.id.cf.indexB=P[L].id.cf.indexA),++N}}i.pointCount=N}}}}},{key:"ComputeEdgeSeparation",value:function(t){var e=t;e.type=Re.e_edgeA,e.index=this.m_front?0:1,e.separation=i;for(var n=0;n<this.m_polygonB.count;++n){var r=k.DotVV(this.m_normal,k.SubVV(this.m_polygonB.vertices[n],this.m_v1,k.s_t0));r<e.separation&&(e.separation=r)}return e}},{key:"ComputePolygonSeparation",value:function(t){var n=t;n.type=Re.e_unknown,n.index=-1,n.separation=-i;for(var r=e.s_perp.Set(-this.m_normal.y,this.m_normal.x),s=0;s<this.m_polygonB.count;++s){var o=k.NegV(this.m_polygonB.normals[s],e.s_n),a=k.DotVV(o,k.SubVV(this.m_polygonB.vertices[s],this.m_v1,k.s_t0)),A=k.DotVV(o,k.SubVV(this.m_polygonB.vertices[s],this.m_v2,k.s_t0)),u=d(a,A);if(u>this.m_radius)return n.type=Re.e_edgeB,n.index=s,n.separation=u,n;if(k.DotVV(o,r)>=0){if(k.DotVV(k.SubVV(o,this.m_upperLimit,k.s_t0),this.m_normal)<-l)continue}else if(k.DotVV(k.SubVV(o,this.m_lowerLimit,k.s_t0),this.m_normal)<-l)continue;u>n.separation&&(n.type=Re.e_edgeB,n.index=s,n.separation=u)}return n}}]),e}();je.s_edge1=new k,je.s_edge0=new k,je.s_edge2=new k,je.s_ie=yt.MakeArray(2),je.s_rf=new(function(){return function t(){_classCallCheck2(this,t),this.i1=0,this.i2=0,this.v1=new k,this.v2=new k,this.normal=new k,this.sideNormal1=new k,this.sideOffset1=0,this.sideNormal2=new k,this.sideOffset2=0}}()),je.s_clipPoints1=yt.MakeArray(2),je.s_clipPoints2=yt.MakeArray(2),je.s_edgeAxis=new He,je.s_polygonAxis=new He,je.s_n=new k,je.s_perp=new k;var Ke=new je;function qe(t,e,i,n,r){Ke.Collide(t,e,i,n,r)}var ze,Xe,We,Ze,$e=function t(){_classCallCheck2(this,t),this.mass=0,this.center=new k(0,0),this.I=0};(ze=t.b2ShapeType||(t.b2ShapeType={}))[ze.e_unknown=-1]="e_unknown",ze[ze.e_circleShape=0]="e_circleShape",ze[ze.e_edgeShape=1]="e_edgeShape",ze[ze.e_polygonShape=2]="e_polygonShape",ze[ze.e_chainShape=3]="e_chainShape",ze[ze.e_shapeTypeCount=4]="e_shapeTypeCount";var ti=function(){function e(i,n){_classCallCheck2(this,e),this.m_type=t.b2ShapeType.e_unknown,this.m_radius=0,this.m_type=i,this.m_radius=n}return _createClass2(e,[{key:"Copy",value:function(t){return this.m_radius=t.m_radius,this}},{key:"GetType",value:function(){return this.m_type}}]),e}(),ei=function(e){function i(){var e,n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0;return _classCallCheck2(this,i),(e=_possibleConstructorReturn(this,_getPrototypeOf(i).call(this,t.b2ShapeType.e_circleShape,n))).m_p=new k,e}return _inherits(i,e),_createClass2(i,[{key:"Set",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.m_radius;return this.m_p.Copy(t),this.m_radius=e,this}},{key:"Clone",value:function(){return(new i).Copy(this)}},{key:"Copy",value:function(t){return _get(_getPrototypeOf(i.prototype),"Copy",this).call(this,t),this.m_p.Copy(t.m_p),this}},{key:"GetChildCount",value:function(){return 1}},{key:"TestPoint",value:function(t,e){var n=G.MulXV(t,this.m_p,i.TestPoint_s_center),r=k.SubVV(e,n,i.TestPoint_s_d);return k.DotVV(r,r)<=v(this.m_radius)}},{key:"ComputeDistance",value:function(t,e,n,r){var s=G.MulXV(t,this.m_p,i.ComputeDistance_s_center);return k.SubVV(e,s,n),n.Normalize()-this.m_radius}},{key:"RayCast",value:function(t,e,r,s){var o=G.MulXV(r,this.m_p,i.RayCast_s_position),a=k.SubVV(e.p1,o,i.RayCast_s_s),A=k.DotVV(a,a)-v(this.m_radius),l=k.SubVV(e.p2,e.p1,i.RayCast_s_r),u=k.DotVV(a,l),h=k.DotVV(l,l),c=u*u-h*A;if(c<0||h<n)return!1;var f=-(u+B(c));return 0<=f&&f<=e.maxFraction*h&&(t.fraction=f/=h,k.AddVMulSV(a,f,l,t.normal).SelfNormalize(),!0)}},{key:"ComputeAABB",value:function(t,e,n){var r=G.MulXV(e,this.m_p,i.ComputeAABB_s_p);t.lowerBound.Set(r.x-this.m_radius,r.y-this.m_radius),t.upperBound.Set(r.x+this.m_radius,r.y+this.m_radius)}},{key:"ComputeMass",value:function(t,e){var i=v(this.m_radius);t.mass=e*s*i,t.center.Copy(this.m_p),t.I=t.mass*(.5*i+k.DotVV(this.m_p,this.m_p))}},{key:"SetupDistanceProxy",value:function(t,e){t.m_vertices=t.m_buffer,t.m_vertices[0].Copy(this.m_p),t.m_count=1,t.m_radius=this.m_radius}},{key:"ComputeSubmergedArea",value:function(t,e,i,r){var o=G.MulXV(i,this.m_p,new k),a=-(k.DotVV(t,o)-e);if(a<-this.m_radius+n)return 0;if(a>this.m_radius)return r.Copy(o),s*this.m_radius*this.m_radius;var A=this.m_radius*this.m_radius,l=a*a,u=A*(S(a/this.m_radius)+s/2)+a*B(A-l),h=-2/3*E(A-l,1.5)/u;return r.x=o.x+t.x*h,r.y=o.y+t.y*h,u}},{key:"Dump",value:function(t){t("    const shape: b2CircleShape = new b2CircleShape();\n"),t("    shape.m_radius = %.15f;\n",this.m_radius),t("    shape.m_p.Set(%.15f, %.15f);\n",this.m_p.x,this.m_p.y)}}]),i}(ti);ei.TestPoint_s_center=new k,ei.TestPoint_s_d=new k,ei.ComputeDistance_s_center=new k,ei.RayCast_s_position=new k,ei.RayCast_s_s=new k,ei.RayCast_s_r=new k,ei.ComputeAABB_s_p=new k;var ii=function(e){function r(){var e;return _classCallCheck2(this,r),(e=_possibleConstructorReturn(this,_getPrototypeOf(r).call(this,t.b2ShapeType.e_polygonShape,u))).m_centroid=new k(0,0),e.m_vertices=[],e.m_normals=[],e.m_count=0,e}return _inherits(r,e),_createClass2(r,[{key:"Clone",value:function(){return(new r).Copy(this)}},{key:"Copy",value:function(t){_get(_getPrototypeOf(r.prototype),"Copy",this).call(this,t),this.m_centroid.Copy(t.m_centroid),this.m_count=t.m_count,this.m_vertices=k.MakeArray(this.m_count),this.m_normals=k.MakeArray(this.m_count);for(var e=0;e<this.m_count;++e)this.m_vertices[e].Copy(t.m_vertices[e]),this.m_normals[e].Copy(t.m_normals[e]);return this}},{key:"GetChildCount",value:function(){return 1}},{key:"Set",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:t.length,i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;if(e<3)return this.SetAsBox(1,1);for(var n=e,s=[],o=0;o<n;++o){for(var a=t[i+o],l=!0,u=0;u<s.length;++u)if(k.DistanceSquaredVV(a,s[u])<.5*A*(.5*A)){l=!1;break}l&&s.push(a)}if((n=s.length)<3)return this.SetAsBox(1,1);for(var h=0,c=s[0].x,f=1;f<n;++f){var m=s[f].x;(m>c||m===c&&s[f].y<s[h].y)&&(h=f,c=m)}for(var _=[],g=0,d=h;;){_[g]=d;for(var p=0,y=1;y<n;++y)if(p!==d){var C=k.SubVV(s[p],s[_[g]],r.Set_s_r),v=k.SubVV(s[y],s[_[g]],r.Set_s_v),I=k.CrossVV(C,v);I<0&&(p=y),0===I&&v.LengthSquared()>C.LengthSquared()&&(p=y)}else p=y;if(++g,d=p,p===h)break}this.m_count=g,this.m_vertices=k.MakeArray(this.m_count),this.m_normals=k.MakeArray(this.m_count);for(var B=0;B<g;++B)this.m_vertices[B].Copy(s[_[B]]);for(var E=0;E<g;++E){var w=k.SubVV(this.m_vertices[(E+1)%g],this.m_vertices[E],k.s_t0);k.CrossVOne(w,this.m_normals[E]).SelfNormalize()}return r.ComputeCentroid(this.m_vertices,g,this.m_centroid),this}},{key:"SetAsArray",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:t.length;return this.Set(t,e)}},{key:"SetAsBox",value:function(t,e,i){var n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:0;if(this.m_count=4,this.m_vertices=k.MakeArray(this.m_count),this.m_normals=k.MakeArray(this.m_count),this.m_vertices[0].Set(-t,-e),this.m_vertices[1].Set(t,-e),this.m_vertices[2].Set(t,e),this.m_vertices[3].Set(-t,e),this.m_normals[0].Set(0,-1),this.m_normals[1].Set(1,0),this.m_normals[2].Set(0,1),this.m_normals[3].Set(-1,0),this.m_centroid.SetZero(),i){this.m_centroid.Copy(i);var r=new G;r.SetPosition(i),r.SetRotationAngle(n);for(var s=0;s<this.m_count;++s)G.MulXV(r,this.m_vertices[s],this.m_vertices[s]),T.MulRV(r.q,this.m_normals[s],this.m_normals[s])}return this}},{key:"TestPoint",value:function(t,e){for(var i=G.MulTXV(t,e,r.TestPoint_s_pLocal),n=0;n<this.m_count;++n)if(k.DotVV(this.m_normals[n],k.SubVV(i,this.m_vertices[n],k.s_t0))>0)return!1;return!0}},{key:"ComputeDistance",value:function(t,e,n,s){for(var o=G.MulTXV(t,e,r.ComputeDistance_s_pLocal),a=-i,A=r.ComputeDistance_s_normalForMaxDistance.Copy(o),l=0;l<this.m_count;++l){var u=k.DotVV(this.m_normals[l],k.SubVV(o,this.m_vertices[l],k.s_t0));u>a&&(a=u,A.Copy(this.m_normals[l]))}if(a>0){for(var h=r.ComputeDistance_s_minDistance.Copy(A),c=a*a,f=0;f<this.m_count;++f){var m=k.SubVV(o,this.m_vertices[f],r.ComputeDistance_s_distance),_=m.LengthSquared();c>_&&(h.Copy(m),c=_)}return T.MulRV(t.q,h,n),n.Normalize(),Math.sqrt(c)}return T.MulRV(t.q,A,n),a}},{key:"RayCast",value:function(t,e,i,n){for(var s=G.MulTXV(i,e.p1,r.RayCast_s_p1),o=G.MulTXV(i,e.p2,r.RayCast_s_p2),a=k.SubVV(o,s,r.RayCast_s_d),A=0,l=e.maxFraction,u=-1,h=0;h<this.m_count;++h){var c=k.DotVV(this.m_normals[h],k.SubVV(this.m_vertices[h],s,k.s_t0)),f=k.DotVV(this.m_normals[h],a);if(0===f){if(c<0)return!1}else f<0&&c<A*f?(A=c/f,u=h):f>0&&c<l*f&&(l=c/f);if(l<A)return!1}return u>=0&&(t.fraction=A,T.MulRV(i.q,this.m_normals[u],t.normal),!0)}},{key:"ComputeAABB",value:function(t,e,i){for(var n=G.MulXV(e,this.m_vertices[0],t.lowerBound),s=t.upperBound.Copy(n),o=0;o<this.m_count;++o){var a=G.MulXV(e,this.m_vertices[o],r.ComputeAABB_s_v);k.MinV(a,n,n),k.MaxV(a,s,s)}var A=this.m_radius;n.SelfSubXY(A,A),s.SelfAddXY(A,A)}},{key:"ComputeMass",value:function(t,e){for(var i=r.ComputeMass_s_center.SetZero(),n=0,s=0,o=r.ComputeMass_s_s.SetZero(),a=0;a<this.m_count;++a)o.SelfAdd(this.m_vertices[a]);o.SelfMul(1/this.m_count);for(var A=0;A<this.m_count;++A){var l=k.SubVV(this.m_vertices[A],o,r.ComputeMass_s_e1),u=k.SubVV(this.m_vertices[(A+1)%this.m_count],o,r.ComputeMass_s_e2),h=k.CrossVV(l,u),c=.5*h;n+=c,i.SelfAdd(k.MulSV(c*(1/3),k.AddVV(l,u,k.s_t0),k.s_t1));var f=l.x,m=l.y,_=u.x,g=u.y;s+=1/3*.25*h*(f*f+_*f+_*_+(m*m+g*m+g*g))}t.mass=e*n,i.SelfMul(1/n),k.AddVV(i,o,t.center),t.I=e*s,t.I+=t.mass*(k.DotVV(t.center,t.center)-k.DotVV(i,i))}},{key:"Validate",value:function(){for(var t=0;t<this.m_count;++t)for(var e=t,i=(t+1)%this.m_count,n=this.m_vertices[e],s=k.SubVV(this.m_vertices[i],n,r.Validate_s_e),o=0;o<this.m_count;++o)if(o!==e&&o!==i){var a=k.SubVV(this.m_vertices[o],n,r.Validate_s_v);if(k.CrossVV(s,a)<0)return!1}return!0}},{key:"SetupDistanceProxy",value:function(t,e){t.m_vertices=this.m_vertices,t.m_count=this.m_count,t.m_radius=this.m_radius}},{key:"ComputeSubmergedArea",value:function(t,e,i,s){for(var o=T.MulTRV(i.q,t,r.ComputeSubmergedArea_s_normalL),a=e-k.DotVV(t,i.p),A=[],l=0,u=-1,h=-1,c=!1,f=0;f<this.m_count;++f){A[f]=k.DotVV(o,this.m_vertices[f])-a;var m=A[f]<-n;f>0&&(m?c||(u=f-1,l++):c&&(h=f-1,l++)),c=m}switch(l){case 0:if(c){var _=r.ComputeSubmergedArea_s_md;return this.ComputeMass(_,1),G.MulXV(i,_.center,s),_.mass}return 0;case 1:-1===u?u=this.m_count-1:h=this.m_count-1}for(var g,d=(u+1)%this.m_count,p=(h+1)%this.m_count,y=(0-A[u])/(A[d]-A[u]),C=(0-A[h])/(A[p]-A[h]),v=r.ComputeSubmergedArea_s_intoVec.Set(this.m_vertices[u].x*(1-y)+this.m_vertices[d].x*y,this.m_vertices[u].y*(1-y)+this.m_vertices[d].y*y),I=r.ComputeSubmergedArea_s_outoVec.Set(this.m_vertices[h].x*(1-C)+this.m_vertices[p].x*C,this.m_vertices[h].y*(1-C)+this.m_vertices[p].y*C),B=0,E=r.ComputeSubmergedArea_s_center.SetZero(),w=this.m_vertices[d],b=d;b!==p;){var x=.5*((w.x-v.x)*((g=(b=(b+1)%this.m_count)===p?I:this.m_vertices[b]).y-v.y)-(w.y-v.y)*(g.x-v.x));B+=x,E.x+=x*(v.x+w.x+g.x)/3,E.y+=x*(v.y+w.y+g.y)/3,w=g}return E.SelfMul(1/B),G.MulXV(i,E,s),B}},{key:"Dump",value:function(t){t("    const shape: b2PolygonShape = new b2PolygonShape();\n"),t("    const vs: b2Vec2[] = [];\n");for(var e=0;e<this.m_count;++e)t("    vs[%d] = new b2Vec2(%.15f, %.15f);\n",e,this.m_vertices[e].x,this.m_vertices[e].y);t("    shape.Set(vs, %d);\n",this.m_count)}}],[{key:"ComputeCentroid",value:function(t,e,i){var n=i;n.SetZero();for(var s=0,o=r.ComputeCentroid_s_pRef.SetZero(),a=0;a<e;++a){var A=o,l=t[a],u=t[(a+1)%e],h=k.SubVV(l,A,r.ComputeCentroid_s_e1),c=k.SubVV(u,A,r.ComputeCentroid_s_e2),f=.5*k.CrossVV(h,c);s+=f,n.x+=f*(1/3)*(A.x+l.x+u.x),n.y+=f*(1/3)*(A.y+l.y+u.y)}return n.SelfMul(1/s),n}}]),r}(ti);ii.Set_s_r=new k,ii.Set_s_v=new k,ii.TestPoint_s_pLocal=new k,ii.ComputeDistance_s_pLocal=new k,ii.ComputeDistance_s_normalForMaxDistance=new k,ii.ComputeDistance_s_minDistance=new k,ii.ComputeDistance_s_distance=new k,ii.RayCast_s_p1=new k,ii.RayCast_s_p2=new k,ii.RayCast_s_d=new k,ii.ComputeAABB_s_v=new k,ii.ComputeMass_s_center=new k,ii.ComputeMass_s_s=new k,ii.ComputeMass_s_e1=new k,ii.ComputeMass_s_e2=new k,ii.Validate_s_e=new k,ii.Validate_s_v=new k,ii.ComputeSubmergedArea_s_normalL=new k,ii.ComputeSubmergedArea_s_md=new $e,ii.ComputeSubmergedArea_s_intoVec=new k,ii.ComputeSubmergedArea_s_outoVec=new k,ii.ComputeSubmergedArea_s_center=new k,ii.ComputeCentroid_s_pRef=new k,ii.ComputeCentroid_s_e1=new k,ii.ComputeCentroid_s_e2=new k;var ni=function(e){function i(){var e;return _classCallCheck2(this,i),(e=_possibleConstructorReturn(this,_getPrototypeOf(i).call(this,t.b2ShapeType.e_edgeShape,u))).m_vertex1=new k,e.m_vertex2=new k,e.m_vertex0=new k,e.m_vertex3=new k,e.m_hasVertex0=!1,e.m_hasVertex3=!1,e}return _inherits(i,e),_createClass2(i,[{key:"Set",value:function(t,e){return this.m_vertex1.Copy(t),this.m_vertex2.Copy(e),this.m_hasVertex0=!1,this.m_hasVertex3=!1,this}},{key:"Clone",value:function(){return(new i).Copy(this)}},{key:"Copy",value:function(t){return _get(_getPrototypeOf(i.prototype),"Copy",this).call(this,t),this.m_vertex1.Copy(t.m_vertex1),this.m_vertex2.Copy(t.m_vertex2),this.m_vertex0.Copy(t.m_vertex0),this.m_vertex3.Copy(t.m_vertex3),this.m_hasVertex0=t.m_hasVertex0,this.m_hasVertex3=t.m_hasVertex3,this}},{key:"GetChildCount",value:function(){return 1}},{key:"TestPoint",value:function(t,e){return!1}},{key:"ComputeDistance",value:function(t,e,n,r){var s=G.MulXV(t,this.m_vertex1,i.ComputeDistance_s_v1),o=G.MulXV(t,this.m_vertex2,i.ComputeDistance_s_v2),a=k.SubVV(e,s,i.ComputeDistance_s_d),A=k.SubVV(o,s,i.ComputeDistance_s_s),l=k.DotVV(a,A);if(l>0){var u=k.DotVV(A,A);l>u?k.SubVV(e,o,a):a.SelfMulSub(l/u,A)}return n.Copy(a),n.Normalize()}},{key:"RayCast",value:function(t,e,n,r){var s=G.MulTXV(n,e.p1,i.RayCast_s_p1),o=G.MulTXV(n,e.p2,i.RayCast_s_p2),a=k.SubVV(o,s,i.RayCast_s_d),A=this.m_vertex1,l=this.m_vertex2,u=k.SubVV(l,A,i.RayCast_s_e),h=t.normal.Set(u.y,-u.x).SelfNormalize(),c=k.DotVV(h,k.SubVV(A,s,k.s_t0)),f=k.DotVV(h,a);if(0===f)return!1;var m=c/f;if(m<0||e.maxFraction<m)return!1;var _=k.AddVMulSV(s,m,a,i.RayCast_s_q),g=k.SubVV(l,A,i.RayCast_s_r),d=k.DotVV(g,g);if(0===d)return!1;var p=k.DotVV(k.SubVV(_,A,k.s_t0),g)/d;return!(p<0||1<p||(t.fraction=m,T.MulRV(n.q,t.normal,t.normal),c>0&&t.normal.SelfNeg(),0))}},{key:"ComputeAABB",value:function(t,e,n){var r=G.MulXV(e,this.m_vertex1,i.ComputeAABB_s_v1),s=G.MulXV(e,this.m_vertex2,i.ComputeAABB_s_v2);k.MinV(r,s,t.lowerBound),k.MaxV(r,s,t.upperBound);var o=this.m_radius;t.lowerBound.SelfSubXY(o,o),t.upperBound.SelfAddXY(o,o)}},{key:"ComputeMass",value:function(t,e){t.mass=0,k.MidVV(this.m_vertex1,this.m_vertex2,t.center),t.I=0}},{key:"SetupDistanceProxy",value:function(t,e){t.m_vertices=t.m_buffer,t.m_vertices[0].Copy(this.m_vertex1),t.m_vertices[1].Copy(this.m_vertex2),t.m_count=2,t.m_radius=this.m_radius}},{key:"ComputeSubmergedArea",value:function(t,e,i,n){return n.SetZero(),0}},{key:"Dump",value:function(t){t("    const shape: b2EdgeShape = new b2EdgeShape();\n"),t("    shape.m_radius = %.15f;\n",this.m_radius),t("    shape.m_vertex0.Set(%.15f, %.15f);\n",this.m_vertex0.x,this.m_vertex0.y),t("    shape.m_vertex1.Set(%.15f, %.15f);\n",this.m_vertex1.x,this.m_vertex1.y),t("    shape.m_vertex2.Set(%.15f, %.15f);\n",this.m_vertex2.x,this.m_vertex2.y),t("    shape.m_vertex3.Set(%.15f, %.15f);\n",this.m_vertex3.x,this.m_vertex3.y),t("    shape.m_hasVertex0 = %s;\n",this.m_hasVertex0),t("    shape.m_hasVertex3 = %s;\n",this.m_hasVertex3)}}]),i}(ti);ni.ComputeDistance_s_v1=new k,ni.ComputeDistance_s_v2=new k,ni.ComputeDistance_s_d=new k,ni.ComputeDistance_s_s=new k,ni.RayCast_s_p1=new k,ni.RayCast_s_p2=new k,ni.RayCast_s_d=new k,ni.RayCast_s_e=new k,ni.RayCast_s_q=new k,ni.RayCast_s_r=new k,ni.ComputeAABB_s_v1=new k,ni.ComputeAABB_s_v2=new k;var ri=function(e){function i(){var e;return _classCallCheck2(this,i),(e=_possibleConstructorReturn(this,_getPrototypeOf(i).call(this,t.b2ShapeType.e_chainShape,u))).m_vertices=[],e.m_count=0,e.m_prevVertex=new k,e.m_nextVertex=new k,e.m_hasPrevVertex=!1,e.m_hasNextVertex=!1,e}return _inherits(i,e),_createClass2(i,[{key:"CreateLoop",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:t.length,i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;if(e<3)return this;this.m_count=e+1,this.m_vertices=k.MakeArray(this.m_count);for(var n=0;n<e;++n)this.m_vertices[n].Copy(t[i+n]);return this.m_vertices[e].Copy(this.m_vertices[0]),this.m_prevVertex.Copy(this.m_vertices[this.m_count-2]),this.m_nextVertex.Copy(this.m_vertices[1]),this.m_hasPrevVertex=!0,this.m_hasNextVertex=!0,this}},{key:"CreateChain",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:t.length,i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;this.m_count=e,this.m_vertices=k.MakeArray(e);for(var n=0;n<e;++n)this.m_vertices[n].Copy(t[i+n]);return this.m_hasPrevVertex=!1,this.m_hasNextVertex=!1,this.m_prevVertex.SetZero(),this.m_nextVertex.SetZero(),this}},{key:"SetPrevVertex",value:function(t){return this.m_prevVertex.Copy(t),this.m_hasPrevVertex=!0,this}},{key:"SetNextVertex",value:function(t){return this.m_nextVertex.Copy(t),this.m_hasNextVertex=!0,this}},{key:"Clone",value:function(){return(new i).Copy(this)}},{key:"Copy",value:function(t){return _get(_getPrototypeOf(i.prototype),"Copy",this).call(this,t),this.CreateChain(t.m_vertices,t.m_count),this.m_prevVertex.Copy(t.m_prevVertex),this.m_nextVertex.Copy(t.m_nextVertex),this.m_hasPrevVertex=t.m_hasPrevVertex,this.m_hasNextVertex=t.m_hasNextVertex,this}},{key:"GetChildCount",value:function(){return this.m_count-1}},{key:"GetChildEdge",value:function(e,i){e.m_type=t.b2ShapeType.e_edgeShape,e.m_radius=this.m_radius,e.m_vertex1.Copy(this.m_vertices[i]),e.m_vertex2.Copy(this.m_vertices[i+1]),i>0?(e.m_vertex0.Copy(this.m_vertices[i-1]),e.m_hasVertex0=!0):(e.m_vertex0.Copy(this.m_prevVertex),e.m_hasVertex0=this.m_hasPrevVertex),i<this.m_count-2?(e.m_vertex3.Copy(this.m_vertices[i+2]),e.m_hasVertex3=!0):(e.m_vertex3.Copy(this.m_nextVertex),e.m_hasVertex3=this.m_hasNextVertex)}},{key:"TestPoint",value:function(t,e){return!1}},{key:"ComputeDistance",value:function(t,e,n,r){var s=i.ComputeDistance_s_edgeShape;return this.GetChildEdge(s,r),s.ComputeDistance(t,e,n,0)}},{key:"RayCast",value:function(t,e,n,r){var s=i.RayCast_s_edgeShape;return s.m_vertex1.Copy(this.m_vertices[r]),s.m_vertex2.Copy(this.m_vertices[(r+1)%this.m_count]),s.RayCast(t,e,n,0)}},{key:"ComputeAABB",value:function(t,e,n){var r=this.m_vertices[(n+1)%this.m_count],s=G.MulXV(e,this.m_vertices[n],i.ComputeAABB_s_v1),o=G.MulXV(e,r,i.ComputeAABB_s_v2);k.MinV(s,o,t.lowerBound),k.MaxV(s,o,t.upperBound)}},{key:"ComputeMass",value:function(t,e){t.mass=0,t.center.SetZero(),t.I=0}},{key:"SetupDistanceProxy",value:function(t,e){t.m_vertices=t.m_buffer,t.m_vertices[0].Copy(this.m_vertices[e]),t.m_vertices[1].Copy(e+1<this.m_count?this.m_vertices[e+1]:this.m_vertices[0]),t.m_count=2,t.m_radius=this.m_radius}},{key:"ComputeSubmergedArea",value:function(t,e,i,n){return n.SetZero(),0}},{key:"Dump",value:function(t){t("    const shape: b2ChainShape = new b2ChainShape();\n"),t("    const vs: b2Vec2[] = [];\n");for(var e=0;e<this.m_count;++e)t("    vs[%d] = new bVec2(%.15f, %.15f);\n",e,this.m_vertices[e].x,this.m_vertices[e].y);t("    shape.CreateChain(vs, %d);\n",this.m_count),t("    shape.m_prevVertex.Set(%.15f, %.15f);\n",this.m_prevVertex.x,this.m_prevVertex.y),t("    shape.m_nextVertex.Set(%.15f, %.15f);\n",this.m_nextVertex.x,this.m_nextVertex.y),t("    shape.m_hasPrevVertex = %s;\n",this.m_hasPrevVertex?"true":"false"),t("    shape.m_hasNextVertex = %s;\n",this.m_hasNextVertex?"true":"false")}}]),i}(ti);ri.ComputeDistance_s_edgeShape=new ni,ri.RayCast_s_edgeShape=new ni,ri.ComputeAABB_s_v1=new k,ri.ComputeAABB_s_v2=new k;var si=function(){function t(){_classCallCheck2(this,t),this.categoryBits=1,this.maskBits=65535,this.groupIndex=0}return _createClass2(t,[{key:"Clone",value:function(){return(new t).Copy(this)}},{key:"Copy",value:function(t){return this.categoryBits=t.categoryBits,this.maskBits=t.maskBits,this.groupIndex=t.groupIndex||0,this}}]),t}();si.DEFAULT=new si;var oi=function t(){_classCallCheck2(this,t),this.userData=null,this.friction=.2,this.restitution=0,this.density=0,this.isSensor=!1,this.filter=new si},ai=function t(e){_classCallCheck2(this,t),this.aabb=new It,this.childIndex=0,this.fixture=e},Ai=function(){function t(e,i){_classCallCheck2(this,t),this.m_density=0,this.m_next=null,this.m_friction=0,this.m_restitution=0,this.m_proxies=[],this.m_proxyCount=0,this.m_filter=new si,this.m_isSensor=!1,this.m_userData=null,this.m_body=i,this.m_shape=e.shape.Clone()}return _createClass2(t,[{key:"GetType",value:function(){return this.m_shape.GetType()}},{key:"GetShape",value:function(){return this.m_shape}},{key:"SetSensor",value:function(t){t!==this.m_isSensor&&(this.m_body.SetAwake(!0),this.m_isSensor=t)}},{key:"IsSensor",value:function(){return this.m_isSensor}},{key:"SetFilterData",value:function(t){this.m_filter.Copy(t),this.Refilter()}},{key:"GetFilterData",value:function(){return this.m_filter}},{key:"Refilter",value:function(){for(var t=this.m_body.GetContactList();t;){var e=t.contact,i=e.GetFixtureA(),n=e.GetFixtureB();i!==this&&n!==this||e.FlagForFiltering(),t=t.next}var r=this.m_body.GetWorld();if(null!==r)for(var s=r.m_contactManager.m_broadPhase,o=0;o<this.m_proxyCount;++o)s.TouchProxy(this.m_proxies[o].treeNode)}},{key:"GetBody",value:function(){return this.m_body}},{key:"GetNext",value:function(){return this.m_next}},{key:"GetUserData",value:function(){return this.m_userData}},{key:"SetUserData",value:function(t){this.m_userData=t}},{key:"TestPoint",value:function(t){return this.m_shape.TestPoint(this.m_body.GetTransform(),t)}},{key:"ComputeDistance",value:function(t,e,i){return this.m_shape.ComputeDistance(this.m_body.GetTransform(),t,e,i)}},{key:"RayCast",value:function(t,e,i){return this.m_shape.RayCast(t,e,this.m_body.GetTransform(),i)}},{key:"GetMassData",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:new $e;return this.m_shape.ComputeMass(t,this.m_density),t}},{key:"SetDensity",value:function(t){this.m_density=t}},{key:"GetDensity",value:function(){return this.m_density}},{key:"GetFriction",value:function(){return this.m_friction}},{key:"SetFriction",value:function(t){this.m_friction=t}},{key:"GetRestitution",value:function(){return this.m_restitution}},{key:"SetRestitution",value:function(t){this.m_restitution=t}},{key:"GetAABB",value:function(t){return this.m_proxies[t].aabb}},{key:"Dump",value:function(t,e){t("    const fd: b2FixtureDef = new b2FixtureDef();\n"),t("    fd.friction = %.15f;\n",this.m_friction),t("    fd.restitution = %.15f;\n",this.m_restitution),t("    fd.density = %.15f;\n",this.m_density),t("    fd.isSensor = %s;\n",this.m_isSensor?"true":"false"),t("    fd.filter.categoryBits = %d;\n",this.m_filter.categoryBits),t("    fd.filter.maskBits = %d;\n",this.m_filter.maskBits),t("    fd.filter.groupIndex = %d;\n",this.m_filter.groupIndex),this.m_shape.Dump(t),t("\n"),t("    fd.shape = shape;\n"),t("\n"),t("    bodies[%d].CreateFixture(fd);\n",e)}},{key:"Create",value:function(t){var i=this;this.m_userData=t.userData,this.m_friction=e(t.friction,.2),this.m_restitution=e(t.restitution,0),this.m_next=null,this.m_filter.Copy(e(t.filter,si.DEFAULT)),this.m_isSensor=e(t.isSensor,!1),this.m_proxies=m(this.m_shape.GetChildCount(),(function(t){return new ai(i)})),this.m_proxyCount=0,this.m_density=e(t.density,0)}},{key:"Destroy",value:function(){}},{key:"CreateProxies",value:function(t){var e=this.m_body.m_world.m_contactManager.m_broadPhase;this.m_proxyCount=this.m_shape.GetChildCount();for(var i=0;i<this.m_proxyCount;++i){var n=this.m_proxies[i]=new ai(this);this.m_shape.ComputeAABB(n.aabb,t,i),n.treeNode=e.CreateProxy(n.aabb,n),n.childIndex=i}}},{key:"DestroyProxies",value:function(){for(var t=this.m_body.m_world.m_contactManager.m_broadPhase,e=0;e<this.m_proxyCount;++e){var i=this.m_proxies[e];delete i.treeNode.userData,t.DestroyProxy(i.treeNode),delete i.treeNode}this.m_proxyCount=0}},{key:"TouchProxies",value:function(){for(var t=this.m_body.m_world.m_contactManager.m_broadPhase,e=this.m_proxyCount,i=0;i<e;++i)t.TouchProxy(this.m_proxies[i].treeNode)}},{key:"Synchronize",value:function(e,i){if(0!==this.m_proxyCount)for(var n=this.m_body.m_world.m_contactManager.m_broadPhase,r=0;r<this.m_proxyCount;++r){var s=this.m_proxies[r],o=t.Synchronize_s_aabb1,a=t.Synchronize_s_aabb2;this.m_shape.ComputeAABB(o,e,r),this.m_shape.ComputeAABB(a,i,r),s.aabb.Combine2(o,a);var A=k.SubVV(i.p,e.p,t.Synchronize_s_displacement);n.MoveProxy(s.treeNode,s.aabb,A)}}}]),t}();Ai.Synchronize_s_aabb1=new It,Ai.Synchronize_s_aabb2=new It,Ai.Synchronize_s_displacement=new k,(Xe=t.b2BodyType||(t.b2BodyType={}))[Xe.b2_unknown=-1]="b2_unknown",Xe[Xe.b2_staticBody=0]="b2_staticBody",Xe[Xe.b2_kinematicBody=1]="b2_kinematicBody",Xe[Xe.b2_dynamicBody=2]="b2_dynamicBody";var li=function(){function i(n,r){_classCallCheck2(this,i),this.m_type=t.b2BodyType.b2_staticBody,this.m_islandFlag=!1,this.m_awakeFlag=!1,this.m_autoSleepFlag=!1,this.m_bulletFlag=!1,this.m_fixedRotationFlag=!1,this.m_activeFlag=!1,this.m_toiFlag=!1,this.m_islandIndex=0,this.m_xf=new G,this.m_xf0=new G,this.m_sweep=new P,this.m_linearVelocity=new k,this.m_angularVelocity=0,this.m_force=new k,this.m_torque=0,this.m_prev=null,this.m_next=null,this.m_fixtureList=null,this.m_fixtureCount=0,this.m_jointList=null,this.m_contactList=null,this.m_mass=1,this.m_invMass=1,this.m_I=0,this.m_invI=0,this.m_linearDamping=0,this.m_angularDamping=0,this.m_gravityScale=1,this.m_sleepTime=0,this.m_userData=null,this.m_controllerList=null,this.m_controllerCount=0,this.m_bulletFlag=e(n.bullet,!1),this.m_fixedRotationFlag=e(n.fixedRotation,!1),this.m_autoSleepFlag=e(n.allowSleep,!0),this.m_awakeFlag=e(n.awake,!0),this.m_activeFlag=e(n.active,!0),this.m_world=r,this.m_xf.p.Copy(e(n.position,k.ZERO)),this.m_xf.q.SetAngle(e(n.angle,0)),this.m_xf0.Copy(this.m_xf),this.m_sweep.localCenter.SetZero(),this.m_sweep.c0.Copy(this.m_xf.p),this.m_sweep.c.Copy(this.m_xf.p),this.m_sweep.a0=this.m_sweep.a=this.m_xf.q.GetAngle(),this.m_sweep.alpha0=0,this.m_linearVelocity.Copy(e(n.linearVelocity,k.ZERO)),this.m_angularVelocity=e(n.angularVelocity,0),this.m_linearDamping=e(n.linearDamping,0),this.m_angularDamping=e(n.angularDamping,0),this.m_gravityScale=e(n.gravityScale,1),this.m_force.SetZero(),this.m_torque=0,this.m_sleepTime=0,this.m_type=e(n.type,t.b2BodyType.b2_staticBody),n.type===t.b2BodyType.b2_dynamicBody?(this.m_mass=1,this.m_invMass=1):(this.m_mass=0,this.m_invMass=0),this.m_I=0,this.m_invI=0,this.m_userData=n.userData,this.m_fixtureList=null,this.m_fixtureCount=0,this.m_controllerList=null,this.m_controllerCount=0}return _createClass2(i,[{key:"CreateFixture",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return t instanceof ti?this.CreateFixtureShapeDensity(t,e):this.CreateFixtureDef(t)}},{key:"CreateFixtureDef",value:function(t){if(this.m_world.IsLocked())throw new Error;var e=new Ai(t,this);return e.Create(t),this.m_activeFlag&&e.CreateProxies(this.m_xf),e.m_next=this.m_fixtureList,this.m_fixtureList=e,++this.m_fixtureCount,e.m_density>0&&this.ResetMassData(),this.m_world.m_newFixture=!0,e}},{key:"CreateFixtureShapeDensity",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=i.CreateFixtureShapeDensity_s_def;return n.shape=t,n.density=e,this.CreateFixtureDef(n)}},{key:"DestroyFixture",value:function(t){if(this.m_world.IsLocked())throw new Error;for(var e=this.m_fixtureList,i=null;null!==e;){if(e===t){i?i.m_next=t.m_next:this.m_fixtureList=t.m_next;break}i=e,e=e.m_next}for(var n=this.m_contactList;n;){var r=n.contact;n=n.next;var s=r.GetFixtureA(),o=r.GetFixtureB();t!==s&&t!==o||this.m_world.m_contactManager.Destroy(r)}this.m_activeFlag&&t.DestroyProxies(),t.m_next=null,t.Destroy(),--this.m_fixtureCount,this.ResetMassData()}},{key:"SetTransformVec",value:function(t,e){this.SetTransformXY(t.x,t.y,e)}},{key:"SetTransformXY",value:function(t,e,i){if(this.m_world.IsLocked())throw new Error;this.m_xf.q.SetAngle(i),this.m_xf.p.Set(t,e),this.m_xf0.Copy(this.m_xf),G.MulXV(this.m_xf,this.m_sweep.localCenter,this.m_sweep.c),this.m_sweep.a=i,this.m_sweep.c0.Copy(this.m_sweep.c),this.m_sweep.a0=i;for(var n=this.m_fixtureList;n;n=n.m_next)n.Synchronize(this.m_xf,this.m_xf);this.m_world.m_contactManager.FindNewContacts()}},{key:"SetTransform",value:function(t){this.SetTransformVec(t.p,t.GetAngle())}},{key:"GetTransform",value:function(){return this.m_xf}},{key:"GetPosition",value:function(){return this.m_xf.p}},{key:"SetPosition",value:function(t){this.SetTransformVec(t,this.GetAngle())}},{key:"SetPositionXY",value:function(t,e){this.SetTransformXY(t,e,this.GetAngle())}},{key:"GetAngle",value:function(){return this.m_sweep.a}},{key:"SetAngle",value:function(t){this.SetTransformVec(this.GetPosition(),t)}},{key:"GetWorldCenter",value:function(){return this.m_sweep.c}},{key:"GetLocalCenter",value:function(){return this.m_sweep.localCenter}},{key:"SetLinearVelocity",value:function(e){this.m_type!==t.b2BodyType.b2_staticBody&&(k.DotVV(e,e)>0&&this.SetAwake(!0),this.m_linearVelocity.Copy(e))}},{key:"GetLinearVelocity",value:function(){return this.m_linearVelocity}},{key:"SetAngularVelocity",value:function(e){this.m_type!==t.b2BodyType.b2_staticBody&&(e*e>0&&this.SetAwake(!0),this.m_angularVelocity=e)}},{key:"GetAngularVelocity",value:function(){return this.m_angularVelocity}},{key:"GetDefinition",value:function(t){return t.type=this.GetType(),t.allowSleep=this.m_autoSleepFlag,t.angle=this.GetAngle(),t.angularDamping=this.m_angularDamping,t.gravityScale=this.m_gravityScale,t.angularVelocity=this.m_angularVelocity,t.fixedRotation=this.m_fixedRotationFlag,t.bullet=this.m_bulletFlag,t.awake=this.m_awakeFlag,t.linearDamping=this.m_linearDamping,t.linearVelocity.Copy(this.GetLinearVelocity()),t.position.Copy(this.GetPosition()),t.userData=this.GetUserData(),t}},{key:"ApplyForce",value:function(e,i){var n=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];this.m_type===t.b2BodyType.b2_dynamicBody&&(n&&!this.m_awakeFlag&&this.SetAwake(!0),this.m_awakeFlag&&(this.m_force.x+=e.x,this.m_force.y+=e.y,this.m_torque+=(i.x-this.m_sweep.c.x)*e.y-(i.y-this.m_sweep.c.y)*e.x))}},{key:"ApplyForceToCenter",value:function(e){var i=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];this.m_type===t.b2BodyType.b2_dynamicBody&&(i&&!this.m_awakeFlag&&this.SetAwake(!0),this.m_awakeFlag&&(this.m_force.x+=e.x,this.m_force.y+=e.y))}},{key:"ApplyTorque",value:function(e){var i=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];this.m_type===t.b2BodyType.b2_dynamicBody&&(i&&!this.m_awakeFlag&&this.SetAwake(!0),this.m_awakeFlag&&(this.m_torque+=e))}},{key:"ApplyLinearImpulse",value:function(e,i){var n=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];this.m_type===t.b2BodyType.b2_dynamicBody&&(n&&!this.m_awakeFlag&&this.SetAwake(!0),this.m_awakeFlag&&(this.m_linearVelocity.x+=this.m_invMass*e.x,this.m_linearVelocity.y+=this.m_invMass*e.y,this.m_angularVelocity+=this.m_invI*((i.x-this.m_sweep.c.x)*e.y-(i.y-this.m_sweep.c.y)*e.x)))}},{key:"ApplyLinearImpulseToCenter",value:function(e){var i=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];this.m_type===t.b2BodyType.b2_dynamicBody&&(i&&!this.m_awakeFlag&&this.SetAwake(!0),this.m_awakeFlag&&(this.m_linearVelocity.x+=this.m_invMass*e.x,this.m_linearVelocity.y+=this.m_invMass*e.y))}},{key:"ApplyAngularImpulse",value:function(e){var i=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];this.m_type===t.b2BodyType.b2_dynamicBody&&(i&&!this.m_awakeFlag&&this.SetAwake(!0),this.m_awakeFlag&&(this.m_angularVelocity+=this.m_invI*e))}},{key:"GetMass",value:function(){return this.m_mass}},{key:"GetInertia",value:function(){return this.m_I+this.m_mass*k.DotVV(this.m_sweep.localCenter,this.m_sweep.localCenter)}},{key:"GetMassData",value:function(t){return t.mass=this.m_mass,t.I=this.m_I+this.m_mass*k.DotVV(this.m_sweep.localCenter,this.m_sweep.localCenter),t.center.Copy(this.m_sweep.localCenter),t}},{key:"SetMassData",value:function(e){if(this.m_world.IsLocked())throw new Error;if(this.m_type===t.b2BodyType.b2_dynamicBody){this.m_invMass=0,this.m_I=0,this.m_invI=0,this.m_mass=e.mass,this.m_mass<=0&&(this.m_mass=1),this.m_invMass=1/this.m_mass,e.I>0&&!this.m_fixedRotationFlag&&(this.m_I=e.I-this.m_mass*k.DotVV(e.center,e.center),this.m_invI=1/this.m_I);var n=i.SetMassData_s_oldCenter.Copy(this.m_sweep.c);this.m_sweep.localCenter.Copy(e.center),G.MulXV(this.m_xf,this.m_sweep.localCenter,this.m_sweep.c),this.m_sweep.c0.Copy(this.m_sweep.c),k.AddVCrossSV(this.m_linearVelocity,this.m_angularVelocity,k.SubVV(this.m_sweep.c,n,k.s_t0),this.m_linearVelocity)}}},{key:"ResetMassData",value:function(){if(this.m_mass=0,this.m_invMass=0,this.m_I=0,this.m_invI=0,this.m_sweep.localCenter.SetZero(),this.m_type===t.b2BodyType.b2_staticBody||this.m_type===t.b2BodyType.b2_kinematicBody)return this.m_sweep.c0.Copy(this.m_xf.p),this.m_sweep.c.Copy(this.m_xf.p),void(this.m_sweep.a0=this.m_sweep.a);for(var e=i.ResetMassData_s_localCenter.SetZero(),n=this.m_fixtureList;n;n=n.m_next)if(0!==n.m_density){var r=n.GetMassData(i.ResetMassData_s_massData);this.m_mass+=r.mass,e.x+=r.center.x*r.mass,e.y+=r.center.y*r.mass,this.m_I+=r.I}this.m_mass>0?(this.m_invMass=1/this.m_mass,e.x*=this.m_invMass,e.y*=this.m_invMass):(this.m_mass=1,this.m_invMass=1),this.m_I>0&&!this.m_fixedRotationFlag?(this.m_I-=this.m_mass*k.DotVV(e,e),this.m_invI=1/this.m_I):(this.m_I=0,this.m_invI=0);var s=i.ResetMassData_s_oldCenter.Copy(this.m_sweep.c);this.m_sweep.localCenter.Copy(e),G.MulXV(this.m_xf,this.m_sweep.localCenter,this.m_sweep.c),this.m_sweep.c0.Copy(this.m_sweep.c),k.AddVCrossSV(this.m_linearVelocity,this.m_angularVelocity,k.SubVV(this.m_sweep.c,s,k.s_t0),this.m_linearVelocity)}},{key:"GetWorldPoint",value:function(t,e){return G.MulXV(this.m_xf,t,e)}},{key:"GetWorldVector",value:function(t,e){return T.MulRV(this.m_xf.q,t,e)}},{key:"GetLocalPoint",value:function(t,e){return G.MulTXV(this.m_xf,t,e)}},{key:"GetLocalVector",value:function(t,e){return T.MulTRV(this.m_xf.q,t,e)}},{key:"GetLinearVelocityFromWorldPoint",value:function(t,e){return k.AddVCrossSV(this.m_linearVelocity,this.m_angularVelocity,k.SubVV(t,this.m_sweep.c,k.s_t0),e)}},{key:"GetLinearVelocityFromLocalPoint",value:function(t,e){return this.GetLinearVelocityFromWorldPoint(this.GetWorldPoint(t,e),e)}},{key:"GetLinearDamping",value:function(){return this.m_linearDamping}},{key:"SetLinearDamping",value:function(t){this.m_linearDamping=t}},{key:"GetAngularDamping",value:function(){return this.m_angularDamping}},{key:"SetAngularDamping",value:function(t){this.m_angularDamping=t}},{key:"GetGravityScale",value:function(){return this.m_gravityScale}},{key:"SetGravityScale",value:function(t){this.m_gravityScale=t}},{key:"SetType",value:function(e){if(this.m_world.IsLocked())throw new Error;if(this.m_type!==e){this.m_type=e,this.ResetMassData(),this.m_type===t.b2BodyType.b2_staticBody&&(this.m_linearVelocity.SetZero(),this.m_angularVelocity=0,this.m_sweep.a0=this.m_sweep.a,this.m_sweep.c0.Copy(this.m_sweep.c),this.SynchronizeFixtures()),this.SetAwake(!0),this.m_force.SetZero(),this.m_torque=0;for(var i=this.m_contactList;i;){var n=i;i=i.next,this.m_world.m_contactManager.Destroy(n.contact)}this.m_contactList=null;for(var r=this.m_fixtureList;r;r=r.m_next)r.TouchProxies()}}},{key:"GetType",value:function(){return this.m_type}},{key:"SetBullet",value:function(t){this.m_bulletFlag=t}},{key:"IsBullet",value:function(){return this.m_bulletFlag}},{key:"SetSleepingAllowed",value:function(t){this.m_autoSleepFlag=t,t||this.SetAwake(!0)}},{key:"IsSleepingAllowed",value:function(){return this.m_autoSleepFlag}},{key:"SetAwake",value:function(t){t?(this.m_awakeFlag=!0,this.m_sleepTime=0):(this.m_awakeFlag=!1,this.m_sleepTime=0,this.m_linearVelocity.SetZero(),this.m_angularVelocity=0,this.m_force.SetZero(),this.m_torque=0)}},{key:"IsAwake",value:function(){return this.m_awakeFlag}},{key:"SetActive",value:function(t){if(this.m_world.IsLocked())throw new Error;if(t!==this.IsActive())if(this.m_activeFlag=t,t)for(var e=this.m_fixtureList;e;e=e.m_next)e.CreateProxies(this.m_xf);else{for(var i=this.m_fixtureList;i;i=i.m_next)i.DestroyProxies();for(var n=this.m_contactList;n;){var r=n;n=n.next,this.m_world.m_contactManager.Destroy(r.contact)}this.m_contactList=null}}},{key:"IsActive",value:function(){return this.m_activeFlag}},{key:"SetFixedRotation",value:function(t){this.m_fixedRotationFlag!==t&&(this.m_fixedRotationFlag=t,this.m_angularVelocity=0,this.ResetMassData())}},{key:"IsFixedRotation",value:function(){return this.m_fixedRotationFlag}},{key:"GetFixtureList",value:function(){return this.m_fixtureList}},{key:"GetJointList",value:function(){return this.m_jointList}},{key:"GetContactList",value:function(){return this.m_contactList}},{key:"GetNext",value:function(){return this.m_next}},{key:"GetUserData",value:function(){return this.m_userData}},{key:"SetUserData",value:function(t){this.m_userData=t}},{key:"GetWorld",value:function(){return this.m_world}},{key:"Dump",value:function(e){var i=this.m_islandIndex;e("{\n"),e("  const bd: b2BodyDef = new b2BodyDef();\n");var n="";switch(this.m_type){case t.b2BodyType.b2_staticBody:n="b2BodyType.b2_staticBody";break;case t.b2BodyType.b2_kinematicBody:n="b2BodyType.b2_kinematicBody";break;case t.b2BodyType.b2_dynamicBody:n="b2BodyType.b2_dynamicBody"}e("  bd.type = %s;\n",n),e("  bd.position.Set(%.15f, %.15f);\n",this.m_xf.p.x,this.m_xf.p.y),e("  bd.angle = %.15f;\n",this.m_sweep.a),e("  bd.linearVelocity.Set(%.15f, %.15f);\n",this.m_linearVelocity.x,this.m_linearVelocity.y),e("  bd.angularVelocity = %.15f;\n",this.m_angularVelocity),e("  bd.linearDamping = %.15f;\n",this.m_linearDamping),e("  bd.angularDamping = %.15f;\n",this.m_angularDamping),e("  bd.allowSleep = %s;\n",this.m_autoSleepFlag?"true":"false"),e("  bd.awake = %s;\n",this.m_awakeFlag?"true":"false"),e("  bd.fixedRotation = %s;\n",this.m_fixedRotationFlag?"true":"false"),e("  bd.bullet = %s;\n",this.m_bulletFlag?"true":"false"),e("  bd.active = %s;\n",this.m_activeFlag?"true":"false"),e("  bd.gravityScale = %.15f;\n",this.m_gravityScale),e("\n"),e("  bodies[%d] = this.m_world.CreateBody(bd);\n",this.m_islandIndex),e("\n");for(var r=this.m_fixtureList;r;r=r.m_next)e("  {\n"),r.Dump(e,i),e("  }\n");e("}\n")}},{key:"SynchronizeFixtures",value:function(){var t=i.SynchronizeFixtures_s_xf1;t.q.SetAngle(this.m_sweep.a0),T.MulRV(t.q,this.m_sweep.localCenter,t.p),k.SubVV(this.m_sweep.c0,t.p,t.p);for(var e=this.m_fixtureList;e;e=e.m_next)e.Synchronize(t,this.m_xf)}},{key:"SynchronizeTransform",value:function(){this.m_xf.q.SetAngle(this.m_sweep.a),T.MulRV(this.m_xf.q,this.m_sweep.localCenter,this.m_xf.p),k.SubVV(this.m_sweep.c,this.m_xf.p,this.m_xf.p)}},{key:"ShouldCollide",value:function(e){return(this.m_type!==t.b2BodyType.b2_staticBody||e.m_type!==t.b2BodyType.b2_staticBody)&&this.ShouldCollideConnected(e)}},{key:"ShouldCollideConnected",value:function(t){for(var e=this.m_jointList;e;e=e.next)if(e.other===t&&!e.joint.m_collideConnected)return!1;return!0}},{key:"Advance",value:function(t){this.m_sweep.Advance(t),this.m_sweep.c.Copy(this.m_sweep.c0),this.m_sweep.a=this.m_sweep.a0,this.m_xf.q.SetAngle(this.m_sweep.a),T.MulRV(this.m_xf.q,this.m_sweep.localCenter,this.m_xf.p),k.SubVV(this.m_sweep.c,this.m_xf.p,this.m_xf.p)}},{key:"GetControllerList",value:function(){return this.m_controllerList}},{key:"GetControllerCount",value:function(){return this.m_controllerCount}}]),i}();li.CreateFixtureShapeDensity_s_def=new oi,li.SetMassData_s_oldCenter=new k,li.ResetMassData_s_localCenter=new k,li.ResetMassData_s_oldCenter=new k,li.ResetMassData_s_massData=new $e,li.SynchronizeFixtures_s_xf1=new G,(Ze=t.b2JointType||(t.b2JointType={}))[Ze.e_unknownJoint=0]="e_unknownJoint",Ze[Ze.e_revoluteJoint=1]="e_revoluteJoint",Ze[Ze.e_prismaticJoint=2]="e_prismaticJoint",Ze[Ze.e_distanceJoint=3]="e_distanceJoint",Ze[Ze.e_pulleyJoint=4]="e_pulleyJoint",Ze[Ze.e_mouseJoint=5]="e_mouseJoint",Ze[Ze.e_gearJoint=6]="e_gearJoint",Ze[Ze.e_wheelJoint=7]="e_wheelJoint",Ze[Ze.e_weldJoint=8]="e_weldJoint",Ze[Ze.e_frictionJoint=9]="e_frictionJoint",Ze[Ze.e_ropeJoint=10]="e_ropeJoint",Ze[Ze.e_motorJoint=11]="e_motorJoint",Ze[Ze.e_areaJoint=12]="e_areaJoint",(We=t.b2LimitState||(t.b2LimitState={}))[We.e_inactiveLimit=0]="e_inactiveLimit",We[We.e_atLowerLimit=1]="e_atLowerLimit",We[We.e_atUpperLimit=2]="e_atUpperLimit",We[We.e_equalLimits=3]="e_equalLimits";var ui=function t(e,i){_classCallCheck2(this,t),this.prev=null,this.next=null,this.joint=e,this.other=i},hi=function e(i){_classCallCheck2(this,e),this.type=t.b2JointType.e_unknownJoint,this.userData=null,this.collideConnected=!1,this.type=i},ci=function(){function i(n){_classCallCheck2(this,i),this.m_type=t.b2JointType.e_unknownJoint,this.m_prev=null,this.m_next=null,this.m_index=0,this.m_islandFlag=!1,this.m_collideConnected=!1,this.m_userData=null,this.m_type=n.type,this.m_edgeA=new ui(this,n.bodyB),this.m_edgeB=new ui(this,n.bodyA),this.m_bodyA=n.bodyA,this.m_bodyB=n.bodyB,this.m_collideConnected=e(n.collideConnected,!1),this.m_userData=n.userData}return _createClass2(i,[{key:"GetType",value:function(){return this.m_type}},{key:"GetBodyA",value:function(){return this.m_bodyA}},{key:"GetBodyB",value:function(){return this.m_bodyB}},{key:"GetNext",value:function(){return this.m_next}},{key:"GetUserData",value:function(){return this.m_userData}},{key:"SetUserData",value:function(t){this.m_userData=t}},{key:"IsActive",value:function(){return this.m_bodyA.IsActive()&&this.m_bodyB.IsActive()}},{key:"GetCollideConnected",value:function(){return this.m_collideConnected}},{key:"Dump",value:function(t){t("// Dump is not supported for this joint type.\n")}},{key:"ShiftOrigin",value:function(t){}}]),i}(),fi=function(e){function i(){var e;return _classCallCheck2(this,i),(e=_possibleConstructorReturn(this,_getPrototypeOf(i).call(this,t.b2JointType.e_distanceJoint))).localAnchorA=new k,e.localAnchorB=new k,e.length=1,e.frequencyHz=0,e.dampingRatio=0,e}return _inherits(i,e),_createClass2(i,[{key:"Initialize",value:function(t,e,i,n){this.bodyA=t,this.bodyB=e,this.bodyA.GetLocalPoint(i,this.localAnchorA),this.bodyB.GetLocalPoint(n,this.localAnchorB),this.length=k.DistanceVV(i,n),this.frequencyHz=0,this.dampingRatio=0}}]),i}(hi),mi=function(t){function i(t){var n;return _classCallCheck2(this,i),(n=_possibleConstructorReturn(this,_getPrototypeOf(i).call(this,t))).m_frequencyHz=0,n.m_dampingRatio=0,n.m_bias=0,n.m_localAnchorA=new k,n.m_localAnchorB=new k,n.m_gamma=0,n.m_impulse=0,n.m_length=0,n.m_indexA=0,n.m_indexB=0,n.m_u=new k,n.m_rA=new k,n.m_rB=new k,n.m_localCenterA=new k,n.m_localCenterB=new k,n.m_invMassA=0,n.m_invMassB=0,n.m_invIA=0,n.m_invIB=0,n.m_mass=0,n.m_qA=new T,n.m_qB=new T,n.m_lalcA=new k,n.m_lalcB=new k,n.m_frequencyHz=e(t.frequencyHz,0),n.m_dampingRatio=e(t.dampingRatio,0),n.m_localAnchorA.Copy(t.localAnchorA),n.m_localAnchorB.Copy(t.localAnchorB),n.m_length=t.length,n}return _inherits(i,t),_createClass2(i,[{key:"GetAnchorA",value:function(t){return this.m_bodyA.GetWorldPoint(this.m_localAnchorA,t)}},{key:"GetAnchorB",value:function(t){return this.m_bodyB.GetWorldPoint(this.m_localAnchorB,t)}},{key:"GetReactionForce",value:function(t,e){return e.x=t*this.m_impulse*this.m_u.x,e.y=t*this.m_impulse*this.m_u.y,e}},{key:"GetReactionTorque",value:function(t){return 0}},{key:"GetLocalAnchorA",value:function(){return this.m_localAnchorA}},{key:"GetLocalAnchorB",value:function(){return this.m_localAnchorB}},{key:"SetLength",value:function(t){this.m_length=t}},{key:"Length",value:function(){return this.m_length}},{key:"SetFrequency",value:function(t){this.m_frequencyHz=t}},{key:"GetFrequency",value:function(){return this.m_frequencyHz}},{key:"SetDampingRatio",value:function(t){this.m_dampingRatio=t}},{key:"GetDampingRatio",value:function(){return this.m_dampingRatio}},{key:"Dump",value:function(t){var e=this.m_bodyA.m_islandIndex,i=this.m_bodyB.m_islandIndex;t("  const jd: b2DistanceJointDef = new b2DistanceJointDef();\n"),t("  jd.bodyA = bodies[%d];\n",e),t("  jd.bodyB = bodies[%d];\n",i),t("  jd.collideConnected = %s;\n",this.m_collideConnected?"true":"false"),t("  jd.localAnchorA.Set(%.15f, %.15f);\n",this.m_localAnchorA.x,this.m_localAnchorA.y),t("  jd.localAnchorB.Set(%.15f, %.15f);\n",this.m_localAnchorB.x,this.m_localAnchorB.y),t("  jd.length = %.15f;\n",this.m_length),t("  jd.frequencyHz = %.15f;\n",this.m_frequencyHz),t("  jd.dampingRatio = %.15f;\n",this.m_dampingRatio),t("  joints[%d] = this.m_world.CreateJoint(jd);\n",this.m_index)}},{key:"InitVelocityConstraints",value:function(t){this.m_indexA=this.m_bodyA.m_islandIndex,this.m_indexB=this.m_bodyB.m_islandIndex,this.m_localCenterA.Copy(this.m_bodyA.m_sweep.localCenter),this.m_localCenterB.Copy(this.m_bodyB.m_sweep.localCenter),this.m_invMassA=this.m_bodyA.m_invMass,this.m_invMassB=this.m_bodyB.m_invMass,this.m_invIA=this.m_bodyA.m_invI,this.m_invIB=this.m_bodyB.m_invI;var e=t.positions[this.m_indexA].c,n=t.velocities[this.m_indexA].v,r=t.velocities[this.m_indexA].w,o=t.positions[this.m_indexB].c,a=t.positions[this.m_indexB].a,l=t.velocities[this.m_indexB].v,u=t.velocities[this.m_indexB].w,h=this.m_qA.SetAngle(t.positions[this.m_indexA].a),c=this.m_qB.SetAngle(a);k.SubVV(this.m_localAnchorA,this.m_localCenterA,this.m_lalcA),T.MulRV(h,this.m_lalcA,this.m_rA),k.SubVV(this.m_localAnchorB,this.m_localCenterB,this.m_lalcB),T.MulRV(c,this.m_lalcB,this.m_rB),this.m_u.x=o.x+this.m_rB.x-e.x-this.m_rA.x,this.m_u.y=o.y+this.m_rB.y-e.y-this.m_rA.y;var f=this.m_u.Length();f>A?this.m_u.SelfMul(1/f):this.m_u.SetZero();var m=k.CrossVV(this.m_rA,this.m_u),_=k.CrossVV(this.m_rB,this.m_u),g=this.m_invMassA+this.m_invIA*m*m+this.m_invMassB+this.m_invIB*_*_;if(this.m_mass=0!==g?1/g:0,this.m_frequencyHz>0){var d=f-this.m_length,p=2*s*this.m_frequencyHz,y=this.m_mass*p*p,C=t.step.dt;this.m_gamma=C*(2*this.m_mass*this.m_dampingRatio*p+C*y),this.m_gamma=0!==this.m_gamma?1/this.m_gamma:0,this.m_bias=d*C*y*this.m_gamma,this.m_mass=0!==(g+=this.m_gamma)?1/g:0}else this.m_gamma=0,this.m_bias=0;if(t.step.warmStarting){this.m_impulse*=t.step.dtRatio;var v=k.MulSV(this.m_impulse,this.m_u,i.InitVelocityConstraints_s_P);n.SelfMulSub(this.m_invMassA,v),r-=this.m_invIA*k.CrossVV(this.m_rA,v),l.SelfMulAdd(this.m_invMassB,v),u+=this.m_invIB*k.CrossVV(this.m_rB,v)}else this.m_impulse=0;t.velocities[this.m_indexA].w=r,t.velocities[this.m_indexB].w=u}},{key:"SolveVelocityConstraints",value:function(t){var e=t.velocities[this.m_indexA].v,n=t.velocities[this.m_indexA].w,r=t.velocities[this.m_indexB].v,s=t.velocities[this.m_indexB].w,o=k.AddVCrossSV(e,n,this.m_rA,i.SolveVelocityConstraints_s_vpA),a=k.AddVCrossSV(r,s,this.m_rB,i.SolveVelocityConstraints_s_vpB),A=k.DotVV(this.m_u,k.SubVV(a,o,k.s_t0)),l=-this.m_mass*(A+this.m_bias+this.m_gamma*this.m_impulse);this.m_impulse+=l;var u=k.MulSV(l,this.m_u,i.SolveVelocityConstraints_s_P);e.SelfMulSub(this.m_invMassA,u),n-=this.m_invIA*k.CrossVV(this.m_rA,u),r.SelfMulAdd(this.m_invMassB,u),s+=this.m_invIB*k.CrossVV(this.m_rB,u),t.velocities[this.m_indexA].w=n,t.velocities[this.m_indexB].w=s}},{key:"SolvePositionConstraints",value:function(t){if(this.m_frequencyHz>0)return!0;var e=t.positions[this.m_indexA].c,n=t.positions[this.m_indexA].a,r=t.positions[this.m_indexB].c,s=t.positions[this.m_indexB].a,o=this.m_qA.SetAngle(n),a=this.m_qB.SetAngle(s),l=T.MulRV(o,this.m_lalcA,this.m_rA),u=T.MulRV(a,this.m_lalcB,this.m_rB),h=this.m_u;h.x=r.x+u.x-e.x-l.x,h.y=r.y+u.y-e.y-l.y;var c=this.m_u.Normalize()-this.m_length;c=y(c,-.2,.2);var f=k.MulSV(-this.m_mass*c,h,i.SolvePositionConstraints_s_P);return e.SelfMulSub(this.m_invMassA,f),n-=this.m_invIA*k.CrossVV(l,f),r.SelfMulAdd(this.m_invMassB,f),s+=this.m_invIB*k.CrossVV(u,f),t.positions[this.m_indexA].a=n,t.positions[this.m_indexB].a=s,g(c)<A}}]),i}(ci);mi.InitVelocityConstraints_s_P=new k,mi.SolveVelocityConstraints_s_vpA=new k,mi.SolveVelocityConstraints_s_vpB=new k,mi.SolveVelocityConstraints_s_P=new k,mi.SolvePositionConstraints_s_P=new k;var _i=function(t){function i(t){var n;_classCallCheck2(this,i),(n=_possibleConstructorReturn(this,_getPrototypeOf(i).call(this,t))).m_frequencyHz=0,n.m_dampingRatio=0,n.m_impulse=0,n.m_targetArea=0,n.m_bodies=t.bodies,n.m_frequencyHz=e(t.frequencyHz,0),n.m_dampingRatio=e(t.dampingRatio,0),n.m_targetLengths=_(t.bodies.length),n.m_normals=k.MakeArray(t.bodies.length),n.m_joints=[],n.m_deltas=k.MakeArray(t.bodies.length),n.m_delta=new k;var r=new fi;r.frequencyHz=n.m_frequencyHz,r.dampingRatio=n.m_dampingRatio,n.m_targetArea=0;for(var s=0;s<n.m_bodies.length;++s){var o=n.m_bodies[s],a=n.m_bodies[(s+1)%n.m_bodies.length],A=o.GetWorldCenter(),l=a.GetWorldCenter();n.m_targetLengths[s]=k.DistanceVV(A,l),n.m_targetArea+=k.CrossVV(A,l),r.Initialize(o,a,A,l),n.m_joints[s]=o.GetWorld().CreateJoint(r)}return n.m_targetArea*=.5,n}return _inherits(i,t),_createClass2(i,[{key:"GetAnchorA",value:function(t){return t}},{key:"GetAnchorB",value:function(t){return t}},{key:"GetReactionForce",value:function(t,e){return e}},{key:"GetReactionTorque",value:function(t){return 0}},{key:"SetFrequency",value:function(t){this.m_frequencyHz=t;for(var e=0;e<this.m_joints.length;++e)this.m_joints[e].SetFrequency(t)}},{key:"GetFrequency",value:function(){return this.m_frequencyHz}},{key:"SetDampingRatio",value:function(t){this.m_dampingRatio=t;for(var e=0;e<this.m_joints.length;++e)this.m_joints[e].SetDampingRatio(t)}},{key:"GetDampingRatio",value:function(){return this.m_dampingRatio}},{key:"Dump",value:function(t){t("Area joint dumping is not supported.\n")}},{key:"InitVelocityConstraints",value:function(t){for(var e=0;e<this.m_bodies.length;++e)k.SubVV(t.positions[this.m_bodies[(e+1)%this.m_bodies.length].m_islandIndex].c,t.positions[this.m_bodies[(e+this.m_bodies.length-1)%this.m_bodies.length].m_islandIndex].c,this.m_deltas[e]);if(t.step.warmStarting){this.m_impulse*=t.step.dtRatio;for(var i=0;i<this.m_bodies.length;++i){var n=this.m_bodies[i],r=t.velocities[n.m_islandIndex].v,s=this.m_deltas[i];r.x+=n.m_invMass*s.y*.5*this.m_impulse,r.y+=n.m_invMass*-s.x*.5*this.m_impulse}}else this.m_impulse=0}},{key:"SolveVelocityConstraints",value:function(t){for(var e=0,i=0,n=0;n<this.m_bodies.length;++n){var r=this.m_bodies[n],s=t.velocities[r.m_islandIndex].v,o=this.m_deltas[n];e+=o.LengthSquared()/r.GetMass(),i+=k.CrossVV(s,o)}var a=-2*i/e;this.m_impulse+=a;for(var A=0;A<this.m_bodies.length;++A){var l=this.m_bodies[A],u=t.velocities[l.m_islandIndex].v,h=this.m_deltas[A];u.x+=l.m_invMass*h.y*.5*a,u.y+=l.m_invMass*-h.x*.5*a}}},{key:"SolvePositionConstraints",value:function(t){for(var e=0,i=0,r=0;r<this.m_bodies.length;++r){var s=t.positions[this.m_bodies[r].m_islandIndex].c,o=t.positions[this.m_bodies[(r+1)%this.m_bodies.length].m_islandIndex].c,a=k.SubVV(o,s,this.m_delta),l=a.Length();l<n&&(l=1),this.m_normals[r].x=a.y/l,this.m_normals[r].y=-a.x/l,e+=l,i+=k.CrossVV(s,o)}for(var u=.5*(this.m_targetArea-(i*=.5))/e,h=!0,c=0;c<this.m_bodies.length;++c){var f=t.positions[this.m_bodies[c].m_islandIndex].c,m=k.AddVV(this.m_normals[c],this.m_normals[(c+1)%this.m_bodies.length],this.m_delta);m.SelfMul(u);var _=m.LengthSquared();_>v(.2)&&m.SelfMul(.2/B(_)),_>v(A)&&(h=!1),f.x+=m.x,f.y+=m.y}return h}}]),i}(ci),gi=function(t){function i(t){var n;return _classCallCheck2(this,i),(n=_possibleConstructorReturn(this,_getPrototypeOf(i).call(this,t))).m_localAnchorA=new k,n.m_localAnchorB=new k,n.m_linearImpulse=new k,n.m_angularImpulse=0,n.m_maxForce=0,n.m_maxTorque=0,n.m_indexA=0,n.m_indexB=0,n.m_rA=new k,n.m_rB=new k,n.m_localCenterA=new k,n.m_localCenterB=new k,n.m_invMassA=0,n.m_invMassB=0,n.m_invIA=0,n.m_invIB=0,n.m_linearMass=new R,n.m_angularMass=0,n.m_qA=new T,n.m_qB=new T,n.m_lalcA=new k,n.m_lalcB=new k,n.m_K=new R,n.m_localAnchorA.Copy(t.localAnchorA),n.m_localAnchorB.Copy(t.localAnchorB),n.m_linearImpulse.SetZero(),n.m_maxForce=e(t.maxForce,0),n.m_maxTorque=e(t.maxTorque,0),n.m_linearMass.SetZero(),n}return _inherits(i,t),_createClass2(i,[{key:"InitVelocityConstraints",value:function(t){this.m_indexA=this.m_bodyA.m_islandIndex,this.m_indexB=this.m_bodyB.m_islandIndex,this.m_localCenterA.Copy(this.m_bodyA.m_sweep.localCenter),this.m_localCenterB.Copy(this.m_bodyB.m_sweep.localCenter),this.m_invMassA=this.m_bodyA.m_invMass,this.m_invMassB=this.m_bodyB.m_invMass,this.m_invIA=this.m_bodyA.m_invI,this.m_invIB=this.m_bodyB.m_invI;var e=t.velocities[this.m_indexA].v,i=t.velocities[this.m_indexA].w,n=t.positions[this.m_indexB].a,r=t.velocities[this.m_indexB].v,s=t.velocities[this.m_indexB].w,o=this.m_qA.SetAngle(t.positions[this.m_indexA].a),a=this.m_qB.SetAngle(n);k.SubVV(this.m_localAnchorA,this.m_localCenterA,this.m_lalcA);var A=T.MulRV(o,this.m_lalcA,this.m_rA);k.SubVV(this.m_localAnchorB,this.m_localCenterB,this.m_lalcB);var l=T.MulRV(a,this.m_lalcB,this.m_rB),u=this.m_invMassA,h=this.m_invMassB,c=this.m_invIA,f=this.m_invIB,m=this.m_K;if(m.ex.x=u+h+c*A.y*A.y+f*l.y*l.y,m.ex.y=-c*A.x*A.y-f*l.x*l.y,m.ey.x=m.ex.y,m.ey.y=u+h+c*A.x*A.x+f*l.x*l.x,m.GetInverse(this.m_linearMass),this.m_angularMass=c+f,this.m_angularMass>0&&(this.m_angularMass=1/this.m_angularMass),t.step.warmStarting){this.m_linearImpulse.SelfMul(t.step.dtRatio),this.m_angularImpulse*=t.step.dtRatio;var _=this.m_linearImpulse;e.SelfMulSub(u,_),i-=c*(k.CrossVV(this.m_rA,_)+this.m_angularImpulse),r.SelfMulAdd(h,_),s+=f*(k.CrossVV(this.m_rB,_)+this.m_angularImpulse)}else this.m_linearImpulse.SetZero(),this.m_angularImpulse=0;t.velocities[this.m_indexA].w=i,t.velocities[this.m_indexB].w=s}},{key:"SolveVelocityConstraints",value:function(t){var e=t.velocities[this.m_indexA].v,n=t.velocities[this.m_indexA].w,r=t.velocities[this.m_indexB].v,s=t.velocities[this.m_indexB].w,o=this.m_invMassA,a=this.m_invMassB,A=this.m_invIA,l=this.m_invIB,u=t.step.dt,h=-this.m_angularMass*(s-n),c=this.m_angularImpulse,f=u*this.m_maxTorque;this.m_angularImpulse=y(this.m_angularImpulse+h,-f,f),n-=A*(h=this.m_angularImpulse-c),s+=l*h;var m=k.SubVV(k.AddVCrossSV(r,s,this.m_rB,k.s_t0),k.AddVCrossSV(e,n,this.m_rA,k.s_t1),i.SolveVelocityConstraints_s_Cdot_v2),_=R.MulMV(this.m_linearMass,m,i.SolveVelocityConstraints_s_impulseV).SelfNeg(),g=i.SolveVelocityConstraints_s_oldImpulseV.Copy(this.m_linearImpulse);this.m_linearImpulse.SelfAdd(_);var d=u*this.m_maxForce;this.m_linearImpulse.LengthSquared()>d*d&&(this.m_linearImpulse.Normalize(),this.m_linearImpulse.SelfMul(d)),k.SubVV(this.m_linearImpulse,g,_),e.SelfMulSub(o,_),n-=A*k.CrossVV(this.m_rA,_),r.SelfMulAdd(a,_),s+=l*k.CrossVV(this.m_rB,_),t.velocities[this.m_indexA].w=n,t.velocities[this.m_indexB].w=s}},{key:"SolvePositionConstraints",value:function(t){return!0}},{key:"GetAnchorA",value:function(t){return this.m_bodyA.GetWorldPoint(this.m_localAnchorA,t)}},{key:"GetAnchorB",value:function(t){return this.m_bodyB.GetWorldPoint(this.m_localAnchorB,t)}},{key:"GetReactionForce",value:function(t,e){return e.x=t*this.m_linearImpulse.x,e.y=t*this.m_linearImpulse.y,e}},{key:"GetReactionTorque",value:function(t){return t*this.m_angularImpulse}},{key:"GetLocalAnchorA",value:function(){return this.m_localAnchorA}},{key:"GetLocalAnchorB",value:function(){return this.m_localAnchorB}},{key:"SetMaxForce",value:function(t){this.m_maxForce=t}},{key:"GetMaxForce",value:function(){return this.m_maxForce}},{key:"SetMaxTorque",value:function(t){this.m_maxTorque=t}},{key:"GetMaxTorque",value:function(){return this.m_maxTorque}},{key:"Dump",value:function(t){var e=this.m_bodyA.m_islandIndex,i=this.m_bodyB.m_islandIndex;t("  const jd: b2FrictionJointDef = new b2FrictionJointDef();\n"),t("  jd.bodyA = bodies[%d];\n",e),t("  jd.bodyB = bodies[%d];\n",i),t("  jd.collideConnected = %s;\n",this.m_collideConnected?"true":"false"),t("  jd.localAnchorA.Set(%.15f, %.15f);\n",this.m_localAnchorA.x,this.m_localAnchorA.y),t("  jd.localAnchorB.Set(%.15f, %.15f);\n",this.m_localAnchorB.x,this.m_localAnchorB.y),t("  jd.maxForce = %.15f;\n",this.m_maxForce),t("  jd.maxTorque = %.15f;\n",this.m_maxTorque),t("  joints[%d] = this.m_world.CreateJoint(jd);\n",this.m_index)}}]),i}(ci);gi.SolveVelocityConstraints_s_Cdot_v2=new k,gi.SolveVelocityConstraints_s_impulseV=new k,gi.SolveVelocityConstraints_s_oldImpulseV=new k;var di=function(i){function n(i){var r,s,o;_classCallCheck2(this,n),(r=_possibleConstructorReturn(this,_getPrototypeOf(n).call(this,i))).m_typeA=t.b2JointType.e_unknownJoint,r.m_typeB=t.b2JointType.e_unknownJoint,r.m_localAnchorA=new k,r.m_localAnchorB=new k,r.m_localAnchorC=new k,r.m_localAnchorD=new k,r.m_localAxisC=new k,r.m_localAxisD=new k,r.m_referenceAngleA=0,r.m_referenceAngleB=0,r.m_constant=0,r.m_ratio=0,r.m_impulse=0,r.m_indexA=0,r.m_indexB=0,r.m_indexC=0,r.m_indexD=0,r.m_lcA=new k,r.m_lcB=new k,r.m_lcC=new k,r.m_lcD=new k,r.m_mA=0,r.m_mB=0,r.m_mC=0,r.m_mD=0,r.m_iA=0,r.m_iB=0,r.m_iC=0,r.m_iD=0,r.m_JvAC=new k,r.m_JvBD=new k,r.m_JwA=0,r.m_JwB=0,r.m_JwC=0,r.m_JwD=0,r.m_mass=0,r.m_qA=new T,r.m_qB=new T,r.m_qC=new T,r.m_qD=new T,r.m_lalcA=new k,r.m_lalcB=new k,r.m_lalcC=new k,r.m_lalcD=new k,r.m_joint1=i.joint1,r.m_joint2=i.joint2,r.m_typeA=r.m_joint1.GetType(),r.m_typeB=r.m_joint2.GetType(),r.m_bodyC=r.m_joint1.GetBodyA(),r.m_bodyA=r.m_joint1.GetBodyB();var a=r.m_bodyA.m_xf,A=r.m_bodyA.m_sweep.a,l=r.m_bodyC.m_xf,u=r.m_bodyC.m_sweep.a;if(r.m_typeA===t.b2JointType.e_revoluteJoint){var h=i.joint1;r.m_localAnchorC.Copy(h.m_localAnchorA),r.m_localAnchorA.Copy(h.m_localAnchorB),r.m_referenceAngleA=h.m_referenceAngle,r.m_localAxisC.SetZero(),s=A-u-r.m_referenceAngleA}else{var c=i.joint1;r.m_localAnchorC.Copy(c.m_localAnchorA),r.m_localAnchorA.Copy(c.m_localAnchorB),r.m_referenceAngleA=c.m_referenceAngle,r.m_localAxisC.Copy(c.m_localXAxisA);var f=r.m_localAnchorC,m=T.MulTRV(l.q,k.AddVV(T.MulRV(a.q,r.m_localAnchorA,k.s_t0),k.SubVV(a.p,l.p,k.s_t1),k.s_t0),k.s_t0);s=k.DotVV(k.SubVV(m,f,k.s_t0),r.m_localAxisC)}r.m_bodyD=r.m_joint2.GetBodyA(),r.m_bodyB=r.m_joint2.GetBodyB();var _=r.m_bodyB.m_xf,g=r.m_bodyB.m_sweep.a,d=r.m_bodyD.m_xf,p=r.m_bodyD.m_sweep.a;if(r.m_typeB===t.b2JointType.e_revoluteJoint){var y=i.joint2;r.m_localAnchorD.Copy(y.m_localAnchorA),r.m_localAnchorB.Copy(y.m_localAnchorB),r.m_referenceAngleB=y.m_referenceAngle,r.m_localAxisD.SetZero(),o=g-p-r.m_referenceAngleB}else{var C=i.joint2;r.m_localAnchorD.Copy(C.m_localAnchorA),r.m_localAnchorB.Copy(C.m_localAnchorB),r.m_referenceAngleB=C.m_referenceAngle,r.m_localAxisD.Copy(C.m_localXAxisA);var v=r.m_localAnchorD,I=T.MulTRV(d.q,k.AddVV(T.MulRV(_.q,r.m_localAnchorB,k.s_t0),k.SubVV(_.p,d.p,k.s_t1),k.s_t0),k.s_t0);o=k.DotVV(k.SubVV(I,v,k.s_t0),r.m_localAxisD)}return r.m_ratio=e(i.ratio,1),r.m_constant=s+r.m_ratio*o,r.m_impulse=0,r}return _inherits(n,i),_createClass2(n,[{key:"InitVelocityConstraints",value:function(e){this.m_indexA=this.m_bodyA.m_islandIndex,this.m_indexB=this.m_bodyB.m_islandIndex,this.m_indexC=this.m_bodyC.m_islandIndex,this.m_indexD=this.m_bodyD.m_islandIndex,this.m_lcA.Copy(this.m_bodyA.m_sweep.localCenter),this.m_lcB.Copy(this.m_bodyB.m_sweep.localCenter),this.m_lcC.Copy(this.m_bodyC.m_sweep.localCenter),this.m_lcD.Copy(this.m_bodyD.m_sweep.localCenter),this.m_mA=this.m_bodyA.m_invMass,this.m_mB=this.m_bodyB.m_invMass,this.m_mC=this.m_bodyC.m_invMass,this.m_mD=this.m_bodyD.m_invMass,this.m_iA=this.m_bodyA.m_invI,this.m_iB=this.m_bodyB.m_invI,this.m_iC=this.m_bodyC.m_invI,this.m_iD=this.m_bodyD.m_invI;var i=e.velocities[this.m_indexA].v,r=e.velocities[this.m_indexA].w,s=e.positions[this.m_indexB].a,o=e.velocities[this.m_indexB].v,a=e.velocities[this.m_indexB].w,A=e.positions[this.m_indexC].a,l=e.velocities[this.m_indexC].v,u=e.velocities[this.m_indexC].w,h=e.positions[this.m_indexD].a,c=e.velocities[this.m_indexD].v,f=e.velocities[this.m_indexD].w,m=this.m_qA.SetAngle(e.positions[this.m_indexA].a),_=this.m_qB.SetAngle(s),g=this.m_qC.SetAngle(A),d=this.m_qD.SetAngle(h);if(this.m_mass=0,this.m_typeA===t.b2JointType.e_revoluteJoint)this.m_JvAC.SetZero(),this.m_JwA=1,this.m_JwC=1,this.m_mass+=this.m_iA+this.m_iC;else{var p=T.MulRV(g,this.m_localAxisC,n.InitVelocityConstraints_s_u);k.SubVV(this.m_localAnchorC,this.m_lcC,this.m_lalcC);var y=T.MulRV(g,this.m_lalcC,n.InitVelocityConstraints_s_rC);k.SubVV(this.m_localAnchorA,this.m_lcA,this.m_lalcA);var C=T.MulRV(m,this.m_lalcA,n.InitVelocityConstraints_s_rA);this.m_JvAC.Copy(p),this.m_JwC=k.CrossVV(y,p),this.m_JwA=k.CrossVV(C,p),this.m_mass+=this.m_mC+this.m_mA+this.m_iC*this.m_JwC*this.m_JwC+this.m_iA*this.m_JwA*this.m_JwA}if(this.m_typeB===t.b2JointType.e_revoluteJoint)this.m_JvBD.SetZero(),this.m_JwB=this.m_ratio,this.m_JwD=this.m_ratio,this.m_mass+=this.m_ratio*this.m_ratio*(this.m_iB+this.m_iD);else{var v=T.MulRV(d,this.m_localAxisD,n.InitVelocityConstraints_s_u);k.SubVV(this.m_localAnchorD,this.m_lcD,this.m_lalcD);var I=T.MulRV(d,this.m_lalcD,n.InitVelocityConstraints_s_rD);k.SubVV(this.m_localAnchorB,this.m_lcB,this.m_lalcB);var B=T.MulRV(_,this.m_lalcB,n.InitVelocityConstraints_s_rB);k.MulSV(this.m_ratio,v,this.m_JvBD),this.m_JwD=this.m_ratio*k.CrossVV(I,v),this.m_JwB=this.m_ratio*k.CrossVV(B,v),this.m_mass+=this.m_ratio*this.m_ratio*(this.m_mD+this.m_mB)+this.m_iD*this.m_JwD*this.m_JwD+this.m_iB*this.m_JwB*this.m_JwB}this.m_mass=this.m_mass>0?1/this.m_mass:0,e.step.warmStarting?(i.SelfMulAdd(this.m_mA*this.m_impulse,this.m_JvAC),r+=this.m_iA*this.m_impulse*this.m_JwA,o.SelfMulAdd(this.m_mB*this.m_impulse,this.m_JvBD),a+=this.m_iB*this.m_impulse*this.m_JwB,l.SelfMulSub(this.m_mC*this.m_impulse,this.m_JvAC),u-=this.m_iC*this.m_impulse*this.m_JwC,c.SelfMulSub(this.m_mD*this.m_impulse,this.m_JvBD),f-=this.m_iD*this.m_impulse*this.m_JwD):this.m_impulse=0,e.velocities[this.m_indexA].w=r,e.velocities[this.m_indexB].w=a,e.velocities[this.m_indexC].w=u,e.velocities[this.m_indexD].w=f}},{key:"SolveVelocityConstraints",value:function(t){var e=t.velocities[this.m_indexA].v,i=t.velocities[this.m_indexA].w,n=t.velocities[this.m_indexB].v,r=t.velocities[this.m_indexB].w,s=t.velocities[this.m_indexC].v,o=t.velocities[this.m_indexC].w,a=t.velocities[this.m_indexD].v,A=t.velocities[this.m_indexD].w,l=k.DotVV(this.m_JvAC,k.SubVV(e,s,k.s_t0))+k.DotVV(this.m_JvBD,k.SubVV(n,a,k.s_t0)),u=-this.m_mass*(l+=this.m_JwA*i-this.m_JwC*o+(this.m_JwB*r-this.m_JwD*A));this.m_impulse+=u,e.SelfMulAdd(this.m_mA*u,this.m_JvAC),i+=this.m_iA*u*this.m_JwA,n.SelfMulAdd(this.m_mB*u,this.m_JvBD),r+=this.m_iB*u*this.m_JwB,s.SelfMulSub(this.m_mC*u,this.m_JvAC),o-=this.m_iC*u*this.m_JwC,a.SelfMulSub(this.m_mD*u,this.m_JvBD),A-=this.m_iD*u*this.m_JwD,t.velocities[this.m_indexA].w=i,t.velocities[this.m_indexB].w=r,t.velocities[this.m_indexC].w=o,t.velocities[this.m_indexD].w=A}},{key:"SolvePositionConstraints",value:function(e){var i,r,s,o,a,l,u=e.positions[this.m_indexA].c,h=e.positions[this.m_indexA].a,c=e.positions[this.m_indexB].c,f=e.positions[this.m_indexB].a,m=e.positions[this.m_indexC].c,_=e.positions[this.m_indexC].a,g=e.positions[this.m_indexD].c,d=e.positions[this.m_indexD].a,p=this.m_qA.SetAngle(h),y=this.m_qB.SetAngle(f),C=this.m_qC.SetAngle(_),v=this.m_qD.SetAngle(d),I=this.m_JvAC,B=this.m_JvBD,E=0;if(this.m_typeA===t.b2JointType.e_revoluteJoint)I.SetZero(),s=1,a=1,E+=this.m_iA+this.m_iC,i=h-_-this.m_referenceAngleA;else{var w=T.MulRV(C,this.m_localAxisC,n.SolvePositionConstraints_s_u),b=T.MulRV(C,this.m_lalcC,n.SolvePositionConstraints_s_rC),x=T.MulRV(p,this.m_lalcA,n.SolvePositionConstraints_s_rA);I.Copy(w),a=k.CrossVV(b,w),s=k.CrossVV(x,w),E+=this.m_mC+this.m_mA+this.m_iC*a*a+this.m_iA*s*s;var S=this.m_lalcC,Q=T.MulTRV(C,k.AddVV(x,k.SubVV(u,m,k.s_t0),k.s_t0),k.s_t0);i=k.DotVV(k.SubVV(Q,S,k.s_t0),this.m_localAxisC)}if(this.m_typeB===t.b2JointType.e_revoluteJoint)B.SetZero(),o=this.m_ratio,l=this.m_ratio,E+=this.m_ratio*this.m_ratio*(this.m_iB+this.m_iD),r=f-d-this.m_referenceAngleB;else{var D=T.MulRV(v,this.m_localAxisD,n.SolvePositionConstraints_s_u),M=T.MulRV(v,this.m_lalcD,n.SolvePositionConstraints_s_rD),R=T.MulRV(y,this.m_lalcB,n.SolvePositionConstraints_s_rB);k.MulSV(this.m_ratio,D,B),l=this.m_ratio*k.CrossVV(M,D),o=this.m_ratio*k.CrossVV(R,D),E+=this.m_ratio*this.m_ratio*(this.m_mD+this.m_mB)+this.m_iD*l*l+this.m_iB*o*o;var V=this.m_lalcD,G=T.MulTRV(v,k.AddVV(R,k.SubVV(c,g,k.s_t0),k.s_t0),k.s_t0);r=k.DotVV(k.SubVV(G,V,k.s_t0),this.m_localAxisD)}var F=0;return E>0&&(F=-(i+this.m_ratio*r-this.m_constant)/E),u.SelfMulAdd(this.m_mA*F,I),h+=this.m_iA*F*s,c.SelfMulAdd(this.m_mB*F,B),f+=this.m_iB*F*o,m.SelfMulSub(this.m_mC*F,I),_-=this.m_iC*F*a,g.SelfMulSub(this.m_mD*F,B),d-=this.m_iD*F*l,e.positions[this.m_indexA].a=h,e.positions[this.m_indexB].a=f,e.positions[this.m_indexC].a=_,e.positions[this.m_indexD].a=d,0<A}},{key:"GetAnchorA",value:function(t){return this.m_bodyA.GetWorldPoint(this.m_localAnchorA,t)}},{key:"GetAnchorB",value:function(t){return this.m_bodyB.GetWorldPoint(this.m_localAnchorB,t)}},{key:"GetReactionForce",value:function(t,e){return k.MulSV(t*this.m_impulse,this.m_JvAC,e)}},{key:"GetReactionTorque",value:function(t){return t*this.m_impulse*this.m_JwA}},{key:"GetJoint1",value:function(){return this.m_joint1}},{key:"GetJoint2",value:function(){return this.m_joint2}},{key:"GetRatio",value:function(){return this.m_ratio}},{key:"SetRatio",value:function(t){this.m_ratio=t}},{key:"Dump",value:function(t){var e=this.m_bodyA.m_islandIndex,i=this.m_bodyB.m_islandIndex,n=this.m_joint1.m_index,r=this.m_joint2.m_index;t("  const jd: b2GearJointDef = new b2GearJointDef();\n"),t("  jd.bodyA = bodies[%d];\n",e),t("  jd.bodyB = bodies[%d];\n",i),t("  jd.collideConnected = %s;\n",this.m_collideConnected?"true":"false"),t("  jd.joint1 = joints[%d];\n",n),t("  jd.joint2 = joints[%d];\n",r),t("  jd.ratio = %.15f;\n",this.m_ratio),t("  joints[%d] = this.m_world.CreateJoint(jd);\n",this.m_index)}}]),n}(ci);di.InitVelocityConstraints_s_u=new k,di.InitVelocityConstraints_s_rA=new k,di.InitVelocityConstraints_s_rB=new k,di.InitVelocityConstraints_s_rC=new k,di.InitVelocityConstraints_s_rD=new k,di.SolvePositionConstraints_s_u=new k,di.SolvePositionConstraints_s_rA=new k,di.SolvePositionConstraints_s_rB=new k,di.SolvePositionConstraints_s_rC=new k,di.SolvePositionConstraints_s_rD=new k;var pi=function(t){function i(t){var n;return _classCallCheck2(this,i),(n=_possibleConstructorReturn(this,_getPrototypeOf(i).call(this,t))).m_linearOffset=new k,n.m_angularOffset=0,n.m_linearImpulse=new k,n.m_angularImpulse=0,n.m_maxForce=0,n.m_maxTorque=0,n.m_correctionFactor=.3,n.m_indexA=0,n.m_indexB=0,n.m_rA=new k,n.m_rB=new k,n.m_localCenterA=new k,n.m_localCenterB=new k,n.m_linearError=new k,n.m_angularError=0,n.m_invMassA=0,n.m_invMassB=0,n.m_invIA=0,n.m_invIB=0,n.m_linearMass=new R,n.m_angularMass=0,n.m_qA=new T,n.m_qB=new T,n.m_K=new R,n.m_linearOffset.Copy(e(t.linearOffset,k.ZERO)),n.m_linearImpulse.SetZero(),n.m_maxForce=e(t.maxForce,0),n.m_maxTorque=e(t.maxTorque,0),n.m_correctionFactor=e(t.correctionFactor,.3),n}return _inherits(i,t),_createClass2(i,[{key:"GetAnchorA",value:function(t){var e=this.m_bodyA.GetPosition();return t.x=e.x,t.y=e.y,t}},{key:"GetAnchorB",value:function(t){var e=this.m_bodyB.GetPosition();return t.x=e.x,t.y=e.y,t}},{key:"GetReactionForce",value:function(t,e){return k.MulSV(t,this.m_linearImpulse,e)}},{key:"GetReactionTorque",value:function(t){return t*this.m_angularImpulse}},{key:"SetLinearOffset",value:function(t){k.IsEqualToV(t,this.m_linearOffset)||(this.m_bodyA.SetAwake(!0),this.m_bodyB.SetAwake(!0),this.m_linearOffset.Copy(t))}},{key:"GetLinearOffset",value:function(){return this.m_linearOffset}},{key:"SetAngularOffset",value:function(t){t!==this.m_angularOffset&&(this.m_bodyA.SetAwake(!0),this.m_bodyB.SetAwake(!0),this.m_angularOffset=t)}},{key:"GetAngularOffset",value:function(){return this.m_angularOffset}},{key:"SetMaxForce",value:function(t){this.m_maxForce=t}},{key:"GetMaxForce",value:function(){return this.m_maxForce}},{key:"SetMaxTorque",value:function(t){this.m_maxTorque=t}},{key:"GetMaxTorque",value:function(){return this.m_maxTorque}},{key:"InitVelocityConstraints",value:function(t){this.m_indexA=this.m_bodyA.m_islandIndex,this.m_indexB=this.m_bodyB.m_islandIndex,this.m_localCenterA.Copy(this.m_bodyA.m_sweep.localCenter),this.m_localCenterB.Copy(this.m_bodyB.m_sweep.localCenter),this.m_invMassA=this.m_bodyA.m_invMass,this.m_invMassB=this.m_bodyB.m_invMass,this.m_invIA=this.m_bodyA.m_invI,this.m_invIB=this.m_bodyB.m_invI;var e=t.positions[this.m_indexA].c,i=t.positions[this.m_indexA].a,n=t.velocities[this.m_indexA].v,r=t.velocities[this.m_indexA].w,s=t.positions[this.m_indexB].c,o=t.positions[this.m_indexB].a,a=t.velocities[this.m_indexB].v,A=t.velocities[this.m_indexB].w,l=this.m_qA.SetAngle(i),u=this.m_qB.SetAngle(o),h=T.MulRV(l,k.SubVV(this.m_linearOffset,this.m_localCenterA,k.s_t0),this.m_rA),c=T.MulRV(u,k.NegV(this.m_localCenterB,k.s_t0),this.m_rB),f=this.m_invMassA,m=this.m_invMassB,_=this.m_invIA,g=this.m_invIB,d=this.m_K;if(d.ex.x=f+m+_*h.y*h.y+g*c.y*c.y,d.ex.y=-_*h.x*h.y-g*c.x*c.y,d.ey.x=d.ex.y,d.ey.y=f+m+_*h.x*h.x+g*c.x*c.x,d.GetInverse(this.m_linearMass),this.m_angularMass=_+g,this.m_angularMass>0&&(this.m_angularMass=1/this.m_angularMass),k.SubVV(k.AddVV(s,c,k.s_t0),k.AddVV(e,h,k.s_t1),this.m_linearError),this.m_angularError=o-i-this.m_angularOffset,t.step.warmStarting){this.m_linearImpulse.SelfMul(t.step.dtRatio),this.m_angularImpulse*=t.step.dtRatio;var p=this.m_linearImpulse;n.SelfMulSub(f,p),r-=_*(k.CrossVV(h,p)+this.m_angularImpulse),a.SelfMulAdd(m,p),A+=g*(k.CrossVV(c,p)+this.m_angularImpulse)}else this.m_linearImpulse.SetZero(),this.m_angularImpulse=0;t.velocities[this.m_indexA].w=r,t.velocities[this.m_indexB].w=A}},{key:"SolveVelocityConstraints",value:function(t){var e=t.velocities[this.m_indexA].v,n=t.velocities[this.m_indexA].w,r=t.velocities[this.m_indexB].v,s=t.velocities[this.m_indexB].w,o=this.m_invMassA,a=this.m_invMassB,A=this.m_invIA,l=this.m_invIB,u=t.step.dt,h=t.step.inv_dt,c=-this.m_angularMass*(s-n+h*this.m_correctionFactor*this.m_angularError),f=this.m_angularImpulse,m=u*this.m_maxTorque;this.m_angularImpulse=y(this.m_angularImpulse+c,-m,m),n-=A*(c=this.m_angularImpulse-f),s+=l*c;var _=this.m_rA,g=this.m_rB,d=k.AddVV(k.SubVV(k.AddVV(r,k.CrossSV(s,g,k.s_t0),k.s_t0),k.AddVV(e,k.CrossSV(n,_,k.s_t1),k.s_t1),k.s_t2),k.MulSV(h*this.m_correctionFactor,this.m_linearError,k.s_t3),i.SolveVelocityConstraints_s_Cdot_v2),p=R.MulMV(this.m_linearMass,d,i.SolveVelocityConstraints_s_impulse_v2).SelfNeg(),C=i.SolveVelocityConstraints_s_oldImpulse_v2.Copy(this.m_linearImpulse);this.m_linearImpulse.SelfAdd(p);var v=u*this.m_maxForce;this.m_linearImpulse.LengthSquared()>v*v&&(this.m_linearImpulse.Normalize(),this.m_linearImpulse.SelfMul(v)),k.SubVV(this.m_linearImpulse,C,p),e.SelfMulSub(o,p),n-=A*k.CrossVV(_,p),r.SelfMulAdd(a,p),s+=l*k.CrossVV(g,p),t.velocities[this.m_indexA].w=n,t.velocities[this.m_indexB].w=s}},{key:"SolvePositionConstraints",value:function(t){return!0}},{key:"Dump",value:function(t){var e=this.m_bodyA.m_islandIndex,i=this.m_bodyB.m_islandIndex;t("  const jd: b2MotorJointDef = new b2MotorJointDef();\n"),t("  jd.bodyA = bodies[%d];\n",e),t("  jd.bodyB = bodies[%d];\n",i),t("  jd.collideConnected = %s;\n",this.m_collideConnected?"true":"false"),t("  jd.linearOffset.Set(%.15f, %.15f);\n",this.m_linearOffset.x,this.m_linearOffset.y),t("  jd.angularOffset = %.15f;\n",this.m_angularOffset),t("  jd.maxForce = %.15f;\n",this.m_maxForce),t("  jd.maxTorque = %.15f;\n",this.m_maxTorque),t("  jd.correctionFactor = %.15f;\n",this.m_correctionFactor),t("  joints[%d] = this.m_world.CreateJoint(jd);\n",this.m_index)}}]),i}(ci);pi.SolveVelocityConstraints_s_Cdot_v2=new k,pi.SolveVelocityConstraints_s_impulse_v2=new k,pi.SolveVelocityConstraints_s_oldImpulse_v2=new k;var yi=function(t){function i(t){var n;return _classCallCheck2(this,i),(n=_possibleConstructorReturn(this,_getPrototypeOf(i).call(this,t))).m_localAnchorB=new k,n.m_targetA=new k,n.m_frequencyHz=0,n.m_dampingRatio=0,n.m_beta=0,n.m_impulse=new k,n.m_maxForce=0,n.m_gamma=0,n.m_indexA=0,n.m_indexB=0,n.m_rB=new k,n.m_localCenterB=new k,n.m_invMassB=0,n.m_invIB=0,n.m_mass=new R,n.m_C=new k,n.m_qB=new T,n.m_lalcB=new k,n.m_K=new R,n.m_targetA.Copy(e(t.target,k.ZERO)),G.MulTXV(n.m_bodyB.GetTransform(),n.m_targetA,n.m_localAnchorB),n.m_maxForce=e(t.maxForce,0),n.m_impulse.SetZero(),n.m_frequencyHz=e(t.frequencyHz,0),n.m_dampingRatio=e(t.dampingRatio,0),n.m_beta=0,n.m_gamma=0,n}return _inherits(i,t),_createClass2(i,[{key:"SetTarget",value:function(t){this.m_bodyB.IsAwake()||this.m_bodyB.SetAwake(!0),this.m_targetA.Copy(t)}},{key:"GetTarget",value:function(){return this.m_targetA}},{key:"SetMaxForce",value:function(t){this.m_maxForce=t}},{key:"GetMaxForce",value:function(){return this.m_maxForce}},{key:"SetFrequency",value:function(t){this.m_frequencyHz=t}},{key:"GetFrequency",value:function(){return this.m_frequencyHz}},{key:"SetDampingRatio",value:function(t){this.m_dampingRatio=t}},{key:"GetDampingRatio",value:function(){return this.m_dampingRatio}},{key:"InitVelocityConstraints",value:function(t){this.m_indexB=this.m_bodyB.m_islandIndex,this.m_localCenterB.Copy(this.m_bodyB.m_sweep.localCenter),this.m_invMassB=this.m_bodyB.m_invMass,this.m_invIB=this.m_bodyB.m_invI;var e=t.positions[this.m_indexB].c,i=t.velocities[this.m_indexB].v,n=t.velocities[this.m_indexB].w,r=this.m_qB.SetAngle(t.positions[this.m_indexB].a),o=this.m_bodyB.GetMass(),a=2*s*this.m_frequencyHz,A=o*(a*a),l=t.step.dt;this.m_gamma=l*(2*o*this.m_dampingRatio*a+l*A),0!==this.m_gamma&&(this.m_gamma=1/this.m_gamma),this.m_beta=l*A*this.m_gamma,k.SubVV(this.m_localAnchorB,this.m_localCenterB,this.m_lalcB),T.MulRV(r,this.m_lalcB,this.m_rB);var u=this.m_K;u.ex.x=this.m_invMassB+this.m_invIB*this.m_rB.y*this.m_rB.y+this.m_gamma,u.ex.y=-this.m_invIB*this.m_rB.x*this.m_rB.y,u.ey.x=u.ex.y,u.ey.y=this.m_invMassB+this.m_invIB*this.m_rB.x*this.m_rB.x+this.m_gamma,u.GetInverse(this.m_mass),this.m_C.x=e.x+this.m_rB.x-this.m_targetA.x,this.m_C.y=e.y+this.m_rB.y-this.m_targetA.y,this.m_C.SelfMul(this.m_beta),n*=.98,t.step.warmStarting?(this.m_impulse.SelfMul(t.step.dtRatio),i.x+=this.m_invMassB*this.m_impulse.x,i.y+=this.m_invMassB*this.m_impulse.y,n+=this.m_invIB*k.CrossVV(this.m_rB,this.m_impulse)):this.m_impulse.SetZero(),t.velocities[this.m_indexB].w=n}},{key:"SolveVelocityConstraints",value:function(t){var e=t.velocities[this.m_indexB].v,n=t.velocities[this.m_indexB].w,r=k.AddVCrossSV(e,n,this.m_rB,i.SolveVelocityConstraints_s_Cdot),s=R.MulMV(this.m_mass,k.AddVV(r,k.AddVV(this.m_C,k.MulSV(this.m_gamma,this.m_impulse,k.s_t0),k.s_t0),k.s_t0).SelfNeg(),i.SolveVelocityConstraints_s_impulse),o=i.SolveVelocityConstraints_s_oldImpulse.Copy(this.m_impulse);this.m_impulse.SelfAdd(s);var a=t.step.dt*this.m_maxForce;this.m_impulse.LengthSquared()>a*a&&this.m_impulse.SelfMul(a/this.m_impulse.Length()),k.SubVV(this.m_impulse,o,s),e.SelfMulAdd(this.m_invMassB,s),n+=this.m_invIB*k.CrossVV(this.m_rB,s),t.velocities[this.m_indexB].w=n}},{key:"SolvePositionConstraints",value:function(t){return!0}},{key:"GetAnchorA",value:function(t){return t.x=this.m_targetA.x,t.y=this.m_targetA.y,t}},{key:"GetAnchorB",value:function(t){return this.m_bodyB.GetWorldPoint(this.m_localAnchorB,t)}},{key:"GetReactionForce",value:function(t,e){return k.MulSV(t,this.m_impulse,e)}},{key:"GetReactionTorque",value:function(t){return 0}},{key:"Dump",value:function(t){t("Mouse joint dumping is not supported.\n")}},{key:"ShiftOrigin",value:function(t){this.m_targetA.SelfSub(t)}}]),i}(ci);yi.SolveVelocityConstraints_s_Cdot=new k,yi.SolveVelocityConstraints_s_impulse=new k,yi.SolveVelocityConstraints_s_oldImpulse=new k;var Ci=function(i){function n(i){var r;return _classCallCheck2(this,n),(r=_possibleConstructorReturn(this,_getPrototypeOf(n).call(this,i))).m_localAnchorA=new k,r.m_localAnchorB=new k,r.m_localXAxisA=new k,r.m_localYAxisA=new k,r.m_referenceAngle=0,r.m_impulse=new M(0,0,0),r.m_motorImpulse=0,r.m_lowerTranslation=0,r.m_upperTranslation=0,r.m_maxMotorForce=0,r.m_motorSpeed=0,r.m_enableLimit=!1,r.m_enableMotor=!1,r.m_limitState=t.b2LimitState.e_inactiveLimit,r.m_indexA=0,r.m_indexB=0,r.m_localCenterA=new k,r.m_localCenterB=new k,r.m_invMassA=0,r.m_invMassB=0,r.m_invIA=0,r.m_invIB=0,r.m_axis=new k(0,0),r.m_perp=new k(0,0),r.m_s1=0,r.m_s2=0,r.m_a1=0,r.m_a2=0,r.m_K=new V,r.m_K3=new V,r.m_K2=new R,r.m_motorMass=0,r.m_qA=new T,r.m_qB=new T,r.m_lalcA=new k,r.m_lalcB=new k,r.m_rA=new k,r.m_rB=new k,r.m_localAnchorA.Copy(e(i.localAnchorA,k.ZERO)),r.m_localAnchorB.Copy(e(i.localAnchorB,k.ZERO)),r.m_localXAxisA.Copy(e(i.localAxisA,new k(1,0))).SelfNormalize(),k.CrossOneV(r.m_localXAxisA,r.m_localYAxisA),r.m_referenceAngle=e(i.referenceAngle,0),r.m_lowerTranslation=e(i.lowerTranslation,0),r.m_upperTranslation=e(i.upperTranslation,0),r.m_maxMotorForce=e(i.maxMotorForce,0),r.m_motorSpeed=e(i.motorSpeed,0),r.m_enableLimit=e(i.enableLimit,!1),r.m_enableMotor=e(i.enableMotor,!1),r}return _inherits(n,i),_createClass2(n,[{key:"InitVelocityConstraints",value:function(e){this.m_indexA=this.m_bodyA.m_islandIndex,this.m_indexB=this.m_bodyB.m_islandIndex,this.m_localCenterA.Copy(this.m_bodyA.m_sweep.localCenter),this.m_localCenterB.Copy(this.m_bodyB.m_sweep.localCenter),this.m_invMassA=this.m_bodyA.m_invMass,this.m_invMassB=this.m_bodyB.m_invMass,this.m_invIA=this.m_bodyA.m_invI,this.m_invIB=this.m_bodyB.m_invI;var i=e.positions[this.m_indexA].c,r=e.velocities[this.m_indexA].v,s=e.velocities[this.m_indexA].w,o=e.positions[this.m_indexB].c,a=e.positions[this.m_indexB].a,l=e.velocities[this.m_indexB].v,u=e.velocities[this.m_indexB].w,h=this.m_qA.SetAngle(e.positions[this.m_indexA].a),c=this.m_qB.SetAngle(a);k.SubVV(this.m_localAnchorA,this.m_localCenterA,this.m_lalcA);var f=T.MulRV(h,this.m_lalcA,this.m_rA);k.SubVV(this.m_localAnchorB,this.m_localCenterB,this.m_lalcB);var m=T.MulRV(c,this.m_lalcB,this.m_rB),_=k.AddVV(k.SubVV(o,i,k.s_t0),k.SubVV(m,f,k.s_t1),n.InitVelocityConstraints_s_d),d=this.m_invMassA,p=this.m_invMassB,y=this.m_invIA,C=this.m_invIB;if(T.MulRV(h,this.m_localXAxisA,this.m_axis),this.m_a1=k.CrossVV(k.AddVV(_,f,k.s_t0),this.m_axis),this.m_a2=k.CrossVV(m,this.m_axis),this.m_motorMass=d+p+y*this.m_a1*this.m_a1+C*this.m_a2*this.m_a2,this.m_motorMass>0&&(this.m_motorMass=1/this.m_motorMass),T.MulRV(h,this.m_localYAxisA,this.m_perp),this.m_s1=k.CrossVV(k.AddVV(_,f,k.s_t0),this.m_perp),this.m_s2=k.CrossVV(m,this.m_perp),this.m_K.ex.x=d+p+y*this.m_s1*this.m_s1+C*this.m_s2*this.m_s2,this.m_K.ex.y=y*this.m_s1+C*this.m_s2,this.m_K.ex.z=y*this.m_s1*this.m_a1+C*this.m_s2*this.m_a2,this.m_K.ey.x=this.m_K.ex.y,this.m_K.ey.y=y+C,0===this.m_K.ey.y&&(this.m_K.ey.y=1),this.m_K.ey.z=y*this.m_a1+C*this.m_a2,this.m_K.ez.x=this.m_K.ex.z,this.m_K.ez.y=this.m_K.ey.z,this.m_K.ez.z=d+p+y*this.m_a1*this.m_a1+C*this.m_a2*this.m_a2,this.m_enableLimit){var v=k.DotVV(this.m_axis,_);g(this.m_upperTranslation-this.m_lowerTranslation)<2*A?this.m_limitState=t.b2LimitState.e_equalLimits:v<=this.m_lowerTranslation?this.m_limitState!==t.b2LimitState.e_atLowerLimit&&(this.m_limitState=t.b2LimitState.e_atLowerLimit,this.m_impulse.z=0):v>=this.m_upperTranslation?this.m_limitState!==t.b2LimitState.e_atUpperLimit&&(this.m_limitState=t.b2LimitState.e_atUpperLimit,this.m_impulse.z=0):(this.m_limitState=t.b2LimitState.e_inactiveLimit,this.m_impulse.z=0)}else this.m_limitState=t.b2LimitState.e_inactiveLimit,this.m_impulse.z=0;if(this.m_enableMotor||(this.m_motorImpulse=0),e.step.warmStarting){this.m_impulse.SelfMul(e.step.dtRatio),this.m_motorImpulse*=e.step.dtRatio;var I=k.AddVV(k.MulSV(this.m_impulse.x,this.m_perp,k.s_t0),k.MulSV(this.m_motorImpulse+this.m_impulse.z,this.m_axis,k.s_t1),n.InitVelocityConstraints_s_P),B=this.m_impulse.x*this.m_s1+this.m_impulse.y+(this.m_motorImpulse+this.m_impulse.z)*this.m_a1,E=this.m_impulse.x*this.m_s2+this.m_impulse.y+(this.m_motorImpulse+this.m_impulse.z)*this.m_a2;r.SelfMulSub(d,I),s-=y*B,l.SelfMulAdd(p,I),u+=C*E}else this.m_impulse.SetZero(),this.m_motorImpulse=0;e.velocities[this.m_indexA].w=s,e.velocities[this.m_indexB].w=u}},{key:"SolveVelocityConstraints",value:function(e){var i=e.velocities[this.m_indexA].v,r=e.velocities[this.m_indexA].w,s=e.velocities[this.m_indexB].v,o=e.velocities[this.m_indexB].w,a=this.m_invMassA,A=this.m_invMassB,l=this.m_invIA,u=this.m_invIB;if(this.m_enableMotor&&this.m_limitState!==t.b2LimitState.e_equalLimits){var h=k.DotVV(this.m_axis,k.SubVV(s,i,k.s_t0))+this.m_a2*o-this.m_a1*r,c=this.m_motorMass*(this.m_motorSpeed-h),f=this.m_motorImpulse,m=e.step.dt*this.m_maxMotorForce;this.m_motorImpulse=y(this.m_motorImpulse+c,-m,m);var _=k.MulSV(c=this.m_motorImpulse-f,this.m_axis,n.SolveVelocityConstraints_s_P),g=c*this.m_a1,C=c*this.m_a2;i.SelfMulSub(a,_),r-=l*g,s.SelfMulAdd(A,_),o+=u*C}var v=k.DotVV(this.m_perp,k.SubVV(s,i,k.s_t0))+this.m_s2*o-this.m_s1*r,I=o-r;if(this.m_enableLimit&&this.m_limitState!==t.b2LimitState.e_inactiveLimit){var B=k.DotVV(this.m_axis,k.SubVV(s,i,k.s_t0))+this.m_a2*o-this.m_a1*r,E=n.SolveVelocityConstraints_s_f1.Copy(this.m_impulse),w=this.m_K.Solve33(-v,-I,-B,n.SolveVelocityConstraints_s_df3);this.m_impulse.SelfAdd(w),this.m_limitState===t.b2LimitState.e_atLowerLimit?this.m_impulse.z=p(this.m_impulse.z,0):this.m_limitState===t.b2LimitState.e_atUpperLimit&&(this.m_impulse.z=d(this.m_impulse.z,0));var b=this.m_K.Solve22(-v-(this.m_impulse.z-E.z)*this.m_K.ez.x,-I-(this.m_impulse.z-E.z)*this.m_K.ez.y,n.SolveVelocityConstraints_s_f2r);b.x+=E.x,b.y+=E.y,this.m_impulse.x=b.x,this.m_impulse.y=b.y,w.x=this.m_impulse.x-E.x,w.y=this.m_impulse.y-E.y,w.z=this.m_impulse.z-E.z;var x=k.AddVV(k.MulSV(w.x,this.m_perp,k.s_t0),k.MulSV(w.z,this.m_axis,k.s_t1),n.SolveVelocityConstraints_s_P),S=w.x*this.m_s1+w.y+w.z*this.m_a1,Q=w.x*this.m_s2+w.y+w.z*this.m_a2;i.SelfMulSub(a,x),r-=l*S,s.SelfMulAdd(A,x),o+=u*Q}else{var D=this.m_K.Solve22(-v,-I,n.SolveVelocityConstraints_s_df2);this.m_impulse.x+=D.x,this.m_impulse.y+=D.y;var M=k.MulSV(D.x,this.m_perp,n.SolveVelocityConstraints_s_P),R=D.x*this.m_s1+D.y,V=D.x*this.m_s2+D.y;i.SelfMulSub(a,M),r-=l*R,s.SelfMulAdd(A,M),o+=u*V}e.velocities[this.m_indexA].w=r,e.velocities[this.m_indexB].w=o}},{key:"SolvePositionConstraints",value:function(t){var e=t.positions[this.m_indexA].c,i=t.positions[this.m_indexA].a,r=t.positions[this.m_indexB].c,s=t.positions[this.m_indexB].a,o=this.m_qA.SetAngle(i),a=this.m_qB.SetAngle(s),u=this.m_invMassA,h=this.m_invMassB,c=this.m_invIA,f=this.m_invIB,m=T.MulRV(o,this.m_lalcA,this.m_rA),_=T.MulRV(a,this.m_lalcB,this.m_rB),d=k.SubVV(k.AddVV(r,_,k.s_t0),k.AddVV(e,m,k.s_t1),n.SolvePositionConstraints_s_d),C=T.MulRV(o,this.m_localXAxisA,this.m_axis),v=k.CrossVV(k.AddVV(d,m,k.s_t0),C),I=k.CrossVV(_,C),B=T.MulRV(o,this.m_localYAxisA,this.m_perp),E=k.CrossVV(k.AddVV(d,m,k.s_t0),B),w=k.CrossVV(_,B),b=n.SolvePositionConstraints_s_impulse,x=k.DotVV(B,d),S=s-i-this.m_referenceAngle,Q=g(x),D=g(S),M=!1,R=0;if(this.m_enableLimit){var V=k.DotVV(C,d);g(this.m_upperTranslation-this.m_lowerTranslation)<2*A?(R=y(V,-.2,.2),Q=p(Q,g(V)),M=!0):V<=this.m_lowerTranslation?(R=y(V-this.m_lowerTranslation+A,-.2,0),Q=p(Q,this.m_lowerTranslation-V),M=!0):V>=this.m_upperTranslation&&(R=y(V-this.m_upperTranslation-A,0,.2),Q=p(Q,V-this.m_upperTranslation),M=!0)}if(M){var G=c*E+f*w,F=c*E*v+f*w*I,P=c+f;0===P&&(P=1);var N=c*v+f*I,L=u+h+c*v*v+f*I*I,U=this.m_K3;U.ex.SetXYZ(u+h+c*E*E+f*w*w,G,F),U.ey.SetXYZ(G,P,N),U.ez.SetXYZ(F,N,L),b=U.Solve33(-x,-S,-R,b)}else{var O=c*E+f*w,Y=c+f;0===Y&&(Y=1);var H=this.m_K2;H.ex.Set(u+h+c*E*E+f*w*w,O),H.ey.Set(O,Y);var J=H.Solve(-x,-S,n.SolvePositionConstraints_s_impulse1);b.x=J.x,b.y=J.y,b.z=0}var j=k.AddVV(k.MulSV(b.x,B,k.s_t0),k.MulSV(b.z,C,k.s_t1),n.SolvePositionConstraints_s_P),K=b.x*E+b.y+b.z*v,q=b.x*w+b.y+b.z*I;return e.SelfMulSub(u,j),i-=c*K,r.SelfMulAdd(h,j),s+=f*q,t.positions[this.m_indexA].a=i,t.positions[this.m_indexB].a=s,Q<=A&&D<=l}},{key:"GetAnchorA",value:function(t){return this.m_bodyA.GetWorldPoint(this.m_localAnchorA,t)}},{key:"GetAnchorB",value:function(t){return this.m_bodyB.GetWorldPoint(this.m_localAnchorB,t)}},{key:"GetReactionForce",value:function(t,e){return e.x=t*(this.m_impulse.x*this.m_perp.x+(this.m_motorImpulse+this.m_impulse.z)*this.m_axis.x),e.y=t*(this.m_impulse.x*this.m_perp.y+(this.m_motorImpulse+this.m_impulse.z)*this.m_axis.y),e}},{key:"GetReactionTorque",value:function(t){return t*this.m_impulse.y}},{key:"GetLocalAnchorA",value:function(){return this.m_localAnchorA}},{key:"GetLocalAnchorB",value:function(){return this.m_localAnchorB}},{key:"GetLocalAxisA",value:function(){return this.m_localXAxisA}},{key:"GetReferenceAngle",value:function(){return this.m_referenceAngle}},{key:"GetJointTranslation",value:function(){var t=this.m_bodyA.GetWorldPoint(this.m_localAnchorA,n.GetJointTranslation_s_pA),e=this.m_bodyB.GetWorldPoint(this.m_localAnchorB,n.GetJointTranslation_s_pB),i=k.SubVV(e,t,n.GetJointTranslation_s_d),r=this.m_bodyA.GetWorldVector(this.m_localXAxisA,n.GetJointTranslation_s_axis);return k.DotVV(i,r)}},{key:"GetJointSpeed",value:function(){var t=this.m_bodyA,e=this.m_bodyB;k.SubVV(this.m_localAnchorA,t.m_sweep.localCenter,this.m_lalcA);var i=T.MulRV(t.m_xf.q,this.m_lalcA,this.m_rA);k.SubVV(this.m_localAnchorB,e.m_sweep.localCenter,this.m_lalcB);var n=T.MulRV(e.m_xf.q,this.m_lalcB,this.m_rB),r=k.AddVV(t.m_sweep.c,i,k.s_t0),s=k.AddVV(e.m_sweep.c,n,k.s_t1),o=k.SubVV(s,r,k.s_t2),a=t.GetWorldVector(this.m_localXAxisA,this.m_axis),A=t.m_linearVelocity,l=e.m_linearVelocity,u=t.m_angularVelocity,h=e.m_angularVelocity;return k.DotVV(o,k.CrossSV(u,a,k.s_t0))+k.DotVV(a,k.SubVV(k.AddVCrossSV(l,h,n,k.s_t0),k.AddVCrossSV(A,u,i,k.s_t1),k.s_t0))}},{key:"IsLimitEnabled",value:function(){return this.m_enableLimit}},{key:"EnableLimit",value:function(t){t!==this.m_enableLimit&&(this.m_bodyA.SetAwake(!0),this.m_bodyB.SetAwake(!0),this.m_enableLimit=t,this.m_impulse.z=0)}},{key:"GetLowerLimit",value:function(){return this.m_lowerTranslation}},{key:"GetUpperLimit",value:function(){return this.m_upperTranslation}},{key:"SetLimits",value:function(t,e){t===this.m_lowerTranslation&&e===this.m_upperTranslation||(this.m_bodyA.SetAwake(!0),this.m_bodyB.SetAwake(!0),this.m_lowerTranslation=t,this.m_upperTranslation=e,this.m_impulse.z=0)}},{key:"IsMotorEnabled",value:function(){return this.m_enableMotor}},{key:"EnableMotor",value:function(t){t!==this.m_enableMotor&&(this.m_bodyA.SetAwake(!0),this.m_bodyB.SetAwake(!0),this.m_enableMotor=t)}},{key:"SetMotorSpeed",value:function(t){t!==this.m_motorSpeed&&(this.m_bodyA.SetAwake(!0),this.m_bodyB.SetAwake(!0),this.m_motorSpeed=t)}},{key:"GetMotorSpeed",value:function(){return this.m_motorSpeed}},{key:"SetMaxMotorForce",value:function(t){t!==this.m_maxMotorForce&&(this.m_bodyA.SetAwake(!0),this.m_bodyB.SetAwake(!0),this.m_maxMotorForce=t)}},{key:"GetMaxMotorForce",value:function(){return this.m_maxMotorForce}},{key:"GetMotorForce",value:function(t){return t*this.m_motorImpulse}},{key:"Dump",value:function(t){var e=this.m_bodyA.m_islandIndex,i=this.m_bodyB.m_islandIndex;t("  const jd: b2PrismaticJointDef = new b2PrismaticJointDef();\n"),t("  jd.bodyA = bodies[%d];\n",e),t("  jd.bodyB = bodies[%d];\n",i),t("  jd.collideConnected = %s;\n",this.m_collideConnected?"true":"false"),t("  jd.localAnchorA.Set(%.15f, %.15f);\n",this.m_localAnchorA.x,this.m_localAnchorA.y),t("  jd.localAnchorB.Set(%.15f, %.15f);\n",this.m_localAnchorB.x,this.m_localAnchorB.y),t("  jd.localAxisA.Set(%.15f, %.15f);\n",this.m_localXAxisA.x,this.m_localXAxisA.y),t("  jd.referenceAngle = %.15f;\n",this.m_referenceAngle),t("  jd.enableLimit = %s;\n",this.m_enableLimit?"true":"false"),t("  jd.lowerTranslation = %.15f;\n",this.m_lowerTranslation),t("  jd.upperTranslation = %.15f;\n",this.m_upperTranslation),t("  jd.enableMotor = %s;\n",this.m_enableMotor?"true":"false"),t("  jd.motorSpeed = %.15f;\n",this.m_motorSpeed),t("  jd.maxMotorForce = %.15f;\n",this.m_maxMotorForce),t("  joints[%d] = this.m_world.CreateJoint(jd);\n",this.m_index)}}]),n}(ci);Ci.InitVelocityConstraints_s_d=new k,Ci.InitVelocityConstraints_s_P=new k,Ci.SolveVelocityConstraints_s_P=new k,Ci.SolveVelocityConstraints_s_f2r=new k,Ci.SolveVelocityConstraints_s_f1=new M,Ci.SolveVelocityConstraints_s_df3=new M,Ci.SolveVelocityConstraints_s_df2=new k,Ci.SolvePositionConstraints_s_d=new k,Ci.SolvePositionConstraints_s_impulse=new M,Ci.SolvePositionConstraints_s_impulse1=new k,Ci.SolvePositionConstraints_s_P=new k,Ci.GetJointTranslation_s_pA=new k,Ci.GetJointTranslation_s_pB=new k,Ci.GetJointTranslation_s_d=new k,Ci.GetJointTranslation_s_axis=new k;var vi=function(t){function i(t){var n;return _classCallCheck2(this,i),(n=_possibleConstructorReturn(this,_getPrototypeOf(i).call(this,t))).m_groundAnchorA=new k,n.m_groundAnchorB=new k,n.m_lengthA=0,n.m_lengthB=0,n.m_localAnchorA=new k,n.m_localAnchorB=new k,n.m_constant=0,n.m_ratio=0,n.m_impulse=0,n.m_indexA=0,n.m_indexB=0,n.m_uA=new k,n.m_uB=new k,n.m_rA=new k,n.m_rB=new k,n.m_localCenterA=new k,n.m_localCenterB=new k,n.m_invMassA=0,n.m_invMassB=0,n.m_invIA=0,n.m_invIB=0,n.m_mass=0,n.m_qA=new T,n.m_qB=new T,n.m_lalcA=new k,n.m_lalcB=new k,n.m_groundAnchorA.Copy(e(t.groundAnchorA,new k(-1,1))),n.m_groundAnchorB.Copy(e(t.groundAnchorB,new k(1,0))),n.m_localAnchorA.Copy(e(t.localAnchorA,new k(-1,0))),n.m_localAnchorB.Copy(e(t.localAnchorB,new k(1,0))),n.m_lengthA=e(t.lengthA,0),n.m_lengthB=e(t.lengthB,0),n.m_ratio=e(t.ratio,1),n.m_constant=e(t.lengthA,0)+n.m_ratio*e(t.lengthB,0),n.m_impulse=0,n}return _inherits(i,t),_createClass2(i,[{key:"InitVelocityConstraints",value:function(t){this.m_indexA=this.m_bodyA.m_islandIndex,this.m_indexB=this.m_bodyB.m_islandIndex,this.m_localCenterA.Copy(this.m_bodyA.m_sweep.localCenter),this.m_localCenterB.Copy(this.m_bodyB.m_sweep.localCenter),this.m_invMassA=this.m_bodyA.m_invMass,this.m_invMassB=this.m_bodyB.m_invMass,this.m_invIA=this.m_bodyA.m_invI,this.m_invIB=this.m_bodyB.m_invI;var e=t.positions[this.m_indexA].c,n=t.velocities[this.m_indexA].v,r=t.velocities[this.m_indexA].w,s=t.positions[this.m_indexB].c,o=t.positions[this.m_indexB].a,a=t.velocities[this.m_indexB].v,l=t.velocities[this.m_indexB].w,u=this.m_qA.SetAngle(t.positions[this.m_indexA].a),h=this.m_qB.SetAngle(o);k.SubVV(this.m_localAnchorA,this.m_localCenterA,this.m_lalcA),T.MulRV(u,this.m_lalcA,this.m_rA),k.SubVV(this.m_localAnchorB,this.m_localCenterB,this.m_lalcB),T.MulRV(h,this.m_lalcB,this.m_rB),this.m_uA.Copy(e).SelfAdd(this.m_rA).SelfSub(this.m_groundAnchorA),this.m_uB.Copy(s).SelfAdd(this.m_rB).SelfSub(this.m_groundAnchorB);var c=this.m_uA.Length(),f=this.m_uB.Length();c>10*A?this.m_uA.SelfMul(1/c):this.m_uA.SetZero(),f>10*A?this.m_uB.SelfMul(1/f):this.m_uB.SetZero();var m=k.CrossVV(this.m_rA,this.m_uA),_=k.CrossVV(this.m_rB,this.m_uB);if(this.m_mass=this.m_invMassA+this.m_invIA*m*m+this.m_ratio*this.m_ratio*(this.m_invMassB+this.m_invIB*_*_),this.m_mass>0&&(this.m_mass=1/this.m_mass),t.step.warmStarting){this.m_impulse*=t.step.dtRatio;var g=k.MulSV(-this.m_impulse,this.m_uA,i.InitVelocityConstraints_s_PA),d=k.MulSV(-this.m_ratio*this.m_impulse,this.m_uB,i.InitVelocityConstraints_s_PB);n.SelfMulAdd(this.m_invMassA,g),r+=this.m_invIA*k.CrossVV(this.m_rA,g),a.SelfMulAdd(this.m_invMassB,d),l+=this.m_invIB*k.CrossVV(this.m_rB,d)}else this.m_impulse=0;t.velocities[this.m_indexA].w=r,t.velocities[this.m_indexB].w=l}},{key:"SolveVelocityConstraints",value:function(t){var e=t.velocities[this.m_indexA].v,n=t.velocities[this.m_indexA].w,r=t.velocities[this.m_indexB].v,s=t.velocities[this.m_indexB].w,o=k.AddVCrossSV(e,n,this.m_rA,i.SolveVelocityConstraints_s_vpA),a=k.AddVCrossSV(r,s,this.m_rB,i.SolveVelocityConstraints_s_vpB),A=-k.DotVV(this.m_uA,o)-this.m_ratio*k.DotVV(this.m_uB,a),l=-this.m_mass*A;this.m_impulse+=l;var u=k.MulSV(-l,this.m_uA,i.SolveVelocityConstraints_s_PA),h=k.MulSV(-this.m_ratio*l,this.m_uB,i.SolveVelocityConstraints_s_PB);e.SelfMulAdd(this.m_invMassA,u),n+=this.m_invIA*k.CrossVV(this.m_rA,u),r.SelfMulAdd(this.m_invMassB,h),s+=this.m_invIB*k.CrossVV(this.m_rB,h),t.velocities[this.m_indexA].w=n,t.velocities[this.m_indexB].w=s}},{key:"SolvePositionConstraints",value:function(t){var e=t.positions[this.m_indexA].c,n=t.positions[this.m_indexA].a,r=t.positions[this.m_indexB].c,s=t.positions[this.m_indexB].a,o=this.m_qA.SetAngle(n),a=this.m_qB.SetAngle(s);k.SubVV(this.m_localAnchorA,this.m_localCenterA,this.m_lalcA);var l=T.MulRV(o,this.m_lalcA,this.m_rA);k.SubVV(this.m_localAnchorB,this.m_localCenterB,this.m_lalcB);var u=T.MulRV(a,this.m_lalcB,this.m_rB),h=this.m_uA.Copy(e).SelfAdd(l).SelfSub(this.m_groundAnchorA),c=this.m_uB.Copy(r).SelfAdd(u).SelfSub(this.m_groundAnchorB),f=h.Length(),m=c.Length();f>10*A?h.SelfMul(1/f):h.SetZero(),m>10*A?c.SelfMul(1/m):c.SetZero();var _=k.CrossVV(l,h),d=k.CrossVV(u,c),p=this.m_invMassA+this.m_invIA*_*_+this.m_ratio*this.m_ratio*(this.m_invMassB+this.m_invIB*d*d);p>0&&(p=1/p);var y=this.m_constant-f-this.m_ratio*m,C=g(y),v=-p*y,I=k.MulSV(-v,h,i.SolvePositionConstraints_s_PA),B=k.MulSV(-this.m_ratio*v,c,i.SolvePositionConstraints_s_PB);return e.SelfMulAdd(this.m_invMassA,I),n+=this.m_invIA*k.CrossVV(l,I),r.SelfMulAdd(this.m_invMassB,B),s+=this.m_invIB*k.CrossVV(u,B),t.positions[this.m_indexA].a=n,t.positions[this.m_indexB].a=s,C<A}},{key:"GetAnchorA",value:function(t){return this.m_bodyA.GetWorldPoint(this.m_localAnchorA,t)}},{key:"GetAnchorB",value:function(t){return this.m_bodyB.GetWorldPoint(this.m_localAnchorB,t)}},{key:"GetReactionForce",value:function(t,e){return e.x=t*this.m_impulse*this.m_uB.x,e.y=t*this.m_impulse*this.m_uB.y,e}},{key:"GetReactionTorque",value:function(t){return 0}},{key:"GetGroundAnchorA",value:function(){return this.m_groundAnchorA}},{key:"GetGroundAnchorB",value:function(){return this.m_groundAnchorB}},{key:"GetLengthA",value:function(){return this.m_lengthA}},{key:"GetLengthB",value:function(){return this.m_lengthB}},{key:"GetRatio",value:function(){return this.m_ratio}},{key:"GetCurrentLengthA",value:function(){var t=this.m_bodyA.GetWorldPoint(this.m_localAnchorA,i.GetCurrentLengthA_s_p);return k.DistanceVV(t,this.m_groundAnchorA)}},{key:"GetCurrentLengthB",value:function(){var t=this.m_bodyB.GetWorldPoint(this.m_localAnchorB,i.GetCurrentLengthB_s_p);return k.DistanceVV(t,this.m_groundAnchorB)}},{key:"Dump",value:function(t){var e=this.m_bodyA.m_islandIndex,i=this.m_bodyB.m_islandIndex;t("  const jd: b2PulleyJointDef = new b2PulleyJointDef();\n"),t("  jd.bodyA = bodies[%d];\n",e),t("  jd.bodyB = bodies[%d];\n",i),t("  jd.collideConnected = %s;\n",this.m_collideConnected?"true":"false"),t("  jd.groundAnchorA.Set(%.15f, %.15f);\n",this.m_groundAnchorA.x,this.m_groundAnchorA.y),t("  jd.groundAnchorB.Set(%.15f, %.15f);\n",this.m_groundAnchorB.x,this.m_groundAnchorB.y),t("  jd.localAnchorA.Set(%.15f, %.15f);\n",this.m_localAnchorA.x,this.m_localAnchorA.y),t("  jd.localAnchorB.Set(%.15f, %.15f);\n",this.m_localAnchorB.x,this.m_localAnchorB.y),t("  jd.lengthA = %.15f;\n",this.m_lengthA),t("  jd.lengthB = %.15f;\n",this.m_lengthB),t("  jd.ratio = %.15f;\n",this.m_ratio),t("  joints[%d] = this.m_world.CreateJoint(jd);\n",this.m_index)}},{key:"ShiftOrigin",value:function(t){this.m_groundAnchorA.SelfSub(t),this.m_groundAnchorB.SelfSub(t)}}]),i}(ci);vi.InitVelocityConstraints_s_PA=new k,vi.InitVelocityConstraints_s_PB=new k,vi.SolveVelocityConstraints_s_vpA=new k,vi.SolveVelocityConstraints_s_vpB=new k,vi.SolveVelocityConstraints_s_PA=new k,vi.SolveVelocityConstraints_s_PB=new k,vi.SolvePositionConstraints_s_PA=new k,vi.SolvePositionConstraints_s_PB=new k,vi.GetCurrentLengthA_s_p=new k,vi.GetCurrentLengthB_s_p=new k;var Ii=function(i){function n(i){var r;return _classCallCheck2(this,n),(r=_possibleConstructorReturn(this,_getPrototypeOf(n).call(this,i))).m_localAnchorA=new k,r.m_localAnchorB=new k,r.m_impulse=new M,r.m_motorImpulse=0,r.m_enableMotor=!1,r.m_maxMotorTorque=0,r.m_motorSpeed=0,r.m_enableLimit=!1,r.m_referenceAngle=0,r.m_lowerAngle=0,r.m_upperAngle=0,r.m_indexA=0,r.m_indexB=0,r.m_rA=new k,r.m_rB=new k,r.m_localCenterA=new k,r.m_localCenterB=new k,r.m_invMassA=0,r.m_invMassB=0,r.m_invIA=0,r.m_invIB=0,r.m_mass=new V,r.m_motorMass=0,r.m_limitState=t.b2LimitState.e_inactiveLimit,r.m_qA=new T,r.m_qB=new T,r.m_lalcA=new k,r.m_lalcB=new k,r.m_K=new R,r.m_localAnchorA.Copy(e(i.localAnchorA,k.ZERO)),r.m_localAnchorB.Copy(e(i.localAnchorB,k.ZERO)),r.m_referenceAngle=e(i.referenceAngle,0),r.m_impulse.SetZero(),r.m_motorImpulse=0,r.m_lowerAngle=e(i.lowerAngle,0),r.m_upperAngle=e(i.upperAngle,0),r.m_maxMotorTorque=e(i.maxMotorTorque,0),r.m_motorSpeed=e(i.motorSpeed,0),r.m_enableLimit=e(i.enableLimit,!1),r.m_enableMotor=e(i.enableMotor,!1),r.m_limitState=t.b2LimitState.e_inactiveLimit,r}return _inherits(n,i),_createClass2(n,[{key:"InitVelocityConstraints",value:function(e){this.m_indexA=this.m_bodyA.m_islandIndex,this.m_indexB=this.m_bodyB.m_islandIndex,this.m_localCenterA.Copy(this.m_bodyA.m_sweep.localCenter),this.m_localCenterB.Copy(this.m_bodyB.m_sweep.localCenter),this.m_invMassA=this.m_bodyA.m_invMass,this.m_invMassB=this.m_bodyB.m_invMass,this.m_invIA=this.m_bodyA.m_invI,this.m_invIB=this.m_bodyB.m_invI;var i=e.positions[this.m_indexA].a,r=e.velocities[this.m_indexA].v,s=e.velocities[this.m_indexA].w,o=e.positions[this.m_indexB].a,a=e.velocities[this.m_indexB].v,A=e.velocities[this.m_indexB].w,u=this.m_qA.SetAngle(i),h=this.m_qB.SetAngle(o);k.SubVV(this.m_localAnchorA,this.m_localCenterA,this.m_lalcA),T.MulRV(u,this.m_lalcA,this.m_rA),k.SubVV(this.m_localAnchorB,this.m_localCenterB,this.m_lalcB),T.MulRV(h,this.m_lalcB,this.m_rB);var c=this.m_invMassA,f=this.m_invMassB,m=this.m_invIA,_=this.m_invIB,d=m+_===0;if(this.m_mass.ex.x=c+f+this.m_rA.y*this.m_rA.y*m+this.m_rB.y*this.m_rB.y*_,this.m_mass.ey.x=-this.m_rA.y*this.m_rA.x*m-this.m_rB.y*this.m_rB.x*_,this.m_mass.ez.x=-this.m_rA.y*m-this.m_rB.y*_,this.m_mass.ex.y=this.m_mass.ey.x,this.m_mass.ey.y=c+f+this.m_rA.x*this.m_rA.x*m+this.m_rB.x*this.m_rB.x*_,this.m_mass.ez.y=this.m_rA.x*m+this.m_rB.x*_,this.m_mass.ex.z=this.m_mass.ez.x,this.m_mass.ey.z=this.m_mass.ez.y,this.m_mass.ez.z=m+_,this.m_motorMass=m+_,this.m_motorMass>0&&(this.m_motorMass=1/this.m_motorMass),this.m_enableMotor&&!d||(this.m_motorImpulse=0),this.m_enableLimit&&!d){var p=o-i-this.m_referenceAngle;g(this.m_upperAngle-this.m_lowerAngle)<2*l?this.m_limitState=t.b2LimitState.e_equalLimits:p<=this.m_lowerAngle?(this.m_limitState!==t.b2LimitState.e_atLowerLimit&&(this.m_impulse.z=0),this.m_limitState=t.b2LimitState.e_atLowerLimit):p>=this.m_upperAngle?(this.m_limitState!==t.b2LimitState.e_atUpperLimit&&(this.m_impulse.z=0),this.m_limitState=t.b2LimitState.e_atUpperLimit):(this.m_limitState=t.b2LimitState.e_inactiveLimit,this.m_impulse.z=0)}else this.m_limitState=t.b2LimitState.e_inactiveLimit;if(e.step.warmStarting){this.m_impulse.SelfMul(e.step.dtRatio),this.m_motorImpulse*=e.step.dtRatio;var y=n.InitVelocityConstraints_s_P.Set(this.m_impulse.x,this.m_impulse.y);r.SelfMulSub(c,y),s-=m*(k.CrossVV(this.m_rA,y)+this.m_motorImpulse+this.m_impulse.z),a.SelfMulAdd(f,y),A+=_*(k.CrossVV(this.m_rB,y)+this.m_motorImpulse+this.m_impulse.z)}else this.m_impulse.SetZero(),this.m_motorImpulse=0;e.velocities[this.m_indexA].w=s,e.velocities[this.m_indexB].w=A}},{key:"SolveVelocityConstraints",value:function(e){var i=e.velocities[this.m_indexA].v,r=e.velocities[this.m_indexA].w,s=e.velocities[this.m_indexB].v,o=e.velocities[this.m_indexB].w,a=this.m_invMassA,A=this.m_invMassB,l=this.m_invIA,u=this.m_invIB,h=l+u===0;if(this.m_enableMotor&&this.m_limitState!==t.b2LimitState.e_equalLimits&&!h){var c=-this.m_motorMass*(o-r-this.m_motorSpeed),f=this.m_motorImpulse,m=e.step.dt*this.m_maxMotorTorque;this.m_motorImpulse=y(this.m_motorImpulse+c,-m,m),r-=l*(c=this.m_motorImpulse-f),o+=u*c}if(this.m_enableLimit&&this.m_limitState!==t.b2LimitState.e_inactiveLimit&&!h){var _=k.SubVV(k.AddVCrossSV(s,o,this.m_rB,k.s_t0),k.AddVCrossSV(i,r,this.m_rA,k.s_t1),n.SolveVelocityConstraints_s_Cdot1),g=this.m_mass.Solve33(_.x,_.y,o-r,n.SolveVelocityConstraints_s_impulse_v3).SelfNeg();if(this.m_limitState===t.b2LimitState.e_equalLimits)this.m_impulse.SelfAdd(g);else if(this.m_limitState===t.b2LimitState.e_atLowerLimit)if(this.m_impulse.z+g.z<0){var d=this.m_mass.Solve22(this.m_impulse.z*this.m_mass.ez.x-_.x,this.m_impulse.z*this.m_mass.ez.y-_.y,n.SolveVelocityConstraints_s_reduced_v2);g.x=d.x,g.y=d.y,g.z=-this.m_impulse.z,this.m_impulse.x+=d.x,this.m_impulse.y+=d.y,this.m_impulse.z=0}else this.m_impulse.SelfAdd(g);else if(this.m_limitState===t.b2LimitState.e_atUpperLimit)if(this.m_impulse.z+g.z>0){var p=this.m_mass.Solve22(this.m_impulse.z*this.m_mass.ez.x-_.x,this.m_impulse.z*this.m_mass.ez.y-_.y,n.SolveVelocityConstraints_s_reduced_v2);g.x=p.x,g.y=p.y,g.z=-this.m_impulse.z,this.m_impulse.x+=p.x,this.m_impulse.y+=p.y,this.m_impulse.z=0}else this.m_impulse.SelfAdd(g);var C=n.SolveVelocityConstraints_s_P.Set(g.x,g.y);i.SelfMulSub(a,C),r-=l*(k.CrossVV(this.m_rA,C)+g.z),s.SelfMulAdd(A,C),o+=u*(k.CrossVV(this.m_rB,C)+g.z)}else{var v=k.SubVV(k.AddVCrossSV(s,o,this.m_rB,k.s_t0),k.AddVCrossSV(i,r,this.m_rA,k.s_t1),n.SolveVelocityConstraints_s_Cdot_v2),I=this.m_mass.Solve22(-v.x,-v.y,n.SolveVelocityConstraints_s_impulse_v2);this.m_impulse.x+=I.x,this.m_impulse.y+=I.y,i.SelfMulSub(a,I),r-=l*k.CrossVV(this.m_rA,I),s.SelfMulAdd(A,I),o+=u*k.CrossVV(this.m_rB,I)}e.velocities[this.m_indexA].w=r,e.velocities[this.m_indexB].w=o}},{key:"SolvePositionConstraints",value:function(e){var i,r=e.positions[this.m_indexA].c,s=e.positions[this.m_indexA].a,o=e.positions[this.m_indexB].c,a=e.positions[this.m_indexB].a,u=this.m_qA.SetAngle(s),h=this.m_qB.SetAngle(a),c=0;if(this.m_enableLimit&&this.m_limitState!==t.b2LimitState.e_inactiveLimit&&this.m_invIA+this.m_invIB!==0){var f=a-s-this.m_referenceAngle,m=0;if(this.m_limitState===t.b2LimitState.e_equalLimits){var _=y(f-this.m_lowerAngle,-.13962634015955555,.13962634015955555);m=-this.m_motorMass*_,c=g(_)}else if(this.m_limitState===t.b2LimitState.e_atLowerLimit){var d=f-this.m_lowerAngle;c=-d,d=y(d+l,-.13962634015955555,0),m=-this.m_motorMass*d}else if(this.m_limitState===t.b2LimitState.e_atUpperLimit){var p=f-this.m_upperAngle;c=p,p=y(p-l,0,.13962634015955555),m=-this.m_motorMass*p}s-=this.m_invIA*m,a+=this.m_invIB*m}u.SetAngle(s),h.SetAngle(a),k.SubVV(this.m_localAnchorA,this.m_localCenterA,this.m_lalcA);var C=T.MulRV(u,this.m_lalcA,this.m_rA);k.SubVV(this.m_localAnchorB,this.m_localCenterB,this.m_lalcB);var v=T.MulRV(h,this.m_lalcB,this.m_rB),I=k.SubVV(k.AddVV(o,v,k.s_t0),k.AddVV(r,C,k.s_t1),n.SolvePositionConstraints_s_C_v2);i=I.Length();var B=this.m_invMassA,E=this.m_invMassB,w=this.m_invIA,b=this.m_invIB,x=this.m_K;x.ex.x=B+E+w*C.y*C.y+b*v.y*v.y,x.ex.y=-w*C.x*C.y-b*v.x*v.y,x.ey.x=x.ex.y,x.ey.y=B+E+w*C.x*C.x+b*v.x*v.x;var S=x.Solve(I.x,I.y,n.SolvePositionConstraints_s_impulse).SelfNeg();return r.SelfMulSub(B,S),s-=w*k.CrossVV(C,S),o.SelfMulAdd(E,S),a+=b*k.CrossVV(v,S),e.positions[this.m_indexA].a=s,e.positions[this.m_indexB].a=a,i<=A&&c<=l}},{key:"GetAnchorA",value:function(t){return this.m_bodyA.GetWorldPoint(this.m_localAnchorA,t)}},{key:"GetAnchorB",value:function(t){return this.m_bodyB.GetWorldPoint(this.m_localAnchorB,t)}},{key:"GetReactionForce",value:function(t,e){return e.x=t*this.m_impulse.x,e.y=t*this.m_impulse.y,e}},{key:"GetReactionTorque",value:function(t){return t*this.m_impulse.z}},{key:"GetLocalAnchorA",value:function(){return this.m_localAnchorA}},{key:"GetLocalAnchorB",value:function(){return this.m_localAnchorB}},{key:"GetReferenceAngle",value:function(){return this.m_referenceAngle}},{key:"GetJointAngle",value:function(){return this.m_bodyB.m_sweep.a-this.m_bodyA.m_sweep.a-this.m_referenceAngle}},{key:"GetJointSpeed",value:function(){return this.m_bodyB.m_angularVelocity-this.m_bodyA.m_angularVelocity}},{key:"IsMotorEnabled",value:function(){return this.m_enableMotor}},{key:"EnableMotor",value:function(t){t!==this.m_enableMotor&&(this.m_bodyA.SetAwake(!0),this.m_bodyB.SetAwake(!0),this.m_enableMotor=t)}},{key:"GetMotorTorque",value:function(t){return t*this.m_motorImpulse}},{key:"GetMotorSpeed",value:function(){return this.m_motorSpeed}},{key:"SetMaxMotorTorque",value:function(t){t!==this.m_maxMotorTorque&&(this.m_bodyA.SetAwake(!0),this.m_bodyB.SetAwake(!0),this.m_maxMotorTorque=t)}},{key:"GetMaxMotorTorque",value:function(){return this.m_maxMotorTorque}},{key:"IsLimitEnabled",value:function(){return this.m_enableLimit}},{key:"EnableLimit",value:function(t){t!==this.m_enableLimit&&(this.m_bodyA.SetAwake(!0),this.m_bodyB.SetAwake(!0),this.m_enableLimit=t,this.m_impulse.z=0)}},{key:"GetLowerLimit",value:function(){return this.m_lowerAngle}},{key:"GetUpperLimit",value:function(){return this.m_upperAngle}},{key:"SetLimits",value:function(t,e){t===this.m_lowerAngle&&e===this.m_upperAngle||(this.m_bodyA.SetAwake(!0),this.m_bodyB.SetAwake(!0),this.m_impulse.z=0,this.m_lowerAngle=t,this.m_upperAngle=e)}},{key:"SetMotorSpeed",value:function(t){t!==this.m_motorSpeed&&(this.m_bodyA.SetAwake(!0),this.m_bodyB.SetAwake(!0),this.m_motorSpeed=t)}},{key:"Dump",value:function(t){var e=this.m_bodyA.m_islandIndex,i=this.m_bodyB.m_islandIndex;t("  const jd: b2RevoluteJointDef = new b2RevoluteJointDef();\n"),t("  jd.bodyA = bodies[%d];\n",e),t("  jd.bodyB = bodies[%d];\n",i),t("  jd.collideConnected = %s;\n",this.m_collideConnected?"true":"false"),t("  jd.localAnchorA.Set(%.15f, %.15f);\n",this.m_localAnchorA.x,this.m_localAnchorA.y),t("  jd.localAnchorB.Set(%.15f, %.15f);\n",this.m_localAnchorB.x,this.m_localAnchorB.y),t("  jd.referenceAngle = %.15f;\n",this.m_referenceAngle),t("  jd.enableLimit = %s;\n",this.m_enableLimit?"true":"false"),t("  jd.lowerAngle = %.15f;\n",this.m_lowerAngle),t("  jd.upperAngle = %.15f;\n",this.m_upperAngle),t("  jd.enableMotor = %s;\n",this.m_enableMotor?"true":"false"),t("  jd.motorSpeed = %.15f;\n",this.m_motorSpeed),t("  jd.maxMotorTorque = %.15f;\n",this.m_maxMotorTorque),t("  joints[%d] = this.m_world.CreateJoint(jd);\n",this.m_index)}}]),n}(ci);Ii.InitVelocityConstraints_s_P=new k,Ii.SolveVelocityConstraints_s_P=new k,Ii.SolveVelocityConstraints_s_Cdot_v2=new k,Ii.SolveVelocityConstraints_s_Cdot1=new k,Ii.SolveVelocityConstraints_s_impulse_v3=new M,Ii.SolveVelocityConstraints_s_reduced_v2=new k,Ii.SolveVelocityConstraints_s_impulse_v2=new k,Ii.SolvePositionConstraints_s_C_v2=new k,Ii.SolvePositionConstraints_s_impulse=new k;var Bi=function(i){function n(i){var r;return _classCallCheck2(this,n),(r=_possibleConstructorReturn(this,_getPrototypeOf(n).call(this,i))).m_localAnchorA=new k,r.m_localAnchorB=new k,r.m_maxLength=0,r.m_length=0,r.m_impulse=0,r.m_indexA=0,r.m_indexB=0,r.m_u=new k,r.m_rA=new k,r.m_rB=new k,r.m_localCenterA=new k,r.m_localCenterB=new k,r.m_invMassA=0,r.m_invMassB=0,r.m_invIA=0,r.m_invIB=0,r.m_mass=0,r.m_state=t.b2LimitState.e_inactiveLimit,r.m_qA=new T,r.m_qB=new T,r.m_lalcA=new k,r.m_lalcB=new k,r.m_localAnchorA.Copy(e(i.localAnchorA,new k(-1,0))),r.m_localAnchorB.Copy(e(i.localAnchorB,new k(1,0))),r.m_maxLength=e(i.maxLength,0),r}return _inherits(n,i),_createClass2(n,[{key:"InitVelocityConstraints",value:function(e){this.m_indexA=this.m_bodyA.m_islandIndex,this.m_indexB=this.m_bodyB.m_islandIndex,this.m_localCenterA.Copy(this.m_bodyA.m_sweep.localCenter),this.m_localCenterB.Copy(this.m_bodyB.m_sweep.localCenter),this.m_invMassA=this.m_bodyA.m_invMass,this.m_invMassB=this.m_bodyB.m_invMass,this.m_invIA=this.m_bodyA.m_invI,this.m_invIB=this.m_bodyB.m_invI;var i=e.positions[this.m_indexA].c,r=e.velocities[this.m_indexA].v,s=e.velocities[this.m_indexA].w,o=e.positions[this.m_indexB].c,a=e.positions[this.m_indexB].a,l=e.velocities[this.m_indexB].v,u=e.velocities[this.m_indexB].w,h=this.m_qA.SetAngle(e.positions[this.m_indexA].a),c=this.m_qB.SetAngle(a);if(k.SubVV(this.m_localAnchorA,this.m_localCenterA,this.m_lalcA),T.MulRV(h,this.m_lalcA,this.m_rA),k.SubVV(this.m_localAnchorB,this.m_localCenterB,this.m_lalcB),T.MulRV(c,this.m_lalcB,this.m_rB),this.m_u.Copy(o).SelfAdd(this.m_rB).SelfSub(i).SelfSub(this.m_rA),this.m_length=this.m_u.Length(),this.m_state=this.m_length-this.m_maxLength>0?t.b2LimitState.e_atUpperLimit:t.b2LimitState.e_inactiveLimit,!(this.m_length>A))return this.m_u.SetZero(),this.m_mass=0,void(this.m_impulse=0);this.m_u.SelfMul(1/this.m_length);var f=k.CrossVV(this.m_rA,this.m_u),m=k.CrossVV(this.m_rB,this.m_u),_=this.m_invMassA+this.m_invIA*f*f+this.m_invMassB+this.m_invIB*m*m;if(this.m_mass=0!==_?1/_:0,e.step.warmStarting){this.m_impulse*=e.step.dtRatio;var g=k.MulSV(this.m_impulse,this.m_u,n.InitVelocityConstraints_s_P);r.SelfMulSub(this.m_invMassA,g),s-=this.m_invIA*k.CrossVV(this.m_rA,g),l.SelfMulAdd(this.m_invMassB,g),u+=this.m_invIB*k.CrossVV(this.m_rB,g)}else this.m_impulse=0;e.velocities[this.m_indexA].w=s,e.velocities[this.m_indexB].w=u}},{key:"SolveVelocityConstraints",value:function(t){var e=t.velocities[this.m_indexA].v,i=t.velocities[this.m_indexA].w,r=t.velocities[this.m_indexB].v,s=t.velocities[this.m_indexB].w,o=k.AddVCrossSV(e,i,this.m_rA,n.SolveVelocityConstraints_s_vpA),a=k.AddVCrossSV(r,s,this.m_rB,n.SolveVelocityConstraints_s_vpB),A=this.m_length-this.m_maxLength,l=k.DotVV(this.m_u,k.SubVV(a,o,k.s_t0));A<0&&(l+=t.step.inv_dt*A);var u=-this.m_mass*l,h=this.m_impulse;this.m_impulse=d(0,this.m_impulse+u);var c=k.MulSV(u=this.m_impulse-h,this.m_u,n.SolveVelocityConstraints_s_P);e.SelfMulSub(this.m_invMassA,c),i-=this.m_invIA*k.CrossVV(this.m_rA,c),r.SelfMulAdd(this.m_invMassB,c),s+=this.m_invIB*k.CrossVV(this.m_rB,c),t.velocities[this.m_indexA].w=i,t.velocities[this.m_indexB].w=s}},{key:"SolvePositionConstraints",value:function(t){var e=t.positions[this.m_indexA].c,i=t.positions[this.m_indexA].a,r=t.positions[this.m_indexB].c,s=t.positions[this.m_indexB].a,o=this.m_qA.SetAngle(i),a=this.m_qB.SetAngle(s);k.SubVV(this.m_localAnchorA,this.m_localCenterA,this.m_lalcA);var l=T.MulRV(o,this.m_lalcA,this.m_rA);k.SubVV(this.m_localAnchorB,this.m_localCenterB,this.m_lalcB);var u=T.MulRV(a,this.m_lalcB,this.m_rB),h=this.m_u.Copy(r).SelfAdd(u).SelfSub(e).SelfSub(l),c=h.Normalize(),f=c-this.m_maxLength;f=y(f,0,.2);var m=k.MulSV(-this.m_mass*f,h,n.SolvePositionConstraints_s_P);return e.SelfMulSub(this.m_invMassA,m),i-=this.m_invIA*k.CrossVV(l,m),r.SelfMulAdd(this.m_invMassB,m),s+=this.m_invIB*k.CrossVV(u,m),t.positions[this.m_indexA].a=i,t.positions[this.m_indexB].a=s,c-this.m_maxLength<A}},{key:"GetAnchorA",value:function(t){return this.m_bodyA.GetWorldPoint(this.m_localAnchorA,t)}},{key:"GetAnchorB",value:function(t){return this.m_bodyB.GetWorldPoint(this.m_localAnchorB,t)}},{key:"GetReactionForce",value:function(t,e){return k.MulSV(t*this.m_impulse,this.m_u,e)}},{key:"GetReactionTorque",value:function(t){return 0}},{key:"GetLocalAnchorA",value:function(){return this.m_localAnchorA}},{key:"GetLocalAnchorB",value:function(){return this.m_localAnchorB}},{key:"SetMaxLength",value:function(t){this.m_maxLength=t}},{key:"GetMaxLength",value:function(){return this.m_maxLength}},{key:"GetLimitState",value:function(){return this.m_state}},{key:"Dump",value:function(t){var e=this.m_bodyA.m_islandIndex,i=this.m_bodyB.m_islandIndex;t("  const jd: b2RopeJointDef = new b2RopeJointDef();\n"),t("  jd.bodyA = bodies[%d];\n",e),t("  jd.bodyB = bodies[%d];\n",i),t("  jd.collideConnected = %s;\n",this.m_collideConnected?"true":"false"),t("  jd.localAnchorA.Set(%.15f, %.15f);\n",this.m_localAnchorA.x,this.m_localAnchorA.y),t("  jd.localAnchorB.Set(%.15f, %.15f);\n",this.m_localAnchorB.x,this.m_localAnchorB.y),t("  jd.maxLength = %.15f;\n",this.m_maxLength),t("  joints[%d] = this.m_world.CreateJoint(jd);\n",this.m_index)}}]),n}(ci);Bi.InitVelocityConstraints_s_P=new k,Bi.SolveVelocityConstraints_s_vpA=new k,Bi.SolveVelocityConstraints_s_vpB=new k,Bi.SolveVelocityConstraints_s_P=new k,Bi.SolvePositionConstraints_s_P=new k;var Ei=function(t){function i(t){var n;return _classCallCheck2(this,i),(n=_possibleConstructorReturn(this,_getPrototypeOf(i).call(this,t))).m_frequencyHz=0,n.m_dampingRatio=0,n.m_bias=0,n.m_localAnchorA=new k,n.m_localAnchorB=new k,n.m_referenceAngle=0,n.m_gamma=0,n.m_impulse=new M(0,0,0),n.m_indexA=0,n.m_indexB=0,n.m_rA=new k,n.m_rB=new k,n.m_localCenterA=new k,n.m_localCenterB=new k,n.m_invMassA=0,n.m_invMassB=0,n.m_invIA=0,n.m_invIB=0,n.m_mass=new V,n.m_qA=new T,n.m_qB=new T,n.m_lalcA=new k,n.m_lalcB=new k,n.m_K=new V,n.m_frequencyHz=e(t.frequencyHz,0),n.m_dampingRatio=e(t.dampingRatio,0),n.m_localAnchorA.Copy(e(t.localAnchorA,k.ZERO)),n.m_localAnchorB.Copy(e(t.localAnchorB,k.ZERO)),n.m_referenceAngle=e(t.referenceAngle,0),n.m_impulse.SetZero(),n}return _inherits(i,t),_createClass2(i,[{key:"InitVelocityConstraints",value:function(t){this.m_indexA=this.m_bodyA.m_islandIndex,this.m_indexB=this.m_bodyB.m_islandIndex,this.m_localCenterA.Copy(this.m_bodyA.m_sweep.localCenter),this.m_localCenterB.Copy(this.m_bodyB.m_sweep.localCenter),this.m_invMassA=this.m_bodyA.m_invMass,this.m_invMassB=this.m_bodyB.m_invMass,this.m_invIA=this.m_bodyA.m_invI,this.m_invIB=this.m_bodyB.m_invI;var e=t.positions[this.m_indexA].a,n=t.velocities[this.m_indexA].v,r=t.velocities[this.m_indexA].w,o=t.positions[this.m_indexB].a,a=t.velocities[this.m_indexB].v,A=t.velocities[this.m_indexB].w,l=this.m_qA.SetAngle(e),u=this.m_qB.SetAngle(o);k.SubVV(this.m_localAnchorA,this.m_localCenterA,this.m_lalcA),T.MulRV(l,this.m_lalcA,this.m_rA),k.SubVV(this.m_localAnchorB,this.m_localCenterB,this.m_lalcB),T.MulRV(u,this.m_lalcB,this.m_rB);var h=this.m_invMassA,c=this.m_invMassB,f=this.m_invIA,m=this.m_invIB,_=this.m_K;if(_.ex.x=h+c+this.m_rA.y*this.m_rA.y*f+this.m_rB.y*this.m_rB.y*m,_.ey.x=-this.m_rA.y*this.m_rA.x*f-this.m_rB.y*this.m_rB.x*m,_.ez.x=-this.m_rA.y*f-this.m_rB.y*m,_.ex.y=_.ey.x,_.ey.y=h+c+this.m_rA.x*this.m_rA.x*f+this.m_rB.x*this.m_rB.x*m,_.ez.y=this.m_rA.x*f+this.m_rB.x*m,_.ex.z=_.ez.x,_.ey.z=_.ez.y,_.ez.z=f+m,this.m_frequencyHz>0){_.GetInverse22(this.m_mass);var g=f+m,d=g>0?1/g:0,p=o-e-this.m_referenceAngle,y=2*s*this.m_frequencyHz,C=d*y*y,v=t.step.dt;this.m_gamma=v*(2*d*this.m_dampingRatio*y+v*C),this.m_gamma=0!==this.m_gamma?1/this.m_gamma:0,this.m_bias=p*v*C*this.m_gamma,this.m_mass.ez.z=0!==(g+=this.m_gamma)?1/g:0}else _.GetSymInverse33(this.m_mass),this.m_gamma=0,this.m_bias=0;if(t.step.warmStarting){this.m_impulse.SelfMul(t.step.dtRatio);var I=i.InitVelocityConstraints_s_P.Set(this.m_impulse.x,this.m_impulse.y);n.SelfMulSub(h,I),r-=f*(k.CrossVV(this.m_rA,I)+this.m_impulse.z),a.SelfMulAdd(c,I),A+=m*(k.CrossVV(this.m_rB,I)+this.m_impulse.z)}else this.m_impulse.SetZero();t.velocities[this.m_indexA].w=r,t.velocities[this.m_indexB].w=A}},{key:"SolveVelocityConstraints",value:function(t){var e=t.velocities[this.m_indexA].v,n=t.velocities[this.m_indexA].w,r=t.velocities[this.m_indexB].v,s=t.velocities[this.m_indexB].w,o=this.m_invMassA,a=this.m_invMassB,A=this.m_invIA,l=this.m_invIB;if(this.m_frequencyHz>0){var u=-this.m_mass.ez.z*(s-n+this.m_bias+this.m_gamma*this.m_impulse.z);this.m_impulse.z+=u,n-=A*u;var h=k.SubVV(k.AddVCrossSV(r,s+=l*u,this.m_rB,k.s_t0),k.AddVCrossSV(e,n,this.m_rA,k.s_t1),i.SolveVelocityConstraints_s_Cdot1),c=V.MulM33XY(this.m_mass,h.x,h.y,i.SolveVelocityConstraints_s_impulse1).SelfNeg();this.m_impulse.x+=c.x,this.m_impulse.y+=c.y;var f=c;e.SelfMulSub(o,f),n-=A*k.CrossVV(this.m_rA,f),r.SelfMulAdd(a,f),s+=l*k.CrossVV(this.m_rB,f)}else{var m=k.SubVV(k.AddVCrossSV(r,s,this.m_rB,k.s_t0),k.AddVCrossSV(e,n,this.m_rA,k.s_t1),i.SolveVelocityConstraints_s_Cdot1),_=V.MulM33XYZ(this.m_mass,m.x,m.y,s-n,i.SolveVelocityConstraints_s_impulse).SelfNeg();this.m_impulse.SelfAdd(_);var g=i.SolveVelocityConstraints_s_P.Set(_.x,_.y);e.SelfMulSub(o,g),n-=A*(k.CrossVV(this.m_rA,g)+_.z),r.SelfMulAdd(a,g),s+=l*(k.CrossVV(this.m_rB,g)+_.z)}t.velocities[this.m_indexA].w=n,t.velocities[this.m_indexB].w=s}},{key:"SolvePositionConstraints",value:function(t){var e=t.positions[this.m_indexA].c,n=t.positions[this.m_indexA].a,r=t.positions[this.m_indexB].c,s=t.positions[this.m_indexB].a,o=this.m_qA.SetAngle(n),a=this.m_qB.SetAngle(s),u=this.m_invMassA,h=this.m_invMassB,c=this.m_invIA,f=this.m_invIB;k.SubVV(this.m_localAnchorA,this.m_localCenterA,this.m_lalcA);var m=T.MulRV(o,this.m_lalcA,this.m_rA);k.SubVV(this.m_localAnchorB,this.m_localCenterB,this.m_lalcB);var _,d,p=T.MulRV(a,this.m_lalcB,this.m_rB),y=this.m_K;if(y.ex.x=u+h+m.y*m.y*c+p.y*p.y*f,y.ey.x=-m.y*m.x*c-p.y*p.x*f,y.ez.x=-m.y*c-p.y*f,y.ex.y=y.ey.x,y.ey.y=u+h+m.x*m.x*c+p.x*p.x*f,y.ez.y=m.x*c+p.x*f,y.ex.z=y.ez.x,y.ey.z=y.ez.y,y.ez.z=c+f,this.m_frequencyHz>0){var C=k.SubVV(k.AddVV(r,p,k.s_t0),k.AddVV(e,m,k.s_t1),i.SolvePositionConstraints_s_C1);_=C.Length(),d=0;var v=y.Solve22(C.x,C.y,i.SolvePositionConstraints_s_P).SelfNeg();e.SelfMulSub(u,v),n-=c*k.CrossVV(m,v),r.SelfMulAdd(h,v),s+=f*k.CrossVV(p,v)}else{var I=k.SubVV(k.AddVV(r,p,k.s_t0),k.AddVV(e,m,k.s_t1),i.SolvePositionConstraints_s_C1),B=s-n-this.m_referenceAngle;_=I.Length(),d=g(B);var E=y.Solve33(I.x,I.y,B,i.SolvePositionConstraints_s_impulse).SelfNeg(),w=i.SolvePositionConstraints_s_P.Set(E.x,E.y);e.SelfMulSub(u,w),n-=c*(k.CrossVV(this.m_rA,w)+E.z),r.SelfMulAdd(h,w),s+=f*(k.CrossVV(this.m_rB,w)+E.z)}return t.positions[this.m_indexA].a=n,t.positions[this.m_indexB].a=s,_<=A&&d<=l}},{key:"GetAnchorA",value:function(t){return this.m_bodyA.GetWorldPoint(this.m_localAnchorA,t)}},{key:"GetAnchorB",value:function(t){return this.m_bodyB.GetWorldPoint(this.m_localAnchorB,t)}},{key:"GetReactionForce",value:function(t,e){return e.x=t*this.m_impulse.x,e.y=t*this.m_impulse.y,e}},{key:"GetReactionTorque",value:function(t){return t*this.m_impulse.z}},{key:"GetLocalAnchorA",value:function(){return this.m_localAnchorA}},{key:"GetLocalAnchorB",value:function(){return this.m_localAnchorB}},{key:"GetReferenceAngle",value:function(){return this.m_referenceAngle}},{key:"SetFrequency",value:function(t){this.m_frequencyHz=t}},{key:"GetFrequency",value:function(){return this.m_frequencyHz}},{key:"SetDampingRatio",value:function(t){this.m_dampingRatio=t}},{key:"GetDampingRatio",value:function(){return this.m_dampingRatio}},{key:"Dump",value:function(t){var e=this.m_bodyA.m_islandIndex,i=this.m_bodyB.m_islandIndex;t("  const jd: b2WeldJointDef = new b2WeldJointDef();\n"),t("  jd.bodyA = bodies[%d];\n",e),t("  jd.bodyB = bodies[%d];\n",i),t("  jd.collideConnected = %s;\n",this.m_collideConnected?"true":"false"),t("  jd.localAnchorA.Set(%.15f, %.15f);\n",this.m_localAnchorA.x,this.m_localAnchorA.y),t("  jd.localAnchorB.Set(%.15f, %.15f);\n",this.m_localAnchorB.x,this.m_localAnchorB.y),t("  jd.referenceAngle = %.15f;\n",this.m_referenceAngle),t("  jd.frequencyHz = %.15f;\n",this.m_frequencyHz),t("  jd.dampingRatio = %.15f;\n",this.m_dampingRatio),t("  joints[%d] = this.m_world.CreateJoint(jd);\n",this.m_index)}}]),i}(ci);Ei.InitVelocityConstraints_s_P=new k,Ei.SolveVelocityConstraints_s_Cdot1=new k,Ei.SolveVelocityConstraints_s_impulse1=new k,Ei.SolveVelocityConstraints_s_impulse=new M,Ei.SolveVelocityConstraints_s_P=new k,Ei.SolvePositionConstraints_s_C1=new k,Ei.SolvePositionConstraints_s_P=new k,Ei.SolvePositionConstraints_s_impulse=new M;var wi=function(t){function i(t){var n;return _classCallCheck2(this,i),(n=_possibleConstructorReturn(this,_getPrototypeOf(i).call(this,t))).m_frequencyHz=0,n.m_dampingRatio=0,n.m_localAnchorA=new k,n.m_localAnchorB=new k,n.m_localXAxisA=new k,n.m_localYAxisA=new k,n.m_impulse=0,n.m_motorImpulse=0,n.m_springImpulse=0,n.m_maxMotorTorque=0,n.m_motorSpeed=0,n.m_enableMotor=!1,n.m_indexA=0,n.m_indexB=0,n.m_localCenterA=new k,n.m_localCenterB=new k,n.m_invMassA=0,n.m_invMassB=0,n.m_invIA=0,n.m_invIB=0,n.m_ax=new k,n.m_ay=new k,n.m_sAx=0,n.m_sBx=0,n.m_sAy=0,n.m_sBy=0,n.m_mass=0,n.m_motorMass=0,n.m_springMass=0,n.m_bias=0,n.m_gamma=0,n.m_qA=new T,n.m_qB=new T,n.m_lalcA=new k,n.m_lalcB=new k,n.m_rA=new k,n.m_rB=new k,n.m_frequencyHz=e(t.frequencyHz,2),n.m_dampingRatio=e(t.dampingRatio,.7),n.m_localAnchorA.Copy(e(t.localAnchorA,k.ZERO)),n.m_localAnchorB.Copy(e(t.localAnchorB,k.ZERO)),n.m_localXAxisA.Copy(e(t.localAxisA,k.UNITX)),k.CrossOneV(n.m_localXAxisA,n.m_localYAxisA),n.m_maxMotorTorque=e(t.maxMotorTorque,0),n.m_motorSpeed=e(t.motorSpeed,0),n.m_enableMotor=e(t.enableMotor,!1),n.m_ax.SetZero(),n.m_ay.SetZero(),n}return _inherits(i,t),_createClass2(i,[{key:"GetMotorSpeed",value:function(){return this.m_motorSpeed}},{key:"GetMaxMotorTorque",value:function(){return this.m_maxMotorTorque}},{key:"SetSpringFrequencyHz",value:function(t){this.m_frequencyHz=t}},{key:"GetSpringFrequencyHz",value:function(){return this.m_frequencyHz}},{key:"SetSpringDampingRatio",value:function(t){this.m_dampingRatio=t}},{key:"GetSpringDampingRatio",value:function(){return this.m_dampingRatio}},{key:"InitVelocityConstraints",value:function(t){this.m_indexA=this.m_bodyA.m_islandIndex,this.m_indexB=this.m_bodyB.m_islandIndex,this.m_localCenterA.Copy(this.m_bodyA.m_sweep.localCenter),this.m_localCenterB.Copy(this.m_bodyB.m_sweep.localCenter),this.m_invMassA=this.m_bodyA.m_invMass,this.m_invMassB=this.m_bodyB.m_invMass,this.m_invIA=this.m_bodyA.m_invI,this.m_invIB=this.m_bodyB.m_invI;var e=this.m_invMassA,n=this.m_invMassB,r=this.m_invIA,o=this.m_invIB,a=t.positions[this.m_indexA].c,A=t.velocities[this.m_indexA].v,l=t.velocities[this.m_indexA].w,u=t.positions[this.m_indexB].c,h=t.positions[this.m_indexB].a,c=t.velocities[this.m_indexB].v,f=t.velocities[this.m_indexB].w,m=this.m_qA.SetAngle(t.positions[this.m_indexA].a),_=this.m_qB.SetAngle(h);k.SubVV(this.m_localAnchorA,this.m_localCenterA,this.m_lalcA);var g=T.MulRV(m,this.m_lalcA,this.m_rA);k.SubVV(this.m_localAnchorB,this.m_localCenterB,this.m_lalcB);var d=T.MulRV(_,this.m_lalcB,this.m_rB),p=k.SubVV(k.AddVV(u,d,k.s_t0),k.AddVV(a,g,k.s_t1),i.InitVelocityConstraints_s_d);if(T.MulRV(m,this.m_localYAxisA,this.m_ay),this.m_sAy=k.CrossVV(k.AddVV(p,g,k.s_t0),this.m_ay),this.m_sBy=k.CrossVV(d,this.m_ay),this.m_mass=e+n+r*this.m_sAy*this.m_sAy+o*this.m_sBy*this.m_sBy,this.m_mass>0&&(this.m_mass=1/this.m_mass),this.m_springMass=0,this.m_bias=0,this.m_gamma=0,this.m_frequencyHz>0){T.MulRV(m,this.m_localXAxisA,this.m_ax),this.m_sAx=k.CrossVV(k.AddVV(p,g,k.s_t0),this.m_ax),this.m_sBx=k.CrossVV(d,this.m_ax);var y=e+n+r*this.m_sAx*this.m_sAx+o*this.m_sBx*this.m_sBx;if(y>0){this.m_springMass=1/y;var C=k.DotVV(p,this.m_ax),v=2*s*this.m_frequencyHz,I=this.m_springMass*v*v,B=t.step.dt;this.m_gamma=B*(2*this.m_springMass*this.m_dampingRatio*v+B*I),this.m_gamma>0&&(this.m_gamma=1/this.m_gamma),this.m_bias=C*B*I*this.m_gamma,this.m_springMass=y+this.m_gamma,this.m_springMass>0&&(this.m_springMass=1/this.m_springMass)}}else this.m_springImpulse=0;if(this.m_enableMotor?(this.m_motorMass=r+o,this.m_motorMass>0&&(this.m_motorMass=1/this.m_motorMass)):(this.m_motorMass=0,this.m_motorImpulse=0),t.step.warmStarting){this.m_impulse*=t.step.dtRatio,this.m_springImpulse*=t.step.dtRatio,this.m_motorImpulse*=t.step.dtRatio;var E=k.AddVV(k.MulSV(this.m_impulse,this.m_ay,k.s_t0),k.MulSV(this.m_springImpulse,this.m_ax,k.s_t1),i.InitVelocityConstraints_s_P),w=this.m_impulse*this.m_sAy+this.m_springImpulse*this.m_sAx+this.m_motorImpulse,b=this.m_impulse*this.m_sBy+this.m_springImpulse*this.m_sBx+this.m_motorImpulse;A.SelfMulSub(this.m_invMassA,E),l-=this.m_invIA*w,c.SelfMulAdd(this.m_invMassB,E),f+=this.m_invIB*b}else this.m_impulse=0,this.m_springImpulse=0,this.m_motorImpulse=0;t.velocities[this.m_indexA].w=l,t.velocities[this.m_indexB].w=f}},{key:"SolveVelocityConstraints",value:function(t){var e=this.m_invMassA,n=this.m_invMassB,r=this.m_invIA,s=this.m_invIB,o=t.velocities[this.m_indexA].v,a=t.velocities[this.m_indexA].w,A=t.velocities[this.m_indexB].v,l=t.velocities[this.m_indexB].w,u=k.DotVV(this.m_ax,k.SubVV(A,o,k.s_t0))+this.m_sBx*l-this.m_sAx*a,h=-this.m_springMass*(u+this.m_bias+this.m_gamma*this.m_springImpulse);this.m_springImpulse+=h;var c=k.MulSV(h,this.m_ax,i.SolveVelocityConstraints_s_P),f=h*this.m_sAx,m=h*this.m_sBx;o.SelfMulSub(e,c),a-=r*f,A.SelfMulAdd(n,c),l+=s*m;var _=-this.m_motorMass*(l-a-this.m_motorSpeed),g=this.m_motorImpulse,d=t.step.dt*this.m_maxMotorTorque;this.m_motorImpulse=y(this.m_motorImpulse+_,-d,d),a-=r*(_=this.m_motorImpulse-g),l+=s*_;var p=k.DotVV(this.m_ay,k.SubVV(A,o,k.s_t0))+this.m_sBy*l-this.m_sAy*a,C=-this.m_mass*p;this.m_impulse+=C;var v=k.MulSV(C,this.m_ay,i.SolveVelocityConstraints_s_P),I=C*this.m_sAy,B=C*this.m_sBy;o.SelfMulSub(e,v),a-=r*I,A.SelfMulAdd(n,v),l+=s*B,t.velocities[this.m_indexA].w=a,t.velocities[this.m_indexB].w=l}},{key:"SolvePositionConstraints",value:function(t){var e=t.positions[this.m_indexA].c,n=t.positions[this.m_indexA].a,r=t.positions[this.m_indexB].c,s=t.positions[this.m_indexB].a,o=this.m_qA.SetAngle(n),a=this.m_qB.SetAngle(s);k.SubVV(this.m_localAnchorA,this.m_localCenterA,this.m_lalcA);var l=T.MulRV(o,this.m_lalcA,this.m_rA);k.SubVV(this.m_localAnchorB,this.m_localCenterB,this.m_lalcB);var u,h=T.MulRV(a,this.m_lalcB,this.m_rB),c=k.AddVV(k.SubVV(r,e,k.s_t0),k.SubVV(h,l,k.s_t1),i.SolvePositionConstraints_s_d),f=T.MulRV(o,this.m_localYAxisA,this.m_ay),m=k.CrossVV(k.AddVV(c,l,k.s_t0),f),_=k.CrossVV(h,f),d=k.DotVV(c,this.m_ay),p=this.m_invMassA+this.m_invMassB+this.m_invIA*this.m_sAy*this.m_sAy+this.m_invIB*this.m_sBy*this.m_sBy,y=k.MulSV(u=0!==p?-d/p:0,f,i.SolvePositionConstraints_s_P),C=u*m,v=u*_;return e.SelfMulSub(this.m_invMassA,y),n-=this.m_invIA*C,r.SelfMulAdd(this.m_invMassB,y),s+=this.m_invIB*v,t.positions[this.m_indexA].a=n,t.positions[this.m_indexB].a=s,g(d)<=A}},{key:"GetDefinition",value:function(t){return t}},{key:"GetAnchorA",value:function(t){return this.m_bodyA.GetWorldPoint(this.m_localAnchorA,t)}},{key:"GetAnchorB",value:function(t){return this.m_bodyB.GetWorldPoint(this.m_localAnchorB,t)}},{key:"GetReactionForce",value:function(t,e){return e.x=t*(this.m_impulse*this.m_ay.x+this.m_springImpulse*this.m_ax.x),e.y=t*(this.m_impulse*this.m_ay.y+this.m_springImpulse*this.m_ax.y),e}},{key:"GetReactionTorque",value:function(t){return t*this.m_motorImpulse}},{key:"GetLocalAnchorA",value:function(){return this.m_localAnchorA}},{key:"GetLocalAnchorB",value:function(){return this.m_localAnchorB}},{key:"GetLocalAxisA",value:function(){return this.m_localXAxisA}},{key:"GetJointTranslation",value:function(){return this.GetPrismaticJointTranslation()}},{key:"GetJointLinearSpeed",value:function(){return this.GetPrismaticJointSpeed()}},{key:"GetJointAngle",value:function(){return this.GetRevoluteJointAngle()}},{key:"GetJointAngularSpeed",value:function(){return this.GetRevoluteJointSpeed()}},{key:"GetPrismaticJointTranslation",value:function(){var t=this.m_bodyA,e=this.m_bodyB,i=t.GetWorldPoint(this.m_localAnchorA,new k),n=e.GetWorldPoint(this.m_localAnchorB,new k),r=k.SubVV(n,i,new k),s=t.GetWorldVector(this.m_localXAxisA,new k);return k.DotVV(r,s)}},{key:"GetPrismaticJointSpeed",value:function(){var t=this.m_bodyA,e=this.m_bodyB;k.SubVV(this.m_localAnchorA,t.m_sweep.localCenter,this.m_lalcA);var i=T.MulRV(t.m_xf.q,this.m_lalcA,this.m_rA);k.SubVV(this.m_localAnchorB,e.m_sweep.localCenter,this.m_lalcB);var n=T.MulRV(e.m_xf.q,this.m_lalcB,this.m_rB),r=k.AddVV(t.m_sweep.c,i,k.s_t0),s=k.AddVV(e.m_sweep.c,n,k.s_t1),o=k.SubVV(s,r,k.s_t2),a=t.GetWorldVector(this.m_localXAxisA,new k),A=t.m_linearVelocity,l=e.m_linearVelocity,u=t.m_angularVelocity,h=e.m_angularVelocity;return k.DotVV(o,k.CrossSV(u,a,k.s_t0))+k.DotVV(a,k.SubVV(k.AddVCrossSV(l,h,n,k.s_t0),k.AddVCrossSV(A,u,i,k.s_t1),k.s_t0))}},{key:"GetRevoluteJointAngle",value:function(){return this.m_bodyB.m_sweep.a-this.m_bodyA.m_sweep.a}},{key:"GetRevoluteJointSpeed",value:function(){return this.m_bodyB.m_angularVelocity-this.m_bodyA.m_angularVelocity}},{key:"IsMotorEnabled",value:function(){return this.m_enableMotor}},{key:"EnableMotor",value:function(t){t!==this.m_enableMotor&&(this.m_bodyA.SetAwake(!0),this.m_bodyB.SetAwake(!0),this.m_enableMotor=t)}},{key:"SetMotorSpeed",value:function(t){t!==this.m_motorSpeed&&(this.m_bodyA.SetAwake(!0),this.m_bodyB.SetAwake(!0),this.m_motorSpeed=t)}},{key:"SetMaxMotorTorque",value:function(t){t!==this.m_maxMotorTorque&&(this.m_bodyA.SetAwake(!0),this.m_bodyB.SetAwake(!0),this.m_maxMotorTorque=t)}},{key:"GetMotorTorque",value:function(t){return t*this.m_motorImpulse}},{key:"Dump",value:function(t){var e=this.m_bodyA.m_islandIndex,i=this.m_bodyB.m_islandIndex;t("  const jd: b2WheelJointDef = new b2WheelJointDef();\n"),t("  jd.bodyA = bodies[%d];\n",e),t("  jd.bodyB = bodies[%d];\n",i),t("  jd.collideConnected = %s;\n",this.m_collideConnected?"true":"false"),t("  jd.localAnchorA.Set(%.15f, %.15f);\n",this.m_localAnchorA.x,this.m_localAnchorA.y),t("  jd.localAnchorB.Set(%.15f, %.15f);\n",this.m_localAnchorB.x,this.m_localAnchorB.y),t("  jd.localAxisA.Set(%.15f, %.15f);\n",this.m_localXAxisA.x,this.m_localXAxisA.y),t("  jd.enableMotor = %s;\n",this.m_enableMotor?"true":"false"),t("  jd.motorSpeed = %.15f;\n",this.m_motorSpeed),t("  jd.maxMotorTorque = %.15f;\n",this.m_maxMotorTorque),t("  jd.frequencyHz = %.15f;\n",this.m_frequencyHz),t("  jd.dampingRatio = %.15f;\n",this.m_dampingRatio),t("  joints[%d] = this.m_world.CreateJoint(jd);\n",this.m_index)}}]),i}(ci);function bi(t,e){return B(t*e)}function xi(t,e){return t>e?t:e}wi.InitVelocityConstraints_s_d=new k,wi.InitVelocityConstraints_s_P=new k,wi.SolveVelocityConstraints_s_P=new k,wi.SolvePositionConstraints_s_d=new k,wi.SolvePositionConstraints_s_P=new k;var Si=function t(e){_classCallCheck2(this,t),this.prev=null,this.next=null,this.contact=e},Qi=function(){function t(){_classCallCheck2(this,t),this.m_islandFlag=!1,this.m_touchingFlag=!1,this.m_enabledFlag=!1,this.m_filterFlag=!1,this.m_bulletHitFlag=!1,this.m_toiFlag=!1,this.m_prev=null,this.m_next=null,this.m_indexA=0,this.m_indexB=0,this.m_manifold=new dt,this.m_toiCount=0,this.m_toi=0,this.m_friction=0,this.m_restitution=0,this.m_tangentSpeed=0,this.m_oldManifold=new dt,this.m_nodeA=new Si(this),this.m_nodeB=new Si(this)}return _createClass2(t,[{key:"GetManifold",value:function(){return this.m_manifold}},{key:"GetWorldManifold",value:function(t){var e=this.m_fixtureA.GetBody(),i=this.m_fixtureB.GetBody(),n=this.m_fixtureA.GetShape(),r=this.m_fixtureB.GetShape();t.Initialize(this.m_manifold,e.GetTransform(),n.m_radius,i.GetTransform(),r.m_radius)}},{key:"IsTouching",value:function(){return this.m_touchingFlag}},{key:"SetEnabled",value:function(t){this.m_enabledFlag=t}},{key:"IsEnabled",value:function(){return this.m_enabledFlag}},{key:"GetNext",value:function(){return this.m_next}},{key:"GetFixtureA",value:function(){return this.m_fixtureA}},{key:"GetChildIndexA",value:function(){return this.m_indexA}},{key:"GetFixtureB",value:function(){return this.m_fixtureB}},{key:"GetChildIndexB",value:function(){return this.m_indexB}},{key:"FlagForFiltering",value:function(){this.m_filterFlag=!0}},{key:"SetFriction",value:function(t){this.m_friction=t}},{key:"GetFriction",value:function(){return this.m_friction}},{key:"ResetFriction",value:function(){this.m_friction=bi(this.m_fixtureA.m_friction,this.m_fixtureB.m_friction)}},{key:"SetRestitution",value:function(t){this.m_restitution=t}},{key:"GetRestitution",value:function(){return this.m_restitution}},{key:"ResetRestitution",value:function(){this.m_restitution=xi(this.m_fixtureA.m_restitution,this.m_fixtureB.m_restitution)}},{key:"SetTangentSpeed",value:function(t){this.m_tangentSpeed=t}},{key:"GetTangentSpeed",value:function(){return this.m_tangentSpeed}},{key:"Reset",value:function(t,e,i,n){this.m_islandFlag=!1,this.m_touchingFlag=!1,this.m_enabledFlag=!0,this.m_filterFlag=!1,this.m_bulletHitFlag=!1,this.m_toiFlag=!1,this.m_fixtureA=t,this.m_fixtureB=i,this.m_indexA=e,this.m_indexB=n,this.m_manifold.pointCount=0,this.m_prev=null,this.m_next=null,delete this.m_nodeA.contact,this.m_nodeA.prev=null,this.m_nodeA.next=null,delete this.m_nodeA.other,delete this.m_nodeB.contact,this.m_nodeB.prev=null,this.m_nodeB.next=null,delete this.m_nodeB.other,this.m_toiCount=0,this.m_friction=bi(this.m_fixtureA.m_friction,this.m_fixtureB.m_friction),this.m_restitution=xi(this.m_fixtureA.m_restitution,this.m_fixtureB.m_restitution)}},{key:"Update",value:function(t){var e=this.m_oldManifold;this.m_oldManifold=this.m_manifold,this.m_manifold=e,this.m_enabledFlag=!0;var i=!1,n=this.m_touchingFlag,r=this.m_fixtureA.IsSensor(),s=this.m_fixtureB.IsSensor(),o=r||s,a=this.m_fixtureA.GetBody(),A=this.m_fixtureB.GetBody(),l=a.GetTransform(),u=A.GetTransform();if(o){var h=this.m_fixtureA.GetShape(),c=this.m_fixtureB.GetShape();i=St(h,this.m_indexA,c,this.m_indexB,l,u),this.m_manifold.pointCount=0}else{this.Evaluate(this.m_manifold,l,u),i=this.m_manifold.pointCount>0;for(var f=0;f<this.m_manifold.pointCount;++f){var m=this.m_manifold.points[f];m.normalImpulse=0,m.tangentImpulse=0;for(var _=m.id,g=0;g<this.m_oldManifold.pointCount;++g){var d=this.m_oldManifold.points[g];if(d.id.key===_.key){m.normalImpulse=d.normalImpulse,m.tangentImpulse=d.tangentImpulse;break}}}i!==n&&(a.SetAwake(!0),A.SetAwake(!0))}this.m_touchingFlag=i,!n&&i&&t&&t.BeginContact(this),n&&!i&&t&&t.EndContact(this),!o&&i&&t&&t.PreSolve(this,this.m_oldManifold)}},{key:"ComputeTOI",value:function(e,i){var n=t.ComputeTOI_s_input;n.proxyA.SetShape(this.m_fixtureA.GetShape(),this.m_indexA),n.proxyB.SetShape(this.m_fixtureB.GetShape(),this.m_indexB),n.sweepA.Copy(e),n.sweepB.Copy(i),n.tMax=A;var r=t.ComputeTOI_s_output;return ie(r,n),r.t}}]),t}();Qi.ComputeTOI_s_input=new Ht,Qi.ComputeTOI_s_output=new Jt;var ki=function(t){function e(){return _classCallCheck2(this,e),_possibleConstructorReturn(this,_getPrototypeOf(e).call(this))}return _inherits(e,t),_createClass2(e,[{key:"Reset",value:function(t,i,n,r){_get(_getPrototypeOf(e.prototype),"Reset",this).call(this,t,i,n,r)}},{key:"Evaluate",value:function(t,e,i){se(t,this.m_fixtureA.GetShape(),e,this.m_fixtureB.GetShape(),i)}}],[{key:"Create",value:function(t){return new e}},{key:"Destroy",value:function(t,e){}}]),e}(Qi),Di=function(t){function e(){return _classCallCheck2(this,e),_possibleConstructorReturn(this,_getPrototypeOf(e).call(this))}return _inherits(e,t),_createClass2(e,[{key:"Reset",value:function(t,i,n,r){_get(_getPrototypeOf(e.prototype),"Reset",this).call(this,t,i,n,r)}},{key:"Evaluate",value:function(t,e,i){Me(t,this.m_fixtureA.GetShape(),e,this.m_fixtureB.GetShape(),i)}}],[{key:"Create",value:function(t){return new e}},{key:"Destroy",value:function(t,e){}}]),e}(Qi),Mi=function(t){function e(){return _classCallCheck2(this,e),_possibleConstructorReturn(this,_getPrototypeOf(e).call(this))}return _inherits(e,t),_createClass2(e,[{key:"Reset",value:function(t,i,n,r){_get(_getPrototypeOf(e.prototype),"Reset",this).call(this,t,i,n,r)}},{key:"Evaluate",value:function(t,e,i){le(t,this.m_fixtureA.GetShape(),e,this.m_fixtureB.GetShape(),i)}}],[{key:"Create",value:function(t){return new e}},{key:"Destroy",value:function(t,e){}}]),e}(Qi),Ri=function(t){function e(){return _classCallCheck2(this,e),_possibleConstructorReturn(this,_getPrototypeOf(e).call(this))}return _inherits(e,t),_createClass2(e,[{key:"Reset",value:function(t,i,n,r){_get(_getPrototypeOf(e.prototype),"Reset",this).call(this,t,i,n,r)}},{key:"Evaluate",value:function(t,e,i){Ye(t,this.m_fixtureA.GetShape(),e,this.m_fixtureB.GetShape(),i)}}],[{key:"Create",value:function(t){return new e}},{key:"Destroy",value:function(t,e){}}]),e}(Qi),Vi=function(t){function e(){return _classCallCheck2(this,e),_possibleConstructorReturn(this,_getPrototypeOf(e).call(this))}return _inherits(e,t),_createClass2(e,[{key:"Reset",value:function(t,i,n,r){_get(_getPrototypeOf(e.prototype),"Reset",this).call(this,t,i,n,r)}},{key:"Evaluate",value:function(t,e,i){qe(t,this.m_fixtureA.GetShape(),e,this.m_fixtureB.GetShape(),i)}}],[{key:"Create",value:function(t){return new e}},{key:"Destroy",value:function(t,e){}}]),e}(Qi),Ti=function(t){function e(){return _classCallCheck2(this,e),_possibleConstructorReturn(this,_getPrototypeOf(e).call(this))}return _inherits(e,t),_createClass2(e,[{key:"Reset",value:function(t,i,n,r){_get(_getPrototypeOf(e.prototype),"Reset",this).call(this,t,i,n,r)}},{key:"Evaluate",value:function(t,i,n){var r=this.m_fixtureA.GetShape(),s=this.m_fixtureB.GetShape(),o=e.Evaluate_s_edge;r.GetChildEdge(o,this.m_indexA),Ye(t,o,i,s,n)}}],[{key:"Create",value:function(t){return new e}},{key:"Destroy",value:function(t,e){}}]),e}(Qi);Ti.Evaluate_s_edge=new ni;var Gi=function(t){function e(){return _classCallCheck2(this,e),_possibleConstructorReturn(this,_getPrototypeOf(e).call(this))}return _inherits(e,t),_createClass2(e,[{key:"Reset",value:function(t,i,n,r){_get(_getPrototypeOf(e.prototype),"Reset",this).call(this,t,i,n,r)}},{key:"Evaluate",value:function(t,i,n){var r=this.m_fixtureA.GetShape(),s=this.m_fixtureB.GetShape(),o=e.Evaluate_s_edge;r.GetChildEdge(o,this.m_indexA),qe(t,o,i,s,n)}}],[{key:"Create",value:function(t){return new e}},{key:"Destroy",value:function(t,e){}}]),e}(Qi);Gi.Evaluate_s_edge=new ni;var Fi=function t(){_classCallCheck2(this,t),this.createFcn=null,this.destroyFcn=null,this.primary=!1},Pi=function(){function e(t){_classCallCheck2(this,e),this.m_allocator=null,this.m_allocator=t,this.InitializeRegisters()}return _createClass2(e,[{key:"AddType",value:function(t,e,i,n){var r=this,s=m(256,(function(e){return t(r.m_allocator)}));function o(e){return s.pop()||t(e)}function a(t,e){s.push(t)}this.m_registers[i][n].createFcn=o,this.m_registers[i][n].destroyFcn=a,this.m_registers[i][n].primary=!0,i!==n&&(this.m_registers[n][i].createFcn=o,this.m_registers[n][i].destroyFcn=a,this.m_registers[n][i].primary=!1)}},{key:"InitializeRegisters",value:function(){this.m_registers=[];for(var e=0;e<t.b2ShapeType.e_shapeTypeCount;e++){this.m_registers[e]=[];for(var i=0;i<t.b2ShapeType.e_shapeTypeCount;i++)this.m_registers[e][i]=new Fi}this.AddType(ki.Create,ki.Destroy,t.b2ShapeType.e_circleShape,t.b2ShapeType.e_circleShape),this.AddType(Mi.Create,Mi.Destroy,t.b2ShapeType.e_polygonShape,t.b2ShapeType.e_circleShape),this.AddType(Di.Create,Di.Destroy,t.b2ShapeType.e_polygonShape,t.b2ShapeType.e_polygonShape),this.AddType(Ri.Create,Ri.Destroy,t.b2ShapeType.e_edgeShape,t.b2ShapeType.e_circleShape),this.AddType(Vi.Create,Vi.Destroy,t.b2ShapeType.e_edgeShape,t.b2ShapeType.e_polygonShape),this.AddType(Ti.Create,Ti.Destroy,t.b2ShapeType.e_chainShape,t.b2ShapeType.e_circleShape),this.AddType(Gi.Create,Gi.Destroy,t.b2ShapeType.e_chainShape,t.b2ShapeType.e_polygonShape)}},{key:"Create",value:function(t,e,i,n){var r=t.GetType(),s=i.GetType(),o=this.m_registers[r][s];if(o.createFcn){var a=o.createFcn(this.m_allocator);return o.primary?a.Reset(t,e,i,n):a.Reset(i,n,t,e),a}return null}},{key:"Destroy",value:function(t){var e=t.m_fixtureA,i=t.m_fixtureB;t.m_manifold.pointCount>0&&!e.IsSensor()&&!i.IsSensor()&&(e.GetBody().SetAwake(!0),i.GetBody().SetAwake(!0));var n=e.GetType(),r=i.GetType(),s=this.m_registers[n][r];s.destroyFcn&&s.destroyFcn(t,this.m_allocator)}}]),e}(),Ni=function(){function e(){_classCallCheck2(this,e)}return _createClass2(e,[{key:"ShouldCollide",value:function(e,i){var n=e.GetBody(),r=i.GetBody();if(r.GetType()===t.b2BodyType.b2_staticBody&&n.GetType()===t.b2BodyType.b2_staticBody)return!1;if(!r.ShouldCollideConnected(n))return!1;var s=e.GetFilterData(),o=i.GetFilterData();return s.groupIndex===o.groupIndex&&0!==s.groupIndex?s.groupIndex>0:0!=(s.maskBits&o.categoryBits)&&0!=(s.categoryBits&o.maskBits)}},{key:"ShouldCollideFixtureParticle",value:function(t,e,i){return!0}},{key:"ShouldCollideParticleParticle",value:function(t,e,i){return!0}}]),e}();Ni.b2_defaultFilter=new Ni;var Li=function t(){_classCallCheck2(this,t),this.normalImpulses=_(o),this.tangentImpulses=_(o),this.count=0},Ui=function(){function t(){_classCallCheck2(this,t)}return _createClass2(t,[{key:"BeginContact",value:function(t){}},{key:"EndContact",value:function(t){}},{key:"BeginContactFixtureParticle",value:function(t,e){}},{key:"EndContactFixtureParticle",value:function(t,e){}},{key:"BeginContactParticleParticle",value:function(t,e){}},{key:"EndContactParticleParticle",value:function(t,e){}},{key:"PreSolve",value:function(t,e){}},{key:"PostSolve",value:function(t,e){}}]),t}();Ui.b2_defaultListener=new Ui;var Oi=function(){function t(){_classCallCheck2(this,t)}return _createClass2(t,[{key:"ReportFixture",value:function(t){return!0}},{key:"ReportParticle",value:function(t,e){return!1}},{key:"ShouldQueryParticleSystem",value:function(t){return!0}}]),t}(),Yi=function(){function e(){_classCallCheck2(this,e),this.m_broadPhase=new Rt,this.m_contactList=null,this.m_contactCount=0,this.m_contactFilter=Ni.b2_defaultFilter,this.m_contactListener=Ui.b2_defaultListener,this.m_allocator=null,this.m_contactFactory=new Pi(this.m_allocator)}return _createClass2(e,[{key:"AddPair",value:function(t,e){var i=t.fixture,n=e.fixture,r=t.childIndex,s=e.childIndex,o=i.GetBody(),a=n.GetBody();if(o!==a){for(var A=a.GetContactList();A;){if(A.other===o){var l=A.contact.GetFixtureA(),u=A.contact.GetFixtureB(),h=A.contact.GetChildIndexA(),c=A.contact.GetChildIndexB();if(l===i&&u===n&&h===r&&c===s)return;if(l===n&&u===i&&h===s&&c===r)return}A=A.next}if(!this.m_contactFilter||this.m_contactFilter.ShouldCollide(i,n)){var f=this.m_contactFactory.Create(i,r,n,s);null!==f&&(i=f.GetFixtureA(),n=f.GetFixtureB(),r=f.GetChildIndexA(),s=f.GetChildIndexB(),o=i.m_body,a=n.m_body,f.m_prev=null,f.m_next=this.m_contactList,null!==this.m_contactList&&(this.m_contactList.m_prev=f),this.m_contactList=f,f.m_nodeA.contact=f,f.m_nodeA.other=a,f.m_nodeA.prev=null,f.m_nodeA.next=o.m_contactList,null!==o.m_contactList&&(o.m_contactList.prev=f.m_nodeA),o.m_contactList=f.m_nodeA,f.m_nodeB.contact=f,f.m_nodeB.other=o,f.m_nodeB.prev=null,f.m_nodeB.next=a.m_contactList,null!==a.m_contactList&&(a.m_contactList.prev=f.m_nodeB),a.m_contactList=f.m_nodeB,i.IsSensor()||n.IsSensor()||(o.SetAwake(!0),a.SetAwake(!0)),++this.m_contactCount)}}}},{key:"FindNewContacts",value:function(){var t=this;this.m_broadPhase.UpdatePairs((function(e,i){t.AddPair(e,i)}))}},{key:"Destroy",value:function(t){var e=t.GetFixtureA(),i=t.GetFixtureB(),n=e.GetBody(),r=i.GetBody();this.m_contactListener&&t.IsTouching()&&this.m_contactListener.EndContact(t),t.m_prev&&(t.m_prev.m_next=t.m_next),t.m_next&&(t.m_next.m_prev=t.m_prev),t===this.m_contactList&&(this.m_contactList=t.m_next),t.m_nodeA.prev&&(t.m_nodeA.prev.next=t.m_nodeA.next),t.m_nodeA.next&&(t.m_nodeA.next.prev=t.m_nodeA.prev),t.m_nodeA===n.m_contactList&&(n.m_contactList=t.m_nodeA.next),t.m_nodeB.prev&&(t.m_nodeB.prev.next=t.m_nodeB.next),t.m_nodeB.next&&(t.m_nodeB.next.prev=t.m_nodeB.prev),t.m_nodeB===r.m_contactList&&(r.m_contactList=t.m_nodeB.next),this.m_contactFactory.Destroy(t),--this.m_contactCount}},{key:"Collide",value:function(){for(var e=this.m_contactList;e;){var i=e.GetFixtureA(),n=e.GetFixtureB(),r=e.GetChildIndexA(),s=e.GetChildIndexB(),o=i.GetBody(),a=n.GetBody();if(e.m_filterFlag){if(this.m_contactFilter&&!this.m_contactFilter.ShouldCollide(i,n)){var A=e;e=A.m_next,this.Destroy(A);continue}e.m_filterFlag=!1}var l=o.IsAwake()&&o.m_type!==t.b2BodyType.b2_staticBody,u=a.IsAwake()&&a.m_type!==t.b2BodyType.b2_staticBody;if(l||u)if(Bt(i.m_proxies[r].treeNode.aabb,n.m_proxies[s].treeNode.aabb))e.Update(this.m_contactListener),e=e.m_next;else{var h=e;e=h.m_next,this.Destroy(h)}else e=e.m_next}}}]),e}(),Hi=function(){function t(){_classCallCheck2(this,t),this.step=0,this.collide=0,this.solve=0,this.solveInit=0,this.solveVelocity=0,this.solvePosition=0,this.broadphase=0,this.solveTOI=0}return _createClass2(t,[{key:"Reset",value:function(){return this.step=0,this.collide=0,this.solve=0,this.solveInit=0,this.solveVelocity=0,this.solvePosition=0,this.broadphase=0,this.solveTOI=0,this}}]),t}(),Ji=function(){function t(){_classCallCheck2(this,t),this.dt=0,this.inv_dt=0,this.dtRatio=0,this.velocityIterations=0,this.positionIterations=0,this.particleIterations=0,this.warmStarting=!1}return _createClass2(t,[{key:"Copy",value:function(t){return this.dt=t.dt,this.inv_dt=t.inv_dt,this.dtRatio=t.dtRatio,this.positionIterations=t.positionIterations,this.velocityIterations=t.velocityIterations,this.particleIterations=t.particleIterations,this.warmStarting=t.warmStarting,this}}]),t}(),ji=function(){function t(){_classCallCheck2(this,t),this.c=new k,this.a=0}return _createClass2(t,null,[{key:"MakeArray",value:function(e){return m(e,(function(e){return new t}))}}]),t}(),Ki=function(){function t(){_classCallCheck2(this,t),this.v=new k,this.w=0}return _createClass2(t,null,[{key:"MakeArray",value:function(e){return m(e,(function(e){return new t}))}}]),t}(),qi=function t(){_classCallCheck2(this,t),this.step=new Ji},zi=function(){function t(){_classCallCheck2(this,t),this.rA=new k,this.rB=new k,this.normalImpulse=0,this.tangentImpulse=0,this.normalMass=0,this.tangentMass=0,this.velocityBias=0}return _createClass2(t,null,[{key:"MakeArray",value:function(e){return m(e,(function(e){return new t}))}}]),t}(),Xi=function(){function t(){_classCallCheck2(this,t),this.points=zi.MakeArray(o),this.normal=new k,this.tangent=new k,this.normalMass=new R,this.K=new R,this.indexA=0,this.indexB=0,this.invMassA=0,this.invMassB=0,this.invIA=0,this.invIB=0,this.friction=0,this.restitution=0,this.tangentSpeed=0,this.pointCount=0,this.contactIndex=0}return _createClass2(t,null,[{key:"MakeArray",value:function(e){return m(e,(function(e){return new t}))}}]),t}(),Wi=function(){function e(){_classCallCheck2(this,e),this.localPoints=k.MakeArray(o),this.localNormal=new k,this.localPoint=new k,this.indexA=0,this.indexB=0,this.invMassA=0,this.invMassB=0,this.localCenterA=new k,this.localCenterB=new k,this.invIA=0,this.invIB=0,this.type=t.b2ManifoldType.e_unknown,this.radiusA=0,this.radiusB=0,this.pointCount=0}return _createClass2(e,null,[{key:"MakeArray",value:function(t){return m(t,(function(t){return new e}))}}]),e}(),Zi=function t(){_classCallCheck2(this,t),this.step=new Ji,this.count=0,this.allocator=null},$i=function(){function e(){_classCallCheck2(this,e),this.normal=new k,this.point=new k,this.separation=0}return _createClass2(e,[{key:"Initialize",value:function(i,n,r,s){var o=e.Initialize_s_pointA,a=e.Initialize_s_pointB,A=e.Initialize_s_planePoint,l=e.Initialize_s_clipPoint;switch(i.type){case t.b2ManifoldType.e_circles:G.MulXV(n,i.localPoint,o),G.MulXV(r,i.localPoints[0],a),k.SubVV(a,o,this.normal).SelfNormalize(),k.MidVV(o,a,this.point),this.separation=k.DotVV(k.SubVV(a,o,k.s_t0),this.normal)-i.radiusA-i.radiusB;break;case t.b2ManifoldType.e_faceA:T.MulRV(n.q,i.localNormal,this.normal),G.MulXV(n,i.localPoint,A),G.MulXV(r,i.localPoints[s],l),this.separation=k.DotVV(k.SubVV(l,A,k.s_t0),this.normal)-i.radiusA-i.radiusB,this.point.Copy(l);break;case t.b2ManifoldType.e_faceB:T.MulRV(r.q,i.localNormal,this.normal),G.MulXV(r,i.localPoint,A),G.MulXV(n,i.localPoints[s],l),this.separation=k.DotVV(k.SubVV(l,A,k.s_t0),this.normal)-i.radiusA-i.radiusB,this.point.Copy(l),this.normal.SelfNeg()}}}]),e}();$i.Initialize_s_pointA=new k,$i.Initialize_s_pointB=new k,$i.Initialize_s_planePoint=new k,$i.Initialize_s_clipPoint=new k;var tn=function(){function t(){_classCallCheck2(this,t),this.m_step=new Ji,this.m_allocator=null,this.m_positionConstraints=Wi.MakeArray(1024),this.m_velocityConstraints=Xi.MakeArray(1024),this.m_count=0}return _createClass2(t,[{key:"Initialize",value:function(t){if(this.m_step.Copy(t.step),this.m_allocator=t.allocator,this.m_count=t.count,this.m_positionConstraints.length<this.m_count)for(var e=p(2*this.m_positionConstraints.length,this.m_count);this.m_positionConstraints.length<e;)this.m_positionConstraints[this.m_positionConstraints.length]=new Wi;if(this.m_velocityConstraints.length<this.m_count)for(var i=p(2*this.m_velocityConstraints.length,this.m_count);this.m_velocityConstraints.length<i;)this.m_velocityConstraints[this.m_velocityConstraints.length]=new Xi;this.m_positions=t.positions,this.m_velocities=t.velocities,this.m_contacts=t.contacts;for(var n=0;n<this.m_count;++n){var r=this.m_contacts[n],s=r.m_fixtureA,o=r.m_fixtureB,a=s.GetShape(),A=o.GetShape(),l=a.m_radius,u=A.m_radius,h=s.GetBody(),c=o.GetBody(),f=r.GetManifold(),m=f.pointCount,_=this.m_velocityConstraints[n];_.friction=r.m_friction,_.restitution=r.m_restitution,_.tangentSpeed=r.m_tangentSpeed,_.indexA=h.m_islandIndex,_.indexB=c.m_islandIndex,_.invMassA=h.m_invMass,_.invMassB=c.m_invMass,_.invIA=h.m_invI,_.invIB=c.m_invI,_.contactIndex=n,_.pointCount=m,_.K.SetZero(),_.normalMass.SetZero();var g=this.m_positionConstraints[n];g.indexA=h.m_islandIndex,g.indexB=c.m_islandIndex,g.invMassA=h.m_invMass,g.invMassB=c.m_invMass,g.localCenterA.Copy(h.m_sweep.localCenter),g.localCenterB.Copy(c.m_sweep.localCenter),g.invIA=h.m_invI,g.invIB=c.m_invI,g.localNormal.Copy(f.localNormal),g.localPoint.Copy(f.localPoint),g.pointCount=m,g.radiusA=l,g.radiusB=u,g.type=f.type;for(var d=0;d<m;++d){var y=f.points[d],C=_.points[d];this.m_step.warmStarting?(C.normalImpulse=this.m_step.dtRatio*y.normalImpulse,C.tangentImpulse=this.m_step.dtRatio*y.tangentImpulse):(C.normalImpulse=0,C.tangentImpulse=0),C.rA.SetZero(),C.rB.SetZero(),C.normalMass=0,C.tangentMass=0,C.velocityBias=0,g.localPoints[d].Copy(y.localPoint)}}return this}},{key:"InitializeVelocityConstraints",value:function(){for(var e=t.InitializeVelocityConstraints_s_xfA,i=t.InitializeVelocityConstraints_s_xfB,n=t.InitializeVelocityConstraints_s_worldManifold,r=0;r<this.m_count;++r){var s=this.m_velocityConstraints[r],o=this.m_positionConstraints[r],a=o.radiusA,A=o.radiusB,l=this.m_contacts[s.contactIndex].GetManifold(),u=s.indexA,h=s.indexB,c=s.invMassA,f=s.invMassB,m=s.invIA,_=s.invIB,g=o.localCenterA,d=o.localCenterB,p=this.m_positions[u].c,y=this.m_velocities[u].v,C=this.m_velocities[u].w,v=this.m_positions[h].c,I=this.m_positions[h].a,B=this.m_velocities[h].v,E=this.m_velocities[h].w;e.q.SetAngle(this.m_positions[u].a),i.q.SetAngle(I),k.SubVV(p,T.MulRV(e.q,g,k.s_t0),e.p),k.SubVV(v,T.MulRV(i.q,d,k.s_t0),i.p),n.Initialize(l,e,a,i,A),s.normal.Copy(n.normal),k.CrossVOne(s.normal,s.tangent);for(var w=s.pointCount,b=0;b<w;++b){var x=s.points[b];k.SubVV(n.points[b],p,x.rA),k.SubVV(n.points[b],v,x.rB);var S=k.CrossVV(x.rA,s.normal),Q=k.CrossVV(x.rB,s.normal),D=c+f+m*S*S+_*Q*Q;x.normalMass=D>0?1/D:0;var M=s.tangent,R=k.CrossVV(x.rA,M),V=k.CrossVV(x.rB,M),G=c+f+m*R*R+_*V*V;x.tangentMass=G>0?1/G:0,x.velocityBias=0;var F=k.DotVV(s.normal,k.SubVV(k.AddVCrossSV(B,E,x.rB,k.s_t0),k.AddVCrossSV(y,C,x.rA,k.s_t1),k.s_t0));F<-1&&(x.velocityBias+=-s.restitution*F)}s.pointCount}}},{key:"WarmStart",value:function(){for(var e=t.WarmStart_s_P,i=0;i<this.m_count;++i){for(var n=this.m_velocityConstraints[i],r=n.indexA,s=n.indexB,o=n.invMassA,a=n.invIA,A=n.invMassB,l=n.invIB,u=n.pointCount,h=this.m_velocities[r].v,c=this.m_velocities[r].w,f=this.m_velocities[s].v,m=this.m_velocities[s].w,_=n.normal,g=n.tangent,d=0;d<u;++d){var p=n.points[d];k.AddVV(k.MulSV(p.normalImpulse,_,k.s_t0),k.MulSV(p.tangentImpulse,g,k.s_t1),e),c-=a*k.CrossVV(p.rA,e),h.SelfMulSub(o,e),m+=l*k.CrossVV(p.rB,e),f.SelfMulAdd(A,e)}this.m_velocities[r].w=c,this.m_velocities[s].w=m}}},{key:"SolveVelocityConstraints",value:function(){for(var e=t.SolveVelocityConstraints_s_dv,i=(t.SolveVelocityConstraints_s_dv1,t.SolveVelocityConstraints_s_dv2,t.SolveVelocityConstraints_s_P),n=(t.SolveVelocityConstraints_s_a,t.SolveVelocityConstraints_s_b,t.SolveVelocityConstraints_s_x,t.SolveVelocityConstraints_s_d,t.SolveVelocityConstraints_s_P1,t.SolveVelocityConstraints_s_P2,t.SolveVelocityConstraints_s_P1P2,0);n<this.m_count;++n){for(var r=this.m_velocityConstraints[n],s=r.indexA,o=r.indexB,a=r.invMassA,A=r.invIA,l=r.invMassB,u=r.invIB,h=r.pointCount,c=this.m_velocities[s].v,f=this.m_velocities[s].w,m=this.m_velocities[o].v,_=this.m_velocities[o].w,g=r.normal,d=r.tangent,C=r.friction,v=0;v<h;++v){var I=r.points[v];k.SubVV(k.AddVCrossSV(m,_,I.rB,k.s_t0),k.AddVCrossSV(c,f,I.rA,k.s_t1),e);var B=k.DotVV(e,d)-r.tangentSpeed,E=I.tangentMass*-B,w=C*I.normalImpulse,b=y(I.tangentImpulse+E,-w,w);E=b-I.tangentImpulse,I.tangentImpulse=b,k.MulSV(E,d,i),c.SelfMulSub(a,i),f-=A*k.CrossVV(I.rA,i),m.SelfMulAdd(l,i),_+=u*k.CrossVV(I.rB,i)}r.pointCount;for(var x=0;x<h;++x){var S=r.points[x];k.SubVV(k.AddVCrossSV(m,_,S.rB,k.s_t0),k.AddVCrossSV(c,f,S.rA,k.s_t1),e);var Q=k.DotVV(e,g),D=-S.normalMass*(Q-S.velocityBias),M=p(S.normalImpulse+D,0);D=M-S.normalImpulse,S.normalImpulse=M,k.MulSV(D,g,i),c.SelfMulSub(a,i),f-=A*k.CrossVV(S.rA,i),m.SelfMulAdd(l,i),_+=u*k.CrossVV(S.rB,i)}this.m_velocities[s].w=f,this.m_velocities[o].w=_}}},{key:"StoreImpulses",value:function(){for(var t=0;t<this.m_count;++t)for(var e=this.m_velocityConstraints[t],i=this.m_contacts[e.contactIndex].GetManifold(),n=0;n<e.pointCount;++n)i.points[n].normalImpulse=e.points[n].normalImpulse,i.points[n].tangentImpulse=e.points[n].tangentImpulse}},{key:"SolvePositionConstraints",value:function(){for(var e=t.SolvePositionConstraints_s_xfA,i=t.SolvePositionConstraints_s_xfB,n=t.SolvePositionConstraints_s_psm,r=t.SolvePositionConstraints_s_rA,s=t.SolvePositionConstraints_s_rB,o=t.SolvePositionConstraints_s_P,a=0,l=0;l<this.m_count;++l){for(var u=this.m_positionConstraints[l],h=u.indexA,c=u.indexB,f=u.localCenterA,m=u.invMassA,_=u.invIA,g=u.localCenterB,p=u.invMassB,C=u.invIB,v=u.pointCount,I=this.m_positions[h].c,B=this.m_positions[h].a,E=this.m_positions[c].c,w=this.m_positions[c].a,b=0;b<v;++b){e.q.SetAngle(B),i.q.SetAngle(w),k.SubVV(I,T.MulRV(e.q,f,k.s_t0),e.p),k.SubVV(E,T.MulRV(i.q,g,k.s_t0),i.p),n.Initialize(u,e,i,b);var x=n.normal,S=n.point,Q=n.separation;k.SubVV(S,I,r),k.SubVV(S,E,s),a=d(a,Q);var D=y(.2*(Q+A),-.2,0),M=k.CrossVV(r,x),R=k.CrossVV(s,x),V=m+p+_*M*M+C*R*R;k.MulSV(V>0?-D/V:0,x,o),I.SelfMulSub(m,o),B-=_*k.CrossVV(r,o),E.SelfMulAdd(p,o),w+=C*k.CrossVV(s,o)}this.m_positions[h].a=B,this.m_positions[c].a=w}return a>-3*A}},{key:"SolveTOIPositionConstraints",value:function(e,i){for(var n=t.SolveTOIPositionConstraints_s_xfA,r=t.SolveTOIPositionConstraints_s_xfB,s=t.SolveTOIPositionConstraints_s_psm,o=t.SolveTOIPositionConstraints_s_rA,a=t.SolveTOIPositionConstraints_s_rB,l=t.SolveTOIPositionConstraints_s_P,u=0,h=0;h<this.m_count;++h){var c=this.m_positionConstraints[h],f=c.indexA,m=c.indexB,_=c.localCenterA,g=c.localCenterB,p=c.pointCount,C=0,v=0;f!==e&&f!==i||(C=c.invMassA,v=c.invIA);var I=0,B=0;m!==e&&m!==i||(I=c.invMassB,B=c.invIB);for(var E=this.m_positions[f].c,w=this.m_positions[f].a,b=this.m_positions[m].c,x=this.m_positions[m].a,S=0;S<p;++S){n.q.SetAngle(w),r.q.SetAngle(x),k.SubVV(E,T.MulRV(n.q,_,k.s_t0),n.p),k.SubVV(b,T.MulRV(r.q,g,k.s_t0),r.p),s.Initialize(c,n,r,S);var Q=s.normal,D=s.point,M=s.separation;k.SubVV(D,E,o),k.SubVV(D,b,a),u=d(u,M);var R=y(.75*(M+A),-.2,0),V=k.CrossVV(o,Q),G=k.CrossVV(a,Q),F=C+I+v*V*V+B*G*G;k.MulSV(F>0?-R/F:0,Q,l),E.SelfMulSub(C,l),w-=v*k.CrossVV(o,l),b.SelfMulAdd(I,l),x+=B*k.CrossVV(a,l)}this.m_positions[f].a=w,this.m_positions[m].a=x}return u>=-1.5*A}}]),t}();tn.InitializeVelocityConstraints_s_xfA=new G,tn.InitializeVelocityConstraints_s_xfB=new G,tn.InitializeVelocityConstraints_s_worldManifold=new pt,tn.WarmStart_s_P=new k,tn.SolveVelocityConstraints_s_dv=new k,tn.SolveVelocityConstraints_s_dv1=new k,tn.SolveVelocityConstraints_s_dv2=new k,tn.SolveVelocityConstraints_s_P=new k,tn.SolveVelocityConstraints_s_a=new k,tn.SolveVelocityConstraints_s_b=new k,tn.SolveVelocityConstraints_s_x=new k,tn.SolveVelocityConstraints_s_d=new k,tn.SolveVelocityConstraints_s_P1=new k,tn.SolveVelocityConstraints_s_P2=new k,tn.SolveVelocityConstraints_s_P1P2=new k,tn.SolvePositionConstraints_s_xfA=new G,tn.SolvePositionConstraints_s_xfB=new G,tn.SolvePositionConstraints_s_psm=new $i,tn.SolvePositionConstraints_s_rA=new k,tn.SolvePositionConstraints_s_rB=new k,tn.SolvePositionConstraints_s_P=new k,tn.SolveTOIPositionConstraints_s_xfA=new G,tn.SolveTOIPositionConstraints_s_xfB=new G,tn.SolveTOIPositionConstraints_s_psm=new $i,tn.SolveTOIPositionConstraints_s_rA=new k,tn.SolveTOIPositionConstraints_s_rB=new k,tn.SolveTOIPositionConstraints_s_P=new k;var en,nn,rn=function(){function e(){_classCallCheck2(this,e),this.m_allocator=null,this.m_bodies=[],this.m_contacts=[],this.m_joints=[],this.m_positions=ji.MakeArray(1024),this.m_velocities=Ki.MakeArray(1024),this.m_bodyCount=0,this.m_jointCount=0,this.m_contactCount=0,this.m_bodyCapacity=0,this.m_contactCapacity=0,this.m_jointCapacity=0}return _createClass2(e,[{key:"Initialize",value:function(t,e,i,n,r){if(this.m_bodyCapacity=t,this.m_contactCapacity=e,this.m_jointCapacity=i,this.m_bodyCount=0,this.m_contactCount=0,this.m_jointCount=0,this.m_allocator=n,this.m_listener=r,this.m_positions.length<t)for(var s=p(2*this.m_positions.length,t);this.m_positions.length<s;)this.m_positions[this.m_positions.length]=new ji;if(this.m_velocities.length<t)for(var o=p(2*this.m_velocities.length,t);this.m_velocities.length<o;)this.m_velocities[this.m_velocities.length]=new Ki}},{key:"Clear",value:function(){this.m_bodyCount=0,this.m_contactCount=0,this.m_jointCount=0}},{key:"AddBody",value:function(t){t.m_islandIndex=this.m_bodyCount,this.m_bodies[this.m_bodyCount++]=t}},{key:"AddContact",value:function(t){this.m_contacts[this.m_contactCount++]=t}},{key:"AddJoint",value:function(t){this.m_joints[this.m_jointCount++]=t}},{key:"Solve",value:function(n,r,s,o){for(var a=e.s_timer.Reset(),A=r.dt,l=0;l<this.m_bodyCount;++l){var u=this.m_bodies[l];this.m_positions[l].c.Copy(u.m_sweep.c);var h=u.m_sweep.a,c=this.m_velocities[l].v.Copy(u.m_linearVelocity),f=u.m_angularVelocity;u.m_sweep.c0.Copy(u.m_sweep.c),u.m_sweep.a0=u.m_sweep.a,u.m_type===t.b2BodyType.b2_dynamicBody&&(c.x+=A*(u.m_gravityScale*s.x+u.m_invMass*u.m_force.x),c.y+=A*(u.m_gravityScale*s.y+u.m_invMass*u.m_force.y),f+=A*u.m_invI*u.m_torque,c.SelfMul(1/(1+A*u.m_linearDamping)),f*=1/(1+A*u.m_angularDamping)),this.m_positions[l].a=h,this.m_velocities[l].w=f}a.Reset();var m=e.s_solverData;m.step.Copy(r),m.positions=this.m_positions,m.velocities=this.m_velocities;var _=e.s_contactSolverDef;_.step.Copy(r),_.contacts=this.m_contacts,_.count=this.m_contactCount,_.positions=this.m_positions,_.velocities=this.m_velocities,_.allocator=this.m_allocator;var p=e.s_contactSolver.Initialize(_);p.InitializeVelocityConstraints(),r.warmStarting&&p.WarmStart();for(var y=0;y<this.m_jointCount;++y)this.m_joints[y].InitVelocityConstraints(m);n.solveInit=a.GetMilliseconds(),a.Reset();for(var C=0;C<r.velocityIterations;++C){for(var v=0;v<this.m_jointCount;++v)this.m_joints[v].SolveVelocityConstraints(m);p.SolveVelocityConstraints()}p.StoreImpulses(),n.solveVelocity=a.GetMilliseconds();for(var I=0;I<this.m_bodyCount;++I){var B=this.m_positions[I].c,E=this.m_positions[I].a,w=this.m_velocities[I].v,b=this.m_velocities[I].w,x=k.MulSV(A,w,e.s_translation);if(k.DotVV(x,x)>4){var S=2/x.Length();w.SelfMul(S)}var Q=A*b;Q*Q>2.4674011002726646&&(b*=1.570796326795/g(Q)),B.x+=A*w.x,B.y+=A*w.y,this.m_positions[I].a=E+=A*b,this.m_velocities[I].w=b}a.Reset();for(var D=!1,M=0;M<r.positionIterations;++M){for(var R=p.SolvePositionConstraints(),V=!0,T=0;T<this.m_jointCount;++T){var G=this.m_joints[T].SolvePositionConstraints(m);V=V&&G}if(R&&V){D=!0;break}}for(var F=0;F<this.m_bodyCount;++F){var P=this.m_bodies[F];P.m_sweep.c.Copy(this.m_positions[F].c),P.m_sweep.a=this.m_positions[F].a,P.m_linearVelocity.Copy(this.m_velocities[F].v),P.m_angularVelocity=this.m_velocities[F].w,P.SynchronizeTransform()}if(n.solvePosition=a.GetMilliseconds(),this.Report(p.m_velocityConstraints),o){for(var N=i,L=0;L<this.m_bodyCount;++L){var U=this.m_bodies[L];U.GetType()!==t.b2BodyType.b2_staticBody&&(!U.m_autoSleepFlag||U.m_angularVelocity*U.m_angularVelocity>.0012184696791469947||k.DotVV(U.m_linearVelocity,U.m_linearVelocity)>1e-4?(U.m_sleepTime=0,N=0):(U.m_sleepTime+=A,N=d(N,U.m_sleepTime)))}if(N>=.5&&D)for(var O=0;O<this.m_bodyCount;++O)this.m_bodies[O].SetAwake(!1)}}},{key:"SolveTOI",value:function(t,i,n){for(var r=0;r<this.m_bodyCount;++r){var s=this.m_bodies[r];this.m_positions[r].c.Copy(s.m_sweep.c),this.m_positions[r].a=s.m_sweep.a,this.m_velocities[r].v.Copy(s.m_linearVelocity),this.m_velocities[r].w=s.m_angularVelocity}var o=e.s_contactSolverDef;o.contacts=this.m_contacts,o.count=this.m_contactCount,o.allocator=this.m_allocator,o.step.Copy(t),o.positions=this.m_positions,o.velocities=this.m_velocities;for(var a=e.s_contactSolver.Initialize(o),A=0;A<t.positionIterations&&!a.SolveTOIPositionConstraints(i,n);++A);this.m_bodies[i].m_sweep.c0.Copy(this.m_positions[i].c),this.m_bodies[i].m_sweep.a0=this.m_positions[i].a,this.m_bodies[n].m_sweep.c0.Copy(this.m_positions[n].c),this.m_bodies[n].m_sweep.a0=this.m_positions[n].a,a.InitializeVelocityConstraints();for(var l=0;l<t.velocityIterations;++l)a.SolveVelocityConstraints();for(var u=t.dt,h=0;h<this.m_bodyCount;++h){var c=this.m_positions[h].c,f=this.m_positions[h].a,m=this.m_velocities[h].v,_=this.m_velocities[h].w,d=k.MulSV(u,m,e.s_translation);if(k.DotVV(d,d)>4){var p=2/d.Length();m.SelfMul(p)}var y=u*_;y*y>2.4674011002726646&&(_*=1.570796326795/g(y)),c.SelfMulAdd(u,m),this.m_positions[h].a=f+=u*_,this.m_velocities[h].w=_;var C=this.m_bodies[h];C.m_sweep.c.Copy(c),C.m_sweep.a=f,C.m_linearVelocity.Copy(m),C.m_angularVelocity=_,C.SynchronizeTransform()}this.Report(a.m_velocityConstraints)}},{key:"Report",value:function(t){if(null!==this.m_listener)for(var i=0;i<this.m_contactCount;++i){var n=this.m_contacts[i];if(n){var r=t[i],s=e.s_impulse;s.count=r.pointCount;for(var o=0;o<r.pointCount;++o)s.normalImpulses[o]=r.points[o].normalImpulse,s.tangentImpulses[o]=r.points[o].tangentImpulse;this.m_listener.PostSolve(n,s)}}}}]),e}();rn.s_timer=new L,rn.s_solverData=new qi,rn.s_contactSolverDef=new Zi,rn.s_contactSolver=new tn,rn.s_translation=new k,rn.s_impulse=new Li,(en=t.b2ParticleFlag||(t.b2ParticleFlag={}))[en.b2_waterParticle=0]="b2_waterParticle",en[en.b2_zombieParticle=2]="b2_zombieParticle",en[en.b2_wallParticle=4]="b2_wallParticle",en[en.b2_springParticle=8]="b2_springParticle",en[en.b2_elasticParticle=16]="b2_elasticParticle",en[en.b2_viscousParticle=32]="b2_viscousParticle",en[en.b2_powderParticle=64]="b2_powderParticle",en[en.b2_tensileParticle=128]="b2_tensileParticle",en[en.b2_colorMixingParticle=256]="b2_colorMixingParticle",en[en.b2_destructionListenerParticle=512]="b2_destructionListenerParticle",en[en.b2_barrierParticle=1024]="b2_barrierParticle",en[en.b2_staticPressureParticle=2048]="b2_staticPressureParticle",en[en.b2_reactiveParticle=4096]="b2_reactiveParticle",en[en.b2_repulsiveParticle=8192]="b2_repulsiveParticle",en[en.b2_fixtureContactListenerParticle=16384]="b2_fixtureContactListenerParticle",en[en.b2_particleContactListenerParticle=32768]="b2_particleContactListenerParticle",en[en.b2_fixtureContactFilterParticle=65536]="b2_fixtureContactFilterParticle",en[en.b2_particleContactFilterParticle=131072]="b2_particleContactFilterParticle";var sn=function t(){_classCallCheck2(this,t),this.flags=0,this.position=new k,this.velocity=new k,this.color=new N(0,0,0,0),this.lifetime=0,this.userData=null,this.group=null};function on(t,e,i){return y(Math.ceil(Math.sqrt(t/(.01*e))*i),1,8)}var an=function(){function t(){_classCallCheck2(this,t),this.m_index=h}return _createClass2(t,[{key:"GetIndex",value:function(){return this.m_index}},{key:"SetIndex",value:function(t){this.m_index=t}}]),t}();(nn=t.b2ParticleGroupFlag||(t.b2ParticleGroupFlag={}))[nn.b2_solidParticleGroup=1]="b2_solidParticleGroup",nn[nn.b2_rigidParticleGroup=2]="b2_rigidParticleGroup",nn[nn.b2_particleGroupCanBeEmpty=4]="b2_particleGroupCanBeEmpty",nn[nn.b2_particleGroupWillBeDestroyed=8]="b2_particleGroupWillBeDestroyed",nn[nn.b2_particleGroupNeedsUpdateDepth=16]="b2_particleGroupNeedsUpdateDepth",nn[nn.b2_particleGroupInternalMask=24]="b2_particleGroupInternalMask";var An=function t(){_classCallCheck2(this,t),this.flags=0,this.groupFlags=0,this.position=new k,this.angle=0,this.linearVelocity=new k,this.angularVelocity=0,this.color=new N,this.strength=1,this.shapeCount=0,this.stride=0,this.particleCount=0,this.lifetime=0,this.userData=null,this.group=null},ln=function(){function e(t){_classCallCheck2(this,e),this.m_firstIndex=0,this.m_lastIndex=0,this.m_groupFlags=0,this.m_strength=1,this.m_prev=null,this.m_next=null,this.m_timestamp=-1,this.m_mass=0,this.m_inertia=0,this.m_center=new k,this.m_linearVelocity=new k,this.m_angularVelocity=0,this.m_transform=new G,this.m_userData=null,this.m_system=t}return _createClass2(e,[{key:"GetNext",value:function(){return this.m_next}},{key:"GetParticleSystem",value:function(){return this.m_system}},{key:"GetParticleCount",value:function(){return this.m_lastIndex-this.m_firstIndex}},{key:"GetBufferIndex",value:function(){return this.m_firstIndex}},{key:"ContainsParticle",value:function(t){return this.m_firstIndex<=t&&t<this.m_lastIndex}},{key:"GetAllParticleFlags",value:function(){if(!this.m_system.m_flagsBuffer.data)throw new Error;for(var t=0,e=this.m_firstIndex;e<this.m_lastIndex;e++)t|=this.m_system.m_flagsBuffer.data[e];return t}},{key:"GetGroupFlags",value:function(){return this.m_groupFlags}},{key:"SetGroupFlags",value:function(e){this.m_system.SetGroupFlags(this,e|=this.m_groupFlags&t.b2ParticleGroupFlag.b2_particleGroupInternalMask)}},{key:"GetMass",value:function(){return this.UpdateStatistics(),this.m_mass}},{key:"GetInertia",value:function(){return this.UpdateStatistics(),this.m_inertia}},{key:"GetCenter",value:function(){return this.UpdateStatistics(),this.m_center}},{key:"GetLinearVelocity",value:function(){return this.UpdateStatistics(),this.m_linearVelocity}},{key:"GetAngularVelocity",value:function(){return this.UpdateStatistics(),this.m_angularVelocity}},{key:"GetTransform",value:function(){return this.m_transform}},{key:"GetPosition",value:function(){return this.m_transform.p}},{key:"GetAngle",value:function(){return this.m_transform.q.GetAngle()}},{key:"GetLinearVelocityFromWorldPoint",value:function(t,i){var n=e.GetLinearVelocityFromWorldPoint_s_t0;return this.UpdateStatistics(),k.AddVCrossSV(this.m_linearVelocity,this.m_angularVelocity,k.SubVV(t,this.m_center,n),i)}},{key:"GetUserData",value:function(){return this.m_userData}},{key:"SetUserData",value:function(t){this.m_userData=t}},{key:"ApplyForce",value:function(t){this.m_system.ApplyForce(this.m_firstIndex,this.m_lastIndex,t)}},{key:"ApplyLinearImpulse",value:function(t){this.m_system.ApplyLinearImpulse(this.m_firstIndex,this.m_lastIndex,t)}},{key:"DestroyParticles",value:function(t){if(this.m_system.m_world.IsLocked())throw new Error;for(var e=this.m_firstIndex;e<this.m_lastIndex;e++)this.m_system.DestroyParticle(e,t)}},{key:"UpdateStatistics",value:function(){if(!this.m_system.m_positionBuffer.data)throw new Error;if(!this.m_system.m_velocityBuffer.data)throw new Error;var t=new k,e=new k;if(this.m_timestamp!==this.m_system.m_timestamp){var i=this.m_system.GetParticleMass();this.m_mass=i*(this.m_lastIndex-this.m_firstIndex),this.m_center.SetZero(),this.m_linearVelocity.SetZero();for(var n=this.m_firstIndex;n<this.m_lastIndex;n++)this.m_center.SelfMulAdd(i,this.m_system.m_positionBuffer.data[n]),this.m_linearVelocity.SelfMulAdd(i,this.m_system.m_velocityBuffer.data[n]);if(this.m_mass>0){var r=1/this.m_mass;this.m_center.SelfMul(r),this.m_linearVelocity.SelfMul(r)}this.m_inertia=0,this.m_angularVelocity=0;for(var s=this.m_firstIndex;s<this.m_lastIndex;s++)k.SubVV(this.m_system.m_positionBuffer.data[s],this.m_center,t),k.SubVV(this.m_system.m_velocityBuffer.data[s],this.m_linearVelocity,e),this.m_inertia+=i*k.DotVV(t,t),this.m_angularVelocity+=i*k.CrossVV(t,e);this.m_inertia>0&&(this.m_angularVelocity*=1/this.m_inertia),this.m_timestamp=this.m_system.m_timestamp}}}]),e}();ln.GetLinearVelocityFromWorldPoint_s_t0=new k;var un=function(){function t(e){_classCallCheck2(this,t),this.m_front=0,this.m_back=0,this.m_capacity=0,this.m_buffer=m(e,(function(t){return null})),this.m_capacity=e}return _createClass2(t,[{key:"Push",value:function(t){if(this.m_back>=this.m_capacity){for(var e=this.m_front;e<this.m_back;e++)this.m_buffer[e-this.m_front]=this.m_buffer[e];this.m_back-=this.m_front,this.m_front=0,this.m_back>=this.m_capacity&&(this.m_capacity>0?(this.m_buffer.concat(m(this.m_capacity,(function(t){return null}))),this.m_capacity*=2):(this.m_buffer.concat(m(1,(function(t){return null}))),this.m_capacity=1))}this.m_buffer[this.m_back]=t,this.m_back++}},{key:"Pop",value:function(){this.m_buffer[this.m_front]=null,this.m_front++}},{key:"Empty",value:function(){return this.m_front===this.m_back}},{key:"Front",value:function(){var t=this.m_buffer[this.m_front];if(!t)throw new Error;return t}}]),t}(),hn=function(){function t(e){_classCallCheck2(this,t),this.m_generatorCapacity=0,this.m_generatorCount=0,this.m_countX=0,this.m_countY=0,this.m_diagram=[],this.m_generatorBuffer=m(e,(function(t){return new cn})),this.m_generatorCapacity=e}return _createClass2(t,[{key:"AddGenerator",value:function(t,e,i){var n=this.m_generatorBuffer[this.m_generatorCount++];n.center.Copy(t),n.tag=e,n.necessary=i}},{key:"Generate",value:function(t,e){for(var n=1/t,r=new k(+i,+i),s=new k(-i,-i),o=0,a=0;a<this.m_generatorCount;a++){var A=this.m_generatorBuffer[a];A.necessary&&(k.MinV(r,A.center,r),k.MaxV(s,A.center,s),++o)}if(0===o)return this.m_countX=0,void(this.m_countY=0);r.x-=e,r.y-=e,s.x+=e,s.y+=e,this.m_countX=1+Math.floor(n*(s.x-r.x)),this.m_countY=1+Math.floor(n*(s.y-r.y)),this.m_diagram=[];for(var l=new un(4*this.m_countX*this.m_countY),u=0;u<this.m_generatorCount;u++){var h=this.m_generatorBuffer[u];h.center.SelfSub(r).SelfMul(n);var c=Math.floor(h.center.x),f=Math.floor(h.center.y);c>=0&&f>=0&&c<this.m_countX&&f<this.m_countY&&l.Push(new fn(c,f,c+f*this.m_countX,h))}for(;!l.Empty();){var m=l.Front(),_=m.m_x,g=m.m_y,d=m.m_i,p=m.m_generator;l.Pop(),this.m_diagram[d]||(this.m_diagram[d]=p,_>0&&l.Push(new fn(_-1,g,d-1,p)),g>0&&l.Push(new fn(_,g-1,d-this.m_countX,p)),_<this.m_countX-1&&l.Push(new fn(_+1,g,d+1,p)),g<this.m_countY-1&&l.Push(new fn(_,g+1,d+this.m_countX,p)))}for(var y=0;y<this.m_countY;y++)for(var C=0;C<this.m_countX-1;C++){var v=C+y*this.m_countX,I=this.m_diagram[v],B=this.m_diagram[v+1];I!==B&&(l.Push(new fn(C,y,v,B)),l.Push(new fn(C+1,y,v+1,I)))}for(var E=0;E<this.m_countY-1;E++)for(var w=0;w<this.m_countX;w++){var b=w+E*this.m_countX,x=this.m_diagram[b],S=this.m_diagram[b+this.m_countX];x!==S&&(l.Push(new fn(w,E,b,S)),l.Push(new fn(w,E+1,b+this.m_countX,x)))}for(;!l.Empty();){var Q=l.Front(),D=Q.m_x,M=Q.m_y,R=Q.m_i,V=Q.m_generator;l.Pop();var T=this.m_diagram[R],G=V;if(T!==G){var F=T.center.x-D,P=T.center.y-M,N=G.center.x-D,L=G.center.y-M;F*F+P*P>N*N+L*L&&(this.m_diagram[R]=G,D>0&&l.Push(new fn(D-1,M,R-1,G)),M>0&&l.Push(new fn(D,M-1,R-this.m_countX,G)),D<this.m_countX-1&&l.Push(new fn(D+1,M,R+1,G)),M<this.m_countY-1&&l.Push(new fn(D,M+1,R+this.m_countX,G)))}}}},{key:"GetNodes",value:function(t){for(var e=0;e<this.m_countY-1;e++)for(var i=0;i<this.m_countX-1;i++){var n=i+e*this.m_countX,r=this.m_diagram[n],s=this.m_diagram[n+1],o=this.m_diagram[n+this.m_countX],a=this.m_diagram[n+1+this.m_countX];s!==o&&(r!==s&&r!==o&&(r.necessary||s.necessary||o.necessary)&&t(r.tag,s.tag,o.tag),a!==s&&a!==o&&(r.necessary||s.necessary||o.necessary)&&t(s.tag,a.tag,o.tag))}}}]),t}(),cn=function t(){_classCallCheck2(this,t),this.center=new k,this.tag=0,this.necessary=!1},fn=function t(e,i,n,r){_classCallCheck2(this,t),this.m_x=e,this.m_y=i,this.m_i=n,this.m_generator=r};function mn(t,e,i){var n=t[e];t[e]=t[i],t[i]=n}function _n(t,e){return t<e}function gn(t){for(var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:t.length-e,n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:_n,r=e,s=[],o=0;;){for(;r+1<i;i++){var a=t[r+Math.floor(Math.random()*(i-r))];s[o++]=i;for(var A=r-1;;){for(;n(t[++A],a););for(;n(a,t[--i]););if(A>=i)break;mn(t,A,i)}}if(0===o)break;r=i,i=s[--o]}return t}function dn(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return gn(t,e,arguments.length>2&&void 0!==arguments[2]?arguments[2]:t.length-e,arguments.length>3&&void 0!==arguments[3]?arguments[3]:_n)}function pn(t,e){for(var i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:t.length,n=0,r=0;r<i;++r)e(t[r])||(r!==n?mn(t,n++,r):++n);return n}function yn(t,e,i,n,r){for(var s=i-e;s>0;){var o=Math.floor(s/2),a=e+o;r(t[a],n)?(e=++a,s-=o+1):s=o}return e}function Cn(t,e,i,n,r){for(var s=i-e;s>0;){var o=Math.floor(s/2),a=e+o;r(n,t[a])?s=o:(e=++a,s-=o+1)}return e}function vn(t,e,i,n){for(var r=i;e!==r;)mn(t,e++,r++),r===n?r=i:e===i&&(i=r)}var In=function(){function t(e){_classCallCheck2(this,t),this.data=[],this.count=0,this.capacity=0,this.allocator=e}return _createClass2(t,[{key:"Append",value:function(){return this.count>=this.capacity&&this.Grow(),this.count++}},{key:"Reserve",value:function(t){if(!(this.capacity>=t)){for(var e=this.capacity;e<t;++e)this.data[e]=this.allocator();this.capacity=t}}},{key:"Grow",value:function(){this.Reserve(this.capacity?2*this.capacity:256)}},{key:"Free",value:function(){0!==this.data.length&&(this.data=[],this.capacity=0,this.count=0)}},{key:"Shorten",value:function(t){}},{key:"Data",value:function(){return this.data}},{key:"GetCount",value:function(){return this.count}},{key:"SetCount",value:function(t){this.count=t}},{key:"GetCapacity",value:function(){return this.capacity}},{key:"RemoveIf",value:function(t){this.count=pn(this.data,t,this.count)}},{key:"Unique",value:function(t){this.count=function(t,e,i,n){if(e===i)return i;for(var r=e;++e!==i;)n(t[r],t[e])||mn(t,++r,e);return++r}(this.data,0,this.count,t)}}]),t}(),Bn=function(t){function e(t){var i;return _classCallCheck2(this,e),(i=_possibleConstructorReturn(this,_getPrototypeOf(e).call(this))).m_system=t,i}return _inherits(e,t),_createClass2(e,[{key:"ShouldQueryParticleSystem",value:function(t){return!1}},{key:"ReportFixture",value:function(t){if(t.IsSensor())return!0;for(var e=t.GetShape().GetChildCount(),i=0;i<e;i++)for(var n=t.GetAABB(i),r=this.m_system.GetInsideBoundsEnumerator(n),s=void 0;(s=r.GetNext())>=0;)this.ReportFixtureAndParticle(t,i,s);return!0}},{key:"ReportParticle",value:function(t,e){return!1}},{key:"ReportFixtureAndParticle",value:function(t,e,i){}}]),e}(Oi),En=function(){function t(){_classCallCheck2(this,t),this.indexA=0,this.indexB=0,this.weight=0,this.normal=new k,this.flags=0}return _createClass2(t,[{key:"SetIndices",value:function(t,e){this.indexA=t,this.indexB=e}},{key:"SetWeight",value:function(t){this.weight=t}},{key:"SetNormal",value:function(t){this.normal.Copy(t)}},{key:"SetFlags",value:function(t){this.flags=t}},{key:"GetIndexA",value:function(){return this.indexA}},{key:"GetIndexB",value:function(){return this.indexB}},{key:"GetWeight",value:function(){return this.weight}},{key:"GetNormal",value:function(){return this.normal}},{key:"GetFlags",value:function(){return this.flags}},{key:"IsEqual",value:function(t){return this.indexA===t.indexA&&this.indexB===t.indexB&&this.flags===t.flags&&this.weight===t.weight&&this.normal.x===t.normal.x&&this.normal.y===t.normal.y}},{key:"IsNotEqual",value:function(t){return!this.IsEqual(t)}},{key:"ApproximatelyEqual",value:function(t){return this.indexA===t.indexA&&this.indexB===t.indexB&&this.flags===t.flags&&g(this.weight-t.weight)<.01&&k.DistanceSquaredVV(this.normal,t.normal)<1e-4}}]),t}(),wn=function t(){_classCallCheck2(this,t),this.index=0,this.weight=0,this.normal=new k,this.mass=0},bn=function t(){_classCallCheck2(this,t),this.indexA=0,this.indexB=0,this.flags=0,this.strength=0,this.distance=0},xn=function t(){_classCallCheck2(this,t),this.indexA=0,this.indexB=0,this.indexC=0,this.flags=0,this.strength=0,this.pa=new k(0,0),this.pb=new k(0,0),this.pc=new k(0,0),this.ka=0,this.kb=0,this.kc=0,this.s=0},Sn=function(){function t(){_classCallCheck2(this,t),this.strictContactCheck=!1,this.density=1,this.gravityScale=1,this.radius=1,this.maxCount=0,this.pressureStrength=.005,this.dampingStrength=1,this.elasticStrength=.25,this.springStrength=.25,this.viscousStrength=.25,this.surfaceTensionPressureStrength=.2,this.surfaceTensionNormalStrength=.2,this.repulsiveStrength=1,this.powderStrength=.5,this.ejectionStrength=.5,this.staticPressureStrength=.2,this.staticPressureRelaxation=.2,this.staticPressureIterations=8,this.colorMixingStrength=.5,this.destroyByAge=!0,this.lifetimeGranularity=1/60}return _createClass2(t,[{key:"Copy",value:function(t){return this.strictContactCheck=t.strictContactCheck,this.density=t.density,this.gravityScale=t.gravityScale,this.radius=t.radius,this.maxCount=t.maxCount,this.pressureStrength=t.pressureStrength,this.dampingStrength=t.dampingStrength,this.elasticStrength=t.elasticStrength,this.springStrength=t.springStrength,this.viscousStrength=t.viscousStrength,this.surfaceTensionPressureStrength=t.surfaceTensionPressureStrength,this.surfaceTensionNormalStrength=t.surfaceTensionNormalStrength,this.repulsiveStrength=t.repulsiveStrength,this.powderStrength=t.powderStrength,this.ejectionStrength=t.ejectionStrength,this.staticPressureStrength=t.staticPressureStrength,this.staticPressureRelaxation=t.staticPressureRelaxation,this.staticPressureIterations=t.staticPressureIterations,this.colorMixingStrength=t.colorMixingStrength,this.destroyByAge=t.destroyByAge,this.lifetimeGranularity=t.lifetimeGranularity,this}},{key:"Clone",value:function(){return(new t).Copy(this)}}]),t}(),Qn=function(){function n(t,e){_classCallCheck2(this,n),this.m_paused=!1,this.m_timestamp=0,this.m_allParticleFlags=0,this.m_needsUpdateAllParticleFlags=!1,this.m_allGroupFlags=0,this.m_needsUpdateAllGroupFlags=!1,this.m_hasForce=!1,this.m_iterationIndex=0,this.m_inverseDensity=0,this.m_particleDiameter=0,this.m_inverseDiameter=0,this.m_squaredDiameter=0,this.m_count=0,this.m_internalAllocatedCapacity=0,this.m_handleIndexBuffer=new kn,this.m_flagsBuffer=new kn,this.m_positionBuffer=new kn,this.m_velocityBuffer=new kn,this.m_forceBuffer=[],this.m_weightBuffer=[],this.m_staticPressureBuffer=[],this.m_accumulationBuffer=[],this.m_accumulation2Buffer=[],this.m_depthBuffer=[],this.m_colorBuffer=new kn,this.m_groupBuffer=[],this.m_userDataBuffer=new kn,this.m_stuckThreshold=0,this.m_lastBodyContactStepBuffer=new kn,this.m_bodyContactCountBuffer=new kn,this.m_consecutiveContactStepsBuffer=new kn,this.m_stuckParticleBuffer=new In((function(){return 0})),this.m_proxyBuffer=new In((function(){return new Dn})),this.m_contactBuffer=new In((function(){return new En})),this.m_bodyContactBuffer=new In((function(){return new wn})),this.m_pairBuffer=new In((function(){return new bn})),this.m_triadBuffer=new In((function(){return new xn})),this.m_expirationTimeBuffer=new kn,this.m_indexByExpirationTimeBuffer=new kn,this.m_timeElapsed=0,this.m_expirationTimeBufferRequiresSorting=!1,this.m_groupCount=0,this.m_groupList=null,this.m_def=new Sn,this.m_prev=null,this.m_next=null,this.SetStrictContactCheck(t.strictContactCheck),this.SetDensity(t.density),this.SetGravityScale(t.gravityScale),this.SetRadius(t.radius),this.SetMaxParticleCount(t.maxCount),this.m_def=t.Clone(),this.m_world=e,this.SetDestructionByAge(this.m_def.destroyByAge)}return _createClass2(n,[{key:"Drop",value:function(){for(;this.m_groupList;)this.DestroyParticleGroup(this.m_groupList);this.FreeUserOverridableBuffer(this.m_handleIndexBuffer),this.FreeUserOverridableBuffer(this.m_flagsBuffer),this.FreeUserOverridableBuffer(this.m_lastBodyContactStepBuffer),this.FreeUserOverridableBuffer(this.m_bodyContactCountBuffer),this.FreeUserOverridableBuffer(this.m_consecutiveContactStepsBuffer),this.FreeUserOverridableBuffer(this.m_positionBuffer),this.FreeUserOverridableBuffer(this.m_velocityBuffer),this.FreeUserOverridableBuffer(this.m_colorBuffer),this.FreeUserOverridableBuffer(this.m_userDataBuffer),this.FreeUserOverridableBuffer(this.m_expirationTimeBuffer),this.FreeUserOverridableBuffer(this.m_indexByExpirationTimeBuffer),this.FreeBuffer(this.m_forceBuffer,this.m_internalAllocatedCapacity),this.FreeBuffer(this.m_weightBuffer,this.m_internalAllocatedCapacity),this.FreeBuffer(this.m_staticPressureBuffer,this.m_internalAllocatedCapacity),this.FreeBuffer(this.m_accumulationBuffer,this.m_internalAllocatedCapacity),this.FreeBuffer(this.m_accumulation2Buffer,this.m_internalAllocatedCapacity),this.FreeBuffer(this.m_depthBuffer,this.m_internalAllocatedCapacity),this.FreeBuffer(this.m_groupBuffer,this.m_internalAllocatedCapacity)}},{key:"CreateParticle",value:function(t){if(this.m_world.IsLocked())throw new Error;if(this.m_count>=this.m_internalAllocatedCapacity&&this.ReallocateInternalAllocatedBuffers(this.m_count?2*this.m_count:256),this.m_count>=this.m_internalAllocatedCapacity){if(!this.m_def.destroyByAge)return h;this.DestroyOldestParticle(0,!1),this.SolveZombie()}var i=this.m_count++;if(!this.m_flagsBuffer.data)throw new Error;if(this.m_flagsBuffer.data[i]=0,this.m_lastBodyContactStepBuffer.data&&(this.m_lastBodyContactStepBuffer.data[i]=0),this.m_bodyContactCountBuffer.data&&(this.m_bodyContactCountBuffer.data[i]=0),this.m_consecutiveContactStepsBuffer.data&&(this.m_consecutiveContactStepsBuffer.data[i]=0),!this.m_positionBuffer.data)throw new Error;if(!this.m_velocityBuffer.data)throw new Error;this.m_positionBuffer.data[i]=(this.m_positionBuffer.data[i]||new k).Copy(e(t.position,k.ZERO)),this.m_velocityBuffer.data[i]=(this.m_velocityBuffer.data[i]||new k).Copy(e(t.velocity,k.ZERO)),this.m_weightBuffer[i]=0,this.m_forceBuffer[i]=(this.m_forceBuffer[i]||new k).SetZero(),this.m_staticPressureBuffer&&(this.m_staticPressureBuffer[i]=0),this.m_depthBuffer&&(this.m_depthBuffer[i]=0);var n=(new N).Copy(e(t.color,N.ZERO));!this.m_colorBuffer.data&&n.IsZero()||(this.m_colorBuffer.data=this.RequestBuffer(this.m_colorBuffer.data),this.m_colorBuffer.data[i]=(this.m_colorBuffer.data[i]||new N).Copy(n)),(this.m_userDataBuffer.data||t.userData)&&(this.m_userDataBuffer.data=this.RequestBuffer(this.m_userDataBuffer.data),this.m_userDataBuffer.data[i]=t.userData),this.m_handleIndexBuffer.data&&(this.m_handleIndexBuffer.data[i]=null);var r=this.m_proxyBuffer.data[this.m_proxyBuffer.Append()],s=e(t.lifetime,0),o=s>0;if(this.m_expirationTimeBuffer.data||o){if(this.SetParticleLifetime(i,o?s:this.ExpirationTimeToLifetime(-this.GetQuantizedTimeElapsed())),!this.m_indexByExpirationTimeBuffer.data)throw new Error;this.m_indexByExpirationTimeBuffer.data[i]=i}r.index=i;var a=e(t.group,null);return this.m_groupBuffer[i]=a,a&&(a.m_firstIndex<a.m_lastIndex?(this.RotateBuffer(a.m_firstIndex,a.m_lastIndex,i),a.m_lastIndex=i+1):(a.m_firstIndex=i,a.m_lastIndex=i+1)),this.SetParticleFlags(i,e(t.flags,0)),i}},{key:"GetParticleHandleFromIndex",value:function(t){this.m_handleIndexBuffer.data=this.RequestBuffer(this.m_handleIndexBuffer.data);var e=this.m_handleIndexBuffer.data[t];return e||((e=new an).SetIndex(t),this.m_handleIndexBuffer.data[t]=e,e)}},{key:"DestroyParticle",value:function(e){var i=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if(!this.m_flagsBuffer.data)throw new Error;var n=t.b2ParticleFlag.b2_zombieParticle;i&&(n|=t.b2ParticleFlag.b2_destructionListenerParticle),this.SetParticleFlags(e,this.m_flagsBuffer.data[e]|n)}},{key:"DestroyOldestParticle",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]&&arguments[1],i=this.GetParticleCount();if(!this.m_indexByExpirationTimeBuffer.data)throw new Error;if(!this.m_expirationTimeBuffer.data)throw new Error;var n=this.m_indexByExpirationTimeBuffer.data[i-(t+1)];this.DestroyParticle(this.m_expirationTimeBuffer.data[n]>0?n:this.m_indexByExpirationTimeBuffer.data[t],e)}},{key:"DestroyParticlesInShape",value:function(t,e){var i=arguments.length>2&&void 0!==arguments[2]&&arguments[2],r=n.DestroyParticlesInShape_s_aabb;if(this.m_world.IsLocked())throw new Error;var s=new Pn(this,t,e,i),o=r;return t.ComputeAABB(o,e,0),this.m_world.QueryAABB(s,o),s.Destroyed()}},{key:"CreateParticleGroup",value:function(t){var i=n.CreateParticleGroup_s_transform;if(this.m_world.IsLocked())throw new Error;var r=i;r.SetPositionAngle(e(t.position,k.ZERO),e(t.angle,0));var s=this.m_count;if(t.shape&&this.CreateParticlesWithShapeForGroup(t.shape,t,r),t.shapes&&this.CreateParticlesWithShapesForGroup(t.shapes,e(t.shapeCount,t.shapes.length),t,r),t.positionData)for(var o=e(t.particleCount,t.positionData.length),a=0;a<o;a++)this.CreateParticleForGroup(t,r,t.positionData[a]);var A=this.m_count,l=new ln(this);l.m_firstIndex=s,l.m_lastIndex=A,l.m_strength=e(t.strength,1),l.m_userData=t.userData,l.m_transform.Copy(r),l.m_prev=null,l.m_next=this.m_groupList,this.m_groupList&&(this.m_groupList.m_prev=l),this.m_groupList=l,++this.m_groupCount;for(var u=s;u<A;u++)this.m_groupBuffer[u]=l;this.SetGroupFlags(l,e(t.groupFlags,0));var h=new Fn;return this.UpdateContacts(!0),this.UpdatePairsAndTriads(s,A,h),t.group&&(this.JoinParticleGroups(t.group,l),l=t.group),l}},{key:"JoinParticleGroups",value:function(t,e){if(this.m_world.IsLocked())throw new Error;this.RotateBuffer(e.m_firstIndex,e.m_lastIndex,this.m_count),this.RotateBuffer(t.m_firstIndex,t.m_lastIndex,e.m_firstIndex);var i=new Nn(e.m_firstIndex);this.UpdateContacts(!0),this.UpdatePairsAndTriads(t.m_firstIndex,e.m_lastIndex,i);for(var n=e.m_firstIndex;n<e.m_lastIndex;n++)this.m_groupBuffer[n]=t;this.SetGroupFlags(t,t.m_groupFlags|e.m_groupFlags),t.m_lastIndex=e.m_lastIndex,e.m_firstIndex=e.m_lastIndex,this.DestroyParticleGroup(e)}},{key:"SplitParticleGroup",value:function(t){this.UpdateContacts(!0);var e=m(t.GetParticleCount(),(function(t){return new Rn}));n.InitializeParticleLists(t,e),this.MergeParticleListsInContact(t,e);var i=n.FindLongestParticleList(t,e);this.MergeZombieParticleListNodes(t,e,i),this.CreateParticleGroupsFromParticleList(t,e,i),this.UpdatePairsAndTriadsWithParticleList(t,e)}},{key:"GetParticleGroupList",value:function(){return this.m_groupList}},{key:"GetParticleGroupCount",value:function(){return this.m_groupCount}},{key:"GetParticleCount",value:function(){return this.m_count}},{key:"GetMaxParticleCount",value:function(){return this.m_def.maxCount}},{key:"SetMaxParticleCount",value:function(t){this.m_def.maxCount=t}},{key:"GetAllParticleFlags",value:function(){return this.m_allParticleFlags}},{key:"GetAllGroupFlags",value:function(){return this.m_allGroupFlags}},{key:"SetPaused",value:function(t){this.m_paused=t}},{key:"GetPaused",value:function(){return this.m_paused}},{key:"SetDensity",value:function(t){this.m_def.density=t,this.m_inverseDensity=1/this.m_def.density}},{key:"GetDensity",value:function(){return this.m_def.density}},{key:"SetGravityScale",value:function(t){this.m_def.gravityScale=t}},{key:"GetGravityScale",value:function(){return this.m_def.gravityScale}},{key:"SetDamping",value:function(t){this.m_def.dampingStrength=t}},{key:"GetDamping",value:function(){return this.m_def.dampingStrength}},{key:"SetStaticPressureIterations",value:function(t){this.m_def.staticPressureIterations=t}},{key:"GetStaticPressureIterations",value:function(){return this.m_def.staticPressureIterations}},{key:"SetRadius",value:function(t){this.m_particleDiameter=2*t,this.m_squaredDiameter=this.m_particleDiameter*this.m_particleDiameter,this.m_inverseDiameter=1/this.m_particleDiameter}},{key:"GetRadius",value:function(){return this.m_particleDiameter/2}},{key:"GetPositionBuffer",value:function(){if(!this.m_positionBuffer.data)throw new Error;return this.m_positionBuffer.data}},{key:"GetVelocityBuffer",value:function(){if(!this.m_velocityBuffer.data)throw new Error;return this.m_velocityBuffer.data}},{key:"GetColorBuffer",value:function(){return this.m_colorBuffer.data=this.RequestBuffer(this.m_colorBuffer.data),this.m_colorBuffer.data}},{key:"GetGroupBuffer",value:function(){return this.m_groupBuffer}},{key:"GetWeightBuffer",value:function(){return this.m_weightBuffer}},{key:"GetUserDataBuffer",value:function(){return this.m_userDataBuffer.data=this.RequestBuffer(this.m_userDataBuffer.data),this.m_userDataBuffer.data}},{key:"GetFlagsBuffer",value:function(){if(!this.m_flagsBuffer.data)throw new Error;return this.m_flagsBuffer.data}},{key:"SetParticleFlags",value:function(e,i){if(!this.m_flagsBuffer.data)throw new Error;this.m_flagsBuffer.data[e]&~i&&(this.m_needsUpdateAllParticleFlags=!0),~this.m_allParticleFlags&i&&(i&t.b2ParticleFlag.b2_tensileParticle&&(this.m_accumulation2Buffer=this.RequestBuffer(this.m_accumulation2Buffer)),i&t.b2ParticleFlag.b2_colorMixingParticle&&(this.m_colorBuffer.data=this.RequestBuffer(this.m_colorBuffer.data)),this.m_allParticleFlags|=i),this.m_flagsBuffer.data[e]=i}},{key:"GetParticleFlags",value:function(t){if(!this.m_flagsBuffer.data)throw new Error;return this.m_flagsBuffer.data[t]}},{key:"SetFlagsBuffer",value:function(t,e){this.SetUserOverridableBuffer(this.m_flagsBuffer,t,e)}},{key:"SetPositionBuffer",value:function(t,e){this.SetUserOverridableBuffer(this.m_positionBuffer,t,e)}},{key:"SetVelocityBuffer",value:function(t,e){this.SetUserOverridableBuffer(this.m_velocityBuffer,t,e)}},{key:"SetColorBuffer",value:function(t,e){this.SetUserOverridableBuffer(this.m_colorBuffer,t,e)}},{key:"SetUserDataBuffer",value:function(t,e){this.SetUserOverridableBuffer(this.m_userDataBuffer,t,e)}},{key:"GetContacts",value:function(){return this.m_contactBuffer.data}},{key:"GetContactCount",value:function(){return this.m_contactBuffer.count}},{key:"GetBodyContacts",value:function(){return this.m_bodyContactBuffer.data}},{key:"GetBodyContactCount",value:function(){return this.m_bodyContactBuffer.count}},{key:"GetPairs",value:function(){return this.m_pairBuffer.data}},{key:"GetPairCount",value:function(){return this.m_pairBuffer.count}},{key:"GetTriads",value:function(){return this.m_triadBuffer.data}},{key:"GetTriadCount",value:function(){return this.m_triadBuffer.count}},{key:"SetStuckThreshold",value:function(t){this.m_stuckThreshold=t,t>0&&(this.m_lastBodyContactStepBuffer.data=this.RequestBuffer(this.m_lastBodyContactStepBuffer.data),this.m_bodyContactCountBuffer.data=this.RequestBuffer(this.m_bodyContactCountBuffer.data),this.m_consecutiveContactStepsBuffer.data=this.RequestBuffer(this.m_consecutiveContactStepsBuffer.data))}},{key:"GetStuckCandidates",value:function(){return this.m_stuckParticleBuffer.Data()}},{key:"GetStuckCandidateCount",value:function(){return this.m_stuckParticleBuffer.GetCount()}},{key:"ComputeCollisionEnergy",value:function(){if(!this.m_velocityBuffer.data)throw new Error;for(var t=n.ComputeCollisionEnergy_s_v,e=this.m_velocityBuffer.data,i=0,r=0;r<this.m_contactBuffer.count;r++){var s=this.m_contactBuffer.data[r],o=s.normal,a=k.SubVV(e[s.indexB],e[s.indexA],t),A=k.DotVV(a,o);A<0&&(i+=A*A)}return.5*this.GetParticleMass()*i}},{key:"SetStrictContactCheck",value:function(t){this.m_def.strictContactCheck=t}},{key:"GetStrictContactCheck",value:function(){return this.m_def.strictContactCheck}},{key:"SetParticleLifetime",value:function(t,e){var i=null===this.m_indexByExpirationTimeBuffer.data;if(this.m_expirationTimeBuffer.data=this.RequestBuffer(this.m_expirationTimeBuffer.data),this.m_indexByExpirationTimeBuffer.data=this.RequestBuffer(this.m_indexByExpirationTimeBuffer.data),i)for(var n=this.GetParticleCount(),r=0;r<n;++r)this.m_indexByExpirationTimeBuffer.data[r]=r;var s=e/this.m_def.lifetimeGranularity,o=s>0?this.GetQuantizedTimeElapsed()+s:s;o!==this.m_expirationTimeBuffer.data[t]&&(this.m_expirationTimeBuffer.data[t]=o,this.m_expirationTimeBufferRequiresSorting=!0)}},{key:"GetParticleLifetime",value:function(t){return this.ExpirationTimeToLifetime(this.GetExpirationTimeBuffer()[t])}},{key:"SetDestructionByAge",value:function(t){t&&this.GetExpirationTimeBuffer(),this.m_def.destroyByAge=t}},{key:"GetDestructionByAge",value:function(){return this.m_def.destroyByAge}},{key:"GetExpirationTimeBuffer",value:function(){return this.m_expirationTimeBuffer.data=this.RequestBuffer(this.m_expirationTimeBuffer.data),this.m_expirationTimeBuffer.data}},{key:"ExpirationTimeToLifetime",value:function(t){return(t>0?t-this.GetQuantizedTimeElapsed():t)*this.m_def.lifetimeGranularity}},{key:"GetIndexByExpirationTimeBuffer",value:function(){if(this.GetParticleCount()?this.SetParticleLifetime(0,this.GetParticleLifetime(0)):this.m_indexByExpirationTimeBuffer.data=this.RequestBuffer(this.m_indexByExpirationTimeBuffer.data),!this.m_indexByExpirationTimeBuffer.data)throw new Error;return this.m_indexByExpirationTimeBuffer.data}},{key:"ParticleApplyLinearImpulse",value:function(t,e){this.ApplyLinearImpulse(t,t+1,e)}},{key:"ApplyLinearImpulse",value:function(t,e,i){if(!this.m_velocityBuffer.data)throw new Error;for(var n=this.m_velocityBuffer.data,r=(e-t)*this.GetParticleMass(),s=(new k).Copy(i).SelfMul(1/r),o=t;o<e;o++)n[o].SelfAdd(s)}},{key:"ParticleApplyForce",value:function(t,e){if(!this.m_flagsBuffer.data)throw new Error;n.IsSignificantForce(e)&&this.ForceCanBeApplied(this.m_flagsBuffer.data[t])&&(this.PrepareForceBuffer(),this.m_forceBuffer[t].SelfAdd(e))}},{key:"ApplyForce",value:function(t,e,i){var r=(new k).Copy(i).SelfMul(1/(e-t));if(n.IsSignificantForce(r)){this.PrepareForceBuffer();for(var s=t;s<e;s++)this.m_forceBuffer[s].SelfAdd(r)}}},{key:"GetNext",value:function(){return this.m_next}},{key:"QueryAABB",value:function(t,e){if(0!==this.m_proxyBuffer.count){var i=this.m_proxyBuffer.count,r=yn(this.m_proxyBuffer.data,0,i,n.computeTag(this.m_inverseDiameter*e.lowerBound.x,this.m_inverseDiameter*e.lowerBound.y),Dn.CompareProxyTag),s=Cn(this.m_proxyBuffer.data,r,i,n.computeTag(this.m_inverseDiameter*e.upperBound.x,this.m_inverseDiameter*e.upperBound.y),Dn.CompareTagProxy);if(!this.m_positionBuffer.data)throw new Error;for(var o=this.m_positionBuffer.data,a=r;a<s;++a){var A=this.m_proxyBuffer.data[a].index,l=o[A];if(e.lowerBound.x<l.x&&l.x<e.upperBound.x&&e.lowerBound.y<l.y&&l.y<e.upperBound.y&&!t.ReportParticle(this,A))break}}}},{key:"QueryShapeAABB",value:function(t,e,i){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:0,s=n.QueryShapeAABB_s_aabb;e.ComputeAABB(s,i,r),this.QueryAABB(t,s)}},{key:"QueryPointAABB",value:function(t,e){var i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:A,r=n.QueryPointAABB_s_aabb;r.lowerBound.Set(e.x-i,e.y-i),r.upperBound.Set(e.x+i,e.y+i),this.QueryAABB(t,r)}},{key:"RayCast",value:function(t,e,i){var r=n.RayCast_s_aabb,s=n.RayCast_s_p,o=n.RayCast_s_v,a=n.RayCast_s_n,A=n.RayCast_s_point;if(0!==this.m_proxyBuffer.count){if(!this.m_positionBuffer.data)throw new Error;var l=this.m_positionBuffer.data,u=r;k.MinV(e,i,u.lowerBound),k.MaxV(e,i,u.upperBound);for(var h,c=1,f=k.SubVV(i,e,o),m=k.DotVV(f,f),_=this.GetInsideBoundsEnumerator(u);(h=_.GetNext())>=0;){var g=k.SubVV(e,l[h],s),p=k.DotVV(g,f),y=p*p-m*(k.DotVV(g,g)-this.m_squaredDiameter);if(y>=0){var C=B(y),v=(-p-C)/m;if(v>c)continue;if(v<0&&((v=(-p+C)/m)<0||v>c))continue;var I=k.AddVMulSV(g,v,f,a);I.Normalize();var E=t.ReportParticle(this,h,k.AddVMulSV(e,v,f,A),I,v);if((c=d(c,E))<=0)break}}}}},{key:"ComputeAABB",value:function(t){var e=this.GetParticleCount();if(t.lowerBound.x=+i,t.lowerBound.y=+i,t.upperBound.x=-i,t.upperBound.y=-i,!this.m_positionBuffer.data)throw new Error;for(var n=this.m_positionBuffer.data,r=0;r<e;r++){var s=n[r];k.MinV(t.lowerBound,s,t.lowerBound),k.MaxV(t.upperBound,s,t.upperBound)}t.lowerBound.x-=this.m_particleDiameter,t.lowerBound.y-=this.m_particleDiameter,t.upperBound.x+=this.m_particleDiameter,t.upperBound.y+=this.m_particleDiameter}},{key:"FreeBuffer",value:function(t,e){null!==t&&(t.length=0)}},{key:"FreeUserOverridableBuffer",value:function(t){0===t.userSuppliedCapacity&&this.FreeBuffer(t.data,this.m_internalAllocatedCapacity)}},{key:"ReallocateBuffer3",value:function(t,e,i){if(i<=e)throw new Error;var n=t?t.slice():[];return n.length=i,n}},{key:"ReallocateBuffer5",value:function(t,e,i,n,r){if(n<=i)throw new Error;if(e&&!(n<=e))throw new Error;return r&&!t||e||(t=this.ReallocateBuffer3(t,i,n)),t}},{key:"ReallocateBuffer4",value:function(t,e,i,n){return this.ReallocateBuffer5(t.data,t.userSuppliedCapacity,e,i,n)}},{key:"RequestBuffer",value:function(t){return t||(0===this.m_internalAllocatedCapacity&&this.ReallocateInternalAllocatedBuffers(256),(t=[]).length=this.m_internalAllocatedCapacity),t}},{key:"ReallocateHandleBuffers",value:function(t){this.m_handleIndexBuffer.data=this.ReallocateBuffer4(this.m_handleIndexBuffer,this.m_internalAllocatedCapacity,t,!0)}},{key:"ReallocateInternalAllocatedBuffers",value:function(t){function e(t,e){return e&&t>e?e:t}if(t=e(t,this.m_def.maxCount),t=e(t,this.m_flagsBuffer.userSuppliedCapacity),t=e(t,this.m_positionBuffer.userSuppliedCapacity),t=e(t,this.m_velocityBuffer.userSuppliedCapacity),t=e(t,this.m_colorBuffer.userSuppliedCapacity),t=e(t,this.m_userDataBuffer.userSuppliedCapacity),this.m_internalAllocatedCapacity<t){this.ReallocateHandleBuffers(t),this.m_flagsBuffer.data=this.ReallocateBuffer4(this.m_flagsBuffer,this.m_internalAllocatedCapacity,t,!1);var i=this.m_stuckThreshold>0;this.m_lastBodyContactStepBuffer.data=this.ReallocateBuffer4(this.m_lastBodyContactStepBuffer,this.m_internalAllocatedCapacity,t,i),this.m_bodyContactCountBuffer.data=this.ReallocateBuffer4(this.m_bodyContactCountBuffer,this.m_internalAllocatedCapacity,t,i),this.m_consecutiveContactStepsBuffer.data=this.ReallocateBuffer4(this.m_consecutiveContactStepsBuffer,this.m_internalAllocatedCapacity,t,i),this.m_positionBuffer.data=this.ReallocateBuffer4(this.m_positionBuffer,this.m_internalAllocatedCapacity,t,!1),this.m_velocityBuffer.data=this.ReallocateBuffer4(this.m_velocityBuffer,this.m_internalAllocatedCapacity,t,!1),this.m_forceBuffer=this.ReallocateBuffer5(this.m_forceBuffer,0,this.m_internalAllocatedCapacity,t,!1),this.m_weightBuffer=this.ReallocateBuffer5(this.m_weightBuffer,0,this.m_internalAllocatedCapacity,t,!1),this.m_staticPressureBuffer=this.ReallocateBuffer5(this.m_staticPressureBuffer,0,this.m_internalAllocatedCapacity,t,!0),this.m_accumulationBuffer=this.ReallocateBuffer5(this.m_accumulationBuffer,0,this.m_internalAllocatedCapacity,t,!1),this.m_accumulation2Buffer=this.ReallocateBuffer5(this.m_accumulation2Buffer,0,this.m_internalAllocatedCapacity,t,!0),this.m_depthBuffer=this.ReallocateBuffer5(this.m_depthBuffer,0,this.m_internalAllocatedCapacity,t,!0),this.m_colorBuffer.data=this.ReallocateBuffer4(this.m_colorBuffer,this.m_internalAllocatedCapacity,t,!0),this.m_groupBuffer=this.ReallocateBuffer5(this.m_groupBuffer,0,this.m_internalAllocatedCapacity,t,!1),this.m_userDataBuffer.data=this.ReallocateBuffer4(this.m_userDataBuffer,this.m_internalAllocatedCapacity,t,!0),this.m_expirationTimeBuffer.data=this.ReallocateBuffer4(this.m_expirationTimeBuffer,this.m_internalAllocatedCapacity,t,!0),this.m_indexByExpirationTimeBuffer.data=this.ReallocateBuffer4(this.m_indexByExpirationTimeBuffer,this.m_internalAllocatedCapacity,t,!1),this.m_internalAllocatedCapacity=t}}},{key:"CreateParticleForGroup",value:function(t,i,n){var r=new sn;r.flags=e(t.flags,0),G.MulXV(i,n,r.position),k.AddVV(e(t.linearVelocity,k.ZERO),k.CrossSV(e(t.angularVelocity,0),k.SubVV(r.position,e(t.position,k.ZERO),k.s_t0),k.s_t0),r.velocity),r.color.Copy(e(t.color,N.ZERO)),r.lifetime=e(t.lifetime,0),r.userData=t.userData,this.CreateParticle(r)}},{key:"CreateParticlesStrokeShapeForGroup",value:function(i,r,s){var o=n.CreateParticlesStrokeShapeForGroup_s_edge,a=n.CreateParticlesStrokeShapeForGroup_s_d,A=n.CreateParticlesStrokeShapeForGroup_s_p,l=e(r.stride,0);0===l&&(l=this.GetParticleStride());for(var u=0,h=i.GetChildCount(),c=0;c<h;c++){var f=null;i.GetType()===t.b2ShapeType.e_edgeShape?f=i:i.GetChildEdge(f=o,c);for(var m=k.SubVV(f.m_vertex2,f.m_vertex1,a),_=m.Length();u<_;){var g=k.AddVMulSV(f.m_vertex1,u/_,m,A);this.CreateParticleForGroup(r,s,g),u+=l}u-=_}}},{key:"CreateParticlesFillShapeForGroup",value:function(t,i,r){var s=n.CreateParticlesFillShapeForGroup_s_aabb,o=n.CreateParticlesFillShapeForGroup_s_p,a=e(i.stride,0);0===a&&(a=this.GetParticleStride());var A=G.IDENTITY,l=s;t.ComputeAABB(l,A,0);for(var u=Math.floor(l.lowerBound.y/a)*a;u<l.upperBound.y;u+=a)for(var h=Math.floor(l.lowerBound.x/a)*a;h<l.upperBound.x;h+=a){var c=o.Set(h,u);t.TestPoint(A,c)&&this.CreateParticleForGroup(i,r,c)}}},{key:"CreateParticlesWithShapeForGroup",value:function(e,i,n){switch(e.GetType()){case t.b2ShapeType.e_edgeShape:case t.b2ShapeType.e_chainShape:this.CreateParticlesStrokeShapeForGroup(e,i,n);break;case t.b2ShapeType.e_polygonShape:case t.b2ShapeType.e_circleShape:this.CreateParticlesFillShapeForGroup(e,i,n)}}},{key:"CreateParticlesWithShapesForGroup",value:function(t,e,i,n){var r=new Ln(t,e);this.CreateParticlesFillShapeForGroup(r,i,n)}},{key:"CloneParticle",value:function(t,e){var i=new sn;if(!this.m_flagsBuffer.data)throw new Error;if(!this.m_positionBuffer.data)throw new Error;if(!this.m_velocityBuffer.data)throw new Error;i.flags=this.m_flagsBuffer.data[t],i.position.Copy(this.m_positionBuffer.data[t]),i.velocity.Copy(this.m_velocityBuffer.data[t]),this.m_colorBuffer.data&&i.color.Copy(this.m_colorBuffer.data[t]),this.m_userDataBuffer.data&&(i.userData=this.m_userDataBuffer.data[t]),i.group=e;var n=this.CreateParticle(i);if(this.m_handleIndexBuffer.data){var r=this.m_handleIndexBuffer.data[t];r&&r.SetIndex(n),this.m_handleIndexBuffer.data[n]=r,this.m_handleIndexBuffer.data[t]=null}return this.m_lastBodyContactStepBuffer.data&&(this.m_lastBodyContactStepBuffer.data[n]=this.m_lastBodyContactStepBuffer.data[t]),this.m_bodyContactCountBuffer.data&&(this.m_bodyContactCountBuffer.data[n]=this.m_bodyContactCountBuffer.data[t]),this.m_consecutiveContactStepsBuffer.data&&(this.m_consecutiveContactStepsBuffer.data[n]=this.m_consecutiveContactStepsBuffer.data[t]),this.m_hasForce&&this.m_forceBuffer[n].Copy(this.m_forceBuffer[t]),this.m_staticPressureBuffer&&(this.m_staticPressureBuffer[n]=this.m_staticPressureBuffer[t]),this.m_depthBuffer&&(this.m_depthBuffer[n]=this.m_depthBuffer[t]),this.m_expirationTimeBuffer.data&&(this.m_expirationTimeBuffer.data[n]=this.m_expirationTimeBuffer.data[t]),n}},{key:"DestroyParticlesInGroup",value:function(t){for(var e=arguments.length>1&&void 0!==arguments[1]&&arguments[1],i=t.m_firstIndex;i<t.m_lastIndex;i++)this.DestroyParticle(i,e)}},{key:"DestroyParticleGroup",value:function(t){this.m_world.m_destructionListener&&this.m_world.m_destructionListener.SayGoodbyeParticleGroup(t),this.SetGroupFlags(t,0);for(var e=t.m_firstIndex;e<t.m_lastIndex;e++)this.m_groupBuffer[e]=null;t.m_prev&&(t.m_prev.m_next=t.m_next),t.m_next&&(t.m_next.m_prev=t.m_prev),t===this.m_groupList&&(this.m_groupList=t.m_next),--this.m_groupCount}},{key:"UpdatePairsAndTriads",value:function(e,i,r){var s=n.UpdatePairsAndTriads_s_dab,o=n.UpdatePairsAndTriads_s_dbc,a=n.UpdatePairsAndTriads_s_dca;if(!this.m_flagsBuffer.data)throw new Error;if(!this.m_positionBuffer.data)throw new Error;if(!this.m_velocityBuffer.data)throw new Error;for(var A=this.m_positionBuffer.data,l=0,u=e;u<i;u++)l|=this.m_flagsBuffer.data[u];if(l&n.k_pairFlags)for(var h=0;h<this.m_contactBuffer.count;h++){var c=this.m_contactBuffer.data[h],f=c.indexA,m=c.indexB,_=this.m_flagsBuffer.data[f],g=this.m_flagsBuffer.data[m],p=this.m_groupBuffer[f],y=this.m_groupBuffer[m];if(f>=e&&f<i&&m>=e&&m<i&&!((_|g)&t.b2ParticleFlag.b2_zombieParticle)&&(_|g)&n.k_pairFlags&&(r.IsNecessary(f)||r.IsNecessary(m))&&n.ParticleCanBeConnected(_,p)&&n.ParticleCanBeConnected(g,y)&&r.ShouldCreatePair(f,m)){var C=this.m_pairBuffer.data[this.m_pairBuffer.Append()];C.indexA=f,C.indexB=m,C.flags=c.flags,C.strength=d(p?p.m_strength:1,y?y.m_strength:1),C.distance=k.DistanceVV(A[f],A[m])}dn(this.m_pairBuffer.data,0,this.m_pairBuffer.count,n.ComparePairIndices),this.m_pairBuffer.Unique(n.MatchPairIndices)}if(l&n.k_triadFlags){for(var v=new hn(i-e),I=e;I<i;I++){var B=this.m_flagsBuffer.data[I],E=this.m_groupBuffer[I];B&t.b2ParticleFlag.b2_zombieParticle||!n.ParticleCanBeConnected(B,E)||v.AddGenerator(A[I],I,r.IsNecessary(I))}var w=this.GetParticleStride();v.Generate(w/2,2*w);var b=this;v.GetNodes((function(t,e,i){if(!b.m_flagsBuffer.data)throw new Error;var l=b.m_flagsBuffer.data[t],u=b.m_flagsBuffer.data[e],h=b.m_flagsBuffer.data[i];if((l|u|h)&n.k_triadFlags&&r.ShouldCreateTriad(t,e,i)){var c=A[t],f=A[e],m=A[i],_=k.SubVV(c,f,s),g=k.SubVV(f,m,o),p=k.SubVV(m,c,a),y=4*b.m_squaredDiameter;if(k.DotVV(_,_)>y||k.DotVV(g,g)>y||k.DotVV(p,p)>y)return;var C=b.m_groupBuffer[t],v=b.m_groupBuffer[e],I=b.m_groupBuffer[i],B=b.m_triadBuffer.data[b.m_triadBuffer.Append()];B.indexA=t,B.indexB=e,B.indexC=i,B.flags=l|u|h,B.strength=d(d(C?C.m_strength:1,v?v.m_strength:1),I?I.m_strength:1);var E=(c.x+f.x+m.x)/3,w=(c.y+f.y+m.y)/3;B.pa.x=c.x-E,B.pa.y=c.y-w,B.pb.x=f.x-E,B.pb.y=f.y-w,B.pc.x=m.x-E,B.pc.y=m.y-w,B.ka=-k.DotVV(p,_),B.kb=-k.DotVV(_,g),B.kc=-k.DotVV(g,p),B.s=k.CrossVV(c,f)+k.CrossVV(f,m)+k.CrossVV(m,c)}})),dn(this.m_triadBuffer.data,0,this.m_triadBuffer.count,n.CompareTriadIndices),this.m_triadBuffer.Unique(n.MatchTriadIndices)}}},{key:"UpdatePairsAndTriadsWithReactiveParticles",value:function(){var e=new Un(this.m_flagsBuffer);if(this.UpdatePairsAndTriads(0,this.m_count,e),!this.m_flagsBuffer.data)throw new Error;for(var i=0;i<this.m_count;i++)this.m_flagsBuffer.data[i]&=~t.b2ParticleFlag.b2_reactiveParticle;this.m_allParticleFlags&=~t.b2ParticleFlag.b2_reactiveParticle}},{key:"MergeParticleListsInContact",value:function(t,e){for(var i=t.GetBufferIndex(),r=0;r<this.m_contactBuffer.count;r++){var s=this.m_contactBuffer.data[r],o=s.indexA,a=s.indexB;if(t.ContainsParticle(o)&&t.ContainsParticle(a)){var A=e[o-i].list,l=e[a-i].list;if(A!==l){if(A.count<l.count){var u=A;A=l,l=u}n.MergeParticleLists(A,l)}}}}},{key:"MergeZombieParticleListNodes",value:function(e,i,r){if(!this.m_flagsBuffer.data)throw new Error;for(var s=e.GetParticleCount(),o=0;o<s;o++){var a=i[o];a!==r&&this.m_flagsBuffer.data[a.index]&t.b2ParticleFlag.b2_zombieParticle&&n.MergeParticleListAndNode(r,a)}}},{key:"CreateParticleGroupsFromParticleList",value:function(e,i,n){if(!this.m_flagsBuffer.data)throw new Error;var r=e.GetParticleCount(),s=new An;s.groupFlags=e.GetGroupFlags(),s.userData=e.GetUserData();for(var o=0;o<r;o++){var a=i[o];if(a.count&&a!==n)for(var A=this.CreateParticleGroup(s),l=a;l;l=l.next){var u=l.index,h=this.CloneParticle(u,A);this.m_flagsBuffer.data[u]|=t.b2ParticleFlag.b2_zombieParticle,l.index=h}}}},{key:"UpdatePairsAndTriadsWithParticleList",value:function(t,e){for(var i=t.GetBufferIndex(),n=0;n<this.m_pairBuffer.count;n++){var r=this.m_pairBuffer.data[n],s=r.indexA,o=r.indexB;t.ContainsParticle(s)&&(r.indexA=e[s-i].index),t.ContainsParticle(o)&&(r.indexB=e[o-i].index)}for(var a=0;a<this.m_triadBuffer.count;a++){var A=this.m_triadBuffer.data[a],l=A.indexA,u=A.indexB,h=A.indexC;t.ContainsParticle(l)&&(A.indexA=e[l-i].index),t.ContainsParticle(u)&&(A.indexB=e[u-i].index),t.ContainsParticle(h)&&(A.indexC=e[h-i].index)}}},{key:"ComputeDepth",value:function(){for(var e=[],n=0,r=0;r<this.m_contactBuffer.count;r++){var s=this.m_contactBuffer.data[r],o=this.m_groupBuffer[s.indexA],a=this.m_groupBuffer[s.indexB];o&&o===a&&o.m_groupFlags&t.b2ParticleGroupFlag.b2_particleGroupNeedsUpdateDepth&&(e[n++]=s)}for(var A=[],l=0,u=this.m_groupList;u;u=u.GetNext())if(u.m_groupFlags&t.b2ParticleGroupFlag.b2_particleGroupNeedsUpdateDepth){A[l++]=u,this.SetGroupFlags(u,u.m_groupFlags&~t.b2ParticleGroupFlag.b2_particleGroupNeedsUpdateDepth);for(var h=u.m_firstIndex;h<u.m_lastIndex;h++)this.m_accumulationBuffer[h]=0}for(var c=0;c<n;c++){var f=e[c],m=f.indexB,_=f.weight;this.m_accumulationBuffer[f.indexA]+=_,this.m_accumulationBuffer[m]+=_}for(var g=0;g<l;g++)for(var d=A[g],p=d.m_firstIndex;p<d.m_lastIndex;p++)this.m_depthBuffer[p]=this.m_accumulationBuffer[p]<.8?0:i;for(var y=B(this.m_count)>>0,C=0;C<y;C++){for(var v=!1,I=0;I<n;I++){var E=e[I],w=E.indexA,b=E.indexB,x=1-E.weight,S=this.m_depthBuffer[w],Q=this.m_depthBuffer[b],k=Q+x,D=S+x;S>k&&(this.m_depthBuffer[w]=k,v=!0),Q>D&&(this.m_depthBuffer[b]=D,v=!0)}if(!v)break}for(var M=0;M<l;M++)for(var R=A[M],V=R.m_firstIndex;V<R.m_lastIndex;V++)this.m_depthBuffer[V]<i?this.m_depthBuffer[V]*=this.m_particleDiameter:this.m_depthBuffer[V]=0}},{key:"GetInsideBoundsEnumerator",value:function(t){var e=n.computeTag(this.m_inverseDiameter*t.lowerBound.x-1,this.m_inverseDiameter*t.lowerBound.y-1),i=n.computeTag(this.m_inverseDiameter*t.upperBound.x+1,this.m_inverseDiameter*t.upperBound.y+1),r=this.m_proxyBuffer.count,s=yn(this.m_proxyBuffer.data,0,r,e,Dn.CompareProxyTag),o=Cn(this.m_proxyBuffer.data,0,r,i,Dn.CompareTagProxy);return new Mn(this,e,i,s,o)}},{key:"UpdateAllParticleFlags",value:function(){if(!this.m_flagsBuffer.data)throw new Error;this.m_allParticleFlags=0;for(var t=0;t<this.m_count;t++)this.m_allParticleFlags|=this.m_flagsBuffer.data[t];this.m_needsUpdateAllParticleFlags=!1}},{key:"UpdateAllGroupFlags",value:function(){this.m_allGroupFlags=0;for(var t=this.m_groupList;t;t=t.GetNext())this.m_allGroupFlags|=t.m_groupFlags;this.m_needsUpdateAllGroupFlags=!1}},{key:"AddContact",value:function(t,e,i){if(!this.m_flagsBuffer.data)throw new Error;if(!this.m_positionBuffer.data)throw new Error;var r=this.m_positionBuffer.data,s=k.SubVV(r[e],r[t],n.AddContact_s_d),o=k.DotVV(s,s);if(o<this.m_squaredDiameter){var a=I(o);isFinite(a)||(a=198177537e11);var A=this.m_contactBuffer.data[this.m_contactBuffer.Append()];A.indexA=t,A.indexB=e,A.flags=this.m_flagsBuffer.data[t]|this.m_flagsBuffer.data[e],A.weight=1-o*a*this.m_inverseDiameter,k.MulSV(a,s,A.normal)}}},{key:"FindContacts_Reference",value:function(t){var e=this.m_proxyBuffer.count;this.m_contactBuffer.count=0;for(var i=0,r=0;i<e;i++){for(var s=n.computeRelativeTag(this.m_proxyBuffer.data[i].tag,1,0),o=i+1;o<e&&!(s<this.m_proxyBuffer.data[o].tag);o++)this.AddContact(this.m_proxyBuffer.data[i].index,this.m_proxyBuffer.data[o].index,this.m_contactBuffer);for(var a=n.computeRelativeTag(this.m_proxyBuffer.data[i].tag,-1,1);r<e&&!(a<=this.m_proxyBuffer.data[r].tag);r++);for(var A=n.computeRelativeTag(this.m_proxyBuffer.data[i].tag,1,1),l=r;l<e&&!(A<this.m_proxyBuffer.data[l].tag);l++)this.AddContact(this.m_proxyBuffer.data[i].index,this.m_proxyBuffer.data[l].index,this.m_contactBuffer)}}},{key:"FindContacts",value:function(t){this.FindContacts_Reference(t)}},{key:"UpdateProxies_Reference",value:function(t){if(!this.m_positionBuffer.data)throw new Error;for(var e=this.m_positionBuffer.data,i=this.m_inverseDiameter,r=0;r<this.m_proxyBuffer.count;++r){var s=this.m_proxyBuffer.data[r],o=e[s.index];s.tag=n.computeTag(i*o.x,i*o.y)}}},{key:"UpdateProxies",value:function(t){this.UpdateProxies_Reference(t)}},{key:"SortProxies",value:function(t){gn(this.m_proxyBuffer.data,0,this.m_proxyBuffer.count,Dn.CompareProxyProxy)}},{key:"FilterContacts",value:function(e){var i=this.GetParticleContactFilter();if(null!==i){var n=this;this.m_contactBuffer.RemoveIf((function(e){return 0!=(e.flags&t.b2ParticleFlag.b2_particleContactFilterParticle)&&!i.ShouldCollideParticleParticle(n,e.indexA,e.indexB)}))}}},{key:"NotifyContactListenerPreContact",value:function(t){if(null!==this.GetParticleContactListener())throw t.Initialize(this.m_contactBuffer,this.m_flagsBuffer),new Error}},{key:"NotifyContactListenerPostContact",value:function(t){var e=this.GetParticleContactListener();if(null!==e){for(var i=0;i<this.m_contactBuffer.count;++i)e.BeginContactParticleParticle(this,this.m_contactBuffer.data[i]);throw new Error}}},{key:"UpdateContacts",value:function(t){this.UpdateProxies(this.m_proxyBuffer),this.SortProxies(this.m_proxyBuffer);var e=new Gn;this.NotifyContactListenerPreContact(e),this.FindContacts(this.m_contactBuffer),this.FilterContacts(this.m_contactBuffer),this.NotifyContactListenerPostContact(e),t&&this.m_contactBuffer.RemoveIf(n.b2ParticleContactIsZombie)}},{key:"NotifyBodyContactListenerPreContact",value:function(t){if(null!==this.GetFixtureContactListener())throw t.Initialize(this.m_bodyContactBuffer,this.m_flagsBuffer),new Error}},{key:"NotifyBodyContactListenerPostContact",value:function(t){var e=this.GetFixtureContactListener();if(null!==e){for(var i=0;i<this.m_bodyContactBuffer.count;i++)e.BeginContactFixtureParticle(this,this.m_bodyContactBuffer.data[i]);throw new Error}}},{key:"UpdateBodyContacts",value:function(){var t=n.UpdateBodyContacts_s_aabb,e=new Tn;if(this.NotifyBodyContactListenerPreContact(e),this.m_stuckThreshold>0){if(!this.m_bodyContactCountBuffer.data)throw new Error;if(!this.m_lastBodyContactStepBuffer.data)throw new Error;if(!this.m_consecutiveContactStepsBuffer.data)throw new Error;for(var i=this.GetParticleCount(),r=0;r<i;r++)this.m_bodyContactCountBuffer.data[r]=0,this.m_timestamp>this.m_lastBodyContactStepBuffer.data[r]+1&&(this.m_consecutiveContactStepsBuffer.data[r]=0)}this.m_bodyContactBuffer.SetCount(0),this.m_stuckParticleBuffer.SetCount(0);var s=t;this.ComputeAABB(s);var o=new On(this,this.GetFixtureContactFilter());this.m_world.QueryAABB(o,s),this.m_def.strictContactCheck&&this.RemoveSpuriousBodyContacts(),this.NotifyBodyContactListenerPostContact(e)}},{key:"Solve",value:function(e){var i=n.Solve_s_subStep;if(0!==this.m_count&&(this.m_expirationTimeBuffer.data&&this.SolveLifetimes(e),this.m_allParticleFlags&t.b2ParticleFlag.b2_zombieParticle&&this.SolveZombie(),this.m_needsUpdateAllParticleFlags&&this.UpdateAllParticleFlags(),this.m_needsUpdateAllGroupFlags&&this.UpdateAllGroupFlags(),!this.m_paused))for(this.m_iterationIndex=0;this.m_iterationIndex<e.particleIterations;this.m_iterationIndex++){++this.m_timestamp;var r=i.Copy(e);if(r.dt/=e.particleIterations,r.inv_dt*=e.particleIterations,this.UpdateContacts(!1),this.UpdateBodyContacts(),this.ComputeWeight(),this.m_allGroupFlags&t.b2ParticleGroupFlag.b2_particleGroupNeedsUpdateDepth&&this.ComputeDepth(),this.m_allParticleFlags&t.b2ParticleFlag.b2_reactiveParticle&&this.UpdatePairsAndTriadsWithReactiveParticles(),this.m_hasForce&&this.SolveForce(r),this.m_allParticleFlags&t.b2ParticleFlag.b2_viscousParticle&&this.SolveViscous(),this.m_allParticleFlags&t.b2ParticleFlag.b2_repulsiveParticle&&this.SolveRepulsive(r),this.m_allParticleFlags&t.b2ParticleFlag.b2_powderParticle&&this.SolvePowder(r),this.m_allParticleFlags&t.b2ParticleFlag.b2_tensileParticle&&this.SolveTensile(r),this.m_allGroupFlags&t.b2ParticleGroupFlag.b2_solidParticleGroup&&this.SolveSolid(r),this.m_allParticleFlags&t.b2ParticleFlag.b2_colorMixingParticle&&this.SolveColorMixing(),this.SolveGravity(r),this.m_allParticleFlags&t.b2ParticleFlag.b2_staticPressureParticle&&this.SolveStaticPressure(r),this.SolvePressure(r),this.SolveDamping(r),this.m_allParticleFlags&n.k_extraDampingFlags&&this.SolveExtraDamping(),this.m_allParticleFlags&t.b2ParticleFlag.b2_elasticParticle&&this.SolveElastic(r),this.m_allParticleFlags&t.b2ParticleFlag.b2_springParticle&&this.SolveSpring(r),this.LimitVelocity(r),this.m_allGroupFlags&t.b2ParticleGroupFlag.b2_rigidParticleGroup&&this.SolveRigidDamping(),this.m_allParticleFlags&t.b2ParticleFlag.b2_barrierParticle&&this.SolveBarrier(r),this.SolveCollision(r),this.m_allGroupFlags&t.b2ParticleGroupFlag.b2_rigidParticleGroup&&this.SolveRigid(r),this.m_allParticleFlags&t.b2ParticleFlag.b2_wallParticle&&this.SolveWall(),!this.m_positionBuffer.data)throw new Error;if(!this.m_velocityBuffer.data)throw new Error;for(var s=0;s<this.m_count;s++)this.m_positionBuffer.data[s].SelfMulAdd(r.dt,this.m_velocityBuffer.data[s])}}},{key:"SolveCollision",value:function(t){var e=n.SolveCollision_s_aabb;if(!this.m_positionBuffer.data)throw new Error;if(!this.m_velocityBuffer.data)throw new Error;var r=this.m_positionBuffer.data,s=this.m_velocityBuffer.data,o=e;o.lowerBound.x=+i,o.lowerBound.y=+i,o.upperBound.x=-i,o.upperBound.y=-i;for(var a=0;a<this.m_count;a++){var A=s[a],l=r[a],u=l.x+t.dt*A.x,h=l.y+t.dt*A.y;o.lowerBound.x=d(o.lowerBound.x,d(l.x,u)),o.lowerBound.y=d(o.lowerBound.y,d(l.y,h)),o.upperBound.x=p(o.upperBound.x,p(l.x,u)),o.upperBound.y=p(o.upperBound.y,p(l.y,h))}var c=new Yn(this,t);this.m_world.QueryAABB(c,o)}},{key:"LimitVelocity",value:function(t){if(!this.m_velocityBuffer.data)throw new Error;for(var e=this.m_velocityBuffer.data,i=this.GetCriticalVelocitySquared(t),n=0;n<this.m_count;n++){var r=e[n],s=k.DotVV(r,r);s>i&&r.SelfMul(B(i/s))}}},{key:"SolveGravity",value:function(t){if(!this.m_velocityBuffer.data)throw new Error;for(var e=n.SolveGravity_s_gravity,i=this.m_velocityBuffer.data,r=k.MulSV(t.dt*this.m_def.gravityScale,this.m_world.GetGravity(),e),s=0;s<this.m_count;s++)i[s].SelfAdd(r)}},{key:"SolveBarrier",value:function(e){var i=n.SolveBarrier_s_aabb,r=n.SolveBarrier_s_va,s=n.SolveBarrier_s_vb,o=n.SolveBarrier_s_pba,a=n.SolveBarrier_s_vba,A=n.SolveBarrier_s_vc,l=n.SolveBarrier_s_pca,u=n.SolveBarrier_s_vca,h=n.SolveBarrier_s_qba,c=n.SolveBarrier_s_qca,f=n.SolveBarrier_s_dv,m=n.SolveBarrier_s_f;if(!this.m_flagsBuffer.data)throw new Error;if(!this.m_positionBuffer.data)throw new Error;if(!this.m_velocityBuffer.data)throw new Error;for(var _=this.m_positionBuffer.data,g=this.m_velocityBuffer.data,d=0;d<this.m_count;d++)0!=(this.m_flagsBuffer.data[d]&n.k_barrierWallFlags)&&g[d].SetZero();for(var p=2.5*e.dt,y=this.GetParticleMass(),C=0;C<this.m_pairBuffer.count;C++){var v=this.m_pairBuffer.data[C];if(v.flags&t.b2ParticleFlag.b2_barrierParticle){var I=v.indexA,E=v.indexB,w=_[I],b=_[E],x=i;k.MinV(w,b,x.lowerBound),k.MaxV(w,b,x.upperBound);for(var S=this.m_groupBuffer[I],Q=this.m_groupBuffer[E],D=this.GetLinearVelocity(S,I,w,r),M=this.GetLinearVelocity(Q,E,b,s),R=k.SubVV(b,w,o),V=k.SubVV(M,D,a),T=this.GetInsideBoundsEnumerator(x),G=void 0;(G=T.GetNext())>=0;){var F=_[G],P=this.m_groupBuffer[G];if(S!==P&&Q!==P){var N=this.GetLinearVelocity(P,G,F,A),L=k.SubVV(F,w,l),U=k.SubVV(N,D,u),O=k.CrossVV(V,U),Y=k.CrossVV(R,U)-k.CrossVV(L,V),H=k.CrossVV(R,L),J=void 0,j=void 0,K=h,q=c;if(0===O){if(0===Y)continue;if(!((j=-H/Y)>=0&&j<p))continue;if(k.AddVMulSV(R,j,V,K),k.AddVMulSV(L,j,U,q),!((J=k.DotVV(K,q)/k.DotVV(K,K))>=0&&J<=1))continue}else{var z=Y*Y-4*H*O;if(z<0)continue;var X=B(z),W=(-Y-X)/(2*O),Z=(-Y+X)/(2*O);if(W>Z){var $=W;W=Z,Z=$}if(k.AddVMulSV(R,j=W,V,K),k.AddVMulSV(L,j,U,q),J=k.DotVV(K,q)/k.DotVV(K,K),!(j>=0&&j<p&&J>=0&&J<=1)){if(!((j=Z)>=0&&j<p))continue;if(k.AddVMulSV(R,j,V,K),k.AddVMulSV(L,j,U,q),!((J=k.DotVV(K,q)/k.DotVV(K,K))>=0&&J<=1))continue}}var tt=f;tt.x=D.x+J*V.x-N.x,tt.y=D.y+J*V.y-N.y;var et=k.MulSV(y,tt,m);if(P&&this.IsRigidGroup(P)){var it=P.GetMass(),nt=P.GetInertia();it>0&&P.m_linearVelocity.SelfMulAdd(1/it,et),nt>0&&(P.m_angularVelocity+=k.CrossVV(k.SubVV(F,P.GetCenter(),k.s_t0),et)/nt)}else g[G].SelfAdd(tt);this.ParticleApplyForce(G,et.SelfMul(-e.inv_dt))}}}}}},{key:"SolveStaticPressure",value:function(e){if(!this.m_flagsBuffer.data)throw new Error;this.m_staticPressureBuffer=this.RequestBuffer(this.m_staticPressureBuffer);for(var i=this.GetCriticalPressure(e),n=this.m_def.staticPressureStrength*i,r=.25*i,s=this.m_def.staticPressureRelaxation,o=0;o<this.m_def.staticPressureIterations;o++){for(var a=0;a<this.m_count;a++)this.m_accumulationBuffer[a]=0;for(var A=0;A<this.m_contactBuffer.count;A++){var l=this.m_contactBuffer.data[A];if(l.flags&t.b2ParticleFlag.b2_staticPressureParticle){var u=l.indexA,h=l.indexB,c=l.weight;this.m_accumulationBuffer[u]+=c*this.m_staticPressureBuffer[h],this.m_accumulationBuffer[h]+=c*this.m_staticPressureBuffer[u]}}for(var f=0;f<this.m_count;f++){var m=this.m_weightBuffer[f];this.m_staticPressureBuffer[f]=this.m_flagsBuffer.data[f]&t.b2ParticleFlag.b2_staticPressureParticle?y((this.m_accumulationBuffer[f]+n*(m-1))/(m+s),0,r):0}}}},{key:"ComputeWeight",value:function(){for(var t=0;t<this.m_count;t++)this.m_weightBuffer[t]=0;for(var e=0;e<this.m_bodyContactBuffer.count;e++){var i=this.m_bodyContactBuffer.data[e];this.m_weightBuffer[i.index]+=i.weight}for(var n=0;n<this.m_contactBuffer.count;n++){var r=this.m_contactBuffer.data[n],s=r.indexB,o=r.weight;this.m_weightBuffer[r.indexA]+=o,this.m_weightBuffer[s]+=o}}},{key:"SolvePressure",value:function(e){var i=n.SolvePressure_s_f;if(!this.m_flagsBuffer.data)throw new Error;if(!this.m_positionBuffer.data)throw new Error;if(!this.m_velocityBuffer.data)throw new Error;for(var r=this.m_positionBuffer.data,s=this.m_velocityBuffer.data,o=this.GetCriticalPressure(e),a=this.m_def.pressureStrength*o,A=.25*o,l=0;l<this.m_count;l++){var u=a*p(0,this.m_weightBuffer[l]-1);this.m_accumulationBuffer[l]=d(u,A)}if(this.m_allParticleFlags&n.k_noPressureFlags)for(var h=0;h<this.m_count;h++)this.m_flagsBuffer.data[h]&n.k_noPressureFlags&&(this.m_accumulationBuffer[h]=0);if(this.m_allParticleFlags&t.b2ParticleFlag.b2_staticPressureParticle)for(var c=0;c<this.m_count;c++)this.m_flagsBuffer.data[c]&t.b2ParticleFlag.b2_staticPressureParticle&&(this.m_accumulationBuffer[c]+=this.m_staticPressureBuffer[c]);for(var f=e.dt/(this.m_def.density*this.m_particleDiameter),m=this.GetParticleInvMass(),_=0;_<this.m_bodyContactBuffer.count;_++){var g=this.m_bodyContactBuffer.data[_],y=g.index,C=g.body,v=g.weight,I=r[y],B=k.MulSV(f*v*g.mass*(this.m_accumulationBuffer[y]+a*v),g.normal,i);s[y].SelfMulSub(m,B),C.ApplyLinearImpulse(B,I,!0)}for(var E=0;E<this.m_contactBuffer.count;E++){var w=this.m_contactBuffer.data[E],b=w.indexA,x=w.indexB,S=k.MulSV(f*w.weight*(this.m_accumulationBuffer[b]+this.m_accumulationBuffer[x]),w.normal,i);s[b].SelfSub(S),s[x].SelfAdd(S)}}},{key:"SolveDamping",value:function(t){var e=n.SolveDamping_s_v,i=n.SolveDamping_s_f;if(!this.m_positionBuffer.data)throw new Error;if(!this.m_velocityBuffer.data)throw new Error;for(var r=this.m_positionBuffer.data,s=this.m_velocityBuffer.data,o=this.m_def.dampingStrength,a=1/this.GetCriticalVelocity(t),A=this.GetParticleInvMass(),l=0;l<this.m_bodyContactBuffer.count;l++){var u=this.m_bodyContactBuffer.data[l],h=u.index,c=u.body,f=u.weight,m=u.mass,_=u.normal,g=r[h],y=k.SubVV(c.GetLinearVelocityFromWorldPoint(g,k.s_t0),s[h],e),C=k.DotVV(y,_);if(C<0){var v=p(o*f,d(-a*C,.5)),I=k.MulSV(v*m*C,_,i);s[h].SelfMulAdd(A,I),c.ApplyLinearImpulse(I.SelfNeg(),g,!0)}}for(var B=0;B<this.m_contactBuffer.count;B++){var E=this.m_contactBuffer.data[B],w=E.indexA,b=E.indexB,x=E.weight,S=E.normal,Q=k.SubVV(s[b],s[w],e),D=k.DotVV(Q,S);if(D<0){var M=p(o*x,d(-a*D,.5)),R=k.MulSV(M*D,S,i);s[w].SelfAdd(R),s[b].SelfSub(R)}}}},{key:"SolveRigidDamping",value:function(){var t=n.SolveRigidDamping_s_t0,e=n.SolveRigidDamping_s_t1,i=n.SolveRigidDamping_s_p,r=n.SolveRigidDamping_s_v,s=[0],o=[0],a=[0],A=[0],l=[0],u=[0];if(!this.m_positionBuffer.data)throw new Error;for(var h=this.m_positionBuffer.data,c=this.m_def.dampingStrength,f=0;f<this.m_bodyContactBuffer.count;f++){var m=this.m_bodyContactBuffer.data[f],_=m.index,g=this.m_groupBuffer[_];if(g&&this.IsRigidGroup(g)){var p=m.body,y=m.normal,C=m.weight,v=h[_],I=k.SubVV(p.GetLinearVelocityFromWorldPoint(v,t),g.GetLinearVelocityFromWorldPoint(v,e),r),B=k.DotVV(I,y);if(B<0){this.InitDampingParameterWithRigidGroupOrParticle(s,o,a,!0,g,_,v,y),this.InitDampingParameter(A,l,u,p.GetMass(),p.GetInertia()-p.GetMass()*p.GetLocalCenter().LengthSquared(),p.GetWorldCenter(),v,y);var E=c*d(C,1)*this.ComputeDampingImpulse(s[0],o[0],a[0],A[0],l[0],u[0],B);this.ApplyDamping(s[0],o[0],a[0],!0,g,_,E,y),p.ApplyLinearImpulse(k.MulSV(-E,y,k.s_t0),v,!0)}}}for(var w=0;w<this.m_contactBuffer.count;w++){var b=this.m_contactBuffer.data[w],x=b.indexA,S=b.indexB,Q=b.normal,D=b.weight,M=this.m_groupBuffer[x],R=this.m_groupBuffer[S],V=this.IsRigidGroup(M),T=this.IsRigidGroup(R);if(M!==R&&(V||T)){var G=k.MidVV(h[x],h[S],i),F=k.SubVV(this.GetLinearVelocity(R,S,G,t),this.GetLinearVelocity(M,x,G,e),r),P=k.DotVV(F,Q);if(P<0){this.InitDampingParameterWithRigidGroupOrParticle(s,o,a,V,M,x,G,Q),this.InitDampingParameterWithRigidGroupOrParticle(A,l,u,T,R,S,G,Q);var N=c*D*this.ComputeDampingImpulse(s[0],o[0],a[0],A[0],l[0],u[0],P);this.ApplyDamping(s[0],o[0],a[0],V,M,x,N,Q),this.ApplyDamping(A[0],l[0],u[0],T,R,S,-N,Q)}}}}},{key:"SolveExtraDamping",value:function(){var t=n.SolveExtraDamping_s_v,e=n.SolveExtraDamping_s_f;if(!this.m_flagsBuffer.data)throw new Error;if(!this.m_positionBuffer.data)throw new Error;if(!this.m_velocityBuffer.data)throw new Error;for(var i=this.m_velocityBuffer.data,r=this.m_positionBuffer.data,s=this.GetParticleInvMass(),o=0;o<this.m_bodyContactBuffer.count;o++){var a=this.m_bodyContactBuffer.data[o],A=a.index;if(this.m_flagsBuffer.data[A]&n.k_extraDampingFlags){var l=a.body,u=a.mass,h=a.normal,c=r[A],f=k.SubVV(l.GetLinearVelocityFromWorldPoint(c,k.s_t0),i[A],t),m=k.DotVV(f,h);if(m<0){var _=k.MulSV(.5*u*m,h,e);i[A].SelfMulAdd(s,_),l.ApplyLinearImpulse(_.SelfNeg(),c,!0)}}}}},{key:"SolveWall",value:function(){if(!this.m_flagsBuffer.data)throw new Error;if(!this.m_velocityBuffer.data)throw new Error;for(var e=this.m_velocityBuffer.data,i=0;i<this.m_count;i++)this.m_flagsBuffer.data[i]&t.b2ParticleFlag.b2_wallParticle&&e[i].SetZero()}},{key:"SolveRigid",value:function(e){var i=n.SolveRigid_s_position,r=n.SolveRigid_s_rotation,s=n.SolveRigid_s_transform,o=n.SolveRigid_s_velocityTransform;if(!this.m_positionBuffer.data)throw new Error;if(!this.m_velocityBuffer.data)throw new Error;for(var a=this.m_positionBuffer.data,A=this.m_velocityBuffer.data,l=this.m_groupList;l;l=l.GetNext())if(l.m_groupFlags&t.b2ParticleGroupFlag.b2_rigidParticleGroup){l.UpdateStatistics();var u=r;u.SetAngle(e.dt*l.m_angularVelocity);var h=k.AddVV(l.m_center,k.SubVV(k.MulSV(e.dt,l.m_linearVelocity,k.s_t0),T.MulRV(u,l.m_center,k.s_t1),k.s_t0),i),c=s;c.SetPositionRotation(h,u),G.MulXX(c,l.m_transform,l.m_transform);var f=o;f.p.x=e.inv_dt*c.p.x,f.p.y=e.inv_dt*c.p.y,f.q.s=e.inv_dt*c.q.s,f.q.c=e.inv_dt*(c.q.c-1);for(var m=l.m_firstIndex;m<l.m_lastIndex;m++)G.MulXV(f,a[m],A[m])}}},{key:"SolveElastic",value:function(e){var i=n.SolveElastic_s_pa,r=n.SolveElastic_s_pb,s=n.SolveElastic_s_pc,o=n.SolveElastic_s_r,a=n.SolveElastic_s_t0;if(!this.m_positionBuffer.data)throw new Error;if(!this.m_velocityBuffer.data)throw new Error;for(var A=this.m_positionBuffer.data,l=this.m_velocityBuffer.data,u=e.inv_dt*this.m_def.elasticStrength,h=0;h<this.m_triadBuffer.count;h++){var c=this.m_triadBuffer.data[h];if(c.flags&t.b2ParticleFlag.b2_elasticParticle){var f=c.indexA,m=c.indexB,_=c.indexC,g=c.pa,d=c.pb,p=c.pc,y=i.Copy(A[f]),C=r.Copy(A[m]),v=s.Copy(A[_]),B=l[f],E=l[m],w=l[_];y.SelfMulAdd(e.dt,B),C.SelfMulAdd(e.dt,E),v.SelfMulAdd(e.dt,w);var b=(y.x+C.x+v.x)/3,x=(y.y+C.y+v.y)/3;y.x-=b,y.y-=x,C.x-=b,C.y-=x,v.x-=b,v.y-=x;var S=o;S.s=k.CrossVV(g,y)+k.CrossVV(d,C)+k.CrossVV(p,v),S.c=k.DotVV(g,y)+k.DotVV(d,C)+k.DotVV(p,v);var Q=I(S.s*S.s+S.c*S.c);isFinite(Q)||(Q=198177537e11),S.s*=Q,S.c*=Q;var D=u*c.strength;T.MulRV(S,g,a),k.SubVV(a,y,a),k.MulSV(D,a,a),B.SelfAdd(a),T.MulRV(S,d,a),k.SubVV(a,C,a),k.MulSV(D,a,a),E.SelfAdd(a),T.MulRV(S,p,a),k.SubVV(a,v,a),k.MulSV(D,a,a),w.SelfAdd(a)}}}},{key:"SolveSpring",value:function(e){var i=n.SolveSpring_s_pa,r=n.SolveSpring_s_pb,s=n.SolveSpring_s_d,o=n.SolveSpring_s_f;if(!this.m_positionBuffer.data)throw new Error;if(!this.m_velocityBuffer.data)throw new Error;for(var a=this.m_positionBuffer.data,A=this.m_velocityBuffer.data,l=e.inv_dt*this.m_def.springStrength,u=0;u<this.m_pairBuffer.count;u++){var h=this.m_pairBuffer.data[u];if(h.flags&t.b2ParticleFlag.b2_springParticle){var c=h.indexA,f=h.indexB,m=i.Copy(a[c]),_=r.Copy(a[f]),g=A[c],d=A[f];m.SelfMulAdd(e.dt,g),_.SelfMulAdd(e.dt,d);var p=k.SubVV(_,m,s),y=h.distance,C=p.Length(),v=k.MulSV(l*h.strength*(y-C)/C,p,o);g.SelfSub(v),d.SelfAdd(v)}}}},{key:"SolveTensile",value:function(e){var i=n.SolveTensile_s_weightedNormal,r=n.SolveTensile_s_s,s=n.SolveTensile_s_f;if(!this.m_velocityBuffer.data)throw new Error;for(var o=this.m_velocityBuffer.data,a=0;a<this.m_count;a++)this.m_accumulation2Buffer[a]=new k,this.m_accumulation2Buffer[a].SetZero();for(var A=0;A<this.m_contactBuffer.count;A++){var l=this.m_contactBuffer.data[A];if(l.flags&t.b2ParticleFlag.b2_tensileParticle){var u=l.indexA,h=l.indexB,c=l.weight,f=k.MulSV((1-c)*c,l.normal,i);this.m_accumulation2Buffer[u].SelfSub(f),this.m_accumulation2Buffer[h].SelfAdd(f)}}for(var m=this.GetCriticalVelocity(e),_=this.m_def.surfaceTensionPressureStrength*m,g=this.m_def.surfaceTensionNormalStrength*m,p=.5*m,y=0;y<this.m_contactBuffer.count;y++){var C=this.m_contactBuffer.data[y];if(C.flags&t.b2ParticleFlag.b2_tensileParticle){var v=C.indexA,I=C.indexB,B=C.weight,E=C.normal,w=this.m_weightBuffer[v]+this.m_weightBuffer[I],b=k.SubVV(this.m_accumulation2Buffer[I],this.m_accumulation2Buffer[v],r),x=d(_*(w-2)+g*k.DotVV(b,E),p)*B,S=k.MulSV(x,E,s);o[v].SelfSub(S),o[I].SelfAdd(S)}}}},{key:"SolveViscous",value:function(){var e=n.SolveViscous_s_v,i=n.SolveViscous_s_f;if(!this.m_flagsBuffer.data)throw new Error;if(!this.m_positionBuffer.data)throw new Error;if(!this.m_velocityBuffer.data)throw new Error;for(var r=this.m_positionBuffer.data,s=this.m_velocityBuffer.data,o=this.m_def.viscousStrength,a=this.GetParticleInvMass(),A=0;A<this.m_bodyContactBuffer.count;A++){var l=this.m_bodyContactBuffer.data[A],u=l.index;if(this.m_flagsBuffer.data[u]&t.b2ParticleFlag.b2_viscousParticle){var h=l.body,c=l.weight,f=l.mass,m=r[u],_=k.SubVV(h.GetLinearVelocityFromWorldPoint(m,k.s_t0),s[u],e),g=k.MulSV(o*f*c,_,i);s[u].SelfMulAdd(a,g),h.ApplyLinearImpulse(g.SelfNeg(),m,!0)}}for(var d=0;d<this.m_contactBuffer.count;d++){var p=this.m_contactBuffer.data[d];if(p.flags&t.b2ParticleFlag.b2_viscousParticle){var y=p.indexA,C=p.indexB,v=p.weight,I=k.SubVV(s[C],s[y],e),B=k.MulSV(o*v,I,i);s[y].SelfAdd(B),s[C].SelfSub(B)}}}},{key:"SolveRepulsive",value:function(e){var i=n.SolveRepulsive_s_f;if(!this.m_velocityBuffer.data)throw new Error;for(var r=this.m_velocityBuffer.data,s=this.m_def.repulsiveStrength*this.GetCriticalVelocity(e),o=0;o<this.m_contactBuffer.count;o++){var a=this.m_contactBuffer.data[o];if(a.flags&t.b2ParticleFlag.b2_repulsiveParticle){var A=a.indexA,l=a.indexB;if(this.m_groupBuffer[A]!==this.m_groupBuffer[l]){var u=k.MulSV(s*a.weight,a.normal,i);r[A].SelfSub(u),r[l].SelfAdd(u)}}}}},{key:"SolvePowder",value:function(e){var i=n.SolvePowder_s_f;if(!this.m_flagsBuffer.data)throw new Error;if(!this.m_positionBuffer.data)throw new Error;if(!this.m_velocityBuffer.data)throw new Error;for(var r=this.m_positionBuffer.data,s=this.m_velocityBuffer.data,o=this.m_def.powderStrength*this.GetCriticalVelocity(e),a=this.GetParticleInvMass(),A=0;A<this.m_bodyContactBuffer.count;A++){var l=this.m_bodyContactBuffer.data[A],u=l.index;if(this.m_flagsBuffer.data[u]&t.b2ParticleFlag.b2_powderParticle){var h=l.weight;if(h>.25){var c=l.body,f=r[u],m=k.MulSV(o*l.mass*(h-.25),l.normal,i);s[u].SelfMulSub(a,m),c.ApplyLinearImpulse(m,f,!0)}}}for(var _=0;_<this.m_contactBuffer.count;_++){var g=this.m_contactBuffer.data[_];if(g.flags&t.b2ParticleFlag.b2_powderParticle){var d=g.weight;if(d>.25){var p=g.indexA,y=g.indexB,C=k.MulSV(o*(d-.25),g.normal,i);s[p].SelfSub(C),s[y].SelfAdd(C)}}}}},{key:"SolveSolid",value:function(t){var e=n.SolveSolid_s_f;if(!this.m_velocityBuffer.data)throw new Error;var i=this.m_velocityBuffer.data;this.m_depthBuffer=this.RequestBuffer(this.m_depthBuffer);for(var r=t.inv_dt*this.m_def.ejectionStrength,s=0;s<this.m_contactBuffer.count;s++){var o=this.m_contactBuffer.data[s],a=o.indexA,A=o.indexB;if(this.m_groupBuffer[a]!==this.m_groupBuffer[A]){var l=k.MulSV(r*(this.m_depthBuffer[a]+this.m_depthBuffer[A])*o.weight,o.normal,e);i[a].SelfSub(l),i[A].SelfAdd(l)}}}},{key:"SolveForce",value:function(t){if(!this.m_velocityBuffer.data)throw new Error;for(var e=this.m_velocityBuffer.data,i=t.dt*this.GetParticleInvMass(),n=0;n<this.m_count;n++)e[n].SelfMulAdd(i,this.m_forceBuffer[n]);this.m_hasForce=!1}},{key:"SolveColorMixing",value:function(){if(!this.m_flagsBuffer.data)throw new Error;if(!this.m_colorBuffer.data)throw new Error;var e=.5*this.m_def.colorMixingStrength;if(e)for(var i=0;i<this.m_contactBuffer.count;i++){var n=this.m_contactBuffer.data[i],r=n.indexA,s=n.indexB;this.m_flagsBuffer.data[r]&this.m_flagsBuffer.data[s]&t.b2ParticleFlag.b2_colorMixingParticle&&N.MixColors(this.m_colorBuffer.data[r],this.m_colorBuffer.data[s],e)}}},{key:"SolveZombie",value:function(){if(!this.m_flagsBuffer.data)throw new Error;if(!this.m_positionBuffer.data)throw new Error;if(!this.m_velocityBuffer.data)throw new Error;for(var e=0,i=[],n=0;n<this.m_count;n++)i[n]=h;for(var r=0,s=0;s<this.m_count;s++){var o=this.m_flagsBuffer.data[s];if(o&t.b2ParticleFlag.b2_zombieParticle){var a=this.m_world.m_destructionListener;if(o&t.b2ParticleFlag.b2_destructionListenerParticle&&a&&a.SayGoodbyeParticle(this,s),this.m_handleIndexBuffer.data){var A=this.m_handleIndexBuffer.data[s];A&&(A.SetIndex(h),this.m_handleIndexBuffer.data[s]=null)}i[s]=h}else{if(i[s]=e,s!==e){if(this.m_handleIndexBuffer.data){var l=this.m_handleIndexBuffer.data[s];l&&l.SetIndex(e),this.m_handleIndexBuffer.data[e]=l}this.m_flagsBuffer.data[e]=this.m_flagsBuffer.data[s],this.m_lastBodyContactStepBuffer.data&&(this.m_lastBodyContactStepBuffer.data[e]=this.m_lastBodyContactStepBuffer.data[s]),this.m_bodyContactCountBuffer.data&&(this.m_bodyContactCountBuffer.data[e]=this.m_bodyContactCountBuffer.data[s]),this.m_consecutiveContactStepsBuffer.data&&(this.m_consecutiveContactStepsBuffer.data[e]=this.m_consecutiveContactStepsBuffer.data[s]),this.m_positionBuffer.data[e].Copy(this.m_positionBuffer.data[s]),this.m_velocityBuffer.data[e].Copy(this.m_velocityBuffer.data[s]),this.m_groupBuffer[e]=this.m_groupBuffer[s],this.m_hasForce&&this.m_forceBuffer[e].Copy(this.m_forceBuffer[s]),this.m_staticPressureBuffer&&(this.m_staticPressureBuffer[e]=this.m_staticPressureBuffer[s]),this.m_depthBuffer&&(this.m_depthBuffer[e]=this.m_depthBuffer[s]),this.m_colorBuffer.data&&this.m_colorBuffer.data[e].Copy(this.m_colorBuffer.data[s]),this.m_userDataBuffer.data&&(this.m_userDataBuffer.data[e]=this.m_userDataBuffer.data[s]),this.m_expirationTimeBuffer.data&&(this.m_expirationTimeBuffer.data[e]=this.m_expirationTimeBuffer.data[s])}e++,r|=o}}for(var u=0;u<this.m_proxyBuffer.count;u++){var c=this.m_proxyBuffer.data[u];c.index=i[c.index]}this.m_proxyBuffer.RemoveIf((function(t){return t.index<0}));for(var f=0;f<this.m_contactBuffer.count;f++){var m=this.m_contactBuffer.data[f];m.indexA=i[m.indexA],m.indexB=i[m.indexB]}this.m_contactBuffer.RemoveIf((function(t){return t.indexA<0||t.indexB<0}));for(var _=0;_<this.m_bodyContactBuffer.count;_++){var g=this.m_bodyContactBuffer.data[_];g.index=i[g.index]}this.m_bodyContactBuffer.RemoveIf((function(t){return t.index<0}));for(var y=0;y<this.m_pairBuffer.count;y++){var C=this.m_pairBuffer.data[y];C.indexA=i[C.indexA],C.indexB=i[C.indexB]}this.m_pairBuffer.RemoveIf((function(t){return t.indexA<0||t.indexB<0}));for(var v=0;v<this.m_triadBuffer.count;v++){var I=this.m_triadBuffer.data[v];I.indexA=i[I.indexA],I.indexB=i[I.indexB],I.indexC=i[I.indexC]}if(this.m_triadBuffer.RemoveIf((function(t){return t.indexA<0||t.indexB<0||t.indexC<0})),this.m_indexByExpirationTimeBuffer.data)for(var B=0,E=0;E<this.m_count;E++){var w=i[this.m_indexByExpirationTimeBuffer.data[E]];w!==h&&(this.m_indexByExpirationTimeBuffer.data[B++]=w)}for(var b=this.m_groupList;b;b=b.GetNext()){for(var x=e,S=0,Q=!1,k=b.m_firstIndex;k<b.m_lastIndex;k++){var D=i[k];D>=0?(x=d(x,D),S=p(S,D+1)):Q=!0}x<S?(b.m_firstIndex=x,b.m_lastIndex=S,Q&&b.m_groupFlags&t.b2ParticleGroupFlag.b2_solidParticleGroup&&this.SetGroupFlags(b,b.m_groupFlags|t.b2ParticleGroupFlag.b2_particleGroupNeedsUpdateDepth)):(b.m_firstIndex=0,b.m_lastIndex=0,b.m_groupFlags&t.b2ParticleGroupFlag.b2_particleGroupCanBeEmpty||this.SetGroupFlags(b,b.m_groupFlags|t.b2ParticleGroupFlag.b2_particleGroupWillBeDestroyed))}this.m_count=e,this.m_allParticleFlags=r,this.m_needsUpdateAllParticleFlags=!1;for(var M=this.m_groupList;M;){var R=M.GetNext();M.m_groupFlags&t.b2ParticleGroupFlag.b2_particleGroupWillBeDestroyed&&this.DestroyParticleGroup(M),M=R}}},{key:"SolveLifetimes",value:function(t){if(!this.m_expirationTimeBuffer.data)throw new Error;if(!this.m_indexByExpirationTimeBuffer.data)throw new Error;this.m_timeElapsed=this.LifetimeToExpirationTime(t.dt);var e=this.GetQuantizedTimeElapsed(),i=this.m_expirationTimeBuffer.data,n=this.m_indexByExpirationTimeBuffer.data,r=this.GetParticleCount();this.m_expirationTimeBufferRequiresSorting&&(gn(n,0,r,(function(t,e){var n=i[t],r=i[e],s=n<=0;return s===r<=0?n>r:s})),this.m_expirationTimeBufferRequiresSorting=!1);for(var s=r-1;s>=0;--s){var o=n[s],a=i[o];if(e<a||a<=0)break;this.DestroyParticle(o)}}},{key:"RotateBuffer",value:function(t,e,i){if(t!==e&&e!==i){if(!this.m_flagsBuffer.data)throw new Error;if(!this.m_positionBuffer.data)throw new Error;if(!this.m_velocityBuffer.data)throw new Error;if(vn(this.m_flagsBuffer.data,t,e,i),this.m_lastBodyContactStepBuffer.data&&vn(this.m_lastBodyContactStepBuffer.data,t,e,i),this.m_bodyContactCountBuffer.data&&vn(this.m_bodyContactCountBuffer.data,t,e,i),this.m_consecutiveContactStepsBuffer.data&&vn(this.m_consecutiveContactStepsBuffer.data,t,e,i),vn(this.m_positionBuffer.data,t,e,i),vn(this.m_velocityBuffer.data,t,e,i),vn(this.m_groupBuffer,t,e,i),this.m_hasForce&&vn(this.m_forceBuffer,t,e,i),this.m_staticPressureBuffer&&vn(this.m_staticPressureBuffer,t,e,i),this.m_depthBuffer&&vn(this.m_depthBuffer,t,e,i),this.m_colorBuffer.data&&vn(this.m_colorBuffer.data,t,e,i),this.m_userDataBuffer.data&&vn(this.m_userDataBuffer.data,t,e,i),this.m_handleIndexBuffer.data){vn(this.m_handleIndexBuffer.data,t,e,i);for(var n=t;n<i;++n){var r=this.m_handleIndexBuffer.data[n];r&&r.SetIndex(y(r.GetIndex()))}}if(this.m_expirationTimeBuffer.data){vn(this.m_expirationTimeBuffer.data,t,e,i);var s=this.GetParticleCount();if(!this.m_indexByExpirationTimeBuffer.data)throw new Error;for(var o=this.m_indexByExpirationTimeBuffer.data,a=0;a<s;++a)o[a]=y(o[a])}for(var A=0;A<this.m_proxyBuffer.count;A++){var l=this.m_proxyBuffer.data[A];l.index=y(l.index)}for(var u=0;u<this.m_contactBuffer.count;u++){var h=this.m_contactBuffer.data[u];h.indexA=y(h.indexA),h.indexB=y(h.indexB)}for(var c=0;c<this.m_bodyContactBuffer.count;c++){var f=this.m_bodyContactBuffer.data[c];f.index=y(f.index)}for(var m=0;m<this.m_pairBuffer.count;m++){var _=this.m_pairBuffer.data[m];_.indexA=y(_.indexA),_.indexB=y(_.indexB)}for(var g=0;g<this.m_triadBuffer.count;g++){var d=this.m_triadBuffer.data[g];d.indexA=y(d.indexA),d.indexB=y(d.indexB),d.indexC=y(d.indexC)}for(var p=this.m_groupList;p;p=p.GetNext())p.m_firstIndex=y(p.m_firstIndex),p.m_lastIndex=y(p.m_lastIndex-1)+1}function y(n){return n<t?n:n<e?n+i-e:n<i?n+t-e:n}}},{key:"GetCriticalVelocity",value:function(t){return this.m_particleDiameter*t.inv_dt}},{key:"GetCriticalVelocitySquared",value:function(t){var e=this.GetCriticalVelocity(t);return e*e}},{key:"GetCriticalPressure",value:function(t){return this.m_def.density*this.GetCriticalVelocitySquared(t)}},{key:"GetParticleStride",value:function(){return.75*this.m_particleDiameter}},{key:"GetParticleMass",value:function(){var t=this.GetParticleStride();return this.m_def.density*t*t}},{key:"GetParticleInvMass",value:function(){var t=this.m_inverseDiameter*(1/.75);return this.m_inverseDensity*t*t}},{key:"GetFixtureContactFilter",value:function(){return this.m_allParticleFlags&t.b2ParticleFlag.b2_fixtureContactFilterParticle?this.m_world.m_contactManager.m_contactFilter:null}},{key:"GetParticleContactFilter",value:function(){return this.m_allParticleFlags&t.b2ParticleFlag.b2_particleContactFilterParticle?this.m_world.m_contactManager.m_contactFilter:null}},{key:"GetFixtureContactListener",value:function(){return this.m_allParticleFlags&t.b2ParticleFlag.b2_fixtureContactListenerParticle?this.m_world.m_contactManager.m_contactListener:null}},{key:"GetParticleContactListener",value:function(){return this.m_allParticleFlags&t.b2ParticleFlag.b2_particleContactListenerParticle?this.m_world.m_contactManager.m_contactListener:null}},{key:"SetUserOverridableBuffer",value:function(t,e,i){t.data=e,t.userSuppliedCapacity=i}},{key:"SetGroupFlags",value:function(e,i){var n=e.m_groupFlags;(n^i)&t.b2ParticleGroupFlag.b2_solidParticleGroup&&(i|=t.b2ParticleGroupFlag.b2_particleGroupNeedsUpdateDepth),n&~i&&(this.m_needsUpdateAllGroupFlags=!0),~this.m_allGroupFlags&i&&(i&t.b2ParticleGroupFlag.b2_solidParticleGroup&&(this.m_depthBuffer=this.RequestBuffer(this.m_depthBuffer)),this.m_allGroupFlags|=i),e.m_groupFlags=i}},{key:"RemoveSpuriousBodyContacts",value:function(){gn(this.m_bodyContactBuffer.data,0,this.m_bodyContactBuffer.count,n.BodyContactCompare);var t=n.RemoveSpuriousBodyContacts_s_n,e=n.RemoveSpuriousBodyContacts_s_pos,i=n.RemoveSpuriousBodyContacts_s_normal,r=this,s=-1,o=0;this.m_bodyContactBuffer.count=pn(this.m_bodyContactBuffer.data,(function(n){if(n.index!==s&&(o=0,s=n.index),o++>3)return!0;var a=t.Copy(n.normal);if(a.SelfMul(r.m_particleDiameter*(1-n.weight)),!r.m_positionBuffer.data)throw new Error;var l=k.AddVV(r.m_positionBuffer.data[n.index],a,e);if(!n.fixture.TestPoint(l)){for(var u=n.fixture.GetShape().GetChildCount(),h=0;h<u;h++)if(n.fixture.ComputeDistance(l,i,h)<A)return!1;return!0}return!1}),this.m_bodyContactBuffer.count)}},{key:"DetectStuckParticle",value:function(t){if(!(this.m_stuckThreshold<=0)){if(!this.m_bodyContactCountBuffer.data)throw new Error;if(!this.m_consecutiveContactStepsBuffer.data)throw new Error;if(!this.m_lastBodyContactStepBuffer.data)throw new Error;++this.m_bodyContactCountBuffer.data[t],2===this.m_bodyContactCountBuffer.data[t]&&(++this.m_consecutiveContactStepsBuffer.data[t],this.m_consecutiveContactStepsBuffer.data[t]>this.m_stuckThreshold&&(this.m_stuckParticleBuffer.data[this.m_stuckParticleBuffer.Append()]=t)),this.m_lastBodyContactStepBuffer.data[t]=this.m_timestamp}}},{key:"ValidateParticleIndex",value:function(t){return t>=0&&t<this.GetParticleCount()&&t!==h}},{key:"GetQuantizedTimeElapsed",value:function(){return Math.floor(this.m_timeElapsed/4294967296)}},{key:"LifetimeToExpirationTime",value:function(t){return this.m_timeElapsed+Math.floor(t/this.m_def.lifetimeGranularity*4294967296)}},{key:"ForceCanBeApplied",value:function(e){return!(e&t.b2ParticleFlag.b2_wallParticle)}},{key:"PrepareForceBuffer",value:function(){if(!this.m_hasForce){for(var t=0;t<this.m_count;t++)this.m_forceBuffer[t].SetZero();this.m_hasForce=!0}}},{key:"IsRigidGroup",value:function(e){return null!==e&&0!=(e.m_groupFlags&t.b2ParticleGroupFlag.b2_rigidParticleGroup)}},{key:"GetLinearVelocity",value:function(t,e,i,n){if(t&&this.IsRigidGroup(t))return t.GetLinearVelocityFromWorldPoint(i,n);if(!this.m_velocityBuffer.data)throw new Error;return n.Copy(this.m_velocityBuffer.data[e])}},{key:"InitDampingParameter",value:function(t,e,i,n,r,s,o,a){t[0]=n>0?1/n:0,e[0]=r>0?1/r:0,i[0]=k.CrossVV(k.SubVV(o,s,k.s_t0),a)}},{key:"InitDampingParameterWithRigidGroupOrParticle",value:function(e,i,n,r,s,o,a,A){if(s&&r)this.InitDampingParameter(e,i,n,s.GetMass(),s.GetInertia(),s.GetCenter(),a,A);else{if(!this.m_flagsBuffer.data)throw new Error;this.InitDampingParameter(e,i,n,this.m_flagsBuffer.data[o]&t.b2ParticleFlag.b2_wallParticle?0:this.GetParticleMass(),0,a,a,A)}}},{key:"ComputeDampingImpulse",value:function(t,e,i,n,r,s,o){var a=t+e*i*i+n+r*s*s;return a>0?o/a:0}},{key:"ApplyDamping",value:function(t,e,i,n,r,s,o,a){if(r&&n)r.m_linearVelocity.SelfMulAdd(o*t,a),r.m_angularVelocity+=o*i*e;else{if(!this.m_velocityBuffer.data)throw new Error;this.m_velocityBuffer.data[s].SelfMulAdd(o*t,a)}}}],[{key:"computeTag",value:function(t,e){return(e+n.yOffset>>>0<<n.yShift)+(n.xScale*t+n.xOffset>>>0)>>>0}},{key:"computeRelativeTag",value:function(t,e,i){return t+(i<<n.yShift)+(e<<n.xShift)>>>0}},{key:"IsSignificantForce",value:function(t){return 0!==t.x||0!==t.y}},{key:"ParticleCanBeConnected",value:function(e,i){return 0!=(e&(t.b2ParticleFlag.b2_wallParticle|t.b2ParticleFlag.b2_springParticle|t.b2ParticleFlag.b2_elasticParticle))||null!==i&&0!=(i.GetGroupFlags()&t.b2ParticleGroupFlag.b2_rigidParticleGroup)}},{key:"ComparePairIndices",value:function(t,e){var i=t.indexA-e.indexA;return 0!==i?i<0:t.indexB<e.indexB}},{key:"MatchPairIndices",value:function(t,e){return t.indexA===e.indexA&&t.indexB===e.indexB}},{key:"CompareTriadIndices",value:function(t,e){var i=t.indexA-e.indexA;if(0!==i)return i<0;var n=t.indexB-e.indexB;return 0!==n?n<0:t.indexC<e.indexC}},{key:"MatchTriadIndices",value:function(t,e){return t.indexA===e.indexA&&t.indexB===e.indexB&&t.indexC===e.indexC}},{key:"InitializeParticleLists",value:function(t,e){for(var i=t.GetBufferIndex(),n=t.GetParticleCount(),r=0;r<n;r++){var s=e[r];s.list=s,s.next=null,s.count=1,s.index=r+i}}},{key:"MergeParticleLists",value:function(t,e){for(var i=e;;){i.list=t;var n=i.next;if(!n){i.next=t.next;break}i=n}t.next=e,t.count+=e.count,e.count=0}},{key:"FindLongestParticleList",value:function(t,e){for(var i=t.GetParticleCount(),n=e[0],r=0;r<i;r++){var s=e[r];n.count<s.count&&(n=s)}return n}},{key:"MergeParticleListAndNode",value:function(t,e){e.list=t,e.next=t.next,t.next=e,t.count++,e.count=0}},{key:"b2ParticleContactIsZombie",value:function(e){return(e.flags&t.b2ParticleFlag.b2_zombieParticle)===t.b2ParticleFlag.b2_zombieParticle}},{key:"BodyContactCompare",value:function(t,e){return t.index===e.index?t.weight>e.weight:t.index<e.index}}]),n}();Qn.xTruncBits=12,Qn.yTruncBits=12,Qn.tagBits=32,Qn.yOffset=1<<Qn.yTruncBits-1,Qn.yShift=Qn.tagBits-Qn.yTruncBits,Qn.xShift=Qn.tagBits-Qn.yTruncBits-Qn.xTruncBits,Qn.xScale=1<<Qn.xShift,Qn.xOffset=Qn.xScale*(1<<Qn.xTruncBits-1),Qn.yMask=(1<<Qn.yTruncBits)-1<<Qn.yShift,Qn.xMask=~Qn.yMask,Qn.DestroyParticlesInShape_s_aabb=new It,Qn.CreateParticleGroup_s_transform=new G,Qn.ComputeCollisionEnergy_s_v=new k,Qn.QueryShapeAABB_s_aabb=new It,Qn.QueryPointAABB_s_aabb=new It,Qn.RayCast_s_aabb=new It,Qn.RayCast_s_p=new k,Qn.RayCast_s_v=new k,Qn.RayCast_s_n=new k,Qn.RayCast_s_point=new k,Qn.k_pairFlags=t.b2ParticleFlag.b2_springParticle,Qn.k_triadFlags=t.b2ParticleFlag.b2_elasticParticle,Qn.k_noPressureFlags=t.b2ParticleFlag.b2_powderParticle|t.b2ParticleFlag.b2_tensileParticle,Qn.k_extraDampingFlags=t.b2ParticleFlag.b2_staticPressureParticle,Qn.k_barrierWallFlags=t.b2ParticleFlag.b2_barrierParticle|t.b2ParticleFlag.b2_wallParticle,Qn.CreateParticlesStrokeShapeForGroup_s_edge=new ni,Qn.CreateParticlesStrokeShapeForGroup_s_d=new k,Qn.CreateParticlesStrokeShapeForGroup_s_p=new k,Qn.CreateParticlesFillShapeForGroup_s_aabb=new It,Qn.CreateParticlesFillShapeForGroup_s_p=new k,Qn.UpdatePairsAndTriads_s_dab=new k,Qn.UpdatePairsAndTriads_s_dbc=new k,Qn.UpdatePairsAndTriads_s_dca=new k,Qn.AddContact_s_d=new k,Qn.UpdateBodyContacts_s_aabb=new It,Qn.Solve_s_subStep=new Ji,Qn.SolveCollision_s_aabb=new It,Qn.SolveGravity_s_gravity=new k,Qn.SolveBarrier_s_aabb=new It,Qn.SolveBarrier_s_va=new k,Qn.SolveBarrier_s_vb=new k,Qn.SolveBarrier_s_pba=new k,Qn.SolveBarrier_s_vba=new k,Qn.SolveBarrier_s_vc=new k,Qn.SolveBarrier_s_pca=new k,Qn.SolveBarrier_s_vca=new k,Qn.SolveBarrier_s_qba=new k,Qn.SolveBarrier_s_qca=new k,Qn.SolveBarrier_s_dv=new k,Qn.SolveBarrier_s_f=new k,Qn.SolvePressure_s_f=new k,Qn.SolveDamping_s_v=new k,Qn.SolveDamping_s_f=new k,Qn.SolveRigidDamping_s_t0=new k,Qn.SolveRigidDamping_s_t1=new k,Qn.SolveRigidDamping_s_p=new k,Qn.SolveRigidDamping_s_v=new k,Qn.SolveExtraDamping_s_v=new k,Qn.SolveExtraDamping_s_f=new k,Qn.SolveRigid_s_position=new k,Qn.SolveRigid_s_rotation=new T,Qn.SolveRigid_s_transform=new G,Qn.SolveRigid_s_velocityTransform=new G,Qn.SolveElastic_s_pa=new k,Qn.SolveElastic_s_pb=new k,Qn.SolveElastic_s_pc=new k,Qn.SolveElastic_s_r=new T,Qn.SolveElastic_s_t0=new k,Qn.SolveSpring_s_pa=new k,Qn.SolveSpring_s_pb=new k,Qn.SolveSpring_s_d=new k,Qn.SolveSpring_s_f=new k,Qn.SolveTensile_s_weightedNormal=new k,Qn.SolveTensile_s_s=new k,Qn.SolveTensile_s_f=new k,Qn.SolveViscous_s_v=new k,Qn.SolveViscous_s_f=new k,Qn.SolveRepulsive_s_f=new k,Qn.SolvePowder_s_f=new k,Qn.SolveSolid_s_f=new k,Qn.RemoveSpuriousBodyContacts_s_n=new k,Qn.RemoveSpuriousBodyContacts_s_pos=new k,Qn.RemoveSpuriousBodyContacts_s_normal=new k;var kn=function t(){_classCallCheck2(this,t),this.data=null,this.userSuppliedCapacity=0},Dn=function(){function t(){_classCallCheck2(this,t),this.index=h,this.tag=0}return _createClass2(t,null,[{key:"CompareProxyProxy",value:function(t,e){return t.tag<e.tag}},{key:"CompareTagProxy",value:function(t,e){return t<e.tag}},{key:"CompareProxyTag",value:function(t,e){return t.tag<e}}]),t}(),Mn=function(){function t(e,i,n,r,s){_classCallCheck2(this,t),this.m_system=e,this.m_xLower=(i&Qn.xMask)>>>0,this.m_xUpper=(n&Qn.xMask)>>>0,this.m_yLower=(i&Qn.yMask)>>>0,this.m_yUpper=(n&Qn.yMask)>>>0,this.m_first=r,this.m_last=s}return _createClass2(t,[{key:"GetNext",value:function(){for(;this.m_first<this.m_last;){var t=(this.m_system.m_proxyBuffer.data[this.m_first].tag&Qn.xMask)>>>0;if(t>=this.m_xLower&&t<=this.m_xUpper)return this.m_system.m_proxyBuffer.data[this.m_first++].index;this.m_first++}return h}}]),t}(),Rn=function t(){_classCallCheck2(this,t),this.next=null,this.count=0,this.index=0},Vn=function(){function t(){_classCallCheck2(this,t)}return _createClass2(t,[{key:"Allocate",value:function(t,e){return e}},{key:"Clear",value:function(){}},{key:"GetCount",value:function(){return 0}},{key:"Invalidate",value:function(t){}},{key:"GetValidBuffer",value:function(){return[]}},{key:"GetBuffer",value:function(){return[]}},{key:"SetCount",value:function(t){}}]),t}(),Tn=function(t){function e(){return _classCallCheck2(this,e),_possibleConstructorReturn(this,_getPrototypeOf(e).apply(this,arguments))}return _inherits(e,t),_createClass2(e,[{key:"Initialize",value:function(t,e){}},{key:"Find",value:function(t){return h}}]),e}(Vn),Gn=function(t){function e(){return _classCallCheck2(this,e),_possibleConstructorReturn(this,_getPrototypeOf(e).apply(this,arguments))}return _inherits(e,t),_createClass2(e,[{key:"Initialize",value:function(t,e){}},{key:"Find",value:function(t){return h}}]),e}(Vn),Fn=function(){function t(){_classCallCheck2(this,t)}return _createClass2(t,[{key:"IsNecessary",value:function(t){return!0}},{key:"ShouldCreatePair",value:function(t,e){return!0}},{key:"ShouldCreateTriad",value:function(t,e,i){return!0}}]),t}(),Pn=function(t){function e(t,i,n,r){var s;return _classCallCheck2(this,e),(s=_possibleConstructorReturn(this,_getPrototypeOf(e).call(this))).m_callDestructionListener=!1,s.m_destroyed=0,s.m_system=t,s.m_shape=i,s.m_xf=n,s.m_callDestructionListener=r,s.m_destroyed=0,s}return _inherits(e,t),_createClass2(e,[{key:"ReportFixture",value:function(t){return!1}},{key:"ReportParticle",value:function(t,e){if(t!==this.m_system)return!1;if(!this.m_system.m_positionBuffer.data)throw new Error;return this.m_shape.TestPoint(this.m_xf,this.m_system.m_positionBuffer.data[e])&&(this.m_system.DestroyParticle(e,this.m_callDestructionListener),this.m_destroyed++),!0}},{key:"Destroyed",value:function(){return this.m_destroyed}}]),e}(Oi),Nn=function(t){function e(t){var i;return _classCallCheck2(this,e),(i=_possibleConstructorReturn(this,_getPrototypeOf(e).call(this))).m_threshold=0,i.m_threshold=t,i}return _inherits(e,t),_createClass2(e,[{key:"ShouldCreatePair",value:function(t,e){return t<this.m_threshold&&this.m_threshold<=e||e<this.m_threshold&&this.m_threshold<=t}},{key:"ShouldCreateTriad",value:function(t,e,i){return(t<this.m_threshold||e<this.m_threshold||i<this.m_threshold)&&(this.m_threshold<=t||this.m_threshold<=e||this.m_threshold<=i)}}]),e}(Fn),Ln=function(e){function n(e){var i,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:e.length;return _classCallCheck2(this,n),(i=_possibleConstructorReturn(this,_getPrototypeOf(n).call(this,t.b2ShapeType.e_unknown,0))).m_shapeCount=0,i.m_shapes=e,i.m_shapeCount=r,i}return _inherits(n,e),_createClass2(n,[{key:"Clone",value:function(){throw new Error}},{key:"GetChildCount",value:function(){return 1}},{key:"TestPoint",value:function(t,e){for(var i=0;i<this.m_shapeCount;i++)if(this.m_shapes[i].TestPoint(t,e))return!0;return!1}},{key:"ComputeDistance",value:function(t,e,i,n){return 0}},{key:"RayCast",value:function(t,e,i,n){return!1}},{key:"ComputeAABB",value:function(t,e,n){var r=new It;t.lowerBound.x=+i,t.lowerBound.y=+i,t.upperBound.x=-i,t.upperBound.y=-i;for(var s=0;s<this.m_shapeCount;s++)for(var o=this.m_shapes[s].GetChildCount(),a=0;a<o;a++){var A=r;this.m_shapes[s].ComputeAABB(A,e,a),t.Combine1(A)}}},{key:"ComputeMass",value:function(t,e){}},{key:"SetupDistanceProxy",value:function(t,e){}},{key:"ComputeSubmergedArea",value:function(t,e,i,n){return 0}},{key:"Dump",value:function(t){}}]),n}(ti),Un=function(e){function i(t){var e;return _classCallCheck2(this,i),(e=_possibleConstructorReturn(this,_getPrototypeOf(i).call(this))).m_flagsBuffer=t,e}return _inherits(i,e),_createClass2(i,[{key:"IsNecessary",value:function(e){if(!this.m_flagsBuffer.data)throw new Error;return 0!=(this.m_flagsBuffer.data[e]&t.b2ParticleFlag.b2_reactiveParticle)}}]),i}(Fn),On=function(e){function i(t,e){var n;return _classCallCheck2(this,i),(n=_possibleConstructorReturn(this,_getPrototypeOf(i).call(this,t))).m_contactFilter=e,n}return _inherits(i,e),_createClass2(i,[{key:"ShouldCollideFixtureParticle",value:function(e,i,n){return!(this.m_contactFilter&&this.m_system.GetFlagsBuffer()[n]&t.b2ParticleFlag.b2_fixtureContactFilterParticle)||this.m_contactFilter.ShouldCollideFixtureParticle(e,this.m_system,n)}},{key:"ReportFixtureAndParticle",value:function(e,n,r){var s=i.ReportFixtureAndParticle_s_n,o=i.ReportFixtureAndParticle_s_rp;if(!this.m_system.m_flagsBuffer.data)throw new Error;if(!this.m_system.m_positionBuffer.data)throw new Error;var a=this.m_system.m_positionBuffer.data[r],A=s,l=e.ComputeDistance(a,A,n);if(l<this.m_system.m_particleDiameter&&this.ShouldCollideFixtureParticle(e,this.m_system,r)){var u=e.GetBody(),h=u.GetWorldCenter(),c=u.GetMass(),f=u.GetInertia()-c*u.GetLocalCenter().LengthSquared(),m=c>0?1/c:0,_=f>0?1/f:0,g=this.m_system.m_flagsBuffer.data[r]&t.b2ParticleFlag.b2_wallParticle?0:this.m_system.GetParticleInvMass(),d=k.SubVV(a,h,o),p=k.CrossVV(d,A),y=g+m+_*p*p,C=this.m_system.m_bodyContactBuffer.data[this.m_system.m_bodyContactBuffer.Append()];C.index=r,C.body=u,C.fixture=e,C.weight=1-l*this.m_system.m_inverseDiameter,C.normal.Copy(A.SelfNeg()),C.mass=y>0?1/y:0,this.m_system.DetectStuckParticle(r)}}}]),i}(Bn);On.ReportFixtureAndParticle_s_n=new k,On.ReportFixtureAndParticle_s_rp=new k;var Yn=function(e){function i(t,e){var n;return _classCallCheck2(this,i),(n=_possibleConstructorReturn(this,_getPrototypeOf(i).call(this,t))).m_step=e,n}return _inherits(i,e),_createClass2(i,[{key:"ReportFixtureAndParticle",value:function(e,n,r){var s=i.ReportFixtureAndParticle_s_p1,o=i.ReportFixtureAndParticle_s_output,a=i.ReportFixtureAndParticle_s_input,l=i.ReportFixtureAndParticle_s_p,u=i.ReportFixtureAndParticle_s_v,h=i.ReportFixtureAndParticle_s_f,c=e.GetBody();if(!this.m_system.m_positionBuffer.data)throw new Error;if(!this.m_system.m_velocityBuffer.data)throw new Error;var f=this.m_system.m_positionBuffer.data[r],m=this.m_system.m_velocityBuffer.data[r],_=o,g=a;if(0===this.m_system.m_iterationIndex){var d=G.MulTXV(c.m_xf0,f,s);e.GetShape().GetType()===t.b2ShapeType.e_circleShape&&(d.SelfSub(c.GetLocalCenter()),T.MulRV(c.m_xf0.q,d,d),T.MulTRV(c.m_xf.q,d,d),d.SelfAdd(c.GetLocalCenter())),G.MulXV(c.m_xf,d,g.p1)}else g.p1.Copy(f);if(k.AddVMulSV(f,this.m_step.dt,m,g.p2),g.maxFraction=1,e.RayCast(_,g,n)){var p=_.normal,y=l;y.x=(1-_.fraction)*g.p1.x+_.fraction*g.p2.x+A*p.x,y.y=(1-_.fraction)*g.p1.y+_.fraction*g.p2.y+A*p.y;var C=u;C.x=this.m_step.inv_dt*(y.x-f.x),C.y=this.m_step.inv_dt*(y.y-f.y),this.m_system.m_velocityBuffer.data[r].Copy(C);var v=h;v.x=this.m_step.inv_dt*this.m_system.GetParticleMass()*(m.x-C.x),v.y=this.m_step.inv_dt*this.m_system.GetParticleMass()*(m.y-C.y),this.m_system.ParticleApplyForce(r,v)}}},{key:"ReportParticle",value:function(t,e){return!1}}]),i}(Bn);Yn.ReportFixtureAndParticle_s_p1=new k,Yn.ReportFixtureAndParticle_s_output=new vt,Yn.ReportFixtureAndParticle_s_input=new Ct,Yn.ReportFixtureAndParticle_s_p=new k,Yn.ReportFixtureAndParticle_s_v=new k,Yn.ReportFixtureAndParticle_s_f=new k;var Hn=function(){function e(t){_classCallCheck2(this,e),this.m_newFixture=!1,this.m_locked=!1,this.m_clearForces=!0,this.m_contactManager=new Yi,this.m_bodyList=null,this.m_jointList=null,this.m_particleSystemList=null,this.m_bodyCount=0,this.m_jointCount=0,this.m_gravity=new k,this.m_allowSleep=!0,this.m_destructionListener=null,this.m_debugDraw=null,this.m_inv_dt0=0,this.m_warmStarting=!0,this.m_continuousPhysics=!0,this.m_subStepping=!1,this.m_stepComplete=!0,this.m_profile=new Hi,this.m_island=new rn,this.s_stack=[],this.m_controllerList=null,this.m_controllerCount=0,this.m_gravity.Copy(t)}return _createClass2(e,[{key:"SetDestructionListener",value:function(t){this.m_destructionListener=t}},{key:"SetContactFilter",value:function(t){this.m_contactManager.m_contactFilter=t}},{key:"SetContactListener",value:function(t){this.m_contactManager.m_contactListener=t}},{key:"SetDebugDraw",value:function(t){this.m_debugDraw=t}},{key:"CreateBody",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};if(this.IsLocked())throw new Error;var e=new li(t,this);return e.m_prev=null,e.m_next=this.m_bodyList,this.m_bodyList&&(this.m_bodyList.m_prev=e),this.m_bodyList=e,++this.m_bodyCount,e}},{key:"DestroyBody",value:function(t){if(this.IsLocked())throw new Error;for(var e=t.m_jointList;e;){var i=e;e=e.next,this.m_destructionListener&&this.m_destructionListener.SayGoodbyeJoint(i.joint),this.DestroyJoint(i.joint),t.m_jointList=e}t.m_jointList=null;for(var n=t.m_controllerList;n;){var r=n;n=n.nextController,r.controller.RemoveBody(t)}for(var s=t.m_contactList;s;){var o=s;s=s.next,this.m_contactManager.Destroy(o.contact)}t.m_contactList=null;for(var a=t.m_fixtureList;a;){var A=a;a=a.m_next,this.m_destructionListener&&this.m_destructionListener.SayGoodbyeFixture(A),A.DestroyProxies(),A.Destroy(),t.m_fixtureList=a,t.m_fixtureCount-=1}t.m_fixtureList=null,t.m_fixtureCount=0,t.m_prev&&(t.m_prev.m_next=t.m_next),t.m_next&&(t.m_next.m_prev=t.m_prev),t===this.m_bodyList&&(this.m_bodyList=t.m_next),--this.m_bodyCount}},{key:"CreateJoint",value:function(t){if(this.IsLocked())throw new Error;var i=e._Joint_Create(t,null);i.m_prev=null,i.m_next=this.m_jointList,this.m_jointList&&(this.m_jointList.m_prev=i),this.m_jointList=i,++this.m_jointCount,i.m_edgeA.prev=null,i.m_edgeA.next=i.m_bodyA.m_jointList,i.m_bodyA.m_jointList&&(i.m_bodyA.m_jointList.prev=i.m_edgeA),i.m_bodyA.m_jointList=i.m_edgeA,i.m_edgeB.prev=null,i.m_edgeB.next=i.m_bodyB.m_jointList,i.m_bodyB.m_jointList&&(i.m_bodyB.m_jointList.prev=i.m_edgeB),i.m_bodyB.m_jointList=i.m_edgeB;var n=t.bodyA;if(!t.collideConnected)for(var r=t.bodyB.GetContactList();r;)r.other===n&&r.contact.FlagForFiltering(),r=r.next;return i}},{key:"DestroyJoint",value:function(t){if(this.IsLocked())throw new Error;var i=t.m_collideConnected;t.m_prev&&(t.m_prev.m_next=t.m_next),t.m_next&&(t.m_next.m_prev=t.m_prev),t===this.m_jointList&&(this.m_jointList=t.m_next);var n=t.m_bodyA,r=t.m_bodyB;if(n.SetAwake(!0),r.SetAwake(!0),t.m_edgeA.prev&&(t.m_edgeA.prev.next=t.m_edgeA.next),t.m_edgeA.next&&(t.m_edgeA.next.prev=t.m_edgeA.prev),t.m_edgeA===n.m_jointList&&(n.m_jointList=t.m_edgeA.next),t.m_edgeA.prev=null,t.m_edgeA.next=null,t.m_edgeB.prev&&(t.m_edgeB.prev.next=t.m_edgeB.next),t.m_edgeB.next&&(t.m_edgeB.next.prev=t.m_edgeB.prev),t.m_edgeB===r.m_jointList&&(r.m_jointList=t.m_edgeB.next),t.m_edgeB.prev=null,t.m_edgeB.next=null,e._Joint_Destroy(t,null),--this.m_jointCount,!i)for(var s=r.GetContactList();s;)s.other===n&&s.contact.FlagForFiltering(),s=s.next}},{key:"CreateParticleSystem",value:function(t){if(this.IsLocked())throw new Error;var e=new Qn(t,this);return e.m_prev=null,e.m_next=this.m_particleSystemList,this.m_particleSystemList&&(this.m_particleSystemList.m_prev=e),this.m_particleSystemList=e,e}},{key:"DestroyParticleSystem",value:function(t){if(this.IsLocked())throw new Error;t.m_prev&&(t.m_prev.m_next=t.m_next),t.m_next&&(t.m_next.m_prev=t.m_prev),t===this.m_particleSystemList&&(this.m_particleSystemList=t.m_next)}},{key:"CalculateReasonableParticleIterations",value:function(t){return null===this.m_particleSystemList?1:on(this.m_gravity.Length(),function(t){for(var e=i,n=t.GetParticleSystemList();null!==n;n=n.m_next)e=d(e,n.GetRadius());return e}(this),t)}},{key:"Step",value:function(t,i,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:this.CalculateReasonableParticleIterations(t),s=e.Step_s_stepTimer.Reset();this.m_newFixture&&(this.m_contactManager.FindNewContacts(),this.m_newFixture=!1),this.m_locked=!0;var o=e.Step_s_step;o.dt=t,o.velocityIterations=i,o.positionIterations=n,o.particleIterations=r,o.inv_dt=t>0?1/t:0,o.dtRatio=this.m_inv_dt0*t,o.warmStarting=this.m_warmStarting;var a=e.Step_s_timer.Reset();if(this.m_contactManager.Collide(),this.m_profile.collide=a.GetMilliseconds(),this.m_stepComplete&&o.dt>0){for(var A=e.Step_s_timer.Reset(),l=this.m_particleSystemList;l;l=l.m_next)l.Solve(o);this.Solve(o),this.m_profile.solve=A.GetMilliseconds()}if(this.m_continuousPhysics&&o.dt>0){var u=e.Step_s_timer.Reset();this.SolveTOI(o),this.m_profile.solveTOI=u.GetMilliseconds()}o.dt>0&&(this.m_inv_dt0=o.inv_dt),this.m_clearForces&&this.ClearForces(),this.m_locked=!1,this.m_profile.step=s.GetMilliseconds()}},{key:"ClearForces",value:function(){for(var t=this.m_bodyList;t;t=t.m_next)t.m_force.SetZero(),t.m_torque=0}},{key:"DrawParticleSystem",value:function(t){if(null!==this.m_debugDraw){var e=t.GetParticleCount();if(e){var i=t.GetRadius(),n=t.GetPositionBuffer();if(t.m_colorBuffer.data){var r=t.GetColorBuffer();this.m_debugDraw.DrawParticles(n,i,r,e)}else this.m_debugDraw.DrawParticles(n,i,null,e)}}}},{key:"DrawDebugData",value:function(){if(null!==this.m_debugDraw){var i=this.m_debugDraw.GetFlags(),n=e.DrawDebugData_s_color.SetRGB(0,0,0);if(i&t.b2DrawFlags.e_shapeBit)for(var r=this.m_bodyList;r;r=r.m_next){var s=r.m_xf;this.m_debugDraw.PushTransform(s);for(var o=r.GetFixtureList();o;o=o.m_next)r.IsActive()?r.GetType()===t.b2BodyType.b2_staticBody?(n.SetRGB(.5,.9,.5),this.DrawShape(o,n)):r.GetType()===t.b2BodyType.b2_kinematicBody?(n.SetRGB(.5,.5,.9),this.DrawShape(o,n)):r.IsAwake()?(n.SetRGB(.9,.7,.7),this.DrawShape(o,n)):(n.SetRGB(.6,.6,.6),this.DrawShape(o,n)):(n.SetRGB(.5,.5,.3),this.DrawShape(o,n));this.m_debugDraw.PopTransform(s)}if(i&t.b2DrawFlags.e_particleBit)for(var a=this.m_particleSystemList;a;a=a.m_next)this.DrawParticleSystem(a);if(i&t.b2DrawFlags.e_jointBit)for(var A=this.m_jointList;A;A=A.m_next)this.DrawJoint(A);if(i&t.b2DrawFlags.e_aabbBit){n.SetRGB(.9,.3,.9);for(var l=e.DrawDebugData_s_vs,u=this.m_bodyList;u;u=u.m_next)if(u.IsActive())for(var h=u.GetFixtureList();h;h=h.m_next)for(var c=0;c<h.m_proxyCount;++c){var f=h.m_proxies[c].treeNode.aabb;l[0].Set(f.lowerBound.x,f.lowerBound.y),l[1].Set(f.upperBound.x,f.lowerBound.y),l[2].Set(f.upperBound.x,f.upperBound.y),l[3].Set(f.lowerBound.x,f.upperBound.y),this.m_debugDraw.DrawPolygon(l,4,n)}}if(i&t.b2DrawFlags.e_centerOfMassBit)for(var m=this.m_bodyList;m;m=m.m_next){var _=e.DrawDebugData_s_xf;_.q.Copy(m.m_xf.q),_.p.Copy(m.GetWorldCenter()),this.m_debugDraw.DrawTransform(_)}if(i&t.b2DrawFlags.e_controllerBit)for(var g=this.m_controllerList;g;g=g.m_next)g.Draw(this.m_debugDraw)}}},{key:"QueryAABB",value:function(t,e,i){if(this.m_contactManager.m_broadPhase.Query(e,(function(e){var n=e.userData.fixture;return t?t.ReportFixture(n):!i||i(n)})),t instanceof Oi)for(var n=this.m_particleSystemList;n;n=n.m_next)t.ShouldQueryParticleSystem(n)&&n.QueryAABB(t,e)}},{key:"QueryAllAABB",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];return this.QueryAABB(null,t,(function(t){return e.push(t),!0})),e}},{key:"QueryPointAABB",value:function(t,e,i){if(this.m_contactManager.m_broadPhase.QueryPoint(e,(function(e){var n=e.userData.fixture;return t?t.ReportFixture(n):!i||i(n)})),t instanceof Oi)for(var n=this.m_particleSystemList;n;n=n.m_next)t.ShouldQueryParticleSystem(n)&&n.QueryPointAABB(t,e)}},{key:"QueryAllPointAABB",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];return this.QueryPointAABB(null,t,(function(t){return e.push(t),!0})),e}},{key:"QueryFixtureShape",value:function(t,i,n,r,s){var o=e.QueryFixtureShape_s_aabb;if(i.ComputeAABB(o,r,n),this.m_contactManager.m_broadPhase.Query(o,(function(e){var o=e.userData,a=o.fixture;if(St(i,n,a.GetShape(),o.childIndex,r,a.GetBody().GetTransform())){if(t)return t.ReportFixture(a);if(s)return s(a)}return!0})),t instanceof Oi)for(var a=this.m_particleSystemList;a;a=a.m_next)t.ShouldQueryParticleSystem(a)&&a.QueryAABB(t,o)}},{key:"QueryAllFixtureShape",value:function(t,e,i){var n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[];return this.QueryFixtureShape(null,t,e,i,(function(t){return n.push(t),!0})),n}},{key:"QueryFixturePoint",value:function(t,e,i){if(this.m_contactManager.m_broadPhase.QueryPoint(e,(function(n){var r=n.userData.fixture;if(r.TestPoint(e)){if(t)return t.ReportFixture(r);if(i)return i(r)}return!0})),t)for(var n=this.m_particleSystemList;n;n=n.m_next)t.ShouldQueryParticleSystem(n)&&n.QueryPointAABB(t,e)}},{key:"QueryAllFixturePoint",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];return this.QueryFixturePoint(null,t,(function(t){return e.push(t),!0})),e}},{key:"RayCast",value:function(t,i,n,r){var s=e.RayCast_s_input;if(s.maxFraction=1,s.p1.Copy(i),s.p2.Copy(n),this.m_contactManager.m_broadPhase.RayCast(s,(function(s,o){var a=o.userData,A=a.fixture,l=e.RayCast_s_output;if(A.RayCast(l,s,a.childIndex)){var u=l.fraction,h=e.RayCast_s_point;if(h.Set((1-u)*i.x+u*n.x,(1-u)*i.y+u*n.y),t)return t.ReportFixture(A,h,l.normal,u);if(r)return r(A,h,l.normal,u)}return s.maxFraction})),t)for(var o=this.m_particleSystemList;o;o=o.m_next)t.ShouldQueryParticleSystem(o)&&o.RayCast(t,i,n)}},{key:"RayCastOne",value:function(t,e){var i=null,n=1;return this.RayCast(null,t,e,(function(t,e,r,s){return s<n&&(n=s,i=t),n})),i}},{key:"RayCastAll",value:function(t,e){var i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[];return this.RayCast(null,t,e,(function(t,e,n,r){return i.push(t),1})),i}},{key:"GetBodyList",value:function(){return this.m_bodyList}},{key:"GetJointList",value:function(){return this.m_jointList}},{key:"GetParticleSystemList",value:function(){return this.m_particleSystemList}},{key:"GetContactList",value:function(){return this.m_contactManager.m_contactList}},{key:"SetAllowSleeping",value:function(t){if(t!==this.m_allowSleep&&(this.m_allowSleep=t,!this.m_allowSleep))for(var e=this.m_bodyList;e;e=e.m_next)e.SetAwake(!0)}},{key:"GetAllowSleeping",value:function(){return this.m_allowSleep}},{key:"SetWarmStarting",value:function(t){this.m_warmStarting=t}},{key:"GetWarmStarting",value:function(){return this.m_warmStarting}},{key:"SetContinuousPhysics",value:function(t){this.m_continuousPhysics=t}},{key:"GetContinuousPhysics",value:function(){return this.m_continuousPhysics}},{key:"SetSubStepping",value:function(t){this.m_subStepping=t}},{key:"GetSubStepping",value:function(){return this.m_subStepping}},{key:"GetProxyCount",value:function(){return this.m_contactManager.m_broadPhase.GetProxyCount()}},{key:"GetBodyCount",value:function(){return this.m_bodyCount}},{key:"GetJointCount",value:function(){return this.m_jointCount}},{key:"GetContactCount",value:function(){return this.m_contactManager.m_contactCount}},{key:"GetTreeHeight",value:function(){return this.m_contactManager.m_broadPhase.GetTreeHeight()}},{key:"GetTreeBalance",value:function(){return this.m_contactManager.m_broadPhase.GetTreeBalance()}},{key:"GetTreeQuality",value:function(){return this.m_contactManager.m_broadPhase.GetTreeQuality()}},{key:"SetGravity",value:function(t){var e=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];if(!k.IsEqualToV(this.m_gravity,t)&&(this.m_gravity.Copy(t),e))for(var i=this.m_bodyList;i;i=i.m_next)i.SetAwake(!0)}},{key:"GetGravity",value:function(){return this.m_gravity}},{key:"IsLocked",value:function(){return this.m_locked}},{key:"SetAutoClearForces",value:function(t){this.m_clearForces=t}},{key:"GetAutoClearForces",value:function(){return this.m_clearForces}},{key:"ShiftOrigin",value:function(t){if(this.IsLocked())throw new Error;for(var e=this.m_bodyList;e;e=e.m_next)e.m_xf.p.SelfSub(t),e.m_sweep.c0.SelfSub(t),e.m_sweep.c.SelfSub(t);for(var i=this.m_jointList;i;i=i.m_next)i.ShiftOrigin(t);this.m_contactManager.m_broadPhase.ShiftOrigin(t)}},{key:"GetContactManager",value:function(){return this.m_contactManager}},{key:"GetProfile",value:function(){return this.m_profile}},{key:"Dump",value:function(e){if(!this.m_locked){e("const g: b2Vec2 = new b2Vec2(%.15f, %.15f);\n",this.m_gravity.x,this.m_gravity.y),e("this.m_world.SetGravity(g);\n"),e("const bodies: b2Body[] = [];\n"),e("const joints: b2Joint[] = [];\n");for(var i=0,n=this.m_bodyList;n;n=n.m_next)n.m_islandIndex=i,n.Dump(e),++i;i=0;for(var r=this.m_jointList;r;r=r.m_next)r.m_index=i,++i;for(var s=this.m_jointList;s;s=s.m_next)s.m_type!==t.b2JointType.e_gearJoint&&(e("{\n"),s.Dump(e),e("}\n"));for(var o=this.m_jointList;o;o=o.m_next)o.m_type===t.b2JointType.e_gearJoint&&(e("{\n"),o.Dump(e),e("}\n"))}}},{key:"DrawJoint",value:function(i){if(null!==this.m_debugDraw){var n=i.GetBodyA(),r=i.GetBodyB(),s=n.m_xf.p,o=r.m_xf.p,a=i.GetAnchorA(e.DrawJoint_s_p1),A=i.GetAnchorB(e.DrawJoint_s_p2),l=e.DrawJoint_s_color.SetRGB(.5,.8,.8);switch(i.m_type){case t.b2JointType.e_distanceJoint:this.m_debugDraw.DrawSegment(a,A,l);break;case t.b2JointType.e_pulleyJoint:var u=i,h=u.GetGroundAnchorA(),c=u.GetGroundAnchorB();this.m_debugDraw.DrawSegment(h,a,l),this.m_debugDraw.DrawSegment(c,A,l),this.m_debugDraw.DrawSegment(h,c,l);break;case t.b2JointType.e_mouseJoint:var f=e.DrawJoint_s_c;f.Set(0,1,0),this.m_debugDraw.DrawPoint(a,4,f),this.m_debugDraw.DrawPoint(A,4,f),f.Set(.8,.8,.8),this.m_debugDraw.DrawSegment(a,A,f);break;default:this.m_debugDraw.DrawSegment(s,a,l),this.m_debugDraw.DrawSegment(a,A,l),this.m_debugDraw.DrawSegment(o,A,l)}}}},{key:"DrawShape",value:function(i,n){if(null!==this.m_debugDraw){var r=i.GetShape();switch(r.m_type){case t.b2ShapeType.e_circleShape:this.m_debugDraw.DrawSolidCircle(r.m_p,r.m_radius,k.UNITX,n);break;case t.b2ShapeType.e_edgeShape:this.m_debugDraw.DrawSegment(r.m_vertex1,r.m_vertex2,n);break;case t.b2ShapeType.e_chainShape:var s=r,o=s.m_count,a=s.m_vertices,A=e.DrawShape_s_ghostColor.SetRGBA(.75*n.r,.75*n.g,.75*n.b,n.a),l=a[0];if(this.m_debugDraw.DrawPoint(l,4,n),s.m_hasPrevVertex){var u=s.m_prevVertex;this.m_debugDraw.DrawSegment(u,l,A),this.m_debugDraw.DrawCircle(u,.1,A)}for(var h=1;h<o;++h){var c=a[h];this.m_debugDraw.DrawSegment(l,c,n),this.m_debugDraw.DrawPoint(c,4,n),l=c}if(s.m_hasNextVertex){var f=s.m_nextVertex;this.m_debugDraw.DrawSegment(f,l,A),this.m_debugDraw.DrawCircle(f,.1,A)}break;case t.b2ShapeType.e_polygonShape:this.m_debugDraw.DrawSolidPolygon(r.m_vertices,r.m_count,n)}}}},{key:"Solve",value:function(e){for(var i=this.m_bodyList;i;i=i.m_next)i.m_xf0.Copy(i.m_xf);for(var n=this.m_controllerList;n;n=n.m_next)n.Step(e);this.m_profile.solveInit=0,this.m_profile.solveVelocity=0,this.m_profile.solvePosition=0;var r=this.m_island;r.Initialize(this.m_bodyCount,this.m_contactManager.m_contactCount,this.m_jointCount,null,this.m_contactManager.m_contactListener);for(var s=this.m_bodyList;s;s=s.m_next)s.m_islandFlag=!1;for(var o=this.m_contactManager.m_contactList;o;o=o.m_next)o.m_islandFlag=!1;for(var a=this.m_jointList;a;a=a.m_next)a.m_islandFlag=!1;for(var A=this.s_stack,l=this.m_bodyList;l;l=l.m_next)if(!l.m_islandFlag&&l.IsAwake()&&l.IsActive()&&l.GetType()!==t.b2BodyType.b2_staticBody){r.Clear();var u=0;for(A[u++]=l,l.m_islandFlag=!0;u>0;){var h=A[--u];if(!h)throw new Error;if(r.AddBody(h),h.m_awakeFlag=!0,h.GetType()!==t.b2BodyType.b2_staticBody){for(var c=h.m_contactList;c;c=c.next){var f=c.contact;if(!f.m_islandFlag&&(f.IsEnabled()&&f.IsTouching())){var m=f.m_fixtureB.m_isSensor;if(!f.m_fixtureA.m_isSensor&&!m){r.AddContact(f),f.m_islandFlag=!0;var _=c.other;if(!_)throw new Error;_.m_islandFlag||(A[u++]=_,_.m_islandFlag=!0)}}}for(var g=h.m_jointList;g;g=g.next)if(!g.joint.m_islandFlag){var d=g.other;d.IsActive()&&(r.AddJoint(g.joint),g.joint.m_islandFlag=!0,d.m_islandFlag||(A[u++]=d,d.m_islandFlag=!0))}}}var p=new Hi;r.Solve(p,e,this.m_gravity,this.m_allowSleep),this.m_profile.solveInit+=p.solveInit,this.m_profile.solveVelocity+=p.solveVelocity,this.m_profile.solvePosition+=p.solvePosition;for(var y=0;y<r.m_bodyCount;++y){var C=r.m_bodies[y];C.GetType()===t.b2BodyType.b2_staticBody&&(C.m_islandFlag=!1)}}for(var v=0;v<A.length&&A[v];++v)A[v]=null;for(var I=new L,B=this.m_bodyList;B;B=B.m_next)B.m_islandFlag&&B.GetType()!==t.b2BodyType.b2_staticBody&&B.SynchronizeFixtures();this.m_contactManager.FindNewContacts(),this.m_profile.broadphase=I.GetMilliseconds()}},{key:"SolveTOI",value:function(i){var r=this.m_island;if(r.Initialize(64,32,0,null,this.m_contactManager.m_contactListener),this.m_stepComplete){for(var s=this.m_bodyList;s;s=s.m_next)s.m_islandFlag=!1,s.m_sweep.alpha0=0;for(var o=this.m_contactManager.m_contactList;o;o=o.m_next)o.m_toiFlag=!1,o.m_islandFlag=!1,o.m_toiCount=0,o.m_toi=1}for(;;){for(var a=null,A=1,l=this.m_contactManager.m_contactList;l;l=l.m_next)if(l.IsEnabled()&&!(l.m_toiCount>8)){var u=1;if(l.m_toiFlag)u=l.m_toi;else{var h=l.GetFixtureA(),c=l.GetFixtureB();if(h.IsSensor()||c.IsSensor())continue;var f=h.GetBody(),m=c.GetBody(),_=f.m_type,g=m.m_type,p=f.IsAwake()&&_!==t.b2BodyType.b2_staticBody,y=m.IsAwake()&&g!==t.b2BodyType.b2_staticBody;if(!p&&!y)continue;var C=f.IsBullet()||_!==t.b2BodyType.b2_dynamicBody,v=m.IsBullet()||g!==t.b2BodyType.b2_dynamicBody;if(!C&&!v)continue;var I=f.m_sweep.alpha0;f.m_sweep.alpha0<m.m_sweep.alpha0?f.m_sweep.Advance(I=m.m_sweep.alpha0):m.m_sweep.alpha0<f.m_sweep.alpha0&&m.m_sweep.Advance(I=f.m_sweep.alpha0);var B=l.GetChildIndexA(),E=l.GetChildIndexB(),w=e.SolveTOI_s_toi_input;w.proxyA.SetShape(h.GetShape(),B),w.proxyB.SetShape(c.GetShape(),E),w.sweepA.Copy(f.m_sweep),w.sweepB.Copy(m.m_sweep),w.tMax=1;var b=e.SolveTOI_s_toi_output;ie(b,w);var x=b.t;u=b.state===t.b2TOIOutputState.e_touching?d(I+(1-I)*x,1):1,l.m_toi=u,l.m_toiFlag=!0}u<A&&(a=l,A=u)}if(null===a||1-10*n<A){this.m_stepComplete=!0;break}var S=a.GetFixtureA(),Q=a.GetFixtureB(),k=S.GetBody(),D=Q.GetBody(),M=e.SolveTOI_s_backup1.Copy(k.m_sweep),R=e.SolveTOI_s_backup2.Copy(D.m_sweep);if(k.Advance(A),D.Advance(A),a.Update(this.m_contactManager.m_contactListener),a.m_toiFlag=!1,++a.m_toiCount,a.IsEnabled()&&a.IsTouching()){k.SetAwake(!0),D.SetAwake(!0),r.Clear(),r.AddBody(k),r.AddBody(D),r.AddContact(a),k.m_islandFlag=!0,D.m_islandFlag=!0,a.m_islandFlag=!0;for(var V=0;V<2;++V){var T=0===V?k:D;if(T.m_type===t.b2BodyType.b2_dynamicBody)for(var G=T.m_contactList;G&&r.m_bodyCount!==r.m_bodyCapacity&&r.m_contactCount!==r.m_contactCapacity;G=G.next){var F=G.contact;if(!F.m_islandFlag){var P=G.other;if(P.m_type!==t.b2BodyType.b2_dynamicBody||T.IsBullet()||P.IsBullet()){var N=F.m_fixtureB.m_isSensor;if(!F.m_fixtureA.m_isSensor&&!N){var L=e.SolveTOI_s_backup.Copy(P.m_sweep);P.m_islandFlag||P.Advance(A),F.Update(this.m_contactManager.m_contactListener),F.IsEnabled()&&F.IsTouching()?(F.m_islandFlag=!0,r.AddContact(F),P.m_islandFlag||(P.m_islandFlag=!0,P.m_type!==t.b2BodyType.b2_staticBody&&P.SetAwake(!0),r.AddBody(P))):(P.m_sweep.Copy(L),P.SynchronizeTransform())}}}}}var U=e.SolveTOI_s_subStep;U.dt=(1-A)*i.dt,U.inv_dt=1/U.dt,U.dtRatio=1,U.positionIterations=20,U.velocityIterations=i.velocityIterations,U.particleIterations=i.particleIterations,U.warmStarting=!1,r.SolveTOI(U,k.m_islandIndex,D.m_islandIndex);for(var O=0;O<r.m_bodyCount;++O){var Y=r.m_bodies[O];if(Y.m_islandFlag=!1,Y.m_type===t.b2BodyType.b2_dynamicBody){Y.SynchronizeFixtures();for(var H=Y.m_contactList;H;H=H.next)H.contact.m_toiFlag=!1,H.contact.m_islandFlag=!1}}if(this.m_contactManager.FindNewContacts(),this.m_subStepping){this.m_stepComplete=!1;break}}else a.SetEnabled(!1),k.m_sweep.Copy(M),D.m_sweep.Copy(R),k.SynchronizeTransform(),D.SynchronizeTransform()}}},{key:"AddController",value:function(t){return t.m_next=this.m_controllerList,t.m_prev=null,this.m_controllerList&&(this.m_controllerList.m_prev=t),this.m_controllerList=t,++this.m_controllerCount,t}},{key:"RemoveController",value:function(t){return t.m_prev&&(t.m_prev.m_next=t.m_next),t.m_next&&(t.m_next.m_prev=t.m_prev),this.m_controllerList===t&&(this.m_controllerList=t.m_next),--this.m_controllerCount,t.m_prev=null,t.m_next=null,t}}],[{key:"_Joint_Create",value:function(e,i){switch(e.type){case t.b2JointType.e_distanceJoint:return new mi(e);case t.b2JointType.e_mouseJoint:return new yi(e);case t.b2JointType.e_prismaticJoint:return new Ci(e);case t.b2JointType.e_revoluteJoint:return new Ii(e);case t.b2JointType.e_pulleyJoint:return new vi(e);case t.b2JointType.e_gearJoint:return new di(e);case t.b2JointType.e_wheelJoint:return new wi(e);case t.b2JointType.e_weldJoint:return new Ei(e);case t.b2JointType.e_frictionJoint:return new gi(e);case t.b2JointType.e_ropeJoint:return new Bi(e);case t.b2JointType.e_motorJoint:return new pi(e);case t.b2JointType.e_areaJoint:return new _i(e)}throw new Error}},{key:"_Joint_Destroy",value:function(t,e){}}]),e}();Hn.Step_s_step=new Ji,Hn.Step_s_stepTimer=new L,Hn.Step_s_timer=new L,Hn.DrawDebugData_s_color=new N(0,0,0),Hn.DrawDebugData_s_vs=k.MakeArray(4),Hn.DrawDebugData_s_xf=new G,Hn.QueryFixtureShape_s_aabb=new It,Hn.RayCast_s_input=new Ct,Hn.RayCast_s_output=new vt,Hn.RayCast_s_point=new k,Hn.DrawJoint_s_p1=new k,Hn.DrawJoint_s_p2=new k,Hn.DrawJoint_s_color=new N(.5,.8,.8),Hn.DrawJoint_s_c=new N,Hn.DrawShape_s_ghostColor=new N,Hn.SolveTOI_s_subStep=new Ji,Hn.SolveTOI_s_backup=new P,Hn.SolveTOI_s_backup1=new P,Hn.SolveTOI_s_backup2=new P,Hn.SolveTOI_s_toi_input=new Ht,Hn.SolveTOI_s_toi_output=new Jt;var Jn=function t(e,i){_classCallCheck2(this,t),this.prevBody=null,this.nextBody=null,this.prevController=null,this.nextController=null,this.controller=e,this.body=i},jn=function(){function t(){_classCallCheck2(this,t),this.m_bodyList=null,this.m_bodyCount=0,this.m_prev=null,this.m_next=null}return _createClass2(t,[{key:"GetNext",value:function(){return this.m_next}},{key:"GetPrev",value:function(){return this.m_prev}},{key:"GetBodyList",value:function(){return this.m_bodyList}},{key:"AddBody",value:function(t){var e=new Jn(this,t);e.nextBody=this.m_bodyList,e.prevBody=null,this.m_bodyList&&(this.m_bodyList.prevBody=e),this.m_bodyList=e,++this.m_bodyCount,e.nextController=t.m_controllerList,e.prevController=null,t.m_controllerList&&(t.m_controllerList.prevController=e),t.m_controllerList=e,++t.m_controllerCount}},{key:"RemoveBody",value:function(t){if(this.m_bodyCount<=0)throw new Error;for(var e=this.m_bodyList;e&&e.body!==t;)e=e.nextBody;if(null===e)throw new Error;e.prevBody&&(e.prevBody.nextBody=e.nextBody),e.nextBody&&(e.nextBody.prevBody=e.prevBody),this.m_bodyList===e&&(this.m_bodyList=e.nextBody),--this.m_bodyCount,e.nextController&&(e.nextController.prevController=e.prevController),e.prevController&&(e.prevController.nextController=e.nextController),t.m_controllerList===e&&(t.m_controllerList=e.nextController),--t.m_controllerCount}},{key:"Clear",value:function(){for(;this.m_bodyList;)this.RemoveBody(this.m_bodyList.body);this.m_bodyCount=0}}]),t}(),Kn=function(t){function e(){var t;return _classCallCheck2(this,e),(t=_possibleConstructorReturn(this,_getPrototypeOf(e).apply(this,arguments))).A=new k(0,0),t}return _inherits(e,t),_createClass2(e,[{key:"Step",value:function(t){for(var i=k.MulSV(t.dt,this.A,e.Step_s_dtA),n=this.m_bodyList;n;n=n.nextBody){var r=n.body;r.IsAwake()&&r.SetLinearVelocity(k.AddVV(r.GetLinearVelocity(),i,k.s_t0))}}},{key:"Draw",value:function(t){}}]),e}(jn);Kn.Step_s_dtA=new k;var qn=function(t){function e(){var t;return _classCallCheck2(this,e),(t=_possibleConstructorReturn(this,_getPrototypeOf(e).apply(this,arguments))).G=1,t.invSqr=!0,t}return _inherits(e,t),_createClass2(e,[{key:"Step",value:function(t){if(this.invSqr)for(var i=this.m_bodyList;i;i=i.nextBody)for(var r=i.body,s=r.GetWorldCenter(),o=r.GetMass(),a=this.m_bodyList;a&&a!==i;a=a.nextBody){var A=a.body,l=A.GetWorldCenter(),u=A.GetMass(),h=l.x-s.x,c=l.y-s.y,f=h*h+c*c;if(!(f<n)){var m=e.Step_s_f.Set(h,c);m.SelfMul(this.G/f/B(f)*o*u),r.IsAwake()&&r.ApplyForce(m,s),A.IsAwake()&&A.ApplyForce(m.SelfMul(-1),l)}}else for(var _=this.m_bodyList;_;_=_.nextBody)for(var g=_.body,d=g.GetWorldCenter(),p=g.GetMass(),y=this.m_bodyList;y&&y!==_;y=y.nextBody){var C=y.body,v=C.GetWorldCenter(),I=C.GetMass(),E=v.x-d.x,w=v.y-d.y,b=E*E+w*w;if(!(b<n)){var x=e.Step_s_f.Set(E,w);x.SelfMul(this.G/b*p*I),g.IsAwake()&&g.ApplyForce(x,d),C.IsAwake()&&C.ApplyForce(x.SelfMul(-1),v)}}}},{key:"Draw",value:function(t){}}]),e}(jn);qn.Step_s_f=new k;var zn=function(t){function e(){var t;return _classCallCheck2(this,e),(t=_possibleConstructorReturn(this,_getPrototypeOf(e).apply(this,arguments))).T=new R,t.maxTimestep=0,t}return _inherits(e,t),_createClass2(e,[{key:"Step",value:function(t){var i=t.dt;if(!(i<=n)){i>this.maxTimestep&&this.maxTimestep>0&&(i=this.maxTimestep);for(var r=this.m_bodyList;r;r=r.nextBody){var s=r.body;if(s.IsAwake()){var o=s.GetWorldVector(R.MulMV(this.T,s.GetLocalVector(s.GetLinearVelocity(),k.s_t0),k.s_t1),e.Step_s_damping);s.SetLinearVelocity(k.AddVV(s.GetLinearVelocity(),k.MulSV(i,o,k.s_t0),k.s_t1))}}}}},{key:"Draw",value:function(t){}},{key:"SetAxisAligned",value:function(t,e){this.T.ex.x=-t,this.T.ex.y=0,this.T.ey.x=0,this.T.ey.y=-e,this.maxTimestep=t>0||e>0?1/p(t,e):0}}]),e}(jn);zn.Step_s_damping=new k;var Xn=function(){function t(){_classCallCheck2(this,t),this.m_count=0,this.m_ps=[],this.m_p0s=[],this.m_vs=[],this.m_ims=[],this.m_Ls=[],this.m_as=[],this.m_gravity=new k,this.m_damping=0,this.m_k2=1,this.m_k3=.1}return _createClass2(t,[{key:"GetVertexCount",value:function(){return this.m_count}},{key:"GetVertices",value:function(){return this.m_ps}},{key:"Initialize",value:function(t){this.m_count=t.count,this.m_ps=k.MakeArray(this.m_count),this.m_p0s=k.MakeArray(this.m_count),this.m_vs=k.MakeArray(this.m_count),this.m_ims=_(this.m_count);for(var e=0;e<this.m_count;++e){this.m_ps[e].Copy(t.vertices[e]),this.m_p0s[e].Copy(t.vertices[e]),this.m_vs[e].SetZero();var i=t.masses[e];this.m_ims[e]=i>0?1/i:0}var n=this.m_count-1,r=this.m_count-2;this.m_Ls=_(n),this.m_as=_(r);for(var s=0;s<n;++s)this.m_Ls[s]=k.DistanceVV(this.m_ps[s],this.m_ps[s+1]);for(var o=0;o<r;++o){var a=this.m_ps[o+1],A=this.m_ps[o+2],l=k.SubVV(a,this.m_ps[o],k.s_t0),u=k.SubVV(A,a,k.s_t1),h=k.CrossVV(l,u),c=k.DotVV(l,u);this.m_as[o]=Q(h,c)}this.m_gravity.Copy(t.gravity),this.m_damping=t.damping,this.m_k2=t.k2,this.m_k3=t.k3}},{key:"Step",value:function(t,e){if(0!==t){for(var i=Math.exp(-t*this.m_damping),n=0;n<this.m_count;++n)this.m_p0s[n].Copy(this.m_ps[n]),this.m_ims[n]>0&&this.m_vs[n].SelfMulAdd(t,this.m_gravity),this.m_vs[n].SelfMul(i),this.m_ps[n].SelfMulAdd(t,this.m_vs[n]);for(var r=0;r<e;++r)this.SolveC2(),this.SolveC3(),this.SolveC2();for(var s=1/t,o=0;o<this.m_count;++o)k.MulSV(s,k.SubVV(this.m_ps[o],this.m_p0s[o],k.s_t0),this.m_vs[o])}}},{key:"SolveC2",value:function(){for(var e=this.m_count-1,i=0;i<e;++i){var n=this.m_ps[i],r=this.m_ps[i+1],s=k.SubVV(r,n,t.s_d),o=s.Normalize(),a=this.m_ims[i],A=this.m_ims[i+1];if(a+A!==0){var l=A/(a+A);n.SelfMulSub(this.m_k2*(a/(a+A))*(this.m_Ls[i]-o),s),r.SelfMulAdd(this.m_k2*l*(this.m_Ls[i]-o),s)}}}},{key:"SetAngle",value:function(t){for(var e=this.m_count-2,i=0;i<e;++i)this.m_as[i]=t}},{key:"SolveC3",value:function(){for(var e=this.m_count-2,i=0;i<e;++i){var n=this.m_ps[i],r=this.m_ps[i+1],o=this.m_ps[i+2],a=this.m_ims[i],A=this.m_ims[i+1],l=this.m_ims[i+2],u=k.SubVV(r,n,t.s_d1),h=k.SubVV(o,r,t.s_d2),c=u.LengthSquared(),f=h.LengthSquared();if(c*f!=0){var m=k.CrossVV(u,h),_=k.DotVV(u,h),g=Q(m,_),d=k.MulSV(-1/c,u.SelfSkew(),t.s_Jd1),p=k.MulSV(1/f,h.SelfSkew(),t.s_Jd2),y=k.NegV(d,t.s_J1),C=k.SubVV(d,p,t.s_J2),v=p,I=a*k.DotVV(y,y)+A*k.DotVV(C,C)+l*k.DotVV(v,v);if(0!==I){I=1/I;for(var B=g-this.m_as[i];B>s;)B=(g-=2*s)-this.m_as[i];for(;B<-s;)B=(g+=2*s)-this.m_as[i];var E=-this.m_k3*I*B;n.SelfMulAdd(a*E,y),r.SelfMulAdd(A*E,C),o.SelfMulAdd(l*E,v)}}}}},{key:"Draw",value:function(t){for(var e=new N(.4,.5,.7),i=0;i<this.m_count-1;++i)t.DrawSegment(this.m_ps[i],this.m_ps[i+1],e)}}]),t}();Xn.s_d=new k,Xn.s_d1=new k,Xn.s_d2=new k,Xn.s_Jd1=new k,Xn.s_Jd2=new k,Xn.s_J1=new k,Xn.s_J2=new k,t.b2Assert=function(t){for(var e=arguments.length,i=new Array(e>1?e-1:0),n=1;n<e;n++)i[n-1]=arguments[n];if(!t)throw _construct(Error,i)},t.b2Maybe=e,t.b2_maxFloat=i,t.b2_epsilon=n,t.b2_epsilon_sq=r,t.b2_pi=s,t.b2_maxManifoldPoints=o,t.b2_maxPolygonVertices=a,t.b2_aabbExtension=.1,t.b2_aabbMultiplier=2,t.b2_linearSlop=A,t.b2_angularSlop=l,t.b2_polygonRadius=u,t.b2_maxSubSteps=8,t.b2_maxTOIContacts=32,t.b2_velocityThreshold=1,t.b2_maxLinearCorrection=.2,t.b2_maxAngularCorrection=.13962634015955555,t.b2_maxTranslation=2,t.b2_maxTranslationSquared=4,t.b2_maxRotation=1.570796326795,t.b2_maxRotationSquared=2.4674011002726646,t.b2_baumgarte=.2,t.b2_toiBaumgarte=.75,t.b2_invalidParticleIndex=h,t.b2_maxParticleIndex=2147483647,t.b2_particleStride=.75,t.b2_minParticleWeight=1,t.b2_maxParticlePressure=.25,t.b2_maxParticleForce=.5,t.b2_maxTriadDistance=2,t.b2_maxTriadDistanceSquared=4,t.b2_minParticleSystemBufferCapacity=256,t.b2_barrierCollisionTime=2.5,t.b2_timeToSleep=.5,t.b2_linearSleepTolerance=.01,t.b2_angularSleepTolerance=.03490658503988889,t.b2Alloc=function(t){return null},t.b2Free=function(t){},t.b2Log=function(t){},t.b2Version=c,t.b2_version=f,t.b2_branch="master",t.b2_commit="fbf51801d80fc389d43dc46524520e89043b6faf",t.b2ParseInt=function(t){return parseInt(t,10)},t.b2ParseUInt=function(t){return Math.abs(parseInt(t,10))},t.b2MakeArray=m,t.b2MakeNullArray=function(t){for(var e=[],i=0;i<t;++i)e.push(null);return e},t.b2MakeNumberArray=_,t.b2_pi_over_180=.017453292519944444,t.b2_180_over_pi=57.29577951307855,t.b2_two_pi=6.28318530718,t.b2Abs=g,t.b2Min=d,t.b2Max=p,t.b2Clamp=y,t.b2Swap=function(t,e){var i=t[0];t[0]=e[0],e[0]=i},t.b2IsValid=C,t.b2Sq=v,t.b2InvSqrt=I,t.b2Sqrt=B,t.b2Pow=E,t.b2DegToRad=function(t){return.017453292519944444*t},t.b2RadToDeg=function(t){return 57.29577951307855*t},t.b2Cos=w,t.b2Sin=b,t.b2Acos=x,t.b2Asin=S,t.b2Atan2=Q,t.b2NextPowerOfTwo=function(t){return t|=t>>1&2147483647,t|=t>>2&1073741823,t|=t>>4&268435455,1+((t|=t>>8&16777215)|t>>16&65535)},t.b2IsPowerOfTwo=function(t){return t>0&&0==(t&t-1)},t.b2Random=function(){return 2*Math.random()-1},t.b2RandomRange=function(t,e){return(e-t)*Math.random()+t},t.b2Vec2=k,t.b2Vec2_zero=D,t.b2Vec3=M,t.b2Mat22=R,t.b2Mat33=V,t.b2Rot=T,t.b2Transform=G,t.b2Sweep=P,t.b2Color=N,t.b2Draw=function(){function t(){_classCallCheck2(this,t),this.m_drawFlags=0}return _createClass2(t,[{key:"SetFlags",value:function(t){this.m_drawFlags=t}},{key:"GetFlags",value:function(){return this.m_drawFlags}},{key:"AppendFlags",value:function(t){this.m_drawFlags|=t}},{key:"ClearFlags",value:function(t){this.m_drawFlags&=~t}}]),t}(),t.b2Timer=L,t.b2Counter=function(){function t(){_classCallCheck2(this,t),this.m_count=0,this.m_min_count=0,this.m_max_count=0}return _createClass2(t,[{key:"GetCount",value:function(){return this.m_count}},{key:"GetMinCount",value:function(){return this.m_min_count}},{key:"GetMaxCount",value:function(){return this.m_max_count}},{key:"ResetCount",value:function(){var t=this.m_count;return this.m_count=0,t}},{key:"ResetMinCount",value:function(){this.m_min_count=0}},{key:"ResetMaxCount",value:function(){this.m_max_count=0}},{key:"Increment",value:function(){this.m_count++,this.m_max_count<this.m_count&&(this.m_max_count=this.m_count)}},{key:"Decrement",value:function(){this.m_count--,this.m_min_count>this.m_count&&(this.m_min_count=this.m_count)}}]),t}(),t.b2GrowableStack=U,t.b2BlockAllocator=function(){return function t(){_classCallCheck2(this,t)}}(),t.b2StackAllocator=function(){return function t(){_classCallCheck2(this,t)}}(),t.b2ContactFeature=mt,t.b2ContactID=_t,t.b2ManifoldPoint=gt,t.b2Manifold=dt,t.b2WorldManifold=pt,t.b2GetPointStates=function(e,i,n,r){var s;for(s=0;s<n.pointCount;++s){var a=n.points[s].id.key;e[s]=t.b2PointState.b2_removeState;for(var A=0,l=r.pointCount;A<l;++A)if(r.points[A].id.key===a){e[s]=t.b2PointState.b2_persistState;break}}for(;s<o;++s)e[s]=t.b2PointState.b2_nullState;for(s=0;s<r.pointCount;++s){var u=r.points[s].id.key;i[s]=t.b2PointState.b2_addState;for(var h=0,c=n.pointCount;h<c;++h)if(n.points[h].id.key===u){i[s]=t.b2PointState.b2_persistState;break}}for(;s<o;++s)i[s]=t.b2PointState.b2_nullState},t.b2ClipVertex=yt,t.b2RayCastInput=Ct,t.b2RayCastOutput=vt,t.b2AABB=It,t.b2TestOverlapAABB=Bt,t.b2ClipSegmentToLine=Et,t.b2TestOverlapShape=St,t.b2DistanceProxy=O,t.b2SimplexCache=Y,t.b2DistanceInput=H,t.b2DistanceOutput=J,t.b2ShapeCastInput=function(){return function t(){_classCallCheck2(this,t),this.proxyA=new O,this.proxyB=new O,this.transformA=new G,this.transformB=new G,this.translationB=new k}}(),t.b2ShapeCastOutput=function(){return function t(){_classCallCheck2(this,t),this.point=new k,this.normal=new k,this.lambda=0,this.iterations=0}}(),t.b2_gjk_reset=function(){t.b2_gjkCalls=0,t.b2_gjkIters=0,t.b2_gjkMaxIters=0},t.b2SimplexVertex=j,t.b2Simplex=K,t.b2Distance=it,t.b2ShapeCast=function(t,e){t.iterations=0,t.lambda=1,t.normal.SetZero(),t.point.SetZero();var i=e.proxyA,n=e.proxyB,r=p(i.m_radius,u)+p(n.m_radius,u),s=e.transformA,o=e.transformB,a=e.translationB,l=ot.Set(0,0),h=0,c=at;c.m_count=0;for(var f=c.m_vertices,m=i.GetSupport(T.MulTRV(s.q,k.NegV(a,k.s_t1),k.s_t0)),_=G.MulXV(s,i.GetVertex(m),At),d=n.GetSupport(T.MulTRV(o.q,a,k.s_t0)),y=G.MulXV(o,n.GetVertex(d),lt),C=k.SubVV(_,y,ut),v=p(u,r-u),I=.5*A,B=0;B<20&&g(C.Length()-v)>I;){t.iterations+=1,m=i.GetSupport(T.MulTRV(s.q,k.NegV(C,k.s_t1),k.s_t0)),_=G.MulXV(s,i.GetVertex(m),At),d=n.GetSupport(T.MulTRV(o.q,C,k.s_t0)),y=G.MulXV(o,n.GetVertex(d),lt);var E=k.SubVV(_,y,ht);C.Normalize();var w=k.DotVV(C,E),b=k.DotVV(C,a);if(w-v>h*b){if(b<=0)return!1;if((h=(w-v)/b)>1)return!1;l.Copy(C).SelfNeg(),c.m_count=0}var x=f[c.m_count];switch(x.indexA=d,x.wA.Copy(y).SelfMulAdd(h,a),x.indexB=m,x.wB.Copy(_),x.w.Copy(x.wB).SelfSub(x.wA),x.a=1,c.m_count+=1,c.m_count){case 1:break;case 2:c.Solve2();break;case 3:c.Solve3()}if(3===c.m_count)return!1;c.GetClosestPoint(C),++B}return c.GetWitnessPoints(ct,ft),C.LengthSquared()>0&&(l.Copy(C).SelfNeg(),l.Normalize()),t.normal.Copy(l),t.lambda=h,t.iterations=B,!0},t.b2Pair=Mt,t.b2BroadPhase=Rt,t.b2PairLessThan=Vt,t.b2TreeNode=kt,t.b2DynamicTree=Dt,t.b2_toi_reset=function(){t.b2_toiTime=0,t.b2_toiMaxTime=0,t.b2_toiCalls=0,t.b2_toiIters=0,t.b2_toiMaxIters=0,t.b2_toiRootIters=0,t.b2_toiMaxRootIters=0},t.b2TOIInput=Ht,t.b2TOIOutput=Jt,t.b2SeparationFunction=jt,t.b2TimeOfImpact=ie,t.b2CollideCircles=se,t.b2CollidePolygonAndCircle=le,t.b2CollidePolygons=Me,t.b2CollideEdgeAndCircle=Ye,t.b2CollideEdgeAndPolygon=qe,t.b2MassData=$e,t.b2Shape=ti,t.b2CircleShape=ei,t.b2PolygonShape=ii,t.b2EdgeShape=ni,t.b2ChainShape=ri,t.b2Filter=si,t.b2FixtureDef=oi,t.b2FixtureProxy=ai,t.b2Fixture=Ai,t.b2BodyDef=function(){return function e(){_classCallCheck2(this,e),this.type=t.b2BodyType.b2_staticBody,this.position=new k(0,0),this.angle=0,this.linearVelocity=new k(0,0),this.angularVelocity=0,this.linearDamping=0,this.angularDamping=0,this.allowSleep=!0,this.awake=!0,this.fixedRotation=!1,this.bullet=!1,this.active=!0,this.userData=null,this.gravityScale=1}}(),t.b2Body=li,t.b2World=Hn,t.b2DestructionListener=function(){function t(){_classCallCheck2(this,t)}return _createClass2(t,[{key:"SayGoodbyeJoint",value:function(t){}},{key:"SayGoodbyeFixture",value:function(t){}},{key:"SayGoodbyeParticleGroup",value:function(t){}},{key:"SayGoodbyeParticle",value:function(t,e){}}]),t}(),t.b2ContactFilter=Ni,t.b2ContactImpulse=Li,t.b2ContactListener=Ui,t.b2QueryCallback=Oi,t.b2RayCastCallback=function(){function t(){_classCallCheck2(this,t)}return _createClass2(t,[{key:"ReportFixture",value:function(t,e,i,n){return n}},{key:"ReportParticle",value:function(t,e,i,n,r){return 0}},{key:"ShouldQueryParticleSystem",value:function(t){return!0}}]),t}(),t.b2Island=rn,t.b2Profile=Hi,t.b2TimeStep=Ji,t.b2Position=ji,t.b2Velocity=Ki,t.b2SolverData=qi,t.b2ContactManager=Yi,t.b2MixFriction=bi,t.b2MixRestitution=xi,t.b2ContactEdge=Si,t.b2Contact=Qi,t.b2ContactRegister=Fi,t.b2ContactFactory=Pi,t.g_blockSolve=!1,t.b2VelocityConstraintPoint=zi,t.b2ContactVelocityConstraint=Xi,t.b2ContactPositionConstraint=Wi,t.b2ContactSolverDef=Zi,t.b2PositionSolverManifold=$i,t.b2ContactSolver=tn,t.b2CircleContact=ki,t.b2PolygonContact=Di,t.b2PolygonAndCircleContact=Mi,t.b2EdgeAndCircleContact=Ri,t.b2EdgeAndPolygonContact=Vi,t.b2ChainAndCircleContact=Ti,t.b2ChainAndPolygonContact=Gi,t.b2Jacobian=function(){function t(){_classCallCheck2(this,t),this.linear=new k,this.angularA=0,this.angularB=0}return _createClass2(t,[{key:"SetZero",value:function(){return this.linear.SetZero(),this.angularA=0,this.angularB=0,this}},{key:"Set",value:function(t,e,i){return this.linear.Copy(t),this.angularA=e,this.angularB=i,this}}]),t}(),t.b2JointEdge=ui,t.b2JointDef=hi,t.b2Joint=ci,t.b2AreaJointDef=function(e){function i(){var e;return _classCallCheck2(this,i),(e=_possibleConstructorReturn(this,_getPrototypeOf(i).call(this,t.b2JointType.e_areaJoint))).bodies=[],e.frequencyHz=0,e.dampingRatio=0,e}return _inherits(i,e),_createClass2(i,[{key:"AddBody",value:function(t){this.bodies.push(t),1===this.bodies.length?this.bodyA=t:2===this.bodies.length&&(this.bodyB=t)}}]),i}(hi),t.b2AreaJoint=_i,t.b2DistanceJointDef=fi,t.b2DistanceJoint=mi,t.b2FrictionJointDef=function(e){function i(){var e;return _classCallCheck2(this,i),(e=_possibleConstructorReturn(this,_getPrototypeOf(i).call(this,t.b2JointType.e_frictionJoint))).localAnchorA=new k,e.localAnchorB=new k,e.maxForce=0,e.maxTorque=0,e}return _inherits(i,e),_createClass2(i,[{key:"Initialize",value:function(t,e,i){this.bodyA=t,this.bodyB=e,this.bodyA.GetLocalPoint(i,this.localAnchorA),this.bodyB.GetLocalPoint(i,this.localAnchorB)}}]),i}(hi),t.b2FrictionJoint=gi,t.b2GearJointDef=function(e){function i(){var e;return _classCallCheck2(this,i),(e=_possibleConstructorReturn(this,_getPrototypeOf(i).call(this,t.b2JointType.e_gearJoint))).ratio=1,e}return _inherits(i,e),i}(hi),t.b2GearJoint=di,t.b2MotorJointDef=function(e){function i(){var e;return _classCallCheck2(this,i),(e=_possibleConstructorReturn(this,_getPrototypeOf(i).call(this,t.b2JointType.e_motorJoint))).linearOffset=new k(0,0),e.angularOffset=0,e.maxForce=1,e.maxTorque=1,e.correctionFactor=.3,e}return _inherits(i,e),_createClass2(i,[{key:"Initialize",value:function(t,e){this.bodyA=t,this.bodyB=e,this.bodyA.GetLocalPoint(this.bodyB.GetPosition(),this.linearOffset);var i=this.bodyA.GetAngle(),n=this.bodyB.GetAngle();this.angularOffset=n-i}}]),i}(hi),t.b2MotorJoint=pi,t.b2MouseJointDef=function(e){function i(){var e;return _classCallCheck2(this,i),(e=_possibleConstructorReturn(this,_getPrototypeOf(i).call(this,t.b2JointType.e_mouseJoint))).target=new k,e.maxForce=0,e.frequencyHz=5,e.dampingRatio=.7,e}return _inherits(i,e),i}(hi),t.b2MouseJoint=yi,t.b2PrismaticJointDef=function(e){function i(){var e;return _classCallCheck2(this,i),(e=_possibleConstructorReturn(this,_getPrototypeOf(i).call(this,t.b2JointType.e_prismaticJoint))).localAnchorA=new k,e.localAnchorB=new k,e.localAxisA=new k(1,0),e.referenceAngle=0,e.enableLimit=!1,e.lowerTranslation=0,e.upperTranslation=0,e.enableMotor=!1,e.maxMotorForce=0,e.motorSpeed=0,e}return _inherits(i,e),_createClass2(i,[{key:"Initialize",value:function(t,e,i,n){this.bodyA=t,this.bodyB=e,this.bodyA.GetLocalPoint(i,this.localAnchorA),this.bodyB.GetLocalPoint(i,this.localAnchorB),this.bodyA.GetLocalVector(n,this.localAxisA),this.referenceAngle=this.bodyB.GetAngle()-this.bodyA.GetAngle()}}]),i}(hi),t.b2PrismaticJoint=Ci,t.b2_minPulleyLength=2,t.b2PulleyJointDef=function(e){function i(){var e;return _classCallCheck2(this,i),(e=_possibleConstructorReturn(this,_getPrototypeOf(i).call(this,t.b2JointType.e_pulleyJoint))).groundAnchorA=new k(-1,1),e.groundAnchorB=new k(1,1),e.localAnchorA=new k(-1,0),e.localAnchorB=new k(1,0),e.lengthA=0,e.lengthB=0,e.ratio=1,e.collideConnected=!0,e}return _inherits(i,e),_createClass2(i,[{key:"Initialize",value:function(t,e,i,n,r,s,o){this.bodyA=t,this.bodyB=e,this.groundAnchorA.Copy(i),this.groundAnchorB.Copy(n),this.bodyA.GetLocalPoint(r,this.localAnchorA),this.bodyB.GetLocalPoint(s,this.localAnchorB),this.lengthA=k.DistanceVV(r,i),this.lengthB=k.DistanceVV(s,n),this.ratio=o}}]),i}(hi),t.b2PulleyJoint=vi,t.b2RevoluteJointDef=function(e){function i(){var e;return _classCallCheck2(this,i),(e=_possibleConstructorReturn(this,_getPrototypeOf(i).call(this,t.b2JointType.e_revoluteJoint))).localAnchorA=new k(0,0),e.localAnchorB=new k(0,0),e.referenceAngle=0,e.enableLimit=!1,e.lowerAngle=0,e.upperAngle=0,e.enableMotor=!1,e.motorSpeed=0,e.maxMotorTorque=0,e}return _inherits(i,e),_createClass2(i,[{key:"Initialize",value:function(t,e,i){this.bodyA=t,this.bodyB=e,this.bodyA.GetLocalPoint(i,this.localAnchorA),this.bodyB.GetLocalPoint(i,this.localAnchorB),this.referenceAngle=this.bodyB.GetAngle()-this.bodyA.GetAngle()}}]),i}(hi),t.b2RevoluteJoint=Ii,t.b2RopeJointDef=function(e){function i(){var e;return _classCallCheck2(this,i),(e=_possibleConstructorReturn(this,_getPrototypeOf(i).call(this,t.b2JointType.e_ropeJoint))).localAnchorA=new k(-1,0),e.localAnchorB=new k(1,0),e.maxLength=0,e}return _inherits(i,e),i}(hi),t.b2RopeJoint=Bi,t.b2WeldJointDef=function(e){function i(){var e;return _classCallCheck2(this,i),(e=_possibleConstructorReturn(this,_getPrototypeOf(i).call(this,t.b2JointType.e_weldJoint))).localAnchorA=new k,e.localAnchorB=new k,e.referenceAngle=0,e.frequencyHz=0,e.dampingRatio=0,e}return _inherits(i,e),_createClass2(i,[{key:"Initialize",value:function(t,e,i){this.bodyA=t,this.bodyB=e,this.bodyA.GetLocalPoint(i,this.localAnchorA),this.bodyB.GetLocalPoint(i,this.localAnchorB),this.referenceAngle=this.bodyB.GetAngle()-this.bodyA.GetAngle()}}]),i}(hi),t.b2WeldJoint=Ei,t.b2WheelJointDef=function(e){function i(){var e;return _classCallCheck2(this,i),(e=_possibleConstructorReturn(this,_getPrototypeOf(i).call(this,t.b2JointType.e_wheelJoint))).localAnchorA=new k(0,0),e.localAnchorB=new k(0,0),e.localAxisA=new k(1,0),e.enableMotor=!1,e.maxMotorTorque=0,e.motorSpeed=0,e.frequencyHz=2,e.dampingRatio=.7,e}return _inherits(i,e),_createClass2(i,[{key:"Initialize",value:function(t,e,i,n){this.bodyA=t,this.bodyB=e,this.bodyA.GetLocalPoint(i,this.localAnchorA),this.bodyB.GetLocalPoint(i,this.localAnchorB),this.bodyA.GetLocalVector(n,this.localAxisA)}}]),i}(hi),t.b2WheelJoint=wi,t.b2ControllerEdge=Jn,t.b2Controller=jn,t.b2BuoyancyController=function(t){function e(){var t;return _classCallCheck2(this,e),(t=_possibleConstructorReturn(this,_getPrototypeOf(e).apply(this,arguments))).normal=new k(0,1),t.offset=0,t.density=0,t.velocity=new k(0,0),t.linearDrag=0,t.angularDrag=0,t.useDensity=!1,t.useWorldGravity=!0,t.gravity=new k(0,0),t}return _inherits(e,t),_createClass2(e,[{key:"Step",value:function(t){if(this.m_bodyList){this.useWorldGravity&&this.gravity.Copy(this.m_bodyList.body.GetWorld().GetGravity());for(var e=this.m_bodyList;e;e=e.nextBody){var i=e.body;if(i.IsAwake()){for(var r=new k,s=new k,o=0,a=0,A=i.GetFixtureList();A;A=A.m_next){var l=new k,u=A.GetShape().ComputeSubmergedArea(this.normal,this.offset,i.GetTransform(),l);o+=u,r.x+=u*l.x,r.y+=u*l.y;var h;a+=u*(h=this.useDensity?A.GetDensity():1),s.x+=u*l.x*h,s.y+=u*l.y*h}if(r.x/=o,r.y/=o,s.x/=a,s.y/=a,!(o<n)){var c=this.gravity.Clone().SelfNeg();c.SelfMul(this.density*o),i.ApplyForce(c,s);var f=i.GetLinearVelocityFromWorldPoint(r,new k);f.SelfSub(this.velocity),f.SelfMul(-this.linearDrag*o),i.ApplyForce(f,r),i.ApplyTorque(-i.GetInertia()/i.GetMass()*o*i.GetAngularVelocity()*this.angularDrag)}}}}}},{key:"Draw",value:function(t){var e=100,i=new k,n=new k;i.x=this.normal.x*this.offset+this.normal.y*e,i.y=this.normal.y*this.offset-this.normal.x*e,n.x=this.normal.x*this.offset-this.normal.y*e,n.y=this.normal.y*this.offset+this.normal.x*e;var r=new N(0,0,.8);t.DrawSegment(i,n,r)}}]),e}(jn),t.b2ConstantAccelController=Kn,t.b2ConstantForceController=function(t){function e(){var t;return _classCallCheck2(this,e),(t=_possibleConstructorReturn(this,_getPrototypeOf(e).apply(this,arguments))).F=new k(0,0),t}return _inherits(e,t),_createClass2(e,[{key:"Step",value:function(t){for(var e=this.m_bodyList;e;e=e.nextBody){var i=e.body;i.IsAwake()&&i.ApplyForce(this.F,i.GetWorldCenter())}}},{key:"Draw",value:function(t){}}]),e}(jn),t.b2GravityController=qn,t.b2TensorDampingController=zn,t.b2ParticleDef=sn,t.b2CalculateParticleIterations=on,t.b2ParticleHandle=an,t.b2ParticleGroupDef=An,t.b2ParticleGroup=ln,t.b2GrowableBuffer=In,t.b2FixtureParticleQueryCallback=Bn,t.b2ParticleContact=En,t.b2ParticleBodyContact=wn,t.b2ParticlePair=bn,t.b2ParticleTriad=xn,t.b2ParticleSystemDef=Sn,t.b2ParticleSystem=Qn,t.b2ParticleSystem_UserOverridableBuffer=kn,t.b2ParticleSystem_Proxy=Dn,t.b2ParticleSystem_InsideBoundsEnumerator=Mn,t.b2ParticleSystem_ParticleListNode=Rn,t.b2ParticleSystem_FixedSetAllocator=Vn,t.b2ParticleSystem_FixtureParticle=function(){return function t(e,i){_classCallCheck2(this,t),this.second=h,this.first=e,this.second=i}}(),t.b2ParticleSystem_FixtureParticleSet=Tn,t.b2ParticleSystem_ParticlePair=function(){return function t(e,i){_classCallCheck2(this,t),this.first=h,this.second=h,this.first=e,this.second=i}}(),t.b2ParticlePairSet=Gn,t.b2ParticleSystem_ConnectionFilter=Fn,t.b2ParticleSystem_DestroyParticlesInShapeCallback=Pn,t.b2ParticleSystem_JoinParticleGroupsFilter=Nn,t.b2ParticleSystem_CompositeShape=Ln,t.b2ParticleSystem_ReactiveFilter=Un,t.b2ParticleSystem_UpdateBodyContactsCallback=On,t.b2ParticleSystem_SolveCollisionCallback=Yn,t.b2RopeDef=function(){return function t(){_classCallCheck2(this,t),this.vertices=[],this.count=0,this.masses=[],this.gravity=new k(0,0),this.damping=.1,this.k2=.9,this.k3=.1}}(),t.b2Rope=Xn,Object.defineProperty(t,"__esModule",{value:!0})}(e)},HDdC:function(t,e,i){"use strict";var n=i("7o/Q"),r=i("2QA8"),s=i("gRHU"),o=i("kJWO"),a=i("mCNh"),A=i("2fFW");i.d(e,"a",(function(){return u}));var l,u=((l=function(){function t(e){_classCallCheck2(this,t),this._isScalar=!1,e&&(this._subscribe=e)}return _createClass2(t,[{key:"lift",value:function(e){var i=new t;return i.source=this,i.operator=e,i}},{key:"subscribe",value:function(t,e,i){var o=this.operator,a=function(t,e,i){if(t){if(t instanceof n.a)return t;if(t[r.a])return t[r.a]()}return t||e||i?new n.a(t,e,i):new n.a(s.a)}(t,e,i);if(a.add(o?o.call(a,this.source):this.source||A.a.useDeprecatedSynchronousErrorHandling&&!a.syncErrorThrowable?this._subscribe(a):this._trySubscribe(a)),A.a.useDeprecatedSynchronousErrorHandling&&a.syncErrorThrowable&&(a.syncErrorThrowable=!1,a.syncErrorThrown))throw a.syncErrorValue;return a}},{key:"_trySubscribe",value:function(t){try{return this._subscribe(t)}catch(e){A.a.useDeprecatedSynchronousErrorHandling&&(t.syncErrorThrown=!0,t.syncErrorValue=e),function(t){for(;t;){var e=t,i=e.closed,r=e.destination,s=e.isStopped;if(i||s)return!1;t=r&&r instanceof n.a?r:null}return!0}(t)?t.error(e):console.warn(e)}}},{key:"forEach",value:function(t,e){var i=this;return new(e=h(e))((function(e,n){var r;r=i.subscribe((function(e){try{t(e)}catch(i){n(i),r&&r.unsubscribe()}}),n,e)}))}},{key:"_subscribe",value:function(t){var e=this.source;return e&&e.subscribe(t)}},{key:o.a,value:function(){return this}},{key:"pipe",value:function(){for(var t=arguments.length,e=new Array(t),i=0;i<t;i++)e[i]=arguments[i];return 0===e.length?this:Object(a.b)(e)(this)}},{key:"toPromise",value:function(t){var e=this;return new(t=h(t))((function(t,i){var n;e.subscribe((function(t){return n=t}),(function(t){return i(t)}),(function(){return t(n)}))}))}}]),t}()).create=function(t){return new l(t)},l);function h(t){if(t||(t=A.a.Promise||Promise),!t)throw new Error("no Promise impl found");return t}},I55L:function(t,e,i){"use strict";i.d(e,"a",(function(){return n}));var n=function(t){return t&&"number"==typeof t.length&&"function"!=typeof t}},"J/2F":function(t,e,i){var n,r,s;!function(i){var o=/iPhone/i,a=/iPod/i,A=/iPad/i,l=/\bAndroid(?:.+)Mobile\b/i,u=/Android/i,h=/\bAndroid(?:.+)SD4930UR\b/i,c=/\bAndroid(?:.+)(?:KF[A-Z]{2,4})\b/i,f=/Windows Phone/i,m=/\bWindows(?:.+)ARM\b/i,_=/BlackBerry/i,g=/BB10/i,d=/Opera Mini/i,p=/\b(CriOS|Chrome)(?:.+)Mobile/i,y=/Mobile(?:.+)Firefox\b/i;function C(t,e){return t.test(e)}function v(t){var e=t||("undefined"!=typeof navigator?navigator.userAgent:""),i=e.split("[FBAN");void 0!==i[1]&&(e=i[0]),void 0!==(i=e.split("Twitter"))[1]&&(e=i[0]);var n={apple:{phone:C(o,e)&&!C(f,e),ipod:C(a,e),tablet:!C(o,e)&&C(A,e)&&!C(f,e),device:(C(o,e)||C(a,e)||C(A,e))&&!C(f,e)},amazon:{phone:C(h,e),tablet:!C(h,e)&&C(c,e),device:C(h,e)||C(c,e)},android:{phone:!C(f,e)&&C(h,e)||!C(f,e)&&C(l,e),tablet:!C(f,e)&&!C(h,e)&&!C(l,e)&&(C(c,e)||C(u,e)),device:!C(f,e)&&(C(h,e)||C(c,e)||C(l,e)||C(u,e))||C(/\bokhttp\b/i,e)},windows:{phone:C(f,e),tablet:C(m,e),device:C(f,e)||C(m,e)},other:{blackberry:C(_,e),blackberry10:C(g,e),opera:C(d,e),firefox:C(y,e),chrome:C(p,e),device:C(_,e)||C(g,e)||C(d,e)||C(y,e)||C(p,e)}};return n.any=n.apple.device||n.android.device||n.windows.device||n.other.device,n.phone=n.apple.phone||n.android.phone||n.windows.phone,n.tablet=n.apple.tablet||n.android.tablet||n.windows.tablet,n}t.exports&&"undefined"==typeof window?t.exports=v:t.exports&&"undefined"!=typeof window?(t.exports=v(),t.exports.isMobile=v):(r=[],n=i.isMobile=v(),void 0===(s="function"==typeof n?n.apply(e,r):n)||(t.exports=s))}(this)},JeQM:function(t,e,i){"use strict";var n=function(t,e,i){var n=function(t,e,i){var n=new RegExp("\\b"+e+" \\w+ (\\w+)","ig");t.replace(n,(function(t,e){return i[e]=0,t}))},r=function(t,e,i){var n=t.createShader(i);return t.shaderSource(n,e),t.compileShader(n),t.getShaderParameter(n,t.COMPILE_STATUS)?n:(console.log(t.getShaderInfoLog(n)),null)};this.uniform={},this.attribute={};var s=r(t,e,t.VERTEX_SHADER),o=r(t,i,t.FRAGMENT_SHADER);for(var a in this.id=t.createProgram(),t.attachShader(this.id,s),t.attachShader(this.id,o),t.linkProgram(this.id),t.getProgramParameter(this.id,t.LINK_STATUS)||console.log(t.getProgramInfoLog(this.id)),t.useProgram(this.id),n(e,"attribute",this.attribute),this.attribute)this.attribute[a]=t.getAttribLocation(this.id,a);for(var A in n(e,"uniform",this.uniform),n(i,"uniform",this.uniform),this.uniform)this.uniform[A]=t.getUniformLocation(this.id,A)},r=new function(){var t=0,e=null,i=!1,r=-1,s=[null,null],o=[],a=-1,A=-1,l=null,u=null,h=document.createElement("canvas"),c=h.getContext("webgl")||h.getContext("experimental-webgl");if(!c)throw new Error("Couldn't get WebGL context");this.addFilter=function(t){for(var e=arguments.length,i=new Array(e>1?e-1:0),n=1;n<e;n++)i[n-1]=arguments[n];o.push({func:C[t],args:i})},this.reset=function(){o=[]},this.apply=function(n,r){if(f(n.width,n.height),t=0,e=c.createTexture(),c.bindTexture(c.TEXTURE_2D,e),c.texParameteri(c.TEXTURE_2D,c.TEXTURE_WRAP_S,c.CLAMP_TO_EDGE),c.texParameteri(c.TEXTURE_2D,c.TEXTURE_WRAP_T,c.CLAMP_TO_EDGE),c.texParameteri(c.TEXTURE_2D,c.TEXTURE_MIN_FILTER,c.NEAREST),c.texParameteri(c.TEXTURE_2D,c.TEXTURE_MAG_FILTER,c.NEAREST),c.texImage2D(c.TEXTURE_2D,0,c.RGBA,c.RGBA,c.UNSIGNED_BYTE,n),0===o.length)return d(y.FRAGMENT_IDENTITY),g(),h;for(var s=0;s<o.length;s++){i=s===o.length-1;var a=o[s];a.func.apply(this,a.args||[])}c.readPixels(0,0,c.drawingBufferWidth,c.drawingBufferHeight,c.RGBA,c.UNSIGNED_BYTE,r)};var f=function(t,e){if(t!==a||e!==A){if(h.width=a=t,h.height=A=e,!l){var i=new Float32Array([-1,-1,0,1,1,-1,1,1,-1,1,0,0,-1,1,0,0,1,-1,1,1,1,1,1,0]);l=c.createBuffer(),c.bindBuffer(c.ARRAY_BUFFER,l),c.bufferData(c.ARRAY_BUFFER,i,c.STATIC_DRAW),c.pixelStorei(c.UNPACK_PREMULTIPLY_ALPHA_WEBGL,!0)}c.viewport(0,0,a,A),s=[null,null]}},m=function(t){return s[t]=s[t]||_(a,A),s[t]},_=function(t,e){var i=c.createFramebuffer();c.bindFramebuffer(c.FRAMEBUFFER,i);var n=c.createRenderbuffer();c.bindRenderbuffer(c.RENDERBUFFER,n);var r=c.createTexture();return c.bindTexture(c.TEXTURE_2D,r),c.texImage2D(c.TEXTURE_2D,0,c.RGBA,t,e,0,c.RGBA,c.UNSIGNED_BYTE,null),c.texParameteri(c.TEXTURE_2D,c.TEXTURE_MAG_FILTER,c.LINEAR),c.texParameteri(c.TEXTURE_2D,c.TEXTURE_MIN_FILTER,c.LINEAR),c.texParameteri(c.TEXTURE_2D,c.TEXTURE_WRAP_S,c.CLAMP_TO_EDGE),c.texParameteri(c.TEXTURE_2D,c.TEXTURE_WRAP_T,c.CLAMP_TO_EDGE),c.framebufferTexture2D(c.FRAMEBUFFER,c.COLOR_ATTACHMENT0,c.TEXTURE_2D,r,0),c.bindTexture(c.TEXTURE_2D,null),c.bindFramebuffer(c.FRAMEBUFFER,null),{fbo:i,texture:r}},g=function(n){var s,o=null,a=!1;s=0===t?e:m(r).texture,t++,!i||n&p.INTERMEDIATE?o=m(r=(r+1)%2).fbo:(o=null,a=t%2==1),c.bindTexture(c.TEXTURE_2D,s),c.bindFramebuffer(c.FRAMEBUFFER,o),c.uniform1f(u.uniform.flipY,a?-1:1),c.drawArrays(c.TRIANGLES,0,6)},d=function(t){u=new n(c,y.VERTEX_IDENTITY,t);var e=Float32Array.BYTES_PER_ELEMENT,i=4*e;return c.enableVertexAttribArray(u.attribute.pos),c.vertexAttribPointer(u.attribute.pos,2,c.FLOAT,!1,i,0*e),c.enableVertexAttribArray(u.attribute.uv),c.vertexAttribPointer(u.attribute.uv,2,c.FLOAT,!1,i,2*e),u},p={INTERMEDIATE:1},y={};y.VERTEX_IDENTITY=["precision highp float;","attribute vec2 pos;","attribute vec2 uv;","varying vec2 vUv;","uniform float flipY;","void main(void) {","vUv = uv;","gl_Position = vec4(pos.x, pos.y*flipY, 0.0, 1.);","}"].join("\n"),y.FRAGMENT_IDENTITY=["precision highp float;","varying vec2 vUv;","uniform sampler2D texture;","void main(void) {","gl_FragColor = texture2D(texture, vUv);","}"].join("\n");var C={convolution:function(t){var e=arguments.length>1&&void 0!==arguments[1]&&arguments[1],i=1/a,n=1/A,r=I(t,e),s=d(r);c.uniform2f(s.uniform.px,i,n),g()}},v=new Map,I=function(t){var e=arguments.length>1&&void 0!==arguments[1]&&arguments[1],i=t.toString()+e.toString();if(!v.has(i)){var n=t.length;if(n<0||n>1e3||Math.sqrt(n)%1!=0)throw new Error("invalid matrixSize");var r=Math.sqrt(n);if(r%2!=1)throw new Error("invalid convSize");for(var s=Math.floor(r/2),o=0,a=e?"1.0 - ":"",A=[],l=["precision highp float;","varying vec2 vUv;","uniform sampler2D texture;","uniform vec2 px;","void main(void) {"],u=0;u<r;u++)for(var h=0;h<r;h++)(0!==t[o]||u===s&&h===s)&&(l.push("vec4 c"+u+"_"+h+" = "+a+"texture2D(texture, vec2(vUv.x + "+(h-s).toFixed(1)+"*px.x, vUv.y + "+(u-s).toFixed(1)+"*px.y));"),A.push(1===t[o]||1===t[o]?"c"+u+"_"+h:t[o]%1==0?"c"+u+"_"+h+" * "+t[o].toFixed(1):"c"+u+"_"+h+" * "+t[o])),o++;l.push("gl_FragColor = "+a+"("+A.join(" + ")+");"),l.push("gl_FragColor.a = "+a+"c"+s+"_"+s+".a;"),l.push("}"),v.set(i,l.join("\n"))}return v.get(i)};C.dilation=function(){C.convolution.call(this,[0,1,1,1,0,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,0,1,1,1,0],!1)},C.erosion=function(){C.convolution.call(this,[0,1,1,1,0,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,0,1,1,1,0],!0)},C.dilation3=function(){C.convolution.call(this,[1,1,1,1,1,1,1,1,1],!1)},C.dilhor=function(){C.convolution.call(this,[0,0,0,1,1,1,0,0,0],!0)},C.surface=function(){C.convolution.call(this,[0,-255,0,0,1,0,0,0,0],!1)},C.threshold=function(){C.convolution.call(this,[0,0,0,0,255,0,0,0,0],!1)},C.thresholdblack=function(){C.convolution.call(this,[0,0,0,0,255,0,0,0,0],!0)},C.avg3=function(){C.convolution.call(this,[.111111111111,.111111111111,.111111111111,.111111111111,.111111111111,.111111111111,.111111111111,.111111111111,.111111111111])},C.gaussian3=function(){C.convolution.call(this,[.077847,.123317,.077847,.123317,.195346,.123317,.077847,.123317,.077847])},C.gaussian5=function(){C.convolution.call(this,[.003765,.015019,.023792,.015019,.003765,.015019,.059912,.094907,.059912,.015019,.023792,.094907,.150342,.094907,.023792,.015019,.059912,.094907,.059912,.015019,.003765,.015019,.023792,.015019,.003765])},C.surfaceErosion=function(){var t=1/a,e=1/A,i=d(C.surfaceErosion.SHADER);c.uniform2f(i.uniform.px,t,e),g()},C.surfaceErosion.SHADER=["precision highp float;","varying vec2 vUv;","uniform sampler2D texture;","uniform vec2 px;","void main(void) {","vec4 A = texture2D(texture, vUv - px);","vec4 B = texture2D(texture, vec2(vUv.x - px.x, vUv.y) );","vec4 C = texture2D(texture, vec2(vUv.x - px.x, vUv.y + px.y) );","vec4 D = texture2D(texture, vec2(vUv.x + px.x, vUv.y - px.y));","vec4 E = texture2D(texture, vec2(vUv.x + px.x, vUv.y) );","vec4 F = texture2D(texture, vUv + px );","if ((A.r == 0.0 && B.r == 0.0 && C.r == 0.0) || (D.r == 0.0 && E.r == 0.0 && F.r == 0.0)) {","gl_FragColor = vec4(0,0,0,0);","} else {","gl_FragColor = texture2D(texture, vUv);","}","}"].join("\n")},s=null;function o(t,e,i){if(!(e instanceof ImageData))throw new Error("Invalide src buffer type!!!"+arguments.toString());if(r.reset(),t.forEach((function(t){return r.addFilter(t)})),i instanceof Uint8Array)r.apply(e,i);else{if(!(i instanceof ImageData))throw new Error("Invalide dest buffer type");var n=i.width*i.height*4;null!=s&&s.length===n||(s=new Uint8Array(n)),r.apply(e,s),i.data.set(s)}}var a=null,A=null,l=window.Math,u=function(t){var e=(16711680&t)>>16,i=(65280&t)>>8,n=255&t;return((.299*e+.587*i+.114*n|0)<<16)+((-.169*e-.331*i+.5*n+128|0)<<8)+(.5*e-.419*i-.081*n+128|0)},h=function(t,e){var i=u(t),n=u(e);return l.abs((16711680&i)-(16711680&n))>3145728||l.abs((65280&i)-(65280&n))>1792||l.abs((255&i)-(255&n))>6},c=function(t,e,i){e!==i?(A[t]=(3*(65280&e)+(65280&i)>>2&65280)+(3*(16711935&e)+(16711935&i)>>2&16711935),A[t]|=4278190080&e):A[t]=e},f=function(t,e,i,n){A[t]=(((65280&e)<<1)+(65280&i)+(65280&n)>>2&65280)+(((16711935&e)<<1)+(16711935&i)+(16711935&n)>>2&16711935),A[t]|=4278190080&e},m=function(t,e,i,n){A[t]=(5*(65280&e)+((65280&i)<<1)+(65280&n)>>3&65280)+(5*(16711935&e)+((16711935&i)<<1)+(16711935&n)>>3&16711935),A[t]|=4278190080&e},_=function(t,e,i,n){A[t]=(6*(65280&e)+(65280&i)+(65280&n)>>3&65280)+(6*(16711935&e)+(16711935&i)+(16711935&n)>>3&16711935),A[t]|=4278190080&e},g=function(t,e,i,n){A[t]=(((65280&e)<<1)+3*(65280&i)+3*(65280&n)>>3&65280)+(((16711935&e)<<1)+3*(16711935&i)+3*(16711935&n)>>3&16711935),A[t]|=4278190080&e},d=function(t,e){var i=e.charAt(0).toUpperCase()+e.substr(1);return t[e]||t["ms".concat(i)]||t["moz".concat(i)]||t["webkit".concat(i)]||t["o".concat(i)]},p=function(){function t(e,i,n){_classCallCheck2(this,t),this.x=e,this.y=i,this.z=n}return _createClass2(t,[{key:"dot2",value:function(t,e){return this.x*t+this.y*e}},{key:"dot3",value:function(t,e,i){return this.x*t+this.y*e+this.z*i}}]),t}(),y=[new p(1,1,0),new p(-1,1,0),new p(1,-1,0),new p(-1,-1,0),new p(1,0,1),new p(-1,0,1),new p(1,0,-1),new p(-1,0,-1),new p(0,1,1),new p(0,-1,1),new p(0,1,-1),new p(0,-1,-1)],C=[151,160,137,91,90,15,131,13,201,95,96,53,194,233,7,225,140,36,103,30,69,142,8,99,37,240,21,10,23,190,6,148,247,120,234,75,0,26,197,62,94,252,219,203,117,35,11,32,57,177,33,88,237,149,56,87,174,20,125,136,171,168,68,175,74,165,71,134,139,48,27,166,77,146,158,231,83,111,229,122,60,211,133,230,220,105,92,41,55,46,245,40,244,102,143,54,65,25,63,161,1,216,80,73,209,76,132,187,208,89,18,169,200,196,135,130,116,188,159,86,164,100,109,198,173,186,3,64,52,217,226,250,124,123,5,202,38,147,118,126,255,82,85,212,207,206,59,227,47,16,58,17,182,189,28,42,223,183,170,213,119,248,152,2,44,154,163,70,221,153,101,155,167,43,172,9,129,22,39,253,19,98,108,110,79,113,224,232,178,185,112,104,218,246,97,228,251,34,242,193,238,210,144,12,191,179,162,241,81,51,145,235,249,14,239,107,49,192,214,31,181,199,106,157,184,84,204,176,115,121,50,45,127,4,150,254,138,236,205,93,222,114,67,29,24,72,243,141,128,195,78,66,215,61,156,180],v=new Array(512),I=new Array(512);function B(t){var e=t;e>0&&e<1&&(e*=65536),(e=Math.floor(e))<256&&(e|=e<<8);for(var i=0;i<256;i++){var n;v[i]=v[i+256]=n=1&i?C[i]^255&e:C[i]^e>>8&255,I[i]=I[i+256]=y[n%12]}}function E(t){return t*t*t*(t*(6*t-15)+10)}function w(t,e,i){return(1-i)*t+i*e}function b(t,e){var i=Math.floor(t),n=Math.floor(e);t-=i,e-=n;var r=I[(i&=255)+v[n&=255]].dot2(t,e),s=I[i+v[n+1]].dot2(t,e-1),o=I[i+1+v[n]].dot2(t-1,e),a=I[i+1+v[n+1]].dot2(t-1,e-1),A=E(t);return w(w(r,o,A),w(s,a,A),E(e))}function x(t,e,i){if(i=i||1,"string"==typeof e&&(e=document.getElementById(e)),e.width=Math.floor(t.width*i),e.height=Math.floor(t.height*i),t instanceof HTMLCanvasElement)e.getContext("2d").drawImage(t,0,0,e.width,e.height);else{if(!(t instanceof ImageData))throw new Error("src should be a HTMLCanvasElement or ImageData object");1!==i&&(t=function(t,e,i,n){var r=document.createElement("canvas");r.width=t.width,r.height=t.height,r.getContext("2d").putImageData(t,0,0);var s=document.createElement("canvas");s.width=e,s.height=i;var o=s.getContext("2d");return o.imageSmoothingEnabled=!1,o.mozImageSmoothingEnabled=!1,o.webkitImageSmoothingEnabled=!1,o.msImageSmoothingEnabled=!1,o.drawImage(r,0,0,t.width,t.height,0,0,e,i),o.getImageData(0,0,e,i)}(t,e.width,e.height)),e.getContext("2d").putImageData(t,0,0)}}Math.sqrt(3),Math.sqrt(3),B(0);var S=document.createElement("canvas"),Q=S.getContext("2d"),k=new Map;function D(t){var e="".concat(t);return k.has(e)?Promise.resolve(k.get(e)):new Promise((function(i){var n=new Image;n.src=t,n.onload=function(){k.set(e,n),i(n)}}))}var M=new(function(){function t(){_classCallCheck2(this,t),this.entries={}}return _createClass2(t,[{key:"start",value:function(t){t in this.entries||(this.entries[t]={time:null,last:0,avg:0,nb:0}),this.entries[t].time=new Date}},{key:"stop",value:function(t){if(!(t in this.entries))throw new Error("The timer "+t+" hasn't been started");this.entries[t].last=(new Date).getTime()-this.entries[t].time.getTime(),this.entries[t].avg+=this.entries[t].last,this.entries[t].time=null,this.entries[t].nb++}},{key:"toHtmlElts",value:function(){for(var t in this.entries){var e=document.getElementById("timer-"+t);e&&(e.innerHTML="("+this.entries[t].last+"ms)")}var i=document.getElementById("timer-render-terrain");i&&"draw-terrain"in this.entries&&"position-generator"in this.entries&&(i.innerHTML="("+(this.entries["draw-terrain"].last+this.entries["position-generator"].last)+"ms)")}},{key:"toString",value:function(){var t="--Timers--\n";for(var e in this.entries)t+=e+": avg="+this.entries[e].avg/this.entries[e].nb+" ("+this.entries[e].nb+" occurences)\n";return t}}]),t}()),R={debug:!1,blackToAlpha:!0,width:1024,height:612,noiseResolution:35,noiseResolutionBlack:18,noiseThreshold:20,terrainTypeImg:null},V=function(){var t;function e(t){if(_classCallCheck2(this,e),this.options=Object.assign({},R,t),this.options.width%2!=0||this.options.height%2)throw new Error("Terrain width and height should be even");if(!this.options.terrainTypeImg)throw new Error("Required terrainTypeImg option must be an HTMLImageElement(or a CanvasImageSource)");var i,n;this.w=this.options.width/2,this.h=this.options.height/2,this.terr=new ImageData(this.w,this.h),this.terrainType=(i=this.options.terrainTypeImg,(n={width:this.w,height:this.h})||(n={width:i.width,height:i.height}),S.width=n.width,S.height=n.height,Q.imageSmoothingEnabled=!1,Q.drawImage(i,0,0,i.width,i.height,0,0,n.width,n.height),Q.getImageData(0,0,n.width,n.height)),this.terrainTypePoints=this.loadTerrainTypePoints()}return _createClass2(e,null,[{key:"fromImgUrl",value:(t=_asyncToGenerator(regeneratorRuntime.mark((function t(i){var n;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.t0=Object,t.t1={},t.t2=i,t.next=5,D(i.terrainTypeImg);case 5:return t.t3=t.sent,t.t4={terrainTypeImg:t.t3},n=t.t0.assign.call(t.t0,t.t1,t.t2,t.t4),t.abrupt("return",new e(n));case 9:case"end":return t.stop()}}),t)}))),function(e){return t.apply(this,arguments)})}]),_createClass2(e,[{key:"loadTerrainTypePoints",value:function(){for(var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:100,e={fg:[],bg:[]},i=this.terrainType.data,n=0;n<this.w;n++)for(var r=0;r<this.h;r++)i[4*(n+r*this.w)]<t&&(i[4*(n-1+r*this.w)]>t||i[4*(n+1+r*this.w)]>t||i[4*(n+(r+1)*this.w)]>t||i[4*(n+(r-1)*this.w)]>t)?e.fg.push([n,r]):i[4*(n+r*this.w)]<t&&i[2+4*(n+r*this.w)]<t&&(0===n||0===r||n===this.w-1||r===this.h-1)&&e.bg.push([n,r]);return e}},{key:"perlinNoise",value:function(t){var e=b,i=this.terr.data;B(t);for(var n=0;n<this.w;n++)for(var r=0;r<this.h;r++){var s=4*(n+r*this.w),o=Math.abs(e(n/this.options.noiseResolution,r/this.options.noiseResolution));if(o=Math.max(0,8*(25-256*o)),0===i[s]&&0===i[2+s]){var a=Math.abs(e((this.w-n-1)/this.options.noiseResolutionBlack,r/this.options.noiseResolutionBlack));o=(o+(a=Math.max(0,8*(25-256*a))))/2}i[s]<200&&(i[s]=i[1+s]=i[2+s]=0,o>this.options.noiseThreshold&&(i[s]=i[1+s]=255))}}},{key:"removePerlin",value:function(){for(var t=this.terr.data,e=0;e<this.w;e++)for(var i=0;i<this.h;i++){var n=4*(e+i*this.w);255===t[n]&&255===t[n+1]&&(t[n]=255===t[n+2]?255:0,t[n+1]=0)}}},{key:"paintBackground",value:function(){this.floodFill(this.terrainTypePoints.bg.slice(),{channel:1})}},{key:"removeHoles",value:function(){for(var t=this.terr.data,e=0;e<this.w;e++)for(var i=0;i<this.h;i++){var n=4*(e+i*this.w);t[n]=255===t[n]&&255===t[1+n]?t[1+n]=0:255}}},{key:"floodFill",value:function(t,e){for(var i,n,r,s,o,a=e.channel,A=void 0===a?0:a,l=e.threshold,u=void 0===l?255:l,h=this.terr.data,c=this.w,f=this.h;t.length>0;){for(n=(i=t.pop())[1],r=i[0];r>=0&&h[4*(r+n*c)]<u;)r--;for(r++,s=0,o=0;r<c&&h[4*(r+n*c)]<u;)h[4*(r+n*c)]=255,h[A+4*(r+n*c)]=255,!s&&n>0&&h[4*(r+(n-1)*c)]<u?(t.push([r,n-1]),s=1):s&&n>0&&h[4*(r+(n-1)*c)]>=u&&(s=0),!o&&n<f-1&&h[4*(r+(n+1)*c)]<u?(t.push([r,n+1]),o=1):o&&n<f-1&&h[4*(r+(n+1)*c)]>=u&&(o=0),r++}}},{key:"magnify",value:function(){var t=document.createElement("canvas");return x(this.terr,t),function(t,e){var i,n,r,s;t instanceof HTMLCanvasElement?(n=(i=t).getContext("2d"),r=i,s=n.getImageData(0,0,i.width,i.height).data):(s=function(t,e,i,n,r){var s=document.createElement("canvas"),o=s.getContext("2d"),a=d(o,"backingStorePixelRatio")||1;o.getImageDataHD=d(o,"getImageDataHD");var A=t.width/a,l=t.height/a;return s.width=Math.ceil(A),s.height=Math.ceil(l),o.drawImage(t,0,0,A,l),1===a?o.getImageData(e,i,n,r):o.getImageDataHD(e,i,n,r)}(t,0,0,t.width,t.height).data,r=document.createElement("canvas"));for(var o,p=t.width*t.height,y=a=new Array(p),C=A=new Array(2*p*2),v=0;v<p;v++)y[v]=(s[3+(o=v<<2)]<<24)+(s[o+2]<<16)+(s[o+1]<<8)+s[o];(function(t,e){var i,n,r,s,o,d,p,y=[],C=t<<1,v=0,I=0,B=h,E=l,w=u,b=c,x=f,S=m,Q=_,k=g,D=a,M=A;for(n=0;n<e;n++){for(s=n>0?-t:0,o=n<e-1?t:0,i=0;i<t;i++){y[2]=D[I+s],y[5]=D[I],y[8]=D[I+o],i>0?(y[1]=D[I+s-1],y[4]=D[I-1],y[7]=D[I+o-1]):(y[1]=y[2],y[4]=y[5],y[7]=y[8]),i<t-1?(y[3]=D[I+s+1],y[6]=D[I+1],y[9]=D[I+o+1]):(y[3]=y[2],y[6]=y[5],y[9]=y[8]);var R=0,V=1;for(d=w(y[5]),r=1;r<10;r++)5!==r&&(y[r]!==y[5]&&(p=w(y[r]),(E.abs((16711680&d)-(16711680&p))>3145728||E.abs((65280&d)-(65280&p))>1792||E.abs((255&d)-(255&p))>6)&&(R|=V)),V<<=1);switch(R){case 0:case 1:case 4:case 32:case 128:case 5:case 132:case 160:case 33:case 129:case 36:case 133:case 164:case 161:case 37:case 165:x(v,y[5],y[4],y[2]),x(v+1,y[5],y[2],y[6]),x(v+C,y[5],y[8],y[4]),x(v+C+1,y[5],y[6],y[8]);break;case 2:case 34:case 130:case 162:x(v,y[5],y[1],y[4]),x(v+1,y[5],y[3],y[6]),x(v+C,y[5],y[8],y[4]),x(v+C+1,y[5],y[6],y[8]);break;case 16:case 17:case 48:case 49:x(v,y[5],y[4],y[2]),x(v+1,y[5],y[3],y[2]),x(v+C,y[5],y[8],y[4]),x(v+C+1,y[5],y[9],y[8]);break;case 64:case 65:case 68:case 69:x(v,y[5],y[4],y[2]),x(v+1,y[5],y[2],y[6]),x(v+C,y[5],y[7],y[4]),x(v+C+1,y[5],y[9],y[6]);break;case 8:case 12:case 136:case 140:x(v,y[5],y[1],y[2]),x(v+1,y[5],y[2],y[6]),x(v+C,y[5],y[7],y[8]),x(v+C+1,y[5],y[6],y[8]);break;case 3:case 35:case 131:case 163:b(v,y[5],y[4]),x(v+1,y[5],y[3],y[6]),x(v+C,y[5],y[8],y[4]),x(v+C+1,y[5],y[6],y[8]);break;case 6:case 38:case 134:case 166:x(v,y[5],y[1],y[4]),b(v+1,y[5],y[6]),x(v+C,y[5],y[8],y[4]),x(v+C+1,y[5],y[6],y[8]);break;case 20:case 21:case 52:case 53:x(v,y[5],y[4],y[2]),b(v+1,y[5],y[2]),x(v+C,y[5],y[8],y[4]),x(v+C+1,y[5],y[9],y[8]);break;case 144:case 145:case 176:case 177:x(v,y[5],y[4],y[2]),x(v+1,y[5],y[3],y[2]),x(v+C,y[5],y[8],y[4]),b(v+C+1,y[5],y[8]);break;case 192:case 193:case 196:case 197:x(v,y[5],y[4],y[2]),x(v+1,y[5],y[2],y[6]),x(v+C,y[5],y[7],y[4]),b(v+C+1,y[5],y[6]);break;case 96:case 97:case 100:case 101:x(v,y[5],y[4],y[2]),x(v+1,y[5],y[2],y[6]),b(v+C,y[5],y[4]),x(v+C+1,y[5],y[9],y[6]);break;case 40:case 44:case 168:case 172:x(v,y[5],y[1],y[2]),x(v+1,y[5],y[2],y[6]),b(v+C,y[5],y[8]),x(v+C+1,y[5],y[6],y[8]);break;case 9:case 13:case 137:case 141:b(v,y[5],y[2]),x(v+1,y[5],y[2],y[6]),x(v+C,y[5],y[7],y[8]),x(v+C+1,y[5],y[6],y[8]);break;case 18:case 50:x(v,y[5],y[1],y[4]),B(y[2],y[6])?b(v+1,y[5],y[3]):x(v+1,y[5],y[2],y[6]),x(v+C,y[5],y[8],y[4]),x(v+C+1,y[5],y[9],y[8]);break;case 80:case 81:x(v,y[5],y[4],y[2]),x(v+1,y[5],y[3],y[2]),x(v+C,y[5],y[7],y[4]),B(y[6],y[8])?b(v+C+1,y[5],y[9]):x(v+C+1,y[5],y[6],y[8]);break;case 72:case 76:x(v,y[5],y[1],y[2]),x(v+1,y[5],y[2],y[6]),B(y[8],y[4])?b(v+C,y[5],y[7]):x(v+C,y[5],y[8],y[4]),x(v+C+1,y[5],y[9],y[6]);break;case 10:case 138:B(y[4],y[2])?b(v,y[5],y[4]):x(v,y[5],y[4],y[2]),x(v+1,y[5],y[3],y[6]),x(v+C,y[5],y[7],y[8]),x(v+C+1,y[5],y[6],y[8]);break;case 66:x(v,y[5],y[1],y[4]),x(v+1,y[5],y[3],y[6]),x(v+C,y[5],y[7],y[4]),x(v+C+1,y[5],y[9],y[6]);break;case 24:x(v,y[5],y[1],y[2]),x(v+1,y[5],y[3],y[2]),x(v+C,y[5],y[7],y[8]),x(v+C+1,y[5],y[9],y[8]);break;case 7:case 39:case 135:b(v,y[5],y[4]),b(v+1,y[5],y[6]),x(v+C,y[5],y[8],y[4]),x(v+C+1,y[5],y[6],y[8]);break;case 148:case 149:case 180:x(v,y[5],y[4],y[2]),b(v+1,y[5],y[2]),x(v+C,y[5],y[8],y[4]),b(v+C+1,y[5],y[8]);break;case 224:case 228:case 225:x(v,y[5],y[4],y[2]),x(v+1,y[5],y[2],y[6]),b(v+C,y[5],y[4]),b(v+C+1,y[5],y[6]);break;case 41:case 169:case 45:b(v,y[5],y[2]),x(v+1,y[5],y[2],y[6]),b(v+C,y[5],y[8]),x(v+C+1,y[5],y[6],y[8]);break;case 22:case 54:x(v,y[5],y[1],y[4]),B(y[2],y[6])?M[v+1]=y[5]:x(v+1,y[5],y[2],y[6]),x(v+C,y[5],y[8],y[4]),x(v+C+1,y[5],y[9],y[8]);break;case 208:case 209:x(v,y[5],y[4],y[2]),x(v+1,y[5],y[3],y[2]),x(v+C,y[5],y[7],y[4]),B(y[6],y[8])?M[v+C+1]=y[5]:x(v+C+1,y[5],y[6],y[8]);break;case 104:case 108:x(v,y[5],y[1],y[2]),x(v+1,y[5],y[2],y[6]),B(y[8],y[4])?M[v+C]=y[5]:x(v+C,y[5],y[8],y[4]),x(v+C+1,y[5],y[9],y[6]);break;case 11:case 139:B(y[4],y[2])?M[v]=y[5]:x(v,y[5],y[4],y[2]),x(v+1,y[5],y[3],y[6]),x(v+C,y[5],y[7],y[8]),x(v+C+1,y[5],y[6],y[8]);break;case 19:case 51:B(y[2],y[6])?(b(v,y[5],y[4]),b(v+1,y[5],y[3])):(S(v,y[5],y[2],y[4]),k(v+1,y[5],y[2],y[6])),x(v+C,y[5],y[8],y[4]),x(v+C+1,y[5],y[9],y[8]);break;case 146:case 178:x(v,y[5],y[1],y[4]),B(y[2],y[6])?(b(v+1,y[5],y[3]),b(v+C+1,y[5],y[8])):(k(v+1,y[5],y[2],y[6]),S(v+C+1,y[5],y[6],y[8])),x(v+C,y[5],y[8],y[4]);break;case 84:case 85:x(v,y[5],y[4],y[2]),B(y[6],y[8])?(b(v+1,y[5],y[2]),b(v+C+1,y[5],y[9])):(S(v+1,y[5],y[6],y[2]),k(v+C+1,y[5],y[6],y[8])),x(v+C,y[5],y[7],y[4]);break;case 112:case 113:x(v,y[5],y[4],y[2]),x(v+1,y[5],y[3],y[2]),B(y[6],y[8])?(b(v+C,y[5],y[4]),b(v+C+1,y[5],y[9])):(S(v+C,y[5],y[8],y[4]),k(v+C+1,y[5],y[6],y[8]));break;case 200:case 204:x(v,y[5],y[1],y[2]),x(v+1,y[5],y[2],y[6]),B(y[8],y[4])?(b(v+C,y[5],y[7]),b(v+C+1,y[5],y[6])):(k(v+C,y[5],y[8],y[4]),S(v+C+1,y[5],y[8],y[6]));break;case 73:case 77:B(y[8],y[4])?(b(v,y[5],y[2]),b(v+C,y[5],y[7])):(S(v,y[5],y[4],y[2]),k(v+C,y[5],y[8],y[4])),x(v+1,y[5],y[2],y[6]),x(v+C+1,y[5],y[9],y[6]);break;case 42:case 170:B(y[4],y[2])?(b(v,y[5],y[4]),b(v+C,y[5],y[8])):(k(v,y[5],y[4],y[2]),S(v+C,y[5],y[4],y[8])),x(v+1,y[5],y[3],y[6]),x(v+C+1,y[5],y[6],y[8]);break;case 14:case 142:B(y[4],y[2])?(b(v,y[5],y[4]),b(v+1,y[5],y[6])):(k(v,y[5],y[4],y[2]),S(v+1,y[5],y[2],y[6])),x(v+C,y[5],y[7],y[8]),x(v+C+1,y[5],y[6],y[8]);break;case 67:b(v,y[5],y[4]),x(v+1,y[5],y[3],y[6]),x(v+C,y[5],y[7],y[4]),x(v+C+1,y[5],y[9],y[6]);break;case 70:x(v,y[5],y[1],y[4]),b(v+1,y[5],y[6]),x(v+C,y[5],y[7],y[4]),x(v+C+1,y[5],y[9],y[6]);break;case 28:x(v,y[5],y[1],y[2]),b(v+1,y[5],y[2]),x(v+C,y[5],y[7],y[8]),x(v+C+1,y[5],y[9],y[8]);break;case 152:x(v,y[5],y[1],y[2]),x(v+1,y[5],y[3],y[2]),x(v+C,y[5],y[7],y[8]),b(v+C+1,y[5],y[8]);break;case 194:x(v,y[5],y[1],y[4]),x(v+1,y[5],y[3],y[6]),x(v+C,y[5],y[7],y[4]),b(v+C+1,y[5],y[6]);break;case 98:x(v,y[5],y[1],y[4]),x(v+1,y[5],y[3],y[6]),b(v+C,y[5],y[4]),x(v+C+1,y[5],y[9],y[6]);break;case 56:x(v,y[5],y[1],y[2]),x(v+1,y[5],y[3],y[2]),b(v+C,y[5],y[8]),x(v+C+1,y[5],y[9],y[8]);break;case 25:b(v,y[5],y[2]),x(v+1,y[5],y[3],y[2]),x(v+C,y[5],y[7],y[8]),x(v+C+1,y[5],y[9],y[8]);break;case 26:case 31:B(y[4],y[2])?M[v]=y[5]:x(v,y[5],y[4],y[2]),B(y[2],y[6])?M[v+1]=y[5]:x(v+1,y[5],y[2],y[6]),x(v+C,y[5],y[7],y[8]),x(v+C+1,y[5],y[9],y[8]);break;case 82:case 214:x(v,y[5],y[1],y[4]),B(y[2],y[6])?M[v+1]=y[5]:x(v+1,y[5],y[2],y[6]),x(v+C,y[5],y[7],y[4]),B(y[6],y[8])?M[v+C+1]=y[5]:x(v+C+1,y[5],y[6],y[8]);break;case 88:case 248:x(v,y[5],y[1],y[2]),x(v+1,y[5],y[3],y[2]),B(y[8],y[4])?M[v+C]=y[5]:x(v+C,y[5],y[8],y[4]),B(y[6],y[8])?M[v+C+1]=y[5]:x(v+C+1,y[5],y[6],y[8]);break;case 74:case 107:B(y[4],y[2])?M[v]=y[5]:x(v,y[5],y[4],y[2]),x(v+1,y[5],y[3],y[6]),B(y[8],y[4])?M[v+C]=y[5]:x(v+C,y[5],y[8],y[4]),x(v+C+1,y[5],y[9],y[6]);break;case 27:B(y[4],y[2])?M[v]=y[5]:x(v,y[5],y[4],y[2]),b(v+1,y[5],y[3]),x(v+C,y[5],y[7],y[8]),x(v+C+1,y[5],y[9],y[8]);break;case 86:x(v,y[5],y[1],y[4]),B(y[2],y[6])?M[v+1]=y[5]:x(v+1,y[5],y[2],y[6]),x(v+C,y[5],y[7],y[4]),b(v+C+1,y[5],y[9]);break;case 216:x(v,y[5],y[1],y[2]),x(v+1,y[5],y[3],y[2]),b(v+C,y[5],y[7]),B(y[6],y[8])?M[v+C+1]=y[5]:x(v+C+1,y[5],y[6],y[8]);break;case 106:b(v,y[5],y[4]),x(v+1,y[5],y[3],y[6]),B(y[8],y[4])?M[v+C]=y[5]:x(v+C,y[5],y[8],y[4]),x(v+C+1,y[5],y[9],y[6]);break;case 30:b(v,y[5],y[4]),B(y[2],y[6])?M[v+1]=y[5]:x(v+1,y[5],y[2],y[6]),x(v+C,y[5],y[7],y[8]),x(v+C+1,y[5],y[9],y[8]);break;case 210:x(v,y[5],y[1],y[4]),b(v+1,y[5],y[3]),x(v+C,y[5],y[7],y[4]),B(y[6],y[8])?M[v+C+1]=y[5]:x(v+C+1,y[5],y[6],y[8]);break;case 120:x(v,y[5],y[1],y[2]),x(v+1,y[5],y[3],y[2]),B(y[8],y[4])?M[v+C]=y[5]:x(v+C,y[5],y[8],y[4]),b(v+C+1,y[5],y[9]);break;case 75:B(y[4],y[2])?M[v]=y[5]:x(v,y[5],y[4],y[2]),x(v+1,y[5],y[3],y[6]),b(v+C,y[5],y[7]),x(v+C+1,y[5],y[9],y[6]);break;case 29:b(v,y[5],y[2]),b(v+1,y[5],y[2]),x(v+C,y[5],y[7],y[8]),x(v+C+1,y[5],y[9],y[8]);break;case 198:x(v,y[5],y[1],y[4]),b(v+1,y[5],y[6]),x(v+C,y[5],y[7],y[4]),b(v+C+1,y[5],y[6]);break;case 184:x(v,y[5],y[1],y[2]),x(v+1,y[5],y[3],y[2]),b(v+C,y[5],y[8]),b(v+C+1,y[5],y[8]);break;case 99:b(v,y[5],y[4]),x(v+1,y[5],y[3],y[6]),b(v+C,y[5],y[4]),x(v+C+1,y[5],y[9],y[6]);break;case 57:b(v,y[5],y[2]),x(v+1,y[5],y[3],y[2]),b(v+C,y[5],y[8]),x(v+C+1,y[5],y[9],y[8]);break;case 71:b(v,y[5],y[4]),b(v+1,y[5],y[6]),x(v+C,y[5],y[7],y[4]),x(v+C+1,y[5],y[9],y[6]);break;case 156:x(v,y[5],y[1],y[2]),b(v+1,y[5],y[2]),x(v+C,y[5],y[7],y[8]),b(v+C+1,y[5],y[8]);break;case 226:x(v,y[5],y[1],y[4]),x(v+1,y[5],y[3],y[6]),b(v+C,y[5],y[4]),b(v+C+1,y[5],y[6]);break;case 60:x(v,y[5],y[1],y[2]),b(v+1,y[5],y[2]),b(v+C,y[5],y[8]),x(v+C+1,y[5],y[9],y[8]);break;case 195:b(v,y[5],y[4]),x(v+1,y[5],y[3],y[6]),x(v+C,y[5],y[7],y[4]),b(v+C+1,y[5],y[6]);break;case 102:x(v,y[5],y[1],y[4]),b(v+1,y[5],y[6]),b(v+C,y[5],y[4]),x(v+C+1,y[5],y[9],y[6]);break;case 153:b(v,y[5],y[2]),x(v+1,y[5],y[3],y[2]),x(v+C,y[5],y[7],y[8]),b(v+C+1,y[5],y[8]);break;case 58:B(y[4],y[2])?b(v,y[5],y[4]):Q(v,y[5],y[4],y[2]),B(y[2],y[6])?b(v+1,y[5],y[3]):Q(v+1,y[5],y[2],y[6]),b(v+C,y[5],y[8]),x(v+C+1,y[5],y[9],y[8]);break;case 83:b(v,y[5],y[4]),B(y[2],y[6])?b(v+1,y[5],y[3]):Q(v+1,y[5],y[2],y[6]),x(v+C,y[5],y[7],y[4]),B(y[6],y[8])?b(v+C+1,y[5],y[9]):Q(v+C+1,y[5],y[6],y[8]);break;case 92:x(v,y[5],y[1],y[2]),b(v+1,y[5],y[2]),B(y[8],y[4])?b(v+C,y[5],y[7]):Q(v+C,y[5],y[8],y[4]),B(y[6],y[8])?b(v+C+1,y[5],y[9]):Q(v+C+1,y[5],y[6],y[8]);break;case 202:B(y[4],y[2])?b(v,y[5],y[4]):Q(v,y[5],y[4],y[2]),x(v+1,y[5],y[3],y[6]),B(y[8],y[4])?b(v+C,y[5],y[7]):Q(v+C,y[5],y[8],y[4]),b(v+C+1,y[5],y[6]);break;case 78:B(y[4],y[2])?b(v,y[5],y[4]):Q(v,y[5],y[4],y[2]),b(v+1,y[5],y[6]),B(y[8],y[4])?b(v+C,y[5],y[7]):Q(v+C,y[5],y[8],y[4]),x(v+C+1,y[5],y[9],y[6]);break;case 154:B(y[4],y[2])?b(v,y[5],y[4]):Q(v,y[5],y[4],y[2]),B(y[2],y[6])?b(v+1,y[5],y[3]):Q(v+1,y[5],y[2],y[6]),x(v+C,y[5],y[7],y[8]),b(v+C+1,y[5],y[8]);break;case 114:x(v,y[5],y[1],y[4]),B(y[2],y[6])?b(v+1,y[5],y[3]):Q(v+1,y[5],y[2],y[6]),b(v+C,y[5],y[4]),B(y[6],y[8])?b(v+C+1,y[5],y[9]):Q(v+C+1,y[5],y[6],y[8]);break;case 89:b(v,y[5],y[2]),x(v+1,y[5],y[3],y[2]),B(y[8],y[4])?b(v+C,y[5],y[7]):Q(v+C,y[5],y[8],y[4]),B(y[6],y[8])?b(v+C+1,y[5],y[9]):Q(v+C+1,y[5],y[6],y[8]);break;case 90:B(y[4],y[2])?b(v,y[5],y[4]):Q(v,y[5],y[4],y[2]),B(y[2],y[6])?b(v+1,y[5],y[3]):Q(v+1,y[5],y[2],y[6]),B(y[8],y[4])?b(v+C,y[5],y[7]):Q(v+C,y[5],y[8],y[4]),B(y[6],y[8])?b(v+C+1,y[5],y[9]):Q(v+C+1,y[5],y[6],y[8]);break;case 55:case 23:B(y[2],y[6])?(b(v,y[5],y[4]),M[v+1]=y[5]):(S(v,y[5],y[2],y[4]),k(v+1,y[5],y[2],y[6])),x(v+C,y[5],y[8],y[4]),x(v+C+1,y[5],y[9],y[8]);break;case 182:case 150:x(v,y[5],y[1],y[4]),B(y[2],y[6])?(M[v+1]=y[5],b(v+C+1,y[5],y[8])):(k(v+1,y[5],y[2],y[6]),S(v+C+1,y[5],y[6],y[8])),x(v+C,y[5],y[8],y[4]);break;case 213:case 212:x(v,y[5],y[4],y[2]),B(y[6],y[8])?(b(v+1,y[5],y[2]),M[v+C+1]=y[5]):(S(v+1,y[5],y[6],y[2]),k(v+C+1,y[5],y[6],y[8])),x(v+C,y[5],y[7],y[4]);break;case 241:case 240:x(v,y[5],y[4],y[2]),x(v+1,y[5],y[3],y[2]),B(y[6],y[8])?(b(v+C,y[5],y[4]),M[v+C+1]=y[5]):(S(v+C,y[5],y[8],y[4]),k(v+C+1,y[5],y[6],y[8]));break;case 236:case 232:x(v,y[5],y[1],y[2]),x(v+1,y[5],y[2],y[6]),B(y[8],y[4])?(M[v+C]=y[5],b(v+C+1,y[5],y[6])):(k(v+C,y[5],y[8],y[4]),S(v+C+1,y[5],y[8],y[6]));break;case 109:case 105:B(y[8],y[4])?(b(v,y[5],y[2]),M[v+C]=y[5]):(S(v,y[5],y[4],y[2]),k(v+C,y[5],y[8],y[4])),x(v+1,y[5],y[2],y[6]),x(v+C+1,y[5],y[9],y[6]);break;case 171:case 43:B(y[4],y[2])?(M[v]=y[5],b(v+C,y[5],y[8])):(k(v,y[5],y[4],y[2]),S(v+C,y[5],y[4],y[8])),x(v+1,y[5],y[3],y[6]),x(v+C+1,y[5],y[6],y[8]);break;case 143:case 15:B(y[4],y[2])?(M[v]=y[5],b(v+1,y[5],y[6])):(k(v,y[5],y[4],y[2]),S(v+1,y[5],y[2],y[6])),x(v+C,y[5],y[7],y[8]),x(v+C+1,y[5],y[6],y[8]);break;case 124:x(v,y[5],y[1],y[2]),b(v+1,y[5],y[2]),B(y[8],y[4])?M[v+C]=y[5]:x(v+C,y[5],y[8],y[4]),b(v+C+1,y[5],y[9]);break;case 203:B(y[4],y[2])?M[v]=y[5]:x(v,y[5],y[4],y[2]),x(v+1,y[5],y[3],y[6]),b(v+C,y[5],y[7]),b(v+C+1,y[5],y[6]);break;case 62:b(v,y[5],y[4]),B(y[2],y[6])?M[v+1]=y[5]:x(v+1,y[5],y[2],y[6]),b(v+C,y[5],y[8]),x(v+C+1,y[5],y[9],y[8]);break;case 211:b(v,y[5],y[4]),b(v+1,y[5],y[3]),x(v+C,y[5],y[7],y[4]),B(y[6],y[8])?M[v+C+1]=y[5]:x(v+C+1,y[5],y[6],y[8]);break;case 118:x(v,y[5],y[1],y[4]),B(y[2],y[6])?M[v+1]=y[5]:x(v+1,y[5],y[2],y[6]),b(v+C,y[5],y[4]),b(v+C+1,y[5],y[9]);break;case 217:b(v,y[5],y[2]),x(v+1,y[5],y[3],y[2]),b(v+C,y[5],y[7]),B(y[6],y[8])?M[v+C+1]=y[5]:x(v+C+1,y[5],y[6],y[8]);break;case 110:b(v,y[5],y[4]),b(v+1,y[5],y[6]),B(y[8],y[4])?M[v+C]=y[5]:x(v+C,y[5],y[8],y[4]),x(v+C+1,y[5],y[9],y[6]);break;case 155:B(y[4],y[2])?M[v]=y[5]:x(v,y[5],y[4],y[2]),b(v+1,y[5],y[3]),x(v+C,y[5],y[7],y[8]),b(v+C+1,y[5],y[8]);break;case 188:x(v,y[5],y[1],y[2]),b(v+1,y[5],y[2]),b(v+C,y[5],y[8]),b(v+C+1,y[5],y[8]);break;case 185:b(v,y[5],y[2]),x(v+1,y[5],y[3],y[2]),b(v+C,y[5],y[8]),b(v+C+1,y[5],y[8]);break;case 61:b(v,y[5],y[2]),b(v+1,y[5],y[2]),b(v+C,y[5],y[8]),x(v+C+1,y[5],y[9],y[8]);break;case 157:b(v,y[5],y[2]),b(v+1,y[5],y[2]),x(v+C,y[5],y[7],y[8]),b(v+C+1,y[5],y[8]);break;case 103:b(v,y[5],y[4]),b(v+1,y[5],y[6]),b(v+C,y[5],y[4]),x(v+C+1,y[5],y[9],y[6]);break;case 227:b(v,y[5],y[4]),x(v+1,y[5],y[3],y[6]),b(v+C,y[5],y[4]),b(v+C+1,y[5],y[6]);break;case 230:x(v,y[5],y[1],y[4]),b(v+1,y[5],y[6]),b(v+C,y[5],y[4]),b(v+C+1,y[5],y[6]);break;case 199:b(v,y[5],y[4]),b(v+1,y[5],y[6]),x(v+C,y[5],y[7],y[4]),b(v+C+1,y[5],y[6]);break;case 220:x(v,y[5],y[1],y[2]),b(v+1,y[5],y[2]),B(y[8],y[4])?b(v+C,y[5],y[7]):Q(v+C,y[5],y[8],y[4]),B(y[6],y[8])?M[v+C+1]=y[5]:x(v+C+1,y[5],y[6],y[8]);break;case 158:B(y[4],y[2])?b(v,y[5],y[4]):Q(v,y[5],y[4],y[2]),B(y[2],y[6])?M[v+1]=y[5]:x(v+1,y[5],y[2],y[6]),x(v+C,y[5],y[7],y[8]),b(v+C+1,y[5],y[8]);break;case 234:B(y[4],y[2])?b(v,y[5],y[4]):Q(v,y[5],y[4],y[2]),x(v+1,y[5],y[3],y[6]),B(y[8],y[4])?M[v+C]=y[5]:x(v+C,y[5],y[8],y[4]),b(v+C+1,y[5],y[6]);break;case 242:x(v,y[5],y[1],y[4]),B(y[2],y[6])?b(v+1,y[5],y[3]):Q(v+1,y[5],y[2],y[6]),b(v+C,y[5],y[4]),B(y[6],y[8])?M[v+C+1]=y[5]:x(v+C+1,y[5],y[6],y[8]);break;case 59:B(y[4],y[2])?M[v]=y[5]:x(v,y[5],y[4],y[2]),B(y[2],y[6])?b(v+1,y[5],y[3]):Q(v+1,y[5],y[2],y[6]),b(v+C,y[5],y[8]),x(v+C+1,y[5],y[9],y[8]);break;case 121:b(v,y[5],y[2]),x(v+1,y[5],y[3],y[2]),B(y[8],y[4])?M[v+C]=y[5]:x(v+C,y[5],y[8],y[4]),B(y[6],y[8])?b(v+C+1,y[5],y[9]):Q(v+C+1,y[5],y[6],y[8]);break;case 87:b(v,y[5],y[4]),B(y[2],y[6])?M[v+1]=y[5]:x(v+1,y[5],y[2],y[6]),x(v+C,y[5],y[7],y[4]),B(y[6],y[8])?b(v+C+1,y[5],y[9]):Q(v+C+1,y[5],y[6],y[8]);break;case 79:B(y[4],y[2])?M[v]=y[5]:x(v,y[5],y[4],y[2]),b(v+1,y[5],y[6]),B(y[8],y[4])?b(v+C,y[5],y[7]):Q(v+C,y[5],y[8],y[4]),x(v+C+1,y[5],y[9],y[6]);break;case 122:B(y[4],y[2])?b(v,y[5],y[4]):Q(v,y[5],y[4],y[2]),B(y[2],y[6])?b(v+1,y[5],y[3]):Q(v+1,y[5],y[2],y[6]),B(y[8],y[4])?M[v+C]=y[5]:x(v+C,y[5],y[8],y[4]),B(y[6],y[8])?b(v+C+1,y[5],y[9]):Q(v+C+1,y[5],y[6],y[8]);break;case 94:B(y[4],y[2])?b(v,y[5],y[4]):Q(v,y[5],y[4],y[2]),B(y[2],y[6])?M[v+1]=y[5]:x(v+1,y[5],y[2],y[6]),B(y[8],y[4])?b(v+C,y[5],y[7]):Q(v+C,y[5],y[8],y[4]),B(y[6],y[8])?b(v+C+1,y[5],y[9]):Q(v+C+1,y[5],y[6],y[8]);break;case 218:B(y[4],y[2])?b(v,y[5],y[4]):Q(v,y[5],y[4],y[2]),B(y[2],y[6])?b(v+1,y[5],y[3]):Q(v+1,y[5],y[2],y[6]),B(y[8],y[4])?b(v+C,y[5],y[7]):Q(v+C,y[5],y[8],y[4]),B(y[6],y[8])?M[v+C+1]=y[5]:x(v+C+1,y[5],y[6],y[8]);break;case 91:B(y[4],y[2])?M[v]=y[5]:x(v,y[5],y[4],y[2]),B(y[2],y[6])?b(v+1,y[5],y[3]):Q(v+1,y[5],y[2],y[6]),B(y[8],y[4])?b(v+C,y[5],y[7]):Q(v+C,y[5],y[8],y[4]),B(y[6],y[8])?b(v+C+1,y[5],y[9]):Q(v+C+1,y[5],y[6],y[8]);break;case 229:x(v,y[5],y[4],y[2]),x(v+1,y[5],y[2],y[6]),b(v+C,y[5],y[4]),b(v+C+1,y[5],y[6]);break;case 167:b(v,y[5],y[4]),b(v+1,y[5],y[6]),x(v+C,y[5],y[8],y[4]),x(v+C+1,y[5],y[6],y[8]);break;case 173:b(v,y[5],y[2]),x(v+1,y[5],y[2],y[6]),b(v+C,y[5],y[8]),x(v+C+1,y[5],y[6],y[8]);break;case 181:x(v,y[5],y[4],y[2]),b(v+1,y[5],y[2]),x(v+C,y[5],y[8],y[4]),b(v+C+1,y[5],y[8]);break;case 186:B(y[4],y[2])?b(v,y[5],y[4]):Q(v,y[5],y[4],y[2]),B(y[2],y[6])?b(v+1,y[5],y[3]):Q(v+1,y[5],y[2],y[6]),b(v+C,y[5],y[8]),b(v+C+1,y[5],y[8]);break;case 115:b(v,y[5],y[4]),B(y[2],y[6])?b(v+1,y[5],y[3]):Q(v+1,y[5],y[2],y[6]),b(v+C,y[5],y[4]),B(y[6],y[8])?b(v+C+1,y[5],y[9]):Q(v+C+1,y[5],y[6],y[8]);break;case 93:b(v,y[5],y[2]),b(v+1,y[5],y[2]),B(y[8],y[4])?b(v+C,y[5],y[7]):Q(v+C,y[5],y[8],y[4]),B(y[6],y[8])?b(v+C+1,y[5],y[9]):Q(v+C+1,y[5],y[6],y[8]);break;case 206:B(y[4],y[2])?b(v,y[5],y[4]):Q(v,y[5],y[4],y[2]),b(v+1,y[5],y[6]),B(y[8],y[4])?b(v+C,y[5],y[7]):Q(v+C,y[5],y[8],y[4]),b(v+C+1,y[5],y[6]);break;case 205:case 201:b(v,y[5],y[2]),x(v+1,y[5],y[2],y[6]),B(y[8],y[4])?b(v+C,y[5],y[7]):Q(v+C,y[5],y[8],y[4]),b(v+C+1,y[5],y[6]);break;case 174:case 46:B(y[4],y[2])?b(v,y[5],y[4]):Q(v,y[5],y[4],y[2]),b(v+1,y[5],y[6]),b(v+C,y[5],y[8]),x(v+C+1,y[5],y[6],y[8]);break;case 179:case 147:b(v,y[5],y[4]),B(y[2],y[6])?b(v+1,y[5],y[3]):Q(v+1,y[5],y[2],y[6]),x(v+C,y[5],y[8],y[4]),b(v+C+1,y[5],y[8]);break;case 117:case 116:x(v,y[5],y[4],y[2]),b(v+1,y[5],y[2]),b(v+C,y[5],y[4]),B(y[6],y[8])?b(v+C+1,y[5],y[9]):Q(v+C+1,y[5],y[6],y[8]);break;case 189:b(v,y[5],y[2]),b(v+1,y[5],y[2]),b(v+C,y[5],y[8]),b(v+C+1,y[5],y[8]);break;case 231:b(v,y[5],y[4]),b(v+1,y[5],y[6]),b(v+C,y[5],y[4]),b(v+C+1,y[5],y[6]);break;case 126:b(v,y[5],y[4]),B(y[2],y[6])?M[v+1]=y[5]:x(v+1,y[5],y[2],y[6]),B(y[8],y[4])?M[v+C]=y[5]:x(v+C,y[5],y[8],y[4]),b(v+C+1,y[5],y[9]);break;case 219:B(y[4],y[2])?M[v]=y[5]:x(v,y[5],y[4],y[2]),b(v+1,y[5],y[3]),b(v+C,y[5],y[7]),B(y[6],y[8])?M[v+C+1]=y[5]:x(v+C+1,y[5],y[6],y[8]);break;case 125:B(y[8],y[4])?(b(v,y[5],y[2]),M[v+C]=y[5]):(S(v,y[5],y[4],y[2]),k(v+C,y[5],y[8],y[4])),b(v+1,y[5],y[2]),b(v+C+1,y[5],y[9]);break;case 221:b(v,y[5],y[2]),B(y[6],y[8])?(b(v+1,y[5],y[2]),M[v+C+1]=y[5]):(S(v+1,y[5],y[6],y[2]),k(v+C+1,y[5],y[6],y[8])),b(v+C,y[5],y[7]);break;case 207:B(y[4],y[2])?(M[v]=y[5],b(v+1,y[5],y[6])):(k(v,y[5],y[4],y[2]),S(v+1,y[5],y[2],y[6])),b(v+C,y[5],y[7]),b(v+C+1,y[5],y[6]);break;case 238:b(v,y[5],y[4]),b(v+1,y[5],y[6]),B(y[8],y[4])?(M[v+C]=y[5],b(v+C+1,y[5],y[6])):(k(v+C,y[5],y[8],y[4]),S(v+C+1,y[5],y[8],y[6]));break;case 190:b(v,y[5],y[4]),B(y[2],y[6])?(M[v+1]=y[5],b(v+C+1,y[5],y[8])):(k(v+1,y[5],y[2],y[6]),S(v+C+1,y[5],y[6],y[8])),b(v+C,y[5],y[8]);break;case 187:B(y[4],y[2])?(M[v]=y[5],b(v+C,y[5],y[8])):(k(v,y[5],y[4],y[2]),S(v+C,y[5],y[4],y[8])),b(v+1,y[5],y[3]),b(v+C+1,y[5],y[8]);break;case 243:b(v,y[5],y[4]),b(v+1,y[5],y[3]),B(y[6],y[8])?(b(v+C,y[5],y[4]),M[v+C+1]=y[5]):(S(v+C,y[5],y[8],y[4]),k(v+C+1,y[5],y[6],y[8]));break;case 119:B(y[2],y[6])?(b(v,y[5],y[4]),M[v+1]=y[5]):(S(v,y[5],y[2],y[4]),k(v+1,y[5],y[2],y[6])),b(v+C,y[5],y[4]),b(v+C+1,y[5],y[9]);break;case 237:case 233:b(v,y[5],y[2]),x(v+1,y[5],y[2],y[6]),B(y[8],y[4])?M[v+C]=y[5]:b(v+C,y[5],y[7]),b(v+C+1,y[5],y[6]);break;case 175:case 47:B(y[4],y[2])?M[v]=y[5]:b(v,y[5],y[4]),b(v+1,y[5],y[6]),b(v+C,y[5],y[8]),x(v+C+1,y[5],y[6],y[8]);break;case 183:case 151:b(v,y[5],y[4]),B(y[2],y[6])?M[v+1]=y[5]:b(v+1,y[5],y[3]),x(v+C,y[5],y[8],y[4]),b(v+C+1,y[5],y[8]);break;case 245:case 244:x(v,y[5],y[4],y[2]),b(v+1,y[5],y[2]),b(v+C,y[5],y[4]),B(y[6],y[8])?M[v+C+1]=y[5]:b(v+C+1,y[5],y[9]);break;case 250:b(v,y[5],y[4]),b(v+1,y[5],y[3]),B(y[8],y[4])?M[v+C]=y[5]:x(v+C,y[5],y[8],y[4]),B(y[6],y[8])?M[v+C+1]=y[5]:x(v+C+1,y[5],y[6],y[8]);break;case 123:B(y[4],y[2])?M[v]=y[5]:x(v,y[5],y[4],y[2]),b(v+1,y[5],y[3]),B(y[8],y[4])?M[v+C]=y[5]:x(v+C,y[5],y[8],y[4]),b(v+C+1,y[5],y[9]);break;case 95:B(y[4],y[2])?M[v]=y[5]:x(v,y[5],y[4],y[2]),B(y[2],y[6])?M[v+1]=y[5]:x(v+1,y[5],y[2],y[6]),b(v+C,y[5],y[7]),b(v+C+1,y[5],y[9]);break;case 222:b(v,y[5],y[4]),B(y[2],y[6])?M[v+1]=y[5]:x(v+1,y[5],y[2],y[6]),b(v+C,y[5],y[7]),B(y[6],y[8])?M[v+C+1]=y[5]:x(v+C+1,y[5],y[6],y[8]);break;case 252:x(v,y[5],y[1],y[2]),b(v+1,y[5],y[2]),B(y[8],y[4])?M[v+C]=y[5]:x(v+C,y[5],y[8],y[4]),B(y[6],y[8])?M[v+C+1]=y[5]:b(v+C+1,y[5],y[9]);break;case 249:b(v,y[5],y[2]),x(v+1,y[5],y[3],y[2]),B(y[8],y[4])?M[v+C]=y[5]:b(v+C,y[5],y[7]),B(y[6],y[8])?M[v+C+1]=y[5]:x(v+C+1,y[5],y[6],y[8]);break;case 235:B(y[4],y[2])?M[v]=y[5]:x(v,y[5],y[4],y[2]),x(v+1,y[5],y[3],y[6]),B(y[8],y[4])?M[v+C]=y[5]:b(v+C,y[5],y[7]),b(v+C+1,y[5],y[6]);break;case 111:B(y[4],y[2])?M[v]=y[5]:b(v,y[5],y[4]),b(v+1,y[5],y[6]),B(y[8],y[4])?M[v+C]=y[5]:x(v+C,y[5],y[8],y[4]),x(v+C+1,y[5],y[9],y[6]);break;case 63:B(y[4],y[2])?M[v]=y[5]:b(v,y[5],y[4]),B(y[2],y[6])?M[v+1]=y[5]:x(v+1,y[5],y[2],y[6]),b(v+C,y[5],y[8]),x(v+C+1,y[5],y[9],y[8]);break;case 159:B(y[4],y[2])?M[v]=y[5]:x(v,y[5],y[4],y[2]),B(y[2],y[6])?M[v+1]=y[5]:b(v+1,y[5],y[3]),x(v+C,y[5],y[7],y[8]),b(v+C+1,y[5],y[8]);break;case 215:b(v,y[5],y[4]),B(y[2],y[6])?M[v+1]=y[5]:b(v+1,y[5],y[3]),x(v+C,y[5],y[7],y[4]),B(y[6],y[8])?M[v+C+1]=y[5]:x(v+C+1,y[5],y[6],y[8]);break;case 246:x(v,y[5],y[1],y[4]),B(y[2],y[6])?M[v+1]=y[5]:x(v+1,y[5],y[2],y[6]),b(v+C,y[5],y[4]),B(y[6],y[8])?M[v+C+1]=y[5]:b(v+C+1,y[5],y[9]);break;case 254:b(v,y[5],y[4]),B(y[2],y[6])?M[v+1]=y[5]:x(v+1,y[5],y[2],y[6]),B(y[8],y[4])?M[v+C]=y[5]:x(v+C,y[5],y[8],y[4]),B(y[6],y[8])?M[v+C+1]=y[5]:b(v+C+1,y[5],y[9]);break;case 253:b(v,y[5],y[2]),b(v+1,y[5],y[2]),B(y[8],y[4])?M[v+C]=y[5]:b(v+C,y[5],y[7]),B(y[6],y[8])?M[v+C+1]=y[5]:b(v+C+1,y[5],y[9]);break;case 251:B(y[4],y[2])?M[v]=y[5]:x(v,y[5],y[4],y[2]),b(v+1,y[5],y[3]),B(y[8],y[4])?M[v+C]=y[5]:b(v+C,y[5],y[7]),B(y[6],y[8])?M[v+C+1]=y[5]:x(v+C+1,y[5],y[6],y[8]);break;case 239:B(y[4],y[2])?M[v]=y[5]:b(v,y[5],y[4]),b(v+1,y[5],y[6]),B(y[8],y[4])?M[v+C]=y[5]:b(v+C,y[5],y[7]),b(v+C+1,y[5],y[6]);break;case 127:B(y[4],y[2])?M[v]=y[5]:b(v,y[5],y[4]),B(y[2],y[6])?M[v+1]=y[5]:x(v+1,y[5],y[2],y[6]),B(y[8],y[4])?M[v+C]=y[5]:x(v+C,y[5],y[8],y[4]),b(v+C+1,y[5],y[9]);break;case 191:B(y[4],y[2])?M[v]=y[5]:b(v,y[5],y[4]),B(y[2],y[6])?M[v+1]=y[5]:b(v+1,y[5],y[3]),b(v+C,y[5],y[8]),b(v+C+1,y[5],y[8]);break;case 223:B(y[4],y[2])?M[v]=y[5]:x(v,y[5],y[4],y[2]),B(y[2],y[6])?M[v+1]=y[5]:b(v+1,y[5],y[3]),b(v+C,y[5],y[7]),B(y[6],y[8])?M[v+C+1]=y[5]:x(v+C+1,y[5],y[6],y[8]);break;case 247:b(v,y[5],y[4]),B(y[2],y[6])?M[v+1]=y[5]:b(v+1,y[5],y[3]),b(v+C,y[5],y[4]),B(y[6],y[8])?M[v+C+1]=y[5]:b(v+C+1,y[5],y[9]);break;case 255:B(y[4],y[2])?M[v]=y[5]:b(v,y[5],y[4]),B(y[2],y[6])?M[v+1]=y[5]:b(v+1,y[5],y[3]),B(y[8],y[4])?M[v+C]=y[5]:b(v+C,y[5],y[7]),B(y[6],y[8])?M[v+C+1]=y[5]:b(v+C+1,y[5],y[9])}I++,v+=2}v+=C}})(t.width,t.height),r.width=2*t.width,r.height=2*t.height;var I,B,E=r.getContext("2d"),w=E.getImageData(0,0,r.width,r.height),b=w.data,x=C.length;if(e)for(var S=0;S<x;S++)B=(4278190080&(I=C[S]))>>24,b[3+(o=S<<2)]=255&I,b[o+2]=0,b[o+1]=0,b[o]=255;else for(var Q=0;Q<x;Q++)B=(4278190080&(I=C[Q]))>>24,b[3+(o=Q<<2)]=B<0?B+256:0,b[o+2]=(16711680&I)>>16,b[o+1]=(65280&I)>>8,b[o]=255&I;return a=y=null,A=C=null,E.putImageData(w,0,0),r}(t,this.options.blackToAlpha)}},{key:"generate",value:function(t){if(t<0||t>=1)throw new Error("Invalid seed: "+t+", must be between [0,1).");var e=this.options.debug;e&&M.start("generate-terrain"),e&&M.start("terrain-type"),this.terr.data.set(this.terrainType.data),e&&M.stop("terrain-type"),e&&x(this.terr,"canvas-terrain"),e&&M.start("perlin-noise"),this.perlinNoise(t),e&&M.stop("perlin-noise"),e&&x(this.terr,"canvas-perlin"),e&&M.start("floodfill-perlin"),this.floodFill(this.terrainTypePoints.fg.slice(),{}),e&&M.stop("floodfill-perlin"),e&&x(this.terr,"canvas-fperlin"),e&&M.start("remove-perlin"),this.removePerlin(),e&&M.stop("remove-perlin"),e&&x(this.terr,"canvas-rperlin"),e&&M.start("dilation"),o(["dilation","dilation","dilation","dilation","dilation"],this.terr,this.terr),e&&M.stop("dilation"),e&&x(this.terr,"canvas-dilation"),e&&M.start("nohole"),this.paintBackground(),e&&x(this.terr,"canvas-paintbg"),this.removeHoles(),e&&M.stop("nohole"),e&&M.start("erosion"),o(["erosion","erosion","erosion","erosion"],this.terr,this.terr),e&&M.stop("erosion"),e&&x(this.terr,"canvas-erosion"),e&&M.start("magnify");var i=this.magnify();return e&&M.stop("magnify"),e&&x(i,"canvas-magnify",.5),e&&M.stop("generate-terrain"),i}}]),e}(),T={marginTop:1,marginRight:1,marginBottom:1,marginLeft:1,debug:!1};function G(t,e){return Math.pow(e[0]-t[0],2)+Math.pow(e[1]-t[1],2)}var F=function(){function t(e,i){_classCallCheck2(this,t),this.options=Object.assign({},T,i),this.options.debug&&M.start("position-generator");var n=new ImageData(e.width,e.height);o(["surface","threshold","surfaceErosion","surfaceErosion","surfaceErosion"],e,n);for(var r=[],s=n.width,a=n.height,A=this.options.marginTop;A<a-this.options.marginBottom;A++)for(var l=this.options.marginLeft;l<s-this.options.marginRight;l++)0!==n.data[4*(l+A*s)]&&r.push([l,A]);for(var u=[0,a-1],h=[];r.length>0;)G(u,r[r.length-1])>25&&r.sort((function(t,e){return G(u,e)-G(u,t)})),u=r.pop(),h.push(u);this.surfacePoints=h,this.haltonIndex=0,this.options.debug&&M.stop("position-generator")}return _createClass2(t,[{key:"getSurfacePoint",value:function(t){var e=function(t,e){for(var i=0,n=.5,r=t;r>0;)i+=n*(r%2),r=Math.floor(r/2),n/=2;return i}(this.haltonIndex++);return e=(e+t)%1,this.surfacePoints[Math.floor(e*this.surfacePoints.length)]}},{key:"drawSurfacePoints",value:function(t,e){var i=t.getContext("2d");i.fillStyle="rgba(255,0,0,1)";for(var n=0;n<this.surfacePoints.length;n++){var r=this.surfacePoints[n];i.fillRect(r[0]*e,r[1]*e-1,1,2)}}}]),t}(),P=i("q0nz"),N=i("L0q2"),L=i("F5iu");function U(){return O.apply(this,arguments)}function O(){return(O=_asyncToGenerator(regeneratorRuntime.mark((function t(){var e,i,n,r,s,o;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,V.fromImgUrl({debug:!1,width:1024,height:612,terrainTypeImg:"./assets/type-3.png",noiseResolution:35});case 2:for(e=t.sent,r=Math.random(),console.log("seed",r),s=!1;!s;)try{o=Y(e,r,1024,612),i=o.polygons,n=o.playerPositions,s=!0}catch(a){r+=.001,console.log("Seed incremented to ".concat(r," because terrain generator threw error"),a)}return t.abrupt("return",{width:1024,height:612,polygons:i,playerPositions:n});case 8:case"end":return t.stop()}}),t)})))).apply(this,arguments)}function Y(t,e,i,n){for(var r=t.generate(e),s=r.getContext("2d").getImageData(0,0,r.width,r.height),o=s.data,a=new F(s),A=new ImageData(r.width,r.height).data,l=0;l<n;l++)for(var u=0;u<i;u++){var h=4*(u+l*i);0!==o[3+h]?(A[h]=255,A[1+h]=0,A[2+h]=0,A[3+h]=255):A[3+h]=0}var c=i*n,f=new Uint8Array(c),m=[],_=[],g=0,d=r.getContext("2d");d.globalCompositeOperation="destination-out";for(var p=!1;!p;)if((g+=1)>100)p=!0;else{for(var y=0;y<c;++y)f[y]=A[y<<2];var C=N.getBlobOutlinePoints(f,i,n);if(H(_,C))m.pop(),p=!0;else if(_=C,C.length<=1)p=!0;else{m.push(C),d.strokeStyle="green",d.lineWidth=5,d.beginPath();for(var v=new Path2D,I=0,B=0;B<C.length;B++){var E=C[B];B%2==0?I=E:(v.lineTo(I,E),d.lineTo(I,E),d.moveTo(I,E))}d.stroke(),d.closePath(),v.closePath(),d.fillStyle="green",d.fill(v),A=(s=d.getImageData(0,0,r.width,r.height)).data}}var w=[];m.forEach((function(t){var e=P.hxGeomAlgo.PolyTools.toPointArray(t);(e=P.hxGeomAlgo.RamerDouglasPeucker.simplify(e)).length%2==1&&e.pop();var i=P.hxGeomAlgo.SnoeyinkKeil.decomposePoly(e);w.push.apply(w,_toConsumableArray(i))}));for(var b=[],x=0;x<8;x++){var S=a.getSurfacePoint(.1),Q=new L.b2Vec2(S[0],S[1]);b.push(Q)}return{polygons:w,playerPositions:b}}function H(t,e){if(t.length!==e.length)return!1;for(var i=t.length;i--;)if(t[i]!==e[i])return!1;return!0}i.d(e,"a",(function(){return U}))},KFww:function(t,e,i){"use strict";var n,r=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])})(t,e)},function(t,e){function i(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)}),s=this&&this.__spreadArrays||function(){for(var t=0,e=0,i=arguments.length;e<i;e++)t+=arguments[e].length;var n=Array(t),r=0;for(e=0;e<i;e++)for(var s=arguments[e],o=0,a=s.length;o<a;o++,r++)n[r]=s[o];return n};Object.defineProperty(e,"__esModule",{value:!0});var o=function(t){function e(){for(var i=[],n=0;n<arguments.length;n++)i[n]=arguments[n];var r=t.apply(this,i)||this;return Object.setPrototypeOf(r,Object.create(e.prototype)),Object.defineProperties(r,{$sorting:{value:void 0,enumerable:!1,writable:!0},$changes:{value:void 0,enumerable:!1,writable:!0},onAdd:{value:void 0,enumerable:!1,writable:!0},onRemove:{value:void 0,enumerable:!1,writable:!0},onChange:{value:void 0,enumerable:!1,writable:!0},triggerAll:{value:function(){if(r.onAdd)for(var t=0;t<r.length;t++)r.onAdd(r[t],t)}},toJSON:{value:function(){for(var t=[],e=0;e<r.length;e++){var i=r[e];t.push("function"==typeof i.toJSON?i.toJSON():i)}return t}},clone:{value:function(t){var i;return t?((i=e.of.apply(e,r)).onAdd=r.onAdd,i.onRemove=r.onRemove,i.onChange=r.onChange):i=new(e.bind.apply(e,s([void 0],r.map((function(t){return"object"==typeof t?t.clone():t}))))),i}}}),r}return r(e,t),Object.defineProperty(e,Symbol.species,{get:function(){return e},enumerable:!0,configurable:!0}),e.prototype.sort=function(e){this.$sorting=!0,t.prototype.sort.call(this,e);for(var i=0,n=this.$changes.changes;i<n.length;i++){var r=n[i],s=this.$changes.getIndex(this[r]);void 0!==s&&this.$changes.mapIndexChange(this[r],s),this.$changes.mapIndex(this[r],r)}return this.$sorting=!1,this},e.prototype.filter=function(e,i){var n=t.prototype.filter.call(this,e);return n.$changes=this.$changes,n},e.prototype.splice=function(t,e){for(var i=[],n=2;n<arguments.length;n++)i[n-2]=arguments[n];var r=Array.prototype.splice.apply(this,arguments),s=Array.prototype.filter.call(this,(function(i,n){return n>=t+e-1}));return r.map((function(t){t&&t.$changes&&(t.$changes.parent.deleteIndex(t),t.$changes.parent.deleteIndexChange(t),delete t.$changes.parent)})),s.forEach((function(t){t&&t.$changes&&t.$changes.parentField--})),r},e}(Array);e.ArraySchema=o},KqfI:function(t,e,i){"use strict";function n(){}i.d(e,"a",(function(){return n}))},L0q2:function(t,e){var i={getBlobOutlinePoints:function(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;if(t instanceof HTMLCanvasElement){e=t.width,n=t.height;for(var r=t.getContext("2d").getImageData(0,0,e,n).data,s=e*n,o=new Uint8Array(s),a=0;a<s;++a)o[a]=r[a<<2];t=o}else 0==n&&(n=t.length/e|0);var A=i.getFirstNonTransparentPixelTopDown(t,e,n);return null===A?(console.log("[Warning] Marching Squares could not find an object in the given array"),[]):i.walkPerimeter(t,e,n,A.w,A.h)},getFirstNonTransparentPixelTopDown:function(t,e,i){for(var n,r=0;r<i;++r){n=r*e|0;for(var s=0;s<e;++s){if(t[n]>0)return{w:s,h:r};++n}}return null},walkPerimeter:function(t,e,n,r,s){e|=0,n|=0;var o,a=[],A=i.step,l=0,u=r,h=s;do{switch(o=A((h-1)*e+(u-1),t,e),u>=0&&u<e&&h>=0&&h<n&&a.push(u-1,h),o){case 1:--h;break;case 2:--u;break;case 3:++h;break;case 4:++u}if(++l>1e5)throw console.log("timed out on walkperimeter"),new Error("Walk perimeter out of bounds")}while((u!=r||h!=s)&&1e5>l);return a.push(u,h),a},step:function(t,e,n){var r=0;switch(0<e[t+1]&&(r|=1),0<e[t+2]&&(r|=2),0<e[t+n+1]&&(r|=4),0<e[t+n+2]&&(r|=8),r){case 1:i.next_step=1;break;case 2:case 3:i.next_step=4;break;case 4:i.next_step=2;break;case 5:i.next_step=1;break;case 6:i.next_step=1==i.next_step?2:4;break;case 7:i.next_step=4;break;case 8:i.next_step=3;break;case 9:i.next_step=4==i.next_step?1:3;break;case 10:case 11:i.next_step=3;break;case 12:i.next_step=2;break;case 13:i.next_step=1;break;case 14:i.next_step=2;break;default:i.next_step=0}return i.next_step}};t.exports=i},LEIV:function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=i("ibR2");e.SchemaSerializer=function(){function t(){}return t.prototype.setState=function(t){this.state.decode(t)},t.prototype.getState=function(){return this.state},t.prototype.patch=function(t){this.state.decode(t)},t.prototype.teardown=function(){},t.prototype.handshake=function(t){this.state?(new n.Reflection).decode(t):this.state=n.Reflection.decode(t)},t}()},Lhse:function(t,e,i){"use strict";i.d(e,"a",(function(){return n}));var n="function"==typeof Symbol&&Symbol.iterator?Symbol.iterator:"@@iterator"},MsiX:function(t,e,i){"use strict";var n=this&&this.__assign||function(){return(n=Object.assign||function(t){for(var e,i=1,n=arguments.length;i<n;i++)for(var r in e=arguments[i])Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r]);return t}).apply(this,arguments)};Object.defineProperty(e,"__esModule",{value:!0});var r=i("xhEQ"),s=i("kgUQ"),o=i("X9PU"),a=i("h3D4"),A=function(){function t(t,e){void 0===e&&(e={}),this._nativeLib=t;var i=n({reverseSolutions:!1,strictlySimple:!1,preserveCollinear:!1},e),r=0;i.reverseSolutions&&(r+=t.InitOptions.ReverseSolution),i.strictlySimple&&(r+=t.InitOptions.StrictlySimple),i.preserveCollinear&&(r+=t.InitOptions.PreserveCollinear),this._clipper=new t.Clipper(r)}return Object.defineProperty(t.prototype,"preserveCollinear",{get:function(){return this._clipper.preserveCollinear},set:function(t){this._clipper.preserveCollinear=t},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"reverseSolution",{get:function(){return this._clipper.reverseSolution},set:function(t){this._clipper.reverseSolution=t},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"strictlySimple",{get:function(){return this._clipper.strictlySimple},set:function(t){this._clipper.strictlySimple=t},enumerable:!0,configurable:!0}),t.prototype.addPath=function(t,e,i){var n=o.pathToNativePath(this._nativeLib,t);try{return this._clipper.addPath(n,r.polyTypeToNative(this._nativeLib,e),i)}finally{n.delete()}},t.prototype.addPaths=function(t,e,i){var n=s.pathsToNativePaths(this._nativeLib,t);try{return this._clipper.addPaths(n,r.polyTypeToNative(this._nativeLib,e),i)}finally{n.delete()}},t.prototype.clear=function(){this._clipper.clear()},t.prototype.getBounds=function(){var t=this._clipper.getBounds(),e={left:t.left,right:t.right,top:t.top,bottom:t.bottom};return t.delete(),e},t.prototype.executeToPaths=function(t,e,i,n){var o=new this._nativeLib.Paths;try{return this._clipper.executePathsWithFillTypes(r.clipTypeToNative(this._nativeLib,t),o,r.polyFillTypeToNative(this._nativeLib,e),r.polyFillTypeToNative(this._nativeLib,i))?(void 0!==n&&this._nativeLib.cleanPolygons(o,n),s.nativePathsToPaths(this._nativeLib,o,!0)):void 0}finally{o.isDeleted()||o.delete()}},t.prototype.executeToPolyTee=function(t,e,i){var n=new this._nativeLib.PolyTree;try{return this._clipper.executePolyTreeWithFillTypes(r.clipTypeToNative(this._nativeLib,t),n,r.polyFillTypeToNative(this._nativeLib,e),r.polyFillTypeToNative(this._nativeLib,i))?a.PolyTree.fromNativePolyTree(this._nativeLib,n,!0):void 0}finally{n.isDeleted()||n.delete()}},t.prototype.isDisposed=function(){return void 0===this._clipper||this._clipper.isDeleted()},t.prototype.dispose=function(){this._clipper&&(this._clipper.delete(),this._clipper=void 0)},t}();e.Clipper=A},NJ4a:function(t,e,i){"use strict";function n(t){setTimeout((function(){throw t}),0)}i.d(e,"a",(function(){return n}))},NL4Z:function(t,e,i){!function(t){"use strict";t.hxGeomAlgo=t.hxGeomAlgo||{},t.hxGeomAlgo._HxPoint=t.hxGeomAlgo._HxPoint||{};var e=function(){};e.__name__=!0,e.iter=function(t){return{cur:0,arr:t,hasNext:function(){return this.cur<this.arr.length},next:function(){return this.arr[this.cur++]}}},Math.__name__=!0;var i=function(){};i.__name__=!0,i.string=function(t){return y.__string_rec(t,"")};var n=function(){};n.__name__=!0,n.getEnumName=function(t){return t.__ename__.join(".")};var r=function(){};r.__name__=!0;var s=function(){this.h={}};s.__name__=!0,s.__interfaces__=[r],s.prototype={keys:function(){var t=[];for(var i in this.h)this.h.hasOwnProperty(i)&&t.push(0|i);return e.iter(t)}};var o=t.hxGeomAlgo.Bayazit=function(){};o.__name__=!0,o.decomposePoly=function(t){var e=[];if(o.reflexVertices=[],o.steinerPoints=[],o.visibility=new s,t.length<3)return e;o.poly=[];for(var i=0;i<t.length;){var n=t[i];++i,o.poly.push(u._new(n.x,n.y))}return o.reversed=c.makeCW(o.poly),o._decomposePoly(o.poly,e),e},o._decomposePoly=function(t,e){for(var i=u._new(),n=u._new(),r=u._new(),s=(u._new(),0),a=0,A=0,l=0,h=0,f=0,m=0,_=[],g=[],d=0,y=t.length;d<y;){var C=d++;if(c.isReflex(t,C)){var v=o.visibility,I=p.getVisibleIndicesFrom(t,C);v.h[C]=I,o.reflexVertices.push(t[C]),s=a=1/0;for(var B=0,E=t.length;B<E;){var w,b=B++,x=C-1,S=x,Q=t.length;S<0&&(S+=Q);var k=t[x=S%Q],D=C,M=t.length;D<0&&(D+=M);var R=t[D%M],V=b,T=t.length;V<0&&(V+=T);var G,F=t[V%T];if((R.x-k.x)*(F.y-k.y)-(F.x-k.x)*(R.y-k.y)>0){var P=C-1,N=P,L=t.length;N<0&&(N+=L);var U=t[P=N%L],O=C,Y=t.length;O<0&&(O+=Y);var H=t[O%Y],J=b-1,j=J,K=t.length;j<0&&(j+=K);var q=t[J=j%K];w=(H.x-U.x)*(q.y-U.y)-(q.x-U.x)*(H.y-U.y)<=0}else w=!1;if(w){var z=C-1,X=z,W=t.length;X<0&&(X+=W);var Z=C,$=t.length;Z<0&&(Z+=$);var tt=b,et=t.length;tt<0&&(tt+=et);var it=b-1,nt=it,rt=t.length;nt<0&&(nt+=rt),r=c.intersection(t[z=X%W],t[Z%$],t[tt%et],t[it=nt%rt]);var st=C+1,ot=st,at=t.length;ot<0&&(ot+=at);var At=t[st=ot%at],lt=C,ut=t.length;lt<0&&(lt+=ut);var ht=t[lt%ut];if((ht.x-At.x)*(r.y-At.y)-(r.x-At.x)*(ht.y-At.y)<0){var ct=t[C],ft=ct.x-r.x,mt=ct.y-r.y;(A=ft*ft+mt*mt)<a&&(a=A,n=r,f=b)}}var _t=C+1,gt=_t,dt=t.length;gt<0&&(gt+=dt);var pt=t[_t=gt%dt],yt=C,Ct=t.length;yt<0&&(yt+=Ct);var vt=t[yt%Ct],It=b+1,Bt=It,Et=t.length;Bt<0&&(Bt+=Et);var wt=t[It=Bt%Et];if((vt.x-pt.x)*(wt.y-pt.y)-(wt.x-pt.x)*(vt.y-pt.y)>0){var bt=C+1,xt=bt,St=t.length;xt<0&&(xt+=St);var Qt=t[bt=xt%St],kt=C,Dt=t.length;kt<0&&(kt+=Dt);var Mt=t[kt%Dt],Rt=b,Vt=t.length;Rt<0&&(Rt+=Vt);var Tt=t[Rt%Vt];G=(Mt.x-Qt.x)*(Tt.y-Qt.y)-(Tt.x-Qt.x)*(Mt.y-Qt.y)<=0}else G=!1;if(G){var Gt=C+1,Ft=Gt,Pt=t.length;Ft<0&&(Ft+=Pt);var Nt=C,Lt=t.length;Nt<0&&(Nt+=Lt);var Ut=b,Ot=t.length;Ut<0&&(Ut+=Ot);var Yt=b+1,Ht=Yt,Jt=t.length;Ht<0&&(Ht+=Jt),r=c.intersection(t[Gt=Ft%Pt],t[Nt%Lt],t[Ut%Ot],t[Yt=Ht%Jt]);var jt=C-1,Kt=jt,qt=t.length;Kt<0&&(Kt+=qt);var zt=t[jt=Kt%qt],Xt=C,Wt=t.length;Xt<0&&(Xt+=Wt);var Zt=t[Xt%Wt];if((Zt.x-zt.x)*(r.y-zt.y)-(r.x-zt.x)*(Zt.y-zt.y)>0){var $t=t[C],te=$t.x-r.x,ee=$t.y-r.y;(A=te*te+ee*ee)<s&&(s=A,i=r,h=b)}}}if(f==(h+1)%t.length)if(r.x=(n.x+i.x)/2,r.y=(n.y+i.y)/2,o.steinerPoints.push(r),C<h){for(var ie=C,ne=h+1;ie<ne;){var re=ie++;g.push(t[re])}if(g.push(r),_.push(r),0!=f)for(var se=f,oe=t.length;se<oe;){var ae=se++;_.push(t[ae])}for(var Ae=0,le=C+1;Ae<le;){var ue=Ae++;_.push(t[ue])}}else{if(0!=C)for(var he=C,ce=t.length;he<ce;){var fe=he++;g.push(t[fe])}for(var me=0,_e=h+1;me<_e;){var ge=me++;g.push(t[ge])}g.push(r),_.push(r);for(var de=f,pe=C+1;de<pe;){var ye=de++;_.push(t[ye])}}else{f>h&&(h+=t.length),l=1/0;for(var Ce=f,ve=h+1;Ce<ve;){var Ie,Be=Ce++,Ee=C-1,we=Ee,be=t.length;we<0&&(we+=be);var xe=t[Ee=we%be],Se=C,Qe=t.length;Se<0&&(Se+=Qe);var ke=t[Se%Qe],De=Be,Me=t.length;De<0&&(De+=Me);var Re=t[De%Me];if((ke.x-xe.x)*(Re.y-xe.y)-(Re.x-xe.x)*(ke.y-xe.y)>=0){var Ve=C+1,Te=Ve,Ge=t.length;Te<0&&(Te+=Ge);var Fe=t[Ve=Te%Ge],Pe=C,Ne=t.length;Pe<0&&(Pe+=Ne);var Le=t[Pe%Ne],Ue=Be,Oe=t.length;Ue<0&&(Ue+=Oe);var Ye=t[Ue%Oe];Ie=(Le.x-Fe.x)*(Ye.y-Fe.y)-(Ye.x-Fe.x)*(Le.y-Fe.y)<=0}else Ie=!1;if(Ie){var He=C,Je=t.length;He<0&&(He+=Je);var je=t[He%Je],Ke=Be,qe=t.length;Ke<0&&(Ke+=qe);var ze=t[Ke%qe],Xe=je.x-ze.x,We=je.y-ze.y;if((A=Xe*Xe+We*We)<l&&o.visibility.h[C].indexOf(Be%t.length)>=0){l=A;var Ze=Be,$e=t.length;Ze<0&&(Ze+=$e),m=Be%t.length}}}if(C<m){for(var ti=C,ei=m+1;ti<ei;){var ii=ti++;g.push(t[ii])}if(0!=m)for(var ni=m,ri=t.length;ni<ri;){var si=ni++;_.push(t[si])}for(var oi=0,ai=C+1;oi<ai;){var Ai=oi++;_.push(t[Ai])}}else{if(0!=C)for(var li=C,ui=t.length;li<ui;){var hi=li++;g.push(t[hi])}for(var ci=0,fi=m+1;ci<fi;){var mi=ci++;g.push(t[mi])}for(var _i=m,gi=C+1;_i<gi;){var di=_i++;_.push(t[di])}}}return void(g.length<_.length?(o._decomposePoly(g,e),o._decomposePoly(_,e)):(o._decomposePoly(_,e),o._decomposePoly(g,e)))}}e.push(t)};var a=function(){};a.__name__=!0,a.assert=function(t,e,i){};var A=function(t,e,i){null==i&&(i=1),null==e&&(e=0),null==t&&(t=0),this.x=t,this.y=e,this.w=i};A.__name__=!0,A.det=function(t,e,i){return t.w*e.perpdot(i)-e.w*t.perpdot(i)+i.w*t.perpdot(e)},A.ccw=function(t,e,i){return A.det(t,e,i)>0},A.cw=function(t,e,i){return A.det(t,e,i)<0},A.prototype={add:function(t){return this.x+=t.x,this.y+=t.y,this},sub:function(t){return this.x-=t.x,this.y-=t.y,this},neg:function(){return this.w=-this.w,this.x=-this.x,this.y=-this.y,this},mul:function(t){return this.w*=t,this.x*=t,this.y*=t,this},div:function(t){return this.w/=t,this.x/=t,this.y/=t,this},normalize:function(){return this.div(this.length())},lengthSquared:function(){return this.x*this.x+this.y*this.y},length:function(){return Math.sqrt(this.lengthSquared())},perp:function(){var t=-this.y;return this.y=this.x,this.x=t,this},dotPoint:function(t){return this.w+this.x*t.x+this.y*t.y},dot:function(t){return this.w*t.w+this.x*t.x+this.y*t.y},perpdot:function(t){return this.x*t.y-this.y*t.x},dotperp:function(t){return-this.x*t.y+this.y*t.x},equals:function(t){return t.w*this.x==this.w*t.x&&t.w*this.y==this.w*t.y},left:function(t){return this.dotPoint(t)>0},right:function(t){return this.dotPoint(t)<0},toScreen:function(){return u._new(this.x/this.w,-this.y/this.w)},toPoint:function(){return u._new(this.x/this.w,this.y/this.w)},meet:function(t){return new A(t.w*this.y-this.w*t.y,this.w*t.x-t.w*this.x,this.x*t.y-this.y*t.x)},meetPoint:function(t){return new A(this.y-this.w*t.y,this.w*t.x-this.x,this.x*t.y-this.y*t.x)},toString:function(){return" (w:"+this.w+"; x:"+this.x+", y:"+this.y+")  "}};var l=function(t,e){null==e&&(e=0),null==t&&(t=0),this.x=t,this.y=e};l.__name__=!0,l.prototype={toString:function(){return"("+this.x+", "+this.y+")"}};var u=t.hxGeomAlgo._HxPoint.HxPoint_Impl_={};u.__name__=!0,u.get_x=function(t){return t.x},u.set_x=function(t,e){return t.x=e},u.get_y=function(t){return t.y},u.set_y=function(t,e){return t.y=e},u._new=function(t,e){return null==e&&(e=0),null==t&&(t=0),new l(t,e)},u.setTo=function(t,e,i){t.x=e,t.y=i},u.equals=function(t,e){return null!=e&&t.x==e.x&&t.y==e.y},u.clone=function(t){return u._new(t.x,t.y)},u.toString=function(t){return"("+t.x+", "+t.y+")"},u.fromPointStruct=function(t){return u._new(t.x,t.y)},u.toPointStruct=function(t){return{x:t.x,y:t.y}};var h=function(){this.lastIdx=this.frontTopIdx=-1,this.backTopIdx=0,this.front=[],this.back=[]};h.__name__=!0,h.prototype={push:function(t,e){this.front.length<=++this.frontTopIdx&&(this.front.push(-1),this.back.push(-1)),this.front[this.frontTopIdx]=t,this.back[this.frontTopIdx]=e,this.lastIdx=this.frontTopIdx},pushNarrow:function(t,e){if(this.isFrontEmpty()||!(t<=this.frontTop())){for(;!this.isFrontEmpty()&&this.backBottom()>=e;)this.popFront();this.push(t,e)}},isFrontEmpty:function(){return this.frontTopIdx<0},frontHasNext:function(){return this.frontTopIdx>0},flush:function(){this.lastIdx=this.frontTopIdx=-1},frontTop:function(){return this.frontTopIdx<0?0:this.front[this.frontTopIdx]},frontPeekNext:function(){return this.front[this.frontTopIdx-1]},backBottom:function(){return this.back[this.frontTopIdx]},popFront:function(){return this.front[this.frontTopIdx--]},restore:function(){this.backTopIdx=0,this.frontTopIdx=this.lastIdx},isBackEmpty:function(){return this.backTopIdx>this.lastIdx},backHasNext:function(){return this.backTopIdx<this.lastIdx},frontBottom:function(){return this.front[this.backTopIdx]},backPeekNext:function(){return this.back[this.backTopIdx+1]},backTop:function(){return this.back[this.backTopIdx]},popBack:function(){return this.back[this.backTopIdx++]},toString:function(){var t="";t+=i.string("fp:"+this.frontTopIdx+", bp:"+this.backTopIdx+", last:"+this.lastIdx+": ");for(var e=0,n=this.lastIdx+1;e<n;){var r=e++;t+=i.string(this.front[r]+","+this.back[r]+"  ")}return t}};var c=t.hxGeomAlgo.PolyTools=function(){};c.__name__=!0,c.isCCW=function(t){if(t.length<=2)return!0;for(var e=0,i=0,n=t.length;i<n;){var r=i++,s=r-1,o=s,a=t.length;o<0&&(o+=a);var A=r-1,l=A,u=t.length;l<0&&(l+=u),e+=t[s=o%a].x*t[r].y-t[r].x*t[A=l%u].y}return e<0},c.isCW=function(t){if(t.length<=2)return!0;for(var e=0,i=0,n=t.length;i<n;){var r=i++,s=r-1,o=s,a=t.length;o<0&&(o+=a);var A=r-1,l=A,u=t.length;l<0&&(l+=u),e+=t[s=o%a].x*t[r].y-t[r].x*t[A=l%u].y}return e>0},c.makeCCW=function(t){var e=!1;return c.isCCW(t)||(t.reverse(),e=!0),e},c.makeCW=function(t){var e=!1;return c.isCCW(t)&&(t.reverse(),e=!0),e},c.isConvex=function(t){for(var e=null,i=0,n=t.length;i<n;){var r=i++,s=0==r?t.length-1:r-1,o=r==t.length-1?0:r+1,a=(t[r].x-t[s].x)*(t[o].y-t[r].y)-(t[o].x-t[r].x)*(t[r].y-t[s].y),A=a>0;if(0!=a)if(null==e)e=A;else if(e!=A)return!1}return!0},c.isSimple=function(t){var e=t.length;if(e<=3)return!0;for(var i=0,n=e;i<n;)for(var r=i++,s=r,o=r==e-1?0:r+1,a=r+1,A=e;a<A;){var l,u,h=a++,f=h,m=h==e-1?0:h+1,_=c.segmentIntersect(t[s],t[o],t[f],t[m]);if(null!=_){var g,d=t[s],p=_.x-d.x,y=_.y-d.y;if(Math.sqrt(p*p+y*y)<c.EPSILON)g=!0;else{var C=t[o],v=_.x-C.x,I=_.y-C.y;g=Math.sqrt(v*v+I*I)<c.EPSILON}u=!g}else u=!1;if(u){var B,E=t[f],w=_.x-E.x,b=_.y-E.y;if(Math.sqrt(w*w+b*b)<c.EPSILON)B=!0;else{var x=t[m],S=_.x-x.x,Q=_.y-x.y;B=Math.sqrt(S*S+Q*Q)<c.EPSILON}l=!B}else l=!1;if(l)return!1}return!0},c.segmentIntersect=function(t,e,i,n){var r,s,o,a,A,l,h;l=e.x*t.y-t.x*e.y,h=n.x*i.y-i.x*n.y;var c=(s=e.y-t.y)*(A=i.x-n.x)-(o=n.y-i.y)*(a=t.x-e.x);if(0==c)return null;(r=u._new()).x=(a*h-A*l)/c,r.y=(o*l-s*h)/c;var f=t.x-e.x,m=t.y-e.y,_=f*f+m*m,g=i.x-n.x,d=i.y-n.y,p=g*g+d*d,y=r.x-e.x,C=r.y-e.y;if(y*y+C*C>_)return null;var v=r.x-t.x,I=r.y-t.y;if(v*v+I*I>_)return null;var B=r.x-n.x,E=r.y-n.y;if(B*B+E*E>p)return null;var w=r.x-i.x,b=r.y-i.y;return w*w+b*b>p?null:r},c.findDuplicatePoints=function(t,e,i){null==i&&(i=!0),null==e&&(e=!0);var n=t.length;if(n<=1)return[];for(var r,s=[],o=0,a=n-1;o<a;)for(var A=o++,l=A+1;l<n;){var u=t[A],h=t[l],c=null!=h&&u.x==h.x&&u.y==h.y;if(c&&s.push(A),e||c&&!e)break;++l}if(i&&e){var f=t[0],m=t[n-1];r=null!=m&&f.x==m.x&&f.y==m.y}else r=!1;return r&&s.push(n-1),s},c.intersection=function(t,e,i,n){var r=null,s=e.y-t.y,o=t.x-e.x,a=s*t.x+o*t.y,A=n.y-i.y,l=i.x-n.x,h=A*i.x+l*i.y,f=s*l-A*o;return Math.abs(f)<=c.EPSILON||((r=u._new()).x=(l*a-o*h)/f,r.y=(s*h-A*a)/f),r},c.isReflex=function(t,e){var i=e-1,n=i,r=t.length;n<0&&(n+=r);var s=t[i=n%r],o=e,a=t.length;o<0&&(o+=a);var A=t[o%a],l=e+1,u=l,h=t.length;u<0&&(u+=h);var c=t[l=u%h];return(A.x-s.x)*(c.y-s.y)-(c.x-s.x)*(A.y-s.y)<0},c.at=function(t,e){var i=e,n=t.length;return i<0&&(i+=n),t[e=i%n]},c.wrappedIdx=function(t,e){var i=t.length;return e<0&&(e+=i),e%i},c.side=function(t,e,i){return(e.x-t.x)*(i.y-t.y)-(i.x-t.x)*(e.y-t.y)},c.isLeft=function(t,e,i){return(e.x-t.x)*(i.y-t.y)-(i.x-t.x)*(e.y-t.y)>0},c.isLeftOrOn=function(t,e,i){return(e.x-t.x)*(i.y-t.y)-(i.x-t.x)*(e.y-t.y)>=0},c.isRight=function(t,e,i){return(e.x-t.x)*(i.y-t.y)-(i.x-t.x)*(e.y-t.y)<0},c.isRightOrOn=function(t,e,i){return(e.x-t.x)*(i.y-t.y)-(i.x-t.x)*(e.y-t.y)<=0},c.isCollinear=function(t,e,i){return(e.x-t.x)*(i.y-t.y)-(i.x-t.x)*(e.y-t.y)==0},c.distance=function(t,e){var i=t.x-e.x,n=t.y-e.y;return Math.sqrt(i*i+n*n)},c.distanceToSegment=function(t,e,i){return Math.sqrt(c.distanceToSegmentSquared(t,e,i))},c.distanceSquared=function(t,e){var i=t.x-e.x,n=t.y-e.y;return i*i+n*n},c.distanceToSegmentSquared=function(t,e,i){var n=e.x-i.x,r=e.y-i.y,s=n*n+r*r;if(0==s){var o=t.x-e.x,a=t.y-e.y;return o*o+a*a}var A=((t.x-e.x)*(i.x-e.x)+(t.y-e.y)*(i.y-e.y))/s;if(A<0){var l=t.x-e.x,h=t.y-e.y;return l*l+h*h}if(A>1){var f=t.x-i.x,m=t.y-i.y;return f*f+m*m}u.setTo(c.point,e.x+A*(i.x-e.x),e.y+A*(i.y-e.y));var _=c.point,g=t.x-_.x,d=t.y-_.y;return g*g+d*d},c.getCentroid=function(t){var e=u._new(),i=c.getArea(t);if(0!=i){for(var n=t.length,r=0,s=n;r<s;){var o=r++,a=t[o],A=t[(o+1)%n],l=a.x*A.y-A.x*a.y;e.x+=(a.x+A.x)*l,e.y+=(a.y+A.y)*l}e.x/=6*i,e.y/=6*i}else e=u.EMPTY;return e},c.getArea=function(t){for(var e=0,i=t.length,n=0,r=i;n<r;){var s=n++,o=t[s],a=t[(s+1)%i];e+=o.x*a.y-a.x*o.y}return.5*e},c.meet=function(t,e){return new A(t.y-e.y,e.x-t.x,t.x*e.y-t.y*e.x)},c.dot=function(t,e){return t.x*e.x+t.y*e.y},c.sqr=function(t){return t*t},c.eq=function(t,e){return Math.abs(t-e)<=c.EPSILON},c.clear=function(t){t.length=0},c.toFloatArray=function(t,e){e=null!=e?e:[];for(var i=0;i<t.length;){var n=t[i];++i,e.push(n.x),e.push(n.y)}return e},c.reverseFloatArray=function(t,e){null==e&&(e=!1);for(var i=e?t:[],n=t.length>>1,r=0,s=n;r<s;){var o=r++,a=2*(n-o-1);i[2*o]=t[a],i[2*o+1]=t[a+1]}return i},c.flatten=function(t,e){for(var i=null!=e?e:[],n=0;n<t.length;){var r=t[n];++n;for(var s=0;s<r.length;){var o=r[s];++s,i.push(o)}}return i},c.toPointArray=function(t,e){e=null!=e?e:[];var i=t.length;t.length%2==1&&--i;for(var n=0,r=i>>1;n<r;){var s=n++;e.push(u._new(t[2*s],t[2*s+1]))}return e},c.inflateLine=function(t,e,i){var n=i/2,r=e.x-t.x,s=e.y-t.y,o=Math.sqrt(r*r+s*s),a=r/o*n,A=s/o*n;return[u._new(t.x-A,t.y+a),u._new(e.x-A,e.y+a),u._new(e.x+A,e.y-a),u._new(t.x+A,t.y-a)]},c.clip=function(t,e){e.length>=3&&c.isConvex(e);for(var i,n,r,s,o=[],a=t,A=c.isCCW(e)?c.isRight:c.isLeft,l=0,u=e.length;l<u;){var h=l++;i=e[h];var f=h+1,m=e.length;f<0&&(f+=m),n=e[f%m];var _=a;a=[],r=_[_.length-1];for(var g=0,d=_.length;g<d;){if(A(s=_[g++],i,n)){if(!A(r,i,n)){var p=c.intersection(r,s,i,n);null!=p&&a.push(p)}a.push(s)}else if(A(r,i,n)){var y=c.intersection(r,s,i,n);null!=y&&a.push(y)}r=s}o.push(a)}return o},c.exposeEnum=function(e,i){for(var r=(null!=i?i:n.getEnumName(e)).split("."),s=t,o=0;o<r.length-1;){var a=r[o];s[a]=s[a]||{},s=s[a],++o}s[r[o]]=e};var f=t.hxGeomAlgo.RamerDouglasPeucker=function(){};f.__name__=!0,f.simplify=function(t,e){null==e&&(e=1);var i=t[0],n=t[t.length-1];if(t.length<2)return[].concat(t);for(var r=-1,s=0,o=1,a=t.length-1;o<a;){var A=o++,l=Math.sqrt(c.distanceToSegmentSquared(t[A],i,n));l>s&&(s=l,r=A)}if(s>e){var u=t.slice(0,r+1),h=t.slice(r),m=f.simplify(u,e),_=f.simplify(h,e);return m.slice(0,m.length-1).concat(_)}return[i,n]};var m=t.hxGeomAlgo.SnoeyinkKeil=function(){};m.__name__=!0,m.decomposePoly=function(t){for(var e=[],i=m.decomposePolyIndices(t),n=0;n<i.length;){var r=i[n];++n;var s=[];e.push(s);for(var o=0;o<r.length;){var a=r[o];++o,s.push(t[a])}}return e},m.decomposePolyIndices=function(t){var e=[];if(m.diagonals=[],t.length<3)return e;m.poly=[];for(var i,n,r,s=0;s<t.length;){var o=t[s];++s,m.poly.push(u._new(o.x,o.y))}m.reversed=c.makeCW(m.poly);var a=m.poly.length,A=new _(m.poly);A.init();for(var l=3,h=a;l<h;){var f=l++;for(i=A.reflexIter();i+f<a;){if(A.visible(i,r=i+f))if(A.initPairs(i,r),A.isReflex(r))for(var g=i+1,d=r;g<d;){var p=g++;A.typeA(i,p,r)}else{for(n=A.reflexIter(i+1);n<r-1;)A.typeA(i,n,r),n=A.reflexNext(n);A.typeA(i,r-1,r)}i=A.reflexNext(i)}for(r=A.reflexIter(f);r<a;){if(!A.isReflex(i=r-f)&&A.visible(i,r))for(A.initPairs(i,r),A.typeB(i,i+1,r),n=A.reflexIter(i+2);n<r;)A.typeB(i,n,r),n=A.reflexNext(n);r=A.reflexNext(r)}}if(A.guard=3*a,A.recoverSolution(0,a-1),e=A.decompIndices(),m.reversed){for(var y=0;y<e.length;){var C=e[y];++y;for(var v=0,I=C.length;v<I;){var B=v++;C[B]=a-C[B]-1}}for(var E=0,w=m.diagonals;E<w.length;){var b=w[E];++E;var x=b.from;b.from=a-b.to-1,b.to=a-x-1}}return e};var _=function(t){this._diags=[],this._polys=[],this._indicesSet=new s,this.poly=t,this.n=t.length};_.__name__=!0,_.prototype={init:function(){this.initReflex(),this.subDecomp=new g(this._reflexFlag),this.initVisibility(),this.initSubProblems()},initReflex:function(){this._reflexFlag=[],this._reflexNext=[];for(var t=0,e=this.n;t<e;){var i=t++;this._reflexFlag[i]=!1,this._reflexNext[i]=-1}var n=0;this._reflexFlag[n]=!0;for(var r=this.n-1;r>0;){var s=this.poly,o=r-1,a=o,A=s.length;a<0&&(a+=A);var l=s[o=a%A],u=this.poly,h=r,c=u.length;h<0&&(h+=c);var f=u[h%c],m=this.poly,_=n,g=m.length;_<0&&(_+=g);var d=m[_%g];this._reflexFlag[r]=(f.x-l.x)*(d.y-l.y)-(d.x-l.x)*(f.y-l.y)<0,n=r,--r}for(this._reflexFirst=this.n,r=this.n-1;r>=0;)this._reflexNext[r]=this._reflexFirst,this.isReflex(r)&&(this._reflexFirst=r),--r},isReflex:function(t){return this._reflexFlag[t]},reflexNext:function(t){return this._reflexNext[t]},reflexIter:function(t){return null==t||t<=0?this._reflexFirst:t>this._reflexNext.length?this._reflexNext.length:this._reflexNext[t-1]},visible:function(t,e){return this.subDecomp.weight(t,e)<_.BAD},initVisibility:function(){for(var t,e=this.reflexIter();e<this.n;){for(t=p.getVisibleIndicesFrom(this.poly,e);t.length>0;){var i=t.pop();i<e?this.subDecomp.setWeight(i,e,_.INFINITY):this.subDecomp.setWeight(e,i,_.INFINITY)}e=this._reflexNext[e]}},setAfter:function(t){this.isReflex(t),this.subDecomp.setWeight(t,t+1,0),this.visible(t,t+2)&&this.subDecomp.initWithWeight(t,t+2,0,t+1,t+1)},setBefore:function(t){this.isReflex(t),this.subDecomp.setWeight(t-1,t,0),this.visible(t-2,t)&&this.subDecomp.initWithWeight(t-2,t,0,t-1,t-1)},initSubProblems:function(){var t=this.reflexIter();for(0==t&&(this.setAfter(t),t=this._reflexNext[t]),1==t&&(this.subDecomp.setWeight(0,1,0),this.setAfter(t),t=this._reflexNext[t]);t<this.n-2;)this.setBefore(t),this.setAfter(t),t=this._reflexNext[t];t==this.n-2&&(this.setBefore(t),this.subDecomp.setWeight(t,t+1,0),t=this._reflexNext[t]),t==this.n-1&&this.setBefore(t)},initPairs:function(t,e){this.subDecomp.init(t,e)},recoverSolution:function(t,e){var i;if(this.guard--,!(e-t<=1)){var n=this.subDecomp.pairs(t,e);if(this.isReflex(t)){if(i=n.backTop(),this.recoverSolution(i,e),i-t>1){if(n.frontBottom()!=n.backTop()){var r=this.subDecomp.pairs(t,i);for(r.restore();!r.isBackEmpty()&&n.frontBottom()!=r.frontBottom();)r.popBack()}this.recoverSolution(t,i)}}else if(i=n.frontTop(),this.recoverSolution(t,i),e-i>1){if(n.frontTop()!=n.backBottom()){var s=this.subDecomp.pairs(i,e);for(s.restore();!s.isFrontEmpty()&&n.backBottom()!=s.backBottom();)s.popFront()}this.recoverSolution(i,e)}}},typeA:function(t,e,i){if(this.visible(t,e)){var n=e,r=this.subDecomp.weight(t,e);if(i-e>1){if(!this.visible(e,i))return;r+=this.subDecomp.weight(e,i)+1}if(e-t>1){var s=this.subDecomp.pairs(t,e),o=this.poly,a=i,A=o.length;a<0&&(a+=A);var l=o[a%A],u=this.poly,h=e,c=u.length;h<0&&(h+=c);var f=u[h%c],m=this.poly,_=s.backTop(),g=_,d=m.length;g<0&&(g+=d);var p=m[_=g%d];if((f.x-l.x)*(p.y-l.y)-(p.x-l.x)*(f.y-l.y)>0)++r;else{for(;;){var y;if(s.backHasNext()){var C=this.poly,v=i,I=C.length;v<0&&(v+=I);var B=C[v%I],E=this.poly,w=e,b=E.length;w<0&&(w+=b);var x=E[w%b],S=this.poly,Q=s.backPeekNext(),k=Q,D=S.length;k<0&&(k+=D);var M=S[Q=k%D];y=!((x.x-B.x)*(M.y-B.y)-(M.x-B.x)*(x.y-B.y)>0)}else y=!1;if(!y)break;s.popBack()}var R;if(s.isBackEmpty())R=!1;else{var V=this.poly,T=i,G=V.length;T<0&&(T+=G);var F=V[T%G],P=this.poly,N=t,L=P.length;N<0&&(N+=L);var U=P[N%L],O=this.poly,Y=s.frontBottom(),H=Y,J=O.length;H<0&&(H+=J);var j=O[Y=H%J];R=!((U.x-F.x)*(j.y-F.y)-(j.x-F.x)*(U.y-F.y)<0)}R?n=s.frontBottom():++r}}this.update(t,i,r,n,e)}},typeB:function(t,e,i){if(this.visible(e,i)){var n=e,r=this.subDecomp.weight(e,i);if(e-t>1){if(!this.visible(t,e))return;r+=this.subDecomp.weight(t,e)+1}if(i-e>1){var s=this.subDecomp.pairs(e,i),o=this.poly,a=t,A=o.length;a<0&&(a+=A);var l=o[a%A],u=this.poly,h=e,c=u.length;h<0&&(h+=c);var f=u[h%c],m=this.poly,_=s.frontTop(),g=_,d=m.length;g<0&&(g+=d);var p=m[_=g%d];if((f.x-l.x)*(p.y-l.y)-(p.x-l.x)*(f.y-l.y)<0)++r;else{for(;;){var y;if(s.frontHasNext()){var C=this.poly,v=t,I=C.length;v<0&&(v+=I);var B=C[v%I],E=this.poly,w=e,b=E.length;w<0&&(w+=b);var x=E[w%b],S=this.poly,Q=s.frontPeekNext(),k=Q,D=S.length;k<0&&(k+=D);var M=S[Q=k%D];y=!((x.x-B.x)*(M.y-B.y)-(M.x-B.x)*(x.y-B.y)<0)}else y=!1;if(!y)break;s.popFront()}var R;if(s.isFrontEmpty())R=!1;else{var V=this.poly,T=t,G=V.length;T<0&&(T+=G);var F=V[T%G],P=this.poly,N=i,L=P.length;N<0&&(N+=L);var U=P[N%L],O=this.poly,Y=s.backBottom(),H=Y,J=O.length;H<0&&(H+=J);var j=O[Y=H%J];R=!((U.x-F.x)*(j.y-F.y)-(j.x-F.x)*(U.y-F.y)>0)}R?n=s.backBottom():++r}}this.update(t,i,r,e,n)}},update:function(t,e,i,n,r){var s=this.subDecomp.weight(t,e);if(i<=s){var o=this.subDecomp.pairs(t,e);i<s&&(o.flush(),this.subDecomp.setWeight(t,e,i)),o.pushNarrow(n,r)}},_decompByDiags:function(t,e,i,n){var r;null==n&&(n=0),0==n&&(this._indicesSet.h[0]=!0,this._indicesSet.h[this.poly.length-1]=!0);var o,a,A,l=!0,u=!0,h=0;if(!(e-t<=1)){var c=this.subDecomp.pairs(t,e);if(this.isReflex(t)?(r=c.backTop(),l=c.frontBottom()==c.backTop()):(r=c.frontTop(),u=c.backBottom()==c.frontTop()),l&&(this._indicesSet.h[t]=!0,this._indicesSet.h[r]=!0,this._diags.push({from:t,to:r}),++h),u&&(this._indicesSet.h[r]=!0,this._indicesSet.h[e]=!0,this._diags.push({from:r,to:e}),++h),this.guard--,h>1){for(var f=[],m=this._indicesSet.keys();m.hasNext();){var _=m.next();f.push(_)}var g=f;g.sort((o=this,null==(a=this.intCmp)?null:(null==a.__id__&&(a.__id__=C++),null==o.hx__closures__?o.hx__closures__={}:A=o.hx__closures__[a.__id__],null==A&&((A=function(){return A.method.apply(A.scope,arguments)}).scope=o,A.method=a,o.hx__closures__[a.__id__]=A),A))),g.length>0&&(i.push(g),this._indicesSet=new s)}l&&r-t>1?(this._decompByDiags(r,e,i,n+1),this._decompByDiags(t,r,i,n+1)):(this._decompByDiags(t,r,i,n+1),this._decompByDiags(r,e,i,n+1))}},intCmp:function(t,e){return t==e?0:e<t?1:-1},decompIndices:function(){var t=[];return this.guard=3*this.n,this._decompByDiags(0,this.poly.length-1,t),m.diagonals=this._diags,t},toString:function(){return this.poly.length+": "+this.poly.toString()}};var g=function(t){var e,i=t.length,n=0;this.rx=[];for(var r=0,s=i;r<s;){var o=r++;this.rx[o]=t[o]?n++:0}e=n,this.wt=[],this.pd=[];for(var a=0,A=i;a<A;){var l=a++;t[l]||(this.rx[l]=e++),this.wt[l]=[],this.pd[l]=[];for(var u=0,h=i;u<h;){var c=u++;if(!(l<n||c<n))break;this.wt[l][c]=_.BAD,this.pd[l][c]=null}}};g.__name__=!0,g.prototype={setWeight:function(t,e,i){this.wt[this.rx[t]][this.rx[e]]=i},weight:function(t,e){return this.wt[this.rx[t]][this.rx[e]]},pairs:function(t,e){return this.pd[this.rx[t]][this.rx[e]]},init:function(t,e){return this.pd[this.rx[t]][this.rx[e]]=new h},initWithWeight:function(t,e,i,n,r){this.setWeight(t,e,i),this.init(t,e).push(n,r)}};var d={__ename__:["hxGeomAlgo","VertexType"],__constructs__:["UNKNOWN","RIGHT_LID","LEFT_LID","RIGHT_WALL","LEFT_WALL"],UNKNOWN:["UNKNOWN",0]};d.UNKNOWN.__enum__=d,d.RIGHT_LID=["RIGHT_LID",1],d.RIGHT_LID.__enum__=d,d.LEFT_LID=["LEFT_LID",2],d.LEFT_LID.__enum__=d,d.RIGHT_WALL=["RIGHT_WALL",3],d.RIGHT_WALL.__enum__=d,d.LEFT_WALL=["LEFT_WALL",4],d.LEFT_WALL.__enum__=d;var p=t.hxGeomAlgo.Visibility=function(){};p.__name__=!0,p.getVisibleIndicesFrom=function(t,e){null==e&&(e=0);var i=[];if(p.poly=[],p.stack.length=0,p.vertexType.length=0,t.length<=0)return i;p.stackTop=-1;for(var n,r=0,s=t.length;r<s;){var o=r++;p.poly.push(u._new(t[o].x,t[o].y)),p.stack.push(-1),p.vertexType.push(d.UNKNOWN)}p.reversed=c.makeCW(p.poly),p.reversed&&(e=p.poly.length-e-1),p.origPoint=p.poly[e];var a=e;for(p.push(a++,d.RIGHT_WALL);p.push(a++,d.RIGHT_WALL),!(a>=p.poly.length+e);){var l=p.poly,h=a-1,f=h,m=l.length;f<0&&(f+=m);var _=p.poly,g=a,y=_.length;if(g<0&&(g+=y),(n=c.meet(l[h=f%m],_[g%y])).left(p.origPoint)){if(a<p.poly.length+e)continue;break}var C=p.poly,v=a-2,I=v,B=C.length;if(I<0&&(I+=B),!n.left(C[v=I%B])){var E=p.poly,w=p.stack[p.stackTop],b=w,x=E.length;if(b<0&&(b+=x),a=p.exitRightBay(p.poly,a,E[w=b%x],A.INFINITY),p.push(a++,d.RIGHT_LID),a<p.poly.length+e)continue;break}for(p.saveLid();;){var S=p.origPoint,Q=p.poly,k=p.stack[p.stackTop],D=k,M=Q.length;D<0&&(D+=M);var R=Q[k=D%M],V=p.poly,T=a,G=V.length;T<0&&(T+=G);var F=V[T%G];if((R.x-S.x)*(F.y-S.y)-(F.x-S.x)*(R.y-S.y)>0){var P=p.poly,N=a,L=P.length;N<0&&(N+=L);var U=P[N%L],O=p.poly,Y=a+1,H=Y,J=O.length;H<0&&(H+=J);var j=O[Y=H%J],K=p.origPoint;if((j.x-U.x)*(K.y-U.y)-(K.x-U.x)*(j.y-U.y)<0)++a;else{var q=p.poly,z=a+1,X=z,W=q.length;if(X<0&&(X+=W),!n.left(q[z=X%W])){p.restoreLid(),p.push(a++,d.LEFT_WALL);break}var Z=p.poly,$=a,tt=Z.length;$<0&&($+=tt);var et=p.poly,it=p.leftLidIdx,nt=it,rt=et.length;nt<0&&(nt+=rt);var st=p.poly,ot=p.leftLidIdx-1,at=ot,At=st.length;at<0&&(at+=At),a=p.exitLeftBay(p.poly,a,Z[$%tt],c.meet(et[it=nt%rt],st[ot=at%At]))+1}var lt=p.poly,ut=a-1,ht=ut,ct=lt.length;ht<0&&(ht+=ct);var ft=p.poly,mt=a,_t=ft.length;mt<0&&(mt+=_t),n=c.meet(lt[ut=ht%ct],ft[mt%_t])}else{var gt=p.poly,dt=p.stack[p.stackTop],pt=dt,yt=gt.length;if(pt<0&&(pt+=yt),!n.left(gt[dt=pt%yt])){var Ct=p.poly,vt=p.stack[p.stackTop],It=vt,Bt=Ct.length;It<0&&(It+=Bt),a=p.exitRightBay(p.poly,a,Ct[vt=It%Bt],n.neg()),p.push(a++,d.RIGHT_LID);break}p.saveLid()}}if(!(a<p.poly.length+e))break}for(var Et=0,wt=p.stackTop+1;Et<wt;){var bt=Et++;if(p.vertexType[bt]==d.LEFT_WALL||p.vertexType[bt]==d.RIGHT_WALL){var xt=p.stack[bt]%p.poly.length;p.reversed&&(xt=p.poly.length-xt-1),i.push(xt)}}return i},p.getVisiblePolyFrom=function(t,e){null==e&&(e=0);var i,n=[];if(p.getVisibleIndicesFrom(t,e).length<=0)return n;var r=p.poly,s=p.stack[p.stackTop],o=s,a=r.length;o<0&&(o+=a);for(var A=r[s=o%a],l=null,h=d.UNKNOWN,f=d.UNKNOWN,m=0,_=p.stackTop+1;m<_;){var g=m++;if((f=p.vertexType[g])==d.RIGHT_LID){var y=c.meet(p.origPoint,A),C=p.poly,v=p.stack[g],I=v,B=C.length;I<0&&(I+=B);var E=p.poly,w=p.stack[g+1],b=w,x=E.length;b<0&&(b+=x),i=y.meet(c.meet(C[v=I%B],E[w=b%x])),null==l||null!=A&&l.x==A.x&&l.y==A.y||n.push(u._new(A.x,A.y)),n.push(i.toPoint())}else if(f==d.LEFT_WALL){var S=p.poly,Q=p.stack[g],k=Q,D=S.length;k<0&&(k+=D);var M=c.meet(p.origPoint,S[Q=k%D]),R=p.poly,V=p.stack[g-2],T=V,G=R.length;T<0&&(T+=G);var F=p.poly,P=p.stack[g-1],N=P,L=F.length;N<0&&(N+=L),i=M.meet(c.meet(R[V=T%G],F[P=N%L])),n.push(i.toPoint())}else f==d.RIGHT_WALL&&h==d.RIGHT_LID||f==d.LEFT_LID&&h==d.RIGHT_LID||n.push(u._new(A.x,A.y));l=n[n.length-1];var U=p.poly,O=p.stack[g],Y=O,H=U.length;Y<0&&(Y+=H),A=U[O=Y%H],h=f}return n},p.exitRightBay=function(t,e,n,r){for(var s,o=0,a=c.meet(p.origPoint,n),l=!1;++e<3*t.length;){s=l;var u,h=e,f=t.length;if(h<0&&(h+=f),(l=a.left(t[h%f]))!=s){var m=e-1,_=m,g=t.length;_<0&&(_+=g);var d=t[m=_%g],y=e,C=t.length;y<0&&(y+=C);var v=t[y%C],I=p.origPoint;u=(v.x-d.x)*(I.y-d.y)-(I.x-d.x)*(v.y-d.y)>0==l}else u=!1;if(u)if(l){if(0==o++){var B=e-1,E=B,w=t.length;E<0&&(E+=w);var b=e,x=t.length;b<0&&(b+=x);var S=c.meet(t[B=E%w],t[b%x]);if(S.left(n)&&!A.cw(a,S,r))return e-1}}else--o}return i.string(r),e},p.exitLeftBay=function(t,e,n,r){for(var s,o=0,a=c.meet(p.origPoint,n),l=!1;++e<3*t.length;){s=l;var u,h=e,f=t.length;if(h<0&&(h+=f),(l=a.right(t[h%f]))!=s){var m=e-1,_=m,g=t.length;_<0&&(_+=g);var d=t[m=_%g],y=e,C=t.length;y<0&&(y+=C);var v=t[y%C],I=p.origPoint;u=(v.x-d.x)*(I.y-d.y)-(I.x-d.x)*(v.y-d.y)<0==l}else u=!1;if(u)if(l){if(0==o--){var B=e-1,E=B,w=t.length;E<0&&(E+=w);var b=e,x=t.length;b<0&&(b+=x);var S=c.meet(t[B=E%w],t[b%x]);if(S.right(n)&&!A.cw(a,S,r))return e-1}}else++o}return i.string(r),e},p.push=function(t,e){p.stackTop++,p.stack[p.stackTop]=t,p.vertexType[p.stackTop]=e},p.saveLid=function(){p.vertexType[p.stackTop]==d.LEFT_WALL&&p.stackTop--,p.leftLidIdx=p.stack[p.stackTop--],p.rightLidIdx=p.vertexType[p.stackTop]==d.RIGHT_LID?p.stack[p.stackTop--]:-1},p.restoreLid=function(){-1!=p.rightLidIdx&&p.push(p.rightLidIdx,d.RIGHT_LID),p.push(p.leftLidIdx,d.LEFT_LID)};var y=function(){};y.__name__=!0,y.__string_rec=function(t,e){if(null==t)return"null";if(e.length>=5)return"<...>";var i=typeof t;switch("function"==i&&(t.__name__||t.__ename__)&&(i="object"),i){case"function":return"<function>";case"object":if(t instanceof Array){if(t.__enum__){if(2==t.length)return t[0];var n=t[0]+"(";e+="\t";for(var r=2,s=t.length;r<s;){var o=r++;n+=2!=o?","+y.__string_rec(t[o],e):y.__string_rec(t[o],e)}return n+")"}var a="[";e+="\t";for(var A=0,l=t.length;A<l;){var u=A++;a+=(u>0?",":"")+y.__string_rec(t[u],e)}return a+"]"}var h;try{h=t.toString}catch(g){return"???"}if(null!=h&&h!=Object.toString&&"function"==typeof h){var c=t.toString();if("[object Object]"!=c)return c}var f=null,m="{\n";e+="\t";var _=null!=t.hasOwnProperty;for(var f in t)_&&!t.hasOwnProperty(f)||"prototype"!=f&&"__class__"!=f&&"__super__"!=f&&"__interfaces__"!=f&&"__properties__"!=f&&(2!=m.length&&(m+=", \n"),m+=e+f+" : "+y.__string_rec(t[f],e));return m+"\n"+(e=e.substring(1))+"}";case"string":return t;default:return String(t)}};var C=0;String.__name__=!0,Array.__name__=!0,A.INFINITY=new A,u.EMPTY=u._new(NaN,NaN),c.point=u._new(),c.zero=u._new(0,0),c.EPSILON=1e-8,_.INFINITY=1e5,_.BAD=999990,_.NONE=0,p.NOT_SAVED=-1,p.stack=[],p.vertexType=[]}(e)},NbP2:function(t,e,i){"use strict";function n(t){if(this._offset=0,t instanceof ArrayBuffer)this._buffer=t,this._view=new DataView(this._buffer);else{if(!ArrayBuffer.isView(t))throw new Error("Invalid argument");this._buffer=t.buffer,this._view=new DataView(this._buffer,t.byteOffset,t.byteLength)}}n.prototype._array=function(t){for(var e=new Array(t),i=0;i<t;i++)e[i]=this._parse();return e},n.prototype._map=function(t){for(var e={},i=0;i<t;i++)e[this._parse()]=this._parse();return e},n.prototype._str=function(t){var e=function(t,e,i){for(var n="",r=0,s=e,o=e+i;s<o;s++){var a=t.getUint8(s);if(0!=(128&a))if(192!=(224&a))if(224!=(240&a)){if(240!=(248&a))throw new Error("Invalid byte "+a.toString(16));(r=(7&a)<<18|(63&t.getUint8(++s))<<12|(63&t.getUint8(++s))<<6|(63&t.getUint8(++s))<<0)>=65536?(r-=65536,n+=String.fromCharCode(55296+(r>>>10),56320+(1023&r))):n+=String.fromCharCode(r)}else n+=String.fromCharCode((15&a)<<12|(63&t.getUint8(++s))<<6|(63&t.getUint8(++s))<<0);else n+=String.fromCharCode((31&a)<<6|63&t.getUint8(++s));else n+=String.fromCharCode(a)}return n}(this._view,this._offset,t);return this._offset+=t,e},n.prototype._bin=function(t){var e=this._buffer.slice(this._offset,this._offset+t);return this._offset+=t,e},n.prototype._parse=function(){var t,e=this._view.getUint8(this._offset++),i=0,n=0,r=0,s=0;if(e<192)return e<128?e:e<144?this._map(15&e):e<160?this._array(15&e):this._str(31&e);if(e>223)return-1*(255-e+1);switch(e){case 192:return null;case 194:return!1;case 195:return!0;case 196:return i=this._view.getUint8(this._offset),this._offset+=1,this._bin(i);case 197:return i=this._view.getUint16(this._offset),this._offset+=2,this._bin(i);case 198:return i=this._view.getUint32(this._offset),this._offset+=4,this._bin(i);case 199:return i=this._view.getUint8(this._offset),n=this._view.getInt8(this._offset+1),this._offset+=2,[n,this._bin(i)];case 200:return i=this._view.getUint16(this._offset),n=this._view.getInt8(this._offset+2),this._offset+=3,[n,this._bin(i)];case 201:return i=this._view.getUint32(this._offset),n=this._view.getInt8(this._offset+4),this._offset+=5,[n,this._bin(i)];case 202:return t=this._view.getFloat32(this._offset),this._offset+=4,t;case 203:return t=this._view.getFloat64(this._offset),this._offset+=8,t;case 204:return t=this._view.getUint8(this._offset),this._offset+=1,t;case 205:return t=this._view.getUint16(this._offset),this._offset+=2,t;case 206:return t=this._view.getUint32(this._offset),this._offset+=4,t;case 207:return r=this._view.getUint32(this._offset)*Math.pow(2,32),s=this._view.getUint32(this._offset+4),this._offset+=8,r+s;case 208:return t=this._view.getInt8(this._offset),this._offset+=1,t;case 209:return t=this._view.getInt16(this._offset),this._offset+=2,t;case 210:return t=this._view.getInt32(this._offset),this._offset+=4,t;case 211:return r=this._view.getInt32(this._offset)*Math.pow(2,32),s=this._view.getUint32(this._offset+4),this._offset+=8,r+s;case 212:return n=this._view.getInt8(this._offset),this._offset+=1,0===n?void(this._offset+=1):[n,this._bin(1)];case 213:return n=this._view.getInt8(this._offset),this._offset+=1,[n,this._bin(2)];case 214:return n=this._view.getInt8(this._offset),this._offset+=1,[n,this._bin(4)];case 215:return n=this._view.getInt8(this._offset),this._offset+=1,0===n?(r=this._view.getInt32(this._offset)*Math.pow(2,32),s=this._view.getUint32(this._offset+4),this._offset+=8,new Date(r+s)):[n,this._bin(8)];case 216:return n=this._view.getInt8(this._offset),this._offset+=1,[n,this._bin(16)];case 217:return i=this._view.getUint8(this._offset),this._offset+=1,this._str(i);case 218:return i=this._view.getUint16(this._offset),this._offset+=2,this._str(i);case 219:return i=this._view.getUint32(this._offset),this._offset+=4,this._str(i);case 220:return i=this._view.getUint16(this._offset),this._offset+=2,this._array(i);case 221:return i=this._view.getUint32(this._offset),this._offset+=4,this._array(i);case 222:return i=this._view.getUint16(this._offset),this._offset+=2,this._map(i);case 223:return i=this._view.getUint32(this._offset),this._offset+=4,this._map(i)}throw new Error("Could not parse")},t.exports=function(t){var e=new n(t),i=e._parse();if(e._offset!==t.byteLength)throw new Error(t.byteLength-e._offset+" trailing bytes");return i}},OKpA:function(t,e,i){"use strict";t.exports={isString:function(t){return"string"==typeof t},isObject:function(t){return"object"==typeof t&&null!==t},isNull:function(t){return null===t},isNullOrUndefined:function(t){return null==t}}},Ow78:function(t,e,i){"use strict";var n=this&&this.__awaiter||function(t,e,i,n){return new(i||(i=Promise))((function(r,s){function o(t){try{A(n.next(t))}catch(e){s(e)}}function a(t){try{A(n.throw(t))}catch(e){s(e)}}function A(t){t.done?r(t.value):new i((function(e){e(t.value)})).then(o,a)}A((n=n.apply(t,e||[])).next())}))},r=this&&this.__generator||function(t,e){var i,n,r,s,o={label:0,sent:function(){if(1&r[0])throw r[1];return r[1]},trys:[],ops:[]};return s={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(s[Symbol.iterator]=function(){return this}),s;function a(s){return function(a){return function(s){if(i)throw new TypeError("Generator is already executing.");for(;o;)try{if(i=1,n&&(r=2&s[0]?n.return:s[0]?n.throw||((r=n.return)&&r.call(n),0):n.next)&&!(r=r.call(n,s[1])).done)return r;switch(n=0,r&&(s=[2&s[0],r.value]),s[0]){case 0:case 1:r=s;break;case 4:return o.label++,{value:s[1],done:!1};case 5:o.label++,n=s[1],s=[0];continue;case 7:s=o.ops.pop(),o.trys.pop();continue;default:if(!(r=(r=o.trys).length>0&&r[r.length-1])&&(6===s[0]||2===s[0])){o=0;continue}if(3===s[0]&&(!r||s[1]>r[0]&&s[1]<r[3])){o.label=s[1];break}if(6===s[0]&&o.label<r[1]){o.label=r[1],r=s;break}if(r&&o.label<r[2]){o.label=r[2],o.ops.push(s);break}r[2]&&o.ops.pop(),o.trys.pop();continue}s=e.call(t,o)}catch(a){s=[6,a],n=0}finally{i=r=0}if(5&s[0])throw s[1];return{value:s[0]?s[1]:void 0,done:!0}}([s,a])}}};Object.defineProperty(e,"__esModule",{value:!0}),e.Push=function(){function t(t){this.endpoint=t.replace("ws","http")}return t.prototype.register=function(){return n(this,void 0,void 0,(function(){return r(this,(function(t){switch(t.label){case 0:return this.check(),[4,this.registerServiceWorker()];case 1:return t.sent(),[4,this.requestNotificationPermission()];case 2:return t.sent(),[2]}}))}))},t.prototype.registerServiceWorker=function(){return n(this,void 0,void 0,(function(){return r(this,(function(t){switch(t.label){case 0:return[4,navigator.serviceWorker.register(this.endpoint+"/push")];case 1:return[2,t.sent()]}}))}))},t.prototype.requestNotificationPermission=function(){return n(this,void 0,void 0,(function(){return r(this,(function(t){switch(t.label){case 0:return[4,window.Notification.requestPermission()];case 1:if("granted"!==t.sent())throw new Error("Permission not granted for Notification");return[2]}}))}))},t.prototype.check=function(){if(!("serviceWorker"in navigator))throw new Error("No Service Worker support!");if(!("PushManager"in window))throw new Error("No Push API Support!")},t}()},Pvix:function(t,e,i){"use strict";var n=i("URxs"),r=i("OKpA");function s(){this.protocol=null,this.slashes=null,this.auth=null,this.host=null,this.port=null,this.hostname=null,this.hash=null,this.search=null,this.query=null,this.pathname=null,this.path=null,this.href=null}e.parse=y,e.resolve=function(t,e){return y(t,!1,!0).resolve(e)},e.resolveObject=function(t,e){return t?y(t,!1,!0).resolveObject(e):e},e.format=function(t){return r.isString(t)&&(t=y(t)),t instanceof s?t.format():s.prototype.format.call(t)},e.Url=s;var o=/^([a-z0-9.+-]+:)/i,a=/:[0-9]*$/,A=/^(\/\/?(?!\/)[^\?\s]*)(\?[^\s]*)?$/,l=["{","}","|","\\","^","`"].concat(["<",">",'"',"`"," ","\r","\n","\t"]),u=["'"].concat(l),h=["%","/","?",";","#"].concat(u),c=["/","?","#"],f=/^[+a-z0-9A-Z_-]{0,63}$/,m=/^([+a-z0-9A-Z_-]{0,63})(.*)$/,_={javascript:!0,"javascript:":!0},g={javascript:!0,"javascript:":!0},d={http:!0,https:!0,ftp:!0,gopher:!0,file:!0,"http:":!0,"https:":!0,"ftp:":!0,"gopher:":!0,"file:":!0},p=i("oG+F");function y(t,e,i){if(t&&r.isObject(t)&&t instanceof s)return t;var n=new s;return n.parse(t,e,i),n}s.prototype.parse=function(t,e,i){if(!r.isString(t))throw new TypeError("Parameter 'url' must be a string, not "+typeof t);var s=t.indexOf("?"),a=-1!==s&&s<t.indexOf("#")?"?":"#",l=t.split(a);l[0]=l[0].replace(/\\/g,"/");var y=t=l.join(a);if(y=y.trim(),!i&&1===t.split("#").length){var C=A.exec(y);if(C)return this.path=y,this.href=y,this.pathname=C[1],C[2]?(this.search=C[2],this.query=e?p.parse(this.search.substr(1)):this.search.substr(1)):e&&(this.search="",this.query={}),this}var v=o.exec(y);if(v){var I=(v=v[0]).toLowerCase();this.protocol=I,y=y.substr(v.length)}if(i||v||y.match(/^\/\/[^@\/]+@[^@\/]+/)){var B="//"===y.substr(0,2);!B||v&&g[v]||(y=y.substr(2),this.slashes=!0)}if(!g[v]&&(B||v&&!d[v])){for(var E,w,b=-1,x=0;x<c.length;x++)-1!==(S=y.indexOf(c[x]))&&(-1===b||S<b)&&(b=S);for(-1!==(w=-1===b?y.lastIndexOf("@"):y.lastIndexOf("@",b))&&(E=y.slice(0,w),y=y.slice(w+1),this.auth=decodeURIComponent(E)),b=-1,x=0;x<h.length;x++){var S;-1!==(S=y.indexOf(h[x]))&&(-1===b||S<b)&&(b=S)}-1===b&&(b=y.length),this.host=y.slice(0,b),y=y.slice(b),this.parseHost(),this.hostname=this.hostname||"";var Q="["===this.hostname[0]&&"]"===this.hostname[this.hostname.length-1];if(!Q)for(var k=this.hostname.split(/\./),D=(x=0,k.length);x<D;x++){var M=k[x];if(M&&!M.match(f)){for(var R="",V=0,T=M.length;V<T;V++)M.charCodeAt(V)>127?R+="x":R+=M[V];if(!R.match(f)){var G=k.slice(0,x),F=k.slice(x+1),P=M.match(m);P&&(G.push(P[1]),F.unshift(P[2])),F.length&&(y="/"+F.join(".")+y),this.hostname=G.join(".");break}}}this.hostname=this.hostname.length>255?"":this.hostname.toLowerCase(),Q||(this.hostname=n.toASCII(this.hostname)),this.host=(this.hostname||"")+(this.port?":"+this.port:""),this.href+=this.host,Q&&(this.hostname=this.hostname.substr(1,this.hostname.length-2),"/"!==y[0]&&(y="/"+y))}if(!_[I])for(x=0,D=u.length;x<D;x++){var N=u[x];if(-1!==y.indexOf(N)){var L=encodeURIComponent(N);L===N&&(L=escape(N)),y=y.split(N).join(L)}}var U=y.indexOf("#");-1!==U&&(this.hash=y.substr(U),y=y.slice(0,U));var O=y.indexOf("?");return-1!==O?(this.search=y.substr(O),this.query=y.substr(O+1),e&&(this.query=p.parse(this.query)),y=y.slice(0,O)):e&&(this.search="",this.query={}),y&&(this.pathname=y),d[I]&&this.hostname&&!this.pathname&&(this.pathname="/"),(this.pathname||this.search)&&(this.path=(this.pathname||"")+(this.search||"")),this.href=this.format(),this},s.prototype.format=function(){var t=this.auth||"";t&&(t=(t=encodeURIComponent(t)).replace(/%3A/i,":"),t+="@");var e=this.protocol||"",i=this.pathname||"",n=this.hash||"",s=!1,o="";this.host?s=t+this.host:this.hostname&&(s=t+(-1===this.hostname.indexOf(":")?this.hostname:"["+this.hostname+"]"),this.port&&(s+=":"+this.port)),this.query&&r.isObject(this.query)&&Object.keys(this.query).length&&(o=p.stringify(this.query));var a=this.search||o&&"?"+o||"";return e&&":"!==e.substr(-1)&&(e+=":"),this.slashes||(!e||d[e])&&!1!==s?(s="//"+(s||""),i&&"/"!==i.charAt(0)&&(i="/"+i)):s||(s=""),n&&"#"!==n.charAt(0)&&(n="#"+n),a&&"?"!==a.charAt(0)&&(a="?"+a),e+s+(i=i.replace(/[?#]/g,(function(t){return encodeURIComponent(t)})))+(a=a.replace("#","%23"))+n},s.prototype.resolve=function(t){return this.resolveObject(y(t,!1,!0)).format()},s.prototype.resolveObject=function(t){if(r.isString(t)){var e=new s;e.parse(t,!1,!0),t=e}for(var i=new s,n=Object.keys(this),o=0;o<n.length;o++){var a=n[o];i[a]=this[a]}if(i.hash=t.hash,""===t.href)return i.href=i.format(),i;if(t.slashes&&!t.protocol){for(var A=Object.keys(t),l=0;l<A.length;l++){var u=A[l];"protocol"!==u&&(i[u]=t[u])}return d[i.protocol]&&i.hostname&&!i.pathname&&(i.path=i.pathname="/"),i.href=i.format(),i}if(t.protocol&&t.protocol!==i.protocol){if(!d[t.protocol]){for(var h=Object.keys(t),c=0;c<h.length;c++){var f=h[c];i[f]=t[f]}return i.href=i.format(),i}if(i.protocol=t.protocol,t.host||g[t.protocol])i.pathname=t.pathname;else{for(var m=(t.pathname||"").split("/");m.length&&!(t.host=m.shift()););t.host||(t.host=""),t.hostname||(t.hostname=""),""!==m[0]&&m.unshift(""),m.length<2&&m.unshift(""),i.pathname=m.join("/")}return i.search=t.search,i.query=t.query,i.host=t.host||"",i.auth=t.auth,i.hostname=t.hostname||t.host,i.port=t.port,(i.pathname||i.search)&&(i.path=(i.pathname||"")+(i.search||"")),i.slashes=i.slashes||t.slashes,i.href=i.format(),i}var _=i.pathname&&"/"===i.pathname.charAt(0),p=t.host||t.pathname&&"/"===t.pathname.charAt(0),y=p||_||i.host&&t.pathname,C=y,v=i.pathname&&i.pathname.split("/")||[],I=(m=t.pathname&&t.pathname.split("/")||[],i.protocol&&!d[i.protocol]);if(I&&(i.hostname="",i.port=null,i.host&&(""===v[0]?v[0]=i.host:v.unshift(i.host)),i.host="",t.protocol&&(t.hostname=null,t.port=null,t.host&&(""===m[0]?m[0]=t.host:m.unshift(t.host)),t.host=null),y=y&&(""===m[0]||""===v[0])),p)i.host=t.host||""===t.host?t.host:i.host,i.hostname=t.hostname||""===t.hostname?t.hostname:i.hostname,i.search=t.search,i.query=t.query,v=m;else if(m.length)v||(v=[]),v.pop(),v=v.concat(m),i.search=t.search,i.query=t.query;else if(!r.isNullOrUndefined(t.search))return I&&(i.hostname=i.host=v.shift(),(x=!!(i.host&&i.host.indexOf("@")>0)&&i.host.split("@"))&&(i.auth=x.shift(),i.host=i.hostname=x.shift())),i.search=t.search,i.query=t.query,r.isNull(i.pathname)&&r.isNull(i.search)||(i.path=(i.pathname?i.pathname:"")+(i.search?i.search:"")),i.href=i.format(),i;if(!v.length)return i.pathname=null,i.path=i.search?"/"+i.search:null,i.href=i.format(),i;for(var B=v.slice(-1)[0],E=(i.host||t.host||v.length>1)&&("."===B||".."===B)||""===B,w=0,b=v.length;b>=0;b--)"."===(B=v[b])?v.splice(b,1):".."===B?(v.splice(b,1),w++):w&&(v.splice(b,1),w--);if(!y&&!C)for(;w--;w)v.unshift("..");!y||""===v[0]||v[0]&&"/"===v[0].charAt(0)||v.unshift(""),E&&"/"!==v.join("/").substr(-1)&&v.push("");var x,S=""===v[0]||v[0]&&"/"===v[0].charAt(0);return I&&(i.hostname=i.host=S?"":v.length?v.shift():"",(x=!!(i.host&&i.host.indexOf("@")>0)&&i.host.split("@"))&&(i.auth=x.shift(),i.host=i.hostname=x.shift())),(y=y||i.host&&v.length)&&!S&&v.unshift(""),v.length?i.pathname=v.join("/"):(i.pathname=null,i.path=null),r.isNull(i.pathname)&&r.isNull(i.search)||(i.path=(i.pathname?i.pathname:"")+(i.search?i.search:"")),i.auth=t.auth||i.auth,i.slashes=i.slashes||t.slashes,i.href=i.format(),i},s.prototype.parseHost=function(){var t=this.host,e=a.exec(t);e&&(":"!==(e=e[0])&&(this.port=e.substr(1)),t=t.substr(0,t.length-e.length)),t&&(this.hostname=t)}},"QW+4":function(t,e){ArrayBuffer.isView||(ArrayBuffer.isView=function(t){return null!==t&&"object"==typeof t&&t.buffer instanceof ArrayBuffer})},RN1w:function(t,e,i){var n;n=function(){"use strict";var t={},e=16;function i(){this.a=0,this.b=0,this.i=0,this.z=new Array(e)}i.prototype.init=function(t,i){var n,r,s=0,o=0;for(n=0;n<e;n++)s=s+(r=t[i+n])&65535,o=o+(e-n)*r&65535,this.z[n]=r;this.a=65535&s,this.b=65535&o,this.i=0},i.prototype.next=function(t){var i=this.z[this.i];this.z[this.i]=t,this.i=this.i+1&e-1,this.a=this.a-i+t&65535,this.b=this.b-e*i+this.a&65535},i.prototype.value=function(){return(65535&this.a|(65535&this.b)<<16)>>>0};var n="0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ_abcdefghijklmnopqrstuvwxyz~".split("").map((function(t){return t.charCodeAt(0)})),r=[-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,0,1,2,3,4,5,6,7,8,9,-1,-1,-1,-1,-1,-1,-1,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33,34,35,-1,-1,-1,-1,36,-1,37,38,39,40,41,42,43,44,45,46,47,48,49,50,51,52,53,54,55,56,57,58,59,60,61,62,-1,-1,-1,63,-1];function s(t){this.a=t,this.pos=0}function o(){this.a=[]}function a(t){var e,i;for(e=1,i=64;t>=i;e++,i<<=6);return e}function A(t){for(var e=0,i=0,n=0,r=0,s=0,o=t.length;o>=16;)e=(e=(e=(e=e+t[s+0]|0)+t[s+4]|0)+t[s+8]|0)+t[s+12]|0,i=(i=(i=(i=i+t[s+1]|0)+t[s+5]|0)+t[s+9]|0)+t[s+13]|0,n=(n=(n=(n=n+t[s+2]|0)+t[s+6]|0)+t[s+10]|0)+t[s+14]|0,r=(r=(r=(r=r+t[s+3]|0)+t[s+7]|0)+t[s+11]|0)+t[s+15]|0,s+=16,o-=16;for(;o>=4;)e=e+t[s+0]|0,i=i+t[s+1]|0,n=n+t[s+2]|0,r=r+t[s+3]|0,s+=4,o-=4;switch(r=((r+(n<<8)|0)+(i<<16)|0)+(e<<24)|0,o){case 3:r=r+(t[s+2]<<8)|0;case 2:r=r+(t[s+1]<<16)|0;case 1:r=r+(t[s+0]<<24)|0}return r>>>0}return s.prototype.haveBytes=function(){return this.pos<this.a.length},s.prototype.getByte=function(){var t=this.a[this.pos];if(this.pos++,this.pos>this.a.length)throw new RangeError("out of bounds");return t},s.prototype.getChar=function(){return String.fromCharCode(this.getByte())},s.prototype.getInt=function(){for(var t,e=0;this.haveBytes()&&(t=r[127&this.getByte()])>=0;)e=(e<<6)+t;return this.pos--,e>>>0},o.prototype.toArray=function(){return this.a},o.prototype.putByte=function(t){this.a.push(255&t)},o.prototype.putChar=function(t){this.putByte(t.charCodeAt(0))},o.prototype.putInt=function(t){var e,i,r=[];if(0!==t){for(e=0;t>0;e++,t>>>=6)r.push(n[63&t]);for(i=e-1;i>=0;i--)this.putByte(r[i])}else this.putChar("0")},o.prototype.putArray=function(t,e,i){for(var n=e;n<i;n++)this.a.push(t[n])},t.create=function(t,n){var r,s=new o,l=n.length,u=t.length,h=-1;if(s.putInt(l),s.putChar("\n"),u<=e)return s.putInt(l),s.putChar(":"),s.putArray(n,0,l),s.putInt(A(n)),s.putChar(";"),s.toArray();var c=Math.ceil(u/e),f=new Array(c),m=new Array(c);for(r=0;r<f.length;r++)f[r]=-1;for(r=0;r<m.length;r++)m[r]=-1;var _,g=new i;for(r=0;r<u-e;r+=e)g.init(t,r),_=g.value()%c,f[r/e]=m[_],m[_]=r/e;for(var d,p,y,C,v,I=0;I+e<l;)for(C=0,v=0,g.init(n,I),r=0,y=0;;){var B=250;for(p=m[_=g.value()%c];p>=0&&B-- >0;){var E,w,b,x,S,Q,k;for(x=0,Q=d=p*e,k=I+r;Q<u&&k<l&&t[Q]===n[k];x++,Q++,k++);for(x--,S=1;S<d&&S<=r&&t[d-S]===n[I+r-S];S++);w=d- --S,b=r-S,(E=x+S+1)>=a(r-S)+a(E)+a(w)+3&&E>y&&(y=E,C=d-S,v=b),p=f[p]}if(y>0){v>0&&(s.putInt(v),s.putChar(":"),s.putArray(n,I,I+v),I+=v),I+=y,s.putInt(y),s.putChar("@"),s.putInt(C),s.putChar(","),C+y-1>h&&(h=C+y-1),y=0;break}if(I+r+e>=l){s.putInt(l-I),s.putChar(":"),s.putArray(n,I,I+l-I),I=l;break}g.next(n[I+r+e]),r++}return I<l&&(s.putInt(l-I),s.putChar(":"),s.putArray(n,I,I+l-I)),s.putInt(A(n)),s.putChar(";"),s.toArray()},t.outputSize=function(t){var e=new s(t),i=e.getInt();if("\n"!==e.getChar())throw new Error("size integer not terminated by '\\n'");return i},t.apply=function(t,e,i){var n,r=0,a=new s(e),l=t.length,u=e.length;if(n=a.getInt(),"\n"!==a.getChar())throw new Error("size integer not terminated by '\\n'");for(var h=new o;a.haveBytes();){var c,f;switch(c=a.getInt(),a.getChar()){case"@":if(f=a.getInt(),a.haveBytes()&&","!==a.getChar())throw new Error("copy command not terminated by ','");if((r+=c)>n)throw new Error("copy exceeds output file size");if(f+c>l)throw new Error("copy extends past end of input");h.putArray(t,f,f+c);break;case":":if((r+=c)>n)throw new Error("insert command gives an output larger than predicted");if(c>u)throw new Error("insert count exceeds size of delta");h.putArray(a.a,a.pos,a.pos+c),a.pos+=c;break;case";":var m=h.toArray();if((!i||!1!==i.verifyChecksum)&&c!==A(m))throw new Error("bad checksum");if(r!==n)throw new Error("generated size does not match predicted size");return m;default:throw new Error("unknown delta operator")}}throw new Error("unterminated delta")},t},t.exports?t.exports=n():this.fossilDelta=n()},"S/KZ":function(t,e,i){"use strict";var n;function r(){return n||(n="undefined"!=typeof cc&&cc.sys&&cc.sys.localStorage?cc.sys.localStorage:"undefined"!=typeof window&&window.localStorage?window.localStorage:{cache:{},setItem:function(t,e){this.cache[t]=e},getItem:function(t){},removeItem:function(t){delete this.cache[t]}}),n}Object.defineProperty(e,"__esModule",{value:!0}),e.setItem=function(t,e){r().setItem(t,e)},e.removeItem=function(t){r().removeItem(t)},e.getItem=function(t,e){var i=r().getItem(t);"undefined"!=typeof Promise&&i instanceof Promise?i.then((function(t){return e(t)})):e(i)}},SeVD:function(t,e,i){"use strict";var n=i("ngJS"),r=i("NJ4a"),s=i("Lhse"),o=i("kJWO"),a=i("I55L"),A=i("c2HN"),l=i("XoHu");i.d(e,"a",(function(){return u}));var u=function(t){if(t&&"function"==typeof t[o.a])return e=t,function(t){var i=e[o.a]();if("function"!=typeof i.subscribe)throw new TypeError("Provided object does not correctly implement Symbol.observable");return i.subscribe(t)};var e,i,u;if(Object(a.a)(t))return Object(n.a)(t);if(Object(A.a)(t))return i=t,function(t){return i.then((function(e){t.closed||(t.next(e),t.complete())}),(function(e){return t.error(e)})).then(null,r.a),t};if(t&&"function"==typeof t[s.a])return u=t,function(t){for(var e=u[s.a]();;){var i=e.next();if(i.done){t.complete();break}if(t.next(i.value),t.closed)break}return"function"==typeof e.return&&t.add((function(){e.return&&e.return()})),t};var h=Object(l.a)(t)?"an invalid object":"'".concat(t,"'");throw new TypeError("You provided ".concat(h," where a stream was expected.")+" You can provide an Observable, Promise, Array, or Iterable.")}},SpAZ:function(t,e,i){"use strict";function n(t){return t}i.d(e,"a",(function(){return n}))},Tk29:function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.END_OF_STRUCTURE=193,e.NIL=192,e.INDEX_CHANGE=212,e.TYPE_ID=213},URxs:function(t,e,i){(function(t){var n;!function(r){"object"==typeof global&&global;var s,o=2147483647,a=36,A=1,l=26,u=38,h=700,c=72,f=128,m="-",_=/^xn--/,g=/[^\x20-\x7E]/,d=/[\x2E\u3002\uFF0E\uFF61]/g,p={overflow:"Overflow: input needs wider integers to process","not-basic":"Illegal input >= 0x80 (not a basic code point)","invalid-input":"Invalid input"},y=a-A,C=Math.floor,v=String.fromCharCode;function I(t){throw RangeError(p[t])}function B(t,e){for(var i=t.length,n=[];i--;)n[i]=e(t[i]);return n}function E(t,e){var i=t.split("@"),n="";return i.length>1&&(n=i[0]+"@",t=i[1]),n+B((t=t.replace(d,".")).split("."),e).join(".")}function w(t){for(var e,i,n=[],r=0,s=t.length;r<s;)(e=t.charCodeAt(r++))>=55296&&e<=56319&&r<s?56320==(64512&(i=t.charCodeAt(r++)))?n.push(((1023&e)<<10)+(1023&i)+65536):(n.push(e),r--):n.push(e);return n}function b(t){return B(t,(function(t){var e="";return t>65535&&(e+=v((t-=65536)>>>10&1023|55296),t=56320|1023&t),e+v(t)})).join("")}function x(t,e){return t+22+75*(t<26)-((0!=e)<<5)}function S(t,e,i){var n=0;for(t=i?C(t/h):t>>1,t+=C(t/e);t>y*l>>1;n+=a)t=C(t/y);return C(n+(y+1)*t/(t+u))}function Q(t){var e,i,n,r,s,u,h,_,g,d,p,y=[],v=t.length,B=0,E=f,w=c;for((i=t.lastIndexOf(m))<0&&(i=0),n=0;n<i;++n)t.charCodeAt(n)>=128&&I("not-basic"),y.push(t.charCodeAt(n));for(r=i>0?i+1:0;r<v;){for(s=B,u=1,h=a;r>=v&&I("invalid-input"),((_=(p=t.charCodeAt(r++))-48<10?p-22:p-65<26?p-65:p-97<26?p-97:a)>=a||_>C((o-B)/u))&&I("overflow"),B+=_*u,!(_<(g=h<=w?A:h>=w+l?l:h-w));h+=a)u>C(o/(d=a-g))&&I("overflow"),u*=d;w=S(B-s,e=y.length+1,0==s),C(B/e)>o-E&&I("overflow"),E+=C(B/e),B%=e,y.splice(B++,0,E)}return b(y)}function k(t){var e,i,n,r,s,u,h,_,g,d,p,y,B,E,b,Q=[];for(y=(t=w(t)).length,e=f,i=0,s=c,u=0;u<y;++u)(p=t[u])<128&&Q.push(v(p));for(n=r=Q.length,r&&Q.push(m);n<y;){for(h=o,u=0;u<y;++u)(p=t[u])>=e&&p<h&&(h=p);for(h-e>C((o-i)/(B=n+1))&&I("overflow"),i+=(h-e)*B,e=h,u=0;u<y;++u)if((p=t[u])<e&&++i>o&&I("overflow"),p==e){for(_=i,g=a;!(_<(d=g<=s?A:g>=s+l?l:g-s));g+=a)Q.push(v(x(d+(b=_-d)%(E=a-d),0))),_=C(b/E);Q.push(v(x(_,0))),s=S(i,B,n==r),i=0,++n}++i,++e}return Q.join("")}s={version:"1.3.2",ucs2:{decode:w,encode:b},decode:Q,encode:k,toASCII:function(t){return E(t,(function(t){return g.test(t)?"xn--"+k(t):t}))},toUnicode:function(t){return E(t,(function(t){return _.test(t)?Q(t.slice(4).toLowerCase()):t}))}},void 0===(n=(function(){return s}).call(e,i,e,t))||(t.exports=n)}()}).call(this,i("YuTi")(t))},VaoJ:function(t,e,i){"use strict";var n=this&&this.__assign||function(){return(n=Object.assign||function(t){for(var e,i=1,n=arguments.length;i<n;i++)for(var r in e=arguments[i])Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r]);return t}).apply(this,arguments)};Object.defineProperty(e,"__esModule",{value:!0});var r=i("ihw8"),s=i("ya82"),o=function(t,e){if(void 0!==e)for(var i=0,n=e.length;i<n;i++){var r=e[i],s=r.data;!s||s.length<=0||(Array.isArray(s[0])?t.addPaths(s,r.joinType,r.endType):t.addPath(s,r.joinType,r.endType))}};function a(t,e,i){var a=n({arcTolerance:.25,miterLimit:2},i),A=new s.ClipperOffset(e,a.miterLimit,a.arcTolerance);try{if(o(A,i.offsetInputs),t){if(void 0!==i.cleanDistance)throw new r.ClipperError("cleaning is not available for poly tree results");return A.executeToPolyTree(i.delta)}return A.executeToPaths(i.delta,i.cleanDistance)}catch(l){return}finally{A.dispose()}}e.offsetToPaths=function(t,e){return a(!1,t,e)},e.offsetToPolyTree=function(t,e){return a(!0,t,e)}},VmUl:function(t,e,i){"use strict";var n=function(t){switch(typeof t){case"string":return t;case"boolean":return t?"true":"false";case"number":return isFinite(t)?t:"";default:return""}};t.exports=function(t,e,i,r){return e=e||"&",i=i||"=",null===t&&(t=void 0),"object"==typeof t?Object.keys(t).map((function(r){var s=encodeURIComponent(n(r))+i;return Array.isArray(t[r])?t[r].map((function(t){return s+encodeURIComponent(n(t))})).join(e):s+encodeURIComponent(n(t[r]))})).join(e):r?encodeURIComponent(n(r))+i+encodeURIComponent(n(t)):""}},WjO6:function(t,e,i){"use strict";var n=this&&this.__importStar||function(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var i in t)Object.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e.default=t,e};Object.defineProperty(e,"__esModule",{value:!0});var r=i("3Hso"),s=n(i("RN1w")),o=n(i("ckdo"));e.FossilDeltaSerializer=function(){function t(){this.api=new r.StateContainer({})}return t.prototype.getState=function(){return this.api.state},t.prototype.setState=function(t){this.previousState=new Uint8Array(t),this.api.set(o.decode(this.previousState))},t.prototype.patch=function(t){this.previousState=new Uint8Array(s.apply(this.previousState,t)),this.api.set(o.decode(this.previousState))},t.prototype.teardown=function(){this.api.removeAllListeners()},t}()},WrXh:function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.mallocDoubleArray=function(t,e){var i=e*Float64Array.BYTES_PER_ELEMENT,n=t._malloc(i);return new Float64Array(t.HEAPF64.buffer,n,e)},e.freeTypedArray=function(t,e){t._free(e.byteOffset)}},X9PU:function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=i("WrXh"),r=2;function s(t){return 1+t.length*r}function o(t,e,i){var n=t.length;e[i]=n;for(var r=1+i,s=0;s<n;s++)e[r++]=t[s].x,e[r++]=t[s].y;return r}function a(t,e){var i=s(e),r=n.mallocDoubleArray(t,i);return o(e,r,0),r}function A(t,e,i){var r=new t.Path;return t.toPath(r,e.byteOffset),i&&n.freeTypedArray(t,e),r}function l(t,e,i){var n=t.fromPath(e);return i&&e.delete(),n}function u(t,e,i,r){var s=e[r],o=[];o.length=s;for(var a=1+r,A=0;A<s;A++)o[A]={x:e[a++],y:e[a++]};return i&&n.freeTypedArray(t,e),{path:o,ptrEnd:a}}e.getNofItemsForPath=s,e.writePathToDoubleArray=o,e.pathToDoubleArray=a,e.doubleArrayToNativePath=A,e.pathToNativePath=function(t,e){return A(t,a(t,e),!0)},e.nativePathToDoubleArray=l,e.doubleArrayToPath=u,e.nativePathToPath=function(t,e,i){return u(t,l(t,e,i),!0,0).path}},XNiG:function(t,e,i){"use strict";var n=i("HDdC"),r=i("7o/Q"),s=i("quSY"),o=i("9ppp"),a=function(t){function e(t,i){var n;return _classCallCheck2(this,e),(n=_possibleConstructorReturn(this,_getPrototypeOf(e).call(this))).subject=t,n.subscriber=i,n.closed=!1,n}return _inherits(e,t),_createClass2(e,[{key:"unsubscribe",value:function(){if(!this.closed){this.closed=!0;var t=this.subject,e=t.observers;if(this.subject=null,e&&0!==e.length&&!t.isStopped&&!t.closed){var i=e.indexOf(this.subscriber);-1!==i&&e.splice(i,1)}}}}]),e}(s.a),A=i("2QA8");i.d(e,"b",(function(){return u})),i.d(e,"a",(function(){return h}));var l,u=function(t){function e(t){var i;return _classCallCheck2(this,e),(i=_possibleConstructorReturn(this,_getPrototypeOf(e).call(this,t))).destination=t,i}return _inherits(e,t),e}(r.a),h=((l=function(t){function e(){var t;return _classCallCheck2(this,e),(t=_possibleConstructorReturn(this,_getPrototypeOf(e).call(this))).observers=[],t.closed=!1,t.isStopped=!1,t.hasError=!1,t.thrownError=null,t}return _inherits(e,t),_createClass2(e,[{key:A.a,value:function(){return new u(this)}},{key:"lift",value:function(t){var e=new c(this,this);return e.operator=t,e}},{key:"next",value:function(t){if(this.closed)throw new o.a;if(!this.isStopped)for(var e=this.observers,i=e.length,n=e.slice(),r=0;r<i;r++)n[r].next(t)}},{key:"error",value:function(t){if(this.closed)throw new o.a;this.hasError=!0,this.thrownError=t,this.isStopped=!0;for(var e=this.observers,i=e.length,n=e.slice(),r=0;r<i;r++)n[r].error(t);this.observers.length=0}},{key:"complete",value:function(){if(this.closed)throw new o.a;this.isStopped=!0;for(var t=this.observers,e=t.length,i=t.slice(),n=0;n<e;n++)i[n].complete();this.observers.length=0}},{key:"unsubscribe",value:function(){this.isStopped=!0,this.closed=!0,this.observers=null}},{key:"_trySubscribe",value:function(t){if(this.closed)throw new o.a;return _get(_getPrototypeOf(e.prototype),"_trySubscribe",this).call(this,t)}},{key:"_subscribe",value:function(t){if(this.closed)throw new o.a;return this.hasError?(t.error(this.thrownError),s.a.EMPTY):this.isStopped?(t.complete(),s.a.EMPTY):(this.observers.push(t),new a(this,t))}},{key:"asObservable",value:function(){var t=new n.a;return t.source=this,t}}]),e}(n.a)).create=function(t,e){return new c(t,e)},l),c=function(t){function e(t,i){var n;return _classCallCheck2(this,e),(n=_possibleConstructorReturn(this,_getPrototypeOf(e).call(this))).destination=t,n.source=i,n}return _inherits(e,t),_createClass2(e,[{key:"next",value:function(t){var e=this.destination;e&&e.next&&e.next(t)}},{key:"error",value:function(t){var e=this.destination;e&&e.error&&this.destination.error(t)}},{key:"complete",value:function(){var t=this.destination;t&&t.complete&&this.destination.complete()}},{key:"_subscribe",value:function(t){return this.source?this.source.subscribe(t):s.a.EMPTY}}]),e}(h)},XoHu:function(t,e,i){"use strict";function n(t){return null!==t&&"object"==typeof t}i.d(e,"a",(function(){return n}))},Y0G6:function(t,e,i){"use strict";var n=this&&this.__awaiter||function(t,e,i,n){return new(i||(i=Promise))((function(r,s){function o(t){try{A(n.next(t))}catch(e){s(e)}}function a(t){try{A(n.throw(t))}catch(e){s(e)}}function A(t){t.done?r(t.value):new i((function(e){e(t.value)})).then(o,a)}A((n=n.apply(t,e||[])).next())}))},r=this&&this.__generator||function(t,e){var i,n,r,s,o={label:0,sent:function(){if(1&r[0])throw r[1];return r[1]},trys:[],ops:[]};return s={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(s[Symbol.iterator]=function(){return this}),s;function a(s){return function(a){return function(s){if(i)throw new TypeError("Generator is already executing.");for(;o;)try{if(i=1,n&&(r=2&s[0]?n.return:s[0]?n.throw||((r=n.return)&&r.call(n),0):n.next)&&!(r=r.call(n,s[1])).done)return r;switch(n=0,r&&(s=[2&s[0],r.value]),s[0]){case 0:case 1:r=s;break;case 4:return o.label++,{value:s[1],done:!1};case 5:o.label++,n=s[1],s=[0];continue;case 7:s=o.ops.pop(),o.trys.pop();continue;default:if(!(r=(r=o.trys).length>0&&r[r.length-1])&&(6===s[0]||2===s[0])){o=0;continue}if(3===s[0]&&(!r||s[1]>r[0]&&s[1]<r[3])){o.label=s[1];break}if(6===s[0]&&o.label<r[1]){o.label=r[1],r=s;break}if(r&&o.label<r[2]){o.label=r[2],o.ops.push(s);break}r[2]&&o.ops.pop(),o.trys.pop();continue}s=e.call(t,o)}catch(a){s=[6,a],n=0}finally{i=r=0}if(5&s[0])throw s[1];return{value:s[0]?s[1]:void 0,done:!0}}([s,a])}}},s=this&&this.__importStar||function(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var i in t)Object.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e.default=t,e};Object.defineProperty(e,"__esModule",{value:!0});var o,a=s(i("gqVT")),A=i("S/KZ"),l="colyseus-auth-token";e.Platform=((o=e.Platform||{}).ios="ios",o.android="android",o),e.Auth=function(){function t(t){var e=this;this._id=void 0,this.username=void 0,this.displayName=void 0,this.avatarUrl=void 0,this.isAnonymous=void 0,this.email=void 0,this.lang=void 0,this.location=void 0,this.timezone=void 0,this.metadata=void 0,this.devices=void 0,this.facebookId=void 0,this.twitterId=void 0,this.googleId=void 0,this.gameCenterId=void 0,this.steamId=void 0,this.friendIds=void 0,this.blockedUserIds=void 0,this.createdAt=void 0,this.updatedAt=void 0,this.token=void 0,this.endpoint=t.replace("ws","http"),A.getItem(l,(function(t){return e.token=t}))}return Object.defineProperty(t.prototype,"hasToken",{get:function(){return!!this.token},enumerable:!0,configurable:!0}),t.prototype.login=function(t){return void 0===t&&(t={}),n(this,void 0,void 0,(function(){var e,i,n;return r(this,(function(r){switch(r.label){case 0:return e=Object.assign({},t),this.hasToken&&(e.token=this.token),[4,this.request("post","/auth",e)];case 1:for(n in i=r.sent(),this.token=i.token,A.setItem(l,this.token),i)this.hasOwnProperty(n)&&(this[n]=i[n]);return this.registerPingService(),[2,this]}}))}))},t.prototype.save=function(){return n(this,void 0,void 0,(function(){return r(this,(function(t){switch(t.label){case 0:return[4,this.request("put","/auth",{},{username:this.username,displayName:this.displayName,avatarUrl:this.avatarUrl,lang:this.lang,location:this.location,timezone:this.timezone})];case 1:return t.sent(),[2,this]}}))}))},t.prototype.getFriends=function(){return n(this,void 0,void 0,(function(){return r(this,(function(t){switch(t.label){case 0:return[4,this.request("get","/friends/all")];case 1:return[2,t.sent()]}}))}))},t.prototype.getOnlineFriends=function(){return n(this,void 0,void 0,(function(){return r(this,(function(t){switch(t.label){case 0:return[4,this.request("get","/friends/online")];case 1:return[2,t.sent()]}}))}))},t.prototype.getFriendRequests=function(){return n(this,void 0,void 0,(function(){return r(this,(function(t){switch(t.label){case 0:return[4,this.request("get","/friends/requests")];case 1:return[2,t.sent()]}}))}))},t.prototype.sendFriendRequest=function(t){return n(this,void 0,void 0,(function(){return r(this,(function(e){switch(e.label){case 0:return[4,this.request("post","/friends/requests",{userId:t})];case 1:return[2,e.sent()]}}))}))},t.prototype.acceptFriendRequest=function(t){return n(this,void 0,void 0,(function(){return r(this,(function(e){switch(e.label){case 0:return[4,this.request("put","/friends/requests",{userId:t})];case 1:return[2,e.sent()]}}))}))},t.prototype.declineFriendRequest=function(t){return n(this,void 0,void 0,(function(){return r(this,(function(e){switch(e.label){case 0:return[4,this.request("del","/friends/requests",{userId:t})];case 1:return[2,e.sent()]}}))}))},t.prototype.blockUser=function(t){return n(this,void 0,void 0,(function(){return r(this,(function(e){switch(e.label){case 0:return[4,this.request("post","/friends/block",{userId:t})];case 1:return[2,e.sent()]}}))}))},t.prototype.unblockUser=function(t){return n(this,void 0,void 0,(function(){return r(this,(function(e){switch(e.label){case 0:return[4,this.request("put","/friends/block",{userId:t})];case 1:return[2,e.sent()]}}))}))},t.prototype.request=function(t,e,i,s,o){return void 0===i&&(i={}),void 0===o&&(o={}),n(this,void 0,void 0,(function(){var n,A,l,u;return r(this,(function(r){switch(r.label){case 0:for(A in o.Accept="application/json",this.hasToken&&(o.Authorization="Bearer "+this.token),n=[],i)n.push(A+"="+i[A]);return l=n.length>0?"?"+n.join("&"):"",u={headers:o},s&&(u.body=s),[4,a[t](""+this.endpoint+e+l,u)];case 1:return[2,r.sent().data]}}))}))},t.prototype.logout=function(){this.token=void 0,A.removeItem(l),this.unregisterPingService()},t.prototype.registerPingService=function(t){var e=this;void 0===t&&(t=15e3),this.unregisterPingService(),this.keepOnlineInterval=setInterval((function(){return e.request("get","/auth")}),t)},t.prototype.unregisterPingService=function(){clearInterval(this.keepOnlineInterval)},t}()},YuTi:function(t,e){t.exports=function(t){return t.webpackPolyfill||(t.deprecate=function(){},t.paths=[],t.children||(t.children=[]),Object.defineProperty(t,"loaded",{enumerable:!0,get:function(){return t.l}}),Object.defineProperty(t,"id",{enumerable:!0,get:function(){return t.i}}),t.webpackPolyfill=1),t}},ZOD7:function(t,e,i){"use strict";var n,r=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])})(t,e)},function(t,e){function i(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)}),s=this&&this.__awaiter||function(t,e,i,n){return new(i||(i=Promise))((function(r,s){function o(t){try{A(n.next(t))}catch(e){s(e)}}function a(t){try{A(n.throw(t))}catch(e){s(e)}}function A(t){t.done?r(t.value):new i((function(e){e(t.value)})).then(o,a)}A((n=n.apply(t,e||[])).next())}))},o=this&&this.__generator||function(t,e){var i,n,r,s,o={label:0,sent:function(){if(1&r[0])throw r[1];return r[1]},trys:[],ops:[]};return s={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(s[Symbol.iterator]=function(){return this}),s;function a(s){return function(a){return function(s){if(i)throw new TypeError("Generator is already executing.");for(;o;)try{if(i=1,n&&(r=2&s[0]?n.return:s[0]?n.throw||((r=n.return)&&r.call(n),0):n.next)&&!(r=r.call(n,s[1])).done)return r;switch(n=0,r&&(s=[2&s[0],r.value]),s[0]){case 0:case 1:r=s;break;case 4:return o.label++,{value:s[1],done:!1};case 5:o.label++,n=s[1],s=[0];continue;case 7:s=o.ops.pop(),o.trys.pop();continue;default:if(!(r=(r=o.trys).length>0&&r[r.length-1])&&(6===s[0]||2===s[0])){o=0;continue}if(3===s[0]&&(!r||s[1]>r[0]&&s[1]<r[3])){o.label=s[1];break}if(6===s[0]&&o.label<r[1]){o.label=r[1],r=s;break}if(r&&o.label<r[2]){o.label=r[2],o.ops.push(s);break}r[2]&&o.ops.pop(),o.trys.pop();continue}s=e.call(t,o)}catch(a){s=[6,a],n=0}finally{i=r=0}if(5&s[0])throw s[1];return{value:s[0]?s[1]:void 0,done:!0}}([s,a])}}};Object.defineProperty(e,"__esModule",{value:!0});var a=i("gqVT"),A=i("woCW"),l=i("Y0G6"),u=i("Ow78"),h=function(t){function e(i,n){var r=t.call(this,i)||this;return r.code=n,Object.setPrototypeOf(r,e.prototype),r}return r(e,t),e}(Error);e.MatchMakeError=h,e.Client=function(){function t(t){void 0===t&&(t=location.protocol.replace("http","ws")+"//"+location.hostname+(location.port&&":"+location.port)),this.endpoint=t,this.auth=new l.Auth(this.endpoint),this.push=new u.Push(this.endpoint)}return t.prototype.joinOrCreate=function(t,e,i){return void 0===e&&(e={}),s(this,void 0,void 0,(function(){return o(this,(function(n){switch(n.label){case 0:return[4,this.createMatchMakeRequest("joinOrCreate",t,e,i)];case 1:return[2,n.sent()]}}))}))},t.prototype.create=function(t,e,i){return void 0===e&&(e={}),s(this,void 0,void 0,(function(){return o(this,(function(n){switch(n.label){case 0:return[4,this.createMatchMakeRequest("create",t,e,i)];case 1:return[2,n.sent()]}}))}))},t.prototype.join=function(t,e,i){return void 0===e&&(e={}),s(this,void 0,void 0,(function(){return o(this,(function(n){switch(n.label){case 0:return[4,this.createMatchMakeRequest("join",t,e,i)];case 1:return[2,n.sent()]}}))}))},t.prototype.joinById=function(t,e,i){return void 0===e&&(e={}),s(this,void 0,void 0,(function(){return o(this,(function(n){switch(n.label){case 0:return[4,this.createMatchMakeRequest("joinById",t,e,i)];case 1:return[2,n.sent()]}}))}))},t.prototype.reconnect=function(t,e,i){return s(this,void 0,void 0,(function(){return o(this,(function(n){switch(n.label){case 0:return[4,this.createMatchMakeRequest("joinById",t,{sessionId:e},i)];case 1:return[2,n.sent()]}}))}))},t.prototype.getAvailableRooms=function(t){return void 0===t&&(t=""),s(this,void 0,void 0,(function(){var e;return o(this,(function(i){switch(i.label){case 0:return e=this.endpoint.replace("ws","http")+"/matchmake/"+t,[4,a.get(e,{headers:{Accept:"application/json"}})];case 1:return[2,i.sent().data]}}))}))},t.prototype.consumeSeatReservation=function(t,e){return s(this,void 0,void 0,(function(){var i;return o(this,(function(n){return(i=this.createRoom(t.room.name,e)).id=t.room.roomId,i.sessionId=t.sessionId,i.connect(this.buildEndpoint(t.room,{sessionId:i.sessionId})),[2,new Promise((function(t,e){var n=function(t){return e(t)};i.onError.once(n),i.onJoin.once((function(){i.onError.remove(n),t(i)}))}))]}))}))},t.prototype.createMatchMakeRequest=function(t,e,i,n){return void 0===i&&(i={}),s(this,void 0,void 0,(function(){var r,s;return o(this,(function(o){switch(o.label){case 0:return r=this.endpoint.replace("ws","http")+"/matchmake/"+t+"/"+e,this.auth.hasToken&&(i.token=this.auth.token),[4,a.post(r,{headers:{Accept:"application/json","Content-Type":"application/json"},body:JSON.stringify(i)})];case 1:if((s=o.sent().data).error)throw new h(s.error,s.code);return[2,this.consumeSeatReservation(s,n)]}}))}))},t.prototype.createRoom=function(t,e){return new A.Room(t,e)},t.prototype.buildEndpoint=function(t,e){void 0===e&&(e={});var i=[];for(var n in e)e.hasOwnProperty(n)&&i.push(n+"="+e[n]);return this.endpoint+"/"+t.processId+"/"+t.roomId+"?"+i.join("&")},t}()},ZUHj:function(t,e,i){"use strict";i.d(e,"a",(function(){return o}));var n=i("51Dv"),r=i("SeVD"),s=i("HDdC");function o(t,e,i,o){var a=arguments.length>4&&void 0!==arguments[4]?arguments[4]:new n.a(t,i,o);if(!a.closed)return e instanceof s.a?e.subscribe(a):Object(r.a)(e)(a)}},aPqR:function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=i("MsiX"),r=i("ihw8"),s=i("xvRS"),o=!1,a=function(t,e,i){if(void 0!==e)for(var n=0,s=e.length;n<s;n++){var o=e[n],a=o.data;if(a&&!(a.length<=0)){var A=void 0===o.closed||o.closed;if(Array.isArray(a[0])){if(!t.addPaths(a,i,A))throw new r.ClipperError("invalid paths")}else if(!t.addPath(a,i,A))throw new r.ClipperError("invalid path")}}};function A(t,e,i){if(o&&!t&&i.subjectInputs&&i.subjectInputs.some((function(t){return!t.closed})))throw new Error("clip to a PolyTree (not to a Path) when using open paths");var A=new n.Clipper(e,i);try{a(A,i.subjectInputs,s.PolyType.Subject),a(A,i.clipInputs,s.PolyType.Clip);var l=void 0,u=void 0===i.clipFillType?i.subjectFillType:i.clipFillType;if(t){if(void 0!==i.cleanDistance)throw new r.ClipperError("cleaning is not available for poly tree results");l=A.executeToPolyTee(i.clipType,i.subjectFillType,u)}else l=A.executeToPaths(i.clipType,i.subjectFillType,u,i.cleanDistance);if(void 0===l)throw new r.ClipperError("error while performing clipping task");return l}finally{A.dispose()}}e.clipToPathsOrPolyTree=A,e.clipToPaths=function(t,e){return A(!1,t,e)},e.clipToPolyTree=function(t,e){return A(!0,t,e)}},bHdf:function(t,e,i){"use strict";i.d(e,"a",(function(){return s}));var n=i("5+tZ"),r=i("SpAZ");function s(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Number.POSITIVE_INFINITY;return Object(n.a)(r.a,t)}},c2HN:function(t,e,i){"use strict";function n(t){return!!t&&"function"!=typeof t.subscribe&&"function"==typeof t.then}i.d(e,"a",(function(){return n}))},cihy:function(t,e,i){"use strict";var n,r=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])})(t,e)},function(t,e){function i(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)}),s=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}},o=this&&this.__importStar||function(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var i in t)Object.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e.default=t,e};Object.defineProperty(e,"__esModule",{value:!0});var a=s(i("gjnr")),A=o(i("ckdo"));e.Connection=function(t){function e(e,i){void 0===i&&(i=!0);var n=t.call(this,e,void 0,{connect:i})||this;return n._enqueuedCalls=[],n}return r(e,t),e.prototype.onOpenCallback=function(e){if(t.prototype.onOpenCallback.call(this),this.binaryType="arraybuffer",this._enqueuedCalls.length>0){for(var i=0,n=this._enqueuedCalls;i<n.length;i++){var r=n[i];this[r[0]].apply(this,r[1])}this._enqueuedCalls=[]}},e.prototype.send=function(e){if(this.ws.readyState===a.default.OPEN)return t.prototype.send.call(this,A.encode(e));this._enqueuedCalls.push(["send",[e]])},e}(a.default)},ckdo:function(t,e,i){"use strict";var n=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0});var r=n(i("NbP2")),s=n(i("uwJ/"));e.decode=r.default,e.encode=s.default},crnd:function(t,e){function i(t){return Promise.resolve().then((function(){var e=new Error("Cannot find module '"+t+"'");throw e.code="MODULE_NOT_FOUND",e}))}i.keys=function(){return[]},i.resolve=i,t.exports=i,i.id="crnd"},dQjV:function(t,e,i){"use strict";var n=this&&this.__awaiter||function(t,e,i,n){return new(i||(i=Promise))((function(r,s){function o(t){try{A(n.next(t))}catch(e){s(e)}}function a(t){try{A(n.throw(t))}catch(e){s(e)}}function A(t){t.done?r(t.value):new i((function(e){e(t.value)})).then(o,a)}A((n=n.apply(t,e||[])).next())}))},r=this&&this.__generator||function(t,e){var i,n,r,s,o={label:0,sent:function(){if(1&r[0])throw r[1];return r[1]},trys:[],ops:[]};return s={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(s[Symbol.iterator]=function(){return this}),s;function a(s){return function(a){return function(s){if(i)throw new TypeError("Generator is already executing.");for(;o;)try{if(i=1,n&&(r=2&s[0]?n.return:s[0]?n.throw||((r=n.return)&&r.call(n),0):n.next)&&!(r=r.call(n,s[1])).done)return r;switch(n=0,r&&(s=[2&s[0],r.value]),s[0]){case 0:case 1:r=s;break;case 4:return o.label++,{value:s[1],done:!1};case 5:o.label++,n=s[1],s=[0];continue;case 7:s=o.ops.pop(),o.trys.pop();continue;default:if(!(r=(r=o.trys).length>0&&r[r.length-1])&&(6===s[0]||2===s[0])){o=0;continue}if(3===s[0]&&(!r||s[1]>r[0]&&s[1]<r[3])){o.label=s[1];break}if(6===s[0]&&o.label<r[1]){o.label=r[1],r=s;break}if(r&&o.label<r[2]){o.label=r[2],o.ops.push(s);break}r[2]&&o.ops.pop(),o.trys.pop();continue}s=e.call(t,o)}catch(a){s=[6,a],n=0}finally{i=r=0}if(5&s[0])throw s[1];return{value:s[0]?s[1]:void 0,done:!0}}([s,a])}}},s=this;Object.defineProperty(e,"__esModule",{value:!0});var o=i("aPqR"),a=i("ihw8");e.ClipperError=a.ClipperError;var A=i("ztiF"),l=i("xvRS");e.ClipType=l.ClipType,e.EndType=l.EndType,e.JoinType=l.JoinType,e.NativeClipperLibLoadedFormat=l.NativeClipperLibLoadedFormat,e.NativeClipperLibRequestedFormat=l.NativeClipperLibRequestedFormat,e.PointInPolygonResult=l.PointInPolygonResult,e.PolyFillType=l.PolyFillType;var u=i("vwRy"),h=i("VaoJ"),c=i("fl/D");e.PolyNode=c.PolyNode;var f,m,_=i("h3D4");e.PolyTree=_.PolyTree;var g=function(){function t(t,e){this.format=e,this.instance=t}return t.prototype.clipToPaths=function(t){return o.clipToPaths(this.instance,t)},t.prototype.clipToPolyTree=function(t){return o.clipToPolyTree(this.instance,t)},t.prototype.offsetToPaths=function(t){return h.offsetToPaths(this.instance,t)},t.prototype.offsetToPolyTree=function(t){return h.offsetToPolyTree(this.instance,t)},t.prototype.area=function(t){return u.area(t)},t.prototype.cleanPolygon=function(t,e){return void 0===e&&(e=1.1415),u.cleanPolygon(this.instance,t,e)},t.prototype.cleanPolygons=function(t,e){return void 0===e&&(e=1.1415),u.cleanPolygons(this.instance,t,e)},t.prototype.closedPathsFromPolyTree=function(t){return u.closedPathsFromPolyTree(t)},t.prototype.minkowskiDiff=function(t,e){return u.minkowskiDiff(this.instance,t,e)},t.prototype.minkowskiSumPath=function(t,e,i){return u.minkowskiSumPath(this.instance,t,e,i)},t.prototype.minkowskiSumPaths=function(t,e,i){return u.minkowskiSumPaths(this.instance,t,e,i)},t.prototype.openPathsFromPolyTree=function(t){return u.openPathsFromPolyTree(t)},t.prototype.orientation=function(t){return u.orientation(t)},t.prototype.pointInPolygon=function(t,e){return u.pointInPolygon(t,e)},t.prototype.polyTreeToPaths=function(t){return u.polyTreeToPaths(t)},t.prototype.reversePath=function(t){u.reversePath(t)},t.prototype.reversePaths=function(t){u.reversePaths(t)},t.prototype.simplifyPolygon=function(t,e){return void 0===e&&(e=l.PolyFillType.EvenOdd),u.simplifyPolygon(this.instance,t,e)},t.prototype.simplifyPolygons=function(t,e){return void 0===e&&(e=l.PolyFillType.EvenOdd),u.simplifyPolygons(this.instance,t,e)},t.prototype.scalePath=function(t,e){return u.scalePath(t,e)},t.prototype.scalePaths=function(t,e){return u.scalePaths(t,e)},t.hiRange=A.hiRange,t}();e.ClipperLibWrapper=g,e.loadNativeClipperLibInstanceAsync=function(t){return n(s,void 0,void 0,(function(){function e(t){return new Promise((function(e,i){var n;n=t({noExitRuntime:!0,preRun:function(){n?e(n):setTimeout((function(){e(n)}),1)},quit:function(t,e){i(e)}})}))}var n,s,o,A;return r(this,(function(r){switch(r.label){case 0:switch(t){case l.NativeClipperLibRequestedFormat.WasmWithAsmJsFallback:n=!0,s=!0;break;case l.NativeClipperLibRequestedFormat.WasmOnly:n=!0,s=!1;break;case l.NativeClipperLibRequestedFormat.AsmJsOnly:n=!1,s=!0;break;default:throw new a.ClipperError("unknown native clipper format")}return n?f instanceof Error?[3,7]:[3,1]:[3,7];case 1:if(void 0!==f)return[3,6];r.label=2;case 2:return r.trys.push([2,4,,5]),[4,e(i("0zm2").init)];case 3:return f=r.sent(),[2,new g(f,l.NativeClipperLibLoadedFormat.Wasm)];case 4:return o=r.sent(),f=o,[3,5];case 5:return[3,7];case 6:return[2,new g(f,l.NativeClipperLibLoadedFormat.Wasm)];case 7:return s?m instanceof Error?[3,14]:[3,8]:[3,14];case 8:if(void 0!==m)return[3,13];r.label=9;case 9:return r.trys.push([9,11,,12]),[4,e(i("0Qg3").init)];case 10:return m=r.sent(),[2,new g(m,l.NativeClipperLibLoadedFormat.AsmJs)];case 11:return A=r.sent(),m=A,[3,12];case 12:return[3,14];case 13:return[2,new g(m,l.NativeClipperLibLoadedFormat.AsmJs)];case 14:throw new a.ClipperError("could not load native clipper in the desired format")}}))}))}},fXoL:function(t,e,i){"use strict";var n=i("XNiG"),r=i("quSY"),s=i("HDdC"),o=i("z+Ro"),a=i("bHdf"),A=i("yCtX"),l=i("7o/Q");function u(){return function(t){return t.lift(new c(t))}}var h,c=function(){function t(e){_classCallCheck2(this,t),this.connectable=e}return _createClass2(t,[{key:"call",value:function(t,e){var i=this.connectable;i._refCount++;var n=new f(t,i),r=e.subscribe(n);return n.closed||(n.connection=i.connect()),r}}]),t}(),f=function(t){function e(t,i){var n;return _classCallCheck2(this,e),(n=_possibleConstructorReturn(this,_getPrototypeOf(e).call(this,t))).connectable=i,n}return _inherits(e,t),_createClass2(e,[{key:"_unsubscribe",value:function(){var t=this.connectable;if(t){this.connectable=null;var e=t._refCount;if(e<=0)this.connection=null;else if(t._refCount=e-1,e>1)this.connection=null;else{var i=this.connection,n=t._connection;this.connection=null,!n||i&&n!==i||n.unsubscribe()}}else this.connection=null}}]),e}(l.a),m=function(t){function e(t,i){var n;return _classCallCheck2(this,e),(n=_possibleConstructorReturn(this,_getPrototypeOf(e).call(this))).source=t,n.subjectFactory=i,n._refCount=0,n._isComplete=!1,n}return _inherits(e,t),_createClass2(e,[{key:"_subscribe",value:function(t){return this.getSubject().subscribe(t)}},{key:"getSubject",value:function(){var t=this._subject;return t&&!t.isStopped||(this._subject=this.subjectFactory()),this._subject}},{key:"connect",value:function(){var t=this._connection;return t||(this._isComplete=!1,(t=this._connection=new r.a).add(this.source.subscribe(new g(this.getSubject(),this))),t.closed&&(this._connection=null,t=r.a.EMPTY)),t}},{key:"refCount",value:function(){return u()(this)}}]),e}(s.a),_={operator:{value:null},_refCount:{value:0,writable:!0},_subject:{value:null,writable:!0},_connection:{value:null,writable:!0},_subscribe:{value:(h=m.prototype)._subscribe},_isComplete:{value:h._isComplete,writable:!0},getSubject:{value:h.getSubject},connect:{value:h.connect},refCount:{value:h.refCount}},g=function(t){function e(t,i){var n;return _classCallCheck2(this,e),(n=_possibleConstructorReturn(this,_getPrototypeOf(e).call(this,t))).connectable=i,n}return _inherits(e,t),_createClass2(e,[{key:"_error",value:function(t){this._unsubscribe(),_get(_getPrototypeOf(e.prototype),"_error",this).call(this,t)}},{key:"_complete",value:function(){this.connectable._isComplete=!0,this._unsubscribe(),_get(_getPrototypeOf(e.prototype),"_complete",this).call(this)}},{key:"_unsubscribe",value:function(){var t=this.connectable;if(t){this.connectable=null;var e=t._connection;t._refCount=0,t._subject=null,t._connection=null,e&&e.unsubscribe()}}}]),e}(n.b);function d(){return new n.a}i.d(e,"a",(function(){return Do})),i.d(e,"b",(function(){return nl})),i.d(e,"c",(function(){return XA})),i.d(e,"d",(function(){return qA})),i.d(e,"e",(function(){return zA})),i.d(e,"f",(function(){return Au})),i.d(e,"g",(function(){return Hl})),i.d(e,"h",(function(){return fo})),i.d(e,"i",(function(){return fl})),i.d(e,"j",(function(){return La})),i.d(e,"k",(function(){return Ua})),i.d(e,"l",(function(){return wn})),i.d(e,"m",(function(){return RA})),i.d(e,"n",(function(){return $})),i.d(e,"o",(function(){return C})),i.d(e,"p",(function(){return Z})),i.d(e,"q",(function(){return ko})),i.d(e,"r",(function(){return oA})),i.d(e,"s",(function(){return aA})),i.d(e,"t",(function(){return sl})),i.d(e,"u",(function(){return ct})),i.d(e,"v",(function(){return jl})),i.d(e,"w",(function(){return ht})),i.d(e,"x",(function(){return Pl})),i.d(e,"y",(function(){return Il})),i.d(e,"z",(function(){return v})),i.d(e,"A",(function(){return il})),i.d(e,"B",(function(){return el})),i.d(e,"C",(function(){return Ja})),i.d(e,"D",(function(){return Ya})),i.d(e,"E",(function(){return Ha})),i.d(e,"F",(function(){return Ka})),i.d(e,"G",(function(){return cr})),i.d(e,"H",(function(){return B})),i.d(e,"I",(function(){return zl})),i.d(e,"J",(function(){return hA})),i.d(e,"K",(function(){return kl})),i.d(e,"L",(function(){return qa})),i.d(e,"M",(function(){return fA})),i.d(e,"N",(function(){return dt})),i.d(e,"O",(function(){return No})),i.d(e,"P",(function(){return Nl})),i.d(e,"Q",(function(){return Yn})),i.d(e,"R",(function(){return su})),i.d(e,"S",(function(){return On})),i.d(e,"T",(function(){return ou})),i.d(e,"U",(function(){return Ml})),i.d(e,"V",(function(){return rl})),i.d(e,"W",(function(){return _o})),i.d(e,"X",(function(){return xA})),i.d(e,"Y",(function(){return ur})),i.d(e,"Z",(function(){return _r})),i.d(e,"ab",(function(){return Kn})),i.d(e,"bb",(function(){return Rn})),i.d(e,"cb",(function(){return Tn})),i.d(e,"db",(function(){return Nn})),i.d(e,"eb",(function(){return Fn})),i.d(e,"fb",(function(){return Gn})),i.d(e,"gb",(function(){return Pn})),i.d(e,"hb",(function(){return EA})),i.d(e,"ib",(function(){return wA})),i.d(e,"jb",(function(){return Vn})),i.d(e,"kb",(function(){return H})),i.d(e,"lb",(function(){return Lo})),i.d(e,"mb",(function(){return Aa})),i.d(e,"nb",(function(){return aa})),i.d(e,"ob",(function(){return Po})),i.d(e,"pb",(function(){return BA})),i.d(e,"qb",(function(){return T})),i.d(e,"rb",(function(){return Mn})),i.d(e,"sb",(function(){return ya})),i.d(e,"tb",(function(){return wa})),i.d(e,"ub",(function(){return Ga})),i.d(e,"vb",(function(){return To})),i.d(e,"wb",(function(){return Yo})),i.d(e,"xb",(function(){return qo})),i.d(e,"yb",(function(){return JA})),i.d(e,"zb",(function(){return vt})),i.d(e,"Ab",(function(){return bt})),i.d(e,"Bb",(function(){return x})),i.d(e,"Cb",(function(){return S})),i.d(e,"Db",(function(){return Et})),i.d(e,"Eb",(function(){return xt})),i.d(e,"Fb",(function(){return Ho})),i.d(e,"Gb",(function(){return sa})),i.d(e,"Hb",(function(){return ra})),i.d(e,"Ib",(function(){return na})),i.d(e,"Jb",(function(){return fa})),i.d(e,"Kb",(function(){return at})),i.d(e,"Lb",(function(){return Jo})),i.d(e,"Mb",(function(){return jo})),i.d(e,"Nb",(function(){return la})),i.d(e,"Ob",(function(){return jA})),i.d(e,"Pb",(function(){return HA})),i.d(e,"Qb",(function(){return gr})),i.d(e,"Rb",(function(){return Ko})),i.d(e,"Sb",(function(){return ca}));var p="__parameters__";function y(t,e,i){var n=function(t){return function(){if(t){var e=t.apply(void 0,arguments);for(var i in e)this[i]=e[i]}}}(e);function r(){for(var t=arguments.length,e=new Array(t),i=0;i<t;i++)e[i]=arguments[i];if(this instanceof r)return n.apply(this,e),this;var s=_construct(r,e);return o.annotation=s,o;function o(t,e,i){for(var n=t.hasOwnProperty(p)?t[p]:Object.defineProperty(t,p,{value:[]})[p];n.length<=i;)n.push(null);return(n[i]=n[i]||[]).push(s),t}}return i&&(r.prototype=Object.create(i.prototype)),r.prototype.ngMetadataName=t,r.annotationCls=r,r}var C=y("Inject",(function(t){return{token:t}})),v=y("Optional"),I=y("Self"),B=y("SkipSelf"),E=function(t){return t[t.Default=0]="Default",t[t.Host=1]="Host",t[t.Self=2]="Self",t[t.SkipSelf=4]="SkipSelf",t[t.Optional=8]="Optional",t}({});function w(t){for(var e in t)if(t[e]===w)return e;throw Error("Could not find renamed property on target object.")}function b(t,e){for(var i in e)e.hasOwnProperty(i)&&!t.hasOwnProperty(i)&&(t[i]=e[i])}function x(t){return{token:t.token,providedIn:t.providedIn||null,factory:t.factory,value:void 0}}function S(t){return{factory:t.factory,providers:t.providers||[],imports:t.imports||[]}}function Q(t){var e=t[D]||t[R];return e&&e.token===t?e:null}function k(t){return t&&(t.hasOwnProperty(M)||t.hasOwnProperty(V))?t[M]:null}var D=w({"\u0275prov":w}),M=w({"\u0275inj":w}),R=w({ngInjectableDef:w}),V=w({ngInjectorDef:w});function T(t){if("string"==typeof t)return t;if(Array.isArray(t))return"["+t.map(T).join(", ")+"]";if(null==t)return""+t;if(t.overriddenName)return"".concat(t.overriddenName);if(t.name)return"".concat(t.name);var e=t.toString();if(null==e)return""+e;var i=e.indexOf("\n");return-1===i?e:e.substring(0,i)}var G=w({__forward_ref__:w});function F(t){return t.__forward_ref__=F,t.toString=function(){return T(this())},t}function P(t){return"function"==typeof(e=t)&&e.hasOwnProperty(G)&&e.__forward_ref__===F?t():t;var e}var N,L="undefined"!=typeof globalThis&&globalThis,U="undefined"!=typeof window&&window,O="undefined"!=typeof self&&"undefined"!=typeof WorkerGlobalScope&&self instanceof WorkerGlobalScope&&self,Y="undefined"!=typeof global&&global,H=L||Y||U||O,J=w({"\u0275cmp":w}),j=w({"\u0275dir":w}),K=w({"\u0275pipe":w}),q=w({"\u0275mod":w}),z=w({"\u0275loc":w}),X=w({"\u0275fac":w}),W=w({__NG_ELEMENT_ID__:w}),Z=function(){function t(e,i){_classCallCheck2(this,t),this._desc=e,this.ngMetadataName="InjectionToken",this.\u0275prov=void 0,"number"==typeof i?this.__NG_ELEMENT_ID__=i:void 0!==i&&(this.\u0275prov=x({token:this,providedIn:i.providedIn||"root",factory:i.factory}))}return _createClass2(t,[{key:"toString",value:function(){return"InjectionToken ".concat(this._desc)}}]),t}(),$=new Z("INJECTOR",-1),tt=new Object,et=/\n/gm,it=w({provide:String,useValue:w}),nt=void 0;function rt(t){var e=nt;return nt=t,e}function st(t){var e=N;return N=t,e}function ot(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:E.Default;if(void 0===nt)throw new Error("inject() must be called from an injection context");return null===nt?At(t,void 0,e):nt.get(t,e&E.Optional?null:void 0,e)}function at(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:E.Default;return(N||ot)(P(t),e)}function At(t,e,i){var n=Q(t);if(n&&"root"==n.providedIn)return void 0===n.value?n.value=n.factory():n.value;if(i&E.Optional)return null;if(void 0!==e)return e;throw new Error("Injector: NOT_FOUND [".concat(T(t),"]"))}function lt(t){for(var e=[],i=0;i<t.length;i++){var n=P(t[i]);if(Array.isArray(n)){if(0===n.length)throw new Error("Arguments array must have arguments.");for(var r=void 0,s=E.Default,o=0;o<n.length;o++){var a=n[o];a instanceof v||"Optional"===a.ngMetadataName||a===v?s|=E.Optional:a instanceof B||"SkipSelf"===a.ngMetadataName||a===B?s|=E.SkipSelf:a instanceof I||"Self"===a.ngMetadataName||a===I?s|=E.Self:r=a instanceof C||a===C?a.token:a}e.push(at(r,s))}else e.push(at(n))}return e}var ut=function(){function t(){_classCallCheck2(this,t)}return _createClass2(t,[{key:"get",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:tt;if(e===tt){var i=new Error("NullInjectorError: No provider for ".concat(T(t),"!"));throw i.name="NullInjectorError",i}return e}}]),t}(),ht=function t(){_classCallCheck2(this,t)},ct=function t(){_classCallCheck2(this,t)};function ft(t,e){t.forEach((function(t){return Array.isArray(t)?ft(t,e):e(t)}))}function mt(t,e,i){e>=t.length?t.push(i):t.splice(e,0,i)}function _t(t,e){return e>=t.length-1?t.pop():t.splice(e,1)[0]}var gt=function(){var t={OnPush:0,Default:1};return t[t.OnPush]="OnPush",t[t.Default]="Default",t}(),dt=function(){var t={Emulated:0,Native:1,None:2,ShadowDom:3};return t[t.Emulated]="Emulated",t[t.Native]="Native",t[t.None]="None",t[t.ShadowDom]="ShadowDom",t}(),pt={},yt=[],Ct=0;function vt(t){var e=t.type,i=e.prototype,n={},r={type:e,providersResolver:null,decls:t.decls,vars:t.vars,factory:null,template:t.template||null,consts:t.consts||null,ngContentSelectors:t.ngContentSelectors,hostBindings:t.hostBindings||null,contentQueries:t.contentQueries||null,declaredInputs:n,inputs:null,outputs:null,exportAs:t.exportAs||null,onChanges:null,onInit:i.ngOnInit||null,doCheck:i.ngDoCheck||null,afterContentInit:i.ngAfterContentInit||null,afterContentChecked:i.ngAfterContentChecked||null,afterViewInit:i.ngAfterViewInit||null,afterViewChecked:i.ngAfterViewChecked||null,onDestroy:i.ngOnDestroy||null,onPush:t.changeDetection===gt.OnPush,directiveDefs:null,pipeDefs:null,selectors:t.selectors||yt,viewQuery:t.viewQuery||null,features:t.features||null,data:t.data||{},encapsulation:t.encapsulation||dt.Emulated,id:"c",styles:t.styles||yt,_:null,setInput:null,schemas:t.schemas||null,tView:null};return r._=""+{toString:function(){var e=t.directives,i=t.features,s=t.pipes;r.id+=Ct++,r.inputs=wt(t.inputs,n),r.outputs=wt(t.outputs),i&&i.forEach((function(t){return t(r)})),r.directiveDefs=e?function(){return("function"==typeof e?e():e).map(It)}:null,r.pipeDefs=s?function(){return("function"==typeof s?s():s).map(Bt)}:null}},r}function It(t){return St(t)||function(t){return t[j]||null}(t)}function Bt(t){return function(t){return t[K]||null}(t)}function Et(t){return{type:t.type,bootstrap:t.bootstrap||yt,declarations:t.declarations||yt,imports:t.imports||yt,exports:t.exports||yt,transitiveCompileScopes:null,schemas:t.schemas||null,id:t.id||null}}function wt(t,e){if(null==t)return pt;var i={};for(var n in t)if(t.hasOwnProperty(n)){var r=t[n],s=r;Array.isArray(r)&&(s=r[1],r=r[0]),i[r]=n,e&&(e[r]=s)}return i}var bt=vt;function xt(t){return{type:t.type,name:t.name,factory:null,pure:!1!==t.pure,onDestroy:t.type.prototype.ngOnDestroy||null}}function St(t){return t[J]||null}function Qt(t,e){return t.hasOwnProperty(X)?t[X]:null}function kt(t,e){var i=t[q]||null;if(!i&&!0===e)throw new Error("Type ".concat(T(t)," does not have '\u0275mod' property."));return i}var Dt=0,Mt=1,Rt=2,Vt=3,Tt=4,Gt=5,Ft=6,Pt=7,Nt=8,Lt=9,Ut=10,Ot=11,Yt=12,Ht=13,Jt=14,jt=15,Kt=16,qt=17,zt=18,Xt=1,Wt=2,Zt=5,$t=7,te=8,ee=9;function ie(t){return Array.isArray(t)&&"object"==typeof t[Xt]}function ne(t){return Array.isArray(t)&&!0===t[Xt]}function re(t){return 0!=(8&t.flags)}function se(t){return 2==(2&t.flags)}function oe(t){return 1==(1&t.flags)}function ae(t){return null!==t.template}function Ae(t){return 0!=(512&t[Rt])}var le=8,ue=8,he=9,ce=-1,fe=function t(e,i,n){_classCallCheck2(this,t),this.factory=e,this.resolving=!1,this.canSeeViewProviders=i,this.injectImpl=n},me={lFrame:Le(null),bindingsEnabled:!0,elementExitFn:null,checkNoChangesMode:!1};function _e(t){me.lFrame.currentDirectiveDef=t}function ge(){return me.bindingsEnabled}function de(){var t=me.lFrame;return null===t?null:t.lView}function pe(t){return(me.lFrame.selectedIndex&t)===t}function ye(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;pe(1)&&Ce(),Ye(null===t?-1:t),me.lFrame.activeDirectiveId=0}function Ce(){me.elementExitFn(),me.lFrame.selectedIndex&=-2}function ve(t){me.lFrame.selectedIndex|=1,null==me.elementExitFn&&(me.elementExitFn=t)}function Ie(){return me.lFrame.activeDirectiveId}function Be(){me.lFrame.activeDirectiveId+=1}function Ee(){return me.lFrame.previousOrParentTNode}function we(t,e){me.lFrame.previousOrParentTNode=t,me.lFrame.isParent=e}function be(){return me.lFrame.isParent}function xe(){me.lFrame.isParent=!1}function Se(){return me.checkNoChangesMode}function Qe(t){me.checkNoChangesMode=t}function ke(t){return me.lFrame.bindingIndex=t}function De(){return me.lFrame.bindingIndex++}function Me(t){var e=me.lFrame,i=e.bindingIndex;return e.bindingIndex=e.bindingIndex+t,i}function Re(t){me.lFrame.bindingRootIndex=t}function Ve(){return me.lFrame.currentQueryIndex}function Te(t){me.lFrame.currentQueryIndex=t}function Ge(t,e){var i=Ne();me.lFrame=i,i.previousOrParentTNode=e,i.lView=t}var Fe=Ue;function Pe(t,e){var i=Ne();me.lFrame=i,i.previousOrParentTNode=e,i.isParent=!0,i.lView=t,i.selectedIndex=0,i.contextLView=t,i.elementDepthCount=0,i.currentNamespace=null,i.currentSanitizer=null,i.currentDirectiveDef=null,i.activeDirectiveId=0,i.bindingRootIndex=-1,i.bindingIndex=null===t?-1:t[Mt].bindingStartIndex,i.currentQueryIndex=0}function Ne(){var t=me.lFrame,e=null===t?null:t.child;return null===e?Le(t):e}function Le(t){var e={previousOrParentTNode:null,isParent:!0,lView:null,selectedIndex:0,contextLView:null,elementDepthCount:0,currentNamespace:null,currentSanitizer:null,currentDirectiveDef:null,activeDirectiveId:0,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:t,child:null};return null!==t&&(t.child=e),e}function Ue(){me.lFrame=me.lFrame.parent}function Oe(){return me.lFrame.selectedIndex>>1}function Ye(t){me.lFrame.selectedIndex=t<<1}function He(){var t=me.lFrame;return null===t?null:t.currentSanitizer}var Je=function(){var t={Important:1,DashCase:2};return t[t.Important]="Important",t[t.DashCase]="DashCase",t}();function je(t){return!!t.listen}var Ke={createRenderer:function(t,e){return document}};function qe(t){return 3===t||4===t||6===t}function ze(t){return 64===t.charCodeAt(0)}function Xe(t){return t!==ce}function We(t){return 32767&t}function Ze(t){return t>>16}function $e(t,e){for(var i=Ze(t),n=e;i>0;)n=n[jt],i--;return n}function ti(t){return"string"==typeof t?t:null==t?"":""+t}function ei(t){return"function"==typeof t?t.name||t.toString():"object"==typeof t&&null!=t&&"function"==typeof t.type?t.type.name||t.type.toString():ti(t)}var ii=("undefined"!=typeof requestAnimationFrame&&requestAnimationFrame||setTimeout).bind(H);function ni(t){return t instanceof Function?t():t}var ri={},si="[MAP]",oi=0,ai=null,Ai=0,li=1,ui=1;function hi(t){return[t]}function ci(t,e){return 0!=(t.flags&e)}function fi(t,e){t.flags|=e}function mi(t,e){return t[e+3]}function _i(t,e){return 0!=(1&function(t,e){return 1&t[e+0]}(t,e))}function gi(t,e,i){return t[e+(i?2:1)]}function di(t){return pi(t)+1}function pi(t){return t[0]}function yi(t,e,i){return t[e+4+i]}function Ci(t,e){return t[e+4+pi(t)]}function vi(t,e,i){t[e]=i}function Ii(t,e){return 0!==e?t[e]:null}function Bi(t,e){if(e===ri)return!1;var i=Array.isArray(t)?t[0]:t,n=Array.isArray(e)?e[0]:e;return!Object.is(i,n)}function Ei(t){return null!=t&&""!==t}function wi(t,e){var i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:" ";return t+(e.length&&t.length?i:"")+e}function bi(t){return t.replace(/[a-z][A-Z]/g,(function(t){return t.charAt(0)+"-"+t.charAt(1)})).toLowerCase()}function xi(t){return Si(t)?t[1]:t}function Si(t){return Array.isArray(t)&&t.length>=2&&"string"!=typeof t[1]}function Qi(t){var e=xi(t);return e&&e[0]||""}function ki(t){return 0!=(16&t.flags)}function Di(t){return 0!=(32&t.flags)}function Mi(t,e){return t[e+0]}var Ri={MAP_DIRTY_VALUE:!0};function Vi(t,e,i){t[e+1]=i}function Ti(t,e){return t[e+1]}function Gi(t,e){if("string"==typeof t)return t;var i="";if(t)for(var n=Object.keys(t),r=0;r<n.length;r++){var s=n[r],o=e?bi(s):s,a=t[s];null!==a&&(i=wi(i,"".concat(o,":").concat(a),";"))}return i}function Fi(t){return t!==oi}function Pi(t,e){for(var i="",n=1;n<t.length;n+=2){var r=Mi(t,n),s=Ti(t,n),o=wi(r,e?"":s,":");i=wi(i,o,e?" ":"; ")}return i}function Ni(t,e,i,n){for(var r=1;r<t.length;r+=2){var s=Mi(t,r);if(e<=s){var o=!1;if(s===e){var a=t[r];!n&&Ei(a)||(o=!0,Vi(t,r,i))}else o=!0,t.splice(r,0,e,i);return o}}return t.push(e,i),!0}function Li(t,e,i){var n=Array.isArray(t)?t:hi(null);n[0]=e;for(var r=1;r<n.length;r+=2)Vi(n,r,null);var s,o=null,a=!1;if("string"==typeof e?a=null!==(o=function(t){for(var e=null,i=t.length,n=0,r=!1,s=0;s<i;s++)t.charCodeAt(s)<=32?(r&&(null===e&&(e=[]),e.push(t.substring(n,s)),r=!1),n=s+1):r=!0;return r&&(null===e&&(e=[]),e.push(t.substring(n,i)),r=!1),e}(e)):(o=e?Object.keys(e):null,s=e),o)for(var A=0;A<o.length;A++){var l=o[A];Ni(n,i?bi(l):l,!!a||s[l],!0)}return n}function Ui(t){return t.hasOwnProperty("class")?"class":"className"}var Oi="__ngContext__";function Yi(t){for(;Array.isArray(t);)t=t[Dt];return t}function Hi(t,e){return Yi(e[t+zt])}function Ji(t,e){return Yi(e[t.index])}function ji(t,e){var i=t.index;return-1!==i?Yi(e[i]):null}function Ki(t,e){return e[Mt].data[t+zt]}function qi(t,e){var i=e[t];return ie(i)?i:i[Dt]}function zi(t){return t[Oi]||null}function Xi(t){var e=zi(t);return e?Array.isArray(e)?e:e.lView:null}function Wi(t){return 4==(4&t[Rt])}function Zi(t,e){return null===t||null==e?null:t[e]}function $i(t){t[qt]=0}function tn(t){var e=t[Vt];return ne(e)?e[Vt]:e}function en(t){for(var e=t[Ft];null!==e&&2===e.type;)e=(t=t[jt])[Ft];return t}var nn=!0;function rn(t){var e=nn;return nn=t,e}var sn=255,on=0;function an(t,e){var i=ln(t,e);if(-1!==i)return i;var n=e[Mt];n.firstCreatePass&&(t.injectorIndex=e.length,An(n.data,t),An(e,null),An(n.blueprint,null));var r=un(t,e),s=t.injectorIndex;if(Xe(r))for(var o=We(r),a=$e(r,e),A=a[Mt].data,l=0;l<8;l++)e[s+l]=a[o+l]|A[o+l];return e[s+ue]=r,s}function An(t,e){t.push(0,0,0,0,0,0,0,0,e)}function ln(t,e){return-1===t.injectorIndex||t.parent&&t.parent.injectorIndex===t.injectorIndex||null==e[t.injectorIndex+ue]?-1:t.injectorIndex}function un(t,e){if(t.parent&&-1!==t.parent.injectorIndex)return t.parent.injectorIndex;for(var i=e[Ft],n=1;i&&-1===i.injectorIndex;)i=(e=e[jt])?e[Ft]:null,n++;return i?i.injectorIndex|n<<16:-1}function hn(t,e,i){!function(t,e,i){var n="string"!=typeof i?i[W]:i.charCodeAt(0)||0;null==n&&(n=i[W]=on++);var r=n&sn,s=1<<r,o=64&r,a=32&r,A=e.data;128&r?o?a?A[t+7]|=s:A[t+6]|=s:a?A[t+5]|=s:A[t+4]|=s:o?a?A[t+3]|=s:A[t+2]|=s:a?A[t+1]|=s:A[t]|=s}(t,e,i)}function cn(t,e,i){var n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:E.Default,r=arguments.length>4?arguments[4]:void 0;if(t){var s=function(t){if("string"==typeof t)return t.charCodeAt(0)||0;var e=t[W];return"number"==typeof e&&e>0?e&sn:e}(i);if("function"==typeof s){Ge(e,t);try{var o=s();if(null!=o||n&E.Optional)return o;throw new Error("No provider for ".concat(ei(i),"!"))}finally{Fe()}}else if("number"==typeof s){if(-1===s)return new yn(t,e);var a=null,A=ln(t,e),l=ce,u=n&E.Host?en(e)[Ft]:null;for((-1===A||n&E.SkipSelf)&&(l=-1===A?un(t,e):e[A+ue],pn(n,!1)?(a=e[Mt],A=We(l),e=$e(l,e)):A=-1);-1!==A;){l=e[A+ue];var h=e[Mt];if(dn(s,A,h.data)){var c=mn(A,e,i,a,n,u);if(c!==fn)return c}pn(n,e[Mt].data[A+le]===u)&&dn(s,A,e)?(a=h,A=We(l),e=$e(l,e)):A=-1}}}if(n&E.Optional&&void 0===r&&(r=null),0==(n&(E.Self|E.Host))){var f=e[Lt],m=st(void 0);try{return f?f.get(i,r,n&E.Optional):At(i,r,n&E.Optional)}finally{st(m)}}if(n&E.Optional)return r;throw new Error("NodeInjector: NOT_FOUND [".concat(ei(i),"]"))}var fn={};function mn(t,e,i,n,r,s){var o=e[Mt],a=o.data[t+le],A=_n(a,o,i,null==n?se(a)&&nn:n!=o&&3===a.type,r&E.Host&&s===a);return null!==A?gn(o.data,e,A,a):fn}function _n(t,e,i,n,r){for(var s=t.providerIndexes,o=e.data,a=65535&s,A=t.directiveStart,l=s>>16,u=r?a+l:t.directiveEnd,h=n?a:a+l;h<u;h++){var c=o[h];if(h<A&&i===c||h>=A&&c.type===i)return h}if(r){var f=o[A];if(f&&ae(f)&&f.type===i)return A}return null}function gn(t,e,i,n){var r=e[i];if(r instanceof fe){var s=r;if(s.resolving)throw new Error("Circular dep for ".concat(ei(t[i])));var o,a=rn(s.canSeeViewProviders);s.resolving=!0,s.injectImpl&&(o=st(s.injectImpl)),Ge(e,n);try{r=e[i]=s.factory(void 0,t,e,n)}finally{s.injectImpl&&st(o),rn(a),s.resolving=!1,Fe()}}return r}function dn(t,e,i){var n=64&t,r=32&t;return!!((128&t?n?r?i[e+7]:i[e+6]:r?i[e+5]:i[e+4]:n?r?i[e+3]:i[e+2]:r?i[e+1]:i[e])&1<<t)}function pn(t,e){return!(t&E.Self||t&E.Host&&e)}var yn=function(){function t(e,i){_classCallCheck2(this,t),this._tNode=e,this._lView=i}return _createClass2(t,[{key:"get",value:function(t,e){return cn(this._tNode,this._lView,t,void 0,e)}}]),t}(),Cn="ngDebugContext",vn="ngOriginalError";function In(t){return t[Cn]}function Bn(t){return t[vn]}function En(t){for(var e=arguments.length,i=new Array(e>1?e-1:0),n=1;n<e;n++)i[n-1]=arguments[n];t.error.apply(t,i)}var wn=function(){function t(){_classCallCheck2(this,t),this._console=console}return _createClass2(t,[{key:"handleError",value:function(t){var e=this._findOriginalError(t),i=this._findContext(t),n=function(t){return t.ngErrorLogger||En}(t);n(this._console,"ERROR",t),e&&n(this._console,"ORIGINAL ERROR",e),i&&n(this._console,"ERROR CONTEXT",i)}},{key:"_findContext",value:function(t){return t?In(t)?In(t):this._findContext(Bn(t)):null}},{key:"_findOriginalError",value:function(t){for(var e=Bn(t);e&&Bn(e);)e=Bn(e);return e}}]),t}(),bn=function(){function t(e){_classCallCheck2(this,t),this.changingThisBreaksApplicationSecurity=e}return _createClass2(t,[{key:"toString",value:function(){return"SafeValue must use [property]=binding: ".concat(this.changingThisBreaksApplicationSecurity)+" (see http://g.co/ng/security#xss)"}}]),t}(),xn=function(t){function e(){return _classCallCheck2(this,e),_possibleConstructorReturn(this,_getPrototypeOf(e).apply(this,arguments))}return _inherits(e,t),_createClass2(e,[{key:"getTypeName",value:function(){return"HTML"}}]),e}(bn),Sn=function(t){function e(){return _classCallCheck2(this,e),_possibleConstructorReturn(this,_getPrototypeOf(e).apply(this,arguments))}return _inherits(e,t),_createClass2(e,[{key:"getTypeName",value:function(){return"Style"}}]),e}(bn),Qn=function(t){function e(){return _classCallCheck2(this,e),_possibleConstructorReturn(this,_getPrototypeOf(e).apply(this,arguments))}return _inherits(e,t),_createClass2(e,[{key:"getTypeName",value:function(){return"Script"}}]),e}(bn),kn=function(t){function e(){return _classCallCheck2(this,e),_possibleConstructorReturn(this,_getPrototypeOf(e).apply(this,arguments))}return _inherits(e,t),_createClass2(e,[{key:"getTypeName",value:function(){return"URL"}}]),e}(bn),Dn=function(t){function e(){return _classCallCheck2(this,e),_possibleConstructorReturn(this,_getPrototypeOf(e).apply(this,arguments))}return _inherits(e,t),_createClass2(e,[{key:"getTypeName",value:function(){return"ResourceURL"}}]),e}(bn);function Mn(t){return t instanceof bn?t.changingThisBreaksApplicationSecurity:t}function Rn(t,e){var i=Vn(t);if(null!=i&&i!==e){if("ResourceURL"===i&&"URL"===e)return!0;throw new Error("Required a safe ".concat(e,", got a ").concat(i," (see http://g.co/ng/security#xss)"))}return i===e}function Vn(t){return t instanceof bn&&t.getTypeName()||null}function Tn(t){return new xn(t)}function Gn(t){return new Sn(t)}function Fn(t){return new Qn(t)}function Pn(t){return new kn(t)}function Nn(t){return new Dn(t)}var Ln=!0,Un=!1;function On(){return Un=!0,Ln}function Yn(){if(Un)throw new Error("Cannot enable prod mode after platform setup.");Ln=!1}var Hn=function(){function t(e){if(_classCallCheck2(this,t),this.defaultDoc=e,this.inertDocument=this.defaultDoc.implementation.createHTMLDocument("sanitization-inert"),this.inertBodyElement=this.inertDocument.body,null==this.inertBodyElement){var i=this.inertDocument.createElement("html");this.inertDocument.appendChild(i),this.inertBodyElement=this.inertDocument.createElement("body"),i.appendChild(this.inertBodyElement)}this.inertBodyElement.innerHTML='<svg><g onload="this.parentNode.remove()"></g></svg>',!this.inertBodyElement.querySelector||this.inertBodyElement.querySelector("svg")?(this.inertBodyElement.innerHTML='<svg><p><style><img src="</style><img src=x onerror=alert(1)//">',this.getInertBodyElement=this.inertBodyElement.querySelector&&this.inertBodyElement.querySelector("svg img")&&function(){try{return!!window.DOMParser}catch(t){return!1}}()?this.getInertBodyElement_DOMParser:this.getInertBodyElement_InertDocument):this.getInertBodyElement=this.getInertBodyElement_XHR}return _createClass2(t,[{key:"getInertBodyElement_XHR",value:function(t){t="<body><remove></remove>"+t+"</body>";try{t=encodeURI(t)}catch(n){return null}var e=new XMLHttpRequest;e.responseType="document",e.open("GET","data:text/html;charset=utf-8,"+t,!1),e.send(void 0);var i=e.response.body;return i.removeChild(i.firstChild),i}},{key:"getInertBodyElement_DOMParser",value:function(t){t="<body><remove></remove>"+t+"</body>";try{var e=(new window.DOMParser).parseFromString(t,"text/html").body;return e.removeChild(e.firstChild),e}catch(i){return null}}},{key:"getInertBodyElement_InertDocument",value:function(t){var e=this.inertDocument.createElement("template");return"content"in e?(e.innerHTML=t,e):(this.inertBodyElement.innerHTML=t,this.defaultDoc.documentMode&&this.stripCustomNsAttrs(this.inertBodyElement),this.inertBodyElement)}},{key:"stripCustomNsAttrs",value:function(t){for(var e=t.attributes,i=e.length-1;0<i;i--){var n=e.item(i).name;"xmlns:ns1"!==n&&0!==n.indexOf("ns1:")||t.removeAttribute(n)}for(var r=t.firstChild;r;)r.nodeType===Node.ELEMENT_NODE&&this.stripCustomNsAttrs(r),r=r.nextSibling}}]),t}(),Jn=/^(?:(?:https?|mailto|ftp|tel|file):|[^&:/?#]*(?:[/?#]|$))/gi,jn=/^data:(?:image\/(?:bmp|gif|jpeg|jpg|png|tiff|webp)|video\/(?:mpeg|mp4|ogg|webm)|audio\/(?:mp3|oga|ogg|opus));base64,[a-z0-9+\/]+=*$/i;function Kn(t){return(t=String(t)).match(Jn)||t.match(jn)?t:(On()&&console.warn("WARNING: sanitizing unsafe URL value ".concat(t," (see http://g.co/ng/security#xss)")),"unsafe:"+t)}function qn(t){var e={},i=!0,n=!1,r=void 0;try{for(var s,o=t.split(",")[Symbol.iterator]();!(i=(s=o.next()).done);i=!0){e[s.value]=!0}}catch(a){n=!0,r=a}finally{try{i||null==o.return||o.return()}finally{if(n)throw r}}return e}function zn(){for(var t={},e=arguments.length,i=new Array(e),n=0;n<e;n++)i[n]=arguments[n];for(var r=0,s=i;r<s.length;r++){var o=s[r];for(var a in o)o.hasOwnProperty(a)&&(t[a]=!0)}return t}var Xn,Wn=qn("area,br,col,hr,img,wbr"),Zn=qn("colgroup,dd,dt,li,p,tbody,td,tfoot,th,thead,tr"),$n=qn("rp,rt"),tr=zn($n,Zn),er=zn(Wn,zn(Zn,qn("address,article,aside,blockquote,caption,center,del,details,dialog,dir,div,dl,figure,figcaption,footer,h1,h2,h3,h4,h5,h6,header,hgroup,hr,ins,main,map,menu,nav,ol,pre,section,summary,table,ul")),zn($n,qn("a,abbr,acronym,audio,b,bdi,bdo,big,br,cite,code,del,dfn,em,font,i,img,ins,kbd,label,map,mark,picture,q,ruby,rp,rt,s,samp,small,source,span,strike,strong,sub,sup,time,track,tt,u,var,video")),tr),ir=qn("background,cite,href,itemtype,longdesc,poster,src,xlink:href"),nr=qn("srcset"),rr=zn(ir,nr,qn("abbr,accesskey,align,alt,autoplay,axis,bgcolor,border,cellpadding,cellspacing,class,clear,color,cols,colspan,compact,controls,coords,datetime,default,dir,download,face,headers,height,hidden,hreflang,hspace,ismap,itemscope,itemprop,kind,label,lang,language,loop,media,muted,nohref,nowrap,open,preload,rel,rev,role,rows,rowspan,rules,scope,scrolling,shape,size,sizes,span,srclang,start,summary,tabindex,target,title,translate,type,usemap,valign,value,vspace,width"),qn("aria-activedescendant,aria-atomic,aria-autocomplete,aria-busy,aria-checked,aria-colcount,aria-colindex,aria-colspan,aria-controls,aria-current,aria-describedby,aria-details,aria-disabled,aria-dropeffect,aria-errormessage,aria-expanded,aria-flowto,aria-grabbed,aria-haspopup,aria-hidden,aria-invalid,aria-keyshortcuts,aria-label,aria-labelledby,aria-level,aria-live,aria-modal,aria-multiline,aria-multiselectable,aria-orientation,aria-owns,aria-placeholder,aria-posinset,aria-pressed,aria-readonly,aria-relevant,aria-required,aria-roledescription,aria-rowcount,aria-rowindex,aria-rowspan,aria-selected,aria-setsize,aria-sort,aria-valuemax,aria-valuemin,aria-valuenow,aria-valuetext")),sr=qn("script,style,template"),or=function(){function t(){_classCallCheck2(this,t),this.sanitizedSomething=!1,this.buf=[]}return _createClass2(t,[{key:"sanitizeChildren",value:function(t){for(var e=t.firstChild,i=!0;e;)if(e.nodeType===Node.ELEMENT_NODE?i=this.startElement(e):e.nodeType===Node.TEXT_NODE?this.chars(e.nodeValue):this.sanitizedSomething=!0,i&&e.firstChild)e=e.firstChild;else for(;e;){e.nodeType===Node.ELEMENT_NODE&&this.endElement(e);var n=this.checkClobberedElement(e,e.nextSibling);if(n){e=n;break}e=this.checkClobberedElement(e,e.parentNode)}return this.buf.join("")}},{key:"startElement",value:function(t){var e=t.nodeName.toLowerCase();if(!er.hasOwnProperty(e))return this.sanitizedSomething=!0,!sr.hasOwnProperty(e);this.buf.push("<"),this.buf.push(e);for(var i,n=t.attributes,r=0;r<n.length;r++){var s=n.item(r),o=s.name,a=o.toLowerCase();if(rr.hasOwnProperty(a)){var A=s.value;ir[a]&&(A=Kn(A)),nr[a]&&(i=A,A=(i=String(i)).split(",").map((function(t){return Kn(t.trim())})).join(", ")),this.buf.push(" ",o,'="',lr(A),'"')}else this.sanitizedSomething=!0}return this.buf.push(">"),!0}},{key:"endElement",value:function(t){var e=t.nodeName.toLowerCase();er.hasOwnProperty(e)&&!Wn.hasOwnProperty(e)&&(this.buf.push("</"),this.buf.push(e),this.buf.push(">"))}},{key:"chars",value:function(t){this.buf.push(lr(t))}},{key:"checkClobberedElement",value:function(t,e){if(e&&(t.compareDocumentPosition(e)&Node.DOCUMENT_POSITION_CONTAINED_BY)===Node.DOCUMENT_POSITION_CONTAINED_BY)throw new Error("Failed to sanitize html because the element is clobbered: ".concat(t.outerHTML));return e}}]),t}(),ar=/[\uD800-\uDBFF][\uDC00-\uDFFF]/g,Ar=/([^\#-~ |!])/g;function lr(t){return t.replace(/&/g,"&amp;").replace(ar,(function(t){return"&#"+(1024*(t.charCodeAt(0)-55296)+(t.charCodeAt(1)-56320)+65536)+";"})).replace(Ar,(function(t){return"&#"+t.charCodeAt(0)+";"})).replace(/</g,"&lt;").replace(/>/g,"&gt;")}function ur(t,e){var i=null;try{Xn=Xn||new Hn(t);var n=e?String(e):"";i=Xn.getInertBodyElement(n);var r=5,s=n;do{if(0===r)throw new Error("Failed to sanitize html because the input is unstable");r--,n=s,s=i.innerHTML,i=Xn.getInertBodyElement(n)}while(n!==s);var o=new or,a=o.sanitizeChildren(hr(i)||i);return On()&&o.sanitizedSomething&&console.warn("WARNING: sanitizing HTML stripped some content, see http://g.co/ng/security#xss"),a}finally{if(i)for(var A=hr(i)||i;A.firstChild;)A.removeChild(A.firstChild)}}function hr(t){return"content"in t&&function(t){return t.nodeType===Node.ELEMENT_NODE&&"TEMPLATE"===t.nodeName}(t)?t.content:null}var cr=function(){var t={NONE:0,HTML:1,STYLE:2,SCRIPT:3,URL:4,RESOURCE_URL:5};return t[t.NONE]="NONE",t[t.HTML]="HTML",t[t.STYLE]="STYLE",t[t.SCRIPT]="SCRIPT",t[t.URL]="URL",t[t.RESOURCE_URL]="RESOURCE_URL",t}(),fr=new RegExp("^([-,.\"'%_!# a-zA-Z0-9]+|(?:(?:matrix|translate|scale|rotate|skew|perspective)(?:X|Y|Z|3d)?|(?:rgb|hsl)a?|(?:repeating-)?(?:linear|radial)-gradient|(?:calc|attr))\\([-0-9.%, #a-zA-Z]+\\))$","g"),mr=/^url\(([^)]+)\)$/;function _r(t){if(!(t=String(t).trim()))return"";var e=t.match(mr);return e&&Kn(e[1])===e[1]||t.match(fr)&&function(t){for(var e=!0,i=!0,n=0;n<t.length;n++){var r=t.charAt(n);"'"===r&&i?e=!e:'"'===r&&e&&(i=!i)}return e&&i}(t)?t:(On()&&console.warn("WARNING: sanitizing unsafe style value ".concat(t," (see http://g.co/ng/security#xss).")),"unsafe")}function gr(t){var e,i=(e=de())&&e[Yt];return i?i.sanitize(cr.URL,t)||"":Rn(t,"URL")?Mn(t):Kn(ti(t))}function dr(t,e,i){return{lView:t,nodeIndex:e,native:i,component:void 0,directives:void 0,localRefs:void 0}}function pr(t,e){t[Oi]=e}function yr(t,e){for(var i=t[Mt].firstChild;i;){if(ji(i,t)===e)return i.index;i=Cr(i)}return-1}function Cr(t){if(t.child)return t.child;if(t.next)return t.next;for(;t.parent&&!t.parent.next;)t=t.parent;return t.parent&&t.parent.next}function vr(t){throw new Error("Multiple components match node with tagname ".concat(t.tagName))}function Ir(){throw new Error("Cannot mix multi providers and regular providers")}function Br(t,e,i,n,r,s){var o=e.onChanges,a=e.onInit,A=e.doCheck;r>=0&&(!i.preOrderHooks||r===i.preOrderHooks.length)&&(o||a||A)&&(i.preOrderHooks||(i.preOrderHooks=[])).push(n),s>=0&&(!i.preOrderCheckHooks||s===i.preOrderCheckHooks.length)&&(o||A)&&(i.preOrderCheckHooks||(i.preOrderCheckHooks=[])).push(n),o&&((i.preOrderHooks||(i.preOrderHooks=[])).push(t,o),(i.preOrderCheckHooks||(i.preOrderCheckHooks=[])).push(t,o)),a&&(i.preOrderHooks||(i.preOrderHooks=[])).push(-t,a),A&&((i.preOrderHooks||(i.preOrderHooks=[])).push(t,A),(i.preOrderCheckHooks||(i.preOrderCheckHooks=[])).push(t,A))}function Er(t,e){for(var i=e.directiveStart,n=e.directiveEnd;i<n;i++){var r=t.data[i];r.afterContentInit&&(t.contentHooks||(t.contentHooks=[])).push(-i,r.afterContentInit),r.afterContentChecked&&((t.contentHooks||(t.contentHooks=[])).push(i,r.afterContentChecked),(t.contentCheckHooks||(t.contentCheckHooks=[])).push(i,r.afterContentChecked)),r.afterViewInit&&(t.viewHooks||(t.viewHooks=[])).push(-i,r.afterViewInit),r.afterViewChecked&&((t.viewHooks||(t.viewHooks=[])).push(i,r.afterViewChecked),(t.viewCheckHooks||(t.viewCheckHooks=[])).push(i,r.afterViewChecked)),null!=r.onDestroy&&(t.destroyHooks||(t.destroyHooks=[])).push(i,r.onDestroy)}}function wr(t,e,i){Sr(t,e,3,i)}function br(t,e,i,n){(3&t[Rt])===i&&Sr(t,e,i,n)}function xr(t,e){var i=t[Rt];(3&i)===e&&(i&=1023,t[Rt]=i+=1)}function Sr(t,e,i,n){for(var r=null!=n?n:-1,s=0,o=void 0!==n?65535&t[qt]:0;o<e.length;o++)if("number"==typeof e[o+1]){if(s=e[o],null!=n&&s>=n)break}else e[o]<0&&(t[qt]+=65536),(s<r||-1==r)&&(Qr(t,i,e,o),t[qt]=(4294901760&t[qt])+o+2),o++}function Qr(t,e,i,n){var r=i[n]<0,s=i[n+1],o=t[r?-i[n]:i[n]];r?t[Rt]>>10<t[qt]>>16&&(3&t[Rt])===e&&(t[Rt]+=1024,s.call(o)):s.call(o)}var kr="ng-template";function Dr(t,e){var i=t.length,n=t.toLowerCase().indexOf(e),r=n+e.length;return!(-1===n||n>0&&" "!==t[n-1]||r<i&&" "!==t[r])}function Mr(t,e,i){return e===(0!==t.type||i?t.tagName:kr)}function Rr(t,e,i){for(var n=4,r=t.attrs||[],s=function(t){for(var e=0;e<t.length;e++)if(qe(t[e]))return e;return t.length}(r),o=!1,a=0;a<e.length;a++){var A=e[a];if("number"!=typeof A){if(!o)if(4&n){if(n=2|1&n,""!==A&&!Mr(t,A,i)||""===A&&1===e.length){if(Vr(n))return!1;o=!0}}else{var l=8&n?A:e[++a];if(8&n&&t.classes){if(!Dr(Qi(t.classes),l)){if(Vr(n))return!1;o=!0}continue}var u=Tr(8&n?"class":A,r,0==t.type&&t.tagName!==kr,i);if(-1===u){if(Vr(n))return!1;o=!0;continue}if(""!==l){var h;h=u>s?"":r[u+1].toLowerCase();var c=8&n?h:null;if(c&&!Dr(c,l)||2&n&&l!==h){if(Vr(n))return!1;o=!0}}}}else{if(!o&&!Vr(n)&&!Vr(A))return!1;if(o&&Vr(A))continue;o=!1,n=A|1&n}}return Vr(n)||o}function Vr(t){return 0==(1&t)}function Tr(t,e,i,n){if(null===e)return-1;var r=0;if(n||!i){for(var s=!1;r<e.length;){var o=e[r];if(o===t)return r;if(3===o||6===o)s=!0;else{if(1===o||2===o){for(var a=e[++r];"string"==typeof a;)a=e[++r];continue}if(4===o)break;if(0===o){r+=4;continue}}r+=s?1:2}return-1}return function(t,e){var i=t.indexOf(4);if(i>-1)for(i++;i<t.length;){if(t[i]===e)return i;i++}return-1}(e,t)}function Gr(t,e){for(var i=arguments.length>2&&void 0!==arguments[2]&&arguments[2],n=0;n<e.length;n++)if(Rr(t,e[n],i))return!0;return!1}var Fr={element:null,directiveIndex:-1,sourceIndex:-1,classesBitMask:-1,classesIndex:-1,stylesBitMask:-1,stylesIndex:-1,lastDirectClassMap:null,lastDirectStyleMap:null},Pr=0,Nr=1;function Lr(t,e){return Fr.element!==t?(Fr.element=t,Fr.directiveIndex=e,Fr.sourceIndex=e===oi?0:1,Fr.classesBitMask=Pr,Fr.classesIndex=Nr,Fr.stylesBitMask=Pr,Fr.stylesIndex=Nr,Fr.lastDirectClassMap=null,Fr.lastDirectStyleMap=null):Fr.directiveIndex!==e&&(Fr.directiveIndex=e,Fr.sourceIndex++),Fr}var Ur={},Or=0;function Yr(t,e,i,n,r,s,o,a,A,l,u,h){var c=Fi(r),f=h?4096:131072;u&&Hr(t,e,n,r,s,o,l,h);var m=A||Bi(i[o],a);return m&&(vi(i,o,a),ci(e,f)&&!c&&(!s||!a)&&function(t,e,i,n,r){var s=di(t);if(null!==n&&ci(e,r?4096:131072)){for(var o=4+s,a=2,A=!1;a<t.length;){if(mi(t,a)===n){A=!0;break}a+=o}if(A)for(var l=a+4,u=l+s-1,h=l+1;h<u;h++){var c=t[h];0!==c&&vi(i,c,null)}}if(ci(e,r?512:16384))for(var f=6+s-1,m=7;m<f;m++){var _=Ii(i,t[m]);_&&(_[0]=Ri)}}(t,e,i,s,h)),m}function Hr(t,e,i,n,r,s,o,a){var A=!1;r=r||si;for(var l=pi(t);l<=n;)Kr(t),l++;for(var u=a?8192:262144,h="number"==typeof s,c=4+di(t),f=2;f<t.length;){var m=mi(t,f);if(r<=m){r<m?Jr(t,f,r,o):h&&fi(e,u),jr(t,f,s,i,n),A=!0;break}f+=c}A||(Jr(t,t.length,r,o),jr(t,f,s,i,n))}function Jr(t,e,i,n){t.splice(e,0,n?1:0,ui,ui,i),e+=4;for(var r=pi(t),s=0;s<r;s++)t.splice(e,0,Ai),e++;t.splice(e,0,ai)}function jr(t,e,i,n,r){if("number"==typeof i){var s=Fi(r);t[e+4+r]=i,function(t,e,i,n){t[e+(n?2:1)]=i}(t,e,gi(t,e,s)|1<<n,s)}else null!==i&&null===Ci(t,e)&&function(t,e,i){t[e+4+pi(t)]=i}(t,e,i)}function Kr(t){for(var e=4+di(t)-1,i=2;i<t.length;)i+=e,t.splice(i++,0,Ai),i++;t[0]++}function qr(t,e,i){!function(t,e,i,n){for(var r=!1,s=1;s<i.length;s+=2){var o=Ti(i,s);o&&(Hr(t,e,-1,0,Mi(i,s),o,!1,n),r=!0)}r&&fi(e,256)}(t,e,xi(t),i)}function zr(t,e,i,n,r,s,o,a,A,l){var u,h=!0===(u=s)?-1:!1===u?0:u,c=null,f=!1;ci(e,l?512:16384)&&(c=$r,f=0!=(h&gi(t,2,A)));var m=di(t),_=1,g=f?1:0;A&&(g|=8,_=m-1);for(var d=function(t,e,i){var n=2;return ci(e,i?512:16384)&&(n+=4+di(t)),n}(t,e,l);d<t.length;){if(h&gi(t,d,A)){for(var p=!1,y=mi(t,d),C=Ci(t,d),v=0;v<_;v++){var I=yi(t,d,v);if(!p&&0!==I){var B=Ii(r,I);Ei(B)&&(A&&0===v||o(i,n,y,a&&_i(t,d)?a(y,B,2):Mn(B),I),p=!0)}if(c){var E=g|(p?4:2);A&&0===v&&(E|=16);var w=c(t,i,n,r,v,o,a,E,y,C);p=p||w}}p||o(i,n,y,C)}d+=4+m}c&&(A&&(g|=16),c(t,i,n,r,0,o,a,g))}function Xr(t,e,i,n,r){var s;return n?(s="string"==typeof i?i:function(t){var e="";if(t)for(var i in t)t[i]&&(e+=(e.length?" ":"")+i);return e}(i),null!==r&&(s=wi(r,s," ")),is(t,e,s)):(s=Gi(i,!0),null!==r&&(s=r+";"+s),ns(t,e,s)),s}function Wr(t,e,i,n,r,s,o){var a=Mn(n);return!!Ei(a)&&(r(t,e,i,a=o?o(i,n,3):a,s),!0)}function Zr(t,e,i,n,r,s,o){for(var a=1;a<n.length;a+=2){var A=Mi(n,a);if(A===r){var l=Ti(n,a);return i(t,e,r,l=o?o(r,l,3):l,s),!0}if(A>r)break}return!1}var $r=null,ts=function(t,e,i,n){if(null!==t)if(Ei(n))if(n=n.toString(),je(t))t.setStyle(e,i,n,Je.DashCase);else{var r=e.style;null!=r&&r.setProperty(i,n)}else if(je(t))t.removeStyle(e,i,Je.DashCase);else{var s=e.style;null!=s&&s.removeProperty(i)}},es=function(t,e,i,n){if(null!==t&&""!==i)if(n)if(je(t))t.addClass(e,i);else{var r=e.classList;null!=r&&r.add(i)}else if(je(t))t.removeClass(e,i);else{var s=e.classList;null!=s&&s.remove(i)}},is=function(t,e,i){null!==t&&(je(t)?t.setAttribute(e,"class",i):e.className=i)},ns=function(t,e,i){null!==t&&(je(t)?t.setAttribute(e,"style",i):e.setAttribute("style",i))},rs=function(t,e,i,n,r,s,o,a,A,l){var u=!1;if(di(t)){var h=!0,c=!A;c&&0==(1&a)&&(h=!1,u=!0),h&&(u=function t(e,i,n,r,s,o,a,A,l,u){var h=di(e)-1-1,c=l<h&&0!=(8&a),f=0!=(16&a);f&&(a&=-17);var m,_=!1;if(l<=h){var g=((m=l)>=as.length&&as.push(1),as[m]),d=yi(e,2,l),p=Ii(r,d);if(p){for(;g<p.length;){var y=Mi(p,g),C=A&&y>A,v=!C&&y===A,I=Ti(p,g),B=Ei(I),E=C?a:ss(a,B,v),w=!!c&&t(e,i,n,r,s,o,E,C?A:y,l+1,u);if(C){_||(_=w);break}if(!w&&os(a,v)&&(w=!0,!f)){var b=v?d:null;s(i,n,y,v&&!B?u:o?o(y,I,3):I?Mn(I):null,b)}_=w&&v,g+=2}as[l]=g,!c||1!==p.length&&A||(_=t(e,i,n,r,s,o,a,A,l+1,u))}else c&&(_=t(e,i,n,r,s,o,a,A,l+1,u))}return _}(t,e,i,n,s,o,a,A||null,r,l||null)),c&&function(){for(var t=0;t<as.length;t++)as[t]=1}()}return u};function ss(t,e,i){var n=t;return!e&&(i?2&t:1&t)?(n|=2,n&=-5):(n|=4,n&=-3),n}function os(t,e){var i=0!=(1&t);return i?4&t&&e&&(i=!1):2&t&&(i=e),i}var as=[];function As(t,e){var i=t.contentQueries;if(null!==i)for(var n=0;n<i.length;n+=2){var r=i[n],s=i[n+1];if(-1!==s){var o=t.data[s];Te(r),o.contentQueries(2,e[s],s)}}}function ls(t,e,i){return je(e)?e.createElement(t,i):null===i?e.createElement(t):e.createElementNS(i,t)}function us(t,e,i,n,r,s,o,a,A,l){var u=e.blueprint.slice();return u[Dt]=r,u[Rt]=140|n,$i(u),u[Vt]=u[jt]=t,u[Nt]=i,u[Ut]=o||t&&t[Ut],u[Ot]=a||t&&t[Ot],u[Yt]=A||t&&t[Yt]||null,u[Lt]=l||t&&t[Lt]||null,u[Ft]=s,u}function hs(t,e,i,n,r,s){var o=i+zt,a=t.data[o]||function(t,e,i,n,r,s){var o=Ee(),a=be(),A=a?o:o&&o.parent,l=t.data[i]=ps(0,A&&A!==e?A:null,n,i,r,s);return null===t.firstChild&&(t.firstChild=l),o&&(!a||null!=o.child||null===l.parent&&2!==o.type?a||(o.next=l):o.child=l),l}(t,e,o,n,r,s);return we(a,!0),a}function cs(t,e,i){Pe(t,t[Ft]);try{var n=e.viewQuery;null!==n&&Ts(1,n,i);var r=e.template;null!==r&&_s(t,r,1,i),e.firstCreatePass&&(e.firstCreatePass=!1),e.staticContentQueries&&As(e,t),e.staticViewQueries&&Ts(2,e.viewQuery,i);var s=e.components;null!==s&&function(t,e){for(var i=0;i<e.length;i++)ks(t,e[i])}(t,s)}finally{t[Rt]&=-5,Ue()}}function fs(t,e,i,n){Pe(t,t[Ft]);var r=t[Rt];try{$i(t),ke(e.bindingStartIndex),null!==i&&_s(t,i,2,n);var s=Se(),o=3==(3&r);if(!s)if(o){var a=e.preOrderCheckHooks;null!==a&&wr(t,a,null)}else{var A=e.preOrderHooks;null!==A&&br(t,A,0,null),xr(t,0)}if(function(t){for(var e=t[Ht];null!==e;){if(ne(e)&&-1===e[Wt])for(var i=ee;i<e.length;i++){var n=e[i],r=n[Mt];fs(n,r,r.template,n[Nt])}e=e[Tt]}}(t),null!==e.contentQueries&&As(e,t),!s)if(o){var l=e.contentCheckHooks;null!==l&&wr(t,l)}else{var u=e.contentHooks;null!==u&&br(t,u,1),xr(t,1)}!function(t,e){var i=Oe();try{if(null!==t.expandoInstructions){var n=ke(t.expandoStartIndex);Re(n);for(var r=-1,s=-1,o=0;o<t.expandoInstructions.length;o++){var a=t.expandoInstructions[o];if("number"==typeof a){if(a<=0){ye(s=-a);var A=t.expandoInstructions[++o];r=n+=he+A}else n+=a;Re(n)}else null!==a&&(Be(),ke(n),a(2,Yi(e[r]),s)),r++}}}finally{ye(i)}}(e,t);var h=e.components;null!==h&&function(t,e){for(var i=0;i<e.length;i++)Qs(t,e[i])}(t,h);var c=e.viewQuery;if(null!==c&&Ts(2,c,n),!s)if(o){var f=e.viewCheckHooks;null!==f&&wr(t,f)}else{var m=e.viewHooks;null!==m&&br(t,m,2),xr(t,2)}}finally{!0===e.firstUpdatePass&&(e.firstUpdatePass=!1),t[Rt]&=-73,pe(1)&&Ce(),Ue()}}function ms(t,e,i){var n=t[Ut],r=!Se(),s=Wi(t);try{r&&!s&&n.begin&&n.begin();var o=t[Mt];s&&cs(t,o,i),fs(t,o,e,i)}finally{r&&!s&&n.end&&n.end()}}function _s(t,e,i,n){var r=Oe();try{ye(null),2&i&&t.length>zt&&function(t,e,i){if(pe(1)&&Ce(),!i)if(3==(3&t[Rt])){var n=t[Mt].preOrderCheckHooks;null!==n&&wr(t,n,0)}else{var r=t[Mt].preOrderHooks;null!==r&&br(t,r,0,0)}Ye(0)}(t,0,Se()),e(i,n)}finally{pe(1)&&Ce(),Ye(r)}}function gs(t){return t.tView||(t.tView=ds(-1,t.template,t.decls,t.vars,t.directiveDefs,t.pipeDefs,t.viewQuery,t.schemas,t.consts))}function ds(t,e,i,n,r,s,o,a,A){var l=zt+i,u=l+n,h=function(t,e){for(var i=[],n=0;n<e;n++)i.push(n<t?null:ri);return i}(l,u);return h[Mt]={id:t,blueprint:h,template:e,queries:null,viewQuery:o,node:null,data:h.slice().fill(null,l),bindingStartIndex:l,expandoStartIndex:u,expandoInstructions:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:"function"==typeof r?r():r,pipeRegistry:"function"==typeof s?s():s,firstChild:null,schemas:a,consts:A}}function ps(t,e,i,n,r,s){return{type:i,index:n,injectorIndex:e?e.injectorIndex:-1,directiveStart:-1,directiveEnd:-1,propertyBindings:null,flags:0,providerIndexes:0,tagName:r,attrs:s,localNames:null,initialInputs:void 0,inputs:void 0,outputs:void 0,tViews:null,next:null,projectionNext:null,child:null,parent:e,projection:null,styles:null,classes:null}}function ys(t,e,i){for(var n in t)if(t.hasOwnProperty(n)){var r=t[n];(i=null===i?{}:i).hasOwnProperty(n)?i[n].push(e,n,r):i[n]=[e,n,r]}return i}function Cs(t,e,i,n,r){var s=e.length;_e(t),t.hostBindings(1,i,n.index-zt),_e(null),s===e.length&&r&&e.push(t.hostBindings)}function vs(t,e,i){var n=-(e.index-zt),r=t.data.length-(65535&e.providerIndexes);(t.expandoInstructions||(t.expandoInstructions=[])).push(n,r,i)}function Is(t,e){e.flags|=2,(t.components||(t.components=[])).push(e.index)}function Bs(t,e,i){if(i){if(e.exportAs)for(var n=0;n<e.exportAs.length;n++)i[e.exportAs[n]]=t;e.template&&(i[""]=t)}}function Es(t,e,i){t.flags|=1,t.directiveStart=e,t.directiveEnd=e+i,t.providerIndexes=e}function ws(t,e,i){t.data.push(i);var n=i.factory||(i.factory=Qt(i.type)),r=new fe(n,ae(i),null);t.blueprint.push(r),e.push(r)}function bs(t,e,i){var n=Ji(e,t),r=gs(i),s=t[Ut],o=Ds(t,us(t,r,null,i.onPush?64:16,n,e,s,s.createRenderer(n,i)));t[e.index]=o}function xs(t,e,i,n,r,s){var o=s[e];if(null!==o)for(var a=n.setInput,A=0;A<o.length;){var l=o[A++],u=o[A++],h=o[A++];null!==a?n.setInput(i,h,l,u):i[u]=h}}function Ss(t,e){for(var i=null,n=0;n<e.length;){var r=e[n];if(0!==r)if(5!==r){if("number"==typeof r)break;t.hasOwnProperty(r)&&(null===i&&(i=[]),i.push(r,t[r],e[n+1])),n+=2}else n+=2;else n+=4}return i}function Qs(t,e){var i=qi(e,t);if(128==(128&i[Rt])&&80&i[Rt]){var n=i[Mt];fs(i,n,n.template,i[Nt])}}function ks(t,e){var i=qi(e,t);!function(t){for(var e=t[Mt],i=t.length;i<e.blueprint.length;i++)t.push(e.blueprint[i])}(i),cs(i,i[Mt],i[Nt])}function Ds(t,e){return t[Ht]?t[Jt][Tt]=e:t[Ht]=e,t[Jt]=e,e}function Ms(t){for(;t;){t[Rt]|=64;var e=tn(t);if(Ae(t)&&!e)return t;t=e}return null}function Rs(t,e){var i=t[Ut];i.begin&&i.begin();try{var n=t[Mt];fs(t,n,n.template,e)}catch(r){throw Ns(t,r),r}finally{i.end&&i.end()}}function Vs(t){!function(t){for(var e=0;e<t.components.length;e++){var i=t.components[e],n=Xi(i);ms(n,n[Mt].template,i)}}(t[Nt])}function Ts(t,e,i){Te(0),e(t,i)}var Gs=Promise.resolve(null);function Fs(t){return t[Pt]||(t[Pt]=[])}function Ps(t){return t[Mt].cleanup||(t[Mt].cleanup=[])}function Ns(t,e){var i=t[Lt],n=i?i.get(wn,null):null;n&&n.handleError(e)}function Ls(t,e,i){for(var n=t[Mt],r=0;r<e.length;){var s=e[r++],o=e[r++],a=e[r++],A=t[s],l=n.data[s];l.setInput?l.setInput(A,i,o,a):A[a]=i}}function Us(t,e){var i=e[Vt];return-1===t.index?ne(i)?i:null:i}function Os(t,e){var i=Us(t,e);return i?$s(e[Ot],i[$t]):null}function Ys(t,e,i,n,r){if(null!=n){var s,o=!1;ne(n)?s=n:ie(n)&&(o=!0,n=n[Dt]);var a=Yi(n);0===t&&null!==i?null==r?Ws(e,i,a):Xs(e,i,a,r||null):1===t&&null!==i?Xs(e,i,a,r||null):2===t?function(t,e,i){var n=$s(t,e);n&&function(t,e,i,n){je(t)?t.removeChild(e,i,n):e.removeChild(i)}(t,n,e,i)}(e,a,o):3===t&&e.destroyNode(a),null!=s&&function(t,e,i,n,r){var s=i[$t];s!==Yi(i)&&Ys(e,t,n,s,r);for(var o=ee;o<i.length;o++)no(t,e,i[o],n,s)}(e,t,s,i,r)}}function Hs(t,e,i){var n=Os(t[Mt].node,t);n&&no(t[Ot],e?1:2,t,n,i)}function Js(t,e){var i=t[Zt],n=i.indexOf(e);i.splice(n,1)}function js(t,e){if(!(t.length<=ee)){var i=ee+e,n=t[i];if(n){var r=n[Kt];null!==r&&r!==t&&Js(r,n),e>0&&(t[i-1][Tt]=n[Tt]);var s=_t(t,ee+e);Hs(n,!1,null);var o=s[Gt];null!==o&&o.detachView(s[Mt]),n[Vt]=null,n[Tt]=null,n[Rt]&=-129}return n}}function Ks(t){if(!(256&t[Rt])){var e=t[Ot];je(e)&&e.destroyNode&&no(e,3,t,null,null),function(t){var e=t[Ht];if(!e)return zs(t);for(;e;){var i=null;if(ie(e))i=e[Ht];else{var n=e[ee];n&&(i=n)}if(!i){for(;e&&!e[Tt]&&e!==t;)zs(e),e=qs(e,t);zs(e||t),i=e&&e[Tt]}e=i}}(t)}}function qs(t,e){var i;return ie(t)&&(i=t[Ft])&&2===i.type?Us(i,t):t[Vt]===e?null:t[Vt]}function zs(t){if(ie(t)&&!(256&t[Rt])){t[Rt]&=-129,t[Rt]|=256,function(t){var e,i=t[Mt];if(null!=i&&null!=(e=i.destroyHooks))for(var n=0;n<e.length;n+=2){var r=t[e[n]];r instanceof fe||e[n+1].call(r)}}(t),function(t){var e=t[Mt].cleanup;if(null!==e){for(var i=t[Pt],n=0;n<e.length-1;n+=2)if("string"==typeof e[n]){var r=e[n+1],s="function"==typeof r?r(t):Yi(t[r]),o=i[e[n+2]],a=e[n+3];"boolean"==typeof a?s.removeEventListener(e[n],o,a):a>=0?i[a]():i[-a].unsubscribe(),n+=2}else e[n].call(i[e[n+1]]);t[Pt]=null}}(t);var e=t[Ft];e&&3===e.type&&je(t[Ot])&&t[Ot].destroy();var i=t[Kt];if(null!==i&&ne(t[Vt])){i!==t[Vt]&&Js(i,t);var n=t[Gt];null!==n&&n.detachView(t[Mt])}}}function Xs(t,e,i,n){je(t)?t.insertBefore(e,i,n):e.insertBefore(i,n,!0)}function Ws(t,e,i){je(t)?t.appendChild(e,i):e.appendChild(i)}function Zs(t,e,i,n){null!==n?Xs(t,e,i,n):Ws(t,e,i)}function $s(t,e){return je(t)?t.parentNode(e):e.parentNode}function to(t,e,i){var n=function(t,e){if(Ae(e))return $s(e[Ot],Ji(t,e));for(var i=t.parent;null!=i&&(4===i.type||5===i.type);)i=(t=i).parent;if(null==i){var n=e[Ft];return 2===n.type?Os(n,e):e[Dt]}if(t&&5===t.type&&4&t.flags)return Ji(t,e).parentNode;if(2&i.flags){var r=e[Mt].data,s=r[r[i.index].directiveStart].encapsulation;if(s!==dt.ShadowDom&&s!==dt.Native)return null}return Ji(i,e)}(e,i);if(null!=n){var r=i[Ot],s=function(t,e){if(2===t.type){var i=Us(t,e);return null===i?null:eo(i.indexOf(e,ee)-ee,i)}return 4===t.type||5===t.type?Ji(t,e):null}(e.parent||i[Ft],i);if(Array.isArray(t))for(var o=0;o<t.length;o++)Zs(r,n,t[o],s);else Zs(r,n,t,s)}}function eo(t,e){var i=ee+t+1;if(i<e.length){var n=e[i],r=n[Ft].child;if(null!==r){if(4===r.type||5===r.type){for(var s=r.child;s&&(4===s.type||5===s.type);)s=s.child;r=s||r}return ji(r,n)}}return e[$t]}function io(t,e,i,n,r,s,o){for(;null!=i;){var a=n[i.index],A=i.type;o&&0===e&&(a&&pr(Yi(a),n),i.flags|=4),64!=(64&i.flags)&&(4===A||5===A?(io(t,e,i.child,n,r,s,!1),Ys(e,t,r,a,s)):1===A?ro(t,e,n,i,r,s):Ys(e,t,r,a,s)),i=o?i.projectionNext:i.next}}function no(t,e,i,n,r){io(t,e,i[Mt].node.child,i,n,r,!1)}function ro(t,e,i,n,r,s){var o=en(i),a=o[Ft].projection[n.projection];if(Array.isArray(a))for(var A=0;A<a.length;A++)Ys(e,t,r,a[A],s);else io(t,e,a,o[Vt],r,s,!0)}var so,oo,ao,Ao=function(){function t(e,i){_classCallCheck2(this,t),this._lView=e,this._cdRefInjectingView=i,this._appRef=null,this._viewContainerRef=null,this._tViewNode=null}return _createClass2(t,[{key:"destroy",value:function(){if(this._appRef)this._appRef.detachView(this);else if(this._viewContainerRef){var t=this._viewContainerRef.indexOf(this);t>-1&&this._viewContainerRef.detach(t),this._viewContainerRef=null}Ks(this._lView)}},{key:"onDestroy",value:function(t){var e,i;i=t,Fs(e=this._lView).push(i),e[Mt].firstCreatePass&&Ps(e).push(e[Pt].length-1,null)}},{key:"markForCheck",value:function(){Ms(this._cdRefInjectingView||this._lView)}},{key:"detach",value:function(){this._lView[Rt]&=-129}},{key:"reattach",value:function(){this._lView[Rt]|=128}},{key:"detectChanges",value:function(){Rs(this._lView,this.context)}},{key:"checkNoChanges",value:function(){!function(t,e){Qe(!0);try{Rs(t,e)}finally{Qe(!1)}}(this._lView,this.context)}},{key:"attachToViewContainerRef",value:function(t){if(this._appRef)throw new Error("This view is already attached directly to the ApplicationRef!");this._viewContainerRef=t}},{key:"detachFromAppRef",value:function(){var t;this._appRef=null,no((t=this._lView)[Ot],2,t,null,null)}},{key:"attachToAppRef",value:function(t){if(this._viewContainerRef)throw new Error("This view is already attached to a ViewContainer!");this._appRef=t}},{key:"rootNodes",get:function(){return null==this._lView[Dt]?function t(e,i,n){for(;null!==i;){var r=e[i.index];if(null!==r&&n.push(Yi(r)),ne(r))for(var s=ee;s<r.length;s++){var o=r[s],a=o[Mt].firstChild;null!==a&&t(o,a,n)}var A=i.type;if(4===A||5===A)t(e,i.child,n);else if(1===A)for(var l=en(e),u=l[Ft],h=tn(l),c=u.projection[i.projection];null!==c&&null!==h;)n.push(Ji(c,h)),c=c.next;i=i.next}return n}(this._lView,this._lView[Ft].child,[]):[]}},{key:"context",get:function(){return this._lView[Nt]}},{key:"destroyed",get:function(){return 256==(256&this._lView[Rt])}}]),t}(),lo=function(t){function e(t){var i;return _classCallCheck2(this,e),(i=_possibleConstructorReturn(this,_getPrototypeOf(e).call(this,t)))._view=t,i}return _inherits(e,t),_createClass2(e,[{key:"detectChanges",value:function(){Vs(this._view)}},{key:"checkNoChanges",value:function(){!function(t){Qe(!0);try{Vs(t)}finally{Qe(!1)}}(this._view)}},{key:"context",get:function(){return null}}]),e}(Ao);function uo(t,e,i){return so||(so=function(t){function e(){return _classCallCheck2(this,e),_possibleConstructorReturn(this,_getPrototypeOf(e).apply(this,arguments))}return _inherits(e,t),e}(t)),new so(Ji(e,i))}function ho(t,e,i,n){return oo||(oo=function(t){function e(t,i,n){var r;return _classCallCheck2(this,e),(r=_possibleConstructorReturn(this,_getPrototypeOf(e).call(this)))._declarationView=t,r._declarationTContainer=i,r.elementRef=n,r}return _inherits(e,t),_createClass2(e,[{key:"createEmbeddedView",value:function(t){var e=this._declarationTContainer.tViews,i=us(this._declarationView,e,t,16,null,e.node);i[Kt]=this._declarationView[this._declarationTContainer.index];var n=this._declarationView[Gt];null!==n&&(i[Gt]=n.createEmbeddedView(e)),cs(i,e,t);var r=new Ao(i);return r._tViewNode=i[Ft],r}}]),e}(t)),0===i.type?new oo(n,i,uo(e,i,n)):null}function co(t,e,i,n){var r;ao||(ao=function(t){function i(t,e,n){var r;return _classCallCheck2(this,i),(r=_possibleConstructorReturn(this,_getPrototypeOf(i).call(this)))._lContainer=t,r._hostTNode=e,r._hostView=n,r}return _inherits(i,t),_createClass2(i,[{key:"clear",value:function(){for(;this.length>0;)this.remove(this.length-1)}},{key:"get",value:function(t){return null!==this._lContainer[te]&&this._lContainer[te][t]||null}},{key:"createEmbeddedView",value:function(t,e,i){var n=t.createEmbeddedView(e||{});return this.insert(n,i),n}},{key:"createComponent",value:function(t,e,i,n,r){var s=i||this.parentInjector;if(!r&&null==t.ngModule&&s){var o=s.get(ht,null);o&&(r=o)}var a=t.create(s,n,void 0,r);return this.insert(a.hostView,e),a}},{key:"insert",value:function(t,e){if(t.destroyed)throw new Error("Cannot insert a destroyed View in a ViewContainer!");this.allocateContainerIfNeeded();var i=t._lView,n=this._adjustIndex(e);return ne(i[Vt])?this.move(t,n):(function(t,e,i){var n=ee+i,r=e.length;i>0&&(e[n-1][Tt]=t),i<r-ee?(t[Tt]=e[n],mt(e,ee+i,t)):(e.push(t),t[Tt]=null),t[Vt]=e;var s=t[Kt];null!==s&&e!==s&&function(t,e){var i=t[Zt];null===i?t[Zt]=[e]:i.push(e)}(s,t);var o=t[Gt];null!==o&&o.insertView(t[Mt]),t[Rt]|=128}(i,this._lContainer,n),Hs(i,!0,eo(n,this._lContainer)),t.attachToViewContainerRef(this),mt(this._lContainer[te],n,t),t)}},{key:"move",value:function(t,e){if(t.destroyed)throw new Error("Cannot move a destroyed View in a ViewContainer!");var i=this.indexOf(t);return-1!==i&&this.detach(i),this.insert(t,e),t}},{key:"indexOf",value:function(t){return null!==this._lContainer[te]?this._lContainer[te].indexOf(t):0}},{key:"remove",value:function(t){this.allocateContainerIfNeeded();var e=this._adjustIndex(t,-1);(function(t,e){var i=js(t,e);i&&Ks(i)})(this._lContainer,e),_t(this._lContainer[te],e)}},{key:"detach",value:function(t){this.allocateContainerIfNeeded();var e=this._adjustIndex(t,-1),i=js(this._lContainer,e);return i&&null!=_t(this._lContainer[te],e)?new Ao(i):null}},{key:"_adjustIndex",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return null==t?this.length+e:t}},{key:"allocateContainerIfNeeded",value:function(){null===this._lContainer[te]&&(this._lContainer[te]=[])}},{key:"element",get:function(){return uo(e,this._hostTNode,this._hostView)}},{key:"injector",get:function(){return new yn(this._hostTNode,this._hostView)}},{key:"parentInjector",get:function(){var t=un(this._hostTNode,this._hostView),e=$e(t,this._hostView),i=function(t,e,i){if(i.parent&&-1!==i.parent.injectorIndex){for(var n=i.parent.injectorIndex,r=i.parent;null!=r.parent&&n==r.injectorIndex;)r=r.parent;return r}for(var s=Ze(t),o=e,a=e[Ft];s>1;)a=(o=o[jt])[Ft],s--;return a}(t,this._hostView,this._hostTNode);return Xe(t)&&null!=i?new yn(i,e):new yn(null,this._hostView)}},{key:"length",get:function(){return this._lContainer.length-ee}}]),i}(t));var s=n[i.index];if(ne(s))(r=s)[Wt]=-1;else{var o;if(o=4===i.type?Yi(s):n[Ot].createComment(""),Ae(n)){var a=n[Ot],A=Ji(i,n);Xs(a,$s(a,A),o,function(t,e){return je(t)?t.nextSibling(e):e.nextSibling}(a,A))}else to(o,i,n);n[i.index]=r=new Array(s,!0,-1,n,null,null,i,o,null),Ds(n,r)}return new ao(r,i,n)}var fo=function(){var t=function t(){_classCallCheck2(this,t)};return t.__NG_ELEMENT_ID__=function(){return mo()},t}(),mo=function(){var t=arguments.length>0&&void 0!==arguments[0]&&arguments[0];return function(t,e,i){if(!i&&se(t)){var n=qi(t.index,e);return new Ao(n,n)}if(3===t.type||0===t.type||4===t.type){var r=en(e);return new Ao(r,e)}return null}(Ee(),de(),t)},_o=new Z("Set Injector scope."),go={},po={},yo=[],Co=void 0;function vo(){return void 0===Co&&(Co=new ut),Co}function Io(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,n=arguments.length>3?arguments[3]:void 0;return e=e||vo(),new Bo(t,i,e,n)}var Bo=function(){function t(e,i,n){var r=this,s=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null;_classCallCheck2(this,t),this.parent=n,this.records=new Map,this.injectorDefTypes=new Set,this.onDestroy=new Set,this._destroyed=!1;var o=[];i&&ft(i,(function(t){return r.processProvider(t,e,i)})),ft([e],(function(t){return r.processInjectorType(t,[],o)})),this.records.set($,bo(void 0,this));var a=this.records.get(_o);this.scope=null!=a?a.value:null,this.injectorDefTypes.forEach((function(t){return r.get(t)})),this.source=s||("object"==typeof e?null:T(e))}return _createClass2(t,[{key:"destroy",value:function(){this.assertNotDestroyed(),this._destroyed=!0;try{this.onDestroy.forEach((function(t){return t.ngOnDestroy()}))}finally{this.records.clear(),this.onDestroy.clear(),this.injectorDefTypes.clear()}}},{key:"get",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:tt,i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:E.Default;this.assertNotDestroyed();var n,r=rt(this);try{if(!(i&E.SkipSelf)){var s=this.records.get(t);if(void 0===s){var o=("function"==typeof(n=t)||"object"==typeof n&&n instanceof Z)&&Q(t);s=o&&this.injectableDefInScope(o)?bo(Eo(t),go):null,this.records.set(t,s)}if(null!=s)return this.hydrate(t,s)}return(i&E.Self?vo():this.parent).get(t,e=i&E.Optional&&e===tt?null:e)}catch(a){if("NullInjectorError"===a.name){if((a.ngTempTokenPath=a.ngTempTokenPath||[]).unshift(T(t)),r)throw a;return function(t,e,i,n){var r=t.ngTempTokenPath;throw e.__source&&r.unshift(e.__source),t.message=function(t,e,i){var n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null;t=t&&"\n"===t.charAt(0)&&"\u0275"==t.charAt(1)?t.substr(2):t;var r=T(e);if(Array.isArray(e))r=e.map(T).join(" -> ");else if("object"==typeof e){var s=[];for(var o in e)if(e.hasOwnProperty(o)){var a=e[o];s.push(o+":"+("string"==typeof a?JSON.stringify(a):T(a)))}r="{".concat(s.join(", "),"}")}return"".concat(i).concat(n?"("+n+")":"","[").concat(r,"]: ").concat(t.replace(et,"\n  "))}("\n"+t.message,r,"R3InjectorError",n),t.ngTokenPath=r,t.ngTempTokenPath=null,t}(a,t,0,this.source)}throw a}finally{rt(r)}}},{key:"toString",value:function(){var t=[];return this.records.forEach((function(e,i){return t.push(T(i))})),"R3Injector[".concat(t.join(", "),"]")}},{key:"assertNotDestroyed",value:function(){if(this._destroyed)throw new Error("Injector has already been destroyed.")}},{key:"processInjectorType",value:function(t,e,i){var n=this;if(!(t=P(t)))return!1;var r=k(t),s=null==r&&t.ngModule||void 0,o=void 0===s?t:s,a=-1!==i.indexOf(o);if(void 0!==s&&(r=k(s)),null==r)return!1;if(this.injectorDefTypes.add(o),this.records.set(o,bo(r.factory,go)),null!=r.imports&&!a){var A;i.push(o);try{ft(r.imports,(function(t){n.processInjectorType(t,e,i)&&(void 0===A&&(A=[]),A.push(t))}))}finally{}if(void 0!==A)for(var l=function(t){var e=A[t],i=e.ngModule,r=e.providers;ft(r,(function(t){return n.processProvider(t,i,r||yo)}))},u=0;u<A.length;u++)l(u)}var h=r.providers;if(null!=h&&!a){var c=t;ft(h,(function(t){return n.processProvider(t,c,h)}))}return void 0!==s&&void 0!==t.providers}},{key:"processProvider",value:function(t,e,i){var n=So(t=P(t))?t:P(t&&t.provide),r=function(t,e,i){var n=wo(t,e,i);return xo(t)?bo(void 0,t.useValue):bo(n,go)}(t,e,i);if(So(t)||!0!==t.multi){var s=this.records.get(n);s&&void 0!==s.multi&&Ir()}else{var o=this.records.get(n);o?void 0===o.multi&&Ir():((o=bo(void 0,go,!0)).factory=function(){return lt(o.multi)},this.records.set(n,o)),n=t,o.multi.push(t)}this.records.set(n,r)}},{key:"hydrate",value:function(t,e){var i;return e.value===po?function(t){throw new Error("Cannot instantiate cyclic dependency! ".concat(t))}(T(t)):e.value===go&&(e.value=po,e.value=e.factory()),"object"==typeof e.value&&e.value&&null!==(i=e.value)&&"object"==typeof i&&"function"==typeof i.ngOnDestroy&&this.onDestroy.add(e.value),e.value}},{key:"injectableDefInScope",value:function(t){return!!t.providedIn&&("string"==typeof t.providedIn?"any"===t.providedIn||t.providedIn===this.scope:this.injectorDefTypes.has(t.providedIn))}},{key:"destroyed",get:function(){return this._destroyed}}]),t}();function Eo(t){var e=Q(t),i=null!==e?e.factory:Qt(t);if(null!==i)return i;var n=k(t);if(null!==n)return n.factory;if(t instanceof Z)throw new Error("Token ".concat(T(t)," is missing a \u0275prov definition."));if(t instanceof Function)return function(t){var e=t.length;if(e>0){var i=function(t,e){for(var i=[],n=0;n<t;n++)i.push("?");return i}(e);throw new Error("Can't resolve all parameters for ".concat(T(t),": (").concat(i.join(", "),")."))}var n,r,s=(r=(n=t)&&(n[D]||n[R]))?(console.warn('DEPRECATED: DI is instantiating a token "'.concat(n.name,'" that inherits its @Injectable decorator but does not provide one itself.\n')+'This will become an error in v10. Please add @Injectable() to the "'.concat(n.name,'" class.')),r):null;return null!==s?function(){return s.factory(t)}:function(){return new t}}(t);throw new Error("unreachable")}function wo(t,e,i){var n,r=void 0;if(So(t))return Eo(P(t));if(xo(t))r=function(){return P(t.useValue)};else if((n=t)&&n.useExisting)r=function(){return at(P(t.useExisting))};else if(function(t){return!(!t||!t.useFactory)}(t))r=function(){return t.useFactory.apply(t,_toConsumableArray(lt(t.deps||[])))};else{var s=P(t&&(t.useClass||t.provide));if(s||function(t,e,i){var n="";throw t&&e&&(n=" - only instances of Provider and Type are allowed, got: [".concat(e.map((function(t){return t==i?"?"+i+"?":"..."})).join(", "),"]")),new Error("Invalid provider for the NgModule '".concat(T(t),"'")+n)}(e,i,t),!function(t){return!!t.deps}(t))return Eo(s);r=function(){return _construct(s,_toConsumableArray(lt(t.deps)))}}return r}function bo(t,e){return{factory:t,value:e,multi:arguments.length>2&&void 0!==arguments[2]&&arguments[2]?[]:void 0}}function xo(t){return null!==t&&"object"==typeof t&&it in t}function So(t){return"function"==typeof t}var Qo=function(t,e,i){return Io({name:i},e,t,i)},ko=function(){var t=function(){function t(){_classCallCheck2(this,t)}return _createClass2(t,null,[{key:"create",value:function(t,e){return Array.isArray(t)?Qo(t,e,""):Qo(t.providers,t.parent,t.name||"")}}]),t}();return t.THROW_IF_NOT_FOUND=tt,t.NULL=new ut,t.\u0275prov=x({token:t,providedIn:"any",factory:function(){return at($)}}),t.__NG_ELEMENT_ID__=-1,t}(),Do=new Z("AnalyzeForEntryComponents"),Mo=new Map,Ro=new Set;function Vo(t){return"string"==typeof t?t:t.text()}function To(t){var e=de(),i=e[Mt];i.firstCreatePass&&(function(t,e,i){var n=t.expandoInstructions,r=n.length;r>=2&&n[r-2]===e.hostBindings?n[r-1]=n[r-1]+i:n.push(e.hostBindings,i)}(i,me.lFrame.currentDirectiveDef,t),function(t,e,i){for(var n=0;n<i;n++)e.push(ri),t.blueprint.push(ri),t.data.push(null)}(i,e,t))}var Go=null;function Fo(){if(!Go){var t=H.Symbol;if(t&&t.iterator)Go=t.iterator;else for(var e=Object.getOwnPropertyNames(Map.prototype),i=0;i<e.length;++i){var n=e[i];"entries"!==n&&"size"!==n&&Map.prototype[n]===Map.prototype.entries&&(Go=n)}}return Go}function Po(t,e){return t===e||"number"==typeof t&&"number"==typeof e&&isNaN(t)&&isNaN(e)}var No=function(){function t(e){_classCallCheck2(this,t),this.wrapped=e}return _createClass2(t,null,[{key:"wrap",value:function(e){return new t(e)}},{key:"unwrap",value:function(e){return t.isWrapped(e)?e.wrapped:e}},{key:"isWrapped",value:function(e){return e instanceof t}}]),t}();function Lo(t){return!!Uo(t)&&(Array.isArray(t)||!(t instanceof Map)&&Fo()in t)}function Uo(t){return null!==t&&("function"==typeof t||"object"==typeof t)}function Oo(t,e,i){return!Object.is(t[e],i)&&(t[e]=i,!0)}function Yo(t,e,i,n){var r=de();return Oo(r,De(),e)&&function(t,e,i,n,r,s){var o=Hi(t,n),a=n[Ot];if(null==i)je(a)?a.removeAttribute(o,e,s):o.removeAttribute(e);else{var A=Ki(t,n),l=null==r?ti(i):r(i,A.tagName||"",e);je(a)?a.setAttribute(o,e,l,s):s?o.setAttributeNS(s,e,l):o.setAttribute(e,l)}}(Oe(),t,e,r,i,n),Yo}function Ho(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:E.Default;t=P(t);var i=de();return null==i?at(t,e):cn(Ee(),i,t,e)}function Jo(t){return function(t,e){if("class"===e)return Qi(t.classes);if("style"===e)return Qi(t.styles);var i=t.attrs;if(i)for(var n=i.length,r=0;r<n;){var s=i[r];if(qe(s))break;if(0===s)r+=2;else if("number"==typeof s)for(r++;r<n&&"string"==typeof i[r];)r++;else{if(s===e)return i[r+1];r+=2}}return null}(Ee(),t)}function jo(){throw new Error("invalid")}function Ko(t){var e=Oe(),i=de(),n=Ki(e,i),r=i[Mt].firstUpdatePass,s=function(t){return ta(t,!1)}(n),o=Di(n),a=Me(2);!ea()&&o&&t!==ri&&(Xo(s,i,n,a,t,!1,r),t=ri),r&&(fi(n,16384),ia(n,ea(),!1)),zo(s,n,r,i,a,t,!1,o)}function qo(t){!function(t,e){var i=de(),n=Ki(t,i),r=i[Mt].firstUpdatePass,s=function(t){return ta(t,!0)}(n),o=ki(n),a=Me(2);!ea()&&o&&e!==ri&&(Xo(s,i,n,a,e,!0,r),e=ri),r&&(fi(n,512),ia(n,ea(),!0)),zo(s,n,r,i,a,e,!0,o)}(Oe(),t)}function zo(t,e,i,n,r,s,o,a){var A=Ie(),l=Ji(e,n),u=Ii(n,r),h=He(),c=Bi(u,s);if(function(t,e,i){var n=!1;if(ci(t,128)){if(!i){var r=ci(t,e?8192:262144),s=e?1536:49152,o=(t.flags&s)!==s;n=!r&&o}}else n=!0;return n}(e,o,i)){var f=o?null:h;(function(t,e,i,n,r,s,o,a,A,l,u){var h=Ii(r,s);if(l||Bi(h,o)){var c=ci(i,256),f=c&&!u?Qi(e):null;vi(r,s,o);var m=s+1,_=Ii(r,m);_===ri&&(_=f),_="string"!=typeof _?"":_;var g=!ci(i,a?1024:32768);if(g&&function(t,e,i){return"undefined"===H.Node||e===Ur||((i?t.className:t.style&&t.style.cssText)||"")!==(e||"")}(n,_,a)&&(g=!1,h!==Ur&&(function(t,e,i,n){var r,s;s=i,r=Array.isArray(s)&&"string"==typeof s[1]?i:Li(null,i,!n);for(var o=n?es:ts,a=1;a<r.length;a+=2)Ti(r,a)&&o(t,e,Mi(r,a),!1)}(t,n,h,a),vi(r,m,Ur))),g)vi(r,m,Xr(t,n,o,a,c&&!u?Qi(e):null)||null);else{for(var d=a?es:ts,p=Li(h,o,!a),y=c?xi(e):null,C=1;C<p.length;C+=2){var v=Mi(p,C),I=Wr(t,n,v,Ti(p,C),d,s,A);!I&&y&&(I=Zr(t,n,d,y,v,s,A)),I||d(t,n,v,null,s)}var B=Lr(n,oi);a?B.lastDirectClassMap=p:B.lastDirectStyleMap=p}}})(Zo(e,n),t,e,l,n,r,s,o,f,c,a),f&&ve(Wo)}else{var m=s===ri?ri:Li(u,s,!o);$r=rs,o?function(t,e,i,n,r,s,o,a,A,l){var u=Lr(n,r),h=Or;(l||a!==ri)&&(Yr(t,e,i,h,u.sourceIndex,null,o,a,A,!1,l,!0)||A)&&(u.classesBitMask|=1<<h)}(t,e,n,l,A,0,r,m,c,i):function(t,e,i,n,r,s,o,a,A,l,u){var h=Lr(n,r),c=Or;(u||a!==ri)&&(Yr(t,e,i,c,h.sourceIndex,null,o,a,l,!0,u,!1)||l)&&(h.stylesBitMask|=1<<c)}(t,e,n,l,A,0,r,m,0,c,i),ve(Wo)}}function Xo(t,e,i,n,r,s,o){if(Bi(Ii(e,n),r)){if(Ei(r)||!o){var a=s?Ui(i.inputs):"style";Ls(e,i.inputs[a],function(t,e,i){var n,r=e;return t.length&&(r=i?wi(t,((n=e)&&"string"!=typeof n&&(n=Object.keys(n).join(" ")),n||"")):wi(t,Gi(e,!0),";")),r}(Qi(t),r,s)),ve(Wo)}vi(e,n,r)}}function Wo(){var t=de(),e=t[Mt],i=Ki(Oe(),t),n=Ji(i,t),r=Ie(),s=Zo(i,t),o=He();(function(t,e,i,n,r,s,o,a,A){var l=Lr(s,o),u=Fi(l.sourceIndex);r&&(A&&qr(r,i,!1),0!==l.stylesBitMask&&zr(r,i,t,s,e,l.stylesBitMask,ts,a,u,!1)),n&&(A&&qr(n,i,!0),0!==l.classesBitMask&&zr(n,i,t,s,e,l.classesBitMask,es,null,u,!0)),Fr.element=null})(s,t,i,Si(i.classes)?i.classes:null,Si(i.styles)?i.styles:null,n,r,o,e.firstUpdatePass),me.lFrame.currentSanitizer=null}function Zo(t,e){return 3===t.type?e[Ot]:null}function $o(t,e){xi(t)[0]=e}function ta(t,e){var i,n=e?t.classes:t.styles;return Si(n)||(oe(t),i=(i=n)||hi(null),n=[li,i],e?t.classes=n:t.styles=n),n}function ea(){return Fi(Ie())}function ia(t,e,i){fi(t,e?i?4096:131072:i?2048:65536)}function na(t,e,i,n){var r=de(),s=r[Mt],o=s.consts,a=Zi(o,i),A=Zi(o,n),l=r[Ot],u=r[t+zt]=ls(e,l,me.lFrame.currentNamespace),h=hs(s,r[Ft],t,3,e,a);if(null!=a){var c=function(t,e,i){for(var n=je(t),r=0;r<i.length;){var s=i[r];if("number"==typeof s){if(0!==s)break;r++;var o=i[r++],a=i[r++],A=i[r++];n?t.setAttribute(e,a,A,o):e.setAttributeNS(o,a,A)}else{var l=s,u=i[++r];ze(l)?n&&t.setProperty(e,l,u):n?t.setAttribute(e,l,u):e.setAttribute(l,u),r++}}return r}(l,u,a);s.firstCreatePass&&function(t,e,i){for(var n=!1,r=xi(t.styles),s=xi(t.classes),o=-1,a=i;a<e.length;a++){var A=e[a];if("number"==typeof A)o=A;else if(1==o)Ni(s=s||hi(null),A,!0),n=!0;else if(2==o){var l=e[++a];Ni(r=r||hi(null),A,l),n=!0}}s&&s.length>1&&(t.classes||(t.classes=s),$o(t.classes,Pi(s,!0))),r&&r.length>1&&(t.styles||(t.styles=r),$o(t.styles,Pi(r,!1))),n&&(t.flags|=256)}(h,a,c)}256==(256&h.flags)&&function(t,e,i,n){null!==i.classes&&Xr(t,e,Qi(i.classes),!0,null),null!==i.styles&&Xr(t,e,Qi(i.styles),!1,null)}(l,u,h),to(u,h,r),0===me.lFrame.elementDepthCount&&pr(u,r),me.lFrame.elementDepthCount++,s.firstCreatePass&&(function(t,e,i,n){if(!ge())return!1;var r=function(t,e,i){var n=t.directiveRegistry,r=null;if(n)for(var s=0;s<n.length;s++){var o=n[s];Gr(i,o.selectors,!1)&&(r||(r=[]),hn(an(i,e),t,o.type),ae(o)?(2&i.flags&&vr(i),Is(t,i),r.unshift(o)):r.push(o))}return r}(t,e,i),s=null===n?null:{"":-1};if(null!==r){!0,Es(i,t.data.length,r.length);for(var o=0;o<r.length;o++){var a=r[o];a.providersResolver&&a.providersResolver(a)}vs(t,i,r.length);for(var A=t.preOrderHooks&&t.preOrderHooks.length||0,l=t.preOrderCheckHooks&&t.preOrderCheckHooks.length||0,u=i.index-zt,h=0;h<r.length;h++){var c=r[h],f=t.data.length;ws(t,e,c),Bs(t.data.length-1,c,s),null!==c.contentQueries&&(i.flags|=8),null!==c.hostBindings&&(i.flags|=128),Br(f,c,t,u,A,l)}!function(t,e){for(var i=e.directiveEnd,n=t.data,r=e.attrs,s=[],o=null,a=null,A=e.directiveStart;A<i;A++){var l=n[A],u=l.inputs;s.push(null!==r?Ss(u,r):null),o=ys(u,A,o),a=ys(l.outputs,A,a)}null!==o&&((o.hasOwnProperty("class")||o.hasOwnProperty("className"))&&(e.flags|=16),o.hasOwnProperty("style")&&(e.flags|=32)),e.initialInputs=s,e.inputs=o,e.outputs=a}(t,i)}s&&function(t,e,i){if(e)for(var n=t.localNames=[],r=0;r<e.length;r+=2){var s=i[e[r+1]];if(null==s)throw new Error("Export of name '".concat(e[r+1],"' not found!"));n.push(e[r],s)}}(i,n,s)}(s,r,h,A),null!==s.queries&&s.queries.elementStart(s,h)),oe(h)&&(function(t,e,i){ge()&&(function(t,e,i,n){var r=i.directiveStart,s=i.directiveEnd;t.firstCreatePass||an(i,e),pr(n,e);for(var o=i.initialInputs,a=r;a<s;a++){var A=t.data[a],l=ae(A);l&&bs(e,i,A);var u=gn(t.data,e,a,i);pr(u,e),null!==o&&xs(0,a-r,u,A,0,o),l&&(qi(i.index,e)[Nt]=u)}}(t,e,i,Ji(i,e)),128==(128&i.flags)&&function(t,e,i){var n=i.directiveStart,r=i.directiveEnd,s=t.expandoInstructions,o=t.firstCreatePass,a=i.index-zt;try{ye(a);for(var A=n;A<r;A++){var l=t.data[A],u=e[A];l.hostBindings?(Be(),Cs(l,s,u,i,o)):o&&s.push(null)}}finally{ye(null)}}(t,e,i))}(s,r,h),function(t,e,i){if(re(e))for(var n=e.directiveEnd,r=e.directiveStart;r<n;r++){var s=t.data[r];s.contentQueries&&s.contentQueries(1,i[r],r)}}(s,h,r)),null!=A&&function(t,e){var i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:Ji,n=e.localNames;if(n)for(var r=e.index+1,s=0;s<n.length;s+=2){var o=n[s+1],a=-1===o?i(e,t):t[o];t[r++]=a}}(r,h)}function ra(){var t=Ee();be()?xe():we(t=t.parent,!1);var e=t,i=de(),n=i[Mt];if(me.lFrame.elementDepthCount--,n.firstCreatePass&&(Er(n,t),re(t)&&n.queries.elementEnd(t)),ki(e)){var r=Ui(e.inputs);oa(e.classes,i,e.inputs[r])}Di(e)&&oa(e.styles,i,e.inputs.style)}function sa(t,e,i,n){na(t,e,i,n),ra()}function oa(t,e,i){Ls(e,i,t&&Qi(t)||null)}function aa(t){return!!t&&"function"==typeof t.then}function Aa(t){return!!t&&"function"==typeof t.subscribe}function la(t,e){var i=arguments.length>2&&void 0!==arguments[2]&&arguments[2],n=arguments.length>3?arguments[3]:void 0,r=de(),s=Ee();!function(t,e,i,n,r){var s=arguments.length>5&&void 0!==arguments[5]&&arguments[5],o=arguments.length>6?arguments[6]:void 0,a=t[Mt],A=oe(i),l=a.firstCreatePass&&(a.cleanup||(a.cleanup=[])),u=!0;if(3===i.type){var h=Ji(i,t),c=o?o(h):pt,f=c.target||h,m=Fs(t),_=m.length,g=o?function(t){return o(Yi(t[i.index])).target}:i.index;if(je(e)){var d=null;if(!o&&A&&(d=function(t,e,i){var n=t[Mt].cleanup;if(null!=n)for(var r=0;r<n.length-1;r+=2){var s=n[r];if(s===e&&n[r+1]===i){var o=t[Pt],a=n[r+2];return o.length>a?o[a]:null}"string"==typeof s&&(r+=2)}return null}(t,n,i.index)),null!==d)(d.__ngLastListenerFn__||d).__ngNextListenerFn__=r,d.__ngLastListenerFn__=r,u=!1;else{r=ha(i,t,r,!1);var p=e.listen(c.name||f,n,r);m.push(r,p),l&&l.push(n,g,_,_+1)}}else r=ha(i,t,r,!0),f.addEventListener(n,r,s),m.push(r),l&&l.push(n,g,_,s)}var y,C=i.outputs;if(u&&null!=C&&(y=C[n])){var v=y.length;if(v)for(var I=Fs(t),B=0;B<v;B+=3){var E=t[y[B]][y[B+2]].subscribe(r),w=I.length;I.push(r,E),l&&l.push(n,i.index,w,-(w+1))}}}(r,r[Ot],s,t,e,i,n)}function ua(t,e,i,n){try{return!1!==i(n)}catch(r){return Ns(t,r),!1}}function ha(t,e,i,n){return function r(s){if(s===Function)return i;var o=2&t.flags?qi(t.index,e):e;0==(32&e[Rt])&&Ms(o);for(var a=ua(e,0,i,s),A=r.__ngNextListenerFn__;A;)a=ua(e,0,A,s)&&a,A=A.__ngNextListenerFn__;return n&&!1===a&&(s.preventDefault(),s.returnValue=!1),a}}function ca(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",i=de(),n=i[t+zt]=function(t,e){return je(e)?e.createText(t):e.createTextNode(t)}(e,i[Ot]),r=hs(i[Mt],i[Ft],t,3,null,null);xe(),to(n,r,i)}function fa(t,e,i){var n=de();return Oo(n,De(),e)&&function(t,e,i,n,r,s,o){var a,A=Hi(e,t),l=Ki(e,t);if(3===l.type){i="class"===(a=i)?"className":"for"===a?"htmlFor":"formaction"===a?"formAction":"innerHtml"===a?"innerHTML":"readonly"===a?"readOnly":"tabindex"===a?"tabIndex":a;var u=t[Ot];n=null!=r?r(n,l.tagName||"",i):n,je(u)?u.setProperty(A,i,n):ze(i)||(A.setProperty?A.setProperty(i,n):A[i]=n)}}(n,Oe(),t,e,i),fa}function ma(t){if(!(t instanceof Node))throw new Error("Expecting instance of DOM Node");var e,i,n,r=_a(t,!1);return null===r?null:(void 0===r.component&&(r.component=(e=r.nodeIndex,i=r.lView,2&(n=i[Mt].data[e]).flags?i[n.directiveStart]:null)),r.component)}function _a(t){var e=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],i=function(t){var e,i=zi(t);if(i){if(Array.isArray(i)){var n,r=i,s=void 0,o=void 0;if((e=t)&&e.constructor&&e.constructor.\u0275cmp){if(-1==(n=function(t,e){var i=t[Mt].components;if(i)for(var n=0;n<i.length;n++){var r=i[n];if(qi(r,t)[Nt]===e)return r}else if(qi(zt,t)[Nt]===e)return zt;return-1}(r,t)))throw new Error("The provided component was not found in the application");s=t}else if(function(t){return t&&t.constructor&&t.constructor.\u0275dir}(t)){if(-1==(n=function(t,e){for(var i=t[Mt].firstChild;i;){for(var n=i.directiveEnd,r=i.directiveStart;r<n;r++)if(t[r]===e)return i.index;i=Cr(i)}return-1}(r,t)))throw new Error("The provided directive was not found in the application");o=function(t,e,i){var n=e[Mt].data[t],r=n.directiveStart;return 0==r?yt:(2&n.flags&&r++,e.slice(r,n.directiveEnd))}(n,r)}else if(-1==(n=yr(r,t)))return null;var a=Yi(r[n]),A=zi(a),l=A&&!Array.isArray(A)?A:dr(r,n,a);if(s&&void 0===l.component&&(l.component=s,pr(l.component,l)),o&&void 0===l.directives){l.directives=o;for(var u=0;u<o.length;u++)pr(o[u],l)}pr(l.native,l),i=l}}else for(var h=t,c=h;c=c.parentNode;){var f=zi(c);if(f){var m;if(!(m=Array.isArray(f)?f:f.lView))return null;var _=yr(m,h);if(_>=0){var g=Yi(m[_]),d=dr(m,_,g);pr(g,d),i=d;break}}}return i||null}(t);if(!i&&e)throw new Error("Invalid ng target");return i}function ga(t){return"boolean"==typeof t.useCapture}function da(t,e){return t.name==e.name?0:t.name<e.name?-1:1}function pa(t,e){var i=Xi(t)[Mt],n=i.data.length-1;Br(n,e,i,-1,-1,-1),Er(i,{directiveStart:n,directiveEnd:n+1})}function ya(t){for(var e=Object.getPrototypeOf(t.type.prototype).constructor;e;){var i=void 0;if(ae(t))i=e.\u0275cmp||e.\u0275dir;else{if(e.\u0275cmp)throw new Error("Directives cannot inherit Components");i=e.\u0275dir}if(i){var n=t;n.inputs=Ca(t.inputs),n.declaredInputs=Ca(t.declaredInputs),n.outputs=Ca(t.outputs);var r=i.hostBindings;r&&Ba(t,r);var s=i.viewQuery,o=i.contentQueries;s&&va(t,s),o&&Ia(t,o),b(t.inputs,i.inputs),b(t.declaredInputs,i.declaredInputs),b(t.outputs,i.outputs),t.afterContentChecked=t.afterContentChecked||i.afterContentChecked,t.afterContentInit=t.afterContentInit||i.afterContentInit,t.afterViewChecked=t.afterViewChecked||i.afterViewChecked,t.afterViewInit=t.afterViewInit||i.afterViewInit,t.doCheck=t.doCheck||i.doCheck,t.onDestroy=t.onDestroy||i.onDestroy,t.onInit=t.onInit||i.onInit;var a=i.features;if(a)for(var A=0;A<a.length;A++){var l=a[A];l&&l.ngInherit&&l(t)}}e=Object.getPrototypeOf(e)}}function Ca(t){return t===pt?{}:t===yt?[]:t}function va(t,e){var i=t.viewQuery;t.viewQuery=i?function(t,n){e(t,n),i(t,n)}:e}function Ia(t,e){var i=t.contentQueries;t.contentQueries=i?function(t,n,r){e(t,n,r),i(t,n,r)}:e}function Ba(t,e){var i=t.hostBindings;e!==i&&(t.hostBindings=i?function(t,n,r){e(t,n,r),i(t,n,r)}:e)}var Ea=function(){function t(e,i,n){_classCallCheck2(this,t),this.previousValue=e,this.currentValue=i,this.firstChange=n}return _createClass2(t,[{key:"isFirstChange",value:function(){return this.firstChange}}]),t}();function wa(){return ba.ngInherit=!0,ba}function ba(t){t.type.prototype.ngOnChanges&&(t.setInput=xa,t.onChanges=function(){var t=Qa(this),e=t&&t.current;if(e){var i=t.previous;if(i===pt)t.previous=e;else for(var n in e)i[n]=e[n];t.current=null,this.ngOnChanges(e)}})}function xa(t,e,i,n){var r=Qa(t)||function(t,e){return t[Sa]=e}(t,{previous:pt,current:null}),s=r.current||(r.current={}),o=r.previous,a=this.declaredInputs[i],A=o[a];s[a]=new Ea(A&&A.currentValue,e,o===pt),t[n]=e}var Sa="__ngSimpleChanges__";function Qa(t){return t[Sa]||null}function ka(t,e,i,n,r){if(t=P(t),Array.isArray(t))for(var s=0;s<t.length;s++)ka(t[s],e,i,n,r);else{var o=de(),a=o[Mt],A=So(t)?t:P(t.provide),l=wo(t),u=Ee(),h=65535&u.providerIndexes,c=u.directiveStart,f=u.providerIndexes>>16;if(t.useClass||So(t)){var m=(t.useClass||t).prototype.ngOnDestroy;m&&(a.destroyHooks||(a.destroyHooks=[])).push(e.length,m)}if(So(t)||!t.multi){var _=new fe(l,r,Ho),g=Ma(A,e,r?h:h+f,c);-1==g?(hn(an(u,o),a,A),e.push(A),u.directiveStart++,u.directiveEnd++,r&&(u.providerIndexes+=65536),i.push(_),o.push(_)):(i[g]=_,o[g]=_)}else{var d=Ma(A,e,h+f,c),p=Ma(A,e,h,h+f),y=d>=0&&i[d],C=p>=0&&i[p];if(r&&!C||!r&&!y){hn(an(u,o),a,A);var v=function(t,e,i,n,r){var s=new fe(t,i,Ho);return s.multi=[],s.index=e,s.componentProviders=0,Da(s,r,n&&!i),s}(r?Va:Ra,i.length,r,n,l);!r&&C&&(i[p].providerFactory=v),e.push(A),u.directiveStart++,u.directiveEnd++,r&&(u.providerIndexes+=65536),i.push(v),o.push(v)}else Da(i[r?p:d],l,!r&&n);!r&&n&&C&&i[p].componentProviders++}}}function Da(t,e,i){t.multi.push(e),i&&t.componentProviders++}function Ma(t,e,i,n){for(var r=i;r<n;r++)if(e[r]===t)return r;return-1}function Ra(t,e,i,n){return Ta(this.multi,[])}function Va(t,e,i,n){var r,s=this.multi;if(this.providerFactory){var o=this.providerFactory.componentProviders,a=gn(e,i,this.providerFactory.index,n);Ta(s,r=a.slice(0,o));for(var A=o;A<a.length;A++)r.push(a[A])}else Ta(s,r=[]);return r}function Ta(t,e){for(var i=0;i<t.length;i++)e.push((0,t[i])());return e}function Ga(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];return function(i){i.providersResolver=function(i,n){return function(t,e,i){var n=de()[Mt];if(n.firstCreatePass){var r=ae(t);ka(i,n.data,n.blueprint,r,!0),ka(e,n.data,n.blueprint,r,!1)}}(i,n?n(t):t,e)}}}var Fa=function t(){_classCallCheck2(this,t)},Pa=function t(){_classCallCheck2(this,t)},Na=function(){function t(){_classCallCheck2(this,t)}return _createClass2(t,[{key:"resolveComponentFactory",value:function(t){throw function(t){var e=Error("No component factory found for ".concat(T(t),". Did you add it to @NgModule.entryComponents?"));return e.ngComponent=t,e}(t)}}]),t}(),La=function(){var t=function t(){_classCallCheck2(this,t)};return t.NULL=new Na,t}(),Ua=function(){var t=function t(e){_classCallCheck2(this,t),this.nativeElement=e};return t.__NG_ELEMENT_ID__=function(){return Oa(t)},t}(),Oa=function(t){return uo(t,Ee(),de())},Ya=function t(){_classCallCheck2(this,t)},Ha=function(){var t={Important:1,DashCase:2};return t[t.Important]="Important",t[t.DashCase]="DashCase",t}(),Ja=function(){var t=function t(){_classCallCheck2(this,t)};return t.__NG_ELEMENT_ID__=function(){return ja()},t}(),ja=function(){var t=de(),e=qi(Ee().index,t);return function(t){var e=t[Ot];if(je(e))return e;throw new Error("Cannot inject Renderer2 when the application uses Renderer3!")}(ie(e)?e:t)},Ka=function(){var t=function t(){_classCallCheck2(this,t)};return t.\u0275prov=x({token:t,providedIn:"root",factory:function(){return null}}),t}(),qa=function t(e){_classCallCheck2(this,t),this.full=e,this.major=e.split(".")[0],this.minor=e.split(".")[1],this.patch=e.split(".").slice(2).join(".")},za=new qa("9.0.0-rc.1"),Xa=function(){function t(){_classCallCheck2(this,t)}return _createClass2(t,[{key:"supports",value:function(t){return Lo(t)}},{key:"create",value:function(t){return new Za(t)}}]),t}(),Wa=function(t,e){return e},Za=function(){function t(e){_classCallCheck2(this,t),this.length=0,this._linkedRecords=null,this._unlinkedRecords=null,this._previousItHead=null,this._itHead=null,this._itTail=null,this._additionsHead=null,this._additionsTail=null,this._movesHead=null,this._movesTail=null,this._removalsHead=null,this._removalsTail=null,this._identityChangesHead=null,this._identityChangesTail=null,this._trackByFn=e||Wa}return _createClass2(t,[{key:"forEachItem",value:function(t){var e;for(e=this._itHead;null!==e;e=e._next)t(e)}},{key:"forEachOperation",value:function(t){for(var e=this._itHead,i=this._removalsHead,n=0,r=null;e||i;){var s=!i||e&&e.currentIndex<iA(i,n,r)?e:i,o=iA(s,n,r),a=s.currentIndex;if(s===i)n--,i=i._nextRemoved;else if(e=e._next,null==s.previousIndex)n++;else{r||(r=[]);var A=o-n,l=a-n;if(A!=l){for(var u=0;u<A;u++){var h=u<r.length?r[u]:r[u]=0,c=h+u;l<=c&&c<A&&(r[u]=h+1)}r[s.previousIndex]=l-A}}o!==a&&t(s,o,a)}}},{key:"forEachPreviousItem",value:function(t){var e;for(e=this._previousItHead;null!==e;e=e._nextPrevious)t(e)}},{key:"forEachAddedItem",value:function(t){var e;for(e=this._additionsHead;null!==e;e=e._nextAdded)t(e)}},{key:"forEachMovedItem",value:function(t){var e;for(e=this._movesHead;null!==e;e=e._nextMoved)t(e)}},{key:"forEachRemovedItem",value:function(t){var e;for(e=this._removalsHead;null!==e;e=e._nextRemoved)t(e)}},{key:"forEachIdentityChange",value:function(t){var e;for(e=this._identityChangesHead;null!==e;e=e._nextIdentityChange)t(e)}},{key:"diff",value:function(t){if(null==t&&(t=[]),!Lo(t))throw new Error("Error trying to diff '".concat(T(t),"'. Only arrays and iterables are allowed"));return this.check(t)?this:null}},{key:"onDestroy",value:function(){}},{key:"check",value:function(t){var e=this;this._reset();var i,n,r,s=this._itHead,o=!1;if(Array.isArray(t)){this.length=t.length;for(var a=0;a<this.length;a++)r=this._trackByFn(a,n=t[a]),null!==s&&Po(s.trackById,r)?(o&&(s=this._verifyReinsertion(s,n,r,a)),Po(s.item,n)||this._addIdentityChange(s,n)):(s=this._mismatch(s,n,r,a),o=!0),s=s._next}else i=0,function(t,e){if(Array.isArray(t))for(var i=0;i<t.length;i++)e(t[i]);else for(var n,r=t[Fo()]();!(n=r.next()).done;)e(n.value)}(t,(function(t){r=e._trackByFn(i,t),null!==s&&Po(s.trackById,r)?(o&&(s=e._verifyReinsertion(s,t,r,i)),Po(s.item,t)||e._addIdentityChange(s,t)):(s=e._mismatch(s,t,r,i),o=!0),s=s._next,i++})),this.length=i;return this._truncate(s),this.collection=t,this.isDirty}},{key:"_reset",value:function(){if(this.isDirty){var t,e;for(t=this._previousItHead=this._itHead;null!==t;t=t._next)t._nextPrevious=t._next;for(t=this._additionsHead;null!==t;t=t._nextAdded)t.previousIndex=t.currentIndex;for(this._additionsHead=this._additionsTail=null,t=this._movesHead;null!==t;t=e)t.previousIndex=t.currentIndex,e=t._nextMoved;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}},{key:"_mismatch",value:function(t,e,i,n){var r;return null===t?r=this._itTail:(r=t._prev,this._remove(t)),null!==(t=null===this._linkedRecords?null:this._linkedRecords.get(i,n))?(Po(t.item,e)||this._addIdentityChange(t,e),this._moveAfter(t,r,n)):null!==(t=null===this._unlinkedRecords?null:this._unlinkedRecords.get(i,null))?(Po(t.item,e)||this._addIdentityChange(t,e),this._reinsertAfter(t,r,n)):t=this._addAfter(new $a(e,i),r,n),t}},{key:"_verifyReinsertion",value:function(t,e,i,n){var r=null===this._unlinkedRecords?null:this._unlinkedRecords.get(i,null);return null!==r?t=this._reinsertAfter(r,t._prev,n):t.currentIndex!=n&&(t.currentIndex=n,this._addToMoves(t,n)),t}},{key:"_truncate",value:function(t){for(;null!==t;){var e=t._next;this._addToRemovals(this._unlink(t)),t=e}null!==this._unlinkedRecords&&this._unlinkedRecords.clear(),null!==this._additionsTail&&(this._additionsTail._nextAdded=null),null!==this._movesTail&&(this._movesTail._nextMoved=null),null!==this._itTail&&(this._itTail._next=null),null!==this._removalsTail&&(this._removalsTail._nextRemoved=null),null!==this._identityChangesTail&&(this._identityChangesTail._nextIdentityChange=null)}},{key:"_reinsertAfter",value:function(t,e,i){null!==this._unlinkedRecords&&this._unlinkedRecords.remove(t);var n=t._prevRemoved,r=t._nextRemoved;return null===n?this._removalsHead=r:n._nextRemoved=r,null===r?this._removalsTail=n:r._prevRemoved=n,this._insertAfter(t,e,i),this._addToMoves(t,i),t}},{key:"_moveAfter",value:function(t,e,i){return this._unlink(t),this._insertAfter(t,e,i),this._addToMoves(t,i),t}},{key:"_addAfter",value:function(t,e,i){return this._insertAfter(t,e,i),this._additionsTail=null===this._additionsTail?this._additionsHead=t:this._additionsTail._nextAdded=t,t}},{key:"_insertAfter",value:function(t,e,i){var n=null===e?this._itHead:e._next;return t._next=n,t._prev=e,null===n?this._itTail=t:n._prev=t,null===e?this._itHead=t:e._next=t,null===this._linkedRecords&&(this._linkedRecords=new eA),this._linkedRecords.put(t),t.currentIndex=i,t}},{key:"_remove",value:function(t){return this._addToRemovals(this._unlink(t))}},{key:"_unlink",value:function(t){null!==this._linkedRecords&&this._linkedRecords.remove(t);var e=t._prev,i=t._next;return null===e?this._itHead=i:e._next=i,null===i?this._itTail=e:i._prev=e,t}},{key:"_addToMoves",value:function(t,e){return t.previousIndex===e?t:(this._movesTail=null===this._movesTail?this._movesHead=t:this._movesTail._nextMoved=t,t)}},{key:"_addToRemovals",value:function(t){return null===this._unlinkedRecords&&(this._unlinkedRecords=new eA),this._unlinkedRecords.put(t),t.currentIndex=null,t._nextRemoved=null,null===this._removalsTail?(this._removalsTail=this._removalsHead=t,t._prevRemoved=null):(t._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=t),t}},{key:"_addIdentityChange",value:function(t,e){return t.item=e,this._identityChangesTail=null===this._identityChangesTail?this._identityChangesHead=t:this._identityChangesTail._nextIdentityChange=t,t}},{key:"isDirty",get:function(){return null!==this._additionsHead||null!==this._movesHead||null!==this._removalsHead||null!==this._identityChangesHead}}]),t}(),$a=function t(e,i){_classCallCheck2(this,t),this.item=e,this.trackById=i,this.currentIndex=null,this.previousIndex=null,this._nextPrevious=null,this._prev=null,this._next=null,this._prevDup=null,this._nextDup=null,this._prevRemoved=null,this._nextRemoved=null,this._nextAdded=null,this._nextMoved=null,this._nextIdentityChange=null},tA=function(){function t(){_classCallCheck2(this,t),this._head=null,this._tail=null}return _createClass2(t,[{key:"add",value:function(t){null===this._head?(this._head=this._tail=t,t._nextDup=null,t._prevDup=null):(this._tail._nextDup=t,t._prevDup=this._tail,t._nextDup=null,this._tail=t)}},{key:"get",value:function(t,e){var i;for(i=this._head;null!==i;i=i._nextDup)if((null===e||e<=i.currentIndex)&&Po(i.trackById,t))return i;return null}},{key:"remove",value:function(t){var e=t._prevDup,i=t._nextDup;return null===e?this._head=i:e._nextDup=i,null===i?this._tail=e:i._prevDup=e,null===this._head}}]),t}(),eA=function(){function t(){_classCallCheck2(this,t),this.map=new Map}return _createClass2(t,[{key:"put",value:function(t){var e=t.trackById,i=this.map.get(e);i||(i=new tA,this.map.set(e,i)),i.add(t)}},{key:"get",value:function(t,e){var i=this.map.get(t);return i?i.get(t,e):null}},{key:"remove",value:function(t){var e=t.trackById;return this.map.get(e).remove(t)&&this.map.delete(e),t}},{key:"clear",value:function(){this.map.clear()}},{key:"isEmpty",get:function(){return 0===this.map.size}}]),t}();function iA(t,e,i){var n=t.previousIndex;if(null===n)return n;var r=0;return i&&n<i.length&&(r=i[n]),n+e+r}var nA=function(){function t(){_classCallCheck2(this,t)}return _createClass2(t,[{key:"supports",value:function(t){return t instanceof Map||Uo(t)}},{key:"create",value:function(){return new rA}}]),t}(),rA=function(){function t(){_classCallCheck2(this,t),this._records=new Map,this._mapHead=null,this._appendAfter=null,this._previousMapHead=null,this._changesHead=null,this._changesTail=null,this._additionsHead=null,this._additionsTail=null,this._removalsHead=null,this._removalsTail=null}return _createClass2(t,[{key:"forEachItem",value:function(t){var e;for(e=this._mapHead;null!==e;e=e._next)t(e)}},{key:"forEachPreviousItem",value:function(t){var e;for(e=this._previousMapHead;null!==e;e=e._nextPrevious)t(e)}},{key:"forEachChangedItem",value:function(t){var e;for(e=this._changesHead;null!==e;e=e._nextChanged)t(e)}},{key:"forEachAddedItem",value:function(t){var e;for(e=this._additionsHead;null!==e;e=e._nextAdded)t(e)}},{key:"forEachRemovedItem",value:function(t){var e;for(e=this._removalsHead;null!==e;e=e._nextRemoved)t(e)}},{key:"diff",value:function(t){if(t){if(!(t instanceof Map||Uo(t)))throw new Error("Error trying to diff '".concat(T(t),"'. Only maps and objects are allowed"))}else t=new Map;return this.check(t)?this:null}},{key:"onDestroy",value:function(){}},{key:"check",value:function(t){var e=this;this._reset();var i=this._mapHead;if(this._appendAfter=null,this._forEach(t,(function(t,n){if(i&&i.key===n)e._maybeAddToChanges(i,t),e._appendAfter=i,i=i._next;else{var r=e._getOrCreateRecordForKey(n,t);i=e._insertBeforeOrAppend(i,r)}})),i){i._prev&&(i._prev._next=null),this._removalsHead=i;for(var n=i;null!==n;n=n._nextRemoved)n===this._mapHead&&(this._mapHead=null),this._records.delete(n.key),n._nextRemoved=n._next,n.previousValue=n.currentValue,n.currentValue=null,n._prev=null,n._next=null}return this._changesTail&&(this._changesTail._nextChanged=null),this._additionsTail&&(this._additionsTail._nextAdded=null),this.isDirty}},{key:"_insertBeforeOrAppend",value:function(t,e){if(t){var i=t._prev;return e._next=t,e._prev=i,t._prev=e,i&&(i._next=e),t===this._mapHead&&(this._mapHead=e),this._appendAfter=t,t}return this._appendAfter?(this._appendAfter._next=e,e._prev=this._appendAfter):this._mapHead=e,this._appendAfter=e,null}},{key:"_getOrCreateRecordForKey",value:function(t,e){if(this._records.has(t)){var i=this._records.get(t);this._maybeAddToChanges(i,e);var n=i._prev,r=i._next;return n&&(n._next=r),r&&(r._prev=n),i._next=null,i._prev=null,i}var s=new sA(t);return this._records.set(t,s),s.currentValue=e,this._addToAdditions(s),s}},{key:"_reset",value:function(){if(this.isDirty){var t;for(this._previousMapHead=this._mapHead,t=this._previousMapHead;null!==t;t=t._next)t._nextPrevious=t._next;for(t=this._changesHead;null!==t;t=t._nextChanged)t.previousValue=t.currentValue;for(t=this._additionsHead;null!=t;t=t._nextAdded)t.previousValue=t.currentValue;this._changesHead=this._changesTail=null,this._additionsHead=this._additionsTail=null,this._removalsHead=null}}},{key:"_maybeAddToChanges",value:function(t,e){Po(e,t.currentValue)||(t.previousValue=t.currentValue,t.currentValue=e,this._addToChanges(t))}},{key:"_addToAdditions",value:function(t){null===this._additionsHead?this._additionsHead=this._additionsTail=t:(this._additionsTail._nextAdded=t,this._additionsTail=t)}},{key:"_addToChanges",value:function(t){null===this._changesHead?this._changesHead=this._changesTail=t:(this._changesTail._nextChanged=t,this._changesTail=t)}},{key:"_forEach",value:function(t,e){t instanceof Map?t.forEach(e):Object.keys(t).forEach((function(i){return e(t[i],i)}))}},{key:"isDirty",get:function(){return null!==this._additionsHead||null!==this._changesHead||null!==this._removalsHead}}]),t}(),sA=function t(e){_classCallCheck2(this,t),this.key=e,this.previousValue=null,this.currentValue=null,this._nextPrevious=null,this._next=null,this._prev=null,this._nextAdded=null,this._nextRemoved=null,this._nextChanged=null},oA=function(){var t=function(){function t(e){_classCallCheck2(this,t),this.factories=e}return _createClass2(t,[{key:"find",value:function(t){var e,i=this.factories.find((function(e){return e.supports(t)}));if(null!=i)return i;throw new Error("Cannot find a differ supporting object '".concat(t,"' of type '").concat((e=t).name||typeof e,"'"))}}],[{key:"create",value:function(e,i){if(null!=i){var n=i.factories.slice();e=e.concat(n)}return new t(e)}},{key:"extend",value:function(e){return{provide:t,useFactory:function(i){if(!i)throw new Error("Cannot extend IterableDiffers without a parent injector");return t.create(e,i)},deps:[[t,new B,new v]]}}}]),t}();return t.\u0275prov=x({token:t,providedIn:"root",factory:function(){return new t([new Xa])}}),t}(),aA=function(){var t=function(){function t(e){_classCallCheck2(this,t),this.factories=e}return _createClass2(t,[{key:"find",value:function(t){var e=this.factories.find((function(e){return e.supports(t)}));if(e)return e;throw new Error("Cannot find a differ supporting object '".concat(t,"'"))}}],[{key:"create",value:function(e,i){if(i){var n=i.factories.slice();e=e.concat(n)}return new t(e)}},{key:"extend",value:function(e){return{provide:t,useFactory:function(i){if(!i)throw new Error("Cannot extend KeyValueDiffers without a parent injector");return t.create(e,i)},deps:[[t,new B,new v]]}}}]),t}();return t.\u0275prov=x({token:t,providedIn:"root",factory:function(){return new t([new nA])}}),t}(),AA=[new nA],lA=new oA([new Xa]),uA=new aA(AA),hA=function(){var t=function t(){_classCallCheck2(this,t)};return t.__NG_ELEMENT_ID__=function(){return cA(t,Ua)},t}(),cA=function(t,e){return ho(t,e,Ee(),de())},fA=function(){var t=function t(){_classCallCheck2(this,t)};return t.__NG_ELEMENT_ID__=function(){return mA(t,Ua)},t}(),mA=function(t,e){return co(t,e,Ee(),de())},_A={};function gA(t){var e=[];for(var i in t)t.hasOwnProperty(i)&&e.push({propName:t[i],templateName:i});return e}var dA=new Z("SCHEDULER_TOKEN",{providedIn:"root",factory:function(){return ii}}),pA=function(t){function e(t,i){var n;return _classCallCheck2(this,e),(n=_possibleConstructorReturn(this,_getPrototypeOf(e).call(this))).componentDef=t,n.ngModule=i,n.componentType=t.type,n.selector=t.selectors[0][0]||"div",n.ngContentSelectors=t.ngContentSelectors?t.ngContentSelectors:[],n.isBoundToModule=!!i,n}return _inherits(e,t),_createClass2(e,[{key:"create",value:function(t,e,i,n){var r,s,o=(n=n||this.ngModule)?function(t,e){return{get:function(i,n,r){var s=t.get(i,_A,r);return s!==_A||n===_A?s:e.get(i,n,r)}}}(t,n.injector):t,a=o.get(Ya,Ke),A=o.get(Ka,null),l=i?(r=i,s=a.createRenderer(null,null),"string"==typeof r?je(s)?s.selectRootElement(r):s.querySelector(r):r):ls(this.selector,a.createRenderer(null,this.componentDef),null),u=this.componentDef.onPush?576:528,h="string"==typeof i&&/^#root-ng-internal-isolated-\d+/.test(i),c={components:[],scheduler:ii,clean:Gs,playerHandler:null,flags:0},f=a.createRenderer(l,this.componentDef);i&&l&&(je(f)?f.setAttribute(l,"ng-version",za.full):l.setAttribute("ng-version",za.full));var m,_,g=ds(-1,null,1,0,null,null,null,null,null),d=us(null,g,c,u,null,null,a,f,A,o);Pe(d,null);try{var p=function(t,e,i,n,r,s){var o=i[Mt];i[0+zt]=t;var a=hs(o,null,0,3,null,null),A=us(i,gs(e),null,e.onPush?64:16,i[zt],a,n,r,void 0);return o.firstCreatePass&&(hn(an(a,i),o,e.type),Is(o,a),Es(a,i.length,1)),Ds(i,A),i[zt]=A}(l,this.componentDef,d,a,f);_=Ki(0,d),e&&(_.projection=e.map((function(t){return Array.from(t)}))),m=function(t,e,i,n,r){var s=i[Mt],o=function(t,e,i){var n=Ee();t.firstCreatePass&&(i.providersResolver&&i.providersResolver(i),vs(t,n,1),ws(t,e,i));var r=gn(t.data,e,e.length-1,n);pr(r,e);var s=Ji(n,e);return s&&pr(s,e),r}(s,i,e);n.components.push(o),t[Nt]=o,r&&r.forEach((function(t){return t(o,e)})),e.contentQueries&&e.contentQueries(1,o,i.length-1);var a=Ee();return s.firstCreatePass&&e.hostBindings&&(ye(a.index-zt),Be(),Cs(e,s.expandoInstructions,o,a,s.firstCreatePass),ye(null)),o}(p,this.componentDef,d,c,[pa]),cs(d,g,null)}finally{Ue()}var y=new yA(this.componentType,m,uo(Ua,_,d),d,_);return i&&!h||(y.hostView._tViewNode.child=_),y}},{key:"inputs",get:function(){return gA(this.componentDef.inputs)}},{key:"outputs",get:function(){return gA(this.componentDef.outputs)}}]),e}(Pa),yA=function(t){function e(t,i,n,r,s){var o,a,A,l;return _classCallCheck2(this,e),(o=_possibleConstructorReturn(this,_getPrototypeOf(e).call(this))).location=n,o._rootLView=r,o._tNode=s,o.destroyCbs=[],o.instance=i,o.hostView=o.changeDetectorRef=new lo(r),o.hostView._tViewNode=(a=r[Mt],A=r,null==(l=a.node)&&(a.node=l=ps(0,null,2,-1,null,null)),A[Ft]=l),o.componentType=t,o}return _inherits(e,t),_createClass2(e,[{key:"destroy",value:function(){this.destroyCbs&&(this.destroyCbs.forEach((function(t){return t()})),this.destroyCbs=null,!this.hostView.destroyed&&this.hostView.destroy())}},{key:"onDestroy",value:function(t){this.destroyCbs&&this.destroyCbs.push(t)}},{key:"injector",get:function(){return new yn(this._tNode,this._rootLView)}}]),e}(Fa),CA=void 0,vA=["en",[["a","p"],["AM","PM"],CA],[["AM","PM"],CA,CA],[["S","M","T","W","T","F","S"],["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],["Su","Mo","Tu","We","Th","Fr","Sa"]],CA,[["J","F","M","A","M","J","J","A","S","O","N","D"],["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],["January","February","March","April","May","June","July","August","September","October","November","December"]],CA,[["B","A"],["BC","AD"],["Before Christ","Anno Domini"]],0,[6,0],["M/d/yy","MMM d, y","MMMM d, y","EEEE, MMMM d, y"],["h:mm a","h:mm:ss a","h:mm:ss a z","h:mm:ss a zzzz"],["{1}, {0}",CA,"{1} 'at' {0}",CA],[".",",",";","%","+","-","E","\xd7","\u2030","\u221e","NaN",":"],["#,##0.###","#,##0%","\xa4#,##0.00","#E0"],"$","US Dollar",{},function(t){var e=Math.floor(Math.abs(t)),i=t.toString().replace(/^[^.]*\.?/,"").length;return 1===e&&0===i?1:5}],IA={};function BA(t,e,i){"string"!=typeof e&&(i=e,e=t[xA.LocaleId]),e=e.toLowerCase().replace(/_/g,"-"),IA[e]=t,i&&(IA[e][xA.ExtraData]=i)}function EA(t){var e=function(t){return t.toLowerCase().replace(/_/g,"-")}(t),i=bA(e);if(i)return i;var n=e.split("-")[0];if(i=bA(n))return i;if("en"===n)return vA;throw new Error('Missing locale data for the locale "'.concat(t,'".'))}function wA(t){return EA(t)[xA.PluralCase]}function bA(t){return t in IA||(IA[t]=H.ng&&H.ng.common&&H.ng.common.locales&&H.ng.common.locales[t]),IA[t]}var xA=function(){var t={LocaleId:0,DayPeriodsFormat:1,DayPeriodsStandalone:2,DaysFormat:3,DaysStandalone:4,MonthsFormat:5,MonthsStandalone:6,Eras:7,FirstDayOfWeek:8,WeekendRange:9,DateFormat:10,TimeFormat:11,DateTimeFormat:12,NumberSymbols:13,NumberFormats:14,CurrencySymbol:15,CurrencyName:16,Currencies:17,PluralCase:18,ExtraData:19};return t[t.LocaleId]="LocaleId",t[t.DayPeriodsFormat]="DayPeriodsFormat",t[t.DayPeriodsStandalone]="DayPeriodsStandalone",t[t.DaysFormat]="DaysFormat",t[t.DaysStandalone]="DaysStandalone",t[t.MonthsFormat]="MonthsFormat",t[t.MonthsStandalone]="MonthsStandalone",t[t.Eras]="Eras",t[t.FirstDayOfWeek]="FirstDayOfWeek",t[t.WeekendRange]="WeekendRange",t[t.DateFormat]="DateFormat",t[t.TimeFormat]="TimeFormat",t[t.DateTimeFormat]="DateTimeFormat",t[t.NumberSymbols]="NumberSymbols",t[t.NumberFormats]="NumberFormats",t[t.CurrencySymbol]="CurrencySymbol",t[t.CurrencyName]="CurrencyName",t[t.Currencies]="Currencies",t[t.PluralCase]="PluralCase",t[t.ExtraData]="ExtraData",t}();function SA(t){null==t&&function(t){throw new Error("ASSERTION ERROR: ".concat("Expected localeId to be defined"))}(),"string"==typeof t&&t.toLowerCase().replace(/_/g,"-")}var QA=new Map,kA={provide:La,useClass:function(t){function e(t){var i;return _classCallCheck2(this,e),(i=_possibleConstructorReturn(this,_getPrototypeOf(e).call(this))).ngModule=t,i}return _inherits(e,t),_createClass2(e,[{key:"resolveComponentFactory",value:function(t){var e=St(t);return new pA(e,this.ngModule)}}]),e}(La),deps:[ht]},DA=function(t){function e(t,i){var n;_classCallCheck2(this,e),(n=_possibleConstructorReturn(this,_getPrototypeOf(e).call(this)))._parent=i,n._bootstrapComponents=[],n.injector=_assertThisInitialized(n),n.destroyCbs=[];var r=kt(t),s=t[z]||null;return s&&SA(s),n._bootstrapComponents=ni(r.bootstrap),n._r3Injector=Io(t,i,[{provide:ht,useValue:_assertThisInitialized(n)},kA],T(t)),n.instance=n.get(t),n}return _inherits(e,t),_createClass2(e,[{key:"get",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:ko.THROW_IF_NOT_FOUND,i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:E.Default;return t===ko||t===ht||t===$?this:this._r3Injector.get(t,e,i)}},{key:"destroy",value:function(){var t=this._r3Injector;!t.destroyed&&t.destroy(),this.destroyCbs.forEach((function(t){return t()})),this.destroyCbs=null}},{key:"onDestroy",value:function(t){this.destroyCbs.push(t)}},{key:"componentFactoryResolver",get:function(){return this.get(La)}}]),e}(ht),MA=function(t){function e(t){var i;return _classCallCheck2(this,e),(i=_possibleConstructorReturn(this,_getPrototypeOf(e).call(this))).moduleType=t,null!==kt(t)&&function t(e){if(null!==e.\u0275mod.id){var i=e.\u0275mod.id;(function(t,e,i){if(e&&e!==i)throw new Error("Duplicate module registered for ".concat(t," - ").concat(T(e)," vs ").concat(T(e.name)))})(i,QA.get(i),e),QA.set(i,e)}var n=e.\u0275mod.imports;n instanceof Function&&(n=n()),n&&n.forEach((function(e){return t(e)}))}(t),i}return _inherits(e,t),_createClass2(e,[{key:"create",value:function(t){return new DA(this.moduleType,t)}}]),e}(ct),RA=function(t){function e(){var t,i=arguments.length>0&&void 0!==arguments[0]&&arguments[0];return _classCallCheck2(this,e),(t=_possibleConstructorReturn(this,_getPrototypeOf(e).call(this))).__isAsync=i,t}return _inherits(e,t),_createClass2(e,[{key:"emit",value:function(t){_get(_getPrototypeOf(e.prototype),"next",this).call(this,t)}},{key:"subscribe",value:function(t,i,n){var s,o=function(t){return null},a=function(){return null};t&&"object"==typeof t?(s=this.__isAsync?function(e){setTimeout((function(){return t.next(e)}))}:function(e){t.next(e)},t.error&&(o=this.__isAsync?function(e){setTimeout((function(){return t.error(e)}))}:function(e){t.error(e)}),t.complete&&(a=this.__isAsync?function(){setTimeout((function(){return t.complete()}))}:function(){t.complete()})):(s=this.__isAsync?function(e){setTimeout((function(){return t(e)}))}:function(e){t(e)},i&&(o=this.__isAsync?function(t){setTimeout((function(){return i(t)}))}:function(t){i(t)}),n&&(a=this.__isAsync?function(){setTimeout((function(){return n()}))}:function(){n()}));var A=_get(_getPrototypeOf(e.prototype),"subscribe",this).call(this,s,o,a);return t instanceof r.a&&t.add(A),A}}]),e}(n.a);function VA(){return this._results[Fo()]()}var TA=function(){function t(){_classCallCheck2(this,t),this.dirty=!0,this._results=[],this.changes=new RA,this.length=0;var e=Fo(),i=t.prototype;i[e]||(i[e]=VA)}return _createClass2(t,[{key:"map",value:function(t){return this._results.map(t)}},{key:"filter",value:function(t){return this._results.filter(t)}},{key:"find",value:function(t){return this._results.find(t)}},{key:"reduce",value:function(t,e){return this._results.reduce(t,e)}},{key:"forEach",value:function(t){this._results.forEach(t)}},{key:"some",value:function(t){return this._results.some(t)}},{key:"toArray",value:function(){return this._results.slice()}},{key:"toString",value:function(){return this._results.toString()}},{key:"reset",value:function(t){this._results=function t(e,i){void 0===i&&(i=e);for(var n=0;n<e.length;n++){var r=e[n];Array.isArray(r)?(i===e&&(i=e.slice(0,n)),t(r,i)):i!==e&&i.push(r)}return i}(t),this.dirty=!1,this.length=this._results.length,this.last=this._results[this.length-1],this.first=this._results[0]}},{key:"notifyOnChanges",value:function(){this.changes.emit(this)}},{key:"setDirty",value:function(){this.dirty=!0}},{key:"destroy",value:function(){this.changes.complete(),this.changes.unsubscribe()}}]),t}(),GA=function(){function t(e){_classCallCheck2(this,t),this.queryList=e,this.matches=null}return _createClass2(t,[{key:"clone",value:function(){return new t(this.queryList)}},{key:"setDirty",value:function(){this.queryList.setDirty()}}]),t}(),FA=function(){function t(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];_classCallCheck2(this,t),this.queries=e}return _createClass2(t,[{key:"createEmbeddedView",value:function(e){var i=e.queries;if(null!==i){for(var n=null!==e.contentQueries?e.contentQueries[0]:i.length,r=[],s=0;s<n;s++){var o=i.getByIndex(s);r.push(this.queries[o.indexInDeclarationView].clone())}return new t(r)}return null}},{key:"insertView",value:function(t){this.dirtyQueriesWithMatches(t)}},{key:"detachView",value:function(t){this.dirtyQueriesWithMatches(t)}},{key:"dirtyQueriesWithMatches",value:function(t){for(var e=0;e<this.queries.length;e++)null!==KA(t,e).matches&&this.queries[e].setDirty()}}]),t}(),PA=function t(e,i,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null;_classCallCheck2(this,t),this.predicate=e,this.descendants=i,this.isStatic=n,this.read=r},NA=function(){function t(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];_classCallCheck2(this,t),this.queries=e}return _createClass2(t,[{key:"elementStart",value:function(t,e){for(var i=0;i<this.queries.length;i++)this.queries[i].elementStart(t,e)}},{key:"elementEnd",value:function(t){for(var e=0;e<this.queries.length;e++)this.queries[e].elementEnd(t)}},{key:"embeddedTView",value:function(e){for(var i=null,n=0;n<this.length;n++){var r=null!==i?i.length:0,s=this.getByIndex(n).embeddedTView(e,r);s&&(s.indexInDeclarationView=n,null!==i?i.push(s):i=[s])}return null!==i?new t(i):null}},{key:"template",value:function(t,e){for(var i=0;i<this.queries.length;i++)this.queries[i].template(t,e)}},{key:"getByIndex",value:function(t){return this.queries[t]}},{key:"track",value:function(t){this.queries.push(t)}},{key:"length",get:function(){return this.queries.length}}]),t}(),LA=function(){function t(e){var i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:-1;_classCallCheck2(this,t),this.metadata=e,this.matches=null,this.indexInDeclarationView=-1,this.crossesNgTemplate=!1,this._appliesToNextNode=!0,this._declarationNodeIndex=i}return _createClass2(t,[{key:"elementStart",value:function(t,e){this.isApplyingToNode(e)&&this.matchTNode(t,e)}},{key:"elementEnd",value:function(t){this._declarationNodeIndex===t.index&&(this._appliesToNextNode=!1)}},{key:"template",value:function(t,e){this.elementStart(t,e)}},{key:"embeddedTView",value:function(e,i){return this.isApplyingToNode(e)?(this.crossesNgTemplate=!0,this.addMatch(-e.index,i),new t(this.metadata)):null}},{key:"isApplyingToNode",value:function(t){return this._appliesToNextNode&&!1===this.metadata.descendants?this._declarationNodeIndex===(t.parent?t.parent.index:-1):this._appliesToNextNode}},{key:"matchTNode",value:function(t,e){if(Array.isArray(this.metadata.predicate))for(var i=this.metadata.predicate,n=0;n<i.length;n++)this.matchTNodeWithReadOption(t,e,UA(e,i[n]));else{var r=this.metadata.predicate;r===hA?0===e.type&&this.matchTNodeWithReadOption(t,e,-1):this.matchTNodeWithReadOption(t,e,_n(e,t,r,!1,!1))}}},{key:"matchTNodeWithReadOption",value:function(t,e,i){if(null!==i){var n=this.metadata.read;if(null!==n)if(n===Ua||n===fA||n===hA&&0===e.type)this.addMatch(e.index,-2);else{var r=_n(e,t,n,!1,!1);null!==r&&this.addMatch(e.index,r)}else this.addMatch(e.index,i)}}},{key:"addMatch",value:function(t,e){null===this.matches?this.matches=[t,e]:this.matches.push(t,e)}}]),t}();function UA(t,e){var i=t.localNames;if(null!==i)for(var n=0;n<i.length;n+=2)if(i[n]===e)return i[n+1];return null}function OA(t,e,i,n){return-1===i?function(t,e){return 3===t.type||4===t.type?uo(Ua,t,e):0===t.type?ho(hA,Ua,t,e):null}(e,t):-2===i?function(t,e,i){return i===Ua?uo(Ua,e,t):i===hA?ho(hA,Ua,e,t):i===fA?co(fA,Ua,e,t):void 0}(t,e,n):gn(t[Mt].data,t,i,e)}function YA(t,e,i){var n=t[Gt].queries[i];if(null===n.matches){for(var r=t[Mt].data,s=e.matches,o=[],a=0;a<s.length;a+=2){var A=s[a];o.push(A<0?null:OA(t,r[A],s[a+1],e.metadata.read))}n.matches=o}return n.matches}function HA(t){var e=de(),i=Ve();Te(i+1);var n=KA(e[Mt],i);if(t.dirty&&Wi(e)===n.metadata.isStatic){if(null===n.matches)t.reset([]);else{var r=n.crossesNgTemplate?function t(e,i,n){var r=e[Mt].queries.getByIndex(i),s=r.matches;if(null!==s)for(var o=YA(e,r,i),a=0;a<s.length;a+=2){var A=s[a];if(A>0)n.push(o[a/2]);else{for(var l=s[a+1],u=e[-A],h=ee;h<u.length;h++){var c=u[h];c[Kt]===c[Vt]&&t(c,l,n)}if(null!==u[Zt])for(var f=u[Zt],m=0;m<f.length;m++)t(f[m],l,n)}}return n}(e,i,[]):YA(e,n,i);t.reset(r),t.notifyOnChanges()}return!0}return!1}function JA(t,e,i,n){!function(t,e,i,n,r,s,o){var a=t[Mt];a.firstCreatePass&&(function(t,e,i){null===t.queries&&(t.queries=new NA),t.queries.track(new LA(e,i))}(a,new PA(e,i,!1,n),s.index),function(t,e){var i=t.contentQueries||(t.contentQueries=[]);e!==(t.contentQueries.length?i[i.length-1]:-1)&&i.push(t.queries.length-1,e)}(a,o)),function(t){var e=new TA;!function(t,e,i){var n=Fs(t);n.push(e),t[Mt].firstCreatePass&&Ps(t).push(i,n.length-1)}(t,e,e.destroy),null===t[Gt]&&(t[Gt]=new FA),t[Gt].queries.push(new GA(e))}(t)}(de(),e,i,n,0,Ee(),t)}function jA(){return t=de(),e=Ve(),t[Gt].queries[e].queryList;var t,e}function KA(t,e){return t.queries.getByIndex(e)}var qA=new Z("Application Initializer"),zA=function(){var t=function(){function t(e){var i=this;_classCallCheck2(this,t),this.appInits=e,this.initialized=!1,this.done=!1,this.donePromise=new Promise((function(t,e){i.resolve=t,i.reject=e}))}return _createClass2(t,[{key:"runInitializers",value:function(){var t=this;if(!this.initialized){var e=[],i=function(){t.done=!0,t.resolve()};if(this.appInits)for(var n=0;n<this.appInits.length;n++){var r=this.appInits[n]();aa(r)&&e.push(r)}Promise.all(e).then((function(){i()})).catch((function(e){t.reject(e)})),0===e.length&&i(),this.initialized=!0}}}]),t}();return t.\u0275fac=function(e){return new(e||t)(at(qA,8))},t.\u0275prov=x({token:t,factory:function(e){return t.\u0275fac(e)},providedIn:null}),t}(),XA=new Z("AppId"),WA={provide:XA,useFactory:function(){return"".concat(ZA()).concat(ZA()).concat(ZA())},deps:[]};function ZA(){return String.fromCharCode(97+Math.floor(25*Math.random()))}var $A,tl,el=new Z("Platform Initializer"),il=new Z("Platform ID"),nl=new Z("appBootstrapListener"),rl=function(){var t=function(){function t(){_classCallCheck2(this,t)}return _createClass2(t,[{key:"log",value:function(t){console.log(t)}},{key:"warn",value:function(t){console.warn(t)}}]),t}();return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=x({token:t,factory:function(e){return t.\u0275fac(e)},providedIn:null}),t}(),sl=new Z("LocaleId"),ol=function t(e,i){_classCallCheck2(this,t),this.ngModuleFactory=e,this.componentFactories=i},al=function(t){return new MA(t)},Al=al,ll=function(t){return Promise.resolve(al(t))},ul=function(t){var e=al(t),i=ni(kt(t).declarations).reduce((function(t,e){var i=St(e);return i&&t.push(new pA(i)),t}),[]);return new ol(e,i)},hl=ul,cl=function(t){return Promise.resolve(ul(t))},fl=function(){var t=function(){function t(){_classCallCheck2(this,t),this.compileModuleSync=Al,this.compileModuleAsync=ll,this.compileModuleAndAllComponentsSync=hl,this.compileModuleAndAllComponentsAsync=cl}return _createClass2(t,[{key:"clearCache",value:function(){}},{key:"clearCacheFor",value:function(t){}},{key:"getModuleId",value:function(t){}}]),t}();return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=x({token:t,factory:function(e){return t.\u0275fac(e)},providedIn:null}),t}(),ml=new Z("compilerOptions");var _l,gl=!(!(_l=H.wtf)||!($A=_l.trace)||(tl=$A.events,0));function dl(t,e){return null}var pl=gl?function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;return tl.createScope(t,e)}:function(t,e){return dl},yl=gl?function(t,e){return $A.leaveScope(t,e),e}:function(t,e){return e},Cl=Promise.resolve(0);function vl(t){"undefined"==typeof Zone?Cl.then((function(){t&&t.apply(null,null)})):Zone.current.scheduleMicroTask("scheduleMicrotask",t)}var Il=function(){function t(e){var i,n,r=e.enableLongStackTrace,s=void 0!==r&&r,o=e.shouldCoalesceEventChangeDetection,a=void 0!==o&&o;if(_classCallCheck2(this,t),this.hasPendingMacrotasks=!1,this.hasPendingMicrotasks=!1,this.isStable=!0,this.onUnstable=new RA(!1),this.onMicrotaskEmpty=new RA(!1),this.onStable=new RA(!1),this.onError=new RA(!1),"undefined"==typeof Zone)throw new Error("In this configuration Angular requires Zone.js");Zone.assertZonePatched(),this._nesting=0,this._outer=this._inner=Zone.current,Zone.wtfZoneSpec&&(this._inner=this._inner.fork(Zone.wtfZoneSpec)),Zone.TaskTrackingZoneSpec&&(this._inner=this._inner.fork(new Zone.TaskTrackingZoneSpec)),s&&Zone.longStackTraceZoneSpec&&(this._inner=this._inner.fork(Zone.longStackTraceZoneSpec)),this.shouldCoalesceEventChangeDetection=a,this.lastRequestAnimationFrameId=-1,this.nativeRequestAnimationFrame=function(){var t=H.requestAnimationFrame,e=H.cancelAnimationFrame;if("undefined"!=typeof Zone&&t&&e){var i=t[Zone.__symbol__("OriginalDelegate")];i&&(t=i);var n=e[Zone.__symbol__("OriginalDelegate")];n&&(e=n)}return{nativeRequestAnimationFrame:t,nativeCancelAnimationFrame:e}}().nativeRequestAnimationFrame,n=!!(i=this).shouldCoalesceEventChangeDetection&&i.nativeRequestAnimationFrame&&function(){!function(t){-1===t.lastRequestAnimationFrameId&&(t.lastRequestAnimationFrameId=t.nativeRequestAnimationFrame.call(H,(function(){t.lastRequestAnimationFrameId=-1,bl(t),wl(t)})),bl(t))}(i)},i._inner=i._inner.fork({name:"angular",properties:{isAngularZone:!0,maybeDelayChangeDetection:n},onInvokeTask:function(t,e,r,s,o,a){try{return xl(i),t.invokeTask(r,s,o,a)}finally{n&&"eventTask"===s.type&&n(),Sl(i)}},onInvoke:function(t,e,n,r,s,o,a){try{return xl(i),t.invoke(n,r,s,o,a)}finally{Sl(i)}},onHasTask:function(t,e,n,r){t.hasTask(n,r),e===n&&("microTask"==r.change?(i._hasPendingMicrotasks=r.microTask,bl(i),wl(i)):"macroTask"==r.change&&(i.hasPendingMacrotasks=r.macroTask))},onHandleError:function(t,e,n,r){return t.handleError(n,r),i.runOutsideAngular((function(){return i.onError.emit(r)})),!1}})}return _createClass2(t,[{key:"run",value:function(t,e,i){return this._inner.run(t,e,i)}},{key:"runTask",value:function(t,e,i,n){var r=this._inner,s=r.scheduleEventTask("NgZoneEvent: "+n,t,El,Bl,Bl);try{return r.runTask(s,e,i)}finally{r.cancelTask(s)}}},{key:"runGuarded",value:function(t,e,i){return this._inner.runGuarded(t,e,i)}},{key:"runOutsideAngular",value:function(t){return this._outer.run(t)}}],[{key:"isInAngularZone",value:function(){return!0===Zone.current.get("isAngularZone")}},{key:"assertInAngularZone",value:function(){if(!t.isInAngularZone())throw new Error("Expected to be in Angular Zone, but it is not!")}},{key:"assertNotInAngularZone",value:function(){if(t.isInAngularZone())throw new Error("Expected to not be in Angular Zone, but it is!")}}]),t}();function Bl(){}var El={};function wl(t){if(0==t._nesting&&!t.hasPendingMicrotasks&&!t.isStable)try{t._nesting++,t.onMicrotaskEmpty.emit(null)}finally{if(t._nesting--,!t.hasPendingMicrotasks)try{t.runOutsideAngular((function(){return t.onStable.emit(null)}))}finally{t.isStable=!0}}}function bl(t){t.hasPendingMicrotasks=!!(t._hasPendingMicrotasks||t.shouldCoalesceEventChangeDetection&&-1!==t.lastRequestAnimationFrameId)}function xl(t){t._nesting++,t.isStable&&(t.isStable=!1,t.onUnstable.emit(null))}function Sl(t){t._nesting--,wl(t)}var Ql=function(){function t(){_classCallCheck2(this,t),this.hasPendingMicrotasks=!1,this.hasPendingMacrotasks=!1,this.isStable=!0,this.onUnstable=new RA,this.onMicrotaskEmpty=new RA,this.onStable=new RA,this.onError=new RA}return _createClass2(t,[{key:"run",value:function(t,e,i){return t.apply(e,i)}},{key:"runGuarded",value:function(t,e,i){return t.apply(e,i)}},{key:"runOutsideAngular",value:function(t){return t()}},{key:"runTask",value:function(t,e,i,n){return t.apply(e,i)}}]),t}(),kl=function(){var t=function(){function t(e){var i=this;_classCallCheck2(this,t),this._ngZone=e,this._pendingCount=0,this._isZoneStable=!0,this._didWork=!1,this._callbacks=[],this.taskTrackingZone=null,this._watchAngularEvents(),e.run((function(){i.taskTrackingZone="undefined"==typeof Zone?null:Zone.current.get("TaskTrackingZone")}))}return _createClass2(t,[{key:"_watchAngularEvents",value:function(){var t=this;this._ngZone.onUnstable.subscribe({next:function(){t._didWork=!0,t._isZoneStable=!1}}),this._ngZone.runOutsideAngular((function(){t._ngZone.onStable.subscribe({next:function(){Il.assertNotInAngularZone(),vl((function(){t._isZoneStable=!0,t._runCallbacksIfReady()}))}})}))}},{key:"increasePendingRequestCount",value:function(){return this._pendingCount+=1,this._didWork=!0,this._pendingCount}},{key:"decreasePendingRequestCount",value:function(){if(this._pendingCount-=1,this._pendingCount<0)throw new Error("pending async requests below zero");return this._runCallbacksIfReady(),this._pendingCount}},{key:"isStable",value:function(){return this._isZoneStable&&0===this._pendingCount&&!this._ngZone.hasPendingMacrotasks}},{key:"_runCallbacksIfReady",value:function(){var t=this;if(this.isStable())vl((function(){for(;0!==t._callbacks.length;){var e=t._callbacks.pop();clearTimeout(e.timeoutId),e.doneCb(t._didWork)}t._didWork=!1}));else{var e=this.getPendingTasks();this._callbacks=this._callbacks.filter((function(t){return!t.updateCb||!t.updateCb(e)||(clearTimeout(t.timeoutId),!1)})),this._didWork=!0}}},{key:"getPendingTasks",value:function(){return this.taskTrackingZone?this.taskTrackingZone.macroTasks.map((function(t){return{source:t.source,creationLocation:t.creationLocation,data:t.data}})):[]}},{key:"addCallback",value:function(t,e,i){var n=this,r=-1;e&&e>0&&(r=setTimeout((function(){n._callbacks=n._callbacks.filter((function(t){return t.timeoutId!==r})),t(n._didWork,n.getPendingTasks())}),e)),this._callbacks.push({doneCb:t,timeoutId:r,updateCb:i})}},{key:"whenStable",value:function(t,e,i){if(i&&!this.taskTrackingZone)throw new Error('Task tracking zone is required when passing an update callback to whenStable(). Is "zone.js/dist/task-tracking.js" loaded?');this.addCallback(t,e,i),this._runCallbacksIfReady()}},{key:"getPendingRequestCount",value:function(){return this._pendingCount}},{key:"findProviders",value:function(t,e,i){return[]}}]),t}();return t.\u0275fac=function(e){return new(e||t)(at(Il))},t.\u0275prov=x({token:t,factory:function(e){return t.\u0275fac(e)},providedIn:null}),t}(),Dl=function(){var t=function(){function t(){_classCallCheck2(this,t),this._applications=new Map,Vl.addToWindow(this)}return _createClass2(t,[{key:"registerApplication",value:function(t,e){this._applications.set(t,e)}},{key:"unregisterApplication",value:function(t){this._applications.delete(t)}},{key:"unregisterAllApplications",value:function(){this._applications.clear()}},{key:"getTestability",value:function(t){return this._applications.get(t)||null}},{key:"getAllTestabilities",value:function(){return Array.from(this._applications.values())}},{key:"getAllRootElements",value:function(){return Array.from(this._applications.keys())}},{key:"findTestabilityInTree",value:function(t){var e=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];return Vl.findTestabilityInTree(this,t,e)}}]),t}();return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=x({token:t,factory:function(e){return t.\u0275fac(e)},providedIn:null}),t}();function Ml(t){Vl=t}var Rl,Vl=new(function(){function t(){_classCallCheck2(this,t)}return _createClass2(t,[{key:"addToWindow",value:function(t){}},{key:"findTestabilityInTree",value:function(t,e,i){return null}}]),t}()),Tl=function(t,e,i){var n=new MA(i);if(0===Mo.size)return Promise.resolve(n);var r,s,o=(r=t.get(ml,[]).concat(e).map((function(t){return t.providers})),s=[],r.forEach((function(t){return t&&s.push.apply(s,_toConsumableArray(t))})),s);if(0===o.length)return Promise.resolve(n);var a=function(){var t=H.ng;if(!t||!t.\u0275compilerFacade)throw new Error("Angular JIT compilation failed: '@angular/compiler' not loaded!\n  - JIT compilation is discouraged for production use-cases! Consider AOT mode instead.\n  - Did you bootstrap using '@angular/platform-browser-dynamic' or '@angular/platform-server'?\n  - Alternatively provide the compiler with 'import \"@angular/compiler\";' before bootstrapping.");return t.\u0275compilerFacade}(),A=ko.create({providers:o}).get(a.ResourceLoader);return function(t){var e=[],i=new Map;function n(e){var n=i.get(e);if(!n){var r=t(e);i.set(e,n=r.then(Vo))}return n}return Mo.forEach((function(t,i){var r=[];t.templateUrl&&r.push(n(t.templateUrl).then((function(e){t.template=e})));var s=t.styleUrls,o=t.styles||(t.styles=[]),a=t.styles.length;s&&s.forEach((function(e,i){o.push(""),r.push(n(e).then((function(n){o[a+i]=n,s.splice(s.indexOf(e),1),0==s.length&&(t.styleUrls=void 0)})))}));var A=Promise.all(r).then((function(){return function(t){Ro.delete(t)}(i)}));e.push(A)})),Mo=new Map,Promise.all(e).then((function(){}))}((function(t){return Promise.resolve(A.get(t))})).then((function(){return n}))},Gl=function(){},Fl=new Z("AllowMultipleToken"),Pl=function t(e,i){_classCallCheck2(this,t),this.name=e,this.token=i};function Nl(t,e){var i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],n="Platform: ".concat(e),r=new Z(n);return function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],s=Ll();if(!s||s.injector.get(Fl,!1))if(t)t(i.concat(e).concat({provide:r,useValue:!0}));else{var o=i.concat(e).concat({provide:r,useValue:!0},{provide:_o,useValue:"platform"});!function(t){if(Rl&&!Rl.destroyed&&!Rl.injector.get(Fl,!1))throw new Error("There can be only one platform. Destroy the previous one to create a new one.");Gl(),Rl=t.get(Ul);var e=t.get(el,null);e&&e.forEach((function(t){return t()}))}(ko.create({providers:o,name:n}))}return function(t){var e=Ll();if(!e)throw new Error("No platform exists!");if(!e.injector.get(t,null))throw new Error("A platform with a different configuration has been created. Please destroy it first.");return e}(r)}}function Ll(){return Rl&&!Rl.destroyed?Rl:null}var Ul=function(){var t=function(){function t(e){_classCallCheck2(this,t),this._injector=e,this._modules=[],this._destroyListeners=[],this._destroyed=!1}return _createClass2(t,[{key:"bootstrapModuleFactory",value:function(t,e){var i,n,r=this,s=(n=e&&e.ngZoneEventCoalescing||!1,"noop"===(i=e?e.ngZone:void 0)?new Ql:("zone.js"===i?void 0:i)||new Il({enableLongStackTrace:On(),shouldCoalesceEventChangeDetection:n})),o=[{provide:Il,useValue:s}];return s.run((function(){var e=ko.create({providers:o,parent:r.injector,name:t.moduleType.name}),i=t.create(e),n=i.injector.get(wn,null);if(!n)throw new Error("No ErrorHandler. Is platform module (BrowserModule) included?");return SA(i.injector.get(sl,"en-US")||"en-US"),i.onDestroy((function(){return Jl(r._modules,i)})),s.runOutsideAngular((function(){return s.onError.subscribe({next:function(t){n.handleError(t)}})})),function(t,e,n){try{var s=((o=i.injector.get(zA)).runInitializers(),o.donePromise.then((function(){return r._moduleDoBootstrap(i),i})));return aa(s)?s.catch((function(i){throw e.runOutsideAngular((function(){return t.handleError(i)})),i})):s}catch(a){throw e.runOutsideAngular((function(){return t.handleError(a)})),a}var o}(n,s)}))}},{key:"bootstrapModule",value:function(t){var e=this,i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],n=Ol({},i);return Tl(this.injector,n,t).then((function(t){return e.bootstrapModuleFactory(t,n)}))}},{key:"_moduleDoBootstrap",value:function(t){var e=t.injector.get(Hl);if(t._bootstrapComponents.length>0)t._bootstrapComponents.forEach((function(t){return e.bootstrap(t)}));else{if(!t.instance.ngDoBootstrap)throw new Error("The module ".concat(T(t.instance.constructor),' was bootstrapped, but it does not declare "@NgModule.bootstrap" components nor a "ngDoBootstrap" method. ')+"Please define one of these.");t.instance.ngDoBootstrap(e)}this._modules.push(t)}},{key:"onDestroy",value:function(t){this._destroyListeners.push(t)}},{key:"destroy",value:function(){if(this._destroyed)throw new Error("The platform has already been destroyed!");this._modules.slice().forEach((function(t){return t.destroy()})),this._destroyListeners.forEach((function(t){return t()})),this._destroyed=!0}},{key:"injector",get:function(){return this._injector}},{key:"destroyed",get:function(){return this._destroyed}}]),t}();return t.\u0275fac=function(e){return new(e||t)(at(ko))},t.\u0275prov=x({token:t,factory:function(e){return t.\u0275fac(e)},providedIn:null}),t}();function Ol(t,e){return Array.isArray(e)?e.reduce(Ol,t):Object.assign(Object.assign({},t),e)}var Yl,Hl=((Yl=function(){function t(e,i,n,r,l,h){var c=this;_classCallCheck2(this,t),this._zone=e,this._console=i,this._injector=n,this._exceptionHandler=r,this._componentFactoryResolver=l,this._initStatus=h,this._bootstrapListeners=[],this._views=[],this._runningTick=!1,this._enforceNoNewChanges=!1,this._stable=!0,this.componentTypes=[],this.components=[],this._enforceNoNewChanges=On(),this._zone.onMicrotaskEmpty.subscribe({next:function(){c._zone.run((function(){c.tick()}))}});var f=new s.a((function(t){c._stable=c._zone.isStable&&!c._zone.hasPendingMacrotasks&&!c._zone.hasPendingMicrotasks,c._zone.runOutsideAngular((function(){t.next(c._stable),t.complete()}))})),m=new s.a((function(t){var e;c._zone.runOutsideAngular((function(){e=c._zone.onStable.subscribe((function(){Il.assertNotInAngularZone(),vl((function(){c._stable||c._zone.hasPendingMacrotasks||c._zone.hasPendingMicrotasks||(c._stable=!0,t.next(!0))}))}))}));var i=c._zone.onUnstable.subscribe((function(){Il.assertInAngularZone(),c._stable&&(c._stable=!1,c._zone.runOutsideAngular((function(){t.next(!1)})))}));return function(){e.unsubscribe(),i.unsubscribe()}}));this.isStable=function(){for(var t=arguments.length,e=new Array(t),i=0;i<t;i++)e[i]=arguments[i];var n=Number.POSITIVE_INFINITY,r=null,l=e[e.length-1];return Object(o.a)(l)?(r=e.pop(),e.length>1&&"number"==typeof e[e.length-1]&&(n=e.pop())):"number"==typeof l&&(n=e.pop()),null===r&&1===e.length&&e[0]instanceof s.a?e[0]:Object(a.a)(n)(Object(A.a)(e,r))}(f,m.pipe((function(t){return u()((e=d,function(t){var i;i="function"==typeof e?e:function(){return e};var n=Object.create(t,_);return n.source=t,n.subjectFactory=i,n})(t));var e})))}return _createClass2(t,[{key:"bootstrap",value:function(t,e){var i,n=this;if(!this._initStatus.done)throw new Error("Cannot bootstrap as there are still asynchronous initializers running. Bootstrap components in the `ngDoBootstrap` method of the root module.");i=t instanceof Pa?t:this._componentFactoryResolver.resolveComponentFactory(t),this.componentTypes.push(i.componentType);var r=i.isBoundToModule?void 0:this._injector.get(ht),s=i.create(ko.NULL,[],e||i.selector,r);s.onDestroy((function(){n._unloadComponent(s)}));var o=s.injector.get(kl,null);return o&&s.injector.get(Dl).registerApplication(s.location.nativeElement,o),this._loadComponent(s),On()&&this._console.log("Angular is running in the development mode. Call enableProdMode() to enable the production mode."),s}},{key:"tick",value:function(){var e=this;if(this._runningTick)throw new Error("ApplicationRef.tick is called recursively");var i=t._tickScope();try{this._runningTick=!0;var n=!0,r=!1,s=void 0;try{for(var o,a=this._views[Symbol.iterator]();!(n=(o=a.next()).done);n=!0)o.value.detectChanges()}catch(f){r=!0,s=f}finally{try{n||null==a.return||a.return()}finally{if(r)throw s}}if(this._enforceNoNewChanges){var A=!0,l=!1,u=void 0;try{for(var h,c=this._views[Symbol.iterator]();!(A=(h=c.next()).done);A=!0)h.value.checkNoChanges()}catch(f){l=!0,u=f}finally{try{A||null==c.return||c.return()}finally{if(l)throw u}}}}catch(m){this._zone.runOutsideAngular((function(){return e._exceptionHandler.handleError(m)}))}finally{this._runningTick=!1,yl(i)}}},{key:"attachView",value:function(t){var e=t;this._views.push(e),e.attachToAppRef(this)}},{key:"detachView",value:function(t){var e=t;Jl(this._views,e),e.detachFromAppRef()}},{key:"_loadComponent",value:function(t){this.attachView(t.hostView),this.tick(),this.components.push(t),this._injector.get(nl,[]).concat(this._bootstrapListeners).forEach((function(e){return e(t)}))}},{key:"_unloadComponent",value:function(t){this.detachView(t.hostView),Jl(this.components,t)}},{key:"ngOnDestroy",value:function(){this._views.slice().forEach((function(t){return t.destroy()}))}},{key:"viewCount",get:function(){return this._views.length}}]),t}()).\u0275fac=function(t){return new(t||Yl)(at(Il),at(rl),at(ko),at(wn),at(La),at(zA))},Yl.\u0275prov=x({token:Yl,factory:function(t){return Yl.\u0275fac(t)},providedIn:null}),Yl._tickScope=pl("ApplicationRef#tick()"),Yl);function Jl(t,e){var i=t.indexOf(e);i>-1&&t.splice(i,1)}var jl=function t(){_classCallCheck2(this,t)},Kl=function t(){_classCallCheck2(this,t)},ql={factoryPathPrefix:"",factoryPathSuffix:".ngfactory"},zl=function(){var t=function(){function t(e,i){_classCallCheck2(this,t),this._compiler=e,this._config=i||ql}return _createClass2(t,[{key:"load",value:function(t){return this.loadAndCompile(t)}},{key:"loadAndCompile",value:function(t){var e=this,n=_slicedToArray(t.split("#"),2),r=n[0],s=n[1];return void 0===s&&(s="default"),i("crnd")(r).then((function(t){return t[s]})).then((function(t){return Xl(t,r,s)})).then((function(t){return e._compiler.compileModuleAsync(t)}))}},{key:"loadFactory",value:function(t){var e=_slicedToArray(t.split("#"),2),n=e[0],r=e[1],s="NgFactory";return void 0===r&&(r="default",s=""),i("crnd")(this._config.factoryPathPrefix+n+this._config.factoryPathSuffix).then((function(t){return t[r+s]})).then((function(t){return Xl(t,n,r)}))}}]),t}();return t.\u0275fac=function(e){return new(e||t)(at(fl),at(Kl,8))},t.\u0275prov=x({token:t,factory:function(e){return t.\u0275fac(e)},providedIn:null}),t}();function Xl(t,e,i){if(!t)throw new Error("Cannot find '".concat(i,"' in '").concat(e,"'"));return t}var Wl=function(){function t(e){_classCallCheck2(this,t),this.nativeNode=e}return _createClass2(t,[{key:"parent",get:function(){var t=this.nativeNode.parentNode;return t?new Zl(t):null}},{key:"injector",get:function(){return t=this.nativeNode,null===(e=_a(t,!1))?ko.NULL:new yn(e.lView[Mt].data[e.nodeIndex],e.lView);var t,e}},{key:"componentInstance",get:function(){var t=this.nativeNode;return t&&(ma(t)||function(t){var e=_a(t,!1);if(null===e)return null;for(var i,n=e.lView;null===n[Dt]&&(i=tn(n));)n=i;return 512&n[Rt]?null:n[Nt]}(t))}},{key:"context",get:function(){return ma(this.nativeNode)||function(t){if(!(t instanceof Node))throw new Error("Expecting instance of DOM Node");var e=_a(t,!1);return null===e?null:e.lView[Nt]}(this.nativeNode)}},{key:"listeners",get:function(){return function(t){if(!(t instanceof Node))throw new Error("Expecting instance of DOM Node");var e=_a(t,!1);if(null===e)return[];var i=e.lView,n=i[Pt],r=i[Mt].cleanup,s=[];if(r&&n)for(var o=0;o<r.length;){var a=r[o++],A=r[o++];if("string"==typeof a){var l=a,u=Yi(i[A]),h=n[r[o++]],c=r[o++],f="boolean"==typeof c?c:!(c>=0)&&null;t==u&&s.push({element:t,name:l,callback:h,useCapture:f})}}return s.sort(da),s}(this.nativeNode).filter(ga)}},{key:"references",get:function(){return t=this.nativeNode,null===(e=_a(t,!1))?{}:(void 0===e.localRefs&&(e.localRefs=function(t,e){var i=t[Mt].data[e];if(i&&i.localNames){for(var n={},r=i.index+1,s=0;s<i.localNames.length;s+=2)n[i.localNames[s]]=t[r],r++;return n}return null}(e.lView,e.nodeIndex)),e.localRefs||{});var t,e}},{key:"providerTokens",get:function(){return function(t){var e=_a(t,!1);if(null===e)return[];for(var i,n=e.lView[Mt],r=n.data[e.nodeIndex],s=[],o=r.directiveEnd,a=65535&r.providerIndexes;a<o;a++){var A=n.data[a];void 0!==(i=A).type&&void 0!==i.template&&void 0!==i.declaredInputs&&(A=A.type),s.push(A)}return s}(this.nativeNode)}}]),t}(),Zl=function(t){function e(t){return _classCallCheck2(this,e),_possibleConstructorReturn(this,_getPrototypeOf(e).call(this,t))}return _inherits(e,t),_createClass2(e,[{key:"query",value:function(t){return this.queryAll(t)[0]||null}},{key:"queryAll",value:function(t){var e=[];return $l(this,t,e,!0),e}},{key:"queryAllNodes",value:function(t){var e=[];return $l(this,t,e,!1),e}},{key:"triggerEventHandler",value:function(t,e){var i=this.nativeNode,n=[];this.listeners.forEach((function(i){if(i.name===t){var r=i.callback;r(e),n.push(r)}})),"function"==typeof i.eventListeners&&i.eventListeners(t).forEach((function(t){var i=t(Function);return-1===n.indexOf(i)&&i(e)}))}},{key:"nativeElement",get:function(){return this.nativeNode.nodeType==Node.ELEMENT_NODE?this.nativeNode:null}},{key:"name",get:function(){try{var t=_a(this.nativeNode);return t.lView[Mt].data[t.nodeIndex].tagName}catch(e){return this.nativeNode.nodeName}}},{key:"properties",get:function(){var t=_a(this.nativeNode,!1);if(null==t)return{};var e=t.lView,i=e[Mt].data,n=function(t,e,i){var n={},r=t.propertyBindings;if(null!==r)for(var s=0;s<r.length;s++){var o=r[s],a=i[o].split("\ufffd"),A=a[0];if(a.length>1){for(var l=a[1],u=1;u<a.length-1;u++)l+=ti(e[o+u-1])+a[u+1];n[A]=l}else n[A]=e[o]}return n}(i[t.nodeIndex],e,i),r=function(t){for(var e=t.classes,i="",n=0,r=Object.keys(e);n<r.length;n++){var s=r[n];e[s]&&(i=i?i+" ".concat(s):s)}return i}(this);return r&&(n.className=n.className?n.className+" ".concat(r):r),n}},{key:"attributes",get:function(){var t={},e=this.nativeElement;if(!e)return t;var i=_a(e,!1);if(null==i)return{};var n=i.lView[Mt].data[i.nodeIndex].attrs,r=[];if(n)for(var s=0;s<n.length;){var o=n[s];if("string"!=typeof o)break;t[o]=n[s+1],r.push(o.toLowerCase()),s+=2}for(var a=e.attributes,A=0;A<a.length;A++){var l=a[A];-1===r.indexOf(l.name)&&(t[l.name]=l.value)}return t}},{key:"styles",get:function(){return this.nativeElement&&this.nativeElement.style?this.nativeElement.style:{}}},{key:"classes",get:function(){if(!this._classesProxy){var t=this.nativeElement;this._classesProxy=function(t){var e=H;if(!e.Proxy)throw new Error("Proxy is not supported in this browser");return new e.Proxy({},t)}({get:function(e,i){return!!t&&t.classList.contains(i)},set:function(e,i,n){return!!t&&t.classList.toggle(i,!!n)},ownKeys:function(){return t?Array.from(t.classList).sort():[]},getOwnPropertyDescriptor:function(t){return{enumerable:!0,configurable:!0}}})}return this._classesProxy}},{key:"childNodes",get:function(){for(var t=this.nativeNode.childNodes,e=[],i=0;i<t.length;i++)e.push(ru(t[i]));return e}},{key:"children",get:function(){var t=this.nativeElement;if(!t)return[];for(var e=t.children,i=[],n=0;n<e.length;n++)i.push(ru(e[n]));return i}}]),e}(Wl);function $l(t,e,i,n){var r=_a(t.nativeNode);tu(r.lView[Mt].data[r.nodeIndex],r.lView,e,i,n,t.nativeNode)}function tu(t,e,i,n,r,s){var o=ji(t,e);if(3===t.type||4===t.type){if(iu(o,i,n,r,s),se(t)){var a=qi(t.index,e);a&&a[Mt].firstChild&&tu(a[Mt].firstChild,a,i,n,r,s)}else t.child&&tu(t.child,e,i,n,r,s),o&&function t(e,i,n,r){for(var s=e.childNodes,o=s.length,a=0;a<o;a++){var A=s[a],l=su(A);l&&(r&&l instanceof Zl&&i(l)&&-1===n.indexOf(l)?n.push(l):!r&&i(l)&&-1===n.indexOf(l)&&n.push(l),t(A,i,n,r))}}(o,i,n,r);var A=e[t.index];ne(A)&&eu(A,i,n,r,s)}else if(0===t.type){var l=e[t.index];iu(l[$t],i,n,r,s),eu(l,i,n,r,s)}else if(1===t.type){var u=en(e),h=u[Ft].projection[t.projection];if(Array.isArray(h)){var c=!0,f=!1,m=void 0;try{for(var _,g=h[Symbol.iterator]();!(c=(_=g.next()).done);c=!0){iu(_.value,i,n,r,s)}}catch(y){f=!0,m=y}finally{try{c||null==g.return||g.return()}finally{if(f)throw m}}}else if(h){var d=u[Vt];tu(d[Mt].data[h.index],d,i,n,r,s)}}else t.child&&tu(t.child,e,i,n,r,s);if(s!==o){var p=4&t.flags?t.projectionNext:t.next;p&&tu(p,e,i,n,r,s)}}function eu(t,e,i,n,r){for(var s=ee;s<t.length;s++){var o=t[s];tu(o[Mt].node,o,e,i,n,r)}}function iu(t,e,i,n,r){if(r!==t){var s=su(t);if(!s)return;n&&s instanceof Zl&&e(s)&&-1===i.indexOf(s)?i.push(s):!n&&e(s)&&-1===i.indexOf(s)&&i.push(s)}}var nu="__ng_debug__";function ru(t){return t instanceof Node?(t.hasOwnProperty(nu)||(t[nu]=t.nodeType==Node.ELEMENT_NODE?new Zl(t):new Wl(t)),t[nu]):null}var su=ru,ou=Nl(null,"core",[{provide:il,useValue:"unknown"},{provide:Ul,deps:[ko]},{provide:Dl,deps:[]},{provide:rl,deps:[]}]),au=[{provide:Hl,useClass:Hl,deps:[Il,rl,ko,wn,La,zA]},{provide:dA,deps:[Il],useFactory:function(t){var e=[];return t.onStable.subscribe((function(){for(;e.length;)e.pop()()})),function(t){e.push(t)}}},{provide:zA,useClass:zA,deps:[[new v,qA]]},{provide:fl,useClass:fl,deps:[]},WA,{provide:oA,useFactory:function(){return lA},deps:[]},{provide:aA,useFactory:function(){return uA},deps:[]},{provide:sl,useFactory:function(t){return SA(t=t||"undefined"!=typeof $localize&&$localize.locale||"en-US"),t},deps:[[new C(sl),new v,new B]]}],Au=function(){var t=function t(e){_classCallCheck2(this,t)};return t.\u0275mod=Et({type:t}),t.\u0275inj=S({factory:function(e){return new(e||t)(at(Hl))},providers:au}),t}()},"fl/D":function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=i("X9PU"),r=function(){function t(){this._childs=[],this._contour=[],this._isOpen=!1,this._index=0}return Object.defineProperty(t.prototype,"parent",{get:function(){return this._parent},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"childs",{get:function(){return this._childs},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"contour",{get:function(){return this._contour},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"isOpen",{get:function(){return this._isOpen},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"index",{get:function(){return this._index},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"isHole",{get:function(){if(void 0===this._isHole){for(var t=!0,e=this._parent;void 0!==e;)t=!t,e=e._parent;this._isHole=t}return this._isHole},enumerable:!0,configurable:!0}),t.prototype.getNext=function(){return this._childs.length>0?this._childs[0]:this.getNextSiblingUp()},t.prototype.getNextSiblingUp=function(){return void 0===this._parent?void 0:this._index===this._parent._childs.length-1?this._parent.getNextSiblingUp():this._parent._childs[this._index+1]},t.fillFromNativePolyNode=function(e,i,r,s,o,a){e._parent=s;for(var A=r.childs,l=0,u=A.size();l<u;l++){var h=t.fromNativePolyNode(i,A.get(l),e,l,a);e._childs.push(h)}e._contour=n.nativePathToPath(i,r.contour,!0),e._isOpen=r.isOpen(),e._index=o,a&&r.delete()},t.fromNativePolyNode=function(e,i,n,r,s){var o=new t;return t.fillFromNativePolyNode(o,e,i,n,r,s),o},t}();e.PolyNode=r},gRHU:function(t,e,i){"use strict";i.d(e,"a",(function(){return s}));var n=i("2fFW"),r=i("NJ4a"),s={closed:!0,next:function(t){},error:function(t){if(n.a.useDeprecatedSynchronousErrorHandling)throw t;Object(r.a)(t)},complete:function(){}}},gjnr:function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=function(){function t(t,e){for(var i=0;i<e.length;i++){var n=e[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}return function(e,i,n){return i&&t(e.prototype,i),n&&t(e,n),e}}(),r=i("ner8").createBackoff,s="undefined"!=typeof WebSocket?WebSocket:i(1),o=function(){function t(e,i){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.url=e,this.protocols=i,this.reconnectEnabled=!0,this.listeners={},this.backoff=r(n.backoff||"exponential",n),this.backoff.onReady=this.onBackoffReady.bind(this),(void 0===n.connect||n.connect)&&this.open()}return n(t,[{key:"open",value:function(){var t=arguments.length>0&&void 0!==arguments[0]&&arguments[0];this.isReconnect=t;var e=this.ws&&this.ws.binaryType;this.ws=new s(this.url,this.protocols),this.ws.onclose=this.onCloseCallback.bind(this),this.ws.onerror=this.onErrorCallback.bind(this),this.ws.onmessage=this.onMessageCallback.bind(this),this.ws.onopen=this.onOpenCallback.bind(this),e&&(this.ws.binaryType=e)}},{key:"onBackoffReady",value:function(t,e){this.open(!0)}},{key:"onCloseCallback",value:function(t){!this.isReconnect&&this.listeners.onclose&&this.listeners.onclose.apply(null,arguments),this.reconnectEnabled&&t.code<3e3&&this.backoff.backoff()}},{key:"onErrorCallback",value:function(){this.listeners.onerror&&this.listeners.onerror.apply(null,arguments)}},{key:"onMessageCallback",value:function(){this.listeners.onmessage&&this.listeners.onmessage.apply(null,arguments)}},{key:"onOpenCallback",value:function(){this.listeners.onopen&&this.listeners.onopen.apply(null,arguments),this.isReconnect&&this.listeners.onreconnect&&this.listeners.onreconnect.apply(null,arguments),this.isReconnect=!1}},{key:"close",value:function(t,e){void 0===t&&(t=1e3),this.reconnectEnabled=!1,this.ws.close(t,e)}},{key:"send",value:function(t){this.ws.send(t)}},{key:"bufferedAmount",get:function(){return this.ws.bufferedAmount}},{key:"readyState",get:function(){return this.ws.readyState}},{key:"binaryType",get:function(){return this.ws.binaryType},set:function(t){this.ws.binaryType=t}},{key:"extensions",get:function(){return this.ws.extensions},set:function(t){this.ws.extensions=t}},{key:"protocol",get:function(){return this.ws.protocol},set:function(t){this.ws.protocol=t}},{key:"onclose",set:function(t){this.listeners.onclose=t},get:function(){return this.listeners.onclose}},{key:"onerror",set:function(t){this.listeners.onerror=t},get:function(){return this.listeners.onerror}},{key:"onmessage",set:function(t){this.listeners.onmessage=t},get:function(){return this.listeners.onmessage}},{key:"onopen",set:function(t){this.listeners.onopen=t},get:function(){return this.listeners.onopen}},{key:"onreconnect",set:function(t){this.listeners.onreconnect=t},get:function(){return this.listeners.onreconnect}}]),t}();o.CONNECTING=s.CONNECTING,o.OPEN=s.OPEN,o.CLOSING=s.CLOSING,o.CLOSED=s.CLOSED,e.default=o},gqVT:function(t,e,i){"use strict";function n(t,e){e.headers=t.headers||{},e.statusMessage=t.statusText,e.statusCode=t.status,e.data=t.response}function r(t,e,i){return new Promise((function(r,s){var o,a,A,l;i=i||{};var u=new XMLHttpRequest,h=i.headers||{};for(o in u.timeout=i.timeout,u.ontimeout=u.onerror=function(t){t.timeout="timeout"==t.type,s(t)},u.open(t,e),u.onload=function(){for(l=u.getAllResponseHeaders().trim().split(/[\r\n]+/),n(u,u);A=l.shift();)A=A.split(": "),u.headers[A.shift().toLowerCase()]=A.join(": ");if((A=u.headers["content-type"])&&~A.indexOf("application/json"))try{u.data=JSON.parse(u.data,i.reviver)}catch(t){return n(u,t),s(t)}(u.status>=400?s:r)(u)},(a=i.body)&&/Array|Object/.test(a.constructor)&&(h["content-type"]="application/json",a=JSON.stringify(a)),h)u.setRequestHeader(o,h[o]);u.send(a)}))}i.r(e),i.d(e,"send",(function(){return r})),i.d(e,"get",(function(){return s})),i.d(e,"post",(function(){return o})),i.d(e,"patch",(function(){return a})),i.d(e,"del",(function(){return A})),i.d(e,"put",(function(){return l}));var s=r.bind(r,"GET"),o=r.bind(r,"POST"),a=r.bind(r,"PATCH"),A=r.bind(r,"DELETE"),l=r.bind(r,"PUT")},h3D4:function(t,e,i){"use strict";var n,r=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])})(t,e)},function(t,e){function i(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)});Object.defineProperty(e,"__esModule",{value:!0});var s=i("fl/D"),o=function(t){function e(){var e=t.call(this)||this;return e._total=0,e}return r(e,t),Object.defineProperty(e.prototype,"total",{get:function(){return this._total},enumerable:!0,configurable:!0}),e.prototype.getFirst=function(){return this.childs.length>0?this.childs[0]:void 0},e.fromNativePolyTree=function(t,i,n){var r=new e;return s.PolyNode.fillFromNativePolyNode(r,t,i,void 0,0,!1),r._total=i.total(),n&&i.delete(),r},e}(s.PolyNode);e.PolyTree=o},hQ4F:function(t,e,i){!function(t){"use strict";function e(t,e){return void 0!==t?t:e}var i=1e37,n=1e-5,r=n*n,s=3.14159265359,o=2,a=8,A=.008,l=2/180*s,u=2*A,h=-1,c=function(){function t(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;_classCallCheck2(this,t),this.major=0,this.minor=0,this.revision=0,this.major=e,this.minor=i,this.revision=n}return _createClass2(t,[{key:"toString",value:function(){return this.major+"."+this.minor+"."+this.revision}}]),t}(),f=new c(2,3,2);function m(t,e){for(var i=[],n=0;n<t;++n)i.push(e(n));return i}function _(t){for(var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,i=[],n=0;n<t;++n)i.push(e);return i}var g=Math.abs,d=Math.min,p=Math.max;function y(t,e,i){return t<e?e:t>i?i:t}var C=isFinite;function v(t){return t*t}function I(t){return 1/Math.sqrt(t)}var B=Math.sqrt,E=Math.pow,w=Math.cos,b=Math.sin,x=Math.acos,S=Math.asin,Q=Math.atan2,k=function(){function t(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;_classCallCheck2(this,t),this.x=e,this.y=i}return _createClass2(t,[{key:"Clone",value:function(){return new t(this.x,this.y)}},{key:"SetZero",value:function(){return this.x=0,this.y=0,this}},{key:"Set",value:function(t,e){return this.x=t,this.y=e,this}},{key:"Copy",value:function(t){return this.x=t.x,this.y=t.y,this}},{key:"SelfAdd",value:function(t){return this.x+=t.x,this.y+=t.y,this}},{key:"SelfAddXY",value:function(t,e){return this.x+=t,this.y+=e,this}},{key:"SelfSub",value:function(t){return this.x-=t.x,this.y-=t.y,this}},{key:"SelfSubXY",value:function(t,e){return this.x-=t,this.y-=e,this}},{key:"SelfMul",value:function(t){return this.x*=t,this.y*=t,this}},{key:"SelfMulAdd",value:function(t,e){return this.x+=t*e.x,this.y+=t*e.y,this}},{key:"SelfMulSub",value:function(t,e){return this.x-=t*e.x,this.y-=t*e.y,this}},{key:"Dot",value:function(t){return this.x*t.x+this.y*t.y}},{key:"Cross",value:function(t){return this.x*t.y-this.y*t.x}},{key:"Length",value:function(){var t=this.x,e=this.y;return Math.sqrt(t*t+e*e)}},{key:"LengthSquared",value:function(){var t=this.x,e=this.y;return t*t+e*e}},{key:"Normalize",value:function(){var t=this.Length();if(t>=n){var e=1/t;this.x*=e,this.y*=e}return t}},{key:"SelfNormalize",value:function(){var t=this.Length();if(t>=n){var e=1/t;this.x*=e,this.y*=e}return this}},{key:"SelfRotate",value:function(t){var e=Math.cos(t),i=Math.sin(t),n=this.x;return this.x=e*n-i*this.y,this.y=i*n+e*this.y,this}},{key:"SelfRotateCosSin",value:function(t,e){var i=this.x;return this.x=t*i-e*this.y,this.y=e*i+t*this.y,this}},{key:"IsValid",value:function(){return isFinite(this.x)&&isFinite(this.y)}},{key:"SelfCrossVS",value:function(t){var e=this.x;return this.x=t*this.y,this.y=-t*e,this}},{key:"SelfCrossSV",value:function(t){var e=this.x;return this.x=-t*this.y,this.y=t*e,this}},{key:"SelfMinV",value:function(t){return this.x=d(this.x,t.x),this.y=d(this.y,t.y),this}},{key:"SelfMaxV",value:function(t){return this.x=p(this.x,t.x),this.y=p(this.y,t.y),this}},{key:"SelfAbs",value:function(){return this.x=g(this.x),this.y=g(this.y),this}},{key:"SelfNeg",value:function(){return this.x=-this.x,this.y=-this.y,this}},{key:"SelfSkew",value:function(){var t=this.x;return this.x=-this.y,this.y=t,this}}],[{key:"MakeArray",value:function(e){return m(e,(function(e){return new t}))}},{key:"AbsV",value:function(t,e){return e.x=g(t.x),e.y=g(t.y),e}},{key:"MinV",value:function(t,e,i){return i.x=d(t.x,e.x),i.y=d(t.y,e.y),i}},{key:"MaxV",value:function(t,e,i){return i.x=p(t.x,e.x),i.y=p(t.y,e.y),i}},{key:"ClampV",value:function(t,e,i,n){return n.x=y(t.x,e.x,i.x),n.y=y(t.y,e.y,i.y),n}},{key:"RotateV",value:function(t,e,i){var n=t.x,r=t.y,s=Math.cos(e),o=Math.sin(e);return i.x=s*n-o*r,i.y=o*n+s*r,i}},{key:"DotVV",value:function(t,e){return t.x*e.x+t.y*e.y}},{key:"CrossVV",value:function(t,e){return t.x*e.y-t.y*e.x}},{key:"CrossVS",value:function(t,e,i){var n=t.x;return i.x=e*t.y,i.y=-e*n,i}},{key:"CrossVOne",value:function(t,e){var i=t.x;return e.x=t.y,e.y=-i,e}},{key:"CrossSV",value:function(t,e,i){var n=e.x;return i.x=-t*e.y,i.y=t*n,i}},{key:"CrossOneV",value:function(t,e){var i=t.x;return e.x=-t.y,e.y=i,e}},{key:"AddVV",value:function(t,e,i){return i.x=t.x+e.x,i.y=t.y+e.y,i}},{key:"SubVV",value:function(t,e,i){return i.x=t.x-e.x,i.y=t.y-e.y,i}},{key:"MulSV",value:function(t,e,i){return i.x=e.x*t,i.y=e.y*t,i}},{key:"MulVS",value:function(t,e,i){return i.x=t.x*e,i.y=t.y*e,i}},{key:"AddVMulSV",value:function(t,e,i,n){return n.x=t.x+e*i.x,n.y=t.y+e*i.y,n}},{key:"SubVMulSV",value:function(t,e,i,n){return n.x=t.x-e*i.x,n.y=t.y-e*i.y,n}},{key:"AddVCrossSV",value:function(t,e,i,n){var r=i.x;return n.x=t.x-e*i.y,n.y=t.y+e*r,n}},{key:"MidVV",value:function(t,e,i){return i.x=.5*(t.x+e.x),i.y=.5*(t.y+e.y),i}},{key:"ExtVV",value:function(t,e,i){return i.x=.5*(e.x-t.x),i.y=.5*(e.y-t.y),i}},{key:"IsEqualToV",value:function(t,e){return t.x===e.x&&t.y===e.y}},{key:"DistanceVV",value:function(t,e){var i=t.x-e.x,n=t.y-e.y;return Math.sqrt(i*i+n*n)}},{key:"DistanceSquaredVV",value:function(t,e){var i=t.x-e.x,n=t.y-e.y;return i*i+n*n}},{key:"NegV",value:function(t,e){return e.x=-t.x,e.y=-t.y,e}}]),t}();k.ZERO=new k(0,0),k.UNITX=new k(1,0),k.UNITY=new k(0,1),k.s_t0=new k,k.s_t1=new k,k.s_t2=new k,k.s_t3=new k;var D=new k(0,0),M=function(){function t(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;_classCallCheck2(this,t),this.x=e,this.y=i,this.z=n}return _createClass2(t,[{key:"Clone",value:function(){return new t(this.x,this.y,this.z)}},{key:"SetZero",value:function(){return this.x=0,this.y=0,this.z=0,this}},{key:"SetXYZ",value:function(t,e,i){return this.x=t,this.y=e,this.z=i,this}},{key:"Copy",value:function(t){return this.x=t.x,this.y=t.y,this.z=t.z,this}},{key:"SelfNeg",value:function(){return this.x=-this.x,this.y=-this.y,this.z=-this.z,this}},{key:"SelfAdd",value:function(t){return this.x+=t.x,this.y+=t.y,this.z+=t.z,this}},{key:"SelfAddXYZ",value:function(t,e,i){return this.x+=t,this.y+=e,this.z+=i,this}},{key:"SelfSub",value:function(t){return this.x-=t.x,this.y-=t.y,this.z-=t.z,this}},{key:"SelfSubXYZ",value:function(t,e,i){return this.x-=t,this.y-=e,this.z-=i,this}},{key:"SelfMul",value:function(t){return this.x*=t,this.y*=t,this.z*=t,this}}],[{key:"DotV3V3",value:function(t,e){return t.x*e.x+t.y*e.y+t.z*e.z}},{key:"CrossV3V3",value:function(t,e,i){var n=t.x,r=t.y,s=t.z,o=e.x,a=e.y,A=e.z;return i.x=r*A-s*a,i.y=s*o-n*A,i.z=n*a-r*o,i}}]),t}();M.ZERO=new M(0,0,0),M.s_t0=new M;var R=function(){function t(){_classCallCheck2(this,t),this.ex=new k(1,0),this.ey=new k(0,1)}return _createClass2(t,[{key:"Clone",value:function(){return(new t).Copy(this)}},{key:"SetSSSS",value:function(t,e,i,n){return this.ex.Set(t,i),this.ey.Set(e,n),this}},{key:"SetVV",value:function(t,e){return this.ex.Copy(t),this.ey.Copy(e),this}},{key:"SetAngle",value:function(t){var e=Math.cos(t),i=Math.sin(t);return this.ex.Set(e,i),this.ey.Set(-i,e),this}},{key:"Copy",value:function(t){return this.ex.Copy(t.ex),this.ey.Copy(t.ey),this}},{key:"SetIdentity",value:function(){return this.ex.Set(1,0),this.ey.Set(0,1),this}},{key:"SetZero",value:function(){return this.ex.SetZero(),this.ey.SetZero(),this}},{key:"GetAngle",value:function(){return Math.atan2(this.ex.y,this.ex.x)}},{key:"GetInverse",value:function(t){var e=this.ex.x,i=this.ey.x,n=this.ex.y,r=this.ey.y,s=e*r-i*n;return 0!==s&&(s=1/s),t.ex.x=s*r,t.ey.x=-s*i,t.ex.y=-s*n,t.ey.y=s*e,t}},{key:"Solve",value:function(t,e,i){var n=this.ex.x,r=this.ey.x,s=this.ex.y,o=this.ey.y,a=n*o-r*s;return 0!==a&&(a=1/a),i.x=a*(o*t-r*e),i.y=a*(n*e-s*t),i}},{key:"SelfAbs",value:function(){return this.ex.SelfAbs(),this.ey.SelfAbs(),this}},{key:"SelfInv",value:function(){return this.GetInverse(this),this}},{key:"SelfAddM",value:function(t){return this.ex.SelfAdd(t.ex),this.ey.SelfAdd(t.ey),this}},{key:"SelfSubM",value:function(t){return this.ex.SelfSub(t.ex),this.ey.SelfSub(t.ey),this}}],[{key:"FromVV",value:function(e,i){return(new t).SetVV(e,i)}},{key:"FromSSSS",value:function(e,i,n,r){return(new t).SetSSSS(e,i,n,r)}},{key:"FromAngle",value:function(e){return(new t).SetAngle(e)}},{key:"AbsM",value:function(t,e){var i=t.ex,n=t.ey;return e.ex.x=g(i.x),e.ex.y=g(i.y),e.ey.x=g(n.x),e.ey.y=g(n.y),e}},{key:"MulMV",value:function(t,e,i){var n=t.ex,r=t.ey,s=e.x,o=e.y;return i.x=n.x*s+r.x*o,i.y=n.y*s+r.y*o,i}},{key:"MulTMV",value:function(t,e,i){var n=t.ex,r=t.ey,s=e.x,o=e.y;return i.x=n.x*s+n.y*o,i.y=r.x*s+r.y*o,i}},{key:"AddMM",value:function(t,e,i){var n=t.ex,r=t.ey,s=e.ex,o=e.ey;return i.ex.x=n.x+s.x,i.ex.y=n.y+s.y,i.ey.x=r.x+o.x,i.ey.y=r.y+o.y,i}},{key:"MulMM",value:function(t,e,i){var n=t.ex.x,r=t.ex.y,s=t.ey.x,o=t.ey.y,a=e.ex.x,A=e.ex.y,l=e.ey.x,u=e.ey.y;return i.ex.x=n*a+s*A,i.ex.y=r*a+o*A,i.ey.x=n*l+s*u,i.ey.y=r*l+o*u,i}},{key:"MulTMM",value:function(t,e,i){var n=t.ex.x,r=t.ex.y,s=t.ey.x,o=t.ey.y,a=e.ex.x,A=e.ex.y,l=e.ey.x,u=e.ey.y;return i.ex.x=n*a+r*A,i.ex.y=s*a+o*A,i.ey.x=n*l+r*u,i.ey.y=s*l+o*u,i}}]),t}();R.IDENTITY=new R;var V=function(){function t(){_classCallCheck2(this,t),this.ex=new M(1,0,0),this.ey=new M(0,1,0),this.ez=new M(0,0,1)}return _createClass2(t,[{key:"Clone",value:function(){return(new t).Copy(this)}},{key:"SetVVV",value:function(t,e,i){return this.ex.Copy(t),this.ey.Copy(e),this.ez.Copy(i),this}},{key:"Copy",value:function(t){return this.ex.Copy(t.ex),this.ey.Copy(t.ey),this.ez.Copy(t.ez),this}},{key:"SetIdentity",value:function(){return this.ex.SetXYZ(1,0,0),this.ey.SetXYZ(0,1,0),this.ez.SetXYZ(0,0,1),this}},{key:"SetZero",value:function(){return this.ex.SetZero(),this.ey.SetZero(),this.ez.SetZero(),this}},{key:"SelfAddM",value:function(t){return this.ex.SelfAdd(t.ex),this.ey.SelfAdd(t.ey),this.ez.SelfAdd(t.ez),this}},{key:"Solve33",value:function(t,e,i,n){var r=this.ex.x,s=this.ex.y,o=this.ex.z,a=this.ey.x,A=this.ey.y,l=this.ey.z,u=this.ez.x,h=this.ez.y,c=this.ez.z,f=r*(A*c-l*h)+s*(l*u-a*c)+o*(a*h-A*u);return 0!==f&&(f=1/f),n.x=f*(t*(A*c-l*h)+e*(l*u-a*c)+i*(a*h-A*u)),n.y=f*(r*(e*c-i*h)+s*(i*u-t*c)+o*(t*h-e*u)),n.z=f*(r*(A*i-l*e)+s*(l*t-a*i)+o*(a*e-A*t)),n}},{key:"Solve22",value:function(t,e,i){var n=this.ex.x,r=this.ey.x,s=this.ex.y,o=this.ey.y,a=n*o-r*s;return 0!==a&&(a=1/a),i.x=a*(o*t-r*e),i.y=a*(n*e-s*t),i}},{key:"GetInverse22",value:function(t){var e=this.ex.x,i=this.ey.x,n=this.ex.y,r=this.ey.y,s=e*r-i*n;0!==s&&(s=1/s),t.ex.x=s*r,t.ey.x=-s*i,t.ex.z=0,t.ex.y=-s*n,t.ey.y=s*e,t.ey.z=0,t.ez.x=0,t.ez.y=0,t.ez.z=0}},{key:"GetSymInverse33",value:function(t){var e=M.DotV3V3(this.ex,M.CrossV3V3(this.ey,this.ez,M.s_t0));0!==e&&(e=1/e);var i=this.ex.x,n=this.ey.x,r=this.ez.x,s=this.ey.y,o=this.ez.y,a=this.ez.z;t.ex.x=e*(s*a-o*o),t.ex.y=e*(r*o-n*a),t.ex.z=e*(n*o-r*s),t.ey.x=t.ex.y,t.ey.y=e*(i*a-r*r),t.ey.z=e*(r*n-i*o),t.ez.x=t.ex.z,t.ez.y=t.ey.z,t.ez.z=e*(i*s-n*n)}}],[{key:"MulM33V3",value:function(t,e,i){var n=e.x,r=e.y,s=e.z;return i.x=t.ex.x*n+t.ey.x*r+t.ez.x*s,i.y=t.ex.y*n+t.ey.y*r+t.ez.y*s,i.z=t.ex.z*n+t.ey.z*r+t.ez.z*s,i}},{key:"MulM33XYZ",value:function(t,e,i,n,r){return r.x=t.ex.x*e+t.ey.x*i+t.ez.x*n,r.y=t.ex.y*e+t.ey.y*i+t.ez.y*n,r.z=t.ex.z*e+t.ey.z*i+t.ez.z*n,r}},{key:"MulM33V2",value:function(t,e,i){var n=e.x,r=e.y;return i.x=t.ex.x*n+t.ey.x*r,i.y=t.ex.y*n+t.ey.y*r,i}},{key:"MulM33XY",value:function(t,e,i,n){return n.x=t.ex.x*e+t.ey.x*i,n.y=t.ex.y*e+t.ey.y*i,n}}]),t}();V.IDENTITY=new V;var T=function(){function t(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0;_classCallCheck2(this,t),this.s=0,this.c=1,e&&(this.s=Math.sin(e),this.c=Math.cos(e))}return _createClass2(t,[{key:"Clone",value:function(){return(new t).Copy(this)}},{key:"Copy",value:function(t){return this.s=t.s,this.c=t.c,this}},{key:"SetAngle",value:function(t){return this.s=Math.sin(t),this.c=Math.cos(t),this}},{key:"SetIdentity",value:function(){return this.s=0,this.c=1,this}},{key:"GetAngle",value:function(){return Math.atan2(this.s,this.c)}},{key:"GetXAxis",value:function(t){return t.x=this.c,t.y=this.s,t}},{key:"GetYAxis",value:function(t){return t.x=-this.s,t.y=this.c,t}}],[{key:"MulRR",value:function(t,e,i){var n=t.c,r=t.s,s=e.c,o=e.s;return i.s=r*s+n*o,i.c=n*s-r*o,i}},{key:"MulTRR",value:function(t,e,i){var n=t.c,r=t.s,s=e.c,o=e.s;return i.s=n*o-r*s,i.c=n*s+r*o,i}},{key:"MulRV",value:function(t,e,i){var n=t.c,r=t.s,s=e.x,o=e.y;return i.x=n*s-r*o,i.y=r*s+n*o,i}},{key:"MulTRV",value:function(t,e,i){var n=t.c,r=t.s,s=e.x,o=e.y;return i.x=n*s+r*o,i.y=-r*s+n*o,i}}]),t}();T.IDENTITY=new T;var G=function(){function t(){_classCallCheck2(this,t),this.p=new k,this.q=new T}return _createClass2(t,[{key:"Clone",value:function(){return(new t).Copy(this)}},{key:"Copy",value:function(t){return this.p.Copy(t.p),this.q.Copy(t.q),this}},{key:"SetIdentity",value:function(){return this.p.SetZero(),this.q.SetIdentity(),this}},{key:"SetPositionRotation",value:function(t,e){return this.p.Copy(t),this.q.Copy(e),this}},{key:"SetPositionAngle",value:function(t,e){return this.p.Copy(t),this.q.SetAngle(e),this}},{key:"SetPosition",value:function(t){return this.p.Copy(t),this}},{key:"SetPositionXY",value:function(t,e){return this.p.Set(t,e),this}},{key:"SetRotation",value:function(t){return this.q.Copy(t),this}},{key:"SetRotationAngle",value:function(t){return this.q.SetAngle(t),this}},{key:"GetPosition",value:function(){return this.p}},{key:"GetRotation",value:function(){return this.q}},{key:"GetRotationAngle",value:function(){return this.q.GetAngle()}},{key:"GetAngle",value:function(){return this.q.GetAngle()}}],[{key:"MulXV",value:function(t,e,i){var n=t.q.c,r=t.q.s,s=e.x,o=e.y;return i.x=n*s-r*o+t.p.x,i.y=r*s+n*o+t.p.y,i}},{key:"MulTXV",value:function(t,e,i){var n=t.q.c,r=t.q.s,s=e.x-t.p.x,o=e.y-t.p.y;return i.x=n*s+r*o,i.y=-r*s+n*o,i}},{key:"MulXX",value:function(t,e,i){return T.MulRR(t.q,e.q,i.q),k.AddVV(T.MulRV(t.q,e.p,i.p),t.p,i.p),i}},{key:"MulTXX",value:function(t,e,i){return T.MulTRR(t.q,e.q,i.q),T.MulTRV(t.q,k.SubVV(e.p,t.p,i.p),i.p),i}}]),t}();G.IDENTITY=new G;var F,P=function(){function t(){_classCallCheck2(this,t),this.localCenter=new k,this.c0=new k,this.c=new k,this.a0=0,this.a=0,this.alpha0=0}return _createClass2(t,[{key:"Clone",value:function(){return(new t).Copy(this)}},{key:"Copy",value:function(t){return this.localCenter.Copy(t.localCenter),this.c0.Copy(t.c0),this.c.Copy(t.c),this.a0=t.a0,this.a=t.a,this.alpha0=t.alpha0,this}},{key:"GetTransform",value:function(t,e){var i=1-e;return t.p.x=i*this.c0.x+e*this.c.x,t.p.y=i*this.c0.y+e*this.c.y,t.q.SetAngle(i*this.a0+e*this.a),t.p.SelfSub(T.MulRV(t.q,this.localCenter,k.s_t0)),t}},{key:"Advance",value:function(t){var e=(t-this.alpha0)/(1-this.alpha0),i=1-e;this.c0.x=i*this.c0.x+e*this.c.x,this.c0.y=i*this.c0.y+e*this.c.y,this.a0=i*this.a0+e*this.a,this.alpha0=t}},{key:"Normalize",value:function(){var t=6.28318530718*Math.floor(this.a0/6.28318530718);this.a0-=t,this.a-=t}}]),t}(),N=function(){function t(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:.5,i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:.5,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:.5,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:1;_classCallCheck2(this,t),this.r=e,this.g=i,this.b=n,this.a=r}return _createClass2(t,[{key:"Clone",value:function(){return(new t).Copy(this)}},{key:"Copy",value:function(t){return this.r=t.r,this.g=t.g,this.b=t.b,this.a=t.a,this}},{key:"IsEqual",value:function(t){return this.r===t.r&&this.g===t.g&&this.b===t.b&&this.a===t.a}},{key:"IsZero",value:function(){return 0===this.r&&0===this.g&&0===this.b&&0===this.a}},{key:"Set",value:function(t,e,i){var n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:this.a;this.SetRGBA(t,e,i,n)}},{key:"SetByteRGB",value:function(t,e,i){return this.r=t/255,this.g=e/255,this.b=i/255,this}},{key:"SetByteRGBA",value:function(t,e,i,n){return this.r=t/255,this.g=e/255,this.b=i/255,this.a=n/255,this}},{key:"SetRGB",value:function(t,e,i){return this.r=t,this.g=e,this.b=i,this}},{key:"SetRGBA",value:function(t,e,i,n){return this.r=t,this.g=e,this.b=i,this.a=n,this}},{key:"SelfAdd",value:function(t){return this.r+=t.r,this.g+=t.g,this.b+=t.b,this.a+=t.a,this}},{key:"Add",value:function(t,e){return e.r=this.r+t.r,e.g=this.g+t.g,e.b=this.b+t.b,e.a=this.a+t.a,e}},{key:"SelfSub",value:function(t){return this.r-=t.r,this.g-=t.g,this.b-=t.b,this.a-=t.a,this}},{key:"Sub",value:function(t,e){return e.r=this.r-t.r,e.g=this.g-t.g,e.b=this.b-t.b,e.a=this.a-t.a,e}},{key:"SelfMul",value:function(t){return this.r*=t,this.g*=t,this.b*=t,this.a*=t,this}},{key:"Mul",value:function(t,e){return e.r=this.r*t,e.g=this.g*t,e.b=this.b*t,e.a=this.a*t,e}},{key:"Mix",value:function(e,i){t.MixColors(this,e,i)}},{key:"MakeStyleString",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.a;return t.MakeStyleString(this.r,this.g,this.b,e)}}],[{key:"MixColors",value:function(t,e,i){var n=i*(e.r-t.r),r=i*(e.g-t.g),s=i*(e.b-t.b),o=i*(e.a-t.a);t.r+=n,t.g+=r,t.b+=s,t.a+=o,e.r-=n,e.g-=r,e.b-=s,e.a-=o}},{key:"MakeStyleString",value:function(t,e,i){var n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:1;return t*=255,e*=255,i*=255,n<1?"rgba(".concat(t,",").concat(e,",").concat(i,",").concat(n,")"):"rgb(".concat(t,",").concat(e,",").concat(i,")")}}]),t}();N.ZERO=new N(0,0,0,0),N.RED=new N(1,0,0),N.GREEN=new N(0,1,0),N.BLUE=new N(0,0,1),(F=t.b2DrawFlags||(t.b2DrawFlags={}))[F.e_none=0]="e_none",F[F.e_shapeBit=1]="e_shapeBit",F[F.e_jointBit=2]="e_jointBit",F[F.e_aabbBit=4]="e_aabbBit",F[F.e_pairBit=8]="e_pairBit",F[F.e_centerOfMassBit=16]="e_centerOfMassBit",F[F.e_particleBit=32]="e_particleBit",F[F.e_controllerBit=64]="e_controllerBit",F[F.e_all=63]="e_all";var L=function(){function t(){_classCallCheck2(this,t),this.m_start=Date.now()}return _createClass2(t,[{key:"Reset",value:function(){return this.m_start=Date.now(),this}},{key:"GetMilliseconds",value:function(){return Date.now()-this.m_start}}]),t}(),U=function(){function t(e){_classCallCheck2(this,t),this.m_stack=[],this.m_count=0,this.m_stack=m(e,(function(t){return null})),this.m_count=0}return _createClass2(t,[{key:"Reset",value:function(){return this.m_count=0,this}},{key:"Push",value:function(t){this.m_stack[this.m_count]=t,this.m_count++}},{key:"Pop",value:function(){this.m_count--;var t=this.m_stack[this.m_count];if(this.m_stack[this.m_count]=null,null===t)throw new Error;return t}},{key:"GetCount",value:function(){return this.m_count}}]),t}(),O=function(){function t(){_classCallCheck2(this,t),this.m_buffer=k.MakeArray(2),this.m_vertices=this.m_buffer,this.m_count=0,this.m_radius=0}return _createClass2(t,[{key:"Copy",value:function(t){return t.m_vertices===t.m_buffer?(this.m_vertices=this.m_buffer,this.m_buffer[0].Copy(t.m_buffer[0]),this.m_buffer[1].Copy(t.m_buffer[1])):this.m_vertices=t.m_vertices,this.m_count=t.m_count,this.m_radius=t.m_radius,this}},{key:"Reset",value:function(){return this.m_vertices=this.m_buffer,this.m_count=0,this.m_radius=0,this}},{key:"SetShape",value:function(t,e){t.SetupDistanceProxy(this,e)}},{key:"SetVerticesRadius",value:function(t,e,i){this.m_vertices=t,this.m_count=e,this.m_radius=i}},{key:"GetSupport",value:function(t){for(var e=0,i=k.DotVV(this.m_vertices[0],t),n=1;n<this.m_count;++n){var r=k.DotVV(this.m_vertices[n],t);r>i&&(e=n,i=r)}return e}},{key:"GetSupportVertex",value:function(t){for(var e=0,i=k.DotVV(this.m_vertices[0],t),n=1;n<this.m_count;++n){var r=k.DotVV(this.m_vertices[n],t);r>i&&(e=n,i=r)}return this.m_vertices[e]}},{key:"GetVertexCount",value:function(){return this.m_count}},{key:"GetVertex",value:function(t){return this.m_vertices[t]}}]),t}(),Y=function(){function t(){_classCallCheck2(this,t),this.metric=0,this.count=0,this.indexA=[0,0,0],this.indexB=[0,0,0]}return _createClass2(t,[{key:"Reset",value:function(){return this.metric=0,this.count=0,this}}]),t}(),H=function(){function t(){_classCallCheck2(this,t),this.proxyA=new O,this.proxyB=new O,this.transformA=new G,this.transformB=new G,this.useRadii=!1}return _createClass2(t,[{key:"Reset",value:function(){return this.proxyA.Reset(),this.proxyB.Reset(),this.transformA.SetIdentity(),this.transformB.SetIdentity(),this.useRadii=!1,this}}]),t}(),J=function(){function t(){_classCallCheck2(this,t),this.pointA=new k,this.pointB=new k,this.distance=0,this.iterations=0}return _createClass2(t,[{key:"Reset",value:function(){return this.pointA.SetZero(),this.pointB.SetZero(),this.distance=0,this.iterations=0,this}}]),t}();t.b2_gjkCalls=0,t.b2_gjkIters=0,t.b2_gjkMaxIters=0;var j=function(){function t(){_classCallCheck2(this,t),this.wA=new k,this.wB=new k,this.w=new k,this.a=0,this.indexA=0,this.indexB=0}return _createClass2(t,[{key:"Copy",value:function(t){return this.wA.Copy(t.wA),this.wB.Copy(t.wB),this.w.Copy(t.w),this.a=t.a,this.indexA=t.indexA,this.indexB=t.indexB,this}}]),t}(),K=function(){function t(){_classCallCheck2(this,t),this.m_v1=new j,this.m_v2=new j,this.m_v3=new j,this.m_vertices=[],this.m_count=0,this.m_vertices[0]=this.m_v1,this.m_vertices[1]=this.m_v2,this.m_vertices[2]=this.m_v3}return _createClass2(t,[{key:"ReadCache",value:function(t,e,i,r,s){this.m_count=t.count;for(var o=this.m_vertices,a=0;a<this.m_count;++a){var A=o[a];A.indexA=t.indexA[a],A.indexB=t.indexB[a];var l=e.GetVertex(A.indexA),u=r.GetVertex(A.indexB);G.MulXV(i,l,A.wA),G.MulXV(s,u,A.wB),k.SubVV(A.wB,A.wA,A.w),A.a=0}if(this.m_count>1){var h=t.metric,c=this.GetMetric();(c<.5*h||2*h<c||c<n)&&(this.m_count=0)}if(0===this.m_count){var f=o[0];f.indexA=0,f.indexB=0;var m=e.GetVertex(0),_=r.GetVertex(0);G.MulXV(i,m,f.wA),G.MulXV(s,_,f.wB),k.SubVV(f.wB,f.wA,f.w),f.a=1,this.m_count=1}}},{key:"WriteCache",value:function(t){t.metric=this.GetMetric(),t.count=this.m_count;for(var e=this.m_vertices,i=0;i<this.m_count;++i)t.indexA[i]=e[i].indexA,t.indexB[i]=e[i].indexB}},{key:"GetSearchDirection",value:function(t){switch(this.m_count){case 1:return k.NegV(this.m_v1.w,t);case 2:var e=k.SubVV(this.m_v2.w,this.m_v1.w,t);return k.CrossVV(e,k.NegV(this.m_v1.w,k.s_t0))>0?k.CrossOneV(e,t):k.CrossVOne(e,t);default:return t.SetZero()}}},{key:"GetClosestPoint",value:function(t){switch(this.m_count){case 0:return t.SetZero();case 1:return t.Copy(this.m_v1.w);case 2:return t.Set(this.m_v1.a*this.m_v1.w.x+this.m_v2.a*this.m_v2.w.x,this.m_v1.a*this.m_v1.w.y+this.m_v2.a*this.m_v2.w.y);case 3:default:return t.SetZero()}}},{key:"GetWitnessPoints",value:function(t,e){switch(this.m_count){case 0:break;case 1:t.Copy(this.m_v1.wA),e.Copy(this.m_v1.wB);break;case 2:t.x=this.m_v1.a*this.m_v1.wA.x+this.m_v2.a*this.m_v2.wA.x,t.y=this.m_v1.a*this.m_v1.wA.y+this.m_v2.a*this.m_v2.wA.y,e.x=this.m_v1.a*this.m_v1.wB.x+this.m_v2.a*this.m_v2.wB.x,e.y=this.m_v1.a*this.m_v1.wB.y+this.m_v2.a*this.m_v2.wB.y;break;case 3:e.x=t.x=this.m_v1.a*this.m_v1.wA.x+this.m_v2.a*this.m_v2.wA.x+this.m_v3.a*this.m_v3.wA.x,e.y=t.y=this.m_v1.a*this.m_v1.wA.y+this.m_v2.a*this.m_v2.wA.y+this.m_v3.a*this.m_v3.wA.y}}},{key:"GetMetric",value:function(){switch(this.m_count){case 0:case 1:return 0;case 2:return k.DistanceVV(this.m_v1.w,this.m_v2.w);case 3:return k.CrossVV(k.SubVV(this.m_v2.w,this.m_v1.w,k.s_t0),k.SubVV(this.m_v3.w,this.m_v1.w,k.s_t1));default:return 0}}},{key:"Solve2",value:function(){var e=this.m_v1.w,i=this.m_v2.w,n=k.SubVV(i,e,t.s_e12),r=-k.DotVV(e,n);if(r<=0)return this.m_v1.a=1,void(this.m_count=1);var s=k.DotVV(i,n);if(s<=0)return this.m_v2.a=1,this.m_count=1,void this.m_v1.Copy(this.m_v2);var o=1/(s+r);this.m_v1.a=s*o,this.m_v2.a=r*o,this.m_count=2}},{key:"Solve3",value:function(){var e=this.m_v1.w,i=this.m_v2.w,n=this.m_v3.w,r=k.SubVV(i,e,t.s_e12),s=k.DotVV(e,r),o=k.DotVV(i,r),a=-s,A=k.SubVV(n,e,t.s_e13),l=k.DotVV(e,A),u=k.DotVV(n,A),h=-l,c=k.SubVV(n,i,t.s_e23),f=k.DotVV(i,c),m=k.DotVV(n,c),_=-f,g=k.CrossVV(r,A),d=g*k.CrossVV(i,n),p=g*k.CrossVV(n,e),y=g*k.CrossVV(e,i);if(a<=0&&h<=0)return this.m_v1.a=1,void(this.m_count=1);if(o>0&&a>0&&y<=0){var C=1/(o+a);return this.m_v1.a=o*C,this.m_v2.a=a*C,void(this.m_count=2)}if(u>0&&h>0&&p<=0){var v=1/(u+h);return this.m_v1.a=u*v,this.m_v3.a=h*v,this.m_count=2,void this.m_v2.Copy(this.m_v3)}if(o<=0&&_<=0)return this.m_v2.a=1,this.m_count=1,void this.m_v1.Copy(this.m_v2);if(u<=0&&m<=0)return this.m_v3.a=1,this.m_count=1,void this.m_v1.Copy(this.m_v3);if(m>0&&_>0&&d<=0){var I=1/(m+_);return this.m_v2.a=m*I,this.m_v3.a=_*I,this.m_count=2,void this.m_v1.Copy(this.m_v3)}var B=1/(d+p+y);this.m_v1.a=d*B,this.m_v2.a=p*B,this.m_v3.a=y*B,this.m_count=3}}]),t}();K.s_e12=new k,K.s_e13=new k,K.s_e23=new k;var q=new K,z=[0,0,0],X=[0,0,0],W=new k,Z=new k,$=new k,tt=new k,et=new k;function it(e,i,s){++t.b2_gjkCalls;var o=s.proxyA,a=s.proxyB,A=s.transformA,l=s.transformB,u=q;u.ReadCache(i,o,A,a,l);for(var h=u.m_vertices,c=z,f=X,m=0,_=0;_<20;){m=u.m_count;for(var g=0;g<m;++g)c[g]=h[g].indexA,f[g]=h[g].indexB;switch(u.m_count){case 1:break;case 2:u.Solve2();break;case 3:u.Solve3()}if(3===u.m_count)break;var d=u.GetSearchDirection(Z);if(d.LengthSquared()<r)break;var y=h[u.m_count];y.indexA=o.GetSupport(T.MulTRV(A.q,k.NegV(d,k.s_t0),tt)),G.MulXV(A,o.GetVertex(y.indexA),y.wA),y.indexB=a.GetSupport(T.MulTRV(l.q,d,et)),G.MulXV(l,a.GetVertex(y.indexB),y.wB),k.SubVV(y.wB,y.wA,y.w),++_,++t.b2_gjkIters;for(var C=!1,v=0;v<m;++v)if(y.indexA===c[v]&&y.indexB===f[v]){C=!0;break}if(C)break;++u.m_count}if(t.b2_gjkMaxIters=p(t.b2_gjkMaxIters,_),u.GetWitnessPoints(e.pointA,e.pointB),e.distance=k.DistanceVV(e.pointA,e.pointB),e.iterations=_,u.WriteCache(i),s.useRadii){var I=o.m_radius,B=a.m_radius;if(e.distance>I+B&&e.distance>n){e.distance-=I+B;var E=k.SubVV(e.pointB,e.pointA,$);E.Normalize(),e.pointA.SelfMulAdd(I,E),e.pointB.SelfMulSub(B,E)}else{var w=k.MidVV(e.pointA,e.pointB,W);e.pointA.Copy(w),e.pointB.Copy(w),e.distance=0}}}var nt,rt,st,ot=new k,at=new K,At=new k,lt=new k,ut=new k,ht=new k,ct=new k,ft=new k;(nt=t.b2ContactFeatureType||(t.b2ContactFeatureType={}))[nt.e_vertex=0]="e_vertex",nt[nt.e_face=1]="e_face";var mt=function(){function t(){_classCallCheck2(this,t),this._key=0,this._key_invalid=!1,this._indexA=0,this._indexB=0,this._typeA=0,this._typeB=0}return _createClass2(t,[{key:"key",get:function(){return this._key_invalid&&(this._key_invalid=!1,this._key=this._indexA|this._indexB<<8|this._typeA<<16|this._typeB<<24),this._key},set:function(t){this._key=t,this._key_invalid=!1,this._indexA=255&this._key,this._indexB=this._key>>8&255,this._typeA=this._key>>16&255,this._typeB=this._key>>24&255}},{key:"indexA",get:function(){return this._indexA},set:function(t){this._indexA=t,this._key_invalid=!0}},{key:"indexB",get:function(){return this._indexB},set:function(t){this._indexB=t,this._key_invalid=!0}},{key:"typeA",get:function(){return this._typeA},set:function(t){this._typeA=t,this._key_invalid=!0}},{key:"typeB",get:function(){return this._typeB},set:function(t){this._typeB=t,this._key_invalid=!0}}]),t}(),_t=function(){function t(){_classCallCheck2(this,t),this.cf=new mt}return _createClass2(t,[{key:"Copy",value:function(t){return this.key=t.key,this}},{key:"Clone",value:function(){return(new t).Copy(this)}},{key:"key",get:function(){return this.cf.key},set:function(t){this.cf.key=t}}]),t}(),gt=function(){function t(){_classCallCheck2(this,t),this.localPoint=new k,this.normalImpulse=0,this.tangentImpulse=0,this.id=new _t}return _createClass2(t,[{key:"Reset",value:function(){this.localPoint.SetZero(),this.normalImpulse=0,this.tangentImpulse=0,this.id.key=0}},{key:"Copy",value:function(t){return this.localPoint.Copy(t.localPoint),this.normalImpulse=t.normalImpulse,this.tangentImpulse=t.tangentImpulse,this.id.Copy(t.id),this}}],[{key:"MakeArray",value:function(e){return m(e,(function(e){return new t}))}}]),t}();(rt=t.b2ManifoldType||(t.b2ManifoldType={}))[rt.e_unknown=-1]="e_unknown",rt[rt.e_circles=0]="e_circles",rt[rt.e_faceA=1]="e_faceA",rt[rt.e_faceB=2]="e_faceB";var dt=function(){function e(){_classCallCheck2(this,e),this.points=gt.MakeArray(o),this.localNormal=new k,this.localPoint=new k,this.type=t.b2ManifoldType.e_unknown,this.pointCount=0}return _createClass2(e,[{key:"Reset",value:function(){for(var e=0;e<o;++e)this.points[e].Reset();this.localNormal.SetZero(),this.localPoint.SetZero(),this.type=t.b2ManifoldType.e_unknown,this.pointCount=0}},{key:"Copy",value:function(t){this.pointCount=t.pointCount;for(var e=0;e<o;++e)this.points[e].Copy(t.points[e]);return this.localNormal.Copy(t.localNormal),this.localPoint.Copy(t.localPoint),this.type=t.type,this}},{key:"Clone",value:function(){return(new e).Copy(this)}}]),e}(),pt=function(){function e(){_classCallCheck2(this,e),this.normal=new k,this.points=k.MakeArray(o),this.separations=_(o)}return _createClass2(e,[{key:"Initialize",value:function(i,n,s,o,a){if(0!==i.pointCount)switch(i.type){case t.b2ManifoldType.e_circles:this.normal.Set(1,0);var A=G.MulXV(n,i.localPoint,e.Initialize_s_pointA),l=G.MulXV(o,i.points[0].localPoint,e.Initialize_s_pointB);k.DistanceSquaredVV(A,l)>r&&k.SubVV(l,A,this.normal).SelfNormalize();var u=k.AddVMulSV(A,s,this.normal,e.Initialize_s_cA),h=k.SubVMulSV(l,a,this.normal,e.Initialize_s_cB);k.MidVV(u,h,this.points[0]),this.separations[0]=k.DotVV(k.SubVV(h,u,k.s_t0),this.normal);break;case t.b2ManifoldType.e_faceA:T.MulRV(n.q,i.localNormal,this.normal);for(var c=G.MulXV(n,i.localPoint,e.Initialize_s_planePoint),f=0;f<i.pointCount;++f){var m=G.MulXV(o,i.points[f].localPoint,e.Initialize_s_clipPoint),_=s-k.DotVV(k.SubVV(m,c,k.s_t0),this.normal),g=k.AddVMulSV(m,_,this.normal,e.Initialize_s_cA),d=k.SubVMulSV(m,a,this.normal,e.Initialize_s_cB);k.MidVV(g,d,this.points[f]),this.separations[f]=k.DotVV(k.SubVV(d,g,k.s_t0),this.normal)}break;case t.b2ManifoldType.e_faceB:T.MulRV(o.q,i.localNormal,this.normal);for(var p=G.MulXV(o,i.localPoint,e.Initialize_s_planePoint),y=0;y<i.pointCount;++y){var C=G.MulXV(n,i.points[y].localPoint,e.Initialize_s_clipPoint),v=a-k.DotVV(k.SubVV(C,p,k.s_t0),this.normal),I=k.AddVMulSV(C,v,this.normal,e.Initialize_s_cB),B=k.SubVMulSV(C,s,this.normal,e.Initialize_s_cA);k.MidVV(B,I,this.points[y]),this.separations[y]=k.DotVV(k.SubVV(B,I,k.s_t0),this.normal)}this.normal.SelfNeg()}}}]),e}();pt.Initialize_s_pointA=new k,pt.Initialize_s_pointB=new k,pt.Initialize_s_cA=new k,pt.Initialize_s_cB=new k,pt.Initialize_s_planePoint=new k,pt.Initialize_s_clipPoint=new k,(st=t.b2PointState||(t.b2PointState={}))[st.b2_nullState=0]="b2_nullState",st[st.b2_addState=1]="b2_addState",st[st.b2_persistState=2]="b2_persistState",st[st.b2_removeState=3]="b2_removeState";var yt=function(){function t(){_classCallCheck2(this,t),this.v=new k,this.id=new _t}return _createClass2(t,[{key:"Copy",value:function(t){return this.v.Copy(t.v),this.id.Copy(t.id),this}}],[{key:"MakeArray",value:function(e){return m(e,(function(e){return new t}))}}]),t}(),Ct=function(){function t(){_classCallCheck2(this,t),this.p1=new k,this.p2=new k,this.maxFraction=1}return _createClass2(t,[{key:"Copy",value:function(t){return this.p1.Copy(t.p1),this.p2.Copy(t.p2),this.maxFraction=t.maxFraction,this}}]),t}(),vt=function(){function t(){_classCallCheck2(this,t),this.normal=new k,this.fraction=0}return _createClass2(t,[{key:"Copy",value:function(t){return this.normal.Copy(t.normal),this.fraction=t.fraction,this}}]),t}(),It=function(){function t(){_classCallCheck2(this,t),this.lowerBound=new k,this.upperBound=new k,this.m_cache_center=new k,this.m_cache_extent=new k}return _createClass2(t,[{key:"Copy",value:function(t){return this.lowerBound.Copy(t.lowerBound),this.upperBound.Copy(t.upperBound),this}},{key:"IsValid",value:function(){return this.upperBound.x-this.lowerBound.x>=0&&this.upperBound.y-this.lowerBound.y>=0&&this.lowerBound.IsValid()&&this.upperBound.IsValid()}},{key:"GetCenter",value:function(){return k.MidVV(this.lowerBound,this.upperBound,this.m_cache_center)}},{key:"GetExtents",value:function(){return k.ExtVV(this.lowerBound,this.upperBound,this.m_cache_extent)}},{key:"GetPerimeter",value:function(){return 2*(this.upperBound.x-this.lowerBound.x+(this.upperBound.y-this.lowerBound.y))}},{key:"Combine1",value:function(t){return this.lowerBound.x=d(this.lowerBound.x,t.lowerBound.x),this.lowerBound.y=d(this.lowerBound.y,t.lowerBound.y),this.upperBound.x=p(this.upperBound.x,t.upperBound.x),this.upperBound.y=p(this.upperBound.y,t.upperBound.y),this}},{key:"Combine2",value:function(t,e){return this.lowerBound.x=d(t.lowerBound.x,e.lowerBound.x),this.lowerBound.y=d(t.lowerBound.y,e.lowerBound.y),this.upperBound.x=p(t.upperBound.x,e.upperBound.x),this.upperBound.y=p(t.upperBound.y,e.upperBound.y),this}},{key:"Contains",value:function(t){var e=!0;return(e=(e=(e=e&&this.lowerBound.x<=t.lowerBound.x)&&this.lowerBound.y<=t.lowerBound.y)&&t.upperBound.x<=this.upperBound.x)&&t.upperBound.y<=this.upperBound.y}},{key:"RayCast",value:function(t,e){var r=-i,s=i,o=e.p1.x,a=e.p1.y,A=e.p2.x-e.p1.x,l=e.p2.y-e.p1.y,u=g(A),h=g(l),c=t.normal;if(u<n){if(o<this.lowerBound.x||this.upperBound.x<o)return!1}else{var f=1/A,m=(this.lowerBound.x-o)*f,_=(this.upperBound.x-o)*f,p=-1;if(m>_){var y=m;m=_,_=y,p=1}if(m>r&&(c.x=p,c.y=0,r=m),r>(s=d(s,_)))return!1}if(h<n){if(a<this.lowerBound.y||this.upperBound.y<a)return!1}else{var C=1/l,v=(this.lowerBound.y-a)*C,I=(this.upperBound.y-a)*C,B=-1;if(v>I){var E=v;v=I,I=E,B=1}if(v>r&&(c.x=0,c.y=B,r=v),r>(s=d(s,I)))return!1}return!(r<0||e.maxFraction<r||(t.fraction=r,0))}},{key:"TestContain",value:function(t){return!(t.x<this.lowerBound.x||this.upperBound.x<t.x||t.y<this.lowerBound.y||this.upperBound.y<t.y)}},{key:"TestOverlap",value:function(t){return!(t.lowerBound.x-this.upperBound.x>0||t.lowerBound.y-this.upperBound.y>0||this.lowerBound.x-t.upperBound.x>0||this.lowerBound.y-t.upperBound.y>0)}}],[{key:"Combine",value:function(t,e,i){return i.Combine2(t,e),i}}]),t}();function Bt(t,e){return!(e.lowerBound.x-t.upperBound.x>0||e.lowerBound.y-t.upperBound.y>0||t.lowerBound.x-e.upperBound.x>0||t.lowerBound.y-e.upperBound.y>0)}function Et(e,i,n,r,s){var o=0,a=i[0],A=i[1],l=k.DotVV(n,a.v)-r,u=k.DotVV(n,A.v)-r;if(l<=0&&e[o++].Copy(a),u<=0&&e[o++].Copy(A),l*u<0){var h=l/(l-u),c=e[o].v;c.x=a.v.x+h*(A.v.x-a.v.x),c.y=a.v.y+h*(A.v.y-a.v.y);var f=e[o].id;f.cf.indexA=s,f.cf.indexB=a.id.cf.indexB,f.cf.typeA=t.b2ContactFeatureType.e_vertex,f.cf.typeB=t.b2ContactFeatureType.e_face,++o}return o}var wt=new H,bt=new Y,xt=new J;function St(t,e,i,r,s,o){var a=wt.Reset();a.proxyA.SetShape(t,e),a.proxyB.SetShape(i,r),a.transformA.Copy(s),a.transformB.Copy(o),a.useRadii=!0;var A=bt.Reset();A.count=0;var l=xt.Reset();return it(l,A,a),l.distance<10*n}function Qt(t){if(null===t)throw new Error;return t}var kt=function(){function t(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0;_classCallCheck2(this,t),this.m_id=0,this.aabb=new It,this.parent=null,this.child1=null,this.child2=null,this.height=0,this.m_id=e}return _createClass2(t,[{key:"IsLeaf",value:function(){return null===this.child1}}]),t}(),Dt=function(){function t(){_classCallCheck2(this,t),this.m_root=null,this.m_freeList=null,this.m_path=0,this.m_insertionCount=0,this.m_stack=new U(256)}return _createClass2(t,[{key:"Query",value:function(t,e){if(null!==this.m_root){var i=this.m_stack.Reset();for(i.Push(this.m_root);i.GetCount()>0;){var n=i.Pop();if(n.aabb.TestOverlap(t))if(n.IsLeaf()){if(!e(n))return}else i.Push(Qt(n.child1)),i.Push(Qt(n.child2))}}}},{key:"QueryPoint",value:function(t,e){if(null!==this.m_root){var i=this.m_stack.Reset();for(i.Push(this.m_root);i.GetCount()>0;){var n=i.Pop();if(n.aabb.TestContain(t))if(n.IsLeaf()){if(!e(n))return}else i.Push(Qt(n.child1)),i.Push(Qt(n.child2))}}}},{key:"RayCast",value:function(e,i){if(null!==this.m_root){var n=e.p1,r=e.p2,s=k.SubVV(r,n,t.s_r);s.Normalize();var o=k.CrossOneV(s,t.s_v),a=k.AbsV(o,t.s_abs_v),A=e.maxFraction,l=t.s_segmentAABB,u=n.x+A*(r.x-n.x),h=n.y+A*(r.y-n.y);l.lowerBound.x=d(n.x,u),l.lowerBound.y=d(n.y,h),l.upperBound.x=p(n.x,u),l.upperBound.y=p(n.y,h);var c=this.m_stack.Reset();for(c.Push(this.m_root);c.GetCount()>0;){var f=c.Pop();if(Bt(f.aabb,l)){var m=f.aabb.GetCenter(),_=f.aabb.GetExtents();if(!(g(k.DotVV(o,k.SubVV(n,m,k.s_t0)))-k.DotVV(a,_)>0))if(f.IsLeaf()){var y=t.s_subInput;y.p1.Copy(e.p1),y.p2.Copy(e.p2),y.maxFraction=A;var C=i(y,f);if(0===C)return;C>0&&(h=n.y+(A=C)*(r.y-n.y),l.lowerBound.x=d(n.x,u=n.x+A*(r.x-n.x)),l.lowerBound.y=d(n.y,h),l.upperBound.x=p(n.x,u),l.upperBound.y=p(n.y,h))}else c.Push(Qt(f.child1)),c.Push(Qt(f.child2))}}}}},{key:"AllocateNode",value:function(){if(this.m_freeList){var e=this.m_freeList;return this.m_freeList=e.parent,e.parent=null,e.child1=null,e.child2=null,e.height=0,delete e.userData,e}return new kt(t.s_node_id++)}},{key:"FreeNode",value:function(t){t.parent=this.m_freeList,t.child1=null,t.child2=null,t.height=-1,delete t.userData,this.m_freeList=t}},{key:"CreateProxy",value:function(t,e){var i=this.AllocateNode();return i.aabb.lowerBound.x=t.lowerBound.x-.1,i.aabb.lowerBound.y=t.lowerBound.y-.1,i.aabb.upperBound.x=t.upperBound.x+.1,i.aabb.upperBound.y=t.upperBound.y+.1,i.userData=e,i.height=0,this.InsertLeaf(i),i}},{key:"DestroyProxy",value:function(t){this.RemoveLeaf(t),this.FreeNode(t)}},{key:"MoveProxy",value:function(t,e,i){if(t.aabb.Contains(e))return!1;this.RemoveLeaf(t);var n=.1+2*(i.x>0?i.x:-i.x),r=.1+2*(i.y>0?i.y:-i.y);return t.aabb.lowerBound.x=e.lowerBound.x-n,t.aabb.lowerBound.y=e.lowerBound.y-r,t.aabb.upperBound.x=e.upperBound.x+n,t.aabb.upperBound.y=e.upperBound.y+r,this.InsertLeaf(t),!0}},{key:"InsertLeaf",value:function(e){if(++this.m_insertionCount,null===this.m_root)return this.m_root=e,void(this.m_root.parent=null);for(var i=e.aabb,n=this.m_root;!n.IsLeaf();){var r=Qt(n.child1),s=Qt(n.child2),o=n.aabb.GetPerimeter(),a=t.s_combinedAABB;a.Combine2(n.aabb,i);var A=a.GetPerimeter(),l=2*A,u=2*(A-o),h=void 0,c=t.s_aabb,f=void 0,m=void 0;if(r.IsLeaf()?(c.Combine2(i,r.aabb),h=c.GetPerimeter()+u):(c.Combine2(i,r.aabb),f=r.aabb.GetPerimeter(),h=c.GetPerimeter()-f+u),s.IsLeaf()?(c.Combine2(i,s.aabb),m=c.GetPerimeter()+u):(c.Combine2(i,s.aabb),f=s.aabb.GetPerimeter(),m=c.GetPerimeter()-f+u),l<h&&l<m)break;n=h<m?r:s}var _=n,g=_.parent,d=this.AllocateNode();d.parent=g,delete d.userData,d.aabb.Combine2(i,_.aabb),d.height=_.height+1,g?(g.child1===_?g.child1=d:g.child2=d,d.child1=_,d.child2=e,_.parent=d,e.parent=d):(d.child1=_,d.child2=e,_.parent=d,e.parent=d,this.m_root=d);for(var y=e.parent;null!==y;){var C=Qt((y=this.Balance(y)).child1),v=Qt(y.child2);y.height=1+p(C.height,v.height),y.aabb.Combine2(C.aabb,v.aabb),y=y.parent}}},{key:"RemoveLeaf",value:function(t){if(t!==this.m_root){var e,i=Qt(t.parent),n=i&&i.parent;if(e=Qt(i.child1===t?i.child2:i.child1),n){n.child1===i?n.child1=e:n.child2=e,e.parent=n,this.FreeNode(i);for(var r=n;r;){var s=Qt((r=this.Balance(r)).child1),o=Qt(r.child2);r.aabb.Combine2(s.aabb,o.aabb),r.height=1+p(s.height,o.height),r=r.parent}}else this.m_root=e,e.parent=null,this.FreeNode(i)}else this.m_root=null}},{key:"Balance",value:function(t){if(t.IsLeaf()||t.height<2)return t;var e=Qt(t.child1),i=Qt(t.child2),n=i.height-e.height;if(n>1){var r=Qt(i.child1),s=Qt(i.child2);return i.child1=t,i.parent=t.parent,t.parent=i,null!==i.parent?i.parent.child1===t?i.parent.child1=i:i.parent.child2=i:this.m_root=i,r.height>s.height?(i.child2=r,t.child2=s,s.parent=t,t.aabb.Combine2(e.aabb,s.aabb),i.aabb.Combine2(t.aabb,r.aabb),t.height=1+p(e.height,s.height),i.height=1+p(t.height,r.height)):(i.child2=s,t.child2=r,r.parent=t,t.aabb.Combine2(e.aabb,r.aabb),i.aabb.Combine2(t.aabb,s.aabb),t.height=1+p(e.height,r.height),i.height=1+p(t.height,s.height)),i}if(n<-1){var o=Qt(e.child1),a=Qt(e.child2);return e.child1=t,e.parent=t.parent,t.parent=e,null!==e.parent?e.parent.child1===t?e.parent.child1=e:e.parent.child2=e:this.m_root=e,o.height>a.height?(e.child2=o,t.child1=a,a.parent=t,t.aabb.Combine2(i.aabb,a.aabb),e.aabb.Combine2(t.aabb,o.aabb),t.height=1+p(i.height,a.height),e.height=1+p(t.height,o.height)):(e.child2=a,t.child1=o,o.parent=t,t.aabb.Combine2(i.aabb,o.aabb),e.aabb.Combine2(t.aabb,a.aabb),t.height=1+p(i.height,o.height),e.height=1+p(t.height,a.height)),e}return t}},{key:"GetHeight",value:function(){return null===this.m_root?0:this.m_root.height}},{key:"GetAreaRatio",value:function(){if(null===this.m_root)return 0;var e=this.m_root.aabb.GetPerimeter();return t.GetAreaNode(this.m_root)/e}},{key:"ComputeHeightNode",value:function(t){if(!t||t.IsLeaf())return 0;var e=this.ComputeHeightNode(t.child1),i=this.ComputeHeightNode(t.child2);return 1+p(e,i)}},{key:"ComputeHeight",value:function(){return this.ComputeHeightNode(this.m_root)}},{key:"ValidateStructure",value:function(t){if(null!==t){var e=t;if(!e.IsLeaf()){var i=Qt(e.child1),n=Qt(e.child2);this.ValidateStructure(i),this.ValidateStructure(n)}}}},{key:"ValidateMetrics",value:function(e){if(null!==e){var i=e;if(!i.IsLeaf()){var n=Qt(i.child1),r=Qt(i.child2);t.s_aabb.Combine2(n.aabb,r.aabb),this.ValidateMetrics(n),this.ValidateMetrics(r)}}}},{key:"Validate",value:function(){}},{key:"GetMaxBalance",value:function(){return t.GetMaxBalanceNode(this.m_root,0)}},{key:"RebuildBottomUp",value:function(){this.Validate()}},{key:"ShiftOrigin",value:function(e){t.ShiftOriginNode(this.m_root,e)}}],[{key:"GetAreaNode",value:function(e){if(null===e)return 0;if(e.IsLeaf())return 0;var i=e.aabb.GetPerimeter();return(i+=t.GetAreaNode(e.child1))+t.GetAreaNode(e.child2)}},{key:"GetMaxBalanceNode",value:function(t,e){if(null===t)return e;if(t.height<=1)return e;var i=Qt(t.child1),n=Qt(t.child2),r=g(n.height-i.height);return p(e,r)}},{key:"ShiftOriginNode",value:function(e,i){if(null!==e&&!(e.height<=1)){var n=e.child2;t.ShiftOriginNode(e.child1,i),t.ShiftOriginNode(n,i),e.aabb.lowerBound.SelfSub(i),e.aabb.upperBound.SelfSub(i)}}}]),t}();Dt.s_r=new k,Dt.s_v=new k,Dt.s_abs_v=new k,Dt.s_segmentAABB=new It,Dt.s_subInput=new Ct,Dt.s_combinedAABB=new It,Dt.s_aabb=new It,Dt.s_node_id=0;var Mt=function t(e,i){_classCallCheck2(this,t),this.proxyA=e,this.proxyB=i},Rt=function(){function t(){_classCallCheck2(this,t),this.m_tree=new Dt,this.m_proxyCount=0,this.m_moveCount=0,this.m_moveBuffer=[],this.m_pairCount=0,this.m_pairBuffer=[]}return _createClass2(t,[{key:"CreateProxy",value:function(t,e){var i=this.m_tree.CreateProxy(t,e);return++this.m_proxyCount,this.BufferMove(i),i}},{key:"DestroyProxy",value:function(t){this.UnBufferMove(t),--this.m_proxyCount,this.m_tree.DestroyProxy(t)}},{key:"MoveProxy",value:function(t,e,i){this.m_tree.MoveProxy(t,e,i)&&this.BufferMove(t)}},{key:"TouchProxy",value:function(t){this.BufferMove(t)}},{key:"GetProxyCount",value:function(){return this.m_proxyCount}},{key:"UpdatePairs",value:function(t){var e=this;this.m_pairCount=0;for(var i=function(t){var i=e.m_moveBuffer[t];null!==i&&e.m_tree.Query(i.aabb,(function(t){if(t.m_id===i.m_id)return!0;var n,r;if(t.m_id<i.m_id?(n=t,r=i):(n=i,r=t),e.m_pairCount===e.m_pairBuffer.length)e.m_pairBuffer[e.m_pairCount]=new Mt(n,r);else{var s=e.m_pairBuffer[e.m_pairCount];s.proxyA=n,s.proxyB=r}return++e.m_pairCount,!0}))},n=0;n<this.m_moveCount;++n)i(n);this.m_moveCount=0,this.m_pairBuffer.length=this.m_pairCount,this.m_pairBuffer.sort(Vt);for(var r=0;r<this.m_pairCount;){var s=this.m_pairBuffer[r];for(t(s.proxyA.userData,s.proxyB.userData),++r;r<this.m_pairCount;){var o=this.m_pairBuffer[r];if(o.proxyA.m_id!==s.proxyA.m_id||o.proxyB.m_id!==s.proxyB.m_id)break;++r}}}},{key:"Query",value:function(t,e){this.m_tree.Query(t,e)}},{key:"QueryPoint",value:function(t,e){this.m_tree.QueryPoint(t,e)}},{key:"RayCast",value:function(t,e){this.m_tree.RayCast(t,e)}},{key:"GetTreeHeight",value:function(){return this.m_tree.GetHeight()}},{key:"GetTreeBalance",value:function(){return this.m_tree.GetMaxBalance()}},{key:"GetTreeQuality",value:function(){return this.m_tree.GetAreaRatio()}},{key:"ShiftOrigin",value:function(t){this.m_tree.ShiftOrigin(t)}},{key:"BufferMove",value:function(t){this.m_moveBuffer[this.m_moveCount]=t,++this.m_moveCount}},{key:"UnBufferMove",value:function(t){var e=this.m_moveBuffer.indexOf(t);this.m_moveBuffer[e]=null}}]),t}();function Vt(t,e){return t.proxyA.m_id===e.proxyA.m_id?t.proxyB.m_id-e.proxyB.m_id:t.proxyA.m_id-e.proxyA.m_id}t.b2_toiTime=0,t.b2_toiMaxTime=0,t.b2_toiCalls=0,t.b2_toiIters=0,t.b2_toiMaxIters=0,t.b2_toiRootIters=0,t.b2_toiMaxRootIters=0;var Tt,Gt,Ft=new G,Pt=new G,Nt=new k,Lt=new k,Ut=new k,Ot=new k,Yt=new k,Ht=function t(){_classCallCheck2(this,t),this.proxyA=new O,this.proxyB=new O,this.sweepA=new P,this.sweepB=new P,this.tMax=0};(Tt=t.b2TOIOutputState||(t.b2TOIOutputState={}))[Tt.e_unknown=0]="e_unknown",Tt[Tt.e_failed=1]="e_failed",Tt[Tt.e_overlapped=2]="e_overlapped",Tt[Tt.e_touching=3]="e_touching",Tt[Tt.e_separated=4]="e_separated";var Jt=function e(){_classCallCheck2(this,e),this.state=t.b2TOIOutputState.e_unknown,this.t=0};(Gt=t.b2SeparationFunctionType||(t.b2SeparationFunctionType={}))[Gt.e_unknown=-1]="e_unknown",Gt[Gt.e_points=0]="e_points",Gt[Gt.e_faceA=1]="e_faceA",Gt[Gt.e_faceB=2]="e_faceB";var jt=function(){function e(){_classCallCheck2(this,e),this.m_sweepA=new P,this.m_sweepB=new P,this.m_type=t.b2SeparationFunctionType.e_unknown,this.m_localPoint=new k,this.m_axis=new k}return _createClass2(e,[{key:"Initialize",value:function(e,i,n,r,s,o){this.m_proxyA=i,this.m_proxyB=r;var a=e.count;this.m_sweepA.Copy(n),this.m_sweepB.Copy(s);var A=Ft,l=Pt;if(this.m_sweepA.GetTransform(A,o),this.m_sweepB.GetTransform(l,o),1===a){this.m_type=t.b2SeparationFunctionType.e_points;var u=this.m_proxyA.GetVertex(e.indexA[0]),h=this.m_proxyB.GetVertex(e.indexB[0]),c=G.MulXV(A,u,Nt),f=G.MulXV(l,h,Lt);k.SubVV(f,c,this.m_axis);var m=this.m_axis.Normalize();return this.m_localPoint.SetZero(),m}if(e.indexA[0]===e.indexA[1]){this.m_type=t.b2SeparationFunctionType.e_faceB;var _=this.m_proxyB.GetVertex(e.indexB[0]),g=this.m_proxyB.GetVertex(e.indexB[1]);k.CrossVOne(k.SubVV(g,_,k.s_t0),this.m_axis).SelfNormalize();var d=T.MulRV(l.q,this.m_axis,Ut);k.MidVV(_,g,this.m_localPoint);var p=G.MulXV(l,this.m_localPoint,Lt),y=this.m_proxyA.GetVertex(e.indexA[0]),C=G.MulXV(A,y,Nt),v=k.DotVV(k.SubVV(C,p,k.s_t0),d);return v<0&&(this.m_axis.SelfNeg(),v=-v),v}this.m_type=t.b2SeparationFunctionType.e_faceA;var I=this.m_proxyA.GetVertex(e.indexA[0]),B=this.m_proxyA.GetVertex(e.indexA[1]);k.CrossVOne(k.SubVV(B,I,k.s_t0),this.m_axis).SelfNormalize();var E=T.MulRV(A.q,this.m_axis,Ut);k.MidVV(I,B,this.m_localPoint);var w=G.MulXV(A,this.m_localPoint,Nt),b=this.m_proxyB.GetVertex(e.indexB[0]),x=G.MulXV(l,b,Lt),S=k.DotVV(k.SubVV(x,w,k.s_t0),E);return S<0&&(this.m_axis.SelfNeg(),S=-S),S}},{key:"FindMinSeparation",value:function(e,i,n){var r=Ft,s=Pt;switch(this.m_sweepA.GetTransform(r,n),this.m_sweepB.GetTransform(s,n),this.m_type){case t.b2SeparationFunctionType.e_points:var o=T.MulTRV(r.q,this.m_axis,Ot),a=T.MulTRV(s.q,k.NegV(this.m_axis,k.s_t0),Yt);e[0]=this.m_proxyA.GetSupport(o),i[0]=this.m_proxyB.GetSupport(a);var A=this.m_proxyA.GetVertex(e[0]),l=this.m_proxyB.GetVertex(i[0]),u=G.MulXV(r,A,Nt),h=G.MulXV(s,l,Lt);return k.DotVV(k.SubVV(h,u,k.s_t0),this.m_axis);case t.b2SeparationFunctionType.e_faceA:var c=T.MulRV(r.q,this.m_axis,Ut),f=G.MulXV(r,this.m_localPoint,Nt),m=T.MulTRV(s.q,k.NegV(c,k.s_t0),Yt);e[0]=-1,i[0]=this.m_proxyB.GetSupport(m);var _=this.m_proxyB.GetVertex(i[0]),g=G.MulXV(s,_,Lt);return k.DotVV(k.SubVV(g,f,k.s_t0),c);case t.b2SeparationFunctionType.e_faceB:var d=T.MulRV(s.q,this.m_axis,Ut),p=G.MulXV(s,this.m_localPoint,Lt),y=T.MulTRV(r.q,k.NegV(d,k.s_t0),Ot);i[0]=-1,e[0]=this.m_proxyA.GetSupport(y);var C=this.m_proxyA.GetVertex(e[0]),v=G.MulXV(r,C,Nt);return k.DotVV(k.SubVV(v,p,k.s_t0),d);default:return e[0]=-1,i[0]=-1,0}}},{key:"Evaluate",value:function(e,i,n){var r=Ft,s=Pt;switch(this.m_sweepA.GetTransform(r,n),this.m_sweepB.GetTransform(s,n),this.m_type){case t.b2SeparationFunctionType.e_points:var o=this.m_proxyA.GetVertex(e),a=this.m_proxyB.GetVertex(i),A=G.MulXV(r,o,Nt),l=G.MulXV(s,a,Lt);return k.DotVV(k.SubVV(l,A,k.s_t0),this.m_axis);case t.b2SeparationFunctionType.e_faceA:var u=T.MulRV(r.q,this.m_axis,Ut),h=G.MulXV(r,this.m_localPoint,Nt),c=this.m_proxyB.GetVertex(i),f=G.MulXV(s,c,Lt);return k.DotVV(k.SubVV(f,h,k.s_t0),u);case t.b2SeparationFunctionType.e_faceB:var m=T.MulRV(s.q,this.m_axis,Ut),_=G.MulXV(s,this.m_localPoint,Lt),g=this.m_proxyA.GetVertex(e),d=G.MulXV(r,g,Nt);return k.DotVV(k.SubVV(d,_,k.s_t0),m);default:return 0}}}]),e}(),Kt=new L,qt=new Y,zt=new H,Xt=new J,Wt=new jt,Zt=[0],$t=[0],te=new P,ee=new P;function ie(e,i){var n=Kt.Reset();++t.b2_toiCalls,e.state=t.b2TOIOutputState.e_unknown,e.t=i.tMax;var r=i.proxyA,s=i.proxyB,o=p(a,r.m_count,s.m_count),l=te.Copy(i.sweepA),u=ee.Copy(i.sweepB);l.Normalize(),u.Normalize();var h=i.tMax,c=p(A,r.m_radius+s.m_radius-3*A),f=.25*A,m=0,_=0,d=qt;d.count=0;var y=zt;for(y.proxyA.Copy(i.proxyA),y.proxyB.Copy(i.proxyB),y.useRadii=!1;;){var C=Ft,v=Pt;l.GetTransform(C,m),u.GetTransform(v,m),y.transformA.Copy(C),y.transformB.Copy(v);var I=Xt;if(it(I,d,y),I.distance<=0){e.state=t.b2TOIOutputState.e_overlapped,e.t=0;break}if(I.distance<c+f){e.state=t.b2TOIOutputState.e_touching,e.t=m;break}var B=Wt;B.Initialize(d,r,l,s,u,m);for(var E=!1,w=h,b=0;;){var x=Zt,S=$t,Q=B.FindMinSeparation(x,S,w);if(Q>c+f){e.state=t.b2TOIOutputState.e_separated,e.t=h,E=!0;break}if(Q>c-f){m=w;break}var k=B.Evaluate(x[0],S[0],m);if(k<c-f){e.state=t.b2TOIOutputState.e_failed,e.t=m,E=!0;break}if(k<=c+f){e.state=t.b2TOIOutputState.e_touching,e.t=m,E=!0;break}for(var D=0,M=m,R=w;;){var V;V=1&D?M+(c-k)*(R-M)/(Q-k):.5*(M+R),++D,++t.b2_toiRootIters;var T=B.Evaluate(x[0],S[0],V);if(g(T-c)<f){w=V;break}if(T>c?(M=V,k=T):(R=V,Q=T),50===D)break}if(t.b2_toiMaxRootIters=p(t.b2_toiMaxRootIters,D),++b===o)break}if(++_,++t.b2_toiIters,E)break;if(20===_){e.state=t.b2TOIOutputState.e_failed,e.t=m;break}}t.b2_toiMaxIters=p(t.b2_toiMaxIters,_);var G=n.GetMilliseconds();t.b2_toiMaxTime=p(t.b2_toiMaxTime,G),t.b2_toiTime+=G}var ne=new k,re=new k;function se(e,i,n,r,s){e.pointCount=0;var o=G.MulXV(n,i.m_p,ne),a=G.MulXV(s,r.m_p,re),A=k.DistanceSquaredVV(o,a),l=i.m_radius+r.m_radius;A>l*l||(e.type=t.b2ManifoldType.e_circles,e.localPoint.Copy(i.m_p),e.localNormal.SetZero(),e.pointCount=1,e.points[0].localPoint.Copy(r.m_p),e.points[0].id.key=0)}var oe=new k,ae=new k,Ae=new k;function le(e,r,s,o,a){e.pointCount=0;for(var A=G.MulXV(a,o.m_p,oe),l=G.MulTXV(s,A,ae),u=0,h=-i,c=r.m_radius+o.m_radius,f=r.m_count,m=r.m_vertices,_=r.m_normals,g=0;g<f;++g){var d=k.DotVV(_[g],k.SubVV(l,m[g],k.s_t0));if(d>c)return;d>h&&(h=d,u=g)}var p=u,y=m[p],C=m[(p+1)%f];if(h<n)return e.pointCount=1,e.type=t.b2ManifoldType.e_faceA,e.localNormal.Copy(_[u]),k.MidVV(y,C,e.localPoint),e.points[0].localPoint.Copy(o.m_p),void(e.points[0].id.key=0);var v=k.DotVV(k.SubVV(l,y,k.s_t0),k.SubVV(C,y,k.s_t1)),I=k.DotVV(k.SubVV(l,C,k.s_t0),k.SubVV(y,C,k.s_t1));if(v<=0){if(k.DistanceSquaredVV(l,y)>c*c)return;e.pointCount=1,e.type=t.b2ManifoldType.e_faceA,k.SubVV(l,y,e.localNormal).SelfNormalize(),e.localPoint.Copy(y),e.points[0].localPoint.Copy(o.m_p),e.points[0].id.key=0}else if(I<=0){if(k.DistanceSquaredVV(l,C)>c*c)return;e.pointCount=1,e.type=t.b2ManifoldType.e_faceA,k.SubVV(l,C,e.localNormal).SelfNormalize(),e.localPoint.Copy(C),e.points[0].localPoint.Copy(o.m_p),e.points[0].id.key=0}else{var B=k.MidVV(y,C,Ae);if(k.DotVV(k.SubVV(l,B,k.s_t1),_[p])>c)return;e.pointCount=1,e.type=t.b2ManifoldType.e_faceA,e.localNormal.Copy(_[p]).SelfNormalize(),e.localPoint.Copy(B),e.points[0].localPoint.Copy(o.m_p),e.points[0].id.key=0}}var ue=new k,he=new k,ce=new k,fe=new k;function me(t,e,n,r,s){for(var o=t.m_vertices,a=r.m_count,A=r.m_vertices,l=T.MulRV(e.q,t.m_normals[n],ue),u=T.MulTRV(s.q,l,he),h=0,c=i,f=0;f<a;++f){var m=k.DotVV(A[f],u);m<c&&(c=m,h=f)}var _=G.MulXV(e,o[n],ce),g=G.MulXV(s,A[h],fe);return k.DotVV(k.SubVV(g,_,k.s_t0),l)}var _e=new k,ge=new k;function de(t,e,n,r,s){for(var o=e.m_count,a=e.m_normals,A=k.SubVV(G.MulXV(s,r.m_centroid,k.s_t0),G.MulXV(n,e.m_centroid,k.s_t1),_e),l=T.MulTRV(n.q,A,ge),u=0,h=-i,c=0;c<o;++c){var f=k.DotVV(a[c],l);f>h&&(h=f,u=c)}var m=me(e,n,u,r,s),_=(u+o-1)%o,g=me(e,n,_,r,s),d=(u+1)%o,p=me(e,n,d,r,s),y=0,C=0,v=0;if(g>m&&g>p)v=-1,y=_,C=g;else{if(!(p>m))return t[0]=u,m;v=1,y=d,C=p}for(;(m=me(e,n,u=-1===v?(y+o-1)%o:(y+1)%o,r,s))>C;)y=u,C=m;return t[0]=y,C}var pe=new k,ye=yt.MakeArray(2),Ce=yt.MakeArray(2),ve=yt.MakeArray(2),Ie=[0],Be=[0],Ee=new k,we=new k,be=new k,xe=new k,Se=new k,Qe=new k,ke=new k,De=new k;function Me(e,n,r,s,a){e.pointCount=0;var A=n.m_radius+s.m_radius,l=Ie;l[0]=0;var u=de(l,n,r,s,a);if(!(u>A)){var h=Be;h[0]=0;var c=de(h,s,a,n,r);if(!(c>A)){var f,m,_,g,d=0,p=0;c>.98*u+.001?(f=s,m=n,_=a,g=r,d=h[0],e.type=t.b2ManifoldType.e_faceB,p=1):(f=n,m=s,_=r,g=a,d=l[0],e.type=t.b2ManifoldType.e_faceA,p=0);var y=ye;!function(e,n,r,s,o,a){for(var A=o.m_count,l=o.m_vertices,u=o.m_normals,h=T.MulTRV(a.q,T.MulRV(r.q,n.m_normals[s],k.s_t0),pe),c=0,f=i,m=0;m<A;++m){var _=k.DotVV(h,u[m]);_<f&&(f=_,c=m)}var g=c,d=(g+1)%A,p=e[0];G.MulXV(a,l[g],p.v);var y=p.id.cf;y.indexA=s,y.indexB=g,y.typeA=t.b2ContactFeatureType.e_face,y.typeB=t.b2ContactFeatureType.e_vertex;var C=e[1];G.MulXV(a,l[d],C.v);var v=C.id.cf;v.indexA=s,v.indexB=d,v.typeA=t.b2ContactFeatureType.e_face,v.typeB=t.b2ContactFeatureType.e_vertex}(y,f,_,d,m,g);var C=f.m_vertices,v=d,I=(d+1)%f.m_count,B=C[v],E=C[I],w=k.SubVV(E,B,Ee);w.Normalize();var b=k.CrossVOne(w,we),x=k.MidVV(B,E,be),S=T.MulRV(_.q,w,Se),Q=k.CrossVOne(S,xe),D=G.MulXV(_,B,ke),M=G.MulXV(_,E,De),R=k.DotVV(Q,D),V=-k.DotVV(S,D)+A,F=k.DotVV(S,M)+A,P=Ce,N=ve;if(!(Et(P,y,k.NegV(S,Qe),V,v)<2||Et(N,P,S,F,I)<2)){e.localNormal.Copy(b),e.localPoint.Copy(x);for(var L=0,U=0;U<o;++U){var O=N[U];if(k.DotVV(Q,O.v)-R<=A){var Y=e.points[L];if(G.MulTXV(g,O.v,Y.localPoint),Y.id.Copy(O.id),p){var H=Y.id.cf;Y.id.cf.indexA=H.indexB,Y.id.cf.indexB=H.indexA,Y.id.cf.typeA=H.typeB,Y.id.cf.typeB=H.typeA}++L}}e.pointCount=L}}}}var Re,Ve,Te=new k,Ge=new k,Fe=new k,Pe=new k,Ne=new k,Le=new k,Ue=new k,Oe=new _t;function Ye(e,i,n,r,s){e.pointCount=0;var o=G.MulTXV(n,G.MulXV(s,r.m_p,k.s_t0),Te),a=i.m_vertex1,A=i.m_vertex2,l=k.SubVV(A,a,Ge),u=k.DotVV(l,k.SubVV(A,o,k.s_t0)),h=k.DotVV(l,k.SubVV(o,a,k.s_t0)),c=i.m_radius+r.m_radius,f=Oe;if(f.cf.indexB=0,f.cf.typeB=t.b2ContactFeatureType.e_vertex,h<=0){var m=a,_=k.SubVV(o,m,Fe);if(k.DotVV(_,_)>c*c)return;if(i.m_hasVertex0){var g=a,d=k.SubVV(g,i.m_vertex0,Pe);if(k.DotVV(d,k.SubVV(g,o,k.s_t0))>0)return}return f.cf.indexA=0,f.cf.typeA=t.b2ContactFeatureType.e_vertex,e.pointCount=1,e.type=t.b2ManifoldType.e_circles,e.localNormal.SetZero(),e.localPoint.Copy(m),e.points[0].id.Copy(f),void e.points[0].localPoint.Copy(r.m_p)}if(u<=0){var p=A,y=k.SubVV(o,p,Fe);if(k.DotVV(y,y)>c*c)return;if(i.m_hasVertex3){var C=A,v=k.SubVV(i.m_vertex3,C,Ne);if(k.DotVV(v,k.SubVV(o,C,k.s_t0))>0)return}return f.cf.indexA=1,f.cf.typeA=t.b2ContactFeatureType.e_vertex,e.pointCount=1,e.type=t.b2ManifoldType.e_circles,e.localNormal.SetZero(),e.localPoint.Copy(p),e.points[0].id.Copy(f),void e.points[0].localPoint.Copy(r.m_p)}var I=k.DotVV(l,l),B=Le;B.x=1/I*(u*a.x+h*A.x),B.y=1/I*(u*a.y+h*A.y);var E=k.SubVV(o,B,Fe);if(!(k.DotVV(E,E)>c*c)){var w=Ue.Set(-l.y,l.x);k.DotVV(w,k.SubVV(o,a,k.s_t0))<0&&w.Set(-w.x,-w.y),w.Normalize(),f.cf.indexA=0,f.cf.typeA=t.b2ContactFeatureType.e_face,e.pointCount=1,e.type=t.b2ManifoldType.e_faceA,e.localNormal.Copy(w),e.localPoint.Copy(a),e.points[0].id.Copy(f),e.points[0].localPoint.Copy(r.m_p)}}!function(t){t[t.e_unknown=0]="e_unknown",t[t.e_edgeA=1]="e_edgeA",t[t.e_edgeB=2]="e_edgeB"}(Re||(Re={}));var He=function t(){_classCallCheck2(this,t),this.type=Re.e_unknown,this.index=0,this.separation=0},Je=function t(){_classCallCheck2(this,t),this.vertices=[],this.normals=[],this.count=0};!function(t){t[t.e_isolated=0]="e_isolated",t[t.e_concave=1]="e_concave",t[t.e_convex=2]="e_convex"}(Ve||(Ve={}));var je=function(){function e(){_classCallCheck2(this,e),this.m_polygonB=new Je,this.m_xf=new G,this.m_centroidB=new k,this.m_v0=new k,this.m_v1=new k,this.m_v2=new k,this.m_v3=new k,this.m_normal0=new k,this.m_normal1=new k,this.m_normal2=new k,this.m_normal=new k,this.m_type1=Ve.e_isolated,this.m_type2=Ve.e_isolated,this.m_lowerLimit=new k,this.m_upperLimit=new k,this.m_radius=0,this.m_front=!1}return _createClass2(e,[{key:"Collide",value:function(i,n,r,s,a){G.MulTXX(r,a,this.m_xf),G.MulXV(this.m_xf,s.m_centroid,this.m_centroidB),this.m_v0.Copy(n.m_vertex0),this.m_v1.Copy(n.m_vertex1),this.m_v2.Copy(n.m_vertex2),this.m_v3.Copy(n.m_vertex3);var A=n.m_hasVertex0,l=n.m_hasVertex3,u=k.SubVV(this.m_v2,this.m_v1,e.s_edge1);u.Normalize(),this.m_normal1.Set(u.y,-u.x);var h=k.DotVV(this.m_normal1,k.SubVV(this.m_centroidB,this.m_v1,k.s_t0)),c=0,f=0,m=!1,_=!1;if(A){var g=k.SubVV(this.m_v1,this.m_v0,e.s_edge0);g.Normalize(),this.m_normal0.Set(g.y,-g.x),m=k.CrossVV(g,u)>=0,c=k.DotVV(this.m_normal0,k.SubVV(this.m_centroidB,this.m_v0,k.s_t0))}if(l){var d=k.SubVV(this.m_v3,this.m_v2,e.s_edge2);d.Normalize(),this.m_normal2.Set(d.y,-d.x),_=k.CrossVV(u,d)>0,f=k.DotVV(this.m_normal2,k.SubVV(this.m_centroidB,this.m_v2,k.s_t0))}A&&l?m&&_?(this.m_front=c>=0||h>=0||f>=0,this.m_front?(this.m_normal.Copy(this.m_normal1),this.m_lowerLimit.Copy(this.m_normal0),this.m_upperLimit.Copy(this.m_normal2)):(this.m_normal.Copy(this.m_normal1).SelfNeg(),this.m_lowerLimit.Copy(this.m_normal1).SelfNeg(),this.m_upperLimit.Copy(this.m_normal1).SelfNeg())):m?(this.m_front=c>=0||h>=0&&f>=0,this.m_front?(this.m_normal.Copy(this.m_normal1),this.m_lowerLimit.Copy(this.m_normal0),this.m_upperLimit.Copy(this.m_normal1)):(this.m_normal.Copy(this.m_normal1).SelfNeg(),this.m_lowerLimit.Copy(this.m_normal2).SelfNeg(),this.m_upperLimit.Copy(this.m_normal1).SelfNeg())):_?(this.m_front=f>=0||c>=0&&h>=0,this.m_front?(this.m_normal.Copy(this.m_normal1),this.m_lowerLimit.Copy(this.m_normal1),this.m_upperLimit.Copy(this.m_normal2)):(this.m_normal.Copy(this.m_normal1).SelfNeg(),this.m_lowerLimit.Copy(this.m_normal1).SelfNeg(),this.m_upperLimit.Copy(this.m_normal0).SelfNeg())):(this.m_front=c>=0&&h>=0&&f>=0,this.m_front?(this.m_normal.Copy(this.m_normal1),this.m_lowerLimit.Copy(this.m_normal1),this.m_upperLimit.Copy(this.m_normal1)):(this.m_normal.Copy(this.m_normal1).SelfNeg(),this.m_lowerLimit.Copy(this.m_normal2).SelfNeg(),this.m_upperLimit.Copy(this.m_normal0).SelfNeg())):A?m?(this.m_front=c>=0||h>=0,this.m_front?(this.m_normal.Copy(this.m_normal1),this.m_lowerLimit.Copy(this.m_normal0),this.m_upperLimit.Copy(this.m_normal1).SelfNeg()):(this.m_normal.Copy(this.m_normal1).SelfNeg(),this.m_lowerLimit.Copy(this.m_normal1),this.m_upperLimit.Copy(this.m_normal1).SelfNeg())):(this.m_front=c>=0&&h>=0,this.m_front?(this.m_normal.Copy(this.m_normal1),this.m_lowerLimit.Copy(this.m_normal1),this.m_upperLimit.Copy(this.m_normal1).SelfNeg()):(this.m_normal.Copy(this.m_normal1).SelfNeg(),this.m_lowerLimit.Copy(this.m_normal1),this.m_upperLimit.Copy(this.m_normal0).SelfNeg())):l?_?(this.m_front=h>=0||f>=0,this.m_front?(this.m_normal.Copy(this.m_normal1),this.m_lowerLimit.Copy(this.m_normal1).SelfNeg(),this.m_upperLimit.Copy(this.m_normal2)):(this.m_normal.Copy(this.m_normal1).SelfNeg(),this.m_lowerLimit.Copy(this.m_normal1).SelfNeg(),this.m_upperLimit.Copy(this.m_normal1))):(this.m_front=h>=0&&f>=0,this.m_front?(this.m_normal.Copy(this.m_normal1),this.m_lowerLimit.Copy(this.m_normal1).SelfNeg(),this.m_upperLimit.Copy(this.m_normal1)):(this.m_normal.Copy(this.m_normal1).SelfNeg(),this.m_lowerLimit.Copy(this.m_normal2).SelfNeg(),this.m_upperLimit.Copy(this.m_normal1))):(this.m_front=h>=0,this.m_front?(this.m_normal.Copy(this.m_normal1),this.m_lowerLimit.Copy(this.m_normal1).SelfNeg(),this.m_upperLimit.Copy(this.m_normal1).SelfNeg()):(this.m_normal.Copy(this.m_normal1).SelfNeg(),this.m_lowerLimit.Copy(this.m_normal1),this.m_upperLimit.Copy(this.m_normal1))),this.m_polygonB.count=s.m_count;for(var p=0;p<s.m_count;++p)this.m_polygonB.vertices.length<=p&&this.m_polygonB.vertices.push(new k),this.m_polygonB.normals.length<=p&&this.m_polygonB.normals.push(new k),G.MulXV(this.m_xf,s.m_vertices[p],this.m_polygonB.vertices[p]),T.MulRV(this.m_xf.q,s.m_normals[p],this.m_polygonB.normals[p]);this.m_radius=s.m_radius+n.m_radius,i.pointCount=0;var y=this.ComputeEdgeSeparation(e.s_edgeAxis);if(y.type!==Re.e_unknown&&!(y.separation>this.m_radius)){var C=this.ComputePolygonSeparation(e.s_polygonAxis);if(!(C.type!==Re.e_unknown&&C.separation>this.m_radius)){var v,I=e.s_ie,B=e.s_rf;if((v=C.type===Re.e_unknown?y:C.separation>.98*y.separation+.001?C:y).type===Re.e_edgeA){i.type=t.b2ManifoldType.e_faceA;for(var E=0,w=k.DotVV(this.m_normal,this.m_polygonB.normals[0]),b=1;b<this.m_polygonB.count;++b){var x=k.DotVV(this.m_normal,this.m_polygonB.normals[b]);x<w&&(w=x,E=b)}var S=E,Q=(S+1)%this.m_polygonB.count,D=I[0];D.v.Copy(this.m_polygonB.vertices[S]),D.id.cf.indexA=0,D.id.cf.indexB=S,D.id.cf.typeA=t.b2ContactFeatureType.e_face,D.id.cf.typeB=t.b2ContactFeatureType.e_vertex;var M=I[1];M.v.Copy(this.m_polygonB.vertices[Q]),M.id.cf.indexA=0,M.id.cf.indexB=Q,M.id.cf.typeA=t.b2ContactFeatureType.e_face,M.id.cf.typeB=t.b2ContactFeatureType.e_vertex,this.m_front?(B.i1=0,B.i2=1,B.v1.Copy(this.m_v1),B.v2.Copy(this.m_v2),B.normal.Copy(this.m_normal1)):(B.i1=1,B.i2=0,B.v1.Copy(this.m_v2),B.v2.Copy(this.m_v1),B.normal.Copy(this.m_normal1).SelfNeg())}else{i.type=t.b2ManifoldType.e_faceB;var R=I[0];R.v.Copy(this.m_v1),R.id.cf.indexA=0,R.id.cf.indexB=v.index,R.id.cf.typeA=t.b2ContactFeatureType.e_vertex,R.id.cf.typeB=t.b2ContactFeatureType.e_face;var V=I[1];V.v.Copy(this.m_v2),V.id.cf.indexA=0,V.id.cf.indexB=v.index,V.id.cf.typeA=t.b2ContactFeatureType.e_vertex,V.id.cf.typeB=t.b2ContactFeatureType.e_face,B.i1=v.index,B.i2=(B.i1+1)%this.m_polygonB.count,B.v1.Copy(this.m_polygonB.vertices[B.i1]),B.v2.Copy(this.m_polygonB.vertices[B.i2]),B.normal.Copy(this.m_polygonB.normals[B.i1])}B.sideNormal1.Set(B.normal.y,-B.normal.x),B.sideNormal2.Copy(B.sideNormal1).SelfNeg(),B.sideOffset1=k.DotVV(B.sideNormal1,B.v1),B.sideOffset2=k.DotVV(B.sideNormal2,B.v2);var F=e.s_clipPoints1,P=e.s_clipPoints2;if(!(Et(F,I,B.sideNormal1,B.sideOffset1,B.i1)<o||Et(P,F,B.sideNormal2,B.sideOffset2,B.i2)<o)){v.type===Re.e_edgeA?(i.localNormal.Copy(B.normal),i.localPoint.Copy(B.v1)):(i.localNormal.Copy(s.m_normals[B.i1]),i.localPoint.Copy(s.m_vertices[B.i1]));for(var N=0,L=0;L<o;++L){if(k.DotVV(B.normal,k.SubVV(P[L].v,B.v1,k.s_t0))<=this.m_radius){var U=i.points[N];v.type===Re.e_edgeA?(G.MulTXV(this.m_xf,P[L].v,U.localPoint),U.id=P[L].id):(U.localPoint.Copy(P[L].v),U.id.cf.typeA=P[L].id.cf.typeB,U.id.cf.typeB=P[L].id.cf.typeA,U.id.cf.indexA=P[L].id.cf.indexB,U.id.cf.indexB=P[L].id.cf.indexA),++N}}i.pointCount=N}}}}},{key:"ComputeEdgeSeparation",value:function(t){var e=t;e.type=Re.e_edgeA,e.index=this.m_front?0:1,e.separation=i;for(var n=0;n<this.m_polygonB.count;++n){var r=k.DotVV(this.m_normal,k.SubVV(this.m_polygonB.vertices[n],this.m_v1,k.s_t0));r<e.separation&&(e.separation=r)}return e}},{key:"ComputePolygonSeparation",value:function(t){var n=t;n.type=Re.e_unknown,n.index=-1,n.separation=-i;for(var r=e.s_perp.Set(-this.m_normal.y,this.m_normal.x),s=0;s<this.m_polygonB.count;++s){var o=k.NegV(this.m_polygonB.normals[s],e.s_n),a=k.DotVV(o,k.SubVV(this.m_polygonB.vertices[s],this.m_v1,k.s_t0)),A=k.DotVV(o,k.SubVV(this.m_polygonB.vertices[s],this.m_v2,k.s_t0)),u=d(a,A);if(u>this.m_radius)return n.type=Re.e_edgeB,n.index=s,n.separation=u,n;if(k.DotVV(o,r)>=0){if(k.DotVV(k.SubVV(o,this.m_upperLimit,k.s_t0),this.m_normal)<-l)continue}else if(k.DotVV(k.SubVV(o,this.m_lowerLimit,k.s_t0),this.m_normal)<-l)continue;u>n.separation&&(n.type=Re.e_edgeB,n.index=s,n.separation=u)}return n}}]),e}();je.s_edge1=new k,je.s_edge0=new k,je.s_edge2=new k,je.s_ie=yt.MakeArray(2),je.s_rf=new(function(){return function t(){_classCallCheck2(this,t),this.i1=0,this.i2=0,this.v1=new k,this.v2=new k,this.normal=new k,this.sideNormal1=new k,this.sideOffset1=0,this.sideNormal2=new k,this.sideOffset2=0}}()),je.s_clipPoints1=yt.MakeArray(2),je.s_clipPoints2=yt.MakeArray(2),je.s_edgeAxis=new He,je.s_polygonAxis=new He,je.s_n=new k,je.s_perp=new k;var Ke=new je;function qe(t,e,i,n,r){Ke.Collide(t,e,i,n,r)}var ze,Xe,We,Ze,$e=function t(){_classCallCheck2(this,t),this.mass=0,this.center=new k(0,0),this.I=0};(ze=t.b2ShapeType||(t.b2ShapeType={}))[ze.e_unknown=-1]="e_unknown",ze[ze.e_circleShape=0]="e_circleShape",ze[ze.e_edgeShape=1]="e_edgeShape",ze[ze.e_polygonShape=2]="e_polygonShape",ze[ze.e_chainShape=3]="e_chainShape",ze[ze.e_shapeTypeCount=4]="e_shapeTypeCount";var ti=function(){function e(i,n){_classCallCheck2(this,e),this.m_type=t.b2ShapeType.e_unknown,this.m_radius=0,this.m_type=i,this.m_radius=n}return _createClass2(e,[{key:"Copy",value:function(t){return this.m_radius=t.m_radius,this}},{key:"GetType",value:function(){return this.m_type}}]),e}(),ei=function(e){function i(){var e,n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0;return _classCallCheck2(this,i),(e=_possibleConstructorReturn(this,_getPrototypeOf(i).call(this,t.b2ShapeType.e_circleShape,n))).m_p=new k,e}return _inherits(i,e),_createClass2(i,[{key:"Set",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.m_radius;return this.m_p.Copy(t),this.m_radius=e,this}},{key:"Clone",value:function(){return(new i).Copy(this)}},{key:"Copy",value:function(t){return _get(_getPrototypeOf(i.prototype),"Copy",this).call(this,t),this.m_p.Copy(t.m_p),this}},{key:"GetChildCount",value:function(){return 1}},{key:"TestPoint",value:function(t,e){var n=G.MulXV(t,this.m_p,i.TestPoint_s_center),r=k.SubVV(e,n,i.TestPoint_s_d);return k.DotVV(r,r)<=v(this.m_radius)}},{key:"ComputeDistance",value:function(t,e,n,r){var s=G.MulXV(t,this.m_p,i.ComputeDistance_s_center);return k.SubVV(e,s,n),n.Normalize()-this.m_radius}},{key:"RayCast",value:function(t,e,r,s){var o=G.MulXV(r,this.m_p,i.RayCast_s_position),a=k.SubVV(e.p1,o,i.RayCast_s_s),A=k.DotVV(a,a)-v(this.m_radius),l=k.SubVV(e.p2,e.p1,i.RayCast_s_r),u=k.DotVV(a,l),h=k.DotVV(l,l),c=u*u-h*A;if(c<0||h<n)return!1;var f=-(u+B(c));return 0<=f&&f<=e.maxFraction*h&&(t.fraction=f/=h,k.AddVMulSV(a,f,l,t.normal).SelfNormalize(),!0)}},{key:"ComputeAABB",value:function(t,e,n){var r=G.MulXV(e,this.m_p,i.ComputeAABB_s_p);t.lowerBound.Set(r.x-this.m_radius,r.y-this.m_radius),t.upperBound.Set(r.x+this.m_radius,r.y+this.m_radius)}},{key:"ComputeMass",value:function(t,e){var i=v(this.m_radius);t.mass=e*s*i,t.center.Copy(this.m_p),t.I=t.mass*(.5*i+k.DotVV(this.m_p,this.m_p))}},{key:"SetupDistanceProxy",value:function(t,e){t.m_vertices=t.m_buffer,t.m_vertices[0].Copy(this.m_p),t.m_count=1,t.m_radius=this.m_radius}},{key:"ComputeSubmergedArea",value:function(t,e,i,r){var o=G.MulXV(i,this.m_p,new k),a=-(k.DotVV(t,o)-e);if(a<-this.m_radius+n)return 0;if(a>this.m_radius)return r.Copy(o),s*this.m_radius*this.m_radius;var A=this.m_radius*this.m_radius,l=a*a,u=A*(S(a/this.m_radius)+s/2)+a*B(A-l),h=-2/3*E(A-l,1.5)/u;return r.x=o.x+t.x*h,r.y=o.y+t.y*h,u}},{key:"Dump",value:function(t){t("    const shape: b2CircleShape = new b2CircleShape();\n"),t("    shape.m_radius = %.15f;\n",this.m_radius),t("    shape.m_p.Set(%.15f, %.15f);\n",this.m_p.x,this.m_p.y)}}]),i}(ti);ei.TestPoint_s_center=new k,ei.TestPoint_s_d=new k,ei.ComputeDistance_s_center=new k,ei.RayCast_s_position=new k,ei.RayCast_s_s=new k,ei.RayCast_s_r=new k,ei.ComputeAABB_s_p=new k;var ii=function(e){function r(){var e;return _classCallCheck2(this,r),(e=_possibleConstructorReturn(this,_getPrototypeOf(r).call(this,t.b2ShapeType.e_polygonShape,u))).m_centroid=new k(0,0),e.m_vertices=[],e.m_normals=[],e.m_count=0,e}return _inherits(r,e),_createClass2(r,[{key:"Clone",value:function(){return(new r).Copy(this)}},{key:"Copy",value:function(t){_get(_getPrototypeOf(r.prototype),"Copy",this).call(this,t),this.m_centroid.Copy(t.m_centroid),this.m_count=t.m_count,this.m_vertices=k.MakeArray(this.m_count),this.m_normals=k.MakeArray(this.m_count);for(var e=0;e<this.m_count;++e)this.m_vertices[e].Copy(t.m_vertices[e]),this.m_normals[e].Copy(t.m_normals[e]);return this}},{key:"GetChildCount",value:function(){return 1}},{key:"Set",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:t.length,i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;if(e<3)return this.SetAsBox(1,1);for(var n=e,s=[],o=0;o<n;++o){for(var a=t[i+o],l=!0,u=0;u<s.length;++u)if(k.DistanceSquaredVV(a,s[u])<.5*A*(.5*A)){l=!1;break}l&&s.push(a)}if((n=s.length)<3)return this.SetAsBox(1,1);for(var h=0,c=s[0].x,f=1;f<n;++f){var m=s[f].x;(m>c||m===c&&s[f].y<s[h].y)&&(h=f,c=m)}for(var _=[],g=0,d=h;;){_[g]=d;for(var p=0,y=1;y<n;++y)if(p!==d){var C=k.SubVV(s[p],s[_[g]],r.Set_s_r),v=k.SubVV(s[y],s[_[g]],r.Set_s_v),I=k.CrossVV(C,v);I<0&&(p=y),0===I&&v.LengthSquared()>C.LengthSquared()&&(p=y)}else p=y;if(++g,d=p,p===h)break}this.m_count=g,this.m_vertices=k.MakeArray(this.m_count),this.m_normals=k.MakeArray(this.m_count);for(var B=0;B<g;++B)this.m_vertices[B].Copy(s[_[B]]);for(var E=0;E<g;++E){var w=k.SubVV(this.m_vertices[(E+1)%g],this.m_vertices[E],k.s_t0);k.CrossVOne(w,this.m_normals[E]).SelfNormalize()}return r.ComputeCentroid(this.m_vertices,g,this.m_centroid),this}},{key:"SetAsArray",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:t.length;return this.Set(t,e)}},{key:"SetAsBox",value:function(t,e,i){var n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:0;if(this.m_count=4,this.m_vertices=k.MakeArray(this.m_count),this.m_normals=k.MakeArray(this.m_count),this.m_vertices[0].Set(-t,-e),this.m_vertices[1].Set(t,-e),this.m_vertices[2].Set(t,e),this.m_vertices[3].Set(-t,e),this.m_normals[0].Set(0,-1),this.m_normals[1].Set(1,0),this.m_normals[2].Set(0,1),this.m_normals[3].Set(-1,0),this.m_centroid.SetZero(),i){this.m_centroid.Copy(i);var r=new G;r.SetPosition(i),r.SetRotationAngle(n);for(var s=0;s<this.m_count;++s)G.MulXV(r,this.m_vertices[s],this.m_vertices[s]),T.MulRV(r.q,this.m_normals[s],this.m_normals[s])}return this}},{key:"TestPoint",value:function(t,e){for(var i=G.MulTXV(t,e,r.TestPoint_s_pLocal),n=0;n<this.m_count;++n)if(k.DotVV(this.m_normals[n],k.SubVV(i,this.m_vertices[n],k.s_t0))>0)return!1;return!0}},{key:"ComputeDistance",value:function(t,e,n,s){for(var o=G.MulTXV(t,e,r.ComputeDistance_s_pLocal),a=-i,A=r.ComputeDistance_s_normalForMaxDistance.Copy(o),l=0;l<this.m_count;++l){var u=k.DotVV(this.m_normals[l],k.SubVV(o,this.m_vertices[l],k.s_t0));u>a&&(a=u,A.Copy(this.m_normals[l]))}if(a>0){for(var h=r.ComputeDistance_s_minDistance.Copy(A),c=a*a,f=0;f<this.m_count;++f){var m=k.SubVV(o,this.m_vertices[f],r.ComputeDistance_s_distance),_=m.LengthSquared();c>_&&(h.Copy(m),c=_)}return T.MulRV(t.q,h,n),n.Normalize(),Math.sqrt(c)}return T.MulRV(t.q,A,n),a}},{key:"RayCast",value:function(t,e,i,n){for(var s=G.MulTXV(i,e.p1,r.RayCast_s_p1),o=G.MulTXV(i,e.p2,r.RayCast_s_p2),a=k.SubVV(o,s,r.RayCast_s_d),A=0,l=e.maxFraction,u=-1,h=0;h<this.m_count;++h){var c=k.DotVV(this.m_normals[h],k.SubVV(this.m_vertices[h],s,k.s_t0)),f=k.DotVV(this.m_normals[h],a);if(0===f){if(c<0)return!1}else f<0&&c<A*f?(A=c/f,u=h):f>0&&c<l*f&&(l=c/f);if(l<A)return!1}return u>=0&&(t.fraction=A,T.MulRV(i.q,this.m_normals[u],t.normal),!0)}},{key:"ComputeAABB",value:function(t,e,i){for(var n=G.MulXV(e,this.m_vertices[0],t.lowerBound),s=t.upperBound.Copy(n),o=0;o<this.m_count;++o){var a=G.MulXV(e,this.m_vertices[o],r.ComputeAABB_s_v);k.MinV(a,n,n),k.MaxV(a,s,s)}var A=this.m_radius;n.SelfSubXY(A,A),s.SelfAddXY(A,A)}},{key:"ComputeMass",value:function(t,e){for(var i=r.ComputeMass_s_center.SetZero(),n=0,s=0,o=r.ComputeMass_s_s.SetZero(),a=0;a<this.m_count;++a)o.SelfAdd(this.m_vertices[a]);o.SelfMul(1/this.m_count);for(var A=0;A<this.m_count;++A){var l=k.SubVV(this.m_vertices[A],o,r.ComputeMass_s_e1),u=k.SubVV(this.m_vertices[(A+1)%this.m_count],o,r.ComputeMass_s_e2),h=k.CrossVV(l,u),c=.5*h;n+=c,i.SelfAdd(k.MulSV(c*(1/3),k.AddVV(l,u,k.s_t0),k.s_t1));var f=l.x,m=l.y,_=u.x,g=u.y;s+=1/3*.25*h*(f*f+_*f+_*_+(m*m+g*m+g*g))}t.mass=e*n,i.SelfMul(1/n),k.AddVV(i,o,t.center),t.I=e*s,t.I+=t.mass*(k.DotVV(t.center,t.center)-k.DotVV(i,i))}},{key:"Validate",value:function(){for(var t=0;t<this.m_count;++t)for(var e=t,i=(t+1)%this.m_count,n=this.m_vertices[e],s=k.SubVV(this.m_vertices[i],n,r.Validate_s_e),o=0;o<this.m_count;++o)if(o!==e&&o!==i){var a=k.SubVV(this.m_vertices[o],n,r.Validate_s_v);if(k.CrossVV(s,a)<0)return!1}return!0}},{key:"SetupDistanceProxy",value:function(t,e){t.m_vertices=this.m_vertices,t.m_count=this.m_count,t.m_radius=this.m_radius}},{key:"ComputeSubmergedArea",value:function(t,e,i,s){for(var o=T.MulTRV(i.q,t,r.ComputeSubmergedArea_s_normalL),a=e-k.DotVV(t,i.p),A=[],l=0,u=-1,h=-1,c=!1,f=0;f<this.m_count;++f){A[f]=k.DotVV(o,this.m_vertices[f])-a;var m=A[f]<-n;f>0&&(m?c||(u=f-1,l++):c&&(h=f-1,l++)),c=m}switch(l){case 0:if(c){var _=r.ComputeSubmergedArea_s_md;return this.ComputeMass(_,1),G.MulXV(i,_.center,s),_.mass}return 0;case 1:-1===u?u=this.m_count-1:h=this.m_count-1}for(var g,d=(u+1)%this.m_count,p=(h+1)%this.m_count,y=(0-A[u])/(A[d]-A[u]),C=(0-A[h])/(A[p]-A[h]),v=r.ComputeSubmergedArea_s_intoVec.Set(this.m_vertices[u].x*(1-y)+this.m_vertices[d].x*y,this.m_vertices[u].y*(1-y)+this.m_vertices[d].y*y),I=r.ComputeSubmergedArea_s_outoVec.Set(this.m_vertices[h].x*(1-C)+this.m_vertices[p].x*C,this.m_vertices[h].y*(1-C)+this.m_vertices[p].y*C),B=0,E=r.ComputeSubmergedArea_s_center.SetZero(),w=this.m_vertices[d],b=d;b!==p;){var x=.5*((w.x-v.x)*((g=(b=(b+1)%this.m_count)===p?I:this.m_vertices[b]).y-v.y)-(w.y-v.y)*(g.x-v.x));B+=x,E.x+=x*(v.x+w.x+g.x)/3,E.y+=x*(v.y+w.y+g.y)/3,w=g}return E.SelfMul(1/B),G.MulXV(i,E,s),B}},{key:"Dump",value:function(t){t("    const shape: b2PolygonShape = new b2PolygonShape();\n"),t("    const vs: b2Vec2[] = [];\n");for(var e=0;e<this.m_count;++e)t("    vs[%d] = new b2Vec2(%.15f, %.15f);\n",e,this.m_vertices[e].x,this.m_vertices[e].y);t("    shape.Set(vs, %d);\n",this.m_count)}}],[{key:"ComputeCentroid",value:function(t,e,i){var n=i;n.SetZero();for(var s=0,o=r.ComputeCentroid_s_pRef.SetZero(),a=0;a<e;++a){var A=o,l=t[a],u=t[(a+1)%e],h=k.SubVV(l,A,r.ComputeCentroid_s_e1),c=k.SubVV(u,A,r.ComputeCentroid_s_e2),f=.5*k.CrossVV(h,c);s+=f,n.x+=f*(1/3)*(A.x+l.x+u.x),n.y+=f*(1/3)*(A.y+l.y+u.y)}return n.SelfMul(1/s),n}}]),r}(ti);ii.Set_s_r=new k,ii.Set_s_v=new k,ii.TestPoint_s_pLocal=new k,ii.ComputeDistance_s_pLocal=new k,ii.ComputeDistance_s_normalForMaxDistance=new k,ii.ComputeDistance_s_minDistance=new k,ii.ComputeDistance_s_distance=new k,ii.RayCast_s_p1=new k,ii.RayCast_s_p2=new k,ii.RayCast_s_d=new k,ii.ComputeAABB_s_v=new k,ii.ComputeMass_s_center=new k,ii.ComputeMass_s_s=new k,ii.ComputeMass_s_e1=new k,ii.ComputeMass_s_e2=new k,ii.Validate_s_e=new k,ii.Validate_s_v=new k,ii.ComputeSubmergedArea_s_normalL=new k,ii.ComputeSubmergedArea_s_md=new $e,ii.ComputeSubmergedArea_s_intoVec=new k,ii.ComputeSubmergedArea_s_outoVec=new k,ii.ComputeSubmergedArea_s_center=new k,ii.ComputeCentroid_s_pRef=new k,ii.ComputeCentroid_s_e1=new k,ii.ComputeCentroid_s_e2=new k;var ni=function(e){function i(){var e;return _classCallCheck2(this,i),(e=_possibleConstructorReturn(this,_getPrototypeOf(i).call(this,t.b2ShapeType.e_edgeShape,u))).m_vertex1=new k,e.m_vertex2=new k,e.m_vertex0=new k,e.m_vertex3=new k,e.m_hasVertex0=!1,e.m_hasVertex3=!1,e}return _inherits(i,e),_createClass2(i,[{key:"Set",value:function(t,e){return this.m_vertex1.Copy(t),this.m_vertex2.Copy(e),this.m_hasVertex0=!1,this.m_hasVertex3=!1,this}},{key:"Clone",value:function(){return(new i).Copy(this)}},{key:"Copy",value:function(t){return _get(_getPrototypeOf(i.prototype),"Copy",this).call(this,t),this.m_vertex1.Copy(t.m_vertex1),this.m_vertex2.Copy(t.m_vertex2),this.m_vertex0.Copy(t.m_vertex0),this.m_vertex3.Copy(t.m_vertex3),this.m_hasVertex0=t.m_hasVertex0,this.m_hasVertex3=t.m_hasVertex3,this}},{key:"GetChildCount",value:function(){return 1}},{key:"TestPoint",value:function(t,e){return!1}},{key:"ComputeDistance",value:function(t,e,n,r){var s=G.MulXV(t,this.m_vertex1,i.ComputeDistance_s_v1),o=G.MulXV(t,this.m_vertex2,i.ComputeDistance_s_v2),a=k.SubVV(e,s,i.ComputeDistance_s_d),A=k.SubVV(o,s,i.ComputeDistance_s_s),l=k.DotVV(a,A);if(l>0){var u=k.DotVV(A,A);l>u?k.SubVV(e,o,a):a.SelfMulSub(l/u,A)}return n.Copy(a),n.Normalize()}},{key:"RayCast",value:function(t,e,n,r){var s=G.MulTXV(n,e.p1,i.RayCast_s_p1),o=G.MulTXV(n,e.p2,i.RayCast_s_p2),a=k.SubVV(o,s,i.RayCast_s_d),A=this.m_vertex1,l=this.m_vertex2,u=k.SubVV(l,A,i.RayCast_s_e),h=t.normal.Set(u.y,-u.x).SelfNormalize(),c=k.DotVV(h,k.SubVV(A,s,k.s_t0)),f=k.DotVV(h,a);if(0===f)return!1;var m=c/f;if(m<0||e.maxFraction<m)return!1;var _=k.AddVMulSV(s,m,a,i.RayCast_s_q),g=k.SubVV(l,A,i.RayCast_s_r),d=k.DotVV(g,g);if(0===d)return!1;var p=k.DotVV(k.SubVV(_,A,k.s_t0),g)/d;return!(p<0||1<p||(t.fraction=m,T.MulRV(n.q,t.normal,t.normal),c>0&&t.normal.SelfNeg(),0))}},{key:"ComputeAABB",value:function(t,e,n){var r=G.MulXV(e,this.m_vertex1,i.ComputeAABB_s_v1),s=G.MulXV(e,this.m_vertex2,i.ComputeAABB_s_v2);k.MinV(r,s,t.lowerBound),k.MaxV(r,s,t.upperBound);var o=this.m_radius;t.lowerBound.SelfSubXY(o,o),t.upperBound.SelfAddXY(o,o)}},{key:"ComputeMass",value:function(t,e){t.mass=0,k.MidVV(this.m_vertex1,this.m_vertex2,t.center),t.I=0}},{key:"SetupDistanceProxy",value:function(t,e){t.m_vertices=t.m_buffer,t.m_vertices[0].Copy(this.m_vertex1),t.m_vertices[1].Copy(this.m_vertex2),t.m_count=2,t.m_radius=this.m_radius}},{key:"ComputeSubmergedArea",value:function(t,e,i,n){return n.SetZero(),0}},{key:"Dump",value:function(t){t("    const shape: b2EdgeShape = new b2EdgeShape();\n"),t("    shape.m_radius = %.15f;\n",this.m_radius),t("    shape.m_vertex0.Set(%.15f, %.15f);\n",this.m_vertex0.x,this.m_vertex0.y),t("    shape.m_vertex1.Set(%.15f, %.15f);\n",this.m_vertex1.x,this.m_vertex1.y),t("    shape.m_vertex2.Set(%.15f, %.15f);\n",this.m_vertex2.x,this.m_vertex2.y),t("    shape.m_vertex3.Set(%.15f, %.15f);\n",this.m_vertex3.x,this.m_vertex3.y),t("    shape.m_hasVertex0 = %s;\n",this.m_hasVertex0),t("    shape.m_hasVertex3 = %s;\n",this.m_hasVertex3)}}]),i}(ti);ni.ComputeDistance_s_v1=new k,ni.ComputeDistance_s_v2=new k,ni.ComputeDistance_s_d=new k,ni.ComputeDistance_s_s=new k,ni.RayCast_s_p1=new k,ni.RayCast_s_p2=new k,ni.RayCast_s_d=new k,ni.RayCast_s_e=new k,ni.RayCast_s_q=new k,ni.RayCast_s_r=new k,ni.ComputeAABB_s_v1=new k,ni.ComputeAABB_s_v2=new k;var ri=function(e){function i(){var e;return _classCallCheck2(this,i),(e=_possibleConstructorReturn(this,_getPrototypeOf(i).call(this,t.b2ShapeType.e_chainShape,u))).m_vertices=[],e.m_count=0,e.m_prevVertex=new k,e.m_nextVertex=new k,e.m_hasPrevVertex=!1,e.m_hasNextVertex=!1,e}return _inherits(i,e),_createClass2(i,[{key:"CreateLoop",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:t.length,i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;if(e<3)return this;this.m_count=e+1,this.m_vertices=k.MakeArray(this.m_count);for(var n=0;n<e;++n)this.m_vertices[n].Copy(t[i+n]);return this.m_vertices[e].Copy(this.m_vertices[0]),this.m_prevVertex.Copy(this.m_vertices[this.m_count-2]),this.m_nextVertex.Copy(this.m_vertices[1]),this.m_hasPrevVertex=!0,this.m_hasNextVertex=!0,this}},{key:"CreateChain",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:t.length,i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;this.m_count=e,this.m_vertices=k.MakeArray(e);for(var n=0;n<e;++n)this.m_vertices[n].Copy(t[i+n]);return this.m_hasPrevVertex=!1,this.m_hasNextVertex=!1,this.m_prevVertex.SetZero(),this.m_nextVertex.SetZero(),this}},{key:"SetPrevVertex",value:function(t){return this.m_prevVertex.Copy(t),this.m_hasPrevVertex=!0,this}},{key:"SetNextVertex",value:function(t){return this.m_nextVertex.Copy(t),this.m_hasNextVertex=!0,this}},{key:"Clone",value:function(){return(new i).Copy(this)}},{key:"Copy",value:function(t){return _get(_getPrototypeOf(i.prototype),"Copy",this).call(this,t),this.CreateChain(t.m_vertices,t.m_count),this.m_prevVertex.Copy(t.m_prevVertex),this.m_nextVertex.Copy(t.m_nextVertex),this.m_hasPrevVertex=t.m_hasPrevVertex,this.m_hasNextVertex=t.m_hasNextVertex,this}},{key:"GetChildCount",value:function(){return this.m_count-1}},{key:"GetChildEdge",value:function(e,i){e.m_type=t.b2ShapeType.e_edgeShape,e.m_radius=this.m_radius,e.m_vertex1.Copy(this.m_vertices[i]),e.m_vertex2.Copy(this.m_vertices[i+1]),i>0?(e.m_vertex0.Copy(this.m_vertices[i-1]),e.m_hasVertex0=!0):(e.m_vertex0.Copy(this.m_prevVertex),e.m_hasVertex0=this.m_hasPrevVertex),i<this.m_count-2?(e.m_vertex3.Copy(this.m_vertices[i+2]),e.m_hasVertex3=!0):(e.m_vertex3.Copy(this.m_nextVertex),e.m_hasVertex3=this.m_hasNextVertex)}},{key:"TestPoint",value:function(t,e){return!1}},{key:"ComputeDistance",value:function(t,e,n,r){var s=i.ComputeDistance_s_edgeShape;return this.GetChildEdge(s,r),s.ComputeDistance(t,e,n,0)}},{key:"RayCast",value:function(t,e,n,r){var s=i.RayCast_s_edgeShape;return s.m_vertex1.Copy(this.m_vertices[r]),s.m_vertex2.Copy(this.m_vertices[(r+1)%this.m_count]),s.RayCast(t,e,n,0)}},{key:"ComputeAABB",value:function(t,e,n){var r=this.m_vertices[(n+1)%this.m_count],s=G.MulXV(e,this.m_vertices[n],i.ComputeAABB_s_v1),o=G.MulXV(e,r,i.ComputeAABB_s_v2);k.MinV(s,o,t.lowerBound),k.MaxV(s,o,t.upperBound)}},{key:"ComputeMass",value:function(t,e){t.mass=0,t.center.SetZero(),t.I=0}},{key:"SetupDistanceProxy",value:function(t,e){t.m_vertices=t.m_buffer,t.m_vertices[0].Copy(this.m_vertices[e]),t.m_vertices[1].Copy(e+1<this.m_count?this.m_vertices[e+1]:this.m_vertices[0]),t.m_count=2,t.m_radius=this.m_radius}},{key:"ComputeSubmergedArea",value:function(t,e,i,n){return n.SetZero(),0}},{key:"Dump",value:function(t){t("    const shape: b2ChainShape = new b2ChainShape();\n"),t("    const vs: b2Vec2[] = [];\n");for(var e=0;e<this.m_count;++e)t("    vs[%d] = new bVec2(%.15f, %.15f);\n",e,this.m_vertices[e].x,this.m_vertices[e].y);t("    shape.CreateChain(vs, %d);\n",this.m_count),t("    shape.m_prevVertex.Set(%.15f, %.15f);\n",this.m_prevVertex.x,this.m_prevVertex.y),t("    shape.m_nextVertex.Set(%.15f, %.15f);\n",this.m_nextVertex.x,this.m_nextVertex.y),t("    shape.m_hasPrevVertex = %s;\n",this.m_hasPrevVertex?"true":"false"),t("    shape.m_hasNextVertex = %s;\n",this.m_hasNextVertex?"true":"false")}}]),i}(ti);ri.ComputeDistance_s_edgeShape=new ni,ri.RayCast_s_edgeShape=new ni,ri.ComputeAABB_s_v1=new k,ri.ComputeAABB_s_v2=new k;var si=function(){function t(){_classCallCheck2(this,t),this.categoryBits=1,this.maskBits=65535,this.groupIndex=0}return _createClass2(t,[{key:"Clone",value:function(){return(new t).Copy(this)}},{key:"Copy",value:function(t){return this.categoryBits=t.categoryBits,this.maskBits=t.maskBits,this.groupIndex=t.groupIndex||0,this}}]),t}();si.DEFAULT=new si;var oi=function t(){_classCallCheck2(this,t),this.userData=null,this.friction=.2,this.restitution=0,this.density=0,this.isSensor=!1,this.filter=new si},ai=function t(e){_classCallCheck2(this,t),this.aabb=new It,this.childIndex=0,this.fixture=e},Ai=function(){function t(e,i){_classCallCheck2(this,t),this.m_density=0,this.m_next=null,this.m_friction=0,this.m_restitution=0,this.m_proxies=[],this.m_proxyCount=0,this.m_filter=new si,this.m_isSensor=!1,this.m_userData=null,this.m_body=i,this.m_shape=e.shape.Clone()}return _createClass2(t,[{key:"GetType",value:function(){return this.m_shape.GetType()}},{key:"GetShape",value:function(){return this.m_shape}},{key:"SetSensor",value:function(t){t!==this.m_isSensor&&(this.m_body.SetAwake(!0),this.m_isSensor=t)}},{key:"IsSensor",value:function(){return this.m_isSensor}},{key:"SetFilterData",value:function(t){this.m_filter.Copy(t),this.Refilter()}},{key:"GetFilterData",value:function(){return this.m_filter}},{key:"Refilter",value:function(){for(var t=this.m_body.GetContactList();t;){var e=t.contact,i=e.GetFixtureA(),n=e.GetFixtureB();i!==this&&n!==this||e.FlagForFiltering(),t=t.next}var r=this.m_body.GetWorld();if(null!==r)for(var s=r.m_contactManager.m_broadPhase,o=0;o<this.m_proxyCount;++o)s.TouchProxy(this.m_proxies[o].treeNode)}},{key:"GetBody",value:function(){return this.m_body}},{key:"GetNext",value:function(){return this.m_next}},{key:"GetUserData",value:function(){return this.m_userData}},{key:"SetUserData",value:function(t){this.m_userData=t}},{key:"TestPoint",value:function(t){return this.m_shape.TestPoint(this.m_body.GetTransform(),t)}},{key:"ComputeDistance",value:function(t,e,i){return this.m_shape.ComputeDistance(this.m_body.GetTransform(),t,e,i)}},{key:"RayCast",value:function(t,e,i){return this.m_shape.RayCast(t,e,this.m_body.GetTransform(),i)}},{key:"GetMassData",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:new $e;return this.m_shape.ComputeMass(t,this.m_density),t}},{key:"SetDensity",value:function(t){this.m_density=t}},{key:"GetDensity",value:function(){return this.m_density}},{key:"GetFriction",value:function(){return this.m_friction}},{key:"SetFriction",value:function(t){this.m_friction=t}},{key:"GetRestitution",value:function(){return this.m_restitution}},{key:"SetRestitution",value:function(t){this.m_restitution=t}},{key:"GetAABB",value:function(t){return this.m_proxies[t].aabb}},{key:"Dump",value:function(t,e){t("    const fd: b2FixtureDef = new b2FixtureDef();\n"),t("    fd.friction = %.15f;\n",this.m_friction),t("    fd.restitution = %.15f;\n",this.m_restitution),t("    fd.density = %.15f;\n",this.m_density),t("    fd.isSensor = %s;\n",this.m_isSensor?"true":"false"),t("    fd.filter.categoryBits = %d;\n",this.m_filter.categoryBits),t("    fd.filter.maskBits = %d;\n",this.m_filter.maskBits),t("    fd.filter.groupIndex = %d;\n",this.m_filter.groupIndex),this.m_shape.Dump(t),t("\n"),t("    fd.shape = shape;\n"),t("\n"),t("    bodies[%d].CreateFixture(fd);\n",e)}},{key:"Create",value:function(t){var i=this;this.m_userData=t.userData,this.m_friction=e(t.friction,.2),this.m_restitution=e(t.restitution,0),this.m_next=null,this.m_filter.Copy(e(t.filter,si.DEFAULT)),this.m_isSensor=e(t.isSensor,!1),this.m_proxies=m(this.m_shape.GetChildCount(),(function(t){return new ai(i)})),this.m_proxyCount=0,this.m_density=e(t.density,0)}},{key:"Destroy",value:function(){}},{key:"CreateProxies",value:function(t){var e=this.m_body.m_world.m_contactManager.m_broadPhase;this.m_proxyCount=this.m_shape.GetChildCount();for(var i=0;i<this.m_proxyCount;++i){var n=this.m_proxies[i]=new ai(this);this.m_shape.ComputeAABB(n.aabb,t,i),n.treeNode=e.CreateProxy(n.aabb,n),n.childIndex=i}}},{key:"DestroyProxies",value:function(){for(var t=this.m_body.m_world.m_contactManager.m_broadPhase,e=0;e<this.m_proxyCount;++e){var i=this.m_proxies[e];delete i.treeNode.userData,t.DestroyProxy(i.treeNode),delete i.treeNode}this.m_proxyCount=0}},{key:"TouchProxies",value:function(){for(var t=this.m_body.m_world.m_contactManager.m_broadPhase,e=this.m_proxyCount,i=0;i<e;++i)t.TouchProxy(this.m_proxies[i].treeNode)}},{key:"Synchronize",value:function(e,i){if(0!==this.m_proxyCount)for(var n=this.m_body.m_world.m_contactManager.m_broadPhase,r=0;r<this.m_proxyCount;++r){var s=this.m_proxies[r],o=t.Synchronize_s_aabb1,a=t.Synchronize_s_aabb2;this.m_shape.ComputeAABB(o,e,r),this.m_shape.ComputeAABB(a,i,r),s.aabb.Combine2(o,a);var A=k.SubVV(i.p,e.p,t.Synchronize_s_displacement);n.MoveProxy(s.treeNode,s.aabb,A)}}}]),t}();Ai.Synchronize_s_aabb1=new It,Ai.Synchronize_s_aabb2=new It,Ai.Synchronize_s_displacement=new k,(Xe=t.b2BodyType||(t.b2BodyType={}))[Xe.b2_unknown=-1]="b2_unknown",Xe[Xe.b2_staticBody=0]="b2_staticBody",Xe[Xe.b2_kinematicBody=1]="b2_kinematicBody",Xe[Xe.b2_dynamicBody=2]="b2_dynamicBody";var li=function(){function i(n,r){_classCallCheck2(this,i),this.m_type=t.b2BodyType.b2_staticBody,this.m_islandFlag=!1,this.m_awakeFlag=!1,this.m_autoSleepFlag=!1,this.m_bulletFlag=!1,this.m_fixedRotationFlag=!1,this.m_activeFlag=!1,this.m_toiFlag=!1,this.m_islandIndex=0,this.m_xf=new G,this.m_xf0=new G,this.m_sweep=new P,this.m_linearVelocity=new k,this.m_angularVelocity=0,this.m_force=new k,this.m_torque=0,this.m_prev=null,this.m_next=null,this.m_fixtureList=null,this.m_fixtureCount=0,this.m_jointList=null,this.m_contactList=null,this.m_mass=1,this.m_invMass=1,this.m_I=0,this.m_invI=0,this.m_linearDamping=0,this.m_angularDamping=0,this.m_gravityScale=1,this.m_sleepTime=0,this.m_userData=null,this.m_controllerList=null,this.m_controllerCount=0,this.m_bulletFlag=e(n.bullet,!1),this.m_fixedRotationFlag=e(n.fixedRotation,!1),this.m_autoSleepFlag=e(n.allowSleep,!0),this.m_awakeFlag=e(n.awake,!0),this.m_activeFlag=e(n.active,!0),this.m_world=r,this.m_xf.p.Copy(e(n.position,k.ZERO)),this.m_xf.q.SetAngle(e(n.angle,0)),this.m_xf0.Copy(this.m_xf),this.m_sweep.localCenter.SetZero(),this.m_sweep.c0.Copy(this.m_xf.p),this.m_sweep.c.Copy(this.m_xf.p),this.m_sweep.a0=this.m_sweep.a=this.m_xf.q.GetAngle(),this.m_sweep.alpha0=0,this.m_linearVelocity.Copy(e(n.linearVelocity,k.ZERO)),this.m_angularVelocity=e(n.angularVelocity,0),this.m_linearDamping=e(n.linearDamping,0),this.m_angularDamping=e(n.angularDamping,0),this.m_gravityScale=e(n.gravityScale,1),this.m_force.SetZero(),this.m_torque=0,this.m_sleepTime=0,this.m_type=e(n.type,t.b2BodyType.b2_staticBody),n.type===t.b2BodyType.b2_dynamicBody?(this.m_mass=1,this.m_invMass=1):(this.m_mass=0,this.m_invMass=0),this.m_I=0,this.m_invI=0,this.m_userData=n.userData,this.m_fixtureList=null,this.m_fixtureCount=0,this.m_controllerList=null,this.m_controllerCount=0}return _createClass2(i,[{key:"CreateFixture",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return t instanceof ti?this.CreateFixtureShapeDensity(t,e):this.CreateFixtureDef(t)}},{key:"CreateFixtureDef",value:function(t){if(this.m_world.IsLocked())throw new Error;var e=new Ai(t,this);return e.Create(t),this.m_activeFlag&&e.CreateProxies(this.m_xf),e.m_next=this.m_fixtureList,this.m_fixtureList=e,++this.m_fixtureCount,e.m_density>0&&this.ResetMassData(),this.m_world.m_newFixture=!0,e}},{key:"CreateFixtureShapeDensity",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=i.CreateFixtureShapeDensity_s_def;return n.shape=t,n.density=e,this.CreateFixtureDef(n)}},{key:"DestroyFixture",value:function(t){if(this.m_world.IsLocked())throw new Error;for(var e=this.m_fixtureList,i=null;null!==e;){if(e===t){i?i.m_next=t.m_next:this.m_fixtureList=t.m_next;break}i=e,e=e.m_next}for(var n=this.m_contactList;n;){var r=n.contact;n=n.next;var s=r.GetFixtureA(),o=r.GetFixtureB();t!==s&&t!==o||this.m_world.m_contactManager.Destroy(r)}this.m_activeFlag&&t.DestroyProxies(),t.m_next=null,t.Destroy(),--this.m_fixtureCount,this.ResetMassData()}},{key:"SetTransformVec",value:function(t,e){this.SetTransformXY(t.x,t.y,e)}},{key:"SetTransformXY",value:function(t,e,i){if(this.m_world.IsLocked())throw new Error;this.m_xf.q.SetAngle(i),this.m_xf.p.Set(t,e),this.m_xf0.Copy(this.m_xf),G.MulXV(this.m_xf,this.m_sweep.localCenter,this.m_sweep.c),this.m_sweep.a=i,this.m_sweep.c0.Copy(this.m_sweep.c),this.m_sweep.a0=i;for(var n=this.m_fixtureList;n;n=n.m_next)n.Synchronize(this.m_xf,this.m_xf);this.m_world.m_contactManager.FindNewContacts()}},{key:"SetTransform",value:function(t){this.SetTransformVec(t.p,t.GetAngle())}},{key:"GetTransform",value:function(){return this.m_xf}},{key:"GetPosition",value:function(){return this.m_xf.p}},{key:"SetPosition",value:function(t){this.SetTransformVec(t,this.GetAngle())}},{key:"SetPositionXY",value:function(t,e){this.SetTransformXY(t,e,this.GetAngle())}},{key:"GetAngle",value:function(){return this.m_sweep.a}},{key:"SetAngle",value:function(t){this.SetTransformVec(this.GetPosition(),t)}},{key:"GetWorldCenter",value:function(){return this.m_sweep.c}},{key:"GetLocalCenter",value:function(){return this.m_sweep.localCenter}},{key:"SetLinearVelocity",value:function(e){this.m_type!==t.b2BodyType.b2_staticBody&&(k.DotVV(e,e)>0&&this.SetAwake(!0),this.m_linearVelocity.Copy(e))}},{key:"GetLinearVelocity",value:function(){return this.m_linearVelocity}},{key:"SetAngularVelocity",value:function(e){this.m_type!==t.b2BodyType.b2_staticBody&&(e*e>0&&this.SetAwake(!0),this.m_angularVelocity=e)}},{key:"GetAngularVelocity",value:function(){return this.m_angularVelocity}},{key:"GetDefinition",value:function(t){return t.type=this.GetType(),t.allowSleep=this.m_autoSleepFlag,t.angle=this.GetAngle(),t.angularDamping=this.m_angularDamping,t.gravityScale=this.m_gravityScale,t.angularVelocity=this.m_angularVelocity,t.fixedRotation=this.m_fixedRotationFlag,t.bullet=this.m_bulletFlag,t.awake=this.m_awakeFlag,t.linearDamping=this.m_linearDamping,t.linearVelocity.Copy(this.GetLinearVelocity()),t.position.Copy(this.GetPosition()),t.userData=this.GetUserData(),t}},{key:"ApplyForce",value:function(e,i){var n=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];this.m_type===t.b2BodyType.b2_dynamicBody&&(n&&!this.m_awakeFlag&&this.SetAwake(!0),this.m_awakeFlag&&(this.m_force.x+=e.x,this.m_force.y+=e.y,this.m_torque+=(i.x-this.m_sweep.c.x)*e.y-(i.y-this.m_sweep.c.y)*e.x))}},{key:"ApplyForceToCenter",value:function(e){var i=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];this.m_type===t.b2BodyType.b2_dynamicBody&&(i&&!this.m_awakeFlag&&this.SetAwake(!0),this.m_awakeFlag&&(this.m_force.x+=e.x,this.m_force.y+=e.y))}},{key:"ApplyTorque",value:function(e){var i=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];this.m_type===t.b2BodyType.b2_dynamicBody&&(i&&!this.m_awakeFlag&&this.SetAwake(!0),this.m_awakeFlag&&(this.m_torque+=e))}},{key:"ApplyLinearImpulse",value:function(e,i){var n=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];this.m_type===t.b2BodyType.b2_dynamicBody&&(n&&!this.m_awakeFlag&&this.SetAwake(!0),this.m_awakeFlag&&(this.m_linearVelocity.x+=this.m_invMass*e.x,this.m_linearVelocity.y+=this.m_invMass*e.y,this.m_angularVelocity+=this.m_invI*((i.x-this.m_sweep.c.x)*e.y-(i.y-this.m_sweep.c.y)*e.x)))}},{key:"ApplyLinearImpulseToCenter",value:function(e){var i=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];this.m_type===t.b2BodyType.b2_dynamicBody&&(i&&!this.m_awakeFlag&&this.SetAwake(!0),this.m_awakeFlag&&(this.m_linearVelocity.x+=this.m_invMass*e.x,this.m_linearVelocity.y+=this.m_invMass*e.y))}},{key:"ApplyAngularImpulse",value:function(e){var i=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];this.m_type===t.b2BodyType.b2_dynamicBody&&(i&&!this.m_awakeFlag&&this.SetAwake(!0),this.m_awakeFlag&&(this.m_angularVelocity+=this.m_invI*e))}},{key:"GetMass",value:function(){return this.m_mass}},{key:"GetInertia",value:function(){return this.m_I+this.m_mass*k.DotVV(this.m_sweep.localCenter,this.m_sweep.localCenter)}},{key:"GetMassData",value:function(t){return t.mass=this.m_mass,t.I=this.m_I+this.m_mass*k.DotVV(this.m_sweep.localCenter,this.m_sweep.localCenter),t.center.Copy(this.m_sweep.localCenter),t}},{key:"SetMassData",value:function(e){if(this.m_world.IsLocked())throw new Error;if(this.m_type===t.b2BodyType.b2_dynamicBody){this.m_invMass=0,this.m_I=0,this.m_invI=0,this.m_mass=e.mass,this.m_mass<=0&&(this.m_mass=1),this.m_invMass=1/this.m_mass,e.I>0&&!this.m_fixedRotationFlag&&(this.m_I=e.I-this.m_mass*k.DotVV(e.center,e.center),this.m_invI=1/this.m_I);var n=i.SetMassData_s_oldCenter.Copy(this.m_sweep.c);this.m_sweep.localCenter.Copy(e.center),G.MulXV(this.m_xf,this.m_sweep.localCenter,this.m_sweep.c),this.m_sweep.c0.Copy(this.m_sweep.c),k.AddVCrossSV(this.m_linearVelocity,this.m_angularVelocity,k.SubVV(this.m_sweep.c,n,k.s_t0),this.m_linearVelocity)}}},{key:"ResetMassData",value:function(){if(this.m_mass=0,this.m_invMass=0,this.m_I=0,this.m_invI=0,this.m_sweep.localCenter.SetZero(),this.m_type===t.b2BodyType.b2_staticBody||this.m_type===t.b2BodyType.b2_kinematicBody)return this.m_sweep.c0.Copy(this.m_xf.p),this.m_sweep.c.Copy(this.m_xf.p),void(this.m_sweep.a0=this.m_sweep.a);for(var e=i.ResetMassData_s_localCenter.SetZero(),n=this.m_fixtureList;n;n=n.m_next)if(0!==n.m_density){var r=n.GetMassData(i.ResetMassData_s_massData);this.m_mass+=r.mass,e.x+=r.center.x*r.mass,e.y+=r.center.y*r.mass,this.m_I+=r.I}this.m_mass>0?(this.m_invMass=1/this.m_mass,e.x*=this.m_invMass,e.y*=this.m_invMass):(this.m_mass=1,this.m_invMass=1),this.m_I>0&&!this.m_fixedRotationFlag?(this.m_I-=this.m_mass*k.DotVV(e,e),this.m_invI=1/this.m_I):(this.m_I=0,this.m_invI=0);var s=i.ResetMassData_s_oldCenter.Copy(this.m_sweep.c);this.m_sweep.localCenter.Copy(e),G.MulXV(this.m_xf,this.m_sweep.localCenter,this.m_sweep.c),this.m_sweep.c0.Copy(this.m_sweep.c),k.AddVCrossSV(this.m_linearVelocity,this.m_angularVelocity,k.SubVV(this.m_sweep.c,s,k.s_t0),this.m_linearVelocity)}},{key:"GetWorldPoint",value:function(t,e){return G.MulXV(this.m_xf,t,e)}},{key:"GetWorldVector",value:function(t,e){return T.MulRV(this.m_xf.q,t,e)}},{key:"GetLocalPoint",value:function(t,e){return G.MulTXV(this.m_xf,t,e)}},{key:"GetLocalVector",value:function(t,e){return T.MulTRV(this.m_xf.q,t,e)}},{key:"GetLinearVelocityFromWorldPoint",value:function(t,e){return k.AddVCrossSV(this.m_linearVelocity,this.m_angularVelocity,k.SubVV(t,this.m_sweep.c,k.s_t0),e)}},{key:"GetLinearVelocityFromLocalPoint",value:function(t,e){return this.GetLinearVelocityFromWorldPoint(this.GetWorldPoint(t,e),e)}},{key:"GetLinearDamping",value:function(){return this.m_linearDamping}},{key:"SetLinearDamping",value:function(t){this.m_linearDamping=t}},{key:"GetAngularDamping",value:function(){return this.m_angularDamping}},{key:"SetAngularDamping",value:function(t){this.m_angularDamping=t}},{key:"GetGravityScale",value:function(){return this.m_gravityScale}},{key:"SetGravityScale",value:function(t){this.m_gravityScale=t}},{key:"SetType",value:function(e){if(this.m_world.IsLocked())throw new Error;if(this.m_type!==e){this.m_type=e,this.ResetMassData(),this.m_type===t.b2BodyType.b2_staticBody&&(this.m_linearVelocity.SetZero(),this.m_angularVelocity=0,this.m_sweep.a0=this.m_sweep.a,this.m_sweep.c0.Copy(this.m_sweep.c),this.SynchronizeFixtures()),this.SetAwake(!0),this.m_force.SetZero(),this.m_torque=0;for(var i=this.m_contactList;i;){var n=i;i=i.next,this.m_world.m_contactManager.Destroy(n.contact)}this.m_contactList=null;for(var r=this.m_fixtureList;r;r=r.m_next)r.TouchProxies()}}},{key:"GetType",value:function(){return this.m_type}},{key:"SetBullet",value:function(t){this.m_bulletFlag=t}},{key:"IsBullet",value:function(){return this.m_bulletFlag}},{key:"SetSleepingAllowed",value:function(t){this.m_autoSleepFlag=t,t||this.SetAwake(!0)}},{key:"IsSleepingAllowed",value:function(){return this.m_autoSleepFlag}},{key:"SetAwake",value:function(t){t?(this.m_awakeFlag=!0,this.m_sleepTime=0):(this.m_awakeFlag=!1,this.m_sleepTime=0,this.m_linearVelocity.SetZero(),this.m_angularVelocity=0,this.m_force.SetZero(),this.m_torque=0)}},{key:"IsAwake",value:function(){return this.m_awakeFlag}},{key:"SetActive",value:function(t){if(this.m_world.IsLocked())throw new Error;if(t!==this.IsActive())if(this.m_activeFlag=t,t)for(var e=this.m_fixtureList;e;e=e.m_next)e.CreateProxies(this.m_xf);else{for(var i=this.m_fixtureList;i;i=i.m_next)i.DestroyProxies();for(var n=this.m_contactList;n;){var r=n;n=n.next,this.m_world.m_contactManager.Destroy(r.contact)}this.m_contactList=null}}},{key:"IsActive",value:function(){return this.m_activeFlag}},{key:"SetFixedRotation",value:function(t){this.m_fixedRotationFlag!==t&&(this.m_fixedRotationFlag=t,this.m_angularVelocity=0,this.ResetMassData())}},{key:"IsFixedRotation",value:function(){return this.m_fixedRotationFlag}},{key:"GetFixtureList",value:function(){return this.m_fixtureList}},{key:"GetJointList",value:function(){return this.m_jointList}},{key:"GetContactList",value:function(){return this.m_contactList}},{key:"GetNext",value:function(){return this.m_next}},{key:"GetUserData",value:function(){return this.m_userData}},{key:"SetUserData",value:function(t){this.m_userData=t}},{key:"GetWorld",value:function(){return this.m_world}},{key:"Dump",value:function(e){var i=this.m_islandIndex;e("{\n"),e("  const bd: b2BodyDef = new b2BodyDef();\n");var n="";switch(this.m_type){case t.b2BodyType.b2_staticBody:n="b2BodyType.b2_staticBody";break;case t.b2BodyType.b2_kinematicBody:n="b2BodyType.b2_kinematicBody";break;case t.b2BodyType.b2_dynamicBody:n="b2BodyType.b2_dynamicBody"}e("  bd.type = %s;\n",n),e("  bd.position.Set(%.15f, %.15f);\n",this.m_xf.p.x,this.m_xf.p.y),e("  bd.angle = %.15f;\n",this.m_sweep.a),e("  bd.linearVelocity.Set(%.15f, %.15f);\n",this.m_linearVelocity.x,this.m_linearVelocity.y),e("  bd.angularVelocity = %.15f;\n",this.m_angularVelocity),e("  bd.linearDamping = %.15f;\n",this.m_linearDamping),e("  bd.angularDamping = %.15f;\n",this.m_angularDamping),e("  bd.allowSleep = %s;\n",this.m_autoSleepFlag?"true":"false"),e("  bd.awake = %s;\n",this.m_awakeFlag?"true":"false"),e("  bd.fixedRotation = %s;\n",this.m_fixedRotationFlag?"true":"false"),e("  bd.bullet = %s;\n",this.m_bulletFlag?"true":"false"),e("  bd.active = %s;\n",this.m_activeFlag?"true":"false"),e("  bd.gravityScale = %.15f;\n",this.m_gravityScale),e("\n"),e("  bodies[%d] = this.m_world.CreateBody(bd);\n",this.m_islandIndex),e("\n");for(var r=this.m_fixtureList;r;r=r.m_next)e("  {\n"),r.Dump(e,i),e("  }\n");e("}\n")}},{key:"SynchronizeFixtures",value:function(){var t=i.SynchronizeFixtures_s_xf1;t.q.SetAngle(this.m_sweep.a0),T.MulRV(t.q,this.m_sweep.localCenter,t.p),k.SubVV(this.m_sweep.c0,t.p,t.p);for(var e=this.m_fixtureList;e;e=e.m_next)e.Synchronize(t,this.m_xf)}},{key:"SynchronizeTransform",value:function(){this.m_xf.q.SetAngle(this.m_sweep.a),T.MulRV(this.m_xf.q,this.m_sweep.localCenter,this.m_xf.p),k.SubVV(this.m_sweep.c,this.m_xf.p,this.m_xf.p)}},{key:"ShouldCollide",value:function(e){return(this.m_type!==t.b2BodyType.b2_staticBody||e.m_type!==t.b2BodyType.b2_staticBody)&&this.ShouldCollideConnected(e)}},{key:"ShouldCollideConnected",value:function(t){for(var e=this.m_jointList;e;e=e.next)if(e.other===t&&!e.joint.m_collideConnected)return!1;return!0}},{key:"Advance",value:function(t){this.m_sweep.Advance(t),this.m_sweep.c.Copy(this.m_sweep.c0),this.m_sweep.a=this.m_sweep.a0,this.m_xf.q.SetAngle(this.m_sweep.a),T.MulRV(this.m_xf.q,this.m_sweep.localCenter,this.m_xf.p),k.SubVV(this.m_sweep.c,this.m_xf.p,this.m_xf.p)}},{key:"GetControllerList",value:function(){return this.m_controllerList}},{key:"GetControllerCount",value:function(){return this.m_controllerCount}}]),i}();li.CreateFixtureShapeDensity_s_def=new oi,li.SetMassData_s_oldCenter=new k,li.ResetMassData_s_localCenter=new k,li.ResetMassData_s_oldCenter=new k,li.ResetMassData_s_massData=new $e,li.SynchronizeFixtures_s_xf1=new G,(Ze=t.b2JointType||(t.b2JointType={}))[Ze.e_unknownJoint=0]="e_unknownJoint",Ze[Ze.e_revoluteJoint=1]="e_revoluteJoint",Ze[Ze.e_prismaticJoint=2]="e_prismaticJoint",Ze[Ze.e_distanceJoint=3]="e_distanceJoint",Ze[Ze.e_pulleyJoint=4]="e_pulleyJoint",Ze[Ze.e_mouseJoint=5]="e_mouseJoint",Ze[Ze.e_gearJoint=6]="e_gearJoint",Ze[Ze.e_wheelJoint=7]="e_wheelJoint",Ze[Ze.e_weldJoint=8]="e_weldJoint",Ze[Ze.e_frictionJoint=9]="e_frictionJoint",Ze[Ze.e_ropeJoint=10]="e_ropeJoint",Ze[Ze.e_motorJoint=11]="e_motorJoint",Ze[Ze.e_areaJoint=12]="e_areaJoint",(We=t.b2LimitState||(t.b2LimitState={}))[We.e_inactiveLimit=0]="e_inactiveLimit",We[We.e_atLowerLimit=1]="e_atLowerLimit",We[We.e_atUpperLimit=2]="e_atUpperLimit",We[We.e_equalLimits=3]="e_equalLimits";var ui=function t(e,i){_classCallCheck2(this,t),this.prev=null,this.next=null,this.joint=e,this.other=i},hi=function e(i){_classCallCheck2(this,e),this.type=t.b2JointType.e_unknownJoint,this.userData=null,this.collideConnected=!1,this.type=i},ci=function(){function i(n){_classCallCheck2(this,i),this.m_type=t.b2JointType.e_unknownJoint,this.m_prev=null,this.m_next=null,this.m_index=0,this.m_islandFlag=!1,this.m_collideConnected=!1,this.m_userData=null,this.m_type=n.type,this.m_edgeA=new ui(this,n.bodyB),this.m_edgeB=new ui(this,n.bodyA),this.m_bodyA=n.bodyA,this.m_bodyB=n.bodyB,this.m_collideConnected=e(n.collideConnected,!1),this.m_userData=n.userData}return _createClass2(i,[{key:"GetType",value:function(){return this.m_type}},{key:"GetBodyA",value:function(){return this.m_bodyA}},{key:"GetBodyB",value:function(){return this.m_bodyB}},{key:"GetNext",value:function(){return this.m_next}},{key:"GetUserData",value:function(){return this.m_userData}},{key:"SetUserData",value:function(t){this.m_userData=t}},{key:"IsActive",value:function(){return this.m_bodyA.IsActive()&&this.m_bodyB.IsActive()}},{key:"GetCollideConnected",value:function(){return this.m_collideConnected}},{key:"Dump",value:function(t){t("// Dump is not supported for this joint type.\n")}},{key:"ShiftOrigin",value:function(t){}}]),i}(),fi=function(e){function i(){var e;return _classCallCheck2(this,i),(e=_possibleConstructorReturn(this,_getPrototypeOf(i).call(this,t.b2JointType.e_distanceJoint))).localAnchorA=new k,e.localAnchorB=new k,e.length=1,e.frequencyHz=0,e.dampingRatio=0,e}return _inherits(i,e),_createClass2(i,[{key:"Initialize",value:function(t,e,i,n){this.bodyA=t,this.bodyB=e,this.bodyA.GetLocalPoint(i,this.localAnchorA),this.bodyB.GetLocalPoint(n,this.localAnchorB),this.length=k.DistanceVV(i,n),this.frequencyHz=0,this.dampingRatio=0}}]),i}(hi),mi=function(t){function i(t){var n;return _classCallCheck2(this,i),(n=_possibleConstructorReturn(this,_getPrototypeOf(i).call(this,t))).m_frequencyHz=0,n.m_dampingRatio=0,n.m_bias=0,n.m_localAnchorA=new k,n.m_localAnchorB=new k,n.m_gamma=0,n.m_impulse=0,n.m_length=0,n.m_indexA=0,n.m_indexB=0,n.m_u=new k,n.m_rA=new k,n.m_rB=new k,n.m_localCenterA=new k,n.m_localCenterB=new k,n.m_invMassA=0,n.m_invMassB=0,n.m_invIA=0,n.m_invIB=0,n.m_mass=0,n.m_qA=new T,n.m_qB=new T,n.m_lalcA=new k,n.m_lalcB=new k,n.m_frequencyHz=e(t.frequencyHz,0),n.m_dampingRatio=e(t.dampingRatio,0),n.m_localAnchorA.Copy(t.localAnchorA),n.m_localAnchorB.Copy(t.localAnchorB),n.m_length=t.length,n}return _inherits(i,t),_createClass2(i,[{key:"GetAnchorA",value:function(t){return this.m_bodyA.GetWorldPoint(this.m_localAnchorA,t)}},{key:"GetAnchorB",value:function(t){return this.m_bodyB.GetWorldPoint(this.m_localAnchorB,t)}},{key:"GetReactionForce",value:function(t,e){return e.x=t*this.m_impulse*this.m_u.x,e.y=t*this.m_impulse*this.m_u.y,e}},{key:"GetReactionTorque",value:function(t){return 0}},{key:"GetLocalAnchorA",value:function(){return this.m_localAnchorA}},{key:"GetLocalAnchorB",value:function(){return this.m_localAnchorB}},{key:"SetLength",value:function(t){this.m_length=t}},{key:"Length",value:function(){return this.m_length}},{key:"SetFrequency",value:function(t){this.m_frequencyHz=t}},{key:"GetFrequency",value:function(){return this.m_frequencyHz}},{key:"SetDampingRatio",value:function(t){this.m_dampingRatio=t}},{key:"GetDampingRatio",value:function(){return this.m_dampingRatio}},{key:"Dump",value:function(t){var e=this.m_bodyA.m_islandIndex,i=this.m_bodyB.m_islandIndex;t("  const jd: b2DistanceJointDef = new b2DistanceJointDef();\n"),t("  jd.bodyA = bodies[%d];\n",e),t("  jd.bodyB = bodies[%d];\n",i),t("  jd.collideConnected = %s;\n",this.m_collideConnected?"true":"false"),t("  jd.localAnchorA.Set(%.15f, %.15f);\n",this.m_localAnchorA.x,this.m_localAnchorA.y),t("  jd.localAnchorB.Set(%.15f, %.15f);\n",this.m_localAnchorB.x,this.m_localAnchorB.y),t("  jd.length = %.15f;\n",this.m_length),t("  jd.frequencyHz = %.15f;\n",this.m_frequencyHz),t("  jd.dampingRatio = %.15f;\n",this.m_dampingRatio),t("  joints[%d] = this.m_world.CreateJoint(jd);\n",this.m_index)}},{key:"InitVelocityConstraints",value:function(t){this.m_indexA=this.m_bodyA.m_islandIndex,this.m_indexB=this.m_bodyB.m_islandIndex,this.m_localCenterA.Copy(this.m_bodyA.m_sweep.localCenter),this.m_localCenterB.Copy(this.m_bodyB.m_sweep.localCenter),this.m_invMassA=this.m_bodyA.m_invMass,this.m_invMassB=this.m_bodyB.m_invMass,this.m_invIA=this.m_bodyA.m_invI,this.m_invIB=this.m_bodyB.m_invI;var e=t.positions[this.m_indexA].c,n=t.velocities[this.m_indexA].v,r=t.velocities[this.m_indexA].w,o=t.positions[this.m_indexB].c,a=t.positions[this.m_indexB].a,l=t.velocities[this.m_indexB].v,u=t.velocities[this.m_indexB].w,h=this.m_qA.SetAngle(t.positions[this.m_indexA].a),c=this.m_qB.SetAngle(a);k.SubVV(this.m_localAnchorA,this.m_localCenterA,this.m_lalcA),T.MulRV(h,this.m_lalcA,this.m_rA),k.SubVV(this.m_localAnchorB,this.m_localCenterB,this.m_lalcB),T.MulRV(c,this.m_lalcB,this.m_rB),this.m_u.x=o.x+this.m_rB.x-e.x-this.m_rA.x,this.m_u.y=o.y+this.m_rB.y-e.y-this.m_rA.y;var f=this.m_u.Length();f>A?this.m_u.SelfMul(1/f):this.m_u.SetZero();var m=k.CrossVV(this.m_rA,this.m_u),_=k.CrossVV(this.m_rB,this.m_u),g=this.m_invMassA+this.m_invIA*m*m+this.m_invMassB+this.m_invIB*_*_;if(this.m_mass=0!==g?1/g:0,this.m_frequencyHz>0){var d=f-this.m_length,p=2*s*this.m_frequencyHz,y=this.m_mass*p*p,C=t.step.dt;this.m_gamma=C*(2*this.m_mass*this.m_dampingRatio*p+C*y),this.m_gamma=0!==this.m_gamma?1/this.m_gamma:0,this.m_bias=d*C*y*this.m_gamma,this.m_mass=0!==(g+=this.m_gamma)?1/g:0}else this.m_gamma=0,this.m_bias=0;if(t.step.warmStarting){this.m_impulse*=t.step.dtRatio;var v=k.MulSV(this.m_impulse,this.m_u,i.InitVelocityConstraints_s_P);n.SelfMulSub(this.m_invMassA,v),r-=this.m_invIA*k.CrossVV(this.m_rA,v),l.SelfMulAdd(this.m_invMassB,v),u+=this.m_invIB*k.CrossVV(this.m_rB,v)}else this.m_impulse=0;t.velocities[this.m_indexA].w=r,t.velocities[this.m_indexB].w=u}},{key:"SolveVelocityConstraints",value:function(t){var e=t.velocities[this.m_indexA].v,n=t.velocities[this.m_indexA].w,r=t.velocities[this.m_indexB].v,s=t.velocities[this.m_indexB].w,o=k.AddVCrossSV(e,n,this.m_rA,i.SolveVelocityConstraints_s_vpA),a=k.AddVCrossSV(r,s,this.m_rB,i.SolveVelocityConstraints_s_vpB),A=k.DotVV(this.m_u,k.SubVV(a,o,k.s_t0)),l=-this.m_mass*(A+this.m_bias+this.m_gamma*this.m_impulse);this.m_impulse+=l;var u=k.MulSV(l,this.m_u,i.SolveVelocityConstraints_s_P);e.SelfMulSub(this.m_invMassA,u),n-=this.m_invIA*k.CrossVV(this.m_rA,u),r.SelfMulAdd(this.m_invMassB,u),s+=this.m_invIB*k.CrossVV(this.m_rB,u),t.velocities[this.m_indexA].w=n,t.velocities[this.m_indexB].w=s}},{key:"SolvePositionConstraints",value:function(t){if(this.m_frequencyHz>0)return!0;var e=t.positions[this.m_indexA].c,n=t.positions[this.m_indexA].a,r=t.positions[this.m_indexB].c,s=t.positions[this.m_indexB].a,o=this.m_qA.SetAngle(n),a=this.m_qB.SetAngle(s),l=T.MulRV(o,this.m_lalcA,this.m_rA),u=T.MulRV(a,this.m_lalcB,this.m_rB),h=this.m_u;h.x=r.x+u.x-e.x-l.x,h.y=r.y+u.y-e.y-l.y;var c=this.m_u.Normalize()-this.m_length;c=y(c,-.2,.2);var f=k.MulSV(-this.m_mass*c,h,i.SolvePositionConstraints_s_P);return e.SelfMulSub(this.m_invMassA,f),n-=this.m_invIA*k.CrossVV(l,f),r.SelfMulAdd(this.m_invMassB,f),s+=this.m_invIB*k.CrossVV(u,f),t.positions[this.m_indexA].a=n,t.positions[this.m_indexB].a=s,g(c)<A}}]),i}(ci);mi.InitVelocityConstraints_s_P=new k,mi.SolveVelocityConstraints_s_vpA=new k,mi.SolveVelocityConstraints_s_vpB=new k,mi.SolveVelocityConstraints_s_P=new k,mi.SolvePositionConstraints_s_P=new k;var _i=function(t){function i(t){var n;_classCallCheck2(this,i),(n=_possibleConstructorReturn(this,_getPrototypeOf(i).call(this,t))).m_frequencyHz=0,n.m_dampingRatio=0,n.m_impulse=0,n.m_targetArea=0,n.m_bodies=t.bodies,n.m_frequencyHz=e(t.frequencyHz,0),n.m_dampingRatio=e(t.dampingRatio,0),n.m_targetLengths=_(t.bodies.length),n.m_normals=k.MakeArray(t.bodies.length),n.m_joints=[],n.m_deltas=k.MakeArray(t.bodies.length),n.m_delta=new k;var r=new fi;r.frequencyHz=n.m_frequencyHz,r.dampingRatio=n.m_dampingRatio,n.m_targetArea=0;for(var s=0;s<n.m_bodies.length;++s){var o=n.m_bodies[s],a=n.m_bodies[(s+1)%n.m_bodies.length],A=o.GetWorldCenter(),l=a.GetWorldCenter();n.m_targetLengths[s]=k.DistanceVV(A,l),n.m_targetArea+=k.CrossVV(A,l),r.Initialize(o,a,A,l),n.m_joints[s]=o.GetWorld().CreateJoint(r)}return n.m_targetArea*=.5,n}return _inherits(i,t),_createClass2(i,[{key:"GetAnchorA",value:function(t){return t}},{key:"GetAnchorB",value:function(t){return t}},{key:"GetReactionForce",value:function(t,e){return e}},{key:"GetReactionTorque",value:function(t){return 0}},{key:"SetFrequency",value:function(t){this.m_frequencyHz=t;for(var e=0;e<this.m_joints.length;++e)this.m_joints[e].SetFrequency(t)}},{key:"GetFrequency",value:function(){return this.m_frequencyHz}},{key:"SetDampingRatio",value:function(t){this.m_dampingRatio=t;for(var e=0;e<this.m_joints.length;++e)this.m_joints[e].SetDampingRatio(t)}},{key:"GetDampingRatio",value:function(){return this.m_dampingRatio}},{key:"Dump",value:function(t){t("Area joint dumping is not supported.\n")}},{key:"InitVelocityConstraints",value:function(t){for(var e=0;e<this.m_bodies.length;++e)k.SubVV(t.positions[this.m_bodies[(e+1)%this.m_bodies.length].m_islandIndex].c,t.positions[this.m_bodies[(e+this.m_bodies.length-1)%this.m_bodies.length].m_islandIndex].c,this.m_deltas[e]);if(t.step.warmStarting){this.m_impulse*=t.step.dtRatio;for(var i=0;i<this.m_bodies.length;++i){var n=this.m_bodies[i],r=t.velocities[n.m_islandIndex].v,s=this.m_deltas[i];r.x+=n.m_invMass*s.y*.5*this.m_impulse,r.y+=n.m_invMass*-s.x*.5*this.m_impulse}}else this.m_impulse=0}},{key:"SolveVelocityConstraints",value:function(t){for(var e=0,i=0,n=0;n<this.m_bodies.length;++n){var r=this.m_bodies[n],s=t.velocities[r.m_islandIndex].v,o=this.m_deltas[n];e+=o.LengthSquared()/r.GetMass(),i+=k.CrossVV(s,o)}var a=-2*i/e;this.m_impulse+=a;for(var A=0;A<this.m_bodies.length;++A){var l=this.m_bodies[A],u=t.velocities[l.m_islandIndex].v,h=this.m_deltas[A];u.x+=l.m_invMass*h.y*.5*a,u.y+=l.m_invMass*-h.x*.5*a}}},{key:"SolvePositionConstraints",value:function(t){for(var e=0,i=0,r=0;r<this.m_bodies.length;++r){var s=t.positions[this.m_bodies[r].m_islandIndex].c,o=t.positions[this.m_bodies[(r+1)%this.m_bodies.length].m_islandIndex].c,a=k.SubVV(o,s,this.m_delta),l=a.Length();l<n&&(l=1),this.m_normals[r].x=a.y/l,this.m_normals[r].y=-a.x/l,e+=l,i+=k.CrossVV(s,o)}for(var u=.5*(this.m_targetArea-(i*=.5))/e,h=!0,c=0;c<this.m_bodies.length;++c){var f=t.positions[this.m_bodies[c].m_islandIndex].c,m=k.AddVV(this.m_normals[c],this.m_normals[(c+1)%this.m_bodies.length],this.m_delta);m.SelfMul(u);var _=m.LengthSquared();_>v(.2)&&m.SelfMul(.2/B(_)),_>v(A)&&(h=!1),f.x+=m.x,f.y+=m.y}return h}}]),i}(ci),gi=function(t){function i(t){var n;return _classCallCheck2(this,i),(n=_possibleConstructorReturn(this,_getPrototypeOf(i).call(this,t))).m_localAnchorA=new k,n.m_localAnchorB=new k,n.m_linearImpulse=new k,n.m_angularImpulse=0,n.m_maxForce=0,n.m_maxTorque=0,n.m_indexA=0,n.m_indexB=0,n.m_rA=new k,n.m_rB=new k,n.m_localCenterA=new k,n.m_localCenterB=new k,n.m_invMassA=0,n.m_invMassB=0,n.m_invIA=0,n.m_invIB=0,n.m_linearMass=new R,n.m_angularMass=0,n.m_qA=new T,n.m_qB=new T,n.m_lalcA=new k,n.m_lalcB=new k,n.m_K=new R,n.m_localAnchorA.Copy(t.localAnchorA),n.m_localAnchorB.Copy(t.localAnchorB),n.m_linearImpulse.SetZero(),n.m_maxForce=e(t.maxForce,0),n.m_maxTorque=e(t.maxTorque,0),n.m_linearMass.SetZero(),n}return _inherits(i,t),_createClass2(i,[{key:"InitVelocityConstraints",value:function(t){this.m_indexA=this.m_bodyA.m_islandIndex,this.m_indexB=this.m_bodyB.m_islandIndex,this.m_localCenterA.Copy(this.m_bodyA.m_sweep.localCenter),this.m_localCenterB.Copy(this.m_bodyB.m_sweep.localCenter),this.m_invMassA=this.m_bodyA.m_invMass,this.m_invMassB=this.m_bodyB.m_invMass,this.m_invIA=this.m_bodyA.m_invI,this.m_invIB=this.m_bodyB.m_invI;var e=t.velocities[this.m_indexA].v,i=t.velocities[this.m_indexA].w,n=t.positions[this.m_indexB].a,r=t.velocities[this.m_indexB].v,s=t.velocities[this.m_indexB].w,o=this.m_qA.SetAngle(t.positions[this.m_indexA].a),a=this.m_qB.SetAngle(n);k.SubVV(this.m_localAnchorA,this.m_localCenterA,this.m_lalcA);var A=T.MulRV(o,this.m_lalcA,this.m_rA);k.SubVV(this.m_localAnchorB,this.m_localCenterB,this.m_lalcB);var l=T.MulRV(a,this.m_lalcB,this.m_rB),u=this.m_invMassA,h=this.m_invMassB,c=this.m_invIA,f=this.m_invIB,m=this.m_K;if(m.ex.x=u+h+c*A.y*A.y+f*l.y*l.y,m.ex.y=-c*A.x*A.y-f*l.x*l.y,m.ey.x=m.ex.y,m.ey.y=u+h+c*A.x*A.x+f*l.x*l.x,m.GetInverse(this.m_linearMass),this.m_angularMass=c+f,this.m_angularMass>0&&(this.m_angularMass=1/this.m_angularMass),t.step.warmStarting){this.m_linearImpulse.SelfMul(t.step.dtRatio),this.m_angularImpulse*=t.step.dtRatio;var _=this.m_linearImpulse;e.SelfMulSub(u,_),i-=c*(k.CrossVV(this.m_rA,_)+this.m_angularImpulse),r.SelfMulAdd(h,_),s+=f*(k.CrossVV(this.m_rB,_)+this.m_angularImpulse)}else this.m_linearImpulse.SetZero(),this.m_angularImpulse=0;t.velocities[this.m_indexA].w=i,t.velocities[this.m_indexB].w=s}},{key:"SolveVelocityConstraints",value:function(t){var e=t.velocities[this.m_indexA].v,n=t.velocities[this.m_indexA].w,r=t.velocities[this.m_indexB].v,s=t.velocities[this.m_indexB].w,o=this.m_invMassA,a=this.m_invMassB,A=this.m_invIA,l=this.m_invIB,u=t.step.dt,h=-this.m_angularMass*(s-n),c=this.m_angularImpulse,f=u*this.m_maxTorque;this.m_angularImpulse=y(this.m_angularImpulse+h,-f,f),n-=A*(h=this.m_angularImpulse-c),s+=l*h;var m=k.SubVV(k.AddVCrossSV(r,s,this.m_rB,k.s_t0),k.AddVCrossSV(e,n,this.m_rA,k.s_t1),i.SolveVelocityConstraints_s_Cdot_v2),_=R.MulMV(this.m_linearMass,m,i.SolveVelocityConstraints_s_impulseV).SelfNeg(),g=i.SolveVelocityConstraints_s_oldImpulseV.Copy(this.m_linearImpulse);this.m_linearImpulse.SelfAdd(_);var d=u*this.m_maxForce;this.m_linearImpulse.LengthSquared()>d*d&&(this.m_linearImpulse.Normalize(),this.m_linearImpulse.SelfMul(d)),k.SubVV(this.m_linearImpulse,g,_),e.SelfMulSub(o,_),n-=A*k.CrossVV(this.m_rA,_),r.SelfMulAdd(a,_),s+=l*k.CrossVV(this.m_rB,_),t.velocities[this.m_indexA].w=n,t.velocities[this.m_indexB].w=s}},{key:"SolvePositionConstraints",value:function(t){return!0}},{key:"GetAnchorA",value:function(t){return this.m_bodyA.GetWorldPoint(this.m_localAnchorA,t)}},{key:"GetAnchorB",value:function(t){return this.m_bodyB.GetWorldPoint(this.m_localAnchorB,t)}},{key:"GetReactionForce",value:function(t,e){return e.x=t*this.m_linearImpulse.x,e.y=t*this.m_linearImpulse.y,e}},{key:"GetReactionTorque",value:function(t){return t*this.m_angularImpulse}},{key:"GetLocalAnchorA",value:function(){return this.m_localAnchorA}},{key:"GetLocalAnchorB",value:function(){return this.m_localAnchorB}},{key:"SetMaxForce",value:function(t){this.m_maxForce=t}},{key:"GetMaxForce",value:function(){return this.m_maxForce}},{key:"SetMaxTorque",value:function(t){this.m_maxTorque=t}},{key:"GetMaxTorque",value:function(){return this.m_maxTorque}},{key:"Dump",value:function(t){var e=this.m_bodyA.m_islandIndex,i=this.m_bodyB.m_islandIndex;t("  const jd: b2FrictionJointDef = new b2FrictionJointDef();\n"),t("  jd.bodyA = bodies[%d];\n",e),t("  jd.bodyB = bodies[%d];\n",i),t("  jd.collideConnected = %s;\n",this.m_collideConnected?"true":"false"),t("  jd.localAnchorA.Set(%.15f, %.15f);\n",this.m_localAnchorA.x,this.m_localAnchorA.y),t("  jd.localAnchorB.Set(%.15f, %.15f);\n",this.m_localAnchorB.x,this.m_localAnchorB.y),t("  jd.maxForce = %.15f;\n",this.m_maxForce),t("  jd.maxTorque = %.15f;\n",this.m_maxTorque),t("  joints[%d] = this.m_world.CreateJoint(jd);\n",this.m_index)}}]),i}(ci);gi.SolveVelocityConstraints_s_Cdot_v2=new k,gi.SolveVelocityConstraints_s_impulseV=new k,gi.SolveVelocityConstraints_s_oldImpulseV=new k;var di=function(i){function n(i){var r,s,o;_classCallCheck2(this,n),(r=_possibleConstructorReturn(this,_getPrototypeOf(n).call(this,i))).m_typeA=t.b2JointType.e_unknownJoint,r.m_typeB=t.b2JointType.e_unknownJoint,r.m_localAnchorA=new k,r.m_localAnchorB=new k,r.m_localAnchorC=new k,r.m_localAnchorD=new k,r.m_localAxisC=new k,r.m_localAxisD=new k,r.m_referenceAngleA=0,r.m_referenceAngleB=0,r.m_constant=0,r.m_ratio=0,r.m_impulse=0,r.m_indexA=0,r.m_indexB=0,r.m_indexC=0,r.m_indexD=0,r.m_lcA=new k,r.m_lcB=new k,r.m_lcC=new k,r.m_lcD=new k,r.m_mA=0,r.m_mB=0,r.m_mC=0,r.m_mD=0,r.m_iA=0,r.m_iB=0,r.m_iC=0,r.m_iD=0,r.m_JvAC=new k,r.m_JvBD=new k,r.m_JwA=0,r.m_JwB=0,r.m_JwC=0,r.m_JwD=0,r.m_mass=0,r.m_qA=new T,r.m_qB=new T,r.m_qC=new T,r.m_qD=new T,r.m_lalcA=new k,r.m_lalcB=new k,r.m_lalcC=new k,r.m_lalcD=new k,r.m_joint1=i.joint1,r.m_joint2=i.joint2,r.m_typeA=r.m_joint1.GetType(),r.m_typeB=r.m_joint2.GetType(),r.m_bodyC=r.m_joint1.GetBodyA(),r.m_bodyA=r.m_joint1.GetBodyB();var a=r.m_bodyA.m_xf,A=r.m_bodyA.m_sweep.a,l=r.m_bodyC.m_xf,u=r.m_bodyC.m_sweep.a;if(r.m_typeA===t.b2JointType.e_revoluteJoint){var h=i.joint1;r.m_localAnchorC.Copy(h.m_localAnchorA),r.m_localAnchorA.Copy(h.m_localAnchorB),r.m_referenceAngleA=h.m_referenceAngle,r.m_localAxisC.SetZero(),s=A-u-r.m_referenceAngleA}else{var c=i.joint1;r.m_localAnchorC.Copy(c.m_localAnchorA),r.m_localAnchorA.Copy(c.m_localAnchorB),r.m_referenceAngleA=c.m_referenceAngle,r.m_localAxisC.Copy(c.m_localXAxisA);var f=r.m_localAnchorC,m=T.MulTRV(l.q,k.AddVV(T.MulRV(a.q,r.m_localAnchorA,k.s_t0),k.SubVV(a.p,l.p,k.s_t1),k.s_t0),k.s_t0);s=k.DotVV(k.SubVV(m,f,k.s_t0),r.m_localAxisC)}r.m_bodyD=r.m_joint2.GetBodyA(),r.m_bodyB=r.m_joint2.GetBodyB();var _=r.m_bodyB.m_xf,g=r.m_bodyB.m_sweep.a,d=r.m_bodyD.m_xf,p=r.m_bodyD.m_sweep.a;if(r.m_typeB===t.b2JointType.e_revoluteJoint){var y=i.joint2;r.m_localAnchorD.Copy(y.m_localAnchorA),r.m_localAnchorB.Copy(y.m_localAnchorB),r.m_referenceAngleB=y.m_referenceAngle,r.m_localAxisD.SetZero(),o=g-p-r.m_referenceAngleB}else{var C=i.joint2;r.m_localAnchorD.Copy(C.m_localAnchorA),r.m_localAnchorB.Copy(C.m_localAnchorB),r.m_referenceAngleB=C.m_referenceAngle,r.m_localAxisD.Copy(C.m_localXAxisA);var v=r.m_localAnchorD,I=T.MulTRV(d.q,k.AddVV(T.MulRV(_.q,r.m_localAnchorB,k.s_t0),k.SubVV(_.p,d.p,k.s_t1),k.s_t0),k.s_t0);o=k.DotVV(k.SubVV(I,v,k.s_t0),r.m_localAxisD)}return r.m_ratio=e(i.ratio,1),r.m_constant=s+r.m_ratio*o,r.m_impulse=0,r}return _inherits(n,i),_createClass2(n,[{key:"InitVelocityConstraints",value:function(e){this.m_indexA=this.m_bodyA.m_islandIndex,this.m_indexB=this.m_bodyB.m_islandIndex,this.m_indexC=this.m_bodyC.m_islandIndex,this.m_indexD=this.m_bodyD.m_islandIndex,this.m_lcA.Copy(this.m_bodyA.m_sweep.localCenter),this.m_lcB.Copy(this.m_bodyB.m_sweep.localCenter),this.m_lcC.Copy(this.m_bodyC.m_sweep.localCenter),this.m_lcD.Copy(this.m_bodyD.m_sweep.localCenter),this.m_mA=this.m_bodyA.m_invMass,this.m_mB=this.m_bodyB.m_invMass,this.m_mC=this.m_bodyC.m_invMass,this.m_mD=this.m_bodyD.m_invMass,this.m_iA=this.m_bodyA.m_invI,this.m_iB=this.m_bodyB.m_invI,this.m_iC=this.m_bodyC.m_invI,this.m_iD=this.m_bodyD.m_invI;var i=e.velocities[this.m_indexA].v,r=e.velocities[this.m_indexA].w,s=e.positions[this.m_indexB].a,o=e.velocities[this.m_indexB].v,a=e.velocities[this.m_indexB].w,A=e.positions[this.m_indexC].a,l=e.velocities[this.m_indexC].v,u=e.velocities[this.m_indexC].w,h=e.positions[this.m_indexD].a,c=e.velocities[this.m_indexD].v,f=e.velocities[this.m_indexD].w,m=this.m_qA.SetAngle(e.positions[this.m_indexA].a),_=this.m_qB.SetAngle(s),g=this.m_qC.SetAngle(A),d=this.m_qD.SetAngle(h);if(this.m_mass=0,this.m_typeA===t.b2JointType.e_revoluteJoint)this.m_JvAC.SetZero(),this.m_JwA=1,this.m_JwC=1,this.m_mass+=this.m_iA+this.m_iC;else{var p=T.MulRV(g,this.m_localAxisC,n.InitVelocityConstraints_s_u);k.SubVV(this.m_localAnchorC,this.m_lcC,this.m_lalcC);var y=T.MulRV(g,this.m_lalcC,n.InitVelocityConstraints_s_rC);k.SubVV(this.m_localAnchorA,this.m_lcA,this.m_lalcA);var C=T.MulRV(m,this.m_lalcA,n.InitVelocityConstraints_s_rA);this.m_JvAC.Copy(p),this.m_JwC=k.CrossVV(y,p),this.m_JwA=k.CrossVV(C,p),this.m_mass+=this.m_mC+this.m_mA+this.m_iC*this.m_JwC*this.m_JwC+this.m_iA*this.m_JwA*this.m_JwA}if(this.m_typeB===t.b2JointType.e_revoluteJoint)this.m_JvBD.SetZero(),this.m_JwB=this.m_ratio,this.m_JwD=this.m_ratio,this.m_mass+=this.m_ratio*this.m_ratio*(this.m_iB+this.m_iD);else{var v=T.MulRV(d,this.m_localAxisD,n.InitVelocityConstraints_s_u);k.SubVV(this.m_localAnchorD,this.m_lcD,this.m_lalcD);var I=T.MulRV(d,this.m_lalcD,n.InitVelocityConstraints_s_rD);k.SubVV(this.m_localAnchorB,this.m_lcB,this.m_lalcB);var B=T.MulRV(_,this.m_lalcB,n.InitVelocityConstraints_s_rB);k.MulSV(this.m_ratio,v,this.m_JvBD),this.m_JwD=this.m_ratio*k.CrossVV(I,v),this.m_JwB=this.m_ratio*k.CrossVV(B,v),this.m_mass+=this.m_ratio*this.m_ratio*(this.m_mD+this.m_mB)+this.m_iD*this.m_JwD*this.m_JwD+this.m_iB*this.m_JwB*this.m_JwB}this.m_mass=this.m_mass>0?1/this.m_mass:0,e.step.warmStarting?(i.SelfMulAdd(this.m_mA*this.m_impulse,this.m_JvAC),r+=this.m_iA*this.m_impulse*this.m_JwA,o.SelfMulAdd(this.m_mB*this.m_impulse,this.m_JvBD),a+=this.m_iB*this.m_impulse*this.m_JwB,l.SelfMulSub(this.m_mC*this.m_impulse,this.m_JvAC),u-=this.m_iC*this.m_impulse*this.m_JwC,c.SelfMulSub(this.m_mD*this.m_impulse,this.m_JvBD),f-=this.m_iD*this.m_impulse*this.m_JwD):this.m_impulse=0,e.velocities[this.m_indexA].w=r,e.velocities[this.m_indexB].w=a,e.velocities[this.m_indexC].w=u,e.velocities[this.m_indexD].w=f}},{key:"SolveVelocityConstraints",value:function(t){var e=t.velocities[this.m_indexA].v,i=t.velocities[this.m_indexA].w,n=t.velocities[this.m_indexB].v,r=t.velocities[this.m_indexB].w,s=t.velocities[this.m_indexC].v,o=t.velocities[this.m_indexC].w,a=t.velocities[this.m_indexD].v,A=t.velocities[this.m_indexD].w,l=k.DotVV(this.m_JvAC,k.SubVV(e,s,k.s_t0))+k.DotVV(this.m_JvBD,k.SubVV(n,a,k.s_t0)),u=-this.m_mass*(l+=this.m_JwA*i-this.m_JwC*o+(this.m_JwB*r-this.m_JwD*A));this.m_impulse+=u,e.SelfMulAdd(this.m_mA*u,this.m_JvAC),i+=this.m_iA*u*this.m_JwA,n.SelfMulAdd(this.m_mB*u,this.m_JvBD),r+=this.m_iB*u*this.m_JwB,s.SelfMulSub(this.m_mC*u,this.m_JvAC),o-=this.m_iC*u*this.m_JwC,a.SelfMulSub(this.m_mD*u,this.m_JvBD),A-=this.m_iD*u*this.m_JwD,t.velocities[this.m_indexA].w=i,t.velocities[this.m_indexB].w=r,t.velocities[this.m_indexC].w=o,t.velocities[this.m_indexD].w=A}},{key:"SolvePositionConstraints",value:function(e){var i,r,s,o,a,l,u=e.positions[this.m_indexA].c,h=e.positions[this.m_indexA].a,c=e.positions[this.m_indexB].c,f=e.positions[this.m_indexB].a,m=e.positions[this.m_indexC].c,_=e.positions[this.m_indexC].a,g=e.positions[this.m_indexD].c,d=e.positions[this.m_indexD].a,p=this.m_qA.SetAngle(h),y=this.m_qB.SetAngle(f),C=this.m_qC.SetAngle(_),v=this.m_qD.SetAngle(d),I=this.m_JvAC,B=this.m_JvBD,E=0;if(this.m_typeA===t.b2JointType.e_revoluteJoint)I.SetZero(),s=1,a=1,E+=this.m_iA+this.m_iC,i=h-_-this.m_referenceAngleA;else{var w=T.MulRV(C,this.m_localAxisC,n.SolvePositionConstraints_s_u),b=T.MulRV(C,this.m_lalcC,n.SolvePositionConstraints_s_rC),x=T.MulRV(p,this.m_lalcA,n.SolvePositionConstraints_s_rA);I.Copy(w),a=k.CrossVV(b,w),s=k.CrossVV(x,w),E+=this.m_mC+this.m_mA+this.m_iC*a*a+this.m_iA*s*s;var S=this.m_lalcC,Q=T.MulTRV(C,k.AddVV(x,k.SubVV(u,m,k.s_t0),k.s_t0),k.s_t0);i=k.DotVV(k.SubVV(Q,S,k.s_t0),this.m_localAxisC)}if(this.m_typeB===t.b2JointType.e_revoluteJoint)B.SetZero(),o=this.m_ratio,l=this.m_ratio,E+=this.m_ratio*this.m_ratio*(this.m_iB+this.m_iD),r=f-d-this.m_referenceAngleB;else{var D=T.MulRV(v,this.m_localAxisD,n.SolvePositionConstraints_s_u),M=T.MulRV(v,this.m_lalcD,n.SolvePositionConstraints_s_rD),R=T.MulRV(y,this.m_lalcB,n.SolvePositionConstraints_s_rB);k.MulSV(this.m_ratio,D,B),l=this.m_ratio*k.CrossVV(M,D),o=this.m_ratio*k.CrossVV(R,D),E+=this.m_ratio*this.m_ratio*(this.m_mD+this.m_mB)+this.m_iD*l*l+this.m_iB*o*o;var V=this.m_lalcD,G=T.MulTRV(v,k.AddVV(R,k.SubVV(c,g,k.s_t0),k.s_t0),k.s_t0);r=k.DotVV(k.SubVV(G,V,k.s_t0),this.m_localAxisD)}var F=0;return E>0&&(F=-(i+this.m_ratio*r-this.m_constant)/E),u.SelfMulAdd(this.m_mA*F,I),h+=this.m_iA*F*s,c.SelfMulAdd(this.m_mB*F,B),f+=this.m_iB*F*o,m.SelfMulSub(this.m_mC*F,I),_-=this.m_iC*F*a,g.SelfMulSub(this.m_mD*F,B),d-=this.m_iD*F*l,e.positions[this.m_indexA].a=h,e.positions[this.m_indexB].a=f,e.positions[this.m_indexC].a=_,e.positions[this.m_indexD].a=d,0<A}},{key:"GetAnchorA",value:function(t){return this.m_bodyA.GetWorldPoint(this.m_localAnchorA,t)}},{key:"GetAnchorB",value:function(t){return this.m_bodyB.GetWorldPoint(this.m_localAnchorB,t)}},{key:"GetReactionForce",value:function(t,e){return k.MulSV(t*this.m_impulse,this.m_JvAC,e)}},{key:"GetReactionTorque",value:function(t){return t*this.m_impulse*this.m_JwA}},{key:"GetJoint1",value:function(){return this.m_joint1}},{key:"GetJoint2",value:function(){return this.m_joint2}},{key:"GetRatio",value:function(){return this.m_ratio}},{key:"SetRatio",value:function(t){this.m_ratio=t}},{key:"Dump",value:function(t){var e=this.m_bodyA.m_islandIndex,i=this.m_bodyB.m_islandIndex,n=this.m_joint1.m_index,r=this.m_joint2.m_index;t("  const jd: b2GearJointDef = new b2GearJointDef();\n"),t("  jd.bodyA = bodies[%d];\n",e),t("  jd.bodyB = bodies[%d];\n",i),t("  jd.collideConnected = %s;\n",this.m_collideConnected?"true":"false"),t("  jd.joint1 = joints[%d];\n",n),t("  jd.joint2 = joints[%d];\n",r),t("  jd.ratio = %.15f;\n",this.m_ratio),t("  joints[%d] = this.m_world.CreateJoint(jd);\n",this.m_index)}}]),n}(ci);di.InitVelocityConstraints_s_u=new k,di.InitVelocityConstraints_s_rA=new k,di.InitVelocityConstraints_s_rB=new k,di.InitVelocityConstraints_s_rC=new k,di.InitVelocityConstraints_s_rD=new k,di.SolvePositionConstraints_s_u=new k,di.SolvePositionConstraints_s_rA=new k,di.SolvePositionConstraints_s_rB=new k,di.SolvePositionConstraints_s_rC=new k,di.SolvePositionConstraints_s_rD=new k;var pi=function(t){function i(t){var n;return _classCallCheck2(this,i),(n=_possibleConstructorReturn(this,_getPrototypeOf(i).call(this,t))).m_linearOffset=new k,n.m_angularOffset=0,n.m_linearImpulse=new k,n.m_angularImpulse=0,n.m_maxForce=0,n.m_maxTorque=0,n.m_correctionFactor=.3,n.m_indexA=0,n.m_indexB=0,n.m_rA=new k,n.m_rB=new k,n.m_localCenterA=new k,n.m_localCenterB=new k,n.m_linearError=new k,n.m_angularError=0,n.m_invMassA=0,n.m_invMassB=0,n.m_invIA=0,n.m_invIB=0,n.m_linearMass=new R,n.m_angularMass=0,n.m_qA=new T,n.m_qB=new T,n.m_K=new R,n.m_linearOffset.Copy(e(t.linearOffset,k.ZERO)),n.m_linearImpulse.SetZero(),n.m_maxForce=e(t.maxForce,0),n.m_maxTorque=e(t.maxTorque,0),n.m_correctionFactor=e(t.correctionFactor,.3),n}return _inherits(i,t),_createClass2(i,[{key:"GetAnchorA",value:function(t){var e=this.m_bodyA.GetPosition();return t.x=e.x,t.y=e.y,t}},{key:"GetAnchorB",value:function(t){var e=this.m_bodyB.GetPosition();return t.x=e.x,t.y=e.y,t}},{key:"GetReactionForce",value:function(t,e){return k.MulSV(t,this.m_linearImpulse,e)}},{key:"GetReactionTorque",value:function(t){return t*this.m_angularImpulse}},{key:"SetLinearOffset",value:function(t){k.IsEqualToV(t,this.m_linearOffset)||(this.m_bodyA.SetAwake(!0),this.m_bodyB.SetAwake(!0),this.m_linearOffset.Copy(t))}},{key:"GetLinearOffset",value:function(){return this.m_linearOffset}},{key:"SetAngularOffset",value:function(t){t!==this.m_angularOffset&&(this.m_bodyA.SetAwake(!0),this.m_bodyB.SetAwake(!0),this.m_angularOffset=t)}},{key:"GetAngularOffset",value:function(){return this.m_angularOffset}},{key:"SetMaxForce",value:function(t){this.m_maxForce=t}},{key:"GetMaxForce",value:function(){return this.m_maxForce}},{key:"SetMaxTorque",value:function(t){this.m_maxTorque=t}},{key:"GetMaxTorque",value:function(){return this.m_maxTorque}},{key:"InitVelocityConstraints",value:function(t){this.m_indexA=this.m_bodyA.m_islandIndex,this.m_indexB=this.m_bodyB.m_islandIndex,this.m_localCenterA.Copy(this.m_bodyA.m_sweep.localCenter),this.m_localCenterB.Copy(this.m_bodyB.m_sweep.localCenter),this.m_invMassA=this.m_bodyA.m_invMass,this.m_invMassB=this.m_bodyB.m_invMass,this.m_invIA=this.m_bodyA.m_invI,this.m_invIB=this.m_bodyB.m_invI;var e=t.positions[this.m_indexA].c,i=t.positions[this.m_indexA].a,n=t.velocities[this.m_indexA].v,r=t.velocities[this.m_indexA].w,s=t.positions[this.m_indexB].c,o=t.positions[this.m_indexB].a,a=t.velocities[this.m_indexB].v,A=t.velocities[this.m_indexB].w,l=this.m_qA.SetAngle(i),u=this.m_qB.SetAngle(o),h=T.MulRV(l,k.SubVV(this.m_linearOffset,this.m_localCenterA,k.s_t0),this.m_rA),c=T.MulRV(u,k.NegV(this.m_localCenterB,k.s_t0),this.m_rB),f=this.m_invMassA,m=this.m_invMassB,_=this.m_invIA,g=this.m_invIB,d=this.m_K;if(d.ex.x=f+m+_*h.y*h.y+g*c.y*c.y,d.ex.y=-_*h.x*h.y-g*c.x*c.y,d.ey.x=d.ex.y,d.ey.y=f+m+_*h.x*h.x+g*c.x*c.x,d.GetInverse(this.m_linearMass),this.m_angularMass=_+g,this.m_angularMass>0&&(this.m_angularMass=1/this.m_angularMass),k.SubVV(k.AddVV(s,c,k.s_t0),k.AddVV(e,h,k.s_t1),this.m_linearError),this.m_angularError=o-i-this.m_angularOffset,t.step.warmStarting){this.m_linearImpulse.SelfMul(t.step.dtRatio),this.m_angularImpulse*=t.step.dtRatio;var p=this.m_linearImpulse;n.SelfMulSub(f,p),r-=_*(k.CrossVV(h,p)+this.m_angularImpulse),a.SelfMulAdd(m,p),A+=g*(k.CrossVV(c,p)+this.m_angularImpulse)}else this.m_linearImpulse.SetZero(),this.m_angularImpulse=0;t.velocities[this.m_indexA].w=r,t.velocities[this.m_indexB].w=A}},{key:"SolveVelocityConstraints",value:function(t){var e=t.velocities[this.m_indexA].v,n=t.velocities[this.m_indexA].w,r=t.velocities[this.m_indexB].v,s=t.velocities[this.m_indexB].w,o=this.m_invMassA,a=this.m_invMassB,A=this.m_invIA,l=this.m_invIB,u=t.step.dt,h=t.step.inv_dt,c=-this.m_angularMass*(s-n+h*this.m_correctionFactor*this.m_angularError),f=this.m_angularImpulse,m=u*this.m_maxTorque;this.m_angularImpulse=y(this.m_angularImpulse+c,-m,m),n-=A*(c=this.m_angularImpulse-f),s+=l*c;var _=this.m_rA,g=this.m_rB,d=k.AddVV(k.SubVV(k.AddVV(r,k.CrossSV(s,g,k.s_t0),k.s_t0),k.AddVV(e,k.CrossSV(n,_,k.s_t1),k.s_t1),k.s_t2),k.MulSV(h*this.m_correctionFactor,this.m_linearError,k.s_t3),i.SolveVelocityConstraints_s_Cdot_v2),p=R.MulMV(this.m_linearMass,d,i.SolveVelocityConstraints_s_impulse_v2).SelfNeg(),C=i.SolveVelocityConstraints_s_oldImpulse_v2.Copy(this.m_linearImpulse);this.m_linearImpulse.SelfAdd(p);var v=u*this.m_maxForce;this.m_linearImpulse.LengthSquared()>v*v&&(this.m_linearImpulse.Normalize(),this.m_linearImpulse.SelfMul(v)),k.SubVV(this.m_linearImpulse,C,p),e.SelfMulSub(o,p),n-=A*k.CrossVV(_,p),r.SelfMulAdd(a,p),s+=l*k.CrossVV(g,p),t.velocities[this.m_indexA].w=n,t.velocities[this.m_indexB].w=s}},{key:"SolvePositionConstraints",value:function(t){return!0}},{key:"Dump",value:function(t){var e=this.m_bodyA.m_islandIndex,i=this.m_bodyB.m_islandIndex;t("  const jd: b2MotorJointDef = new b2MotorJointDef();\n"),t("  jd.bodyA = bodies[%d];\n",e),t("  jd.bodyB = bodies[%d];\n",i),t("  jd.collideConnected = %s;\n",this.m_collideConnected?"true":"false"),t("  jd.linearOffset.Set(%.15f, %.15f);\n",this.m_linearOffset.x,this.m_linearOffset.y),t("  jd.angularOffset = %.15f;\n",this.m_angularOffset),t("  jd.maxForce = %.15f;\n",this.m_maxForce),t("  jd.maxTorque = %.15f;\n",this.m_maxTorque),t("  jd.correctionFactor = %.15f;\n",this.m_correctionFactor),t("  joints[%d] = this.m_world.CreateJoint(jd);\n",this.m_index)}}]),i}(ci);pi.SolveVelocityConstraints_s_Cdot_v2=new k,pi.SolveVelocityConstraints_s_impulse_v2=new k,pi.SolveVelocityConstraints_s_oldImpulse_v2=new k;var yi=function(t){function i(t){var n;return _classCallCheck2(this,i),(n=_possibleConstructorReturn(this,_getPrototypeOf(i).call(this,t))).m_localAnchorB=new k,n.m_targetA=new k,n.m_frequencyHz=0,n.m_dampingRatio=0,n.m_beta=0,n.m_impulse=new k,n.m_maxForce=0,n.m_gamma=0,n.m_indexA=0,n.m_indexB=0,n.m_rB=new k,n.m_localCenterB=new k,n.m_invMassB=0,n.m_invIB=0,n.m_mass=new R,n.m_C=new k,n.m_qB=new T,n.m_lalcB=new k,n.m_K=new R,n.m_targetA.Copy(e(t.target,k.ZERO)),G.MulTXV(n.m_bodyB.GetTransform(),n.m_targetA,n.m_localAnchorB),n.m_maxForce=e(t.maxForce,0),n.m_impulse.SetZero(),n.m_frequencyHz=e(t.frequencyHz,0),n.m_dampingRatio=e(t.dampingRatio,0),n.m_beta=0,n.m_gamma=0,n}return _inherits(i,t),_createClass2(i,[{key:"SetTarget",value:function(t){this.m_bodyB.IsAwake()||this.m_bodyB.SetAwake(!0),this.m_targetA.Copy(t)}},{key:"GetTarget",value:function(){return this.m_targetA}},{key:"SetMaxForce",value:function(t){this.m_maxForce=t}},{key:"GetMaxForce",value:function(){return this.m_maxForce}},{key:"SetFrequency",value:function(t){this.m_frequencyHz=t}},{key:"GetFrequency",value:function(){return this.m_frequencyHz}},{key:"SetDampingRatio",value:function(t){this.m_dampingRatio=t}},{key:"GetDampingRatio",value:function(){return this.m_dampingRatio}},{key:"InitVelocityConstraints",value:function(t){this.m_indexB=this.m_bodyB.m_islandIndex,this.m_localCenterB.Copy(this.m_bodyB.m_sweep.localCenter),this.m_invMassB=this.m_bodyB.m_invMass,this.m_invIB=this.m_bodyB.m_invI;var e=t.positions[this.m_indexB].c,i=t.velocities[this.m_indexB].v,n=t.velocities[this.m_indexB].w,r=this.m_qB.SetAngle(t.positions[this.m_indexB].a),o=this.m_bodyB.GetMass(),a=2*s*this.m_frequencyHz,A=o*(a*a),l=t.step.dt;this.m_gamma=l*(2*o*this.m_dampingRatio*a+l*A),0!==this.m_gamma&&(this.m_gamma=1/this.m_gamma),this.m_beta=l*A*this.m_gamma,k.SubVV(this.m_localAnchorB,this.m_localCenterB,this.m_lalcB),T.MulRV(r,this.m_lalcB,this.m_rB);var u=this.m_K;u.ex.x=this.m_invMassB+this.m_invIB*this.m_rB.y*this.m_rB.y+this.m_gamma,u.ex.y=-this.m_invIB*this.m_rB.x*this.m_rB.y,u.ey.x=u.ex.y,u.ey.y=this.m_invMassB+this.m_invIB*this.m_rB.x*this.m_rB.x+this.m_gamma,u.GetInverse(this.m_mass),this.m_C.x=e.x+this.m_rB.x-this.m_targetA.x,this.m_C.y=e.y+this.m_rB.y-this.m_targetA.y,this.m_C.SelfMul(this.m_beta),n*=.98,t.step.warmStarting?(this.m_impulse.SelfMul(t.step.dtRatio),i.x+=this.m_invMassB*this.m_impulse.x,i.y+=this.m_invMassB*this.m_impulse.y,n+=this.m_invIB*k.CrossVV(this.m_rB,this.m_impulse)):this.m_impulse.SetZero(),t.velocities[this.m_indexB].w=n}},{key:"SolveVelocityConstraints",value:function(t){var e=t.velocities[this.m_indexB].v,n=t.velocities[this.m_indexB].w,r=k.AddVCrossSV(e,n,this.m_rB,i.SolveVelocityConstraints_s_Cdot),s=R.MulMV(this.m_mass,k.AddVV(r,k.AddVV(this.m_C,k.MulSV(this.m_gamma,this.m_impulse,k.s_t0),k.s_t0),k.s_t0).SelfNeg(),i.SolveVelocityConstraints_s_impulse),o=i.SolveVelocityConstraints_s_oldImpulse.Copy(this.m_impulse);this.m_impulse.SelfAdd(s);var a=t.step.dt*this.m_maxForce;this.m_impulse.LengthSquared()>a*a&&this.m_impulse.SelfMul(a/this.m_impulse.Length()),k.SubVV(this.m_impulse,o,s),e.SelfMulAdd(this.m_invMassB,s),n+=this.m_invIB*k.CrossVV(this.m_rB,s),t.velocities[this.m_indexB].w=n}},{key:"SolvePositionConstraints",value:function(t){return!0}},{key:"GetAnchorA",value:function(t){return t.x=this.m_targetA.x,t.y=this.m_targetA.y,t}},{key:"GetAnchorB",value:function(t){return this.m_bodyB.GetWorldPoint(this.m_localAnchorB,t)}},{key:"GetReactionForce",value:function(t,e){return k.MulSV(t,this.m_impulse,e)}},{key:"GetReactionTorque",value:function(t){return 0}},{key:"Dump",value:function(t){t("Mouse joint dumping is not supported.\n")}},{key:"ShiftOrigin",value:function(t){this.m_targetA.SelfSub(t)}}]),i}(ci);yi.SolveVelocityConstraints_s_Cdot=new k,yi.SolveVelocityConstraints_s_impulse=new k,yi.SolveVelocityConstraints_s_oldImpulse=new k;var Ci=function(i){function n(i){var r;return _classCallCheck2(this,n),(r=_possibleConstructorReturn(this,_getPrototypeOf(n).call(this,i))).m_localAnchorA=new k,r.m_localAnchorB=new k,r.m_localXAxisA=new k,r.m_localYAxisA=new k,r.m_referenceAngle=0,r.m_impulse=new M(0,0,0),r.m_motorImpulse=0,r.m_lowerTranslation=0,r.m_upperTranslation=0,r.m_maxMotorForce=0,r.m_motorSpeed=0,r.m_enableLimit=!1,r.m_enableMotor=!1,r.m_limitState=t.b2LimitState.e_inactiveLimit,r.m_indexA=0,r.m_indexB=0,r.m_localCenterA=new k,r.m_localCenterB=new k,r.m_invMassA=0,r.m_invMassB=0,r.m_invIA=0,r.m_invIB=0,r.m_axis=new k(0,0),r.m_perp=new k(0,0),r.m_s1=0,r.m_s2=0,r.m_a1=0,r.m_a2=0,r.m_K=new V,r.m_K3=new V,r.m_K2=new R,r.m_motorMass=0,r.m_qA=new T,r.m_qB=new T,r.m_lalcA=new k,r.m_lalcB=new k,r.m_rA=new k,r.m_rB=new k,r.m_localAnchorA.Copy(e(i.localAnchorA,k.ZERO)),r.m_localAnchorB.Copy(e(i.localAnchorB,k.ZERO)),r.m_localXAxisA.Copy(e(i.localAxisA,new k(1,0))).SelfNormalize(),k.CrossOneV(r.m_localXAxisA,r.m_localYAxisA),r.m_referenceAngle=e(i.referenceAngle,0),r.m_lowerTranslation=e(i.lowerTranslation,0),r.m_upperTranslation=e(i.upperTranslation,0),r.m_maxMotorForce=e(i.maxMotorForce,0),r.m_motorSpeed=e(i.motorSpeed,0),r.m_enableLimit=e(i.enableLimit,!1),r.m_enableMotor=e(i.enableMotor,!1),r}return _inherits(n,i),_createClass2(n,[{key:"InitVelocityConstraints",value:function(e){this.m_indexA=this.m_bodyA.m_islandIndex,this.m_indexB=this.m_bodyB.m_islandIndex,this.m_localCenterA.Copy(this.m_bodyA.m_sweep.localCenter),this.m_localCenterB.Copy(this.m_bodyB.m_sweep.localCenter),this.m_invMassA=this.m_bodyA.m_invMass,this.m_invMassB=this.m_bodyB.m_invMass,this.m_invIA=this.m_bodyA.m_invI,this.m_invIB=this.m_bodyB.m_invI;var i=e.positions[this.m_indexA].c,r=e.velocities[this.m_indexA].v,s=e.velocities[this.m_indexA].w,o=e.positions[this.m_indexB].c,a=e.positions[this.m_indexB].a,l=e.velocities[this.m_indexB].v,u=e.velocities[this.m_indexB].w,h=this.m_qA.SetAngle(e.positions[this.m_indexA].a),c=this.m_qB.SetAngle(a);k.SubVV(this.m_localAnchorA,this.m_localCenterA,this.m_lalcA);var f=T.MulRV(h,this.m_lalcA,this.m_rA);k.SubVV(this.m_localAnchorB,this.m_localCenterB,this.m_lalcB);var m=T.MulRV(c,this.m_lalcB,this.m_rB),_=k.AddVV(k.SubVV(o,i,k.s_t0),k.SubVV(m,f,k.s_t1),n.InitVelocityConstraints_s_d),d=this.m_invMassA,p=this.m_invMassB,y=this.m_invIA,C=this.m_invIB;if(T.MulRV(h,this.m_localXAxisA,this.m_axis),this.m_a1=k.CrossVV(k.AddVV(_,f,k.s_t0),this.m_axis),this.m_a2=k.CrossVV(m,this.m_axis),this.m_motorMass=d+p+y*this.m_a1*this.m_a1+C*this.m_a2*this.m_a2,this.m_motorMass>0&&(this.m_motorMass=1/this.m_motorMass),T.MulRV(h,this.m_localYAxisA,this.m_perp),this.m_s1=k.CrossVV(k.AddVV(_,f,k.s_t0),this.m_perp),this.m_s2=k.CrossVV(m,this.m_perp),this.m_K.ex.x=d+p+y*this.m_s1*this.m_s1+C*this.m_s2*this.m_s2,this.m_K.ex.y=y*this.m_s1+C*this.m_s2,this.m_K.ex.z=y*this.m_s1*this.m_a1+C*this.m_s2*this.m_a2,this.m_K.ey.x=this.m_K.ex.y,this.m_K.ey.y=y+C,0===this.m_K.ey.y&&(this.m_K.ey.y=1),this.m_K.ey.z=y*this.m_a1+C*this.m_a2,this.m_K.ez.x=this.m_K.ex.z,this.m_K.ez.y=this.m_K.ey.z,this.m_K.ez.z=d+p+y*this.m_a1*this.m_a1+C*this.m_a2*this.m_a2,this.m_enableLimit){var v=k.DotVV(this.m_axis,_);g(this.m_upperTranslation-this.m_lowerTranslation)<2*A?this.m_limitState=t.b2LimitState.e_equalLimits:v<=this.m_lowerTranslation?this.m_limitState!==t.b2LimitState.e_atLowerLimit&&(this.m_limitState=t.b2LimitState.e_atLowerLimit,this.m_impulse.z=0):v>=this.m_upperTranslation?this.m_limitState!==t.b2LimitState.e_atUpperLimit&&(this.m_limitState=t.b2LimitState.e_atUpperLimit,this.m_impulse.z=0):(this.m_limitState=t.b2LimitState.e_inactiveLimit,this.m_impulse.z=0)}else this.m_limitState=t.b2LimitState.e_inactiveLimit,this.m_impulse.z=0;if(this.m_enableMotor||(this.m_motorImpulse=0),e.step.warmStarting){this.m_impulse.SelfMul(e.step.dtRatio),this.m_motorImpulse*=e.step.dtRatio;var I=k.AddVV(k.MulSV(this.m_impulse.x,this.m_perp,k.s_t0),k.MulSV(this.m_motorImpulse+this.m_impulse.z,this.m_axis,k.s_t1),n.InitVelocityConstraints_s_P),B=this.m_impulse.x*this.m_s1+this.m_impulse.y+(this.m_motorImpulse+this.m_impulse.z)*this.m_a1,E=this.m_impulse.x*this.m_s2+this.m_impulse.y+(this.m_motorImpulse+this.m_impulse.z)*this.m_a2;r.SelfMulSub(d,I),s-=y*B,l.SelfMulAdd(p,I),u+=C*E}else this.m_impulse.SetZero(),this.m_motorImpulse=0;e.velocities[this.m_indexA].w=s,e.velocities[this.m_indexB].w=u}},{key:"SolveVelocityConstraints",value:function(e){var i=e.velocities[this.m_indexA].v,r=e.velocities[this.m_indexA].w,s=e.velocities[this.m_indexB].v,o=e.velocities[this.m_indexB].w,a=this.m_invMassA,A=this.m_invMassB,l=this.m_invIA,u=this.m_invIB;if(this.m_enableMotor&&this.m_limitState!==t.b2LimitState.e_equalLimits){var h=k.DotVV(this.m_axis,k.SubVV(s,i,k.s_t0))+this.m_a2*o-this.m_a1*r,c=this.m_motorMass*(this.m_motorSpeed-h),f=this.m_motorImpulse,m=e.step.dt*this.m_maxMotorForce;this.m_motorImpulse=y(this.m_motorImpulse+c,-m,m);var _=k.MulSV(c=this.m_motorImpulse-f,this.m_axis,n.SolveVelocityConstraints_s_P),g=c*this.m_a1,C=c*this.m_a2;i.SelfMulSub(a,_),r-=l*g,s.SelfMulAdd(A,_),o+=u*C}var v=k.DotVV(this.m_perp,k.SubVV(s,i,k.s_t0))+this.m_s2*o-this.m_s1*r,I=o-r;if(this.m_enableLimit&&this.m_limitState!==t.b2LimitState.e_inactiveLimit){var B=k.DotVV(this.m_axis,k.SubVV(s,i,k.s_t0))+this.m_a2*o-this.m_a1*r,E=n.SolveVelocityConstraints_s_f1.Copy(this.m_impulse),w=this.m_K.Solve33(-v,-I,-B,n.SolveVelocityConstraints_s_df3);this.m_impulse.SelfAdd(w),this.m_limitState===t.b2LimitState.e_atLowerLimit?this.m_impulse.z=p(this.m_impulse.z,0):this.m_limitState===t.b2LimitState.e_atUpperLimit&&(this.m_impulse.z=d(this.m_impulse.z,0));var b=this.m_K.Solve22(-v-(this.m_impulse.z-E.z)*this.m_K.ez.x,-I-(this.m_impulse.z-E.z)*this.m_K.ez.y,n.SolveVelocityConstraints_s_f2r);b.x+=E.x,b.y+=E.y,this.m_impulse.x=b.x,this.m_impulse.y=b.y,w.x=this.m_impulse.x-E.x,w.y=this.m_impulse.y-E.y,w.z=this.m_impulse.z-E.z;var x=k.AddVV(k.MulSV(w.x,this.m_perp,k.s_t0),k.MulSV(w.z,this.m_axis,k.s_t1),n.SolveVelocityConstraints_s_P),S=w.x*this.m_s1+w.y+w.z*this.m_a1,Q=w.x*this.m_s2+w.y+w.z*this.m_a2;i.SelfMulSub(a,x),r-=l*S,s.SelfMulAdd(A,x),o+=u*Q}else{var D=this.m_K.Solve22(-v,-I,n.SolveVelocityConstraints_s_df2);this.m_impulse.x+=D.x,this.m_impulse.y+=D.y;var M=k.MulSV(D.x,this.m_perp,n.SolveVelocityConstraints_s_P),R=D.x*this.m_s1+D.y,V=D.x*this.m_s2+D.y;i.SelfMulSub(a,M),r-=l*R,s.SelfMulAdd(A,M),o+=u*V}e.velocities[this.m_indexA].w=r,e.velocities[this.m_indexB].w=o}},{key:"SolvePositionConstraints",value:function(t){var e=t.positions[this.m_indexA].c,i=t.positions[this.m_indexA].a,r=t.positions[this.m_indexB].c,s=t.positions[this.m_indexB].a,o=this.m_qA.SetAngle(i),a=this.m_qB.SetAngle(s),u=this.m_invMassA,h=this.m_invMassB,c=this.m_invIA,f=this.m_invIB,m=T.MulRV(o,this.m_lalcA,this.m_rA),_=T.MulRV(a,this.m_lalcB,this.m_rB),d=k.SubVV(k.AddVV(r,_,k.s_t0),k.AddVV(e,m,k.s_t1),n.SolvePositionConstraints_s_d),C=T.MulRV(o,this.m_localXAxisA,this.m_axis),v=k.CrossVV(k.AddVV(d,m,k.s_t0),C),I=k.CrossVV(_,C),B=T.MulRV(o,this.m_localYAxisA,this.m_perp),E=k.CrossVV(k.AddVV(d,m,k.s_t0),B),w=k.CrossVV(_,B),b=n.SolvePositionConstraints_s_impulse,x=k.DotVV(B,d),S=s-i-this.m_referenceAngle,Q=g(x),D=g(S),M=!1,R=0;if(this.m_enableLimit){var V=k.DotVV(C,d);g(this.m_upperTranslation-this.m_lowerTranslation)<2*A?(R=y(V,-.2,.2),Q=p(Q,g(V)),M=!0):V<=this.m_lowerTranslation?(R=y(V-this.m_lowerTranslation+A,-.2,0),Q=p(Q,this.m_lowerTranslation-V),M=!0):V>=this.m_upperTranslation&&(R=y(V-this.m_upperTranslation-A,0,.2),Q=p(Q,V-this.m_upperTranslation),M=!0)}if(M){var G=c*E+f*w,F=c*E*v+f*w*I,P=c+f;0===P&&(P=1);var N=c*v+f*I,L=u+h+c*v*v+f*I*I,U=this.m_K3;U.ex.SetXYZ(u+h+c*E*E+f*w*w,G,F),U.ey.SetXYZ(G,P,N),U.ez.SetXYZ(F,N,L),b=U.Solve33(-x,-S,-R,b)}else{var O=c*E+f*w,Y=c+f;0===Y&&(Y=1);var H=this.m_K2;H.ex.Set(u+h+c*E*E+f*w*w,O),H.ey.Set(O,Y);var J=H.Solve(-x,-S,n.SolvePositionConstraints_s_impulse1);b.x=J.x,b.y=J.y,b.z=0}var j=k.AddVV(k.MulSV(b.x,B,k.s_t0),k.MulSV(b.z,C,k.s_t1),n.SolvePositionConstraints_s_P),K=b.x*E+b.y+b.z*v,q=b.x*w+b.y+b.z*I;return e.SelfMulSub(u,j),i-=c*K,r.SelfMulAdd(h,j),s+=f*q,t.positions[this.m_indexA].a=i,t.positions[this.m_indexB].a=s,Q<=A&&D<=l}},{key:"GetAnchorA",value:function(t){return this.m_bodyA.GetWorldPoint(this.m_localAnchorA,t)}},{key:"GetAnchorB",value:function(t){return this.m_bodyB.GetWorldPoint(this.m_localAnchorB,t)}},{key:"GetReactionForce",value:function(t,e){return e.x=t*(this.m_impulse.x*this.m_perp.x+(this.m_motorImpulse+this.m_impulse.z)*this.m_axis.x),e.y=t*(this.m_impulse.x*this.m_perp.y+(this.m_motorImpulse+this.m_impulse.z)*this.m_axis.y),e}},{key:"GetReactionTorque",value:function(t){return t*this.m_impulse.y}},{key:"GetLocalAnchorA",value:function(){return this.m_localAnchorA}},{key:"GetLocalAnchorB",value:function(){return this.m_localAnchorB}},{key:"GetLocalAxisA",value:function(){return this.m_localXAxisA}},{key:"GetReferenceAngle",value:function(){return this.m_referenceAngle}},{key:"GetJointTranslation",value:function(){var t=this.m_bodyA.GetWorldPoint(this.m_localAnchorA,n.GetJointTranslation_s_pA),e=this.m_bodyB.GetWorldPoint(this.m_localAnchorB,n.GetJointTranslation_s_pB),i=k.SubVV(e,t,n.GetJointTranslation_s_d),r=this.m_bodyA.GetWorldVector(this.m_localXAxisA,n.GetJointTranslation_s_axis);return k.DotVV(i,r)}},{key:"GetJointSpeed",value:function(){var t=this.m_bodyA,e=this.m_bodyB;k.SubVV(this.m_localAnchorA,t.m_sweep.localCenter,this.m_lalcA);var i=T.MulRV(t.m_xf.q,this.m_lalcA,this.m_rA);k.SubVV(this.m_localAnchorB,e.m_sweep.localCenter,this.m_lalcB);var n=T.MulRV(e.m_xf.q,this.m_lalcB,this.m_rB),r=k.AddVV(t.m_sweep.c,i,k.s_t0),s=k.AddVV(e.m_sweep.c,n,k.s_t1),o=k.SubVV(s,r,k.s_t2),a=t.GetWorldVector(this.m_localXAxisA,this.m_axis),A=t.m_linearVelocity,l=e.m_linearVelocity,u=t.m_angularVelocity,h=e.m_angularVelocity;return k.DotVV(o,k.CrossSV(u,a,k.s_t0))+k.DotVV(a,k.SubVV(k.AddVCrossSV(l,h,n,k.s_t0),k.AddVCrossSV(A,u,i,k.s_t1),k.s_t0))}},{key:"IsLimitEnabled",value:function(){return this.m_enableLimit}},{key:"EnableLimit",value:function(t){t!==this.m_enableLimit&&(this.m_bodyA.SetAwake(!0),this.m_bodyB.SetAwake(!0),this.m_enableLimit=t,this.m_impulse.z=0)}},{key:"GetLowerLimit",value:function(){return this.m_lowerTranslation}},{key:"GetUpperLimit",value:function(){return this.m_upperTranslation}},{key:"SetLimits",value:function(t,e){t===this.m_lowerTranslation&&e===this.m_upperTranslation||(this.m_bodyA.SetAwake(!0),this.m_bodyB.SetAwake(!0),this.m_lowerTranslation=t,this.m_upperTranslation=e,this.m_impulse.z=0)}},{key:"IsMotorEnabled",value:function(){return this.m_enableMotor}},{key:"EnableMotor",value:function(t){t!==this.m_enableMotor&&(this.m_bodyA.SetAwake(!0),this.m_bodyB.SetAwake(!0),this.m_enableMotor=t)}},{key:"SetMotorSpeed",value:function(t){t!==this.m_motorSpeed&&(this.m_bodyA.SetAwake(!0),this.m_bodyB.SetAwake(!0),this.m_motorSpeed=t)}},{key:"GetMotorSpeed",value:function(){return this.m_motorSpeed}},{key:"SetMaxMotorForce",value:function(t){t!==this.m_maxMotorForce&&(this.m_bodyA.SetAwake(!0),this.m_bodyB.SetAwake(!0),this.m_maxMotorForce=t)}},{key:"GetMaxMotorForce",value:function(){return this.m_maxMotorForce}},{key:"GetMotorForce",value:function(t){return t*this.m_motorImpulse}},{key:"Dump",value:function(t){var e=this.m_bodyA.m_islandIndex,i=this.m_bodyB.m_islandIndex;t("  const jd: b2PrismaticJointDef = new b2PrismaticJointDef();\n"),t("  jd.bodyA = bodies[%d];\n",e),t("  jd.bodyB = bodies[%d];\n",i),t("  jd.collideConnected = %s;\n",this.m_collideConnected?"true":"false"),t("  jd.localAnchorA.Set(%.15f, %.15f);\n",this.m_localAnchorA.x,this.m_localAnchorA.y),t("  jd.localAnchorB.Set(%.15f, %.15f);\n",this.m_localAnchorB.x,this.m_localAnchorB.y),t("  jd.localAxisA.Set(%.15f, %.15f);\n",this.m_localXAxisA.x,this.m_localXAxisA.y),t("  jd.referenceAngle = %.15f;\n",this.m_referenceAngle),t("  jd.enableLimit = %s;\n",this.m_enableLimit?"true":"false"),t("  jd.lowerTranslation = %.15f;\n",this.m_lowerTranslation),t("  jd.upperTranslation = %.15f;\n",this.m_upperTranslation),t("  jd.enableMotor = %s;\n",this.m_enableMotor?"true":"false"),t("  jd.motorSpeed = %.15f;\n",this.m_motorSpeed),t("  jd.maxMotorForce = %.15f;\n",this.m_maxMotorForce),t("  joints[%d] = this.m_world.CreateJoint(jd);\n",this.m_index)}}]),n}(ci);Ci.InitVelocityConstraints_s_d=new k,Ci.InitVelocityConstraints_s_P=new k,Ci.SolveVelocityConstraints_s_P=new k,Ci.SolveVelocityConstraints_s_f2r=new k,Ci.SolveVelocityConstraints_s_f1=new M,Ci.SolveVelocityConstraints_s_df3=new M,Ci.SolveVelocityConstraints_s_df2=new k,Ci.SolvePositionConstraints_s_d=new k,Ci.SolvePositionConstraints_s_impulse=new M,Ci.SolvePositionConstraints_s_impulse1=new k,Ci.SolvePositionConstraints_s_P=new k,Ci.GetJointTranslation_s_pA=new k,Ci.GetJointTranslation_s_pB=new k,Ci.GetJointTranslation_s_d=new k,Ci.GetJointTranslation_s_axis=new k;var vi=function(t){function i(t){var n;return _classCallCheck2(this,i),(n=_possibleConstructorReturn(this,_getPrototypeOf(i).call(this,t))).m_groundAnchorA=new k,n.m_groundAnchorB=new k,n.m_lengthA=0,n.m_lengthB=0,n.m_localAnchorA=new k,n.m_localAnchorB=new k,n.m_constant=0,n.m_ratio=0,n.m_impulse=0,n.m_indexA=0,n.m_indexB=0,n.m_uA=new k,n.m_uB=new k,n.m_rA=new k,n.m_rB=new k,n.m_localCenterA=new k,n.m_localCenterB=new k,n.m_invMassA=0,n.m_invMassB=0,n.m_invIA=0,n.m_invIB=0,n.m_mass=0,n.m_qA=new T,n.m_qB=new T,n.m_lalcA=new k,n.m_lalcB=new k,n.m_groundAnchorA.Copy(e(t.groundAnchorA,new k(-1,1))),n.m_groundAnchorB.Copy(e(t.groundAnchorB,new k(1,0))),n.m_localAnchorA.Copy(e(t.localAnchorA,new k(-1,0))),n.m_localAnchorB.Copy(e(t.localAnchorB,new k(1,0))),n.m_lengthA=e(t.lengthA,0),n.m_lengthB=e(t.lengthB,0),n.m_ratio=e(t.ratio,1),n.m_constant=e(t.lengthA,0)+n.m_ratio*e(t.lengthB,0),n.m_impulse=0,n}return _inherits(i,t),_createClass2(i,[{key:"InitVelocityConstraints",value:function(t){this.m_indexA=this.m_bodyA.m_islandIndex,this.m_indexB=this.m_bodyB.m_islandIndex,this.m_localCenterA.Copy(this.m_bodyA.m_sweep.localCenter),this.m_localCenterB.Copy(this.m_bodyB.m_sweep.localCenter),this.m_invMassA=this.m_bodyA.m_invMass,this.m_invMassB=this.m_bodyB.m_invMass,this.m_invIA=this.m_bodyA.m_invI,this.m_invIB=this.m_bodyB.m_invI;var e=t.positions[this.m_indexA].c,n=t.velocities[this.m_indexA].v,r=t.velocities[this.m_indexA].w,s=t.positions[this.m_indexB].c,o=t.positions[this.m_indexB].a,a=t.velocities[this.m_indexB].v,l=t.velocities[this.m_indexB].w,u=this.m_qA.SetAngle(t.positions[this.m_indexA].a),h=this.m_qB.SetAngle(o);k.SubVV(this.m_localAnchorA,this.m_localCenterA,this.m_lalcA),T.MulRV(u,this.m_lalcA,this.m_rA),k.SubVV(this.m_localAnchorB,this.m_localCenterB,this.m_lalcB),T.MulRV(h,this.m_lalcB,this.m_rB),this.m_uA.Copy(e).SelfAdd(this.m_rA).SelfSub(this.m_groundAnchorA),this.m_uB.Copy(s).SelfAdd(this.m_rB).SelfSub(this.m_groundAnchorB);var c=this.m_uA.Length(),f=this.m_uB.Length();c>10*A?this.m_uA.SelfMul(1/c):this.m_uA.SetZero(),f>10*A?this.m_uB.SelfMul(1/f):this.m_uB.SetZero();var m=k.CrossVV(this.m_rA,this.m_uA),_=k.CrossVV(this.m_rB,this.m_uB);if(this.m_mass=this.m_invMassA+this.m_invIA*m*m+this.m_ratio*this.m_ratio*(this.m_invMassB+this.m_invIB*_*_),this.m_mass>0&&(this.m_mass=1/this.m_mass),t.step.warmStarting){this.m_impulse*=t.step.dtRatio;var g=k.MulSV(-this.m_impulse,this.m_uA,i.InitVelocityConstraints_s_PA),d=k.MulSV(-this.m_ratio*this.m_impulse,this.m_uB,i.InitVelocityConstraints_s_PB);n.SelfMulAdd(this.m_invMassA,g),r+=this.m_invIA*k.CrossVV(this.m_rA,g),a.SelfMulAdd(this.m_invMassB,d),l+=this.m_invIB*k.CrossVV(this.m_rB,d)}else this.m_impulse=0;t.velocities[this.m_indexA].w=r,t.velocities[this.m_indexB].w=l}},{key:"SolveVelocityConstraints",value:function(t){var e=t.velocities[this.m_indexA].v,n=t.velocities[this.m_indexA].w,r=t.velocities[this.m_indexB].v,s=t.velocities[this.m_indexB].w,o=k.AddVCrossSV(e,n,this.m_rA,i.SolveVelocityConstraints_s_vpA),a=k.AddVCrossSV(r,s,this.m_rB,i.SolveVelocityConstraints_s_vpB),A=-k.DotVV(this.m_uA,o)-this.m_ratio*k.DotVV(this.m_uB,a),l=-this.m_mass*A;this.m_impulse+=l;var u=k.MulSV(-l,this.m_uA,i.SolveVelocityConstraints_s_PA),h=k.MulSV(-this.m_ratio*l,this.m_uB,i.SolveVelocityConstraints_s_PB);e.SelfMulAdd(this.m_invMassA,u),n+=this.m_invIA*k.CrossVV(this.m_rA,u),r.SelfMulAdd(this.m_invMassB,h),s+=this.m_invIB*k.CrossVV(this.m_rB,h),t.velocities[this.m_indexA].w=n,t.velocities[this.m_indexB].w=s}},{key:"SolvePositionConstraints",value:function(t){var e=t.positions[this.m_indexA].c,n=t.positions[this.m_indexA].a,r=t.positions[this.m_indexB].c,s=t.positions[this.m_indexB].a,o=this.m_qA.SetAngle(n),a=this.m_qB.SetAngle(s);k.SubVV(this.m_localAnchorA,this.m_localCenterA,this.m_lalcA);var l=T.MulRV(o,this.m_lalcA,this.m_rA);k.SubVV(this.m_localAnchorB,this.m_localCenterB,this.m_lalcB);var u=T.MulRV(a,this.m_lalcB,this.m_rB),h=this.m_uA.Copy(e).SelfAdd(l).SelfSub(this.m_groundAnchorA),c=this.m_uB.Copy(r).SelfAdd(u).SelfSub(this.m_groundAnchorB),f=h.Length(),m=c.Length();f>10*A?h.SelfMul(1/f):h.SetZero(),m>10*A?c.SelfMul(1/m):c.SetZero();var _=k.CrossVV(l,h),d=k.CrossVV(u,c),p=this.m_invMassA+this.m_invIA*_*_+this.m_ratio*this.m_ratio*(this.m_invMassB+this.m_invIB*d*d);p>0&&(p=1/p);var y=this.m_constant-f-this.m_ratio*m,C=g(y),v=-p*y,I=k.MulSV(-v,h,i.SolvePositionConstraints_s_PA),B=k.MulSV(-this.m_ratio*v,c,i.SolvePositionConstraints_s_PB);return e.SelfMulAdd(this.m_invMassA,I),n+=this.m_invIA*k.CrossVV(l,I),r.SelfMulAdd(this.m_invMassB,B),s+=this.m_invIB*k.CrossVV(u,B),t.positions[this.m_indexA].a=n,t.positions[this.m_indexB].a=s,C<A}},{key:"GetAnchorA",value:function(t){return this.m_bodyA.GetWorldPoint(this.m_localAnchorA,t)}},{key:"GetAnchorB",value:function(t){return this.m_bodyB.GetWorldPoint(this.m_localAnchorB,t)}},{key:"GetReactionForce",value:function(t,e){return e.x=t*this.m_impulse*this.m_uB.x,e.y=t*this.m_impulse*this.m_uB.y,e}},{key:"GetReactionTorque",value:function(t){return 0}},{key:"GetGroundAnchorA",value:function(){return this.m_groundAnchorA}},{key:"GetGroundAnchorB",value:function(){return this.m_groundAnchorB}},{key:"GetLengthA",value:function(){return this.m_lengthA}},{key:"GetLengthB",value:function(){return this.m_lengthB}},{key:"GetRatio",value:function(){return this.m_ratio}},{key:"GetCurrentLengthA",value:function(){var t=this.m_bodyA.GetWorldPoint(this.m_localAnchorA,i.GetCurrentLengthA_s_p);return k.DistanceVV(t,this.m_groundAnchorA)}},{key:"GetCurrentLengthB",value:function(){var t=this.m_bodyB.GetWorldPoint(this.m_localAnchorB,i.GetCurrentLengthB_s_p);return k.DistanceVV(t,this.m_groundAnchorB)}},{key:"Dump",value:function(t){var e=this.m_bodyA.m_islandIndex,i=this.m_bodyB.m_islandIndex;t("  const jd: b2PulleyJointDef = new b2PulleyJointDef();\n"),t("  jd.bodyA = bodies[%d];\n",e),t("  jd.bodyB = bodies[%d];\n",i),t("  jd.collideConnected = %s;\n",this.m_collideConnected?"true":"false"),t("  jd.groundAnchorA.Set(%.15f, %.15f);\n",this.m_groundAnchorA.x,this.m_groundAnchorA.y),t("  jd.groundAnchorB.Set(%.15f, %.15f);\n",this.m_groundAnchorB.x,this.m_groundAnchorB.y),t("  jd.localAnchorA.Set(%.15f, %.15f);\n",this.m_localAnchorA.x,this.m_localAnchorA.y),t("  jd.localAnchorB.Set(%.15f, %.15f);\n",this.m_localAnchorB.x,this.m_localAnchorB.y),t("  jd.lengthA = %.15f;\n",this.m_lengthA),t("  jd.lengthB = %.15f;\n",this.m_lengthB),t("  jd.ratio = %.15f;\n",this.m_ratio),t("  joints[%d] = this.m_world.CreateJoint(jd);\n",this.m_index)}},{key:"ShiftOrigin",value:function(t){this.m_groundAnchorA.SelfSub(t),this.m_groundAnchorB.SelfSub(t)}}]),i}(ci);vi.InitVelocityConstraints_s_PA=new k,vi.InitVelocityConstraints_s_PB=new k,vi.SolveVelocityConstraints_s_vpA=new k,vi.SolveVelocityConstraints_s_vpB=new k,vi.SolveVelocityConstraints_s_PA=new k,vi.SolveVelocityConstraints_s_PB=new k,vi.SolvePositionConstraints_s_PA=new k,vi.SolvePositionConstraints_s_PB=new k,vi.GetCurrentLengthA_s_p=new k,vi.GetCurrentLengthB_s_p=new k;var Ii=function(i){function n(i){var r;return _classCallCheck2(this,n),(r=_possibleConstructorReturn(this,_getPrototypeOf(n).call(this,i))).m_localAnchorA=new k,r.m_localAnchorB=new k,r.m_impulse=new M,r.m_motorImpulse=0,r.m_enableMotor=!1,r.m_maxMotorTorque=0,r.m_motorSpeed=0,r.m_enableLimit=!1,r.m_referenceAngle=0,r.m_lowerAngle=0,r.m_upperAngle=0,r.m_indexA=0,r.m_indexB=0,r.m_rA=new k,r.m_rB=new k,r.m_localCenterA=new k,r.m_localCenterB=new k,r.m_invMassA=0,r.m_invMassB=0,r.m_invIA=0,r.m_invIB=0,r.m_mass=new V,r.m_motorMass=0,r.m_limitState=t.b2LimitState.e_inactiveLimit,r.m_qA=new T,r.m_qB=new T,r.m_lalcA=new k,r.m_lalcB=new k,r.m_K=new R,r.m_localAnchorA.Copy(e(i.localAnchorA,k.ZERO)),r.m_localAnchorB.Copy(e(i.localAnchorB,k.ZERO)),r.m_referenceAngle=e(i.referenceAngle,0),r.m_impulse.SetZero(),r.m_motorImpulse=0,r.m_lowerAngle=e(i.lowerAngle,0),r.m_upperAngle=e(i.upperAngle,0),r.m_maxMotorTorque=e(i.maxMotorTorque,0),r.m_motorSpeed=e(i.motorSpeed,0),r.m_enableLimit=e(i.enableLimit,!1),r.m_enableMotor=e(i.enableMotor,!1),r.m_limitState=t.b2LimitState.e_inactiveLimit,r}return _inherits(n,i),_createClass2(n,[{key:"InitVelocityConstraints",value:function(e){this.m_indexA=this.m_bodyA.m_islandIndex,this.m_indexB=this.m_bodyB.m_islandIndex,this.m_localCenterA.Copy(this.m_bodyA.m_sweep.localCenter),this.m_localCenterB.Copy(this.m_bodyB.m_sweep.localCenter),this.m_invMassA=this.m_bodyA.m_invMass,this.m_invMassB=this.m_bodyB.m_invMass,this.m_invIA=this.m_bodyA.m_invI,this.m_invIB=this.m_bodyB.m_invI;var i=e.positions[this.m_indexA].a,r=e.velocities[this.m_indexA].v,s=e.velocities[this.m_indexA].w,o=e.positions[this.m_indexB].a,a=e.velocities[this.m_indexB].v,A=e.velocities[this.m_indexB].w,u=this.m_qA.SetAngle(i),h=this.m_qB.SetAngle(o);k.SubVV(this.m_localAnchorA,this.m_localCenterA,this.m_lalcA),T.MulRV(u,this.m_lalcA,this.m_rA),k.SubVV(this.m_localAnchorB,this.m_localCenterB,this.m_lalcB),T.MulRV(h,this.m_lalcB,this.m_rB);var c=this.m_invMassA,f=this.m_invMassB,m=this.m_invIA,_=this.m_invIB,d=m+_===0;if(this.m_mass.ex.x=c+f+this.m_rA.y*this.m_rA.y*m+this.m_rB.y*this.m_rB.y*_,this.m_mass.ey.x=-this.m_rA.y*this.m_rA.x*m-this.m_rB.y*this.m_rB.x*_,this.m_mass.ez.x=-this.m_rA.y*m-this.m_rB.y*_,this.m_mass.ex.y=this.m_mass.ey.x,this.m_mass.ey.y=c+f+this.m_rA.x*this.m_rA.x*m+this.m_rB.x*this.m_rB.x*_,this.m_mass.ez.y=this.m_rA.x*m+this.m_rB.x*_,this.m_mass.ex.z=this.m_mass.ez.x,this.m_mass.ey.z=this.m_mass.ez.y,this.m_mass.ez.z=m+_,this.m_motorMass=m+_,this.m_motorMass>0&&(this.m_motorMass=1/this.m_motorMass),this.m_enableMotor&&!d||(this.m_motorImpulse=0),this.m_enableLimit&&!d){var p=o-i-this.m_referenceAngle;g(this.m_upperAngle-this.m_lowerAngle)<2*l?this.m_limitState=t.b2LimitState.e_equalLimits:p<=this.m_lowerAngle?(this.m_limitState!==t.b2LimitState.e_atLowerLimit&&(this.m_impulse.z=0),this.m_limitState=t.b2LimitState.e_atLowerLimit):p>=this.m_upperAngle?(this.m_limitState!==t.b2LimitState.e_atUpperLimit&&(this.m_impulse.z=0),this.m_limitState=t.b2LimitState.e_atUpperLimit):(this.m_limitState=t.b2LimitState.e_inactiveLimit,this.m_impulse.z=0)}else this.m_limitState=t.b2LimitState.e_inactiveLimit;if(e.step.warmStarting){this.m_impulse.SelfMul(e.step.dtRatio),this.m_motorImpulse*=e.step.dtRatio;var y=n.InitVelocityConstraints_s_P.Set(this.m_impulse.x,this.m_impulse.y);r.SelfMulSub(c,y),s-=m*(k.CrossVV(this.m_rA,y)+this.m_motorImpulse+this.m_impulse.z),a.SelfMulAdd(f,y),A+=_*(k.CrossVV(this.m_rB,y)+this.m_motorImpulse+this.m_impulse.z)}else this.m_impulse.SetZero(),this.m_motorImpulse=0;e.velocities[this.m_indexA].w=s,e.velocities[this.m_indexB].w=A}},{key:"SolveVelocityConstraints",value:function(e){var i=e.velocities[this.m_indexA].v,r=e.velocities[this.m_indexA].w,s=e.velocities[this.m_indexB].v,o=e.velocities[this.m_indexB].w,a=this.m_invMassA,A=this.m_invMassB,l=this.m_invIA,u=this.m_invIB,h=l+u===0;if(this.m_enableMotor&&this.m_limitState!==t.b2LimitState.e_equalLimits&&!h){var c=-this.m_motorMass*(o-r-this.m_motorSpeed),f=this.m_motorImpulse,m=e.step.dt*this.m_maxMotorTorque;this.m_motorImpulse=y(this.m_motorImpulse+c,-m,m),r-=l*(c=this.m_motorImpulse-f),o+=u*c}if(this.m_enableLimit&&this.m_limitState!==t.b2LimitState.e_inactiveLimit&&!h){var _=k.SubVV(k.AddVCrossSV(s,o,this.m_rB,k.s_t0),k.AddVCrossSV(i,r,this.m_rA,k.s_t1),n.SolveVelocityConstraints_s_Cdot1),g=this.m_mass.Solve33(_.x,_.y,o-r,n.SolveVelocityConstraints_s_impulse_v3).SelfNeg();if(this.m_limitState===t.b2LimitState.e_equalLimits)this.m_impulse.SelfAdd(g);else if(this.m_limitState===t.b2LimitState.e_atLowerLimit)if(this.m_impulse.z+g.z<0){var d=this.m_mass.Solve22(this.m_impulse.z*this.m_mass.ez.x-_.x,this.m_impulse.z*this.m_mass.ez.y-_.y,n.SolveVelocityConstraints_s_reduced_v2);g.x=d.x,g.y=d.y,g.z=-this.m_impulse.z,this.m_impulse.x+=d.x,this.m_impulse.y+=d.y,this.m_impulse.z=0}else this.m_impulse.SelfAdd(g);else if(this.m_limitState===t.b2LimitState.e_atUpperLimit)if(this.m_impulse.z+g.z>0){var p=this.m_mass.Solve22(this.m_impulse.z*this.m_mass.ez.x-_.x,this.m_impulse.z*this.m_mass.ez.y-_.y,n.SolveVelocityConstraints_s_reduced_v2);g.x=p.x,g.y=p.y,g.z=-this.m_impulse.z,this.m_impulse.x+=p.x,this.m_impulse.y+=p.y,this.m_impulse.z=0}else this.m_impulse.SelfAdd(g);var C=n.SolveVelocityConstraints_s_P.Set(g.x,g.y);i.SelfMulSub(a,C),r-=l*(k.CrossVV(this.m_rA,C)+g.z),s.SelfMulAdd(A,C),o+=u*(k.CrossVV(this.m_rB,C)+g.z)}else{var v=k.SubVV(k.AddVCrossSV(s,o,this.m_rB,k.s_t0),k.AddVCrossSV(i,r,this.m_rA,k.s_t1),n.SolveVelocityConstraints_s_Cdot_v2),I=this.m_mass.Solve22(-v.x,-v.y,n.SolveVelocityConstraints_s_impulse_v2);this.m_impulse.x+=I.x,this.m_impulse.y+=I.y,i.SelfMulSub(a,I),r-=l*k.CrossVV(this.m_rA,I),s.SelfMulAdd(A,I),o+=u*k.CrossVV(this.m_rB,I)}e.velocities[this.m_indexA].w=r,e.velocities[this.m_indexB].w=o}},{key:"SolvePositionConstraints",value:function(e){var i,r=e.positions[this.m_indexA].c,s=e.positions[this.m_indexA].a,o=e.positions[this.m_indexB].c,a=e.positions[this.m_indexB].a,u=this.m_qA.SetAngle(s),h=this.m_qB.SetAngle(a),c=0;if(this.m_enableLimit&&this.m_limitState!==t.b2LimitState.e_inactiveLimit&&this.m_invIA+this.m_invIB!==0){var f=a-s-this.m_referenceAngle,m=0;if(this.m_limitState===t.b2LimitState.e_equalLimits){var _=y(f-this.m_lowerAngle,-.13962634015955555,.13962634015955555);m=-this.m_motorMass*_,c=g(_)}else if(this.m_limitState===t.b2LimitState.e_atLowerLimit){var d=f-this.m_lowerAngle;c=-d,d=y(d+l,-.13962634015955555,0),m=-this.m_motorMass*d}else if(this.m_limitState===t.b2LimitState.e_atUpperLimit){var p=f-this.m_upperAngle;c=p,p=y(p-l,0,.13962634015955555),m=-this.m_motorMass*p}s-=this.m_invIA*m,a+=this.m_invIB*m}u.SetAngle(s),h.SetAngle(a),k.SubVV(this.m_localAnchorA,this.m_localCenterA,this.m_lalcA);var C=T.MulRV(u,this.m_lalcA,this.m_rA);k.SubVV(this.m_localAnchorB,this.m_localCenterB,this.m_lalcB);var v=T.MulRV(h,this.m_lalcB,this.m_rB),I=k.SubVV(k.AddVV(o,v,k.s_t0),k.AddVV(r,C,k.s_t1),n.SolvePositionConstraints_s_C_v2);i=I.Length();var B=this.m_invMassA,E=this.m_invMassB,w=this.m_invIA,b=this.m_invIB,x=this.m_K;x.ex.x=B+E+w*C.y*C.y+b*v.y*v.y,x.ex.y=-w*C.x*C.y-b*v.x*v.y,x.ey.x=x.ex.y,x.ey.y=B+E+w*C.x*C.x+b*v.x*v.x;var S=x.Solve(I.x,I.y,n.SolvePositionConstraints_s_impulse).SelfNeg();return r.SelfMulSub(B,S),s-=w*k.CrossVV(C,S),o.SelfMulAdd(E,S),a+=b*k.CrossVV(v,S),e.positions[this.m_indexA].a=s,e.positions[this.m_indexB].a=a,i<=A&&c<=l}},{key:"GetAnchorA",value:function(t){return this.m_bodyA.GetWorldPoint(this.m_localAnchorA,t)}},{key:"GetAnchorB",value:function(t){return this.m_bodyB.GetWorldPoint(this.m_localAnchorB,t)}},{key:"GetReactionForce",value:function(t,e){return e.x=t*this.m_impulse.x,e.y=t*this.m_impulse.y,e}},{key:"GetReactionTorque",value:function(t){return t*this.m_impulse.z}},{key:"GetLocalAnchorA",value:function(){return this.m_localAnchorA}},{key:"GetLocalAnchorB",value:function(){return this.m_localAnchorB}},{key:"GetReferenceAngle",value:function(){return this.m_referenceAngle}},{key:"GetJointAngle",value:function(){return this.m_bodyB.m_sweep.a-this.m_bodyA.m_sweep.a-this.m_referenceAngle}},{key:"GetJointSpeed",value:function(){return this.m_bodyB.m_angularVelocity-this.m_bodyA.m_angularVelocity}},{key:"IsMotorEnabled",value:function(){return this.m_enableMotor}},{key:"EnableMotor",value:function(t){t!==this.m_enableMotor&&(this.m_bodyA.SetAwake(!0),this.m_bodyB.SetAwake(!0),this.m_enableMotor=t)}},{key:"GetMotorTorque",value:function(t){return t*this.m_motorImpulse}},{key:"GetMotorSpeed",value:function(){return this.m_motorSpeed}},{key:"SetMaxMotorTorque",value:function(t){t!==this.m_maxMotorTorque&&(this.m_bodyA.SetAwake(!0),this.m_bodyB.SetAwake(!0),this.m_maxMotorTorque=t)}},{key:"GetMaxMotorTorque",value:function(){return this.m_maxMotorTorque}},{key:"IsLimitEnabled",value:function(){return this.m_enableLimit}},{key:"EnableLimit",value:function(t){t!==this.m_enableLimit&&(this.m_bodyA.SetAwake(!0),this.m_bodyB.SetAwake(!0),this.m_enableLimit=t,this.m_impulse.z=0)}},{key:"GetLowerLimit",value:function(){return this.m_lowerAngle}},{key:"GetUpperLimit",value:function(){return this.m_upperAngle}},{key:"SetLimits",value:function(t,e){t===this.m_lowerAngle&&e===this.m_upperAngle||(this.m_bodyA.SetAwake(!0),this.m_bodyB.SetAwake(!0),this.m_impulse.z=0,this.m_lowerAngle=t,this.m_upperAngle=e)}},{key:"SetMotorSpeed",value:function(t){t!==this.m_motorSpeed&&(this.m_bodyA.SetAwake(!0),this.m_bodyB.SetAwake(!0),this.m_motorSpeed=t)}},{key:"Dump",value:function(t){var e=this.m_bodyA.m_islandIndex,i=this.m_bodyB.m_islandIndex;t("  const jd: b2RevoluteJointDef = new b2RevoluteJointDef();\n"),t("  jd.bodyA = bodies[%d];\n",e),t("  jd.bodyB = bodies[%d];\n",i),t("  jd.collideConnected = %s;\n",this.m_collideConnected?"true":"false"),t("  jd.localAnchorA.Set(%.15f, %.15f);\n",this.m_localAnchorA.x,this.m_localAnchorA.y),t("  jd.localAnchorB.Set(%.15f, %.15f);\n",this.m_localAnchorB.x,this.m_localAnchorB.y),t("  jd.referenceAngle = %.15f;\n",this.m_referenceAngle),t("  jd.enableLimit = %s;\n",this.m_enableLimit?"true":"false"),t("  jd.lowerAngle = %.15f;\n",this.m_lowerAngle),t("  jd.upperAngle = %.15f;\n",this.m_upperAngle),t("  jd.enableMotor = %s;\n",this.m_enableMotor?"true":"false"),t("  jd.motorSpeed = %.15f;\n",this.m_motorSpeed),t("  jd.maxMotorTorque = %.15f;\n",this.m_maxMotorTorque),t("  joints[%d] = this.m_world.CreateJoint(jd);\n",this.m_index)}}]),n}(ci);Ii.InitVelocityConstraints_s_P=new k,Ii.SolveVelocityConstraints_s_P=new k,Ii.SolveVelocityConstraints_s_Cdot_v2=new k,Ii.SolveVelocityConstraints_s_Cdot1=new k,Ii.SolveVelocityConstraints_s_impulse_v3=new M,Ii.SolveVelocityConstraints_s_reduced_v2=new k,Ii.SolveVelocityConstraints_s_impulse_v2=new k,Ii.SolvePositionConstraints_s_C_v2=new k,Ii.SolvePositionConstraints_s_impulse=new k;var Bi=function(i){function n(i){var r;return _classCallCheck2(this,n),(r=_possibleConstructorReturn(this,_getPrototypeOf(n).call(this,i))).m_localAnchorA=new k,r.m_localAnchorB=new k,r.m_maxLength=0,r.m_length=0,r.m_impulse=0,r.m_indexA=0,r.m_indexB=0,r.m_u=new k,r.m_rA=new k,r.m_rB=new k,r.m_localCenterA=new k,r.m_localCenterB=new k,r.m_invMassA=0,r.m_invMassB=0,r.m_invIA=0,r.m_invIB=0,r.m_mass=0,r.m_state=t.b2LimitState.e_inactiveLimit,r.m_qA=new T,r.m_qB=new T,r.m_lalcA=new k,r.m_lalcB=new k,r.m_localAnchorA.Copy(e(i.localAnchorA,new k(-1,0))),r.m_localAnchorB.Copy(e(i.localAnchorB,new k(1,0))),r.m_maxLength=e(i.maxLength,0),r}return _inherits(n,i),_createClass2(n,[{key:"InitVelocityConstraints",value:function(e){this.m_indexA=this.m_bodyA.m_islandIndex,this.m_indexB=this.m_bodyB.m_islandIndex,this.m_localCenterA.Copy(this.m_bodyA.m_sweep.localCenter),this.m_localCenterB.Copy(this.m_bodyB.m_sweep.localCenter),this.m_invMassA=this.m_bodyA.m_invMass,this.m_invMassB=this.m_bodyB.m_invMass,this.m_invIA=this.m_bodyA.m_invI,this.m_invIB=this.m_bodyB.m_invI;var i=e.positions[this.m_indexA].c,r=e.velocities[this.m_indexA].v,s=e.velocities[this.m_indexA].w,o=e.positions[this.m_indexB].c,a=e.positions[this.m_indexB].a,l=e.velocities[this.m_indexB].v,u=e.velocities[this.m_indexB].w,h=this.m_qA.SetAngle(e.positions[this.m_indexA].a),c=this.m_qB.SetAngle(a);if(k.SubVV(this.m_localAnchorA,this.m_localCenterA,this.m_lalcA),T.MulRV(h,this.m_lalcA,this.m_rA),k.SubVV(this.m_localAnchorB,this.m_localCenterB,this.m_lalcB),T.MulRV(c,this.m_lalcB,this.m_rB),this.m_u.Copy(o).SelfAdd(this.m_rB).SelfSub(i).SelfSub(this.m_rA),this.m_length=this.m_u.Length(),this.m_state=this.m_length-this.m_maxLength>0?t.b2LimitState.e_atUpperLimit:t.b2LimitState.e_inactiveLimit,!(this.m_length>A))return this.m_u.SetZero(),this.m_mass=0,void(this.m_impulse=0);this.m_u.SelfMul(1/this.m_length);var f=k.CrossVV(this.m_rA,this.m_u),m=k.CrossVV(this.m_rB,this.m_u),_=this.m_invMassA+this.m_invIA*f*f+this.m_invMassB+this.m_invIB*m*m;if(this.m_mass=0!==_?1/_:0,e.step.warmStarting){this.m_impulse*=e.step.dtRatio;var g=k.MulSV(this.m_impulse,this.m_u,n.InitVelocityConstraints_s_P);r.SelfMulSub(this.m_invMassA,g),s-=this.m_invIA*k.CrossVV(this.m_rA,g),l.SelfMulAdd(this.m_invMassB,g),u+=this.m_invIB*k.CrossVV(this.m_rB,g)}else this.m_impulse=0;e.velocities[this.m_indexA].w=s,e.velocities[this.m_indexB].w=u}},{key:"SolveVelocityConstraints",value:function(t){var e=t.velocities[this.m_indexA].v,i=t.velocities[this.m_indexA].w,r=t.velocities[this.m_indexB].v,s=t.velocities[this.m_indexB].w,o=k.AddVCrossSV(e,i,this.m_rA,n.SolveVelocityConstraints_s_vpA),a=k.AddVCrossSV(r,s,this.m_rB,n.SolveVelocityConstraints_s_vpB),A=this.m_length-this.m_maxLength,l=k.DotVV(this.m_u,k.SubVV(a,o,k.s_t0));A<0&&(l+=t.step.inv_dt*A);var u=-this.m_mass*l,h=this.m_impulse;this.m_impulse=d(0,this.m_impulse+u);var c=k.MulSV(u=this.m_impulse-h,this.m_u,n.SolveVelocityConstraints_s_P);e.SelfMulSub(this.m_invMassA,c),i-=this.m_invIA*k.CrossVV(this.m_rA,c),r.SelfMulAdd(this.m_invMassB,c),s+=this.m_invIB*k.CrossVV(this.m_rB,c),t.velocities[this.m_indexA].w=i,t.velocities[this.m_indexB].w=s}},{key:"SolvePositionConstraints",value:function(t){var e=t.positions[this.m_indexA].c,i=t.positions[this.m_indexA].a,r=t.positions[this.m_indexB].c,s=t.positions[this.m_indexB].a,o=this.m_qA.SetAngle(i),a=this.m_qB.SetAngle(s);k.SubVV(this.m_localAnchorA,this.m_localCenterA,this.m_lalcA);var l=T.MulRV(o,this.m_lalcA,this.m_rA);k.SubVV(this.m_localAnchorB,this.m_localCenterB,this.m_lalcB);var u=T.MulRV(a,this.m_lalcB,this.m_rB),h=this.m_u.Copy(r).SelfAdd(u).SelfSub(e).SelfSub(l),c=h.Normalize(),f=c-this.m_maxLength;f=y(f,0,.2);var m=k.MulSV(-this.m_mass*f,h,n.SolvePositionConstraints_s_P);return e.SelfMulSub(this.m_invMassA,m),i-=this.m_invIA*k.CrossVV(l,m),r.SelfMulAdd(this.m_invMassB,m),s+=this.m_invIB*k.CrossVV(u,m),t.positions[this.m_indexA].a=i,t.positions[this.m_indexB].a=s,c-this.m_maxLength<A}},{key:"GetAnchorA",value:function(t){return this.m_bodyA.GetWorldPoint(this.m_localAnchorA,t)}},{key:"GetAnchorB",value:function(t){return this.m_bodyB.GetWorldPoint(this.m_localAnchorB,t)}},{key:"GetReactionForce",value:function(t,e){return k.MulSV(t*this.m_impulse,this.m_u,e)}},{key:"GetReactionTorque",value:function(t){return 0}},{key:"GetLocalAnchorA",value:function(){return this.m_localAnchorA}},{key:"GetLocalAnchorB",value:function(){return this.m_localAnchorB}},{key:"SetMaxLength",value:function(t){this.m_maxLength=t}},{key:"GetMaxLength",value:function(){return this.m_maxLength}},{key:"GetLimitState",value:function(){return this.m_state}},{key:"Dump",value:function(t){var e=this.m_bodyA.m_islandIndex,i=this.m_bodyB.m_islandIndex;t("  const jd: b2RopeJointDef = new b2RopeJointDef();\n"),t("  jd.bodyA = bodies[%d];\n",e),t("  jd.bodyB = bodies[%d];\n",i),t("  jd.collideConnected = %s;\n",this.m_collideConnected?"true":"false"),t("  jd.localAnchorA.Set(%.15f, %.15f);\n",this.m_localAnchorA.x,this.m_localAnchorA.y),t("  jd.localAnchorB.Set(%.15f, %.15f);\n",this.m_localAnchorB.x,this.m_localAnchorB.y),t("  jd.maxLength = %.15f;\n",this.m_maxLength),t("  joints[%d] = this.m_world.CreateJoint(jd);\n",this.m_index)}}]),n}(ci);Bi.InitVelocityConstraints_s_P=new k,Bi.SolveVelocityConstraints_s_vpA=new k,Bi.SolveVelocityConstraints_s_vpB=new k,Bi.SolveVelocityConstraints_s_P=new k,Bi.SolvePositionConstraints_s_P=new k;var Ei=function(t){function i(t){var n;return _classCallCheck2(this,i),(n=_possibleConstructorReturn(this,_getPrototypeOf(i).call(this,t))).m_frequencyHz=0,n.m_dampingRatio=0,n.m_bias=0,n.m_localAnchorA=new k,n.m_localAnchorB=new k,n.m_referenceAngle=0,n.m_gamma=0,n.m_impulse=new M(0,0,0),n.m_indexA=0,n.m_indexB=0,n.m_rA=new k,n.m_rB=new k,n.m_localCenterA=new k,n.m_localCenterB=new k,n.m_invMassA=0,n.m_invMassB=0,n.m_invIA=0,n.m_invIB=0,n.m_mass=new V,n.m_qA=new T,n.m_qB=new T,n.m_lalcA=new k,n.m_lalcB=new k,n.m_K=new V,n.m_frequencyHz=e(t.frequencyHz,0),n.m_dampingRatio=e(t.dampingRatio,0),n.m_localAnchorA.Copy(e(t.localAnchorA,k.ZERO)),n.m_localAnchorB.Copy(e(t.localAnchorB,k.ZERO)),n.m_referenceAngle=e(t.referenceAngle,0),n.m_impulse.SetZero(),n}return _inherits(i,t),_createClass2(i,[{key:"InitVelocityConstraints",value:function(t){this.m_indexA=this.m_bodyA.m_islandIndex,this.m_indexB=this.m_bodyB.m_islandIndex,this.m_localCenterA.Copy(this.m_bodyA.m_sweep.localCenter),this.m_localCenterB.Copy(this.m_bodyB.m_sweep.localCenter),this.m_invMassA=this.m_bodyA.m_invMass,this.m_invMassB=this.m_bodyB.m_invMass,this.m_invIA=this.m_bodyA.m_invI,this.m_invIB=this.m_bodyB.m_invI;var e=t.positions[this.m_indexA].a,n=t.velocities[this.m_indexA].v,r=t.velocities[this.m_indexA].w,o=t.positions[this.m_indexB].a,a=t.velocities[this.m_indexB].v,A=t.velocities[this.m_indexB].w,l=this.m_qA.SetAngle(e),u=this.m_qB.SetAngle(o);k.SubVV(this.m_localAnchorA,this.m_localCenterA,this.m_lalcA),T.MulRV(l,this.m_lalcA,this.m_rA),k.SubVV(this.m_localAnchorB,this.m_localCenterB,this.m_lalcB),T.MulRV(u,this.m_lalcB,this.m_rB);var h=this.m_invMassA,c=this.m_invMassB,f=this.m_invIA,m=this.m_invIB,_=this.m_K;if(_.ex.x=h+c+this.m_rA.y*this.m_rA.y*f+this.m_rB.y*this.m_rB.y*m,_.ey.x=-this.m_rA.y*this.m_rA.x*f-this.m_rB.y*this.m_rB.x*m,_.ez.x=-this.m_rA.y*f-this.m_rB.y*m,_.ex.y=_.ey.x,_.ey.y=h+c+this.m_rA.x*this.m_rA.x*f+this.m_rB.x*this.m_rB.x*m,_.ez.y=this.m_rA.x*f+this.m_rB.x*m,_.ex.z=_.ez.x,_.ey.z=_.ez.y,_.ez.z=f+m,this.m_frequencyHz>0){_.GetInverse22(this.m_mass);var g=f+m,d=g>0?1/g:0,p=o-e-this.m_referenceAngle,y=2*s*this.m_frequencyHz,C=d*y*y,v=t.step.dt;this.m_gamma=v*(2*d*this.m_dampingRatio*y+v*C),this.m_gamma=0!==this.m_gamma?1/this.m_gamma:0,this.m_bias=p*v*C*this.m_gamma,this.m_mass.ez.z=0!==(g+=this.m_gamma)?1/g:0}else _.GetSymInverse33(this.m_mass),this.m_gamma=0,this.m_bias=0;if(t.step.warmStarting){this.m_impulse.SelfMul(t.step.dtRatio);var I=i.InitVelocityConstraints_s_P.Set(this.m_impulse.x,this.m_impulse.y);n.SelfMulSub(h,I),r-=f*(k.CrossVV(this.m_rA,I)+this.m_impulse.z),a.SelfMulAdd(c,I),A+=m*(k.CrossVV(this.m_rB,I)+this.m_impulse.z)}else this.m_impulse.SetZero();t.velocities[this.m_indexA].w=r,t.velocities[this.m_indexB].w=A}},{key:"SolveVelocityConstraints",value:function(t){var e=t.velocities[this.m_indexA].v,n=t.velocities[this.m_indexA].w,r=t.velocities[this.m_indexB].v,s=t.velocities[this.m_indexB].w,o=this.m_invMassA,a=this.m_invMassB,A=this.m_invIA,l=this.m_invIB;if(this.m_frequencyHz>0){var u=-this.m_mass.ez.z*(s-n+this.m_bias+this.m_gamma*this.m_impulse.z);this.m_impulse.z+=u,n-=A*u;var h=k.SubVV(k.AddVCrossSV(r,s+=l*u,this.m_rB,k.s_t0),k.AddVCrossSV(e,n,this.m_rA,k.s_t1),i.SolveVelocityConstraints_s_Cdot1),c=V.MulM33XY(this.m_mass,h.x,h.y,i.SolveVelocityConstraints_s_impulse1).SelfNeg();this.m_impulse.x+=c.x,this.m_impulse.y+=c.y;var f=c;e.SelfMulSub(o,f),n-=A*k.CrossVV(this.m_rA,f),r.SelfMulAdd(a,f),s+=l*k.CrossVV(this.m_rB,f)}else{var m=k.SubVV(k.AddVCrossSV(r,s,this.m_rB,k.s_t0),k.AddVCrossSV(e,n,this.m_rA,k.s_t1),i.SolveVelocityConstraints_s_Cdot1),_=V.MulM33XYZ(this.m_mass,m.x,m.y,s-n,i.SolveVelocityConstraints_s_impulse).SelfNeg();this.m_impulse.SelfAdd(_);var g=i.SolveVelocityConstraints_s_P.Set(_.x,_.y);e.SelfMulSub(o,g),n-=A*(k.CrossVV(this.m_rA,g)+_.z),r.SelfMulAdd(a,g),s+=l*(k.CrossVV(this.m_rB,g)+_.z)}t.velocities[this.m_indexA].w=n,t.velocities[this.m_indexB].w=s}},{key:"SolvePositionConstraints",value:function(t){var e=t.positions[this.m_indexA].c,n=t.positions[this.m_indexA].a,r=t.positions[this.m_indexB].c,s=t.positions[this.m_indexB].a,o=this.m_qA.SetAngle(n),a=this.m_qB.SetAngle(s),u=this.m_invMassA,h=this.m_invMassB,c=this.m_invIA,f=this.m_invIB;k.SubVV(this.m_localAnchorA,this.m_localCenterA,this.m_lalcA);var m=T.MulRV(o,this.m_lalcA,this.m_rA);k.SubVV(this.m_localAnchorB,this.m_localCenterB,this.m_lalcB);var _,d,p=T.MulRV(a,this.m_lalcB,this.m_rB),y=this.m_K;if(y.ex.x=u+h+m.y*m.y*c+p.y*p.y*f,y.ey.x=-m.y*m.x*c-p.y*p.x*f,y.ez.x=-m.y*c-p.y*f,y.ex.y=y.ey.x,y.ey.y=u+h+m.x*m.x*c+p.x*p.x*f,y.ez.y=m.x*c+p.x*f,y.ex.z=y.ez.x,y.ey.z=y.ez.y,y.ez.z=c+f,this.m_frequencyHz>0){var C=k.SubVV(k.AddVV(r,p,k.s_t0),k.AddVV(e,m,k.s_t1),i.SolvePositionConstraints_s_C1);_=C.Length(),d=0;var v=y.Solve22(C.x,C.y,i.SolvePositionConstraints_s_P).SelfNeg();e.SelfMulSub(u,v),n-=c*k.CrossVV(m,v),r.SelfMulAdd(h,v),s+=f*k.CrossVV(p,v)}else{var I=k.SubVV(k.AddVV(r,p,k.s_t0),k.AddVV(e,m,k.s_t1),i.SolvePositionConstraints_s_C1),B=s-n-this.m_referenceAngle;_=I.Length(),d=g(B);var E=y.Solve33(I.x,I.y,B,i.SolvePositionConstraints_s_impulse).SelfNeg(),w=i.SolvePositionConstraints_s_P.Set(E.x,E.y);e.SelfMulSub(u,w),n-=c*(k.CrossVV(this.m_rA,w)+E.z),r.SelfMulAdd(h,w),s+=f*(k.CrossVV(this.m_rB,w)+E.z)}return t.positions[this.m_indexA].a=n,t.positions[this.m_indexB].a=s,_<=A&&d<=l}},{key:"GetAnchorA",value:function(t){return this.m_bodyA.GetWorldPoint(this.m_localAnchorA,t)}},{key:"GetAnchorB",value:function(t){return this.m_bodyB.GetWorldPoint(this.m_localAnchorB,t)}},{key:"GetReactionForce",value:function(t,e){return e.x=t*this.m_impulse.x,e.y=t*this.m_impulse.y,e}},{key:"GetReactionTorque",value:function(t){return t*this.m_impulse.z}},{key:"GetLocalAnchorA",value:function(){return this.m_localAnchorA}},{key:"GetLocalAnchorB",value:function(){return this.m_localAnchorB}},{key:"GetReferenceAngle",value:function(){return this.m_referenceAngle}},{key:"SetFrequency",value:function(t){this.m_frequencyHz=t}},{key:"GetFrequency",value:function(){return this.m_frequencyHz}},{key:"SetDampingRatio",value:function(t){this.m_dampingRatio=t}},{key:"GetDampingRatio",value:function(){return this.m_dampingRatio}},{key:"Dump",value:function(t){var e=this.m_bodyA.m_islandIndex,i=this.m_bodyB.m_islandIndex;t("  const jd: b2WeldJointDef = new b2WeldJointDef();\n"),t("  jd.bodyA = bodies[%d];\n",e),t("  jd.bodyB = bodies[%d];\n",i),t("  jd.collideConnected = %s;\n",this.m_collideConnected?"true":"false"),t("  jd.localAnchorA.Set(%.15f, %.15f);\n",this.m_localAnchorA.x,this.m_localAnchorA.y),t("  jd.localAnchorB.Set(%.15f, %.15f);\n",this.m_localAnchorB.x,this.m_localAnchorB.y),t("  jd.referenceAngle = %.15f;\n",this.m_referenceAngle),t("  jd.frequencyHz = %.15f;\n",this.m_frequencyHz),t("  jd.dampingRatio = %.15f;\n",this.m_dampingRatio),t("  joints[%d] = this.m_world.CreateJoint(jd);\n",this.m_index)}}]),i}(ci);Ei.InitVelocityConstraints_s_P=new k,Ei.SolveVelocityConstraints_s_Cdot1=new k,Ei.SolveVelocityConstraints_s_impulse1=new k,Ei.SolveVelocityConstraints_s_impulse=new M,Ei.SolveVelocityConstraints_s_P=new k,Ei.SolvePositionConstraints_s_C1=new k,Ei.SolvePositionConstraints_s_P=new k,Ei.SolvePositionConstraints_s_impulse=new M;var wi=function(t){function i(t){var n;return _classCallCheck2(this,i),(n=_possibleConstructorReturn(this,_getPrototypeOf(i).call(this,t))).m_frequencyHz=0,n.m_dampingRatio=0,n.m_localAnchorA=new k,n.m_localAnchorB=new k,n.m_localXAxisA=new k,n.m_localYAxisA=new k,n.m_impulse=0,n.m_motorImpulse=0,n.m_springImpulse=0,n.m_maxMotorTorque=0,n.m_motorSpeed=0,n.m_enableMotor=!1,n.m_indexA=0,n.m_indexB=0,n.m_localCenterA=new k,n.m_localCenterB=new k,n.m_invMassA=0,n.m_invMassB=0,n.m_invIA=0,n.m_invIB=0,n.m_ax=new k,n.m_ay=new k,n.m_sAx=0,n.m_sBx=0,n.m_sAy=0,n.m_sBy=0,n.m_mass=0,n.m_motorMass=0,n.m_springMass=0,n.m_bias=0,n.m_gamma=0,n.m_qA=new T,n.m_qB=new T,n.m_lalcA=new k,n.m_lalcB=new k,n.m_rA=new k,n.m_rB=new k,n.m_frequencyHz=e(t.frequencyHz,2),n.m_dampingRatio=e(t.dampingRatio,.7),n.m_localAnchorA.Copy(e(t.localAnchorA,k.ZERO)),n.m_localAnchorB.Copy(e(t.localAnchorB,k.ZERO)),n.m_localXAxisA.Copy(e(t.localAxisA,k.UNITX)),k.CrossOneV(n.m_localXAxisA,n.m_localYAxisA),n.m_maxMotorTorque=e(t.maxMotorTorque,0),n.m_motorSpeed=e(t.motorSpeed,0),n.m_enableMotor=e(t.enableMotor,!1),n.m_ax.SetZero(),n.m_ay.SetZero(),n}return _inherits(i,t),_createClass2(i,[{key:"GetMotorSpeed",value:function(){return this.m_motorSpeed}},{key:"GetMaxMotorTorque",value:function(){return this.m_maxMotorTorque}},{key:"SetSpringFrequencyHz",value:function(t){this.m_frequencyHz=t}},{key:"GetSpringFrequencyHz",value:function(){return this.m_frequencyHz}},{key:"SetSpringDampingRatio",value:function(t){this.m_dampingRatio=t}},{key:"GetSpringDampingRatio",value:function(){return this.m_dampingRatio}},{key:"InitVelocityConstraints",value:function(t){this.m_indexA=this.m_bodyA.m_islandIndex,this.m_indexB=this.m_bodyB.m_islandIndex,this.m_localCenterA.Copy(this.m_bodyA.m_sweep.localCenter),this.m_localCenterB.Copy(this.m_bodyB.m_sweep.localCenter),this.m_invMassA=this.m_bodyA.m_invMass,this.m_invMassB=this.m_bodyB.m_invMass,this.m_invIA=this.m_bodyA.m_invI,this.m_invIB=this.m_bodyB.m_invI;var e=this.m_invMassA,n=this.m_invMassB,r=this.m_invIA,o=this.m_invIB,a=t.positions[this.m_indexA].c,A=t.velocities[this.m_indexA].v,l=t.velocities[this.m_indexA].w,u=t.positions[this.m_indexB].c,h=t.positions[this.m_indexB].a,c=t.velocities[this.m_indexB].v,f=t.velocities[this.m_indexB].w,m=this.m_qA.SetAngle(t.positions[this.m_indexA].a),_=this.m_qB.SetAngle(h);k.SubVV(this.m_localAnchorA,this.m_localCenterA,this.m_lalcA);var g=T.MulRV(m,this.m_lalcA,this.m_rA);k.SubVV(this.m_localAnchorB,this.m_localCenterB,this.m_lalcB);var d=T.MulRV(_,this.m_lalcB,this.m_rB),p=k.SubVV(k.AddVV(u,d,k.s_t0),k.AddVV(a,g,k.s_t1),i.InitVelocityConstraints_s_d);if(T.MulRV(m,this.m_localYAxisA,this.m_ay),this.m_sAy=k.CrossVV(k.AddVV(p,g,k.s_t0),this.m_ay),this.m_sBy=k.CrossVV(d,this.m_ay),this.m_mass=e+n+r*this.m_sAy*this.m_sAy+o*this.m_sBy*this.m_sBy,this.m_mass>0&&(this.m_mass=1/this.m_mass),this.m_springMass=0,this.m_bias=0,this.m_gamma=0,this.m_frequencyHz>0){T.MulRV(m,this.m_localXAxisA,this.m_ax),this.m_sAx=k.CrossVV(k.AddVV(p,g,k.s_t0),this.m_ax),this.m_sBx=k.CrossVV(d,this.m_ax);var y=e+n+r*this.m_sAx*this.m_sAx+o*this.m_sBx*this.m_sBx;if(y>0){this.m_springMass=1/y;var C=k.DotVV(p,this.m_ax),v=2*s*this.m_frequencyHz,I=this.m_springMass*v*v,B=t.step.dt;this.m_gamma=B*(2*this.m_springMass*this.m_dampingRatio*v+B*I),this.m_gamma>0&&(this.m_gamma=1/this.m_gamma),this.m_bias=C*B*I*this.m_gamma,this.m_springMass=y+this.m_gamma,this.m_springMass>0&&(this.m_springMass=1/this.m_springMass)}}else this.m_springImpulse=0;if(this.m_enableMotor?(this.m_motorMass=r+o,this.m_motorMass>0&&(this.m_motorMass=1/this.m_motorMass)):(this.m_motorMass=0,this.m_motorImpulse=0),t.step.warmStarting){this.m_impulse*=t.step.dtRatio,this.m_springImpulse*=t.step.dtRatio,this.m_motorImpulse*=t.step.dtRatio;var E=k.AddVV(k.MulSV(this.m_impulse,this.m_ay,k.s_t0),k.MulSV(this.m_springImpulse,this.m_ax,k.s_t1),i.InitVelocityConstraints_s_P),w=this.m_impulse*this.m_sAy+this.m_springImpulse*this.m_sAx+this.m_motorImpulse,b=this.m_impulse*this.m_sBy+this.m_springImpulse*this.m_sBx+this.m_motorImpulse;A.SelfMulSub(this.m_invMassA,E),l-=this.m_invIA*w,c.SelfMulAdd(this.m_invMassB,E),f+=this.m_invIB*b}else this.m_impulse=0,this.m_springImpulse=0,this.m_motorImpulse=0;t.velocities[this.m_indexA].w=l,t.velocities[this.m_indexB].w=f}},{key:"SolveVelocityConstraints",value:function(t){var e=this.m_invMassA,n=this.m_invMassB,r=this.m_invIA,s=this.m_invIB,o=t.velocities[this.m_indexA].v,a=t.velocities[this.m_indexA].w,A=t.velocities[this.m_indexB].v,l=t.velocities[this.m_indexB].w,u=k.DotVV(this.m_ax,k.SubVV(A,o,k.s_t0))+this.m_sBx*l-this.m_sAx*a,h=-this.m_springMass*(u+this.m_bias+this.m_gamma*this.m_springImpulse);this.m_springImpulse+=h;var c=k.MulSV(h,this.m_ax,i.SolveVelocityConstraints_s_P),f=h*this.m_sAx,m=h*this.m_sBx;o.SelfMulSub(e,c),a-=r*f,A.SelfMulAdd(n,c),l+=s*m;var _=-this.m_motorMass*(l-a-this.m_motorSpeed),g=this.m_motorImpulse,d=t.step.dt*this.m_maxMotorTorque;this.m_motorImpulse=y(this.m_motorImpulse+_,-d,d),a-=r*(_=this.m_motorImpulse-g),l+=s*_;var p=k.DotVV(this.m_ay,k.SubVV(A,o,k.s_t0))+this.m_sBy*l-this.m_sAy*a,C=-this.m_mass*p;this.m_impulse+=C;var v=k.MulSV(C,this.m_ay,i.SolveVelocityConstraints_s_P),I=C*this.m_sAy,B=C*this.m_sBy;o.SelfMulSub(e,v),a-=r*I,A.SelfMulAdd(n,v),l+=s*B,t.velocities[this.m_indexA].w=a,t.velocities[this.m_indexB].w=l}},{key:"SolvePositionConstraints",value:function(t){var e=t.positions[this.m_indexA].c,n=t.positions[this.m_indexA].a,r=t.positions[this.m_indexB].c,s=t.positions[this.m_indexB].a,o=this.m_qA.SetAngle(n),a=this.m_qB.SetAngle(s);k.SubVV(this.m_localAnchorA,this.m_localCenterA,this.m_lalcA);var l=T.MulRV(o,this.m_lalcA,this.m_rA);k.SubVV(this.m_localAnchorB,this.m_localCenterB,this.m_lalcB);var u,h=T.MulRV(a,this.m_lalcB,this.m_rB),c=k.AddVV(k.SubVV(r,e,k.s_t0),k.SubVV(h,l,k.s_t1),i.SolvePositionConstraints_s_d),f=T.MulRV(o,this.m_localYAxisA,this.m_ay),m=k.CrossVV(k.AddVV(c,l,k.s_t0),f),_=k.CrossVV(h,f),d=k.DotVV(c,this.m_ay),p=this.m_invMassA+this.m_invMassB+this.m_invIA*this.m_sAy*this.m_sAy+this.m_invIB*this.m_sBy*this.m_sBy,y=k.MulSV(u=0!==p?-d/p:0,f,i.SolvePositionConstraints_s_P),C=u*m,v=u*_;return e.SelfMulSub(this.m_invMassA,y),n-=this.m_invIA*C,r.SelfMulAdd(this.m_invMassB,y),s+=this.m_invIB*v,t.positions[this.m_indexA].a=n,t.positions[this.m_indexB].a=s,g(d)<=A}},{key:"GetDefinition",value:function(t){return t}},{key:"GetAnchorA",value:function(t){return this.m_bodyA.GetWorldPoint(this.m_localAnchorA,t)}},{key:"GetAnchorB",value:function(t){return this.m_bodyB.GetWorldPoint(this.m_localAnchorB,t)}},{key:"GetReactionForce",value:function(t,e){return e.x=t*(this.m_impulse*this.m_ay.x+this.m_springImpulse*this.m_ax.x),e.y=t*(this.m_impulse*this.m_ay.y+this.m_springImpulse*this.m_ax.y),e}},{key:"GetReactionTorque",value:function(t){return t*this.m_motorImpulse}},{key:"GetLocalAnchorA",value:function(){return this.m_localAnchorA}},{key:"GetLocalAnchorB",value:function(){return this.m_localAnchorB}},{key:"GetLocalAxisA",value:function(){return this.m_localXAxisA}},{key:"GetJointTranslation",value:function(){return this.GetPrismaticJointTranslation()}},{key:"GetJointLinearSpeed",value:function(){return this.GetPrismaticJointSpeed()}},{key:"GetJointAngle",value:function(){return this.GetRevoluteJointAngle()}},{key:"GetJointAngularSpeed",value:function(){return this.GetRevoluteJointSpeed()}},{key:"GetPrismaticJointTranslation",value:function(){var t=this.m_bodyA,e=this.m_bodyB,i=t.GetWorldPoint(this.m_localAnchorA,new k),n=e.GetWorldPoint(this.m_localAnchorB,new k),r=k.SubVV(n,i,new k),s=t.GetWorldVector(this.m_localXAxisA,new k);return k.DotVV(r,s)}},{key:"GetPrismaticJointSpeed",value:function(){var t=this.m_bodyA,e=this.m_bodyB;k.SubVV(this.m_localAnchorA,t.m_sweep.localCenter,this.m_lalcA);var i=T.MulRV(t.m_xf.q,this.m_lalcA,this.m_rA);k.SubVV(this.m_localAnchorB,e.m_sweep.localCenter,this.m_lalcB);var n=T.MulRV(e.m_xf.q,this.m_lalcB,this.m_rB),r=k.AddVV(t.m_sweep.c,i,k.s_t0),s=k.AddVV(e.m_sweep.c,n,k.s_t1),o=k.SubVV(s,r,k.s_t2),a=t.GetWorldVector(this.m_localXAxisA,new k),A=t.m_linearVelocity,l=e.m_linearVelocity,u=t.m_angularVelocity,h=e.m_angularVelocity;return k.DotVV(o,k.CrossSV(u,a,k.s_t0))+k.DotVV(a,k.SubVV(k.AddVCrossSV(l,h,n,k.s_t0),k.AddVCrossSV(A,u,i,k.s_t1),k.s_t0))}},{key:"GetRevoluteJointAngle",value:function(){return this.m_bodyB.m_sweep.a-this.m_bodyA.m_sweep.a}},{key:"GetRevoluteJointSpeed",value:function(){return this.m_bodyB.m_angularVelocity-this.m_bodyA.m_angularVelocity}},{key:"IsMotorEnabled",value:function(){return this.m_enableMotor}},{key:"EnableMotor",value:function(t){t!==this.m_enableMotor&&(this.m_bodyA.SetAwake(!0),this.m_bodyB.SetAwake(!0),this.m_enableMotor=t)}},{key:"SetMotorSpeed",value:function(t){t!==this.m_motorSpeed&&(this.m_bodyA.SetAwake(!0),this.m_bodyB.SetAwake(!0),this.m_motorSpeed=t)}},{key:"SetMaxMotorTorque",value:function(t){t!==this.m_maxMotorTorque&&(this.m_bodyA.SetAwake(!0),this.m_bodyB.SetAwake(!0),this.m_maxMotorTorque=t)}},{key:"GetMotorTorque",value:function(t){return t*this.m_motorImpulse}},{key:"Dump",value:function(t){var e=this.m_bodyA.m_islandIndex,i=this.m_bodyB.m_islandIndex;t("  const jd: b2WheelJointDef = new b2WheelJointDef();\n"),t("  jd.bodyA = bodies[%d];\n",e),t("  jd.bodyB = bodies[%d];\n",i),t("  jd.collideConnected = %s;\n",this.m_collideConnected?"true":"false"),t("  jd.localAnchorA.Set(%.15f, %.15f);\n",this.m_localAnchorA.x,this.m_localAnchorA.y),t("  jd.localAnchorB.Set(%.15f, %.15f);\n",this.m_localAnchorB.x,this.m_localAnchorB.y),t("  jd.localAxisA.Set(%.15f, %.15f);\n",this.m_localXAxisA.x,this.m_localXAxisA.y),t("  jd.enableMotor = %s;\n",this.m_enableMotor?"true":"false"),t("  jd.motorSpeed = %.15f;\n",this.m_motorSpeed),t("  jd.maxMotorTorque = %.15f;\n",this.m_maxMotorTorque),t("  jd.frequencyHz = %.15f;\n",this.m_frequencyHz),t("  jd.dampingRatio = %.15f;\n",this.m_dampingRatio),t("  joints[%d] = this.m_world.CreateJoint(jd);\n",this.m_index)}}]),i}(ci);function bi(t,e){return B(t*e)}function xi(t,e){return t>e?t:e}wi.InitVelocityConstraints_s_d=new k,wi.InitVelocityConstraints_s_P=new k,wi.SolveVelocityConstraints_s_P=new k,wi.SolvePositionConstraints_s_d=new k,wi.SolvePositionConstraints_s_P=new k;var Si=function t(e){_classCallCheck2(this,t),this.prev=null,this.next=null,this.contact=e},Qi=function(){function t(){_classCallCheck2(this,t),this.m_islandFlag=!1,this.m_touchingFlag=!1,this.m_enabledFlag=!1,this.m_filterFlag=!1,this.m_bulletHitFlag=!1,this.m_toiFlag=!1,this.m_prev=null,this.m_next=null,this.m_indexA=0,this.m_indexB=0,this.m_manifold=new dt,this.m_toiCount=0,this.m_toi=0,this.m_friction=0,this.m_restitution=0,this.m_tangentSpeed=0,this.m_oldManifold=new dt,this.m_nodeA=new Si(this),this.m_nodeB=new Si(this)}return _createClass2(t,[{key:"GetManifold",value:function(){return this.m_manifold}},{key:"GetWorldManifold",value:function(t){var e=this.m_fixtureA.GetBody(),i=this.m_fixtureB.GetBody(),n=this.m_fixtureA.GetShape(),r=this.m_fixtureB.GetShape();t.Initialize(this.m_manifold,e.GetTransform(),n.m_radius,i.GetTransform(),r.m_radius)}},{key:"IsTouching",value:function(){return this.m_touchingFlag}},{key:"SetEnabled",value:function(t){this.m_enabledFlag=t}},{key:"IsEnabled",value:function(){return this.m_enabledFlag}},{key:"GetNext",value:function(){return this.m_next}},{key:"GetFixtureA",value:function(){return this.m_fixtureA}},{key:"GetChildIndexA",value:function(){return this.m_indexA}},{key:"GetFixtureB",value:function(){return this.m_fixtureB}},{key:"GetChildIndexB",value:function(){return this.m_indexB}},{key:"FlagForFiltering",value:function(){this.m_filterFlag=!0}},{key:"SetFriction",value:function(t){this.m_friction=t}},{key:"GetFriction",value:function(){return this.m_friction}},{key:"ResetFriction",value:function(){this.m_friction=bi(this.m_fixtureA.m_friction,this.m_fixtureB.m_friction)}},{key:"SetRestitution",value:function(t){this.m_restitution=t}},{key:"GetRestitution",value:function(){return this.m_restitution}},{key:"ResetRestitution",value:function(){this.m_restitution=xi(this.m_fixtureA.m_restitution,this.m_fixtureB.m_restitution)}},{key:"SetTangentSpeed",value:function(t){this.m_tangentSpeed=t}},{key:"GetTangentSpeed",value:function(){return this.m_tangentSpeed}},{key:"Reset",value:function(t,e,i,n){this.m_islandFlag=!1,this.m_touchingFlag=!1,this.m_enabledFlag=!0,this.m_filterFlag=!1,this.m_bulletHitFlag=!1,this.m_toiFlag=!1,this.m_fixtureA=t,this.m_fixtureB=i,this.m_indexA=e,this.m_indexB=n,this.m_manifold.pointCount=0,this.m_prev=null,this.m_next=null,delete this.m_nodeA.contact,this.m_nodeA.prev=null,this.m_nodeA.next=null,delete this.m_nodeA.other,delete this.m_nodeB.contact,this.m_nodeB.prev=null,this.m_nodeB.next=null,delete this.m_nodeB.other,this.m_toiCount=0,this.m_friction=bi(this.m_fixtureA.m_friction,this.m_fixtureB.m_friction),this.m_restitution=xi(this.m_fixtureA.m_restitution,this.m_fixtureB.m_restitution)}},{key:"Update",value:function(t){var e=this.m_oldManifold;this.m_oldManifold=this.m_manifold,this.m_manifold=e,this.m_enabledFlag=!0;var i=!1,n=this.m_touchingFlag,r=this.m_fixtureA.IsSensor(),s=this.m_fixtureB.IsSensor(),o=r||s,a=this.m_fixtureA.GetBody(),A=this.m_fixtureB.GetBody(),l=a.GetTransform(),u=A.GetTransform();if(o){var h=this.m_fixtureA.GetShape(),c=this.m_fixtureB.GetShape();i=St(h,this.m_indexA,c,this.m_indexB,l,u),this.m_manifold.pointCount=0}else{this.Evaluate(this.m_manifold,l,u),i=this.m_manifold.pointCount>0;for(var f=0;f<this.m_manifold.pointCount;++f){var m=this.m_manifold.points[f];m.normalImpulse=0,m.tangentImpulse=0;for(var _=m.id,g=0;g<this.m_oldManifold.pointCount;++g){var d=this.m_oldManifold.points[g];if(d.id.key===_.key){m.normalImpulse=d.normalImpulse,m.tangentImpulse=d.tangentImpulse;break}}}i!==n&&(a.SetAwake(!0),A.SetAwake(!0))}this.m_touchingFlag=i,!n&&i&&t&&t.BeginContact(this),n&&!i&&t&&t.EndContact(this),!o&&i&&t&&t.PreSolve(this,this.m_oldManifold)}},{key:"ComputeTOI",value:function(e,i){var n=t.ComputeTOI_s_input;n.proxyA.SetShape(this.m_fixtureA.GetShape(),this.m_indexA),n.proxyB.SetShape(this.m_fixtureB.GetShape(),this.m_indexB),n.sweepA.Copy(e),n.sweepB.Copy(i),n.tMax=A;var r=t.ComputeTOI_s_output;return ie(r,n),r.t}}]),t}();Qi.ComputeTOI_s_input=new Ht,Qi.ComputeTOI_s_output=new Jt;var ki=function(t){function e(){return _classCallCheck2(this,e),_possibleConstructorReturn(this,_getPrototypeOf(e).call(this))}return _inherits(e,t),_createClass2(e,[{key:"Reset",value:function(t,i,n,r){_get(_getPrototypeOf(e.prototype),"Reset",this).call(this,t,i,n,r)}},{key:"Evaluate",value:function(t,e,i){se(t,this.m_fixtureA.GetShape(),e,this.m_fixtureB.GetShape(),i)}}],[{key:"Create",value:function(t){return new e}},{key:"Destroy",value:function(t,e){}}]),e}(Qi),Di=function(t){function e(){return _classCallCheck2(this,e),_possibleConstructorReturn(this,_getPrototypeOf(e).call(this))}return _inherits(e,t),_createClass2(e,[{key:"Reset",value:function(t,i,n,r){_get(_getPrototypeOf(e.prototype),"Reset",this).call(this,t,i,n,r)}},{key:"Evaluate",value:function(t,e,i){Me(t,this.m_fixtureA.GetShape(),e,this.m_fixtureB.GetShape(),i)}}],[{key:"Create",value:function(t){return new e}},{key:"Destroy",value:function(t,e){}}]),e}(Qi),Mi=function(t){function e(){return _classCallCheck2(this,e),_possibleConstructorReturn(this,_getPrototypeOf(e).call(this))}return _inherits(e,t),_createClass2(e,[{key:"Reset",value:function(t,i,n,r){_get(_getPrototypeOf(e.prototype),"Reset",this).call(this,t,i,n,r)}},{key:"Evaluate",value:function(t,e,i){le(t,this.m_fixtureA.GetShape(),e,this.m_fixtureB.GetShape(),i)}}],[{key:"Create",value:function(t){return new e}},{key:"Destroy",value:function(t,e){}}]),e}(Qi),Ri=function(t){function e(){return _classCallCheck2(this,e),_possibleConstructorReturn(this,_getPrototypeOf(e).call(this))}return _inherits(e,t),_createClass2(e,[{key:"Reset",value:function(t,i,n,r){_get(_getPrototypeOf(e.prototype),"Reset",this).call(this,t,i,n,r)}},{key:"Evaluate",value:function(t,e,i){Ye(t,this.m_fixtureA.GetShape(),e,this.m_fixtureB.GetShape(),i)}}],[{key:"Create",value:function(t){return new e}},{key:"Destroy",value:function(t,e){}}]),e}(Qi),Vi=function(t){function e(){return _classCallCheck2(this,e),_possibleConstructorReturn(this,_getPrototypeOf(e).call(this))}return _inherits(e,t),_createClass2(e,[{key:"Reset",value:function(t,i,n,r){_get(_getPrototypeOf(e.prototype),"Reset",this).call(this,t,i,n,r)}},{key:"Evaluate",value:function(t,e,i){qe(t,this.m_fixtureA.GetShape(),e,this.m_fixtureB.GetShape(),i)}}],[{key:"Create",value:function(t){return new e}},{key:"Destroy",value:function(t,e){}}]),e}(Qi),Ti=function(t){function e(){return _classCallCheck2(this,e),_possibleConstructorReturn(this,_getPrototypeOf(e).call(this))}return _inherits(e,t),_createClass2(e,[{key:"Reset",value:function(t,i,n,r){_get(_getPrototypeOf(e.prototype),"Reset",this).call(this,t,i,n,r)}},{key:"Evaluate",value:function(t,i,n){var r=this.m_fixtureA.GetShape(),s=this.m_fixtureB.GetShape(),o=e.Evaluate_s_edge;r.GetChildEdge(o,this.m_indexA),Ye(t,o,i,s,n)}}],[{key:"Create",value:function(t){return new e}},{key:"Destroy",value:function(t,e){}}]),e}(Qi);Ti.Evaluate_s_edge=new ni;var Gi=function(t){function e(){return _classCallCheck2(this,e),_possibleConstructorReturn(this,_getPrototypeOf(e).call(this))}return _inherits(e,t),_createClass2(e,[{key:"Reset",value:function(t,i,n,r){_get(_getPrototypeOf(e.prototype),"Reset",this).call(this,t,i,n,r)}},{key:"Evaluate",value:function(t,i,n){var r=this.m_fixtureA.GetShape(),s=this.m_fixtureB.GetShape(),o=e.Evaluate_s_edge;r.GetChildEdge(o,this.m_indexA),qe(t,o,i,s,n)}}],[{key:"Create",value:function(t){return new e}},{key:"Destroy",value:function(t,e){}}]),e}(Qi);Gi.Evaluate_s_edge=new ni;var Fi=function t(){_classCallCheck2(this,t),this.createFcn=null,this.destroyFcn=null,this.primary=!1},Pi=function(){function e(t){_classCallCheck2(this,e),this.m_allocator=null,this.m_allocator=t,this.InitializeRegisters()}return _createClass2(e,[{key:"AddType",value:function(t,e,i,n){var r=this,s=m(256,(function(e){return t(r.m_allocator)}));function o(e){return s.pop()||t(e)}function a(t,e){s.push(t)}this.m_registers[i][n].createFcn=o,this.m_registers[i][n].destroyFcn=a,this.m_registers[i][n].primary=!0,i!==n&&(this.m_registers[n][i].createFcn=o,this.m_registers[n][i].destroyFcn=a,this.m_registers[n][i].primary=!1)}},{key:"InitializeRegisters",value:function(){this.m_registers=[];for(var e=0;e<t.b2ShapeType.e_shapeTypeCount;e++){this.m_registers[e]=[];for(var i=0;i<t.b2ShapeType.e_shapeTypeCount;i++)this.m_registers[e][i]=new Fi}this.AddType(ki.Create,ki.Destroy,t.b2ShapeType.e_circleShape,t.b2ShapeType.e_circleShape),this.AddType(Mi.Create,Mi.Destroy,t.b2ShapeType.e_polygonShape,t.b2ShapeType.e_circleShape),this.AddType(Di.Create,Di.Destroy,t.b2ShapeType.e_polygonShape,t.b2ShapeType.e_polygonShape),this.AddType(Ri.Create,Ri.Destroy,t.b2ShapeType.e_edgeShape,t.b2ShapeType.e_circleShape),this.AddType(Vi.Create,Vi.Destroy,t.b2ShapeType.e_edgeShape,t.b2ShapeType.e_polygonShape),this.AddType(Ti.Create,Ti.Destroy,t.b2ShapeType.e_chainShape,t.b2ShapeType.e_circleShape),this.AddType(Gi.Create,Gi.Destroy,t.b2ShapeType.e_chainShape,t.b2ShapeType.e_polygonShape)}},{key:"Create",value:function(t,e,i,n){var r=t.GetType(),s=i.GetType(),o=this.m_registers[r][s];if(o.createFcn){var a=o.createFcn(this.m_allocator);return o.primary?a.Reset(t,e,i,n):a.Reset(i,n,t,e),a}return null}},{key:"Destroy",value:function(t){var e=t.m_fixtureA,i=t.m_fixtureB;t.m_manifold.pointCount>0&&!e.IsSensor()&&!i.IsSensor()&&(e.GetBody().SetAwake(!0),i.GetBody().SetAwake(!0));var n=e.GetType(),r=i.GetType(),s=this.m_registers[n][r];s.destroyFcn&&s.destroyFcn(t,this.m_allocator)}}]),e}(),Ni=function(){function e(){_classCallCheck2(this,e)}return _createClass2(e,[{key:"ShouldCollide",value:function(e,i){var n=e.GetBody(),r=i.GetBody();if(r.GetType()===t.b2BodyType.b2_staticBody&&n.GetType()===t.b2BodyType.b2_staticBody)return!1;if(!r.ShouldCollideConnected(n))return!1;var s=e.GetFilterData(),o=i.GetFilterData();return s.groupIndex===o.groupIndex&&0!==s.groupIndex?s.groupIndex>0:0!=(s.maskBits&o.categoryBits)&&0!=(s.categoryBits&o.maskBits)}},{key:"ShouldCollideFixtureParticle",value:function(t,e,i){return!0}},{key:"ShouldCollideParticleParticle",value:function(t,e,i){return!0}}]),e}();Ni.b2_defaultFilter=new Ni;var Li=function t(){_classCallCheck2(this,t),this.normalImpulses=_(o),this.tangentImpulses=_(o),this.count=0},Ui=function(){function t(){_classCallCheck2(this,t)}return _createClass2(t,[{key:"BeginContact",value:function(t){}},{key:"EndContact",value:function(t){}},{key:"BeginContactFixtureParticle",value:function(t,e){}},{key:"EndContactFixtureParticle",value:function(t,e){}},{key:"BeginContactParticleParticle",value:function(t,e){}},{key:"EndContactParticleParticle",value:function(t,e){}},{key:"PreSolve",value:function(t,e){}},{key:"PostSolve",value:function(t,e){}}]),t}();Ui.b2_defaultListener=new Ui;var Oi=function(){function t(){_classCallCheck2(this,t)}return _createClass2(t,[{key:"ReportFixture",value:function(t){return!0}},{key:"ReportParticle",value:function(t,e){return!1}},{key:"ShouldQueryParticleSystem",value:function(t){return!0}}]),t}(),Yi=function(){function e(){_classCallCheck2(this,e),this.m_broadPhase=new Rt,this.m_contactList=null,this.m_contactCount=0,this.m_contactFilter=Ni.b2_defaultFilter,this.m_contactListener=Ui.b2_defaultListener,this.m_allocator=null,this.m_contactFactory=new Pi(this.m_allocator)}return _createClass2(e,[{key:"AddPair",value:function(t,e){var i=t.fixture,n=e.fixture,r=t.childIndex,s=e.childIndex,o=i.GetBody(),a=n.GetBody();if(o!==a){for(var A=a.GetContactList();A;){if(A.other===o){var l=A.contact.GetFixtureA(),u=A.contact.GetFixtureB(),h=A.contact.GetChildIndexA(),c=A.contact.GetChildIndexB();if(l===i&&u===n&&h===r&&c===s)return;if(l===n&&u===i&&h===s&&c===r)return}A=A.next}if(!this.m_contactFilter||this.m_contactFilter.ShouldCollide(i,n)){var f=this.m_contactFactory.Create(i,r,n,s);null!==f&&(i=f.GetFixtureA(),n=f.GetFixtureB(),r=f.GetChildIndexA(),s=f.GetChildIndexB(),o=i.m_body,a=n.m_body,f.m_prev=null,f.m_next=this.m_contactList,null!==this.m_contactList&&(this.m_contactList.m_prev=f),this.m_contactList=f,f.m_nodeA.contact=f,f.m_nodeA.other=a,f.m_nodeA.prev=null,f.m_nodeA.next=o.m_contactList,null!==o.m_contactList&&(o.m_contactList.prev=f.m_nodeA),o.m_contactList=f.m_nodeA,f.m_nodeB.contact=f,f.m_nodeB.other=o,f.m_nodeB.prev=null,f.m_nodeB.next=a.m_contactList,null!==a.m_contactList&&(a.m_contactList.prev=f.m_nodeB),a.m_contactList=f.m_nodeB,i.IsSensor()||n.IsSensor()||(o.SetAwake(!0),a.SetAwake(!0)),++this.m_contactCount)}}}},{key:"FindNewContacts",value:function(){var t=this;this.m_broadPhase.UpdatePairs((function(e,i){t.AddPair(e,i)}))}},{key:"Destroy",value:function(t){var e=t.GetFixtureA(),i=t.GetFixtureB(),n=e.GetBody(),r=i.GetBody();this.m_contactListener&&t.IsTouching()&&this.m_contactListener.EndContact(t),t.m_prev&&(t.m_prev.m_next=t.m_next),t.m_next&&(t.m_next.m_prev=t.m_prev),t===this.m_contactList&&(this.m_contactList=t.m_next),t.m_nodeA.prev&&(t.m_nodeA.prev.next=t.m_nodeA.next),t.m_nodeA.next&&(t.m_nodeA.next.prev=t.m_nodeA.prev),t.m_nodeA===n.m_contactList&&(n.m_contactList=t.m_nodeA.next),t.m_nodeB.prev&&(t.m_nodeB.prev.next=t.m_nodeB.next),t.m_nodeB.next&&(t.m_nodeB.next.prev=t.m_nodeB.prev),t.m_nodeB===r.m_contactList&&(r.m_contactList=t.m_nodeB.next),this.m_contactFactory.Destroy(t),--this.m_contactCount}},{key:"Collide",value:function(){for(var e=this.m_contactList;e;){var i=e.GetFixtureA(),n=e.GetFixtureB(),r=e.GetChildIndexA(),s=e.GetChildIndexB(),o=i.GetBody(),a=n.GetBody();if(e.m_filterFlag){if(this.m_contactFilter&&!this.m_contactFilter.ShouldCollide(i,n)){var A=e;e=A.m_next,this.Destroy(A);continue}e.m_filterFlag=!1}var l=o.IsAwake()&&o.m_type!==t.b2BodyType.b2_staticBody,u=a.IsAwake()&&a.m_type!==t.b2BodyType.b2_staticBody;if(l||u)if(Bt(i.m_proxies[r].treeNode.aabb,n.m_proxies[s].treeNode.aabb))e.Update(this.m_contactListener),e=e.m_next;else{var h=e;e=h.m_next,this.Destroy(h)}else e=e.m_next}}}]),e}(),Hi=function(){function t(){_classCallCheck2(this,t),this.step=0,this.collide=0,this.solve=0,this.solveInit=0,this.solveVelocity=0,this.solvePosition=0,this.broadphase=0,this.solveTOI=0}return _createClass2(t,[{key:"Reset",value:function(){return this.step=0,this.collide=0,this.solve=0,this.solveInit=0,this.solveVelocity=0,this.solvePosition=0,this.broadphase=0,this.solveTOI=0,this}}]),t}(),Ji=function(){function t(){_classCallCheck2(this,t),this.dt=0,this.inv_dt=0,this.dtRatio=0,this.velocityIterations=0,this.positionIterations=0,this.particleIterations=0,this.warmStarting=!1}return _createClass2(t,[{key:"Copy",value:function(t){return this.dt=t.dt,this.inv_dt=t.inv_dt,this.dtRatio=t.dtRatio,this.positionIterations=t.positionIterations,this.velocityIterations=t.velocityIterations,this.particleIterations=t.particleIterations,this.warmStarting=t.warmStarting,this}}]),t}(),ji=function(){function t(){_classCallCheck2(this,t),this.c=new k,this.a=0}return _createClass2(t,null,[{key:"MakeArray",value:function(e){return m(e,(function(e){return new t}))}}]),t}(),Ki=function(){function t(){_classCallCheck2(this,t),this.v=new k,this.w=0}return _createClass2(t,null,[{key:"MakeArray",value:function(e){return m(e,(function(e){return new t}))}}]),t}(),qi=function t(){_classCallCheck2(this,t),this.step=new Ji},zi=function(){function t(){_classCallCheck2(this,t),this.rA=new k,this.rB=new k,this.normalImpulse=0,this.tangentImpulse=0,this.normalMass=0,this.tangentMass=0,this.velocityBias=0}return _createClass2(t,null,[{key:"MakeArray",value:function(e){return m(e,(function(e){return new t}))}}]),t}(),Xi=function(){function t(){_classCallCheck2(this,t),this.points=zi.MakeArray(o),this.normal=new k,this.tangent=new k,this.normalMass=new R,this.K=new R,this.indexA=0,this.indexB=0,this.invMassA=0,this.invMassB=0,this.invIA=0,this.invIB=0,this.friction=0,this.restitution=0,this.tangentSpeed=0,this.pointCount=0,this.contactIndex=0}return _createClass2(t,null,[{key:"MakeArray",value:function(e){return m(e,(function(e){return new t}))}}]),t}(),Wi=function(){function e(){_classCallCheck2(this,e),this.localPoints=k.MakeArray(o),this.localNormal=new k,this.localPoint=new k,this.indexA=0,this.indexB=0,this.invMassA=0,this.invMassB=0,this.localCenterA=new k,this.localCenterB=new k,this.invIA=0,this.invIB=0,this.type=t.b2ManifoldType.e_unknown,this.radiusA=0,this.radiusB=0,this.pointCount=0}return _createClass2(e,null,[{key:"MakeArray",value:function(t){return m(t,(function(t){return new e}))}}]),e}(),Zi=function t(){_classCallCheck2(this,t),this.step=new Ji,this.count=0,this.allocator=null},$i=function(){function e(){_classCallCheck2(this,e),this.normal=new k,this.point=new k,this.separation=0}return _createClass2(e,[{key:"Initialize",value:function(i,n,r,s){var o=e.Initialize_s_pointA,a=e.Initialize_s_pointB,A=e.Initialize_s_planePoint,l=e.Initialize_s_clipPoint;switch(i.type){case t.b2ManifoldType.e_circles:G.MulXV(n,i.localPoint,o),G.MulXV(r,i.localPoints[0],a),k.SubVV(a,o,this.normal).SelfNormalize(),k.MidVV(o,a,this.point),this.separation=k.DotVV(k.SubVV(a,o,k.s_t0),this.normal)-i.radiusA-i.radiusB;break;case t.b2ManifoldType.e_faceA:T.MulRV(n.q,i.localNormal,this.normal),G.MulXV(n,i.localPoint,A),G.MulXV(r,i.localPoints[s],l),this.separation=k.DotVV(k.SubVV(l,A,k.s_t0),this.normal)-i.radiusA-i.radiusB,this.point.Copy(l);break;case t.b2ManifoldType.e_faceB:T.MulRV(r.q,i.localNormal,this.normal),G.MulXV(r,i.localPoint,A),G.MulXV(n,i.localPoints[s],l),this.separation=k.DotVV(k.SubVV(l,A,k.s_t0),this.normal)-i.radiusA-i.radiusB,this.point.Copy(l),this.normal.SelfNeg()}}}]),e}();$i.Initialize_s_pointA=new k,$i.Initialize_s_pointB=new k,$i.Initialize_s_planePoint=new k,$i.Initialize_s_clipPoint=new k;var tn=function(){function t(){_classCallCheck2(this,t),this.m_step=new Ji,this.m_allocator=null,this.m_positionConstraints=Wi.MakeArray(1024),this.m_velocityConstraints=Xi.MakeArray(1024),this.m_count=0}return _createClass2(t,[{key:"Initialize",value:function(t){if(this.m_step.Copy(t.step),this.m_allocator=t.allocator,this.m_count=t.count,this.m_positionConstraints.length<this.m_count)for(var e=p(2*this.m_positionConstraints.length,this.m_count);this.m_positionConstraints.length<e;)this.m_positionConstraints[this.m_positionConstraints.length]=new Wi;if(this.m_velocityConstraints.length<this.m_count)for(var i=p(2*this.m_velocityConstraints.length,this.m_count);this.m_velocityConstraints.length<i;)this.m_velocityConstraints[this.m_velocityConstraints.length]=new Xi;this.m_positions=t.positions,this.m_velocities=t.velocities,this.m_contacts=t.contacts;for(var n=0;n<this.m_count;++n){var r=this.m_contacts[n],s=r.m_fixtureA,o=r.m_fixtureB,a=s.GetShape(),A=o.GetShape(),l=a.m_radius,u=A.m_radius,h=s.GetBody(),c=o.GetBody(),f=r.GetManifold(),m=f.pointCount,_=this.m_velocityConstraints[n];_.friction=r.m_friction,_.restitution=r.m_restitution,_.tangentSpeed=r.m_tangentSpeed,_.indexA=h.m_islandIndex,_.indexB=c.m_islandIndex,_.invMassA=h.m_invMass,_.invMassB=c.m_invMass,_.invIA=h.m_invI,_.invIB=c.m_invI,_.contactIndex=n,_.pointCount=m,_.K.SetZero(),_.normalMass.SetZero();var g=this.m_positionConstraints[n];g.indexA=h.m_islandIndex,g.indexB=c.m_islandIndex,g.invMassA=h.m_invMass,g.invMassB=c.m_invMass,g.localCenterA.Copy(h.m_sweep.localCenter),g.localCenterB.Copy(c.m_sweep.localCenter),g.invIA=h.m_invI,g.invIB=c.m_invI,g.localNormal.Copy(f.localNormal),g.localPoint.Copy(f.localPoint),g.pointCount=m,g.radiusA=l,g.radiusB=u,g.type=f.type;for(var d=0;d<m;++d){var y=f.points[d],C=_.points[d];this.m_step.warmStarting?(C.normalImpulse=this.m_step.dtRatio*y.normalImpulse,C.tangentImpulse=this.m_step.dtRatio*y.tangentImpulse):(C.normalImpulse=0,C.tangentImpulse=0),C.rA.SetZero(),C.rB.SetZero(),C.normalMass=0,C.tangentMass=0,C.velocityBias=0,g.localPoints[d].Copy(y.localPoint)}}return this}},{key:"InitializeVelocityConstraints",value:function(){for(var e=t.InitializeVelocityConstraints_s_xfA,i=t.InitializeVelocityConstraints_s_xfB,n=t.InitializeVelocityConstraints_s_worldManifold,r=0;r<this.m_count;++r){var s=this.m_velocityConstraints[r],o=this.m_positionConstraints[r],a=o.radiusA,A=o.radiusB,l=this.m_contacts[s.contactIndex].GetManifold(),u=s.indexA,h=s.indexB,c=s.invMassA,f=s.invMassB,m=s.invIA,_=s.invIB,g=o.localCenterA,d=o.localCenterB,p=this.m_positions[u].c,y=this.m_velocities[u].v,C=this.m_velocities[u].w,v=this.m_positions[h].c,I=this.m_positions[h].a,B=this.m_velocities[h].v,E=this.m_velocities[h].w;e.q.SetAngle(this.m_positions[u].a),i.q.SetAngle(I),k.SubVV(p,T.MulRV(e.q,g,k.s_t0),e.p),k.SubVV(v,T.MulRV(i.q,d,k.s_t0),i.p),n.Initialize(l,e,a,i,A),s.normal.Copy(n.normal),k.CrossVOne(s.normal,s.tangent);for(var w=s.pointCount,b=0;b<w;++b){var x=s.points[b];k.SubVV(n.points[b],p,x.rA),k.SubVV(n.points[b],v,x.rB);var S=k.CrossVV(x.rA,s.normal),Q=k.CrossVV(x.rB,s.normal),D=c+f+m*S*S+_*Q*Q;x.normalMass=D>0?1/D:0;var M=s.tangent,R=k.CrossVV(x.rA,M),V=k.CrossVV(x.rB,M),G=c+f+m*R*R+_*V*V;x.tangentMass=G>0?1/G:0,x.velocityBias=0;var F=k.DotVV(s.normal,k.SubVV(k.AddVCrossSV(B,E,x.rB,k.s_t0),k.AddVCrossSV(y,C,x.rA,k.s_t1),k.s_t0));F<-1&&(x.velocityBias+=-s.restitution*F)}s.pointCount}}},{key:"WarmStart",value:function(){for(var e=t.WarmStart_s_P,i=0;i<this.m_count;++i){for(var n=this.m_velocityConstraints[i],r=n.indexA,s=n.indexB,o=n.invMassA,a=n.invIA,A=n.invMassB,l=n.invIB,u=n.pointCount,h=this.m_velocities[r].v,c=this.m_velocities[r].w,f=this.m_velocities[s].v,m=this.m_velocities[s].w,_=n.normal,g=n.tangent,d=0;d<u;++d){var p=n.points[d];k.AddVV(k.MulSV(p.normalImpulse,_,k.s_t0),k.MulSV(p.tangentImpulse,g,k.s_t1),e),c-=a*k.CrossVV(p.rA,e),h.SelfMulSub(o,e),m+=l*k.CrossVV(p.rB,e),f.SelfMulAdd(A,e)}this.m_velocities[r].w=c,this.m_velocities[s].w=m}}},{key:"SolveVelocityConstraints",value:function(){for(var e=t.SolveVelocityConstraints_s_dv,i=(t.SolveVelocityConstraints_s_dv1,t.SolveVelocityConstraints_s_dv2,t.SolveVelocityConstraints_s_P),n=(t.SolveVelocityConstraints_s_a,t.SolveVelocityConstraints_s_b,t.SolveVelocityConstraints_s_x,t.SolveVelocityConstraints_s_d,t.SolveVelocityConstraints_s_P1,t.SolveVelocityConstraints_s_P2,t.SolveVelocityConstraints_s_P1P2,0);n<this.m_count;++n){for(var r=this.m_velocityConstraints[n],s=r.indexA,o=r.indexB,a=r.invMassA,A=r.invIA,l=r.invMassB,u=r.invIB,h=r.pointCount,c=this.m_velocities[s].v,f=this.m_velocities[s].w,m=this.m_velocities[o].v,_=this.m_velocities[o].w,g=r.normal,d=r.tangent,C=r.friction,v=0;v<h;++v){var I=r.points[v];k.SubVV(k.AddVCrossSV(m,_,I.rB,k.s_t0),k.AddVCrossSV(c,f,I.rA,k.s_t1),e);var B=k.DotVV(e,d)-r.tangentSpeed,E=I.tangentMass*-B,w=C*I.normalImpulse,b=y(I.tangentImpulse+E,-w,w);E=b-I.tangentImpulse,I.tangentImpulse=b,k.MulSV(E,d,i),c.SelfMulSub(a,i),f-=A*k.CrossVV(I.rA,i),m.SelfMulAdd(l,i),_+=u*k.CrossVV(I.rB,i)}r.pointCount;for(var x=0;x<h;++x){var S=r.points[x];k.SubVV(k.AddVCrossSV(m,_,S.rB,k.s_t0),k.AddVCrossSV(c,f,S.rA,k.s_t1),e);var Q=k.DotVV(e,g),D=-S.normalMass*(Q-S.velocityBias),M=p(S.normalImpulse+D,0);D=M-S.normalImpulse,S.normalImpulse=M,k.MulSV(D,g,i),c.SelfMulSub(a,i),f-=A*k.CrossVV(S.rA,i),m.SelfMulAdd(l,i),_+=u*k.CrossVV(S.rB,i)}this.m_velocities[s].w=f,this.m_velocities[o].w=_}}},{key:"StoreImpulses",value:function(){for(var t=0;t<this.m_count;++t)for(var e=this.m_velocityConstraints[t],i=this.m_contacts[e.contactIndex].GetManifold(),n=0;n<e.pointCount;++n)i.points[n].normalImpulse=e.points[n].normalImpulse,i.points[n].tangentImpulse=e.points[n].tangentImpulse}},{key:"SolvePositionConstraints",value:function(){for(var e=t.SolvePositionConstraints_s_xfA,i=t.SolvePositionConstraints_s_xfB,n=t.SolvePositionConstraints_s_psm,r=t.SolvePositionConstraints_s_rA,s=t.SolvePositionConstraints_s_rB,o=t.SolvePositionConstraints_s_P,a=0,l=0;l<this.m_count;++l){for(var u=this.m_positionConstraints[l],h=u.indexA,c=u.indexB,f=u.localCenterA,m=u.invMassA,_=u.invIA,g=u.localCenterB,p=u.invMassB,C=u.invIB,v=u.pointCount,I=this.m_positions[h].c,B=this.m_positions[h].a,E=this.m_positions[c].c,w=this.m_positions[c].a,b=0;b<v;++b){e.q.SetAngle(B),i.q.SetAngle(w),k.SubVV(I,T.MulRV(e.q,f,k.s_t0),e.p),k.SubVV(E,T.MulRV(i.q,g,k.s_t0),i.p),n.Initialize(u,e,i,b);var x=n.normal,S=n.point,Q=n.separation;k.SubVV(S,I,r),k.SubVV(S,E,s),a=d(a,Q);var D=y(.2*(Q+A),-.2,0),M=k.CrossVV(r,x),R=k.CrossVV(s,x),V=m+p+_*M*M+C*R*R;k.MulSV(V>0?-D/V:0,x,o),I.SelfMulSub(m,o),B-=_*k.CrossVV(r,o),E.SelfMulAdd(p,o),w+=C*k.CrossVV(s,o)}this.m_positions[h].a=B,this.m_positions[c].a=w}return a>-3*A}},{key:"SolveTOIPositionConstraints",value:function(e,i){for(var n=t.SolveTOIPositionConstraints_s_xfA,r=t.SolveTOIPositionConstraints_s_xfB,s=t.SolveTOIPositionConstraints_s_psm,o=t.SolveTOIPositionConstraints_s_rA,a=t.SolveTOIPositionConstraints_s_rB,l=t.SolveTOIPositionConstraints_s_P,u=0,h=0;h<this.m_count;++h){var c=this.m_positionConstraints[h],f=c.indexA,m=c.indexB,_=c.localCenterA,g=c.localCenterB,p=c.pointCount,C=0,v=0;f!==e&&f!==i||(C=c.invMassA,v=c.invIA);var I=0,B=0;m!==e&&m!==i||(I=c.invMassB,B=c.invIB);for(var E=this.m_positions[f].c,w=this.m_positions[f].a,b=this.m_positions[m].c,x=this.m_positions[m].a,S=0;S<p;++S){n.q.SetAngle(w),r.q.SetAngle(x),k.SubVV(E,T.MulRV(n.q,_,k.s_t0),n.p),k.SubVV(b,T.MulRV(r.q,g,k.s_t0),r.p),s.Initialize(c,n,r,S);var Q=s.normal,D=s.point,M=s.separation;k.SubVV(D,E,o),k.SubVV(D,b,a),u=d(u,M);var R=y(.75*(M+A),-.2,0),V=k.CrossVV(o,Q),G=k.CrossVV(a,Q),F=C+I+v*V*V+B*G*G;k.MulSV(F>0?-R/F:0,Q,l),E.SelfMulSub(C,l),w-=v*k.CrossVV(o,l),b.SelfMulAdd(I,l),x+=B*k.CrossVV(a,l)}this.m_positions[f].a=w,this.m_positions[m].a=x}return u>=-1.5*A}}]),t}();tn.InitializeVelocityConstraints_s_xfA=new G,tn.InitializeVelocityConstraints_s_xfB=new G,tn.InitializeVelocityConstraints_s_worldManifold=new pt,tn.WarmStart_s_P=new k,tn.SolveVelocityConstraints_s_dv=new k,tn.SolveVelocityConstraints_s_dv1=new k,tn.SolveVelocityConstraints_s_dv2=new k,tn.SolveVelocityConstraints_s_P=new k,tn.SolveVelocityConstraints_s_a=new k,tn.SolveVelocityConstraints_s_b=new k,tn.SolveVelocityConstraints_s_x=new k,tn.SolveVelocityConstraints_s_d=new k,tn.SolveVelocityConstraints_s_P1=new k,tn.SolveVelocityConstraints_s_P2=new k,tn.SolveVelocityConstraints_s_P1P2=new k,tn.SolvePositionConstraints_s_xfA=new G,tn.SolvePositionConstraints_s_xfB=new G,tn.SolvePositionConstraints_s_psm=new $i,tn.SolvePositionConstraints_s_rA=new k,tn.SolvePositionConstraints_s_rB=new k,tn.SolvePositionConstraints_s_P=new k,tn.SolveTOIPositionConstraints_s_xfA=new G,tn.SolveTOIPositionConstraints_s_xfB=new G,tn.SolveTOIPositionConstraints_s_psm=new $i,tn.SolveTOIPositionConstraints_s_rA=new k,tn.SolveTOIPositionConstraints_s_rB=new k,tn.SolveTOIPositionConstraints_s_P=new k;var en,nn,rn=function(){function e(){_classCallCheck2(this,e),this.m_allocator=null,this.m_bodies=[],this.m_contacts=[],this.m_joints=[],this.m_positions=ji.MakeArray(1024),this.m_velocities=Ki.MakeArray(1024),this.m_bodyCount=0,this.m_jointCount=0,this.m_contactCount=0,this.m_bodyCapacity=0,this.m_contactCapacity=0,this.m_jointCapacity=0}return _createClass2(e,[{key:"Initialize",value:function(t,e,i,n,r){if(this.m_bodyCapacity=t,this.m_contactCapacity=e,this.m_jointCapacity=i,this.m_bodyCount=0,this.m_contactCount=0,this.m_jointCount=0,this.m_allocator=n,this.m_listener=r,this.m_positions.length<t)for(var s=p(2*this.m_positions.length,t);this.m_positions.length<s;)this.m_positions[this.m_positions.length]=new ji;if(this.m_velocities.length<t)for(var o=p(2*this.m_velocities.length,t);this.m_velocities.length<o;)this.m_velocities[this.m_velocities.length]=new Ki}},{key:"Clear",value:function(){this.m_bodyCount=0,this.m_contactCount=0,this.m_jointCount=0}},{key:"AddBody",value:function(t){t.m_islandIndex=this.m_bodyCount,this.m_bodies[this.m_bodyCount++]=t}},{key:"AddContact",value:function(t){this.m_contacts[this.m_contactCount++]=t}},{key:"AddJoint",value:function(t){this.m_joints[this.m_jointCount++]=t}},{key:"Solve",value:function(n,r,s,o){for(var a=e.s_timer.Reset(),A=r.dt,l=0;l<this.m_bodyCount;++l){var u=this.m_bodies[l];this.m_positions[l].c.Copy(u.m_sweep.c);var h=u.m_sweep.a,c=this.m_velocities[l].v.Copy(u.m_linearVelocity),f=u.m_angularVelocity;u.m_sweep.c0.Copy(u.m_sweep.c),u.m_sweep.a0=u.m_sweep.a,u.m_type===t.b2BodyType.b2_dynamicBody&&(c.x+=A*(u.m_gravityScale*s.x+u.m_invMass*u.m_force.x),c.y+=A*(u.m_gravityScale*s.y+u.m_invMass*u.m_force.y),f+=A*u.m_invI*u.m_torque,c.SelfMul(1/(1+A*u.m_linearDamping)),f*=1/(1+A*u.m_angularDamping)),this.m_positions[l].a=h,this.m_velocities[l].w=f}a.Reset();var m=e.s_solverData;m.step.Copy(r),m.positions=this.m_positions,m.velocities=this.m_velocities;var _=e.s_contactSolverDef;_.step.Copy(r),_.contacts=this.m_contacts,_.count=this.m_contactCount,_.positions=this.m_positions,_.velocities=this.m_velocities,_.allocator=this.m_allocator;var p=e.s_contactSolver.Initialize(_);p.InitializeVelocityConstraints(),r.warmStarting&&p.WarmStart();for(var y=0;y<this.m_jointCount;++y)this.m_joints[y].InitVelocityConstraints(m);n.solveInit=a.GetMilliseconds(),a.Reset();for(var C=0;C<r.velocityIterations;++C){for(var v=0;v<this.m_jointCount;++v)this.m_joints[v].SolveVelocityConstraints(m);p.SolveVelocityConstraints()}p.StoreImpulses(),n.solveVelocity=a.GetMilliseconds();for(var I=0;I<this.m_bodyCount;++I){var B=this.m_positions[I].c,E=this.m_positions[I].a,w=this.m_velocities[I].v,b=this.m_velocities[I].w,x=k.MulSV(A,w,e.s_translation);if(k.DotVV(x,x)>4){var S=2/x.Length();w.SelfMul(S)}var Q=A*b;Q*Q>2.4674011002726646&&(b*=1.570796326795/g(Q)),B.x+=A*w.x,B.y+=A*w.y,this.m_positions[I].a=E+=A*b,this.m_velocities[I].w=b}a.Reset();for(var D=!1,M=0;M<r.positionIterations;++M){for(var R=p.SolvePositionConstraints(),V=!0,T=0;T<this.m_jointCount;++T){var G=this.m_joints[T].SolvePositionConstraints(m);V=V&&G}if(R&&V){D=!0;break}}for(var F=0;F<this.m_bodyCount;++F){var P=this.m_bodies[F];P.m_sweep.c.Copy(this.m_positions[F].c),P.m_sweep.a=this.m_positions[F].a,P.m_linearVelocity.Copy(this.m_velocities[F].v),P.m_angularVelocity=this.m_velocities[F].w,P.SynchronizeTransform()}if(n.solvePosition=a.GetMilliseconds(),this.Report(p.m_velocityConstraints),o){for(var N=i,L=0;L<this.m_bodyCount;++L){var U=this.m_bodies[L];U.GetType()!==t.b2BodyType.b2_staticBody&&(!U.m_autoSleepFlag||U.m_angularVelocity*U.m_angularVelocity>.0012184696791469947||k.DotVV(U.m_linearVelocity,U.m_linearVelocity)>1e-4?(U.m_sleepTime=0,N=0):(U.m_sleepTime+=A,N=d(N,U.m_sleepTime)))}if(N>=.5&&D)for(var O=0;O<this.m_bodyCount;++O)this.m_bodies[O].SetAwake(!1)}}},{key:"SolveTOI",value:function(t,i,n){for(var r=0;r<this.m_bodyCount;++r){var s=this.m_bodies[r];this.m_positions[r].c.Copy(s.m_sweep.c),this.m_positions[r].a=s.m_sweep.a,this.m_velocities[r].v.Copy(s.m_linearVelocity),this.m_velocities[r].w=s.m_angularVelocity}var o=e.s_contactSolverDef;o.contacts=this.m_contacts,o.count=this.m_contactCount,o.allocator=this.m_allocator,o.step.Copy(t),o.positions=this.m_positions,o.velocities=this.m_velocities;for(var a=e.s_contactSolver.Initialize(o),A=0;A<t.positionIterations&&!a.SolveTOIPositionConstraints(i,n);++A);this.m_bodies[i].m_sweep.c0.Copy(this.m_positions[i].c),this.m_bodies[i].m_sweep.a0=this.m_positions[i].a,this.m_bodies[n].m_sweep.c0.Copy(this.m_positions[n].c),this.m_bodies[n].m_sweep.a0=this.m_positions[n].a,a.InitializeVelocityConstraints();for(var l=0;l<t.velocityIterations;++l)a.SolveVelocityConstraints();for(var u=t.dt,h=0;h<this.m_bodyCount;++h){var c=this.m_positions[h].c,f=this.m_positions[h].a,m=this.m_velocities[h].v,_=this.m_velocities[h].w,d=k.MulSV(u,m,e.s_translation);if(k.DotVV(d,d)>4){var p=2/d.Length();m.SelfMul(p)}var y=u*_;y*y>2.4674011002726646&&(_*=1.570796326795/g(y)),c.SelfMulAdd(u,m),this.m_positions[h].a=f+=u*_,this.m_velocities[h].w=_;var C=this.m_bodies[h];C.m_sweep.c.Copy(c),C.m_sweep.a=f,C.m_linearVelocity.Copy(m),C.m_angularVelocity=_,C.SynchronizeTransform()}this.Report(a.m_velocityConstraints)}},{key:"Report",value:function(t){if(null!==this.m_listener)for(var i=0;i<this.m_contactCount;++i){var n=this.m_contacts[i];if(n){var r=t[i],s=e.s_impulse;s.count=r.pointCount;for(var o=0;o<r.pointCount;++o)s.normalImpulses[o]=r.points[o].normalImpulse,s.tangentImpulses[o]=r.points[o].tangentImpulse;this.m_listener.PostSolve(n,s)}}}}]),e}();rn.s_timer=new L,rn.s_solverData=new qi,rn.s_contactSolverDef=new Zi,rn.s_contactSolver=new tn,rn.s_translation=new k,rn.s_impulse=new Li,(en=t.b2ParticleFlag||(t.b2ParticleFlag={}))[en.b2_waterParticle=0]="b2_waterParticle",en[en.b2_zombieParticle=2]="b2_zombieParticle",en[en.b2_wallParticle=4]="b2_wallParticle",en[en.b2_springParticle=8]="b2_springParticle",en[en.b2_elasticParticle=16]="b2_elasticParticle",en[en.b2_viscousParticle=32]="b2_viscousParticle",en[en.b2_powderParticle=64]="b2_powderParticle",en[en.b2_tensileParticle=128]="b2_tensileParticle",en[en.b2_colorMixingParticle=256]="b2_colorMixingParticle",en[en.b2_destructionListenerParticle=512]="b2_destructionListenerParticle",en[en.b2_barrierParticle=1024]="b2_barrierParticle",en[en.b2_staticPressureParticle=2048]="b2_staticPressureParticle",en[en.b2_reactiveParticle=4096]="b2_reactiveParticle",en[en.b2_repulsiveParticle=8192]="b2_repulsiveParticle",en[en.b2_fixtureContactListenerParticle=16384]="b2_fixtureContactListenerParticle",en[en.b2_particleContactListenerParticle=32768]="b2_particleContactListenerParticle",en[en.b2_fixtureContactFilterParticle=65536]="b2_fixtureContactFilterParticle",en[en.b2_particleContactFilterParticle=131072]="b2_particleContactFilterParticle";var sn=function t(){_classCallCheck2(this,t),this.flags=0,this.position=new k,this.velocity=new k,this.color=new N(0,0,0,0),this.lifetime=0,this.userData=null,this.group=null};function on(t,e,i){return y(Math.ceil(Math.sqrt(t/(.01*e))*i),1,8)}var an=function(){function t(){_classCallCheck2(this,t),this.m_index=h}return _createClass2(t,[{key:"GetIndex",value:function(){return this.m_index}},{key:"SetIndex",value:function(t){this.m_index=t}}]),t}();(nn=t.b2ParticleGroupFlag||(t.b2ParticleGroupFlag={}))[nn.b2_solidParticleGroup=1]="b2_solidParticleGroup",nn[nn.b2_rigidParticleGroup=2]="b2_rigidParticleGroup",nn[nn.b2_particleGroupCanBeEmpty=4]="b2_particleGroupCanBeEmpty",nn[nn.b2_particleGroupWillBeDestroyed=8]="b2_particleGroupWillBeDestroyed",nn[nn.b2_particleGroupNeedsUpdateDepth=16]="b2_particleGroupNeedsUpdateDepth",nn[nn.b2_particleGroupInternalMask=24]="b2_particleGroupInternalMask";var An=function t(){_classCallCheck2(this,t),this.flags=0,this.groupFlags=0,this.position=new k,this.angle=0,this.linearVelocity=new k,this.angularVelocity=0,this.color=new N,this.strength=1,this.shapeCount=0,this.stride=0,this.particleCount=0,this.lifetime=0,this.userData=null,this.group=null},ln=function(){function e(t){_classCallCheck2(this,e),this.m_firstIndex=0,this.m_lastIndex=0,this.m_groupFlags=0,this.m_strength=1,this.m_prev=null,this.m_next=null,this.m_timestamp=-1,this.m_mass=0,this.m_inertia=0,this.m_center=new k,this.m_linearVelocity=new k,this.m_angularVelocity=0,this.m_transform=new G,this.m_userData=null,this.m_system=t}return _createClass2(e,[{key:"GetNext",value:function(){return this.m_next}},{key:"GetParticleSystem",value:function(){return this.m_system}},{key:"GetParticleCount",value:function(){return this.m_lastIndex-this.m_firstIndex}},{key:"GetBufferIndex",value:function(){return this.m_firstIndex}},{key:"ContainsParticle",value:function(t){return this.m_firstIndex<=t&&t<this.m_lastIndex}},{key:"GetAllParticleFlags",value:function(){if(!this.m_system.m_flagsBuffer.data)throw new Error;for(var t=0,e=this.m_firstIndex;e<this.m_lastIndex;e++)t|=this.m_system.m_flagsBuffer.data[e];return t}},{key:"GetGroupFlags",value:function(){return this.m_groupFlags}},{key:"SetGroupFlags",value:function(e){this.m_system.SetGroupFlags(this,e|=this.m_groupFlags&t.b2ParticleGroupFlag.b2_particleGroupInternalMask)}},{key:"GetMass",value:function(){return this.UpdateStatistics(),this.m_mass}},{key:"GetInertia",value:function(){return this.UpdateStatistics(),this.m_inertia}},{key:"GetCenter",value:function(){return this.UpdateStatistics(),this.m_center}},{key:"GetLinearVelocity",value:function(){return this.UpdateStatistics(),this.m_linearVelocity}},{key:"GetAngularVelocity",value:function(){return this.UpdateStatistics(),this.m_angularVelocity}},{key:"GetTransform",value:function(){return this.m_transform}},{key:"GetPosition",value:function(){return this.m_transform.p}},{key:"GetAngle",value:function(){return this.m_transform.q.GetAngle()}},{key:"GetLinearVelocityFromWorldPoint",value:function(t,i){var n=e.GetLinearVelocityFromWorldPoint_s_t0;return this.UpdateStatistics(),k.AddVCrossSV(this.m_linearVelocity,this.m_angularVelocity,k.SubVV(t,this.m_center,n),i)}},{key:"GetUserData",value:function(){return this.m_userData}},{key:"SetUserData",value:function(t){this.m_userData=t}},{key:"ApplyForce",value:function(t){this.m_system.ApplyForce(this.m_firstIndex,this.m_lastIndex,t)}},{key:"ApplyLinearImpulse",value:function(t){this.m_system.ApplyLinearImpulse(this.m_firstIndex,this.m_lastIndex,t)}},{key:"DestroyParticles",value:function(t){if(this.m_system.m_world.IsLocked())throw new Error;for(var e=this.m_firstIndex;e<this.m_lastIndex;e++)this.m_system.DestroyParticle(e,t)}},{key:"UpdateStatistics",value:function(){if(!this.m_system.m_positionBuffer.data)throw new Error;if(!this.m_system.m_velocityBuffer.data)throw new Error;var t=new k,e=new k;if(this.m_timestamp!==this.m_system.m_timestamp){var i=this.m_system.GetParticleMass();this.m_mass=i*(this.m_lastIndex-this.m_firstIndex),this.m_center.SetZero(),this.m_linearVelocity.SetZero();for(var n=this.m_firstIndex;n<this.m_lastIndex;n++)this.m_center.SelfMulAdd(i,this.m_system.m_positionBuffer.data[n]),this.m_linearVelocity.SelfMulAdd(i,this.m_system.m_velocityBuffer.data[n]);if(this.m_mass>0){var r=1/this.m_mass;this.m_center.SelfMul(r),this.m_linearVelocity.SelfMul(r)}this.m_inertia=0,this.m_angularVelocity=0;for(var s=this.m_firstIndex;s<this.m_lastIndex;s++)k.SubVV(this.m_system.m_positionBuffer.data[s],this.m_center,t),k.SubVV(this.m_system.m_velocityBuffer.data[s],this.m_linearVelocity,e),this.m_inertia+=i*k.DotVV(t,t),this.m_angularVelocity+=i*k.CrossVV(t,e);this.m_inertia>0&&(this.m_angularVelocity*=1/this.m_inertia),this.m_timestamp=this.m_system.m_timestamp}}}]),e}();ln.GetLinearVelocityFromWorldPoint_s_t0=new k;var un=function(){function t(e){_classCallCheck2(this,t),this.m_front=0,this.m_back=0,this.m_capacity=0,this.m_buffer=m(e,(function(t){return null})),this.m_capacity=e}return _createClass2(t,[{key:"Push",value:function(t){if(this.m_back>=this.m_capacity){for(var e=this.m_front;e<this.m_back;e++)this.m_buffer[e-this.m_front]=this.m_buffer[e];this.m_back-=this.m_front,this.m_front=0,this.m_back>=this.m_capacity&&(this.m_capacity>0?(this.m_buffer.concat(m(this.m_capacity,(function(t){return null}))),this.m_capacity*=2):(this.m_buffer.concat(m(1,(function(t){return null}))),this.m_capacity=1))}this.m_buffer[this.m_back]=t,this.m_back++}},{key:"Pop",value:function(){this.m_buffer[this.m_front]=null,this.m_front++}},{key:"Empty",value:function(){return this.m_front===this.m_back}},{key:"Front",value:function(){var t=this.m_buffer[this.m_front];if(!t)throw new Error;return t}}]),t}(),hn=function(){function t(e){_classCallCheck2(this,t),this.m_generatorCapacity=0,this.m_generatorCount=0,this.m_countX=0,this.m_countY=0,this.m_diagram=[],this.m_generatorBuffer=m(e,(function(t){return new cn})),this.m_generatorCapacity=e}return _createClass2(t,[{key:"AddGenerator",value:function(t,e,i){var n=this.m_generatorBuffer[this.m_generatorCount++];n.center.Copy(t),n.tag=e,n.necessary=i}},{key:"Generate",value:function(t,e){for(var n=1/t,r=new k(+i,+i),s=new k(-i,-i),o=0,a=0;a<this.m_generatorCount;a++){var A=this.m_generatorBuffer[a];A.necessary&&(k.MinV(r,A.center,r),k.MaxV(s,A.center,s),++o)}if(0===o)return this.m_countX=0,void(this.m_countY=0);r.x-=e,r.y-=e,s.x+=e,s.y+=e,this.m_countX=1+Math.floor(n*(s.x-r.x)),this.m_countY=1+Math.floor(n*(s.y-r.y)),this.m_diagram=[];for(var l=new un(4*this.m_countX*this.m_countY),u=0;u<this.m_generatorCount;u++){var h=this.m_generatorBuffer[u];h.center.SelfSub(r).SelfMul(n);var c=Math.floor(h.center.x),f=Math.floor(h.center.y);c>=0&&f>=0&&c<this.m_countX&&f<this.m_countY&&l.Push(new fn(c,f,c+f*this.m_countX,h))}for(;!l.Empty();){var m=l.Front(),_=m.m_x,g=m.m_y,d=m.m_i,p=m.m_generator;l.Pop(),this.m_diagram[d]||(this.m_diagram[d]=p,_>0&&l.Push(new fn(_-1,g,d-1,p)),g>0&&l.Push(new fn(_,g-1,d-this.m_countX,p)),_<this.m_countX-1&&l.Push(new fn(_+1,g,d+1,p)),g<this.m_countY-1&&l.Push(new fn(_,g+1,d+this.m_countX,p)))}for(var y=0;y<this.m_countY;y++)for(var C=0;C<this.m_countX-1;C++){var v=C+y*this.m_countX,I=this.m_diagram[v],B=this.m_diagram[v+1];I!==B&&(l.Push(new fn(C,y,v,B)),l.Push(new fn(C+1,y,v+1,I)))}for(var E=0;E<this.m_countY-1;E++)for(var w=0;w<this.m_countX;w++){var b=w+E*this.m_countX,x=this.m_diagram[b],S=this.m_diagram[b+this.m_countX];x!==S&&(l.Push(new fn(w,E,b,S)),l.Push(new fn(w,E+1,b+this.m_countX,x)))}for(;!l.Empty();){var Q=l.Front(),D=Q.m_x,M=Q.m_y,R=Q.m_i,V=Q.m_generator;l.Pop();var T=this.m_diagram[R],G=V;if(T!==G){var F=T.center.x-D,P=T.center.y-M,N=G.center.x-D,L=G.center.y-M;F*F+P*P>N*N+L*L&&(this.m_diagram[R]=G,D>0&&l.Push(new fn(D-1,M,R-1,G)),M>0&&l.Push(new fn(D,M-1,R-this.m_countX,G)),D<this.m_countX-1&&l.Push(new fn(D+1,M,R+1,G)),M<this.m_countY-1&&l.Push(new fn(D,M+1,R+this.m_countX,G)))}}}},{key:"GetNodes",value:function(t){for(var e=0;e<this.m_countY-1;e++)for(var i=0;i<this.m_countX-1;i++){var n=i+e*this.m_countX,r=this.m_diagram[n],s=this.m_diagram[n+1],o=this.m_diagram[n+this.m_countX],a=this.m_diagram[n+1+this.m_countX];s!==o&&(r!==s&&r!==o&&(r.necessary||s.necessary||o.necessary)&&t(r.tag,s.tag,o.tag),a!==s&&a!==o&&(r.necessary||s.necessary||o.necessary)&&t(s.tag,a.tag,o.tag))}}}]),t}(),cn=function t(){_classCallCheck2(this,t),this.center=new k,this.tag=0,this.necessary=!1},fn=function t(e,i,n,r){_classCallCheck2(this,t),this.m_x=e,this.m_y=i,this.m_i=n,this.m_generator=r};function mn(t,e,i){var n=t[e];t[e]=t[i],t[i]=n}function _n(t,e){return t<e}function gn(t){for(var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:t.length-e,n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:_n,r=e,s=[],o=0;;){for(;r+1<i;i++){var a=t[r+Math.floor(Math.random()*(i-r))];s[o++]=i;for(var A=r-1;;){for(;n(t[++A],a););for(;n(a,t[--i]););if(A>=i)break;mn(t,A,i)}}if(0===o)break;r=i,i=s[--o]}return t}function dn(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return gn(t,e,arguments.length>2&&void 0!==arguments[2]?arguments[2]:t.length-e,arguments.length>3&&void 0!==arguments[3]?arguments[3]:_n)}function pn(t,e){for(var i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:t.length,n=0,r=0;r<i;++r)e(t[r])||(r!==n?mn(t,n++,r):++n);return n}function yn(t,e,i,n,r){for(var s=i-e;s>0;){var o=Math.floor(s/2),a=e+o;r(t[a],n)?(e=++a,s-=o+1):s=o}return e}function Cn(t,e,i,n,r){for(var s=i-e;s>0;){var o=Math.floor(s/2),a=e+o;r(n,t[a])?s=o:(e=++a,s-=o+1)}return e}function vn(t,e,i,n){for(var r=i;e!==r;)mn(t,e++,r++),r===n?r=i:e===i&&(i=r)}var In=function(){function t(e){_classCallCheck2(this,t),this.data=[],this.count=0,this.capacity=0,this.allocator=e}return _createClass2(t,[{key:"Append",value:function(){return this.count>=this.capacity&&this.Grow(),this.count++}},{key:"Reserve",value:function(t){if(!(this.capacity>=t)){for(var e=this.capacity;e<t;++e)this.data[e]=this.allocator();this.capacity=t}}},{key:"Grow",value:function(){this.Reserve(this.capacity?2*this.capacity:256)}},{key:"Free",value:function(){0!==this.data.length&&(this.data=[],this.capacity=0,this.count=0)}},{key:"Shorten",value:function(t){}},{key:"Data",value:function(){return this.data}},{key:"GetCount",value:function(){return this.count}},{key:"SetCount",value:function(t){this.count=t}},{key:"GetCapacity",value:function(){return this.capacity}},{key:"RemoveIf",value:function(t){this.count=pn(this.data,t,this.count)}},{key:"Unique",value:function(t){this.count=function(t,e,i,n){if(e===i)return i;for(var r=e;++e!==i;)n(t[r],t[e])||mn(t,++r,e);return++r}(this.data,0,this.count,t)}}]),t}(),Bn=function(t){function e(t){var i;return _classCallCheck2(this,e),(i=_possibleConstructorReturn(this,_getPrototypeOf(e).call(this))).m_system=t,i}return _inherits(e,t),_createClass2(e,[{key:"ShouldQueryParticleSystem",value:function(t){return!1}},{key:"ReportFixture",value:function(t){if(t.IsSensor())return!0;for(var e=t.GetShape().GetChildCount(),i=0;i<e;i++)for(var n=t.GetAABB(i),r=this.m_system.GetInsideBoundsEnumerator(n),s=void 0;(s=r.GetNext())>=0;)this.ReportFixtureAndParticle(t,i,s);return!0}},{key:"ReportParticle",value:function(t,e){return!1}},{key:"ReportFixtureAndParticle",value:function(t,e,i){}}]),e}(Oi),En=function(){function t(){_classCallCheck2(this,t),this.indexA=0,this.indexB=0,this.weight=0,this.normal=new k,this.flags=0}return _createClass2(t,[{key:"SetIndices",value:function(t,e){this.indexA=t,this.indexB=e}},{key:"SetWeight",value:function(t){this.weight=t}},{key:"SetNormal",value:function(t){this.normal.Copy(t)}},{key:"SetFlags",value:function(t){this.flags=t}},{key:"GetIndexA",value:function(){return this.indexA}},{key:"GetIndexB",value:function(){return this.indexB}},{key:"GetWeight",value:function(){return this.weight}},{key:"GetNormal",value:function(){return this.normal}},{key:"GetFlags",value:function(){return this.flags}},{key:"IsEqual",value:function(t){return this.indexA===t.indexA&&this.indexB===t.indexB&&this.flags===t.flags&&this.weight===t.weight&&this.normal.x===t.normal.x&&this.normal.y===t.normal.y}},{key:"IsNotEqual",value:function(t){return!this.IsEqual(t)}},{key:"ApproximatelyEqual",value:function(t){return this.indexA===t.indexA&&this.indexB===t.indexB&&this.flags===t.flags&&g(this.weight-t.weight)<.01&&k.DistanceSquaredVV(this.normal,t.normal)<1e-4}}]),t}(),wn=function t(){_classCallCheck2(this,t),this.index=0,this.weight=0,this.normal=new k,this.mass=0},bn=function t(){_classCallCheck2(this,t),this.indexA=0,this.indexB=0,this.flags=0,this.strength=0,this.distance=0},xn=function t(){_classCallCheck2(this,t),this.indexA=0,this.indexB=0,this.indexC=0,this.flags=0,this.strength=0,this.pa=new k(0,0),this.pb=new k(0,0),this.pc=new k(0,0),this.ka=0,this.kb=0,this.kc=0,this.s=0},Sn=function(){function t(){_classCallCheck2(this,t),this.strictContactCheck=!1,this.density=1,this.gravityScale=1,this.radius=1,this.maxCount=0,this.pressureStrength=.005,this.dampingStrength=1,this.elasticStrength=.25,this.springStrength=.25,this.viscousStrength=.25,this.surfaceTensionPressureStrength=.2,this.surfaceTensionNormalStrength=.2,this.repulsiveStrength=1,this.powderStrength=.5,this.ejectionStrength=.5,this.staticPressureStrength=.2,this.staticPressureRelaxation=.2,this.staticPressureIterations=8,this.colorMixingStrength=.5,this.destroyByAge=!0,this.lifetimeGranularity=1/60}return _createClass2(t,[{key:"Copy",value:function(t){return this.strictContactCheck=t.strictContactCheck,this.density=t.density,this.gravityScale=t.gravityScale,this.radius=t.radius,this.maxCount=t.maxCount,this.pressureStrength=t.pressureStrength,this.dampingStrength=t.dampingStrength,this.elasticStrength=t.elasticStrength,this.springStrength=t.springStrength,this.viscousStrength=t.viscousStrength,this.surfaceTensionPressureStrength=t.surfaceTensionPressureStrength,this.surfaceTensionNormalStrength=t.surfaceTensionNormalStrength,this.repulsiveStrength=t.repulsiveStrength,this.powderStrength=t.powderStrength,this.ejectionStrength=t.ejectionStrength,this.staticPressureStrength=t.staticPressureStrength,this.staticPressureRelaxation=t.staticPressureRelaxation,this.staticPressureIterations=t.staticPressureIterations,this.colorMixingStrength=t.colorMixingStrength,this.destroyByAge=t.destroyByAge,this.lifetimeGranularity=t.lifetimeGranularity,this}},{key:"Clone",value:function(){return(new t).Copy(this)}}]),t}(),Qn=function(){function n(t,e){_classCallCheck2(this,n),this.m_paused=!1,this.m_timestamp=0,this.m_allParticleFlags=0,this.m_needsUpdateAllParticleFlags=!1,this.m_allGroupFlags=0,this.m_needsUpdateAllGroupFlags=!1,this.m_hasForce=!1,this.m_iterationIndex=0,this.m_inverseDensity=0,this.m_particleDiameter=0,this.m_inverseDiameter=0,this.m_squaredDiameter=0,this.m_count=0,this.m_internalAllocatedCapacity=0,this.m_handleIndexBuffer=new kn,this.m_flagsBuffer=new kn,this.m_positionBuffer=new kn,this.m_velocityBuffer=new kn,this.m_forceBuffer=[],this.m_weightBuffer=[],this.m_staticPressureBuffer=[],this.m_accumulationBuffer=[],this.m_accumulation2Buffer=[],this.m_depthBuffer=[],this.m_colorBuffer=new kn,this.m_groupBuffer=[],this.m_userDataBuffer=new kn,this.m_stuckThreshold=0,this.m_lastBodyContactStepBuffer=new kn,this.m_bodyContactCountBuffer=new kn,this.m_consecutiveContactStepsBuffer=new kn,this.m_stuckParticleBuffer=new In((function(){return 0})),this.m_proxyBuffer=new In((function(){return new Dn})),this.m_contactBuffer=new In((function(){return new En})),this.m_bodyContactBuffer=new In((function(){return new wn})),this.m_pairBuffer=new In((function(){return new bn})),this.m_triadBuffer=new In((function(){return new xn})),this.m_expirationTimeBuffer=new kn,this.m_indexByExpirationTimeBuffer=new kn,this.m_timeElapsed=0,this.m_expirationTimeBufferRequiresSorting=!1,this.m_groupCount=0,this.m_groupList=null,this.m_def=new Sn,this.m_prev=null,this.m_next=null,this.SetStrictContactCheck(t.strictContactCheck),this.SetDensity(t.density),this.SetGravityScale(t.gravityScale),this.SetRadius(t.radius),this.SetMaxParticleCount(t.maxCount),this.m_def=t.Clone(),this.m_world=e,this.SetDestructionByAge(this.m_def.destroyByAge)}return _createClass2(n,[{key:"Drop",value:function(){for(;this.m_groupList;)this.DestroyParticleGroup(this.m_groupList);this.FreeUserOverridableBuffer(this.m_handleIndexBuffer),this.FreeUserOverridableBuffer(this.m_flagsBuffer),this.FreeUserOverridableBuffer(this.m_lastBodyContactStepBuffer),this.FreeUserOverridableBuffer(this.m_bodyContactCountBuffer),this.FreeUserOverridableBuffer(this.m_consecutiveContactStepsBuffer),this.FreeUserOverridableBuffer(this.m_positionBuffer),this.FreeUserOverridableBuffer(this.m_velocityBuffer),this.FreeUserOverridableBuffer(this.m_colorBuffer),this.FreeUserOverridableBuffer(this.m_userDataBuffer),this.FreeUserOverridableBuffer(this.m_expirationTimeBuffer),this.FreeUserOverridableBuffer(this.m_indexByExpirationTimeBuffer),this.FreeBuffer(this.m_forceBuffer,this.m_internalAllocatedCapacity),this.FreeBuffer(this.m_weightBuffer,this.m_internalAllocatedCapacity),this.FreeBuffer(this.m_staticPressureBuffer,this.m_internalAllocatedCapacity),this.FreeBuffer(this.m_accumulationBuffer,this.m_internalAllocatedCapacity),this.FreeBuffer(this.m_accumulation2Buffer,this.m_internalAllocatedCapacity),this.FreeBuffer(this.m_depthBuffer,this.m_internalAllocatedCapacity),this.FreeBuffer(this.m_groupBuffer,this.m_internalAllocatedCapacity)}},{key:"CreateParticle",value:function(t){if(this.m_world.IsLocked())throw new Error;if(this.m_count>=this.m_internalAllocatedCapacity&&this.ReallocateInternalAllocatedBuffers(this.m_count?2*this.m_count:256),this.m_count>=this.m_internalAllocatedCapacity){if(!this.m_def.destroyByAge)return h;this.DestroyOldestParticle(0,!1),this.SolveZombie()}var i=this.m_count++;if(!this.m_flagsBuffer.data)throw new Error;if(this.m_flagsBuffer.data[i]=0,this.m_lastBodyContactStepBuffer.data&&(this.m_lastBodyContactStepBuffer.data[i]=0),this.m_bodyContactCountBuffer.data&&(this.m_bodyContactCountBuffer.data[i]=0),this.m_consecutiveContactStepsBuffer.data&&(this.m_consecutiveContactStepsBuffer.data[i]=0),!this.m_positionBuffer.data)throw new Error;if(!this.m_velocityBuffer.data)throw new Error;this.m_positionBuffer.data[i]=(this.m_positionBuffer.data[i]||new k).Copy(e(t.position,k.ZERO)),this.m_velocityBuffer.data[i]=(this.m_velocityBuffer.data[i]||new k).Copy(e(t.velocity,k.ZERO)),this.m_weightBuffer[i]=0,this.m_forceBuffer[i]=(this.m_forceBuffer[i]||new k).SetZero(),this.m_staticPressureBuffer&&(this.m_staticPressureBuffer[i]=0),this.m_depthBuffer&&(this.m_depthBuffer[i]=0);var n=(new N).Copy(e(t.color,N.ZERO));!this.m_colorBuffer.data&&n.IsZero()||(this.m_colorBuffer.data=this.RequestBuffer(this.m_colorBuffer.data),this.m_colorBuffer.data[i]=(this.m_colorBuffer.data[i]||new N).Copy(n)),(this.m_userDataBuffer.data||t.userData)&&(this.m_userDataBuffer.data=this.RequestBuffer(this.m_userDataBuffer.data),this.m_userDataBuffer.data[i]=t.userData),this.m_handleIndexBuffer.data&&(this.m_handleIndexBuffer.data[i]=null);var r=this.m_proxyBuffer.data[this.m_proxyBuffer.Append()],s=e(t.lifetime,0),o=s>0;if(this.m_expirationTimeBuffer.data||o){if(this.SetParticleLifetime(i,o?s:this.ExpirationTimeToLifetime(-this.GetQuantizedTimeElapsed())),!this.m_indexByExpirationTimeBuffer.data)throw new Error;this.m_indexByExpirationTimeBuffer.data[i]=i}r.index=i;var a=e(t.group,null);return this.m_groupBuffer[i]=a,a&&(a.m_firstIndex<a.m_lastIndex?(this.RotateBuffer(a.m_firstIndex,a.m_lastIndex,i),a.m_lastIndex=i+1):(a.m_firstIndex=i,a.m_lastIndex=i+1)),this.SetParticleFlags(i,e(t.flags,0)),i}},{key:"GetParticleHandleFromIndex",value:function(t){this.m_handleIndexBuffer.data=this.RequestBuffer(this.m_handleIndexBuffer.data);var e=this.m_handleIndexBuffer.data[t];return e||((e=new an).SetIndex(t),this.m_handleIndexBuffer.data[t]=e,e)}},{key:"DestroyParticle",value:function(e){var i=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if(!this.m_flagsBuffer.data)throw new Error;var n=t.b2ParticleFlag.b2_zombieParticle;i&&(n|=t.b2ParticleFlag.b2_destructionListenerParticle),this.SetParticleFlags(e,this.m_flagsBuffer.data[e]|n)}},{key:"DestroyOldestParticle",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]&&arguments[1],i=this.GetParticleCount();if(!this.m_indexByExpirationTimeBuffer.data)throw new Error;if(!this.m_expirationTimeBuffer.data)throw new Error;var n=this.m_indexByExpirationTimeBuffer.data[i-(t+1)];this.DestroyParticle(this.m_expirationTimeBuffer.data[n]>0?n:this.m_indexByExpirationTimeBuffer.data[t],e)}},{key:"DestroyParticlesInShape",value:function(t,e){var i=arguments.length>2&&void 0!==arguments[2]&&arguments[2],r=n.DestroyParticlesInShape_s_aabb;if(this.m_world.IsLocked())throw new Error;var s=new Pn(this,t,e,i),o=r;return t.ComputeAABB(o,e,0),this.m_world.QueryAABB(s,o),s.Destroyed()}},{key:"CreateParticleGroup",value:function(t){var i=n.CreateParticleGroup_s_transform;if(this.m_world.IsLocked())throw new Error;var r=i;r.SetPositionAngle(e(t.position,k.ZERO),e(t.angle,0));var s=this.m_count;if(t.shape&&this.CreateParticlesWithShapeForGroup(t.shape,t,r),t.shapes&&this.CreateParticlesWithShapesForGroup(t.shapes,e(t.shapeCount,t.shapes.length),t,r),t.positionData)for(var o=e(t.particleCount,t.positionData.length),a=0;a<o;a++)this.CreateParticleForGroup(t,r,t.positionData[a]);var A=this.m_count,l=new ln(this);l.m_firstIndex=s,l.m_lastIndex=A,l.m_strength=e(t.strength,1),l.m_userData=t.userData,l.m_transform.Copy(r),l.m_prev=null,l.m_next=this.m_groupList,this.m_groupList&&(this.m_groupList.m_prev=l),this.m_groupList=l,++this.m_groupCount;for(var u=s;u<A;u++)this.m_groupBuffer[u]=l;this.SetGroupFlags(l,e(t.groupFlags,0));var h=new Fn;return this.UpdateContacts(!0),this.UpdatePairsAndTriads(s,A,h),t.group&&(this.JoinParticleGroups(t.group,l),l=t.group),l}},{key:"JoinParticleGroups",value:function(t,e){if(this.m_world.IsLocked())throw new Error;this.RotateBuffer(e.m_firstIndex,e.m_lastIndex,this.m_count),this.RotateBuffer(t.m_firstIndex,t.m_lastIndex,e.m_firstIndex);var i=new Nn(e.m_firstIndex);this.UpdateContacts(!0),this.UpdatePairsAndTriads(t.m_firstIndex,e.m_lastIndex,i);for(var n=e.m_firstIndex;n<e.m_lastIndex;n++)this.m_groupBuffer[n]=t;this.SetGroupFlags(t,t.m_groupFlags|e.m_groupFlags),t.m_lastIndex=e.m_lastIndex,e.m_firstIndex=e.m_lastIndex,this.DestroyParticleGroup(e)}},{key:"SplitParticleGroup",value:function(t){this.UpdateContacts(!0);var e=m(t.GetParticleCount(),(function(t){return new Rn}));n.InitializeParticleLists(t,e),this.MergeParticleListsInContact(t,e);var i=n.FindLongestParticleList(t,e);this.MergeZombieParticleListNodes(t,e,i),this.CreateParticleGroupsFromParticleList(t,e,i),this.UpdatePairsAndTriadsWithParticleList(t,e)}},{key:"GetParticleGroupList",value:function(){return this.m_groupList}},{key:"GetParticleGroupCount",value:function(){return this.m_groupCount}},{key:"GetParticleCount",value:function(){return this.m_count}},{key:"GetMaxParticleCount",value:function(){return this.m_def.maxCount}},{key:"SetMaxParticleCount",value:function(t){this.m_def.maxCount=t}},{key:"GetAllParticleFlags",value:function(){return this.m_allParticleFlags}},{key:"GetAllGroupFlags",value:function(){return this.m_allGroupFlags}},{key:"SetPaused",value:function(t){this.m_paused=t}},{key:"GetPaused",value:function(){return this.m_paused}},{key:"SetDensity",value:function(t){this.m_def.density=t,this.m_inverseDensity=1/this.m_def.density}},{key:"GetDensity",value:function(){return this.m_def.density}},{key:"SetGravityScale",value:function(t){this.m_def.gravityScale=t}},{key:"GetGravityScale",value:function(){return this.m_def.gravityScale}},{key:"SetDamping",value:function(t){this.m_def.dampingStrength=t}},{key:"GetDamping",value:function(){return this.m_def.dampingStrength}},{key:"SetStaticPressureIterations",value:function(t){this.m_def.staticPressureIterations=t}},{key:"GetStaticPressureIterations",value:function(){return this.m_def.staticPressureIterations}},{key:"SetRadius",value:function(t){this.m_particleDiameter=2*t,this.m_squaredDiameter=this.m_particleDiameter*this.m_particleDiameter,this.m_inverseDiameter=1/this.m_particleDiameter}},{key:"GetRadius",value:function(){return this.m_particleDiameter/2}},{key:"GetPositionBuffer",value:function(){if(!this.m_positionBuffer.data)throw new Error;return this.m_positionBuffer.data}},{key:"GetVelocityBuffer",value:function(){if(!this.m_velocityBuffer.data)throw new Error;return this.m_velocityBuffer.data}},{key:"GetColorBuffer",value:function(){return this.m_colorBuffer.data=this.RequestBuffer(this.m_colorBuffer.data),this.m_colorBuffer.data}},{key:"GetGroupBuffer",value:function(){return this.m_groupBuffer}},{key:"GetWeightBuffer",value:function(){return this.m_weightBuffer}},{key:"GetUserDataBuffer",value:function(){return this.m_userDataBuffer.data=this.RequestBuffer(this.m_userDataBuffer.data),this.m_userDataBuffer.data}},{key:"GetFlagsBuffer",value:function(){if(!this.m_flagsBuffer.data)throw new Error;return this.m_flagsBuffer.data}},{key:"SetParticleFlags",value:function(e,i){if(!this.m_flagsBuffer.data)throw new Error;this.m_flagsBuffer.data[e]&~i&&(this.m_needsUpdateAllParticleFlags=!0),~this.m_allParticleFlags&i&&(i&t.b2ParticleFlag.b2_tensileParticle&&(this.m_accumulation2Buffer=this.RequestBuffer(this.m_accumulation2Buffer)),i&t.b2ParticleFlag.b2_colorMixingParticle&&(this.m_colorBuffer.data=this.RequestBuffer(this.m_colorBuffer.data)),this.m_allParticleFlags|=i),this.m_flagsBuffer.data[e]=i}},{key:"GetParticleFlags",value:function(t){if(!this.m_flagsBuffer.data)throw new Error;return this.m_flagsBuffer.data[t]}},{key:"SetFlagsBuffer",value:function(t,e){this.SetUserOverridableBuffer(this.m_flagsBuffer,t,e)}},{key:"SetPositionBuffer",value:function(t,e){this.SetUserOverridableBuffer(this.m_positionBuffer,t,e)}},{key:"SetVelocityBuffer",value:function(t,e){this.SetUserOverridableBuffer(this.m_velocityBuffer,t,e)}},{key:"SetColorBuffer",value:function(t,e){this.SetUserOverridableBuffer(this.m_colorBuffer,t,e)}},{key:"SetUserDataBuffer",value:function(t,e){this.SetUserOverridableBuffer(this.m_userDataBuffer,t,e)}},{key:"GetContacts",value:function(){return this.m_contactBuffer.data}},{key:"GetContactCount",value:function(){return this.m_contactBuffer.count}},{key:"GetBodyContacts",value:function(){return this.m_bodyContactBuffer.data}},{key:"GetBodyContactCount",value:function(){return this.m_bodyContactBuffer.count}},{key:"GetPairs",value:function(){return this.m_pairBuffer.data}},{key:"GetPairCount",value:function(){return this.m_pairBuffer.count}},{key:"GetTriads",value:function(){return this.m_triadBuffer.data}},{key:"GetTriadCount",value:function(){return this.m_triadBuffer.count}},{key:"SetStuckThreshold",value:function(t){this.m_stuckThreshold=t,t>0&&(this.m_lastBodyContactStepBuffer.data=this.RequestBuffer(this.m_lastBodyContactStepBuffer.data),this.m_bodyContactCountBuffer.data=this.RequestBuffer(this.m_bodyContactCountBuffer.data),this.m_consecutiveContactStepsBuffer.data=this.RequestBuffer(this.m_consecutiveContactStepsBuffer.data))}},{key:"GetStuckCandidates",value:function(){return this.m_stuckParticleBuffer.Data()}},{key:"GetStuckCandidateCount",value:function(){return this.m_stuckParticleBuffer.GetCount()}},{key:"ComputeCollisionEnergy",value:function(){if(!this.m_velocityBuffer.data)throw new Error;for(var t=n.ComputeCollisionEnergy_s_v,e=this.m_velocityBuffer.data,i=0,r=0;r<this.m_contactBuffer.count;r++){var s=this.m_contactBuffer.data[r],o=s.normal,a=k.SubVV(e[s.indexB],e[s.indexA],t),A=k.DotVV(a,o);A<0&&(i+=A*A)}return.5*this.GetParticleMass()*i}},{key:"SetStrictContactCheck",value:function(t){this.m_def.strictContactCheck=t}},{key:"GetStrictContactCheck",value:function(){return this.m_def.strictContactCheck}},{key:"SetParticleLifetime",value:function(t,e){var i=null===this.m_indexByExpirationTimeBuffer.data;if(this.m_expirationTimeBuffer.data=this.RequestBuffer(this.m_expirationTimeBuffer.data),this.m_indexByExpirationTimeBuffer.data=this.RequestBuffer(this.m_indexByExpirationTimeBuffer.data),i)for(var n=this.GetParticleCount(),r=0;r<n;++r)this.m_indexByExpirationTimeBuffer.data[r]=r;var s=e/this.m_def.lifetimeGranularity,o=s>0?this.GetQuantizedTimeElapsed()+s:s;o!==this.m_expirationTimeBuffer.data[t]&&(this.m_expirationTimeBuffer.data[t]=o,this.m_expirationTimeBufferRequiresSorting=!0)}},{key:"GetParticleLifetime",value:function(t){return this.ExpirationTimeToLifetime(this.GetExpirationTimeBuffer()[t])}},{key:"SetDestructionByAge",value:function(t){t&&this.GetExpirationTimeBuffer(),this.m_def.destroyByAge=t}},{key:"GetDestructionByAge",value:function(){return this.m_def.destroyByAge}},{key:"GetExpirationTimeBuffer",value:function(){return this.m_expirationTimeBuffer.data=this.RequestBuffer(this.m_expirationTimeBuffer.data),this.m_expirationTimeBuffer.data}},{key:"ExpirationTimeToLifetime",value:function(t){return(t>0?t-this.GetQuantizedTimeElapsed():t)*this.m_def.lifetimeGranularity}},{key:"GetIndexByExpirationTimeBuffer",value:function(){if(this.GetParticleCount()?this.SetParticleLifetime(0,this.GetParticleLifetime(0)):this.m_indexByExpirationTimeBuffer.data=this.RequestBuffer(this.m_indexByExpirationTimeBuffer.data),!this.m_indexByExpirationTimeBuffer.data)throw new Error;return this.m_indexByExpirationTimeBuffer.data}},{key:"ParticleApplyLinearImpulse",value:function(t,e){this.ApplyLinearImpulse(t,t+1,e)}},{key:"ApplyLinearImpulse",value:function(t,e,i){if(!this.m_velocityBuffer.data)throw new Error;for(var n=this.m_velocityBuffer.data,r=(e-t)*this.GetParticleMass(),s=(new k).Copy(i).SelfMul(1/r),o=t;o<e;o++)n[o].SelfAdd(s)}},{key:"ParticleApplyForce",value:function(t,e){if(!this.m_flagsBuffer.data)throw new Error;n.IsSignificantForce(e)&&this.ForceCanBeApplied(this.m_flagsBuffer.data[t])&&(this.PrepareForceBuffer(),this.m_forceBuffer[t].SelfAdd(e))}},{key:"ApplyForce",value:function(t,e,i){var r=(new k).Copy(i).SelfMul(1/(e-t));if(n.IsSignificantForce(r)){this.PrepareForceBuffer();for(var s=t;s<e;s++)this.m_forceBuffer[s].SelfAdd(r)}}},{key:"GetNext",value:function(){return this.m_next}},{key:"QueryAABB",value:function(t,e){if(0!==this.m_proxyBuffer.count){var i=this.m_proxyBuffer.count,r=yn(this.m_proxyBuffer.data,0,i,n.computeTag(this.m_inverseDiameter*e.lowerBound.x,this.m_inverseDiameter*e.lowerBound.y),Dn.CompareProxyTag),s=Cn(this.m_proxyBuffer.data,r,i,n.computeTag(this.m_inverseDiameter*e.upperBound.x,this.m_inverseDiameter*e.upperBound.y),Dn.CompareTagProxy);if(!this.m_positionBuffer.data)throw new Error;for(var o=this.m_positionBuffer.data,a=r;a<s;++a){var A=this.m_proxyBuffer.data[a].index,l=o[A];if(e.lowerBound.x<l.x&&l.x<e.upperBound.x&&e.lowerBound.y<l.y&&l.y<e.upperBound.y&&!t.ReportParticle(this,A))break}}}},{key:"QueryShapeAABB",value:function(t,e,i){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:0,s=n.QueryShapeAABB_s_aabb;e.ComputeAABB(s,i,r),this.QueryAABB(t,s)}},{key:"QueryPointAABB",value:function(t,e){var i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:A,r=n.QueryPointAABB_s_aabb;r.lowerBound.Set(e.x-i,e.y-i),r.upperBound.Set(e.x+i,e.y+i),this.QueryAABB(t,r)}},{key:"RayCast",value:function(t,e,i){var r=n.RayCast_s_aabb,s=n.RayCast_s_p,o=n.RayCast_s_v,a=n.RayCast_s_n,A=n.RayCast_s_point;if(0!==this.m_proxyBuffer.count){if(!this.m_positionBuffer.data)throw new Error;var l=this.m_positionBuffer.data,u=r;k.MinV(e,i,u.lowerBound),k.MaxV(e,i,u.upperBound);for(var h,c=1,f=k.SubVV(i,e,o),m=k.DotVV(f,f),_=this.GetInsideBoundsEnumerator(u);(h=_.GetNext())>=0;){var g=k.SubVV(e,l[h],s),p=k.DotVV(g,f),y=p*p-m*(k.DotVV(g,g)-this.m_squaredDiameter);if(y>=0){var C=B(y),v=(-p-C)/m;if(v>c)continue;if(v<0&&((v=(-p+C)/m)<0||v>c))continue;var I=k.AddVMulSV(g,v,f,a);I.Normalize();var E=t.ReportParticle(this,h,k.AddVMulSV(e,v,f,A),I,v);if((c=d(c,E))<=0)break}}}}},{key:"ComputeAABB",value:function(t){var e=this.GetParticleCount();if(t.lowerBound.x=+i,t.lowerBound.y=+i,t.upperBound.x=-i,t.upperBound.y=-i,!this.m_positionBuffer.data)throw new Error;for(var n=this.m_positionBuffer.data,r=0;r<e;r++){var s=n[r];k.MinV(t.lowerBound,s,t.lowerBound),k.MaxV(t.upperBound,s,t.upperBound)}t.lowerBound.x-=this.m_particleDiameter,t.lowerBound.y-=this.m_particleDiameter,t.upperBound.x+=this.m_particleDiameter,t.upperBound.y+=this.m_particleDiameter}},{key:"FreeBuffer",value:function(t,e){null!==t&&(t.length=0)}},{key:"FreeUserOverridableBuffer",value:function(t){0===t.userSuppliedCapacity&&this.FreeBuffer(t.data,this.m_internalAllocatedCapacity)}},{key:"ReallocateBuffer3",value:function(t,e,i){if(i<=e)throw new Error;var n=t?t.slice():[];return n.length=i,n}},{key:"ReallocateBuffer5",value:function(t,e,i,n,r){if(n<=i)throw new Error;if(e&&!(n<=e))throw new Error;return r&&!t||e||(t=this.ReallocateBuffer3(t,i,n)),t}},{key:"ReallocateBuffer4",value:function(t,e,i,n){return this.ReallocateBuffer5(t.data,t.userSuppliedCapacity,e,i,n)}},{key:"RequestBuffer",value:function(t){return t||(0===this.m_internalAllocatedCapacity&&this.ReallocateInternalAllocatedBuffers(256),(t=[]).length=this.m_internalAllocatedCapacity),t}},{key:"ReallocateHandleBuffers",value:function(t){this.m_handleIndexBuffer.data=this.ReallocateBuffer4(this.m_handleIndexBuffer,this.m_internalAllocatedCapacity,t,!0)}},{key:"ReallocateInternalAllocatedBuffers",value:function(t){function e(t,e){return e&&t>e?e:t}if(t=e(t,this.m_def.maxCount),t=e(t,this.m_flagsBuffer.userSuppliedCapacity),t=e(t,this.m_positionBuffer.userSuppliedCapacity),t=e(t,this.m_velocityBuffer.userSuppliedCapacity),t=e(t,this.m_colorBuffer.userSuppliedCapacity),t=e(t,this.m_userDataBuffer.userSuppliedCapacity),this.m_internalAllocatedCapacity<t){this.ReallocateHandleBuffers(t),this.m_flagsBuffer.data=this.ReallocateBuffer4(this.m_flagsBuffer,this.m_internalAllocatedCapacity,t,!1);var i=this.m_stuckThreshold>0;this.m_lastBodyContactStepBuffer.data=this.ReallocateBuffer4(this.m_lastBodyContactStepBuffer,this.m_internalAllocatedCapacity,t,i),this.m_bodyContactCountBuffer.data=this.ReallocateBuffer4(this.m_bodyContactCountBuffer,this.m_internalAllocatedCapacity,t,i),this.m_consecutiveContactStepsBuffer.data=this.ReallocateBuffer4(this.m_consecutiveContactStepsBuffer,this.m_internalAllocatedCapacity,t,i),this.m_positionBuffer.data=this.ReallocateBuffer4(this.m_positionBuffer,this.m_internalAllocatedCapacity,t,!1),this.m_velocityBuffer.data=this.ReallocateBuffer4(this.m_velocityBuffer,this.m_internalAllocatedCapacity,t,!1),this.m_forceBuffer=this.ReallocateBuffer5(this.m_forceBuffer,0,this.m_internalAllocatedCapacity,t,!1),this.m_weightBuffer=this.ReallocateBuffer5(this.m_weightBuffer,0,this.m_internalAllocatedCapacity,t,!1),this.m_staticPressureBuffer=this.ReallocateBuffer5(this.m_staticPressureBuffer,0,this.m_internalAllocatedCapacity,t,!0),this.m_accumulationBuffer=this.ReallocateBuffer5(this.m_accumulationBuffer,0,this.m_internalAllocatedCapacity,t,!1),this.m_accumulation2Buffer=this.ReallocateBuffer5(this.m_accumulation2Buffer,0,this.m_internalAllocatedCapacity,t,!0),this.m_depthBuffer=this.ReallocateBuffer5(this.m_depthBuffer,0,this.m_internalAllocatedCapacity,t,!0),this.m_colorBuffer.data=this.ReallocateBuffer4(this.m_colorBuffer,this.m_internalAllocatedCapacity,t,!0),this.m_groupBuffer=this.ReallocateBuffer5(this.m_groupBuffer,0,this.m_internalAllocatedCapacity,t,!1),this.m_userDataBuffer.data=this.ReallocateBuffer4(this.m_userDataBuffer,this.m_internalAllocatedCapacity,t,!0),this.m_expirationTimeBuffer.data=this.ReallocateBuffer4(this.m_expirationTimeBuffer,this.m_internalAllocatedCapacity,t,!0),this.m_indexByExpirationTimeBuffer.data=this.ReallocateBuffer4(this.m_indexByExpirationTimeBuffer,this.m_internalAllocatedCapacity,t,!1),this.m_internalAllocatedCapacity=t}}},{key:"CreateParticleForGroup",value:function(t,i,n){var r=new sn;r.flags=e(t.flags,0),G.MulXV(i,n,r.position),k.AddVV(e(t.linearVelocity,k.ZERO),k.CrossSV(e(t.angularVelocity,0),k.SubVV(r.position,e(t.position,k.ZERO),k.s_t0),k.s_t0),r.velocity),r.color.Copy(e(t.color,N.ZERO)),r.lifetime=e(t.lifetime,0),r.userData=t.userData,this.CreateParticle(r)}},{key:"CreateParticlesStrokeShapeForGroup",value:function(i,r,s){var o=n.CreateParticlesStrokeShapeForGroup_s_edge,a=n.CreateParticlesStrokeShapeForGroup_s_d,A=n.CreateParticlesStrokeShapeForGroup_s_p,l=e(r.stride,0);0===l&&(l=this.GetParticleStride());for(var u=0,h=i.GetChildCount(),c=0;c<h;c++){var f=null;i.GetType()===t.b2ShapeType.e_edgeShape?f=i:i.GetChildEdge(f=o,c);for(var m=k.SubVV(f.m_vertex2,f.m_vertex1,a),_=m.Length();u<_;){var g=k.AddVMulSV(f.m_vertex1,u/_,m,A);this.CreateParticleForGroup(r,s,g),u+=l}u-=_}}},{key:"CreateParticlesFillShapeForGroup",value:function(t,i,r){var s=n.CreateParticlesFillShapeForGroup_s_aabb,o=n.CreateParticlesFillShapeForGroup_s_p,a=e(i.stride,0);0===a&&(a=this.GetParticleStride());var A=G.IDENTITY,l=s;t.ComputeAABB(l,A,0);for(var u=Math.floor(l.lowerBound.y/a)*a;u<l.upperBound.y;u+=a)for(var h=Math.floor(l.lowerBound.x/a)*a;h<l.upperBound.x;h+=a){var c=o.Set(h,u);t.TestPoint(A,c)&&this.CreateParticleForGroup(i,r,c)}}},{key:"CreateParticlesWithShapeForGroup",value:function(e,i,n){switch(e.GetType()){case t.b2ShapeType.e_edgeShape:case t.b2ShapeType.e_chainShape:this.CreateParticlesStrokeShapeForGroup(e,i,n);break;case t.b2ShapeType.e_polygonShape:case t.b2ShapeType.e_circleShape:this.CreateParticlesFillShapeForGroup(e,i,n)}}},{key:"CreateParticlesWithShapesForGroup",value:function(t,e,i,n){var r=new Ln(t,e);this.CreateParticlesFillShapeForGroup(r,i,n)}},{key:"CloneParticle",value:function(t,e){var i=new sn;if(!this.m_flagsBuffer.data)throw new Error;if(!this.m_positionBuffer.data)throw new Error;if(!this.m_velocityBuffer.data)throw new Error;i.flags=this.m_flagsBuffer.data[t],i.position.Copy(this.m_positionBuffer.data[t]),i.velocity.Copy(this.m_velocityBuffer.data[t]),this.m_colorBuffer.data&&i.color.Copy(this.m_colorBuffer.data[t]),this.m_userDataBuffer.data&&(i.userData=this.m_userDataBuffer.data[t]),i.group=e;var n=this.CreateParticle(i);if(this.m_handleIndexBuffer.data){var r=this.m_handleIndexBuffer.data[t];r&&r.SetIndex(n),this.m_handleIndexBuffer.data[n]=r,this.m_handleIndexBuffer.data[t]=null}return this.m_lastBodyContactStepBuffer.data&&(this.m_lastBodyContactStepBuffer.data[n]=this.m_lastBodyContactStepBuffer.data[t]),this.m_bodyContactCountBuffer.data&&(this.m_bodyContactCountBuffer.data[n]=this.m_bodyContactCountBuffer.data[t]),this.m_consecutiveContactStepsBuffer.data&&(this.m_consecutiveContactStepsBuffer.data[n]=this.m_consecutiveContactStepsBuffer.data[t]),this.m_hasForce&&this.m_forceBuffer[n].Copy(this.m_forceBuffer[t]),this.m_staticPressureBuffer&&(this.m_staticPressureBuffer[n]=this.m_staticPressureBuffer[t]),this.m_depthBuffer&&(this.m_depthBuffer[n]=this.m_depthBuffer[t]),this.m_expirationTimeBuffer.data&&(this.m_expirationTimeBuffer.data[n]=this.m_expirationTimeBuffer.data[t]),n}},{key:"DestroyParticlesInGroup",value:function(t){for(var e=arguments.length>1&&void 0!==arguments[1]&&arguments[1],i=t.m_firstIndex;i<t.m_lastIndex;i++)this.DestroyParticle(i,e)}},{key:"DestroyParticleGroup",value:function(t){this.m_world.m_destructionListener&&this.m_world.m_destructionListener.SayGoodbyeParticleGroup(t),this.SetGroupFlags(t,0);for(var e=t.m_firstIndex;e<t.m_lastIndex;e++)this.m_groupBuffer[e]=null;t.m_prev&&(t.m_prev.m_next=t.m_next),t.m_next&&(t.m_next.m_prev=t.m_prev),t===this.m_groupList&&(this.m_groupList=t.m_next),--this.m_groupCount}},{key:"UpdatePairsAndTriads",value:function(e,i,r){var s=n.UpdatePairsAndTriads_s_dab,o=n.UpdatePairsAndTriads_s_dbc,a=n.UpdatePairsAndTriads_s_dca;if(!this.m_flagsBuffer.data)throw new Error;if(!this.m_positionBuffer.data)throw new Error;if(!this.m_velocityBuffer.data)throw new Error;for(var A=this.m_positionBuffer.data,l=0,u=e;u<i;u++)l|=this.m_flagsBuffer.data[u];if(l&n.k_pairFlags)for(var h=0;h<this.m_contactBuffer.count;h++){var c=this.m_contactBuffer.data[h],f=c.indexA,m=c.indexB,_=this.m_flagsBuffer.data[f],g=this.m_flagsBuffer.data[m],p=this.m_groupBuffer[f],y=this.m_groupBuffer[m];if(f>=e&&f<i&&m>=e&&m<i&&!((_|g)&t.b2ParticleFlag.b2_zombieParticle)&&(_|g)&n.k_pairFlags&&(r.IsNecessary(f)||r.IsNecessary(m))&&n.ParticleCanBeConnected(_,p)&&n.ParticleCanBeConnected(g,y)&&r.ShouldCreatePair(f,m)){var C=this.m_pairBuffer.data[this.m_pairBuffer.Append()];C.indexA=f,C.indexB=m,C.flags=c.flags,C.strength=d(p?p.m_strength:1,y?y.m_strength:1),C.distance=k.DistanceVV(A[f],A[m])}dn(this.m_pairBuffer.data,0,this.m_pairBuffer.count,n.ComparePairIndices),this.m_pairBuffer.Unique(n.MatchPairIndices)}if(l&n.k_triadFlags){for(var v=new hn(i-e),I=e;I<i;I++){var B=this.m_flagsBuffer.data[I],E=this.m_groupBuffer[I];B&t.b2ParticleFlag.b2_zombieParticle||!n.ParticleCanBeConnected(B,E)||v.AddGenerator(A[I],I,r.IsNecessary(I))}var w=this.GetParticleStride();v.Generate(w/2,2*w);var b=this;v.GetNodes((function(t,e,i){if(!b.m_flagsBuffer.data)throw new Error;var l=b.m_flagsBuffer.data[t],u=b.m_flagsBuffer.data[e],h=b.m_flagsBuffer.data[i];if((l|u|h)&n.k_triadFlags&&r.ShouldCreateTriad(t,e,i)){var c=A[t],f=A[e],m=A[i],_=k.SubVV(c,f,s),g=k.SubVV(f,m,o),p=k.SubVV(m,c,a),y=4*b.m_squaredDiameter;if(k.DotVV(_,_)>y||k.DotVV(g,g)>y||k.DotVV(p,p)>y)return;var C=b.m_groupBuffer[t],v=b.m_groupBuffer[e],I=b.m_groupBuffer[i],B=b.m_triadBuffer.data[b.m_triadBuffer.Append()];B.indexA=t,B.indexB=e,B.indexC=i,B.flags=l|u|h,B.strength=d(d(C?C.m_strength:1,v?v.m_strength:1),I?I.m_strength:1);var E=(c.x+f.x+m.x)/3,w=(c.y+f.y+m.y)/3;B.pa.x=c.x-E,B.pa.y=c.y-w,B.pb.x=f.x-E,B.pb.y=f.y-w,B.pc.x=m.x-E,B.pc.y=m.y-w,B.ka=-k.DotVV(p,_),B.kb=-k.DotVV(_,g),B.kc=-k.DotVV(g,p),B.s=k.CrossVV(c,f)+k.CrossVV(f,m)+k.CrossVV(m,c)}})),dn(this.m_triadBuffer.data,0,this.m_triadBuffer.count,n.CompareTriadIndices),this.m_triadBuffer.Unique(n.MatchTriadIndices)}}},{key:"UpdatePairsAndTriadsWithReactiveParticles",value:function(){var e=new Un(this.m_flagsBuffer);if(this.UpdatePairsAndTriads(0,this.m_count,e),!this.m_flagsBuffer.data)throw new Error;for(var i=0;i<this.m_count;i++)this.m_flagsBuffer.data[i]&=~t.b2ParticleFlag.b2_reactiveParticle;this.m_allParticleFlags&=~t.b2ParticleFlag.b2_reactiveParticle}},{key:"MergeParticleListsInContact",value:function(t,e){for(var i=t.GetBufferIndex(),r=0;r<this.m_contactBuffer.count;r++){var s=this.m_contactBuffer.data[r],o=s.indexA,a=s.indexB;if(t.ContainsParticle(o)&&t.ContainsParticle(a)){var A=e[o-i].list,l=e[a-i].list;if(A!==l){if(A.count<l.count){var u=A;A=l,l=u}n.MergeParticleLists(A,l)}}}}},{key:"MergeZombieParticleListNodes",value:function(e,i,r){if(!this.m_flagsBuffer.data)throw new Error;for(var s=e.GetParticleCount(),o=0;o<s;o++){var a=i[o];a!==r&&this.m_flagsBuffer.data[a.index]&t.b2ParticleFlag.b2_zombieParticle&&n.MergeParticleListAndNode(r,a)}}},{key:"CreateParticleGroupsFromParticleList",value:function(e,i,n){if(!this.m_flagsBuffer.data)throw new Error;var r=e.GetParticleCount(),s=new An;s.groupFlags=e.GetGroupFlags(),s.userData=e.GetUserData();for(var o=0;o<r;o++){var a=i[o];if(a.count&&a!==n)for(var A=this.CreateParticleGroup(s),l=a;l;l=l.next){var u=l.index,h=this.CloneParticle(u,A);this.m_flagsBuffer.data[u]|=t.b2ParticleFlag.b2_zombieParticle,l.index=h}}}},{key:"UpdatePairsAndTriadsWithParticleList",value:function(t,e){for(var i=t.GetBufferIndex(),n=0;n<this.m_pairBuffer.count;n++){var r=this.m_pairBuffer.data[n],s=r.indexA,o=r.indexB;t.ContainsParticle(s)&&(r.indexA=e[s-i].index),t.ContainsParticle(o)&&(r.indexB=e[o-i].index)}for(var a=0;a<this.m_triadBuffer.count;a++){var A=this.m_triadBuffer.data[a],l=A.indexA,u=A.indexB,h=A.indexC;t.ContainsParticle(l)&&(A.indexA=e[l-i].index),t.ContainsParticle(u)&&(A.indexB=e[u-i].index),t.ContainsParticle(h)&&(A.indexC=e[h-i].index)}}},{key:"ComputeDepth",value:function(){for(var e=[],n=0,r=0;r<this.m_contactBuffer.count;r++){var s=this.m_contactBuffer.data[r],o=this.m_groupBuffer[s.indexA],a=this.m_groupBuffer[s.indexB];o&&o===a&&o.m_groupFlags&t.b2ParticleGroupFlag.b2_particleGroupNeedsUpdateDepth&&(e[n++]=s)}for(var A=[],l=0,u=this.m_groupList;u;u=u.GetNext())if(u.m_groupFlags&t.b2ParticleGroupFlag.b2_particleGroupNeedsUpdateDepth){A[l++]=u,this.SetGroupFlags(u,u.m_groupFlags&~t.b2ParticleGroupFlag.b2_particleGroupNeedsUpdateDepth);for(var h=u.m_firstIndex;h<u.m_lastIndex;h++)this.m_accumulationBuffer[h]=0}for(var c=0;c<n;c++){var f=e[c],m=f.indexB,_=f.weight;this.m_accumulationBuffer[f.indexA]+=_,this.m_accumulationBuffer[m]+=_}for(var g=0;g<l;g++)for(var d=A[g],p=d.m_firstIndex;p<d.m_lastIndex;p++)this.m_depthBuffer[p]=this.m_accumulationBuffer[p]<.8?0:i;for(var y=B(this.m_count)>>0,C=0;C<y;C++){for(var v=!1,I=0;I<n;I++){var E=e[I],w=E.indexA,b=E.indexB,x=1-E.weight,S=this.m_depthBuffer[w],Q=this.m_depthBuffer[b],k=Q+x,D=S+x;S>k&&(this.m_depthBuffer[w]=k,v=!0),Q>D&&(this.m_depthBuffer[b]=D,v=!0)}if(!v)break}for(var M=0;M<l;M++)for(var R=A[M],V=R.m_firstIndex;V<R.m_lastIndex;V++)this.m_depthBuffer[V]<i?this.m_depthBuffer[V]*=this.m_particleDiameter:this.m_depthBuffer[V]=0}},{key:"GetInsideBoundsEnumerator",value:function(t){var e=n.computeTag(this.m_inverseDiameter*t.lowerBound.x-1,this.m_inverseDiameter*t.lowerBound.y-1),i=n.computeTag(this.m_inverseDiameter*t.upperBound.x+1,this.m_inverseDiameter*t.upperBound.y+1),r=this.m_proxyBuffer.count,s=yn(this.m_proxyBuffer.data,0,r,e,Dn.CompareProxyTag),o=Cn(this.m_proxyBuffer.data,0,r,i,Dn.CompareTagProxy);return new Mn(this,e,i,s,o)}},{key:"UpdateAllParticleFlags",value:function(){if(!this.m_flagsBuffer.data)throw new Error;this.m_allParticleFlags=0;for(var t=0;t<this.m_count;t++)this.m_allParticleFlags|=this.m_flagsBuffer.data[t];this.m_needsUpdateAllParticleFlags=!1}},{key:"UpdateAllGroupFlags",value:function(){this.m_allGroupFlags=0;for(var t=this.m_groupList;t;t=t.GetNext())this.m_allGroupFlags|=t.m_groupFlags;this.m_needsUpdateAllGroupFlags=!1}},{key:"AddContact",value:function(t,e,i){if(!this.m_flagsBuffer.data)throw new Error;if(!this.m_positionBuffer.data)throw new Error;var r=this.m_positionBuffer.data,s=k.SubVV(r[e],r[t],n.AddContact_s_d),o=k.DotVV(s,s);if(o<this.m_squaredDiameter){var a=I(o);isFinite(a)||(a=198177537e11);var A=this.m_contactBuffer.data[this.m_contactBuffer.Append()];A.indexA=t,A.indexB=e,A.flags=this.m_flagsBuffer.data[t]|this.m_flagsBuffer.data[e],A.weight=1-o*a*this.m_inverseDiameter,k.MulSV(a,s,A.normal)}}},{key:"FindContacts_Reference",value:function(t){var e=this.m_proxyBuffer.count;this.m_contactBuffer.count=0;for(var i=0,r=0;i<e;i++){for(var s=n.computeRelativeTag(this.m_proxyBuffer.data[i].tag,1,0),o=i+1;o<e&&!(s<this.m_proxyBuffer.data[o].tag);o++)this.AddContact(this.m_proxyBuffer.data[i].index,this.m_proxyBuffer.data[o].index,this.m_contactBuffer);for(var a=n.computeRelativeTag(this.m_proxyBuffer.data[i].tag,-1,1);r<e&&!(a<=this.m_proxyBuffer.data[r].tag);r++);for(var A=n.computeRelativeTag(this.m_proxyBuffer.data[i].tag,1,1),l=r;l<e&&!(A<this.m_proxyBuffer.data[l].tag);l++)this.AddContact(this.m_proxyBuffer.data[i].index,this.m_proxyBuffer.data[l].index,this.m_contactBuffer)}}},{key:"FindContacts",value:function(t){this.FindContacts_Reference(t)}},{key:"UpdateProxies_Reference",value:function(t){if(!this.m_positionBuffer.data)throw new Error;for(var e=this.m_positionBuffer.data,i=this.m_inverseDiameter,r=0;r<this.m_proxyBuffer.count;++r){var s=this.m_proxyBuffer.data[r],o=e[s.index];s.tag=n.computeTag(i*o.x,i*o.y)}}},{key:"UpdateProxies",value:function(t){this.UpdateProxies_Reference(t)}},{key:"SortProxies",value:function(t){gn(this.m_proxyBuffer.data,0,this.m_proxyBuffer.count,Dn.CompareProxyProxy)}},{key:"FilterContacts",value:function(e){var i=this.GetParticleContactFilter();if(null!==i){var n=this;this.m_contactBuffer.RemoveIf((function(e){return 0!=(e.flags&t.b2ParticleFlag.b2_particleContactFilterParticle)&&!i.ShouldCollideParticleParticle(n,e.indexA,e.indexB)}))}}},{key:"NotifyContactListenerPreContact",value:function(t){if(null!==this.GetParticleContactListener())throw t.Initialize(this.m_contactBuffer,this.m_flagsBuffer),new Error}},{key:"NotifyContactListenerPostContact",value:function(t){var e=this.GetParticleContactListener();if(null!==e){for(var i=0;i<this.m_contactBuffer.count;++i)e.BeginContactParticleParticle(this,this.m_contactBuffer.data[i]);throw new Error}}},{key:"UpdateContacts",value:function(t){this.UpdateProxies(this.m_proxyBuffer),this.SortProxies(this.m_proxyBuffer);var e=new Gn;this.NotifyContactListenerPreContact(e),this.FindContacts(this.m_contactBuffer),this.FilterContacts(this.m_contactBuffer),this.NotifyContactListenerPostContact(e),t&&this.m_contactBuffer.RemoveIf(n.b2ParticleContactIsZombie)}},{key:"NotifyBodyContactListenerPreContact",value:function(t){if(null!==this.GetFixtureContactListener())throw t.Initialize(this.m_bodyContactBuffer,this.m_flagsBuffer),new Error}},{key:"NotifyBodyContactListenerPostContact",value:function(t){var e=this.GetFixtureContactListener();if(null!==e){for(var i=0;i<this.m_bodyContactBuffer.count;i++)e.BeginContactFixtureParticle(this,this.m_bodyContactBuffer.data[i]);throw new Error}}},{key:"UpdateBodyContacts",value:function(){var t=n.UpdateBodyContacts_s_aabb,e=new Tn;if(this.NotifyBodyContactListenerPreContact(e),this.m_stuckThreshold>0){if(!this.m_bodyContactCountBuffer.data)throw new Error;if(!this.m_lastBodyContactStepBuffer.data)throw new Error;if(!this.m_consecutiveContactStepsBuffer.data)throw new Error;for(var i=this.GetParticleCount(),r=0;r<i;r++)this.m_bodyContactCountBuffer.data[r]=0,this.m_timestamp>this.m_lastBodyContactStepBuffer.data[r]+1&&(this.m_consecutiveContactStepsBuffer.data[r]=0)}this.m_bodyContactBuffer.SetCount(0),this.m_stuckParticleBuffer.SetCount(0);var s=t;this.ComputeAABB(s);var o=new On(this,this.GetFixtureContactFilter());this.m_world.QueryAABB(o,s),this.m_def.strictContactCheck&&this.RemoveSpuriousBodyContacts(),this.NotifyBodyContactListenerPostContact(e)}},{key:"Solve",value:function(e){var i=n.Solve_s_subStep;if(0!==this.m_count&&(this.m_expirationTimeBuffer.data&&this.SolveLifetimes(e),this.m_allParticleFlags&t.b2ParticleFlag.b2_zombieParticle&&this.SolveZombie(),this.m_needsUpdateAllParticleFlags&&this.UpdateAllParticleFlags(),this.m_needsUpdateAllGroupFlags&&this.UpdateAllGroupFlags(),!this.m_paused))for(this.m_iterationIndex=0;this.m_iterationIndex<e.particleIterations;this.m_iterationIndex++){++this.m_timestamp;var r=i.Copy(e);if(r.dt/=e.particleIterations,r.inv_dt*=e.particleIterations,this.UpdateContacts(!1),this.UpdateBodyContacts(),this.ComputeWeight(),this.m_allGroupFlags&t.b2ParticleGroupFlag.b2_particleGroupNeedsUpdateDepth&&this.ComputeDepth(),this.m_allParticleFlags&t.b2ParticleFlag.b2_reactiveParticle&&this.UpdatePairsAndTriadsWithReactiveParticles(),this.m_hasForce&&this.SolveForce(r),this.m_allParticleFlags&t.b2ParticleFlag.b2_viscousParticle&&this.SolveViscous(),this.m_allParticleFlags&t.b2ParticleFlag.b2_repulsiveParticle&&this.SolveRepulsive(r),this.m_allParticleFlags&t.b2ParticleFlag.b2_powderParticle&&this.SolvePowder(r),this.m_allParticleFlags&t.b2ParticleFlag.b2_tensileParticle&&this.SolveTensile(r),this.m_allGroupFlags&t.b2ParticleGroupFlag.b2_solidParticleGroup&&this.SolveSolid(r),this.m_allParticleFlags&t.b2ParticleFlag.b2_colorMixingParticle&&this.SolveColorMixing(),this.SolveGravity(r),this.m_allParticleFlags&t.b2ParticleFlag.b2_staticPressureParticle&&this.SolveStaticPressure(r),this.SolvePressure(r),this.SolveDamping(r),this.m_allParticleFlags&n.k_extraDampingFlags&&this.SolveExtraDamping(),this.m_allParticleFlags&t.b2ParticleFlag.b2_elasticParticle&&this.SolveElastic(r),this.m_allParticleFlags&t.b2ParticleFlag.b2_springParticle&&this.SolveSpring(r),this.LimitVelocity(r),this.m_allGroupFlags&t.b2ParticleGroupFlag.b2_rigidParticleGroup&&this.SolveRigidDamping(),this.m_allParticleFlags&t.b2ParticleFlag.b2_barrierParticle&&this.SolveBarrier(r),this.SolveCollision(r),this.m_allGroupFlags&t.b2ParticleGroupFlag.b2_rigidParticleGroup&&this.SolveRigid(r),this.m_allParticleFlags&t.b2ParticleFlag.b2_wallParticle&&this.SolveWall(),!this.m_positionBuffer.data)throw new Error;if(!this.m_velocityBuffer.data)throw new Error;for(var s=0;s<this.m_count;s++)this.m_positionBuffer.data[s].SelfMulAdd(r.dt,this.m_velocityBuffer.data[s])}}},{key:"SolveCollision",value:function(t){var e=n.SolveCollision_s_aabb;if(!this.m_positionBuffer.data)throw new Error;if(!this.m_velocityBuffer.data)throw new Error;var r=this.m_positionBuffer.data,s=this.m_velocityBuffer.data,o=e;o.lowerBound.x=+i,o.lowerBound.y=+i,o.upperBound.x=-i,o.upperBound.y=-i;for(var a=0;a<this.m_count;a++){var A=s[a],l=r[a],u=l.x+t.dt*A.x,h=l.y+t.dt*A.y;o.lowerBound.x=d(o.lowerBound.x,d(l.x,u)),o.lowerBound.y=d(o.lowerBound.y,d(l.y,h)),o.upperBound.x=p(o.upperBound.x,p(l.x,u)),o.upperBound.y=p(o.upperBound.y,p(l.y,h))}var c=new Yn(this,t);this.m_world.QueryAABB(c,o)}},{key:"LimitVelocity",value:function(t){if(!this.m_velocityBuffer.data)throw new Error;for(var e=this.m_velocityBuffer.data,i=this.GetCriticalVelocitySquared(t),n=0;n<this.m_count;n++){var r=e[n],s=k.DotVV(r,r);s>i&&r.SelfMul(B(i/s))}}},{key:"SolveGravity",value:function(t){if(!this.m_velocityBuffer.data)throw new Error;for(var e=n.SolveGravity_s_gravity,i=this.m_velocityBuffer.data,r=k.MulSV(t.dt*this.m_def.gravityScale,this.m_world.GetGravity(),e),s=0;s<this.m_count;s++)i[s].SelfAdd(r)}},{key:"SolveBarrier",value:function(e){var i=n.SolveBarrier_s_aabb,r=n.SolveBarrier_s_va,s=n.SolveBarrier_s_vb,o=n.SolveBarrier_s_pba,a=n.SolveBarrier_s_vba,A=n.SolveBarrier_s_vc,l=n.SolveBarrier_s_pca,u=n.SolveBarrier_s_vca,h=n.SolveBarrier_s_qba,c=n.SolveBarrier_s_qca,f=n.SolveBarrier_s_dv,m=n.SolveBarrier_s_f;if(!this.m_flagsBuffer.data)throw new Error;if(!this.m_positionBuffer.data)throw new Error;if(!this.m_velocityBuffer.data)throw new Error;for(var _=this.m_positionBuffer.data,g=this.m_velocityBuffer.data,d=0;d<this.m_count;d++)0!=(this.m_flagsBuffer.data[d]&n.k_barrierWallFlags)&&g[d].SetZero();for(var p=2.5*e.dt,y=this.GetParticleMass(),C=0;C<this.m_pairBuffer.count;C++){var v=this.m_pairBuffer.data[C];if(v.flags&t.b2ParticleFlag.b2_barrierParticle){var I=v.indexA,E=v.indexB,w=_[I],b=_[E],x=i;k.MinV(w,b,x.lowerBound),k.MaxV(w,b,x.upperBound);for(var S=this.m_groupBuffer[I],Q=this.m_groupBuffer[E],D=this.GetLinearVelocity(S,I,w,r),M=this.GetLinearVelocity(Q,E,b,s),R=k.SubVV(b,w,o),V=k.SubVV(M,D,a),T=this.GetInsideBoundsEnumerator(x),G=void 0;(G=T.GetNext())>=0;){var F=_[G],P=this.m_groupBuffer[G];if(S!==P&&Q!==P){var N=this.GetLinearVelocity(P,G,F,A),L=k.SubVV(F,w,l),U=k.SubVV(N,D,u),O=k.CrossVV(V,U),Y=k.CrossVV(R,U)-k.CrossVV(L,V),H=k.CrossVV(R,L),J=void 0,j=void 0,K=h,q=c;if(0===O){if(0===Y)continue;if(!((j=-H/Y)>=0&&j<p))continue;if(k.AddVMulSV(R,j,V,K),k.AddVMulSV(L,j,U,q),!((J=k.DotVV(K,q)/k.DotVV(K,K))>=0&&J<=1))continue}else{var z=Y*Y-4*H*O;if(z<0)continue;var X=B(z),W=(-Y-X)/(2*O),Z=(-Y+X)/(2*O);if(W>Z){var $=W;W=Z,Z=$}if(k.AddVMulSV(R,j=W,V,K),k.AddVMulSV(L,j,U,q),J=k.DotVV(K,q)/k.DotVV(K,K),!(j>=0&&j<p&&J>=0&&J<=1)){if(!((j=Z)>=0&&j<p))continue;if(k.AddVMulSV(R,j,V,K),k.AddVMulSV(L,j,U,q),!((J=k.DotVV(K,q)/k.DotVV(K,K))>=0&&J<=1))continue}}var tt=f;tt.x=D.x+J*V.x-N.x,tt.y=D.y+J*V.y-N.y;var et=k.MulSV(y,tt,m);if(P&&this.IsRigidGroup(P)){var it=P.GetMass(),nt=P.GetInertia();it>0&&P.m_linearVelocity.SelfMulAdd(1/it,et),nt>0&&(P.m_angularVelocity+=k.CrossVV(k.SubVV(F,P.GetCenter(),k.s_t0),et)/nt)}else g[G].SelfAdd(tt);this.ParticleApplyForce(G,et.SelfMul(-e.inv_dt))}}}}}},{key:"SolveStaticPressure",value:function(e){if(!this.m_flagsBuffer.data)throw new Error;this.m_staticPressureBuffer=this.RequestBuffer(this.m_staticPressureBuffer);for(var i=this.GetCriticalPressure(e),n=this.m_def.staticPressureStrength*i,r=.25*i,s=this.m_def.staticPressureRelaxation,o=0;o<this.m_def.staticPressureIterations;o++){for(var a=0;a<this.m_count;a++)this.m_accumulationBuffer[a]=0;for(var A=0;A<this.m_contactBuffer.count;A++){var l=this.m_contactBuffer.data[A];if(l.flags&t.b2ParticleFlag.b2_staticPressureParticle){var u=l.indexA,h=l.indexB,c=l.weight;this.m_accumulationBuffer[u]+=c*this.m_staticPressureBuffer[h],this.m_accumulationBuffer[h]+=c*this.m_staticPressureBuffer[u]}}for(var f=0;f<this.m_count;f++){var m=this.m_weightBuffer[f];this.m_staticPressureBuffer[f]=this.m_flagsBuffer.data[f]&t.b2ParticleFlag.b2_staticPressureParticle?y((this.m_accumulationBuffer[f]+n*(m-1))/(m+s),0,r):0}}}},{key:"ComputeWeight",value:function(){for(var t=0;t<this.m_count;t++)this.m_weightBuffer[t]=0;for(var e=0;e<this.m_bodyContactBuffer.count;e++){var i=this.m_bodyContactBuffer.data[e];this.m_weightBuffer[i.index]+=i.weight}for(var n=0;n<this.m_contactBuffer.count;n++){var r=this.m_contactBuffer.data[n],s=r.indexB,o=r.weight;this.m_weightBuffer[r.indexA]+=o,this.m_weightBuffer[s]+=o}}},{key:"SolvePressure",value:function(e){var i=n.SolvePressure_s_f;if(!this.m_flagsBuffer.data)throw new Error;if(!this.m_positionBuffer.data)throw new Error;if(!this.m_velocityBuffer.data)throw new Error;for(var r=this.m_positionBuffer.data,s=this.m_velocityBuffer.data,o=this.GetCriticalPressure(e),a=this.m_def.pressureStrength*o,A=.25*o,l=0;l<this.m_count;l++){var u=a*p(0,this.m_weightBuffer[l]-1);this.m_accumulationBuffer[l]=d(u,A)}if(this.m_allParticleFlags&n.k_noPressureFlags)for(var h=0;h<this.m_count;h++)this.m_flagsBuffer.data[h]&n.k_noPressureFlags&&(this.m_accumulationBuffer[h]=0);if(this.m_allParticleFlags&t.b2ParticleFlag.b2_staticPressureParticle)for(var c=0;c<this.m_count;c++)this.m_flagsBuffer.data[c]&t.b2ParticleFlag.b2_staticPressureParticle&&(this.m_accumulationBuffer[c]+=this.m_staticPressureBuffer[c]);for(var f=e.dt/(this.m_def.density*this.m_particleDiameter),m=this.GetParticleInvMass(),_=0;_<this.m_bodyContactBuffer.count;_++){var g=this.m_bodyContactBuffer.data[_],y=g.index,C=g.body,v=g.weight,I=r[y],B=k.MulSV(f*v*g.mass*(this.m_accumulationBuffer[y]+a*v),g.normal,i);s[y].SelfMulSub(m,B),C.ApplyLinearImpulse(B,I,!0)}for(var E=0;E<this.m_contactBuffer.count;E++){var w=this.m_contactBuffer.data[E],b=w.indexA,x=w.indexB,S=k.MulSV(f*w.weight*(this.m_accumulationBuffer[b]+this.m_accumulationBuffer[x]),w.normal,i);s[b].SelfSub(S),s[x].SelfAdd(S)}}},{key:"SolveDamping",value:function(t){var e=n.SolveDamping_s_v,i=n.SolveDamping_s_f;if(!this.m_positionBuffer.data)throw new Error;if(!this.m_velocityBuffer.data)throw new Error;for(var r=this.m_positionBuffer.data,s=this.m_velocityBuffer.data,o=this.m_def.dampingStrength,a=1/this.GetCriticalVelocity(t),A=this.GetParticleInvMass(),l=0;l<this.m_bodyContactBuffer.count;l++){var u=this.m_bodyContactBuffer.data[l],h=u.index,c=u.body,f=u.weight,m=u.mass,_=u.normal,g=r[h],y=k.SubVV(c.GetLinearVelocityFromWorldPoint(g,k.s_t0),s[h],e),C=k.DotVV(y,_);if(C<0){var v=p(o*f,d(-a*C,.5)),I=k.MulSV(v*m*C,_,i);s[h].SelfMulAdd(A,I),c.ApplyLinearImpulse(I.SelfNeg(),g,!0)}}for(var B=0;B<this.m_contactBuffer.count;B++){var E=this.m_contactBuffer.data[B],w=E.indexA,b=E.indexB,x=E.weight,S=E.normal,Q=k.SubVV(s[b],s[w],e),D=k.DotVV(Q,S);if(D<0){var M=p(o*x,d(-a*D,.5)),R=k.MulSV(M*D,S,i);s[w].SelfAdd(R),s[b].SelfSub(R)}}}},{key:"SolveRigidDamping",value:function(){var t=n.SolveRigidDamping_s_t0,e=n.SolveRigidDamping_s_t1,i=n.SolveRigidDamping_s_p,r=n.SolveRigidDamping_s_v,s=[0],o=[0],a=[0],A=[0],l=[0],u=[0];if(!this.m_positionBuffer.data)throw new Error;for(var h=this.m_positionBuffer.data,c=this.m_def.dampingStrength,f=0;f<this.m_bodyContactBuffer.count;f++){var m=this.m_bodyContactBuffer.data[f],_=m.index,g=this.m_groupBuffer[_];if(g&&this.IsRigidGroup(g)){var p=m.body,y=m.normal,C=m.weight,v=h[_],I=k.SubVV(p.GetLinearVelocityFromWorldPoint(v,t),g.GetLinearVelocityFromWorldPoint(v,e),r),B=k.DotVV(I,y);if(B<0){this.InitDampingParameterWithRigidGroupOrParticle(s,o,a,!0,g,_,v,y),this.InitDampingParameter(A,l,u,p.GetMass(),p.GetInertia()-p.GetMass()*p.GetLocalCenter().LengthSquared(),p.GetWorldCenter(),v,y);var E=c*d(C,1)*this.ComputeDampingImpulse(s[0],o[0],a[0],A[0],l[0],u[0],B);this.ApplyDamping(s[0],o[0],a[0],!0,g,_,E,y),p.ApplyLinearImpulse(k.MulSV(-E,y,k.s_t0),v,!0)}}}for(var w=0;w<this.m_contactBuffer.count;w++){var b=this.m_contactBuffer.data[w],x=b.indexA,S=b.indexB,Q=b.normal,D=b.weight,M=this.m_groupBuffer[x],R=this.m_groupBuffer[S],V=this.IsRigidGroup(M),T=this.IsRigidGroup(R);if(M!==R&&(V||T)){var G=k.MidVV(h[x],h[S],i),F=k.SubVV(this.GetLinearVelocity(R,S,G,t),this.GetLinearVelocity(M,x,G,e),r),P=k.DotVV(F,Q);if(P<0){this.InitDampingParameterWithRigidGroupOrParticle(s,o,a,V,M,x,G,Q),this.InitDampingParameterWithRigidGroupOrParticle(A,l,u,T,R,S,G,Q);var N=c*D*this.ComputeDampingImpulse(s[0],o[0],a[0],A[0],l[0],u[0],P);this.ApplyDamping(s[0],o[0],a[0],V,M,x,N,Q),this.ApplyDamping(A[0],l[0],u[0],T,R,S,-N,Q)}}}}},{key:"SolveExtraDamping",value:function(){var t=n.SolveExtraDamping_s_v,e=n.SolveExtraDamping_s_f;if(!this.m_flagsBuffer.data)throw new Error;if(!this.m_positionBuffer.data)throw new Error;if(!this.m_velocityBuffer.data)throw new Error;for(var i=this.m_velocityBuffer.data,r=this.m_positionBuffer.data,s=this.GetParticleInvMass(),o=0;o<this.m_bodyContactBuffer.count;o++){var a=this.m_bodyContactBuffer.data[o],A=a.index;if(this.m_flagsBuffer.data[A]&n.k_extraDampingFlags){var l=a.body,u=a.mass,h=a.normal,c=r[A],f=k.SubVV(l.GetLinearVelocityFromWorldPoint(c,k.s_t0),i[A],t),m=k.DotVV(f,h);if(m<0){var _=k.MulSV(.5*u*m,h,e);i[A].SelfMulAdd(s,_),l.ApplyLinearImpulse(_.SelfNeg(),c,!0)}}}}},{key:"SolveWall",value:function(){if(!this.m_flagsBuffer.data)throw new Error;if(!this.m_velocityBuffer.data)throw new Error;for(var e=this.m_velocityBuffer.data,i=0;i<this.m_count;i++)this.m_flagsBuffer.data[i]&t.b2ParticleFlag.b2_wallParticle&&e[i].SetZero()}},{key:"SolveRigid",value:function(e){var i=n.SolveRigid_s_position,r=n.SolveRigid_s_rotation,s=n.SolveRigid_s_transform,o=n.SolveRigid_s_velocityTransform;if(!this.m_positionBuffer.data)throw new Error;if(!this.m_velocityBuffer.data)throw new Error;for(var a=this.m_positionBuffer.data,A=this.m_velocityBuffer.data,l=this.m_groupList;l;l=l.GetNext())if(l.m_groupFlags&t.b2ParticleGroupFlag.b2_rigidParticleGroup){l.UpdateStatistics();var u=r;u.SetAngle(e.dt*l.m_angularVelocity);var h=k.AddVV(l.m_center,k.SubVV(k.MulSV(e.dt,l.m_linearVelocity,k.s_t0),T.MulRV(u,l.m_center,k.s_t1),k.s_t0),i),c=s;c.SetPositionRotation(h,u),G.MulXX(c,l.m_transform,l.m_transform);var f=o;f.p.x=e.inv_dt*c.p.x,f.p.y=e.inv_dt*c.p.y,f.q.s=e.inv_dt*c.q.s,f.q.c=e.inv_dt*(c.q.c-1);for(var m=l.m_firstIndex;m<l.m_lastIndex;m++)G.MulXV(f,a[m],A[m])}}},{key:"SolveElastic",value:function(e){var i=n.SolveElastic_s_pa,r=n.SolveElastic_s_pb,s=n.SolveElastic_s_pc,o=n.SolveElastic_s_r,a=n.SolveElastic_s_t0;if(!this.m_positionBuffer.data)throw new Error;if(!this.m_velocityBuffer.data)throw new Error;for(var A=this.m_positionBuffer.data,l=this.m_velocityBuffer.data,u=e.inv_dt*this.m_def.elasticStrength,h=0;h<this.m_triadBuffer.count;h++){var c=this.m_triadBuffer.data[h];if(c.flags&t.b2ParticleFlag.b2_elasticParticle){var f=c.indexA,m=c.indexB,_=c.indexC,g=c.pa,d=c.pb,p=c.pc,y=i.Copy(A[f]),C=r.Copy(A[m]),v=s.Copy(A[_]),B=l[f],E=l[m],w=l[_];y.SelfMulAdd(e.dt,B),C.SelfMulAdd(e.dt,E),v.SelfMulAdd(e.dt,w);var b=(y.x+C.x+v.x)/3,x=(y.y+C.y+v.y)/3;y.x-=b,y.y-=x,C.x-=b,C.y-=x,v.x-=b,v.y-=x;var S=o;S.s=k.CrossVV(g,y)+k.CrossVV(d,C)+k.CrossVV(p,v),S.c=k.DotVV(g,y)+k.DotVV(d,C)+k.DotVV(p,v);var Q=I(S.s*S.s+S.c*S.c);isFinite(Q)||(Q=198177537e11),S.s*=Q,S.c*=Q;var D=u*c.strength;T.MulRV(S,g,a),k.SubVV(a,y,a),k.MulSV(D,a,a),B.SelfAdd(a),T.MulRV(S,d,a),k.SubVV(a,C,a),k.MulSV(D,a,a),E.SelfAdd(a),T.MulRV(S,p,a),k.SubVV(a,v,a),k.MulSV(D,a,a),w.SelfAdd(a)}}}},{key:"SolveSpring",value:function(e){var i=n.SolveSpring_s_pa,r=n.SolveSpring_s_pb,s=n.SolveSpring_s_d,o=n.SolveSpring_s_f;if(!this.m_positionBuffer.data)throw new Error;if(!this.m_velocityBuffer.data)throw new Error;for(var a=this.m_positionBuffer.data,A=this.m_velocityBuffer.data,l=e.inv_dt*this.m_def.springStrength,u=0;u<this.m_pairBuffer.count;u++){var h=this.m_pairBuffer.data[u];if(h.flags&t.b2ParticleFlag.b2_springParticle){var c=h.indexA,f=h.indexB,m=i.Copy(a[c]),_=r.Copy(a[f]),g=A[c],d=A[f];m.SelfMulAdd(e.dt,g),_.SelfMulAdd(e.dt,d);var p=k.SubVV(_,m,s),y=h.distance,C=p.Length(),v=k.MulSV(l*h.strength*(y-C)/C,p,o);g.SelfSub(v),d.SelfAdd(v)}}}},{key:"SolveTensile",value:function(e){var i=n.SolveTensile_s_weightedNormal,r=n.SolveTensile_s_s,s=n.SolveTensile_s_f;if(!this.m_velocityBuffer.data)throw new Error;for(var o=this.m_velocityBuffer.data,a=0;a<this.m_count;a++)this.m_accumulation2Buffer[a]=new k,this.m_accumulation2Buffer[a].SetZero();for(var A=0;A<this.m_contactBuffer.count;A++){var l=this.m_contactBuffer.data[A];if(l.flags&t.b2ParticleFlag.b2_tensileParticle){var u=l.indexA,h=l.indexB,c=l.weight,f=k.MulSV((1-c)*c,l.normal,i);this.m_accumulation2Buffer[u].SelfSub(f),this.m_accumulation2Buffer[h].SelfAdd(f)}}for(var m=this.GetCriticalVelocity(e),_=this.m_def.surfaceTensionPressureStrength*m,g=this.m_def.surfaceTensionNormalStrength*m,p=.5*m,y=0;y<this.m_contactBuffer.count;y++){var C=this.m_contactBuffer.data[y];if(C.flags&t.b2ParticleFlag.b2_tensileParticle){var v=C.indexA,I=C.indexB,B=C.weight,E=C.normal,w=this.m_weightBuffer[v]+this.m_weightBuffer[I],b=k.SubVV(this.m_accumulation2Buffer[I],this.m_accumulation2Buffer[v],r),x=d(_*(w-2)+g*k.DotVV(b,E),p)*B,S=k.MulSV(x,E,s);o[v].SelfSub(S),o[I].SelfAdd(S)}}}},{key:"SolveViscous",value:function(){var e=n.SolveViscous_s_v,i=n.SolveViscous_s_f;if(!this.m_flagsBuffer.data)throw new Error;if(!this.m_positionBuffer.data)throw new Error;if(!this.m_velocityBuffer.data)throw new Error;for(var r=this.m_positionBuffer.data,s=this.m_velocityBuffer.data,o=this.m_def.viscousStrength,a=this.GetParticleInvMass(),A=0;A<this.m_bodyContactBuffer.count;A++){var l=this.m_bodyContactBuffer.data[A],u=l.index;if(this.m_flagsBuffer.data[u]&t.b2ParticleFlag.b2_viscousParticle){var h=l.body,c=l.weight,f=l.mass,m=r[u],_=k.SubVV(h.GetLinearVelocityFromWorldPoint(m,k.s_t0),s[u],e),g=k.MulSV(o*f*c,_,i);s[u].SelfMulAdd(a,g),h.ApplyLinearImpulse(g.SelfNeg(),m,!0)}}for(var d=0;d<this.m_contactBuffer.count;d++){var p=this.m_contactBuffer.data[d];if(p.flags&t.b2ParticleFlag.b2_viscousParticle){var y=p.indexA,C=p.indexB,v=p.weight,I=k.SubVV(s[C],s[y],e),B=k.MulSV(o*v,I,i);s[y].SelfAdd(B),s[C].SelfSub(B)}}}},{key:"SolveRepulsive",value:function(e){var i=n.SolveRepulsive_s_f;if(!this.m_velocityBuffer.data)throw new Error;for(var r=this.m_velocityBuffer.data,s=this.m_def.repulsiveStrength*this.GetCriticalVelocity(e),o=0;o<this.m_contactBuffer.count;o++){var a=this.m_contactBuffer.data[o];if(a.flags&t.b2ParticleFlag.b2_repulsiveParticle){var A=a.indexA,l=a.indexB;if(this.m_groupBuffer[A]!==this.m_groupBuffer[l]){var u=k.MulSV(s*a.weight,a.normal,i);r[A].SelfSub(u),r[l].SelfAdd(u)}}}}},{key:"SolvePowder",value:function(e){var i=n.SolvePowder_s_f;if(!this.m_flagsBuffer.data)throw new Error;if(!this.m_positionBuffer.data)throw new Error;if(!this.m_velocityBuffer.data)throw new Error;for(var r=this.m_positionBuffer.data,s=this.m_velocityBuffer.data,o=this.m_def.powderStrength*this.GetCriticalVelocity(e),a=this.GetParticleInvMass(),A=0;A<this.m_bodyContactBuffer.count;A++){var l=this.m_bodyContactBuffer.data[A],u=l.index;if(this.m_flagsBuffer.data[u]&t.b2ParticleFlag.b2_powderParticle){var h=l.weight;if(h>.25){var c=l.body,f=r[u],m=k.MulSV(o*l.mass*(h-.25),l.normal,i);s[u].SelfMulSub(a,m),c.ApplyLinearImpulse(m,f,!0)}}}for(var _=0;_<this.m_contactBuffer.count;_++){var g=this.m_contactBuffer.data[_];if(g.flags&t.b2ParticleFlag.b2_powderParticle){var d=g.weight;if(d>.25){var p=g.indexA,y=g.indexB,C=k.MulSV(o*(d-.25),g.normal,i);s[p].SelfSub(C),s[y].SelfAdd(C)}}}}},{key:"SolveSolid",value:function(t){var e=n.SolveSolid_s_f;if(!this.m_velocityBuffer.data)throw new Error;var i=this.m_velocityBuffer.data;this.m_depthBuffer=this.RequestBuffer(this.m_depthBuffer);for(var r=t.inv_dt*this.m_def.ejectionStrength,s=0;s<this.m_contactBuffer.count;s++){var o=this.m_contactBuffer.data[s],a=o.indexA,A=o.indexB;if(this.m_groupBuffer[a]!==this.m_groupBuffer[A]){var l=k.MulSV(r*(this.m_depthBuffer[a]+this.m_depthBuffer[A])*o.weight,o.normal,e);i[a].SelfSub(l),i[A].SelfAdd(l)}}}},{key:"SolveForce",value:function(t){if(!this.m_velocityBuffer.data)throw new Error;for(var e=this.m_velocityBuffer.data,i=t.dt*this.GetParticleInvMass(),n=0;n<this.m_count;n++)e[n].SelfMulAdd(i,this.m_forceBuffer[n]);this.m_hasForce=!1}},{key:"SolveColorMixing",value:function(){if(!this.m_flagsBuffer.data)throw new Error;if(!this.m_colorBuffer.data)throw new Error;var e=.5*this.m_def.colorMixingStrength;if(e)for(var i=0;i<this.m_contactBuffer.count;i++){var n=this.m_contactBuffer.data[i],r=n.indexA,s=n.indexB;this.m_flagsBuffer.data[r]&this.m_flagsBuffer.data[s]&t.b2ParticleFlag.b2_colorMixingParticle&&N.MixColors(this.m_colorBuffer.data[r],this.m_colorBuffer.data[s],e)}}},{key:"SolveZombie",value:function(){if(!this.m_flagsBuffer.data)throw new Error;if(!this.m_positionBuffer.data)throw new Error;if(!this.m_velocityBuffer.data)throw new Error;for(var e=0,i=[],n=0;n<this.m_count;n++)i[n]=h;for(var r=0,s=0;s<this.m_count;s++){var o=this.m_flagsBuffer.data[s];if(o&t.b2ParticleFlag.b2_zombieParticle){var a=this.m_world.m_destructionListener;if(o&t.b2ParticleFlag.b2_destructionListenerParticle&&a&&a.SayGoodbyeParticle(this,s),this.m_handleIndexBuffer.data){var A=this.m_handleIndexBuffer.data[s];A&&(A.SetIndex(h),this.m_handleIndexBuffer.data[s]=null)}i[s]=h}else{if(i[s]=e,s!==e){if(this.m_handleIndexBuffer.data){var l=this.m_handleIndexBuffer.data[s];l&&l.SetIndex(e),this.m_handleIndexBuffer.data[e]=l}this.m_flagsBuffer.data[e]=this.m_flagsBuffer.data[s],this.m_lastBodyContactStepBuffer.data&&(this.m_lastBodyContactStepBuffer.data[e]=this.m_lastBodyContactStepBuffer.data[s]),this.m_bodyContactCountBuffer.data&&(this.m_bodyContactCountBuffer.data[e]=this.m_bodyContactCountBuffer.data[s]),this.m_consecutiveContactStepsBuffer.data&&(this.m_consecutiveContactStepsBuffer.data[e]=this.m_consecutiveContactStepsBuffer.data[s]),this.m_positionBuffer.data[e].Copy(this.m_positionBuffer.data[s]),this.m_velocityBuffer.data[e].Copy(this.m_velocityBuffer.data[s]),this.m_groupBuffer[e]=this.m_groupBuffer[s],this.m_hasForce&&this.m_forceBuffer[e].Copy(this.m_forceBuffer[s]),this.m_staticPressureBuffer&&(this.m_staticPressureBuffer[e]=this.m_staticPressureBuffer[s]),this.m_depthBuffer&&(this.m_depthBuffer[e]=this.m_depthBuffer[s]),this.m_colorBuffer.data&&this.m_colorBuffer.data[e].Copy(this.m_colorBuffer.data[s]),this.m_userDataBuffer.data&&(this.m_userDataBuffer.data[e]=this.m_userDataBuffer.data[s]),this.m_expirationTimeBuffer.data&&(this.m_expirationTimeBuffer.data[e]=this.m_expirationTimeBuffer.data[s])}e++,r|=o}}for(var u=0;u<this.m_proxyBuffer.count;u++){var c=this.m_proxyBuffer.data[u];c.index=i[c.index]}this.m_proxyBuffer.RemoveIf((function(t){return t.index<0}));for(var f=0;f<this.m_contactBuffer.count;f++){var m=this.m_contactBuffer.data[f];m.indexA=i[m.indexA],m.indexB=i[m.indexB]}this.m_contactBuffer.RemoveIf((function(t){return t.indexA<0||t.indexB<0}));for(var _=0;_<this.m_bodyContactBuffer.count;_++){var g=this.m_bodyContactBuffer.data[_];g.index=i[g.index]}this.m_bodyContactBuffer.RemoveIf((function(t){return t.index<0}));for(var y=0;y<this.m_pairBuffer.count;y++){var C=this.m_pairBuffer.data[y];C.indexA=i[C.indexA],C.indexB=i[C.indexB]}this.m_pairBuffer.RemoveIf((function(t){return t.indexA<0||t.indexB<0}));for(var v=0;v<this.m_triadBuffer.count;v++){var I=this.m_triadBuffer.data[v];I.indexA=i[I.indexA],I.indexB=i[I.indexB],I.indexC=i[I.indexC]}if(this.m_triadBuffer.RemoveIf((function(t){return t.indexA<0||t.indexB<0||t.indexC<0})),this.m_indexByExpirationTimeBuffer.data)for(var B=0,E=0;E<this.m_count;E++){var w=i[this.m_indexByExpirationTimeBuffer.data[E]];w!==h&&(this.m_indexByExpirationTimeBuffer.data[B++]=w)}for(var b=this.m_groupList;b;b=b.GetNext()){for(var x=e,S=0,Q=!1,k=b.m_firstIndex;k<b.m_lastIndex;k++){var D=i[k];D>=0?(x=d(x,D),S=p(S,D+1)):Q=!0}x<S?(b.m_firstIndex=x,b.m_lastIndex=S,Q&&b.m_groupFlags&t.b2ParticleGroupFlag.b2_solidParticleGroup&&this.SetGroupFlags(b,b.m_groupFlags|t.b2ParticleGroupFlag.b2_particleGroupNeedsUpdateDepth)):(b.m_firstIndex=0,b.m_lastIndex=0,b.m_groupFlags&t.b2ParticleGroupFlag.b2_particleGroupCanBeEmpty||this.SetGroupFlags(b,b.m_groupFlags|t.b2ParticleGroupFlag.b2_particleGroupWillBeDestroyed))}this.m_count=e,this.m_allParticleFlags=r,this.m_needsUpdateAllParticleFlags=!1;for(var M=this.m_groupList;M;){var R=M.GetNext();M.m_groupFlags&t.b2ParticleGroupFlag.b2_particleGroupWillBeDestroyed&&this.DestroyParticleGroup(M),M=R}}},{key:"SolveLifetimes",value:function(t){if(!this.m_expirationTimeBuffer.data)throw new Error;if(!this.m_indexByExpirationTimeBuffer.data)throw new Error;this.m_timeElapsed=this.LifetimeToExpirationTime(t.dt);var e=this.GetQuantizedTimeElapsed(),i=this.m_expirationTimeBuffer.data,n=this.m_indexByExpirationTimeBuffer.data,r=this.GetParticleCount();this.m_expirationTimeBufferRequiresSorting&&(gn(n,0,r,(function(t,e){var n=i[t],r=i[e],s=n<=0;return s===r<=0?n>r:s})),this.m_expirationTimeBufferRequiresSorting=!1);for(var s=r-1;s>=0;--s){var o=n[s],a=i[o];if(e<a||a<=0)break;this.DestroyParticle(o)}}},{key:"RotateBuffer",value:function(t,e,i){if(t!==e&&e!==i){if(!this.m_flagsBuffer.data)throw new Error;if(!this.m_positionBuffer.data)throw new Error;if(!this.m_velocityBuffer.data)throw new Error;if(vn(this.m_flagsBuffer.data,t,e,i),this.m_lastBodyContactStepBuffer.data&&vn(this.m_lastBodyContactStepBuffer.data,t,e,i),this.m_bodyContactCountBuffer.data&&vn(this.m_bodyContactCountBuffer.data,t,e,i),this.m_consecutiveContactStepsBuffer.data&&vn(this.m_consecutiveContactStepsBuffer.data,t,e,i),vn(this.m_positionBuffer.data,t,e,i),vn(this.m_velocityBuffer.data,t,e,i),vn(this.m_groupBuffer,t,e,i),this.m_hasForce&&vn(this.m_forceBuffer,t,e,i),this.m_staticPressureBuffer&&vn(this.m_staticPressureBuffer,t,e,i),this.m_depthBuffer&&vn(this.m_depthBuffer,t,e,i),this.m_colorBuffer.data&&vn(this.m_colorBuffer.data,t,e,i),this.m_userDataBuffer.data&&vn(this.m_userDataBuffer.data,t,e,i),this.m_handleIndexBuffer.data){vn(this.m_handleIndexBuffer.data,t,e,i);for(var n=t;n<i;++n){var r=this.m_handleIndexBuffer.data[n];r&&r.SetIndex(y(r.GetIndex()))}}if(this.m_expirationTimeBuffer.data){vn(this.m_expirationTimeBuffer.data,t,e,i);var s=this.GetParticleCount();if(!this.m_indexByExpirationTimeBuffer.data)throw new Error;for(var o=this.m_indexByExpirationTimeBuffer.data,a=0;a<s;++a)o[a]=y(o[a])}for(var A=0;A<this.m_proxyBuffer.count;A++){var l=this.m_proxyBuffer.data[A];l.index=y(l.index)}for(var u=0;u<this.m_contactBuffer.count;u++){var h=this.m_contactBuffer.data[u];h.indexA=y(h.indexA),h.indexB=y(h.indexB)}for(var c=0;c<this.m_bodyContactBuffer.count;c++){var f=this.m_bodyContactBuffer.data[c];f.index=y(f.index)}for(var m=0;m<this.m_pairBuffer.count;m++){var _=this.m_pairBuffer.data[m];_.indexA=y(_.indexA),_.indexB=y(_.indexB)}for(var g=0;g<this.m_triadBuffer.count;g++){var d=this.m_triadBuffer.data[g];d.indexA=y(d.indexA),d.indexB=y(d.indexB),d.indexC=y(d.indexC)}for(var p=this.m_groupList;p;p=p.GetNext())p.m_firstIndex=y(p.m_firstIndex),p.m_lastIndex=y(p.m_lastIndex-1)+1}function y(n){return n<t?n:n<e?n+i-e:n<i?n+t-e:n}}},{key:"GetCriticalVelocity",value:function(t){return this.m_particleDiameter*t.inv_dt}},{key:"GetCriticalVelocitySquared",value:function(t){var e=this.GetCriticalVelocity(t);return e*e}},{key:"GetCriticalPressure",value:function(t){return this.m_def.density*this.GetCriticalVelocitySquared(t)}},{key:"GetParticleStride",value:function(){return.75*this.m_particleDiameter}},{key:"GetParticleMass",value:function(){var t=this.GetParticleStride();return this.m_def.density*t*t}},{key:"GetParticleInvMass",value:function(){var t=this.m_inverseDiameter*(1/.75);return this.m_inverseDensity*t*t}},{key:"GetFixtureContactFilter",value:function(){return this.m_allParticleFlags&t.b2ParticleFlag.b2_fixtureContactFilterParticle?this.m_world.m_contactManager.m_contactFilter:null}},{key:"GetParticleContactFilter",value:function(){return this.m_allParticleFlags&t.b2ParticleFlag.b2_particleContactFilterParticle?this.m_world.m_contactManager.m_contactFilter:null}},{key:"GetFixtureContactListener",value:function(){return this.m_allParticleFlags&t.b2ParticleFlag.b2_fixtureContactListenerParticle?this.m_world.m_contactManager.m_contactListener:null}},{key:"GetParticleContactListener",value:function(){return this.m_allParticleFlags&t.b2ParticleFlag.b2_particleContactListenerParticle?this.m_world.m_contactManager.m_contactListener:null}},{key:"SetUserOverridableBuffer",value:function(t,e,i){t.data=e,t.userSuppliedCapacity=i}},{key:"SetGroupFlags",value:function(e,i){var n=e.m_groupFlags;(n^i)&t.b2ParticleGroupFlag.b2_solidParticleGroup&&(i|=t.b2ParticleGroupFlag.b2_particleGroupNeedsUpdateDepth),n&~i&&(this.m_needsUpdateAllGroupFlags=!0),~this.m_allGroupFlags&i&&(i&t.b2ParticleGroupFlag.b2_solidParticleGroup&&(this.m_depthBuffer=this.RequestBuffer(this.m_depthBuffer)),this.m_allGroupFlags|=i),e.m_groupFlags=i}},{key:"RemoveSpuriousBodyContacts",value:function(){gn(this.m_bodyContactBuffer.data,0,this.m_bodyContactBuffer.count,n.BodyContactCompare);var t=n.RemoveSpuriousBodyContacts_s_n,e=n.RemoveSpuriousBodyContacts_s_pos,i=n.RemoveSpuriousBodyContacts_s_normal,r=this,s=-1,o=0;this.m_bodyContactBuffer.count=pn(this.m_bodyContactBuffer.data,(function(n){if(n.index!==s&&(o=0,s=n.index),o++>3)return!0;var a=t.Copy(n.normal);if(a.SelfMul(r.m_particleDiameter*(1-n.weight)),!r.m_positionBuffer.data)throw new Error;var l=k.AddVV(r.m_positionBuffer.data[n.index],a,e);if(!n.fixture.TestPoint(l)){for(var u=n.fixture.GetShape().GetChildCount(),h=0;h<u;h++)if(n.fixture.ComputeDistance(l,i,h)<A)return!1;return!0}return!1}),this.m_bodyContactBuffer.count)}},{key:"DetectStuckParticle",value:function(t){if(!(this.m_stuckThreshold<=0)){if(!this.m_bodyContactCountBuffer.data)throw new Error;if(!this.m_consecutiveContactStepsBuffer.data)throw new Error;if(!this.m_lastBodyContactStepBuffer.data)throw new Error;++this.m_bodyContactCountBuffer.data[t],2===this.m_bodyContactCountBuffer.data[t]&&(++this.m_consecutiveContactStepsBuffer.data[t],this.m_consecutiveContactStepsBuffer.data[t]>this.m_stuckThreshold&&(this.m_stuckParticleBuffer.data[this.m_stuckParticleBuffer.Append()]=t)),this.m_lastBodyContactStepBuffer.data[t]=this.m_timestamp}}},{key:"ValidateParticleIndex",value:function(t){return t>=0&&t<this.GetParticleCount()&&t!==h}},{key:"GetQuantizedTimeElapsed",value:function(){return Math.floor(this.m_timeElapsed/4294967296)}},{key:"LifetimeToExpirationTime",value:function(t){return this.m_timeElapsed+Math.floor(t/this.m_def.lifetimeGranularity*4294967296)}},{key:"ForceCanBeApplied",value:function(e){return!(e&t.b2ParticleFlag.b2_wallParticle)}},{key:"PrepareForceBuffer",value:function(){if(!this.m_hasForce){for(var t=0;t<this.m_count;t++)this.m_forceBuffer[t].SetZero();this.m_hasForce=!0}}},{key:"IsRigidGroup",value:function(e){return null!==e&&0!=(e.m_groupFlags&t.b2ParticleGroupFlag.b2_rigidParticleGroup)}},{key:"GetLinearVelocity",value:function(t,e,i,n){if(t&&this.IsRigidGroup(t))return t.GetLinearVelocityFromWorldPoint(i,n);if(!this.m_velocityBuffer.data)throw new Error;return n.Copy(this.m_velocityBuffer.data[e])}},{key:"InitDampingParameter",value:function(t,e,i,n,r,s,o,a){t[0]=n>0?1/n:0,e[0]=r>0?1/r:0,i[0]=k.CrossVV(k.SubVV(o,s,k.s_t0),a)}},{key:"InitDampingParameterWithRigidGroupOrParticle",value:function(e,i,n,r,s,o,a,A){if(s&&r)this.InitDampingParameter(e,i,n,s.GetMass(),s.GetInertia(),s.GetCenter(),a,A);else{if(!this.m_flagsBuffer.data)throw new Error;this.InitDampingParameter(e,i,n,this.m_flagsBuffer.data[o]&t.b2ParticleFlag.b2_wallParticle?0:this.GetParticleMass(),0,a,a,A)}}},{key:"ComputeDampingImpulse",value:function(t,e,i,n,r,s,o){var a=t+e*i*i+n+r*s*s;return a>0?o/a:0}},{key:"ApplyDamping",value:function(t,e,i,n,r,s,o,a){if(r&&n)r.m_linearVelocity.SelfMulAdd(o*t,a),r.m_angularVelocity+=o*i*e;else{if(!this.m_velocityBuffer.data)throw new Error;this.m_velocityBuffer.data[s].SelfMulAdd(o*t,a)}}}],[{key:"computeTag",value:function(t,e){return(e+n.yOffset>>>0<<n.yShift)+(n.xScale*t+n.xOffset>>>0)>>>0}},{key:"computeRelativeTag",value:function(t,e,i){return t+(i<<n.yShift)+(e<<n.xShift)>>>0}},{key:"IsSignificantForce",value:function(t){return 0!==t.x||0!==t.y}},{key:"ParticleCanBeConnected",value:function(e,i){return 0!=(e&(t.b2ParticleFlag.b2_wallParticle|t.b2ParticleFlag.b2_springParticle|t.b2ParticleFlag.b2_elasticParticle))||null!==i&&0!=(i.GetGroupFlags()&t.b2ParticleGroupFlag.b2_rigidParticleGroup)}},{key:"ComparePairIndices",value:function(t,e){var i=t.indexA-e.indexA;return 0!==i?i<0:t.indexB<e.indexB}},{key:"MatchPairIndices",value:function(t,e){return t.indexA===e.indexA&&t.indexB===e.indexB}},{key:"CompareTriadIndices",value:function(t,e){var i=t.indexA-e.indexA;if(0!==i)return i<0;var n=t.indexB-e.indexB;return 0!==n?n<0:t.indexC<e.indexC}},{key:"MatchTriadIndices",value:function(t,e){return t.indexA===e.indexA&&t.indexB===e.indexB&&t.indexC===e.indexC}},{key:"InitializeParticleLists",value:function(t,e){for(var i=t.GetBufferIndex(),n=t.GetParticleCount(),r=0;r<n;r++){var s=e[r];s.list=s,s.next=null,s.count=1,s.index=r+i}}},{key:"MergeParticleLists",value:function(t,e){for(var i=e;;){i.list=t;var n=i.next;if(!n){i.next=t.next;break}i=n}t.next=e,t.count+=e.count,e.count=0}},{key:"FindLongestParticleList",value:function(t,e){for(var i=t.GetParticleCount(),n=e[0],r=0;r<i;r++){var s=e[r];n.count<s.count&&(n=s)}return n}},{key:"MergeParticleListAndNode",value:function(t,e){e.list=t,e.next=t.next,t.next=e,t.count++,e.count=0}},{key:"b2ParticleContactIsZombie",value:function(e){return(e.flags&t.b2ParticleFlag.b2_zombieParticle)===t.b2ParticleFlag.b2_zombieParticle}},{key:"BodyContactCompare",value:function(t,e){return t.index===e.index?t.weight>e.weight:t.index<e.index}}]),n}();Qn.xTruncBits=12,Qn.yTruncBits=12,Qn.tagBits=32,Qn.yOffset=1<<Qn.yTruncBits-1,Qn.yShift=Qn.tagBits-Qn.yTruncBits,Qn.xShift=Qn.tagBits-Qn.yTruncBits-Qn.xTruncBits,Qn.xScale=1<<Qn.xShift,Qn.xOffset=Qn.xScale*(1<<Qn.xTruncBits-1),Qn.yMask=(1<<Qn.yTruncBits)-1<<Qn.yShift,Qn.xMask=~Qn.yMask,Qn.DestroyParticlesInShape_s_aabb=new It,Qn.CreateParticleGroup_s_transform=new G,Qn.ComputeCollisionEnergy_s_v=new k,Qn.QueryShapeAABB_s_aabb=new It,Qn.QueryPointAABB_s_aabb=new It,Qn.RayCast_s_aabb=new It,Qn.RayCast_s_p=new k,Qn.RayCast_s_v=new k,Qn.RayCast_s_n=new k,Qn.RayCast_s_point=new k,Qn.k_pairFlags=t.b2ParticleFlag.b2_springParticle,Qn.k_triadFlags=t.b2ParticleFlag.b2_elasticParticle,Qn.k_noPressureFlags=t.b2ParticleFlag.b2_powderParticle|t.b2ParticleFlag.b2_tensileParticle,Qn.k_extraDampingFlags=t.b2ParticleFlag.b2_staticPressureParticle,Qn.k_barrierWallFlags=t.b2ParticleFlag.b2_barrierParticle|t.b2ParticleFlag.b2_wallParticle,Qn.CreateParticlesStrokeShapeForGroup_s_edge=new ni,Qn.CreateParticlesStrokeShapeForGroup_s_d=new k,Qn.CreateParticlesStrokeShapeForGroup_s_p=new k,Qn.CreateParticlesFillShapeForGroup_s_aabb=new It,Qn.CreateParticlesFillShapeForGroup_s_p=new k,Qn.UpdatePairsAndTriads_s_dab=new k,Qn.UpdatePairsAndTriads_s_dbc=new k,Qn.UpdatePairsAndTriads_s_dca=new k,Qn.AddContact_s_d=new k,Qn.UpdateBodyContacts_s_aabb=new It,Qn.Solve_s_subStep=new Ji,Qn.SolveCollision_s_aabb=new It,Qn.SolveGravity_s_gravity=new k,Qn.SolveBarrier_s_aabb=new It,Qn.SolveBarrier_s_va=new k,Qn.SolveBarrier_s_vb=new k,Qn.SolveBarrier_s_pba=new k,Qn.SolveBarrier_s_vba=new k,Qn.SolveBarrier_s_vc=new k,Qn.SolveBarrier_s_pca=new k,Qn.SolveBarrier_s_vca=new k,Qn.SolveBarrier_s_qba=new k,Qn.SolveBarrier_s_qca=new k,Qn.SolveBarrier_s_dv=new k,Qn.SolveBarrier_s_f=new k,Qn.SolvePressure_s_f=new k,Qn.SolveDamping_s_v=new k,Qn.SolveDamping_s_f=new k,Qn.SolveRigidDamping_s_t0=new k,Qn.SolveRigidDamping_s_t1=new k,Qn.SolveRigidDamping_s_p=new k,Qn.SolveRigidDamping_s_v=new k,Qn.SolveExtraDamping_s_v=new k,Qn.SolveExtraDamping_s_f=new k,Qn.SolveRigid_s_position=new k,Qn.SolveRigid_s_rotation=new T,Qn.SolveRigid_s_transform=new G,Qn.SolveRigid_s_velocityTransform=new G,Qn.SolveElastic_s_pa=new k,Qn.SolveElastic_s_pb=new k,Qn.SolveElastic_s_pc=new k,Qn.SolveElastic_s_r=new T,Qn.SolveElastic_s_t0=new k,Qn.SolveSpring_s_pa=new k,Qn.SolveSpring_s_pb=new k,Qn.SolveSpring_s_d=new k,Qn.SolveSpring_s_f=new k,Qn.SolveTensile_s_weightedNormal=new k,Qn.SolveTensile_s_s=new k,Qn.SolveTensile_s_f=new k,Qn.SolveViscous_s_v=new k,Qn.SolveViscous_s_f=new k,Qn.SolveRepulsive_s_f=new k,Qn.SolvePowder_s_f=new k,Qn.SolveSolid_s_f=new k,Qn.RemoveSpuriousBodyContacts_s_n=new k,Qn.RemoveSpuriousBodyContacts_s_pos=new k,Qn.RemoveSpuriousBodyContacts_s_normal=new k;var kn=function t(){_classCallCheck2(this,t),this.data=null,this.userSuppliedCapacity=0},Dn=function(){function t(){_classCallCheck2(this,t),this.index=h,this.tag=0}return _createClass2(t,null,[{key:"CompareProxyProxy",value:function(t,e){return t.tag<e.tag}},{key:"CompareTagProxy",value:function(t,e){return t<e.tag}},{key:"CompareProxyTag",value:function(t,e){return t.tag<e}}]),t}(),Mn=function(){function t(e,i,n,r,s){_classCallCheck2(this,t),this.m_system=e,this.m_xLower=(i&Qn.xMask)>>>0,this.m_xUpper=(n&Qn.xMask)>>>0,this.m_yLower=(i&Qn.yMask)>>>0,this.m_yUpper=(n&Qn.yMask)>>>0,this.m_first=r,this.m_last=s}return _createClass2(t,[{key:"GetNext",value:function(){for(;this.m_first<this.m_last;){var t=(this.m_system.m_proxyBuffer.data[this.m_first].tag&Qn.xMask)>>>0;if(t>=this.m_xLower&&t<=this.m_xUpper)return this.m_system.m_proxyBuffer.data[this.m_first++].index;this.m_first++}return h}}]),t}(),Rn=function t(){_classCallCheck2(this,t),this.next=null,this.count=0,this.index=0},Vn=function(){function t(){_classCallCheck2(this,t)}return _createClass2(t,[{key:"Allocate",value:function(t,e){return e}},{key:"Clear",value:function(){}},{key:"GetCount",value:function(){return 0}},{key:"Invalidate",value:function(t){}},{key:"GetValidBuffer",value:function(){return[]}},{key:"GetBuffer",value:function(){return[]}},{key:"SetCount",value:function(t){}}]),t}(),Tn=function(t){function e(){return _classCallCheck2(this,e),_possibleConstructorReturn(this,_getPrototypeOf(e).apply(this,arguments))}return _inherits(e,t),_createClass2(e,[{key:"Initialize",value:function(t,e){}},{key:"Find",value:function(t){return h}}]),e}(Vn),Gn=function(t){function e(){return _classCallCheck2(this,e),_possibleConstructorReturn(this,_getPrototypeOf(e).apply(this,arguments))}return _inherits(e,t),_createClass2(e,[{key:"Initialize",value:function(t,e){}},{key:"Find",value:function(t){return h}}]),e}(Vn),Fn=function(){function t(){_classCallCheck2(this,t)}return _createClass2(t,[{key:"IsNecessary",value:function(t){return!0}},{key:"ShouldCreatePair",value:function(t,e){return!0}},{key:"ShouldCreateTriad",value:function(t,e,i){return!0}}]),t}(),Pn=function(t){function e(t,i,n,r){var s;return _classCallCheck2(this,e),(s=_possibleConstructorReturn(this,_getPrototypeOf(e).call(this))).m_callDestructionListener=!1,s.m_destroyed=0,s.m_system=t,s.m_shape=i,s.m_xf=n,s.m_callDestructionListener=r,s.m_destroyed=0,s}return _inherits(e,t),_createClass2(e,[{key:"ReportFixture",value:function(t){return!1}},{key:"ReportParticle",value:function(t,e){if(t!==this.m_system)return!1;if(!this.m_system.m_positionBuffer.data)throw new Error;return this.m_shape.TestPoint(this.m_xf,this.m_system.m_positionBuffer.data[e])&&(this.m_system.DestroyParticle(e,this.m_callDestructionListener),this.m_destroyed++),!0}},{key:"Destroyed",value:function(){return this.m_destroyed}}]),e}(Oi),Nn=function(t){function e(t){var i;return _classCallCheck2(this,e),(i=_possibleConstructorReturn(this,_getPrototypeOf(e).call(this))).m_threshold=0,i.m_threshold=t,i}return _inherits(e,t),_createClass2(e,[{key:"ShouldCreatePair",value:function(t,e){return t<this.m_threshold&&this.m_threshold<=e||e<this.m_threshold&&this.m_threshold<=t}},{key:"ShouldCreateTriad",value:function(t,e,i){return(t<this.m_threshold||e<this.m_threshold||i<this.m_threshold)&&(this.m_threshold<=t||this.m_threshold<=e||this.m_threshold<=i)}}]),e}(Fn),Ln=function(e){function n(e){var i,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:e.length;return _classCallCheck2(this,n),(i=_possibleConstructorReturn(this,_getPrototypeOf(n).call(this,t.b2ShapeType.e_unknown,0))).m_shapeCount=0,i.m_shapes=e,i.m_shapeCount=r,i}return _inherits(n,e),_createClass2(n,[{key:"Clone",value:function(){throw new Error}},{key:"GetChildCount",value:function(){return 1}},{key:"TestPoint",value:function(t,e){for(var i=0;i<this.m_shapeCount;i++)if(this.m_shapes[i].TestPoint(t,e))return!0;return!1}},{key:"ComputeDistance",value:function(t,e,i,n){return 0}},{key:"RayCast",value:function(t,e,i,n){return!1}},{key:"ComputeAABB",value:function(t,e,n){var r=new It;t.lowerBound.x=+i,t.lowerBound.y=+i,t.upperBound.x=-i,t.upperBound.y=-i;for(var s=0;s<this.m_shapeCount;s++)for(var o=this.m_shapes[s].GetChildCount(),a=0;a<o;a++){var A=r;this.m_shapes[s].ComputeAABB(A,e,a),t.Combine1(A)}}},{key:"ComputeMass",value:function(t,e){}},{key:"SetupDistanceProxy",value:function(t,e){}},{key:"ComputeSubmergedArea",value:function(t,e,i,n){return 0}},{key:"Dump",value:function(t){}}]),n}(ti),Un=function(e){function i(t){var e;return _classCallCheck2(this,i),(e=_possibleConstructorReturn(this,_getPrototypeOf(i).call(this))).m_flagsBuffer=t,e}return _inherits(i,e),_createClass2(i,[{key:"IsNecessary",value:function(e){if(!this.m_flagsBuffer.data)throw new Error;return 0!=(this.m_flagsBuffer.data[e]&t.b2ParticleFlag.b2_reactiveParticle)}}]),i}(Fn),On=function(e){function i(t,e){var n;return _classCallCheck2(this,i),(n=_possibleConstructorReturn(this,_getPrototypeOf(i).call(this,t))).m_contactFilter=e,n}return _inherits(i,e),_createClass2(i,[{key:"ShouldCollideFixtureParticle",value:function(e,i,n){return!(this.m_contactFilter&&this.m_system.GetFlagsBuffer()[n]&t.b2ParticleFlag.b2_fixtureContactFilterParticle)||this.m_contactFilter.ShouldCollideFixtureParticle(e,this.m_system,n)}},{key:"ReportFixtureAndParticle",value:function(e,n,r){var s=i.ReportFixtureAndParticle_s_n,o=i.ReportFixtureAndParticle_s_rp;if(!this.m_system.m_flagsBuffer.data)throw new Error;if(!this.m_system.m_positionBuffer.data)throw new Error;var a=this.m_system.m_positionBuffer.data[r],A=s,l=e.ComputeDistance(a,A,n);if(l<this.m_system.m_particleDiameter&&this.ShouldCollideFixtureParticle(e,this.m_system,r)){var u=e.GetBody(),h=u.GetWorldCenter(),c=u.GetMass(),f=u.GetInertia()-c*u.GetLocalCenter().LengthSquared(),m=c>0?1/c:0,_=f>0?1/f:0,g=this.m_system.m_flagsBuffer.data[r]&t.b2ParticleFlag.b2_wallParticle?0:this.m_system.GetParticleInvMass(),d=k.SubVV(a,h,o),p=k.CrossVV(d,A),y=g+m+_*p*p,C=this.m_system.m_bodyContactBuffer.data[this.m_system.m_bodyContactBuffer.Append()];C.index=r,C.body=u,C.fixture=e,C.weight=1-l*this.m_system.m_inverseDiameter,C.normal.Copy(A.SelfNeg()),C.mass=y>0?1/y:0,this.m_system.DetectStuckParticle(r)}}}]),i}(Bn);On.ReportFixtureAndParticle_s_n=new k,On.ReportFixtureAndParticle_s_rp=new k;var Yn=function(e){function i(t,e){var n;return _classCallCheck2(this,i),(n=_possibleConstructorReturn(this,_getPrototypeOf(i).call(this,t))).m_step=e,n}return _inherits(i,e),_createClass2(i,[{key:"ReportFixtureAndParticle",value:function(e,n,r){var s=i.ReportFixtureAndParticle_s_p1,o=i.ReportFixtureAndParticle_s_output,a=i.ReportFixtureAndParticle_s_input,l=i.ReportFixtureAndParticle_s_p,u=i.ReportFixtureAndParticle_s_v,h=i.ReportFixtureAndParticle_s_f,c=e.GetBody();if(!this.m_system.m_positionBuffer.data)throw new Error;if(!this.m_system.m_velocityBuffer.data)throw new Error;var f=this.m_system.m_positionBuffer.data[r],m=this.m_system.m_velocityBuffer.data[r],_=o,g=a;if(0===this.m_system.m_iterationIndex){var d=G.MulTXV(c.m_xf0,f,s);e.GetShape().GetType()===t.b2ShapeType.e_circleShape&&(d.SelfSub(c.GetLocalCenter()),T.MulRV(c.m_xf0.q,d,d),T.MulTRV(c.m_xf.q,d,d),d.SelfAdd(c.GetLocalCenter())),G.MulXV(c.m_xf,d,g.p1)}else g.p1.Copy(f);if(k.AddVMulSV(f,this.m_step.dt,m,g.p2),g.maxFraction=1,e.RayCast(_,g,n)){var p=_.normal,y=l;y.x=(1-_.fraction)*g.p1.x+_.fraction*g.p2.x+A*p.x,y.y=(1-_.fraction)*g.p1.y+_.fraction*g.p2.y+A*p.y;var C=u;C.x=this.m_step.inv_dt*(y.x-f.x),C.y=this.m_step.inv_dt*(y.y-f.y),this.m_system.m_velocityBuffer.data[r].Copy(C);var v=h;v.x=this.m_step.inv_dt*this.m_system.GetParticleMass()*(m.x-C.x),v.y=this.m_step.inv_dt*this.m_system.GetParticleMass()*(m.y-C.y),this.m_system.ParticleApplyForce(r,v)}}},{key:"ReportParticle",value:function(t,e){return!1}}]),i}(Bn);Yn.ReportFixtureAndParticle_s_p1=new k,Yn.ReportFixtureAndParticle_s_output=new vt,Yn.ReportFixtureAndParticle_s_input=new Ct,Yn.ReportFixtureAndParticle_s_p=new k,Yn.ReportFixtureAndParticle_s_v=new k,Yn.ReportFixtureAndParticle_s_f=new k;var Hn=function(){function e(t){_classCallCheck2(this,e),this.m_newFixture=!1,this.m_locked=!1,this.m_clearForces=!0,this.m_contactManager=new Yi,this.m_bodyList=null,this.m_jointList=null,this.m_particleSystemList=null,this.m_bodyCount=0,this.m_jointCount=0,this.m_gravity=new k,this.m_allowSleep=!0,this.m_destructionListener=null,this.m_debugDraw=null,this.m_inv_dt0=0,this.m_warmStarting=!0,this.m_continuousPhysics=!0,this.m_subStepping=!1,this.m_stepComplete=!0,this.m_profile=new Hi,this.m_island=new rn,this.s_stack=[],this.m_controllerList=null,this.m_controllerCount=0,this.m_gravity.Copy(t)}return _createClass2(e,[{key:"SetDestructionListener",value:function(t){this.m_destructionListener=t}},{key:"SetContactFilter",value:function(t){this.m_contactManager.m_contactFilter=t}},{key:"SetContactListener",value:function(t){this.m_contactManager.m_contactListener=t}},{key:"SetDebugDraw",value:function(t){this.m_debugDraw=t}},{key:"CreateBody",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};if(this.IsLocked())throw new Error;var e=new li(t,this);return e.m_prev=null,e.m_next=this.m_bodyList,this.m_bodyList&&(this.m_bodyList.m_prev=e),this.m_bodyList=e,++this.m_bodyCount,e}},{key:"DestroyBody",value:function(t){if(this.IsLocked())throw new Error;for(var e=t.m_jointList;e;){var i=e;e=e.next,this.m_destructionListener&&this.m_destructionListener.SayGoodbyeJoint(i.joint),this.DestroyJoint(i.joint),t.m_jointList=e}t.m_jointList=null;for(var n=t.m_controllerList;n;){var r=n;n=n.nextController,r.controller.RemoveBody(t)}for(var s=t.m_contactList;s;){var o=s;s=s.next,this.m_contactManager.Destroy(o.contact)}t.m_contactList=null;for(var a=t.m_fixtureList;a;){var A=a;a=a.m_next,this.m_destructionListener&&this.m_destructionListener.SayGoodbyeFixture(A),A.DestroyProxies(),A.Destroy(),t.m_fixtureList=a,t.m_fixtureCount-=1}t.m_fixtureList=null,t.m_fixtureCount=0,t.m_prev&&(t.m_prev.m_next=t.m_next),t.m_next&&(t.m_next.m_prev=t.m_prev),t===this.m_bodyList&&(this.m_bodyList=t.m_next),--this.m_bodyCount}},{key:"CreateJoint",value:function(t){if(this.IsLocked())throw new Error;var i=e._Joint_Create(t,null);i.m_prev=null,i.m_next=this.m_jointList,this.m_jointList&&(this.m_jointList.m_prev=i),this.m_jointList=i,++this.m_jointCount,i.m_edgeA.prev=null,i.m_edgeA.next=i.m_bodyA.m_jointList,i.m_bodyA.m_jointList&&(i.m_bodyA.m_jointList.prev=i.m_edgeA),i.m_bodyA.m_jointList=i.m_edgeA,i.m_edgeB.prev=null,i.m_edgeB.next=i.m_bodyB.m_jointList,i.m_bodyB.m_jointList&&(i.m_bodyB.m_jointList.prev=i.m_edgeB),i.m_bodyB.m_jointList=i.m_edgeB;var n=t.bodyA;if(!t.collideConnected)for(var r=t.bodyB.GetContactList();r;)r.other===n&&r.contact.FlagForFiltering(),r=r.next;return i}},{key:"DestroyJoint",value:function(t){if(this.IsLocked())throw new Error;var i=t.m_collideConnected;t.m_prev&&(t.m_prev.m_next=t.m_next),t.m_next&&(t.m_next.m_prev=t.m_prev),t===this.m_jointList&&(this.m_jointList=t.m_next);var n=t.m_bodyA,r=t.m_bodyB;if(n.SetAwake(!0),r.SetAwake(!0),t.m_edgeA.prev&&(t.m_edgeA.prev.next=t.m_edgeA.next),t.m_edgeA.next&&(t.m_edgeA.next.prev=t.m_edgeA.prev),t.m_edgeA===n.m_jointList&&(n.m_jointList=t.m_edgeA.next),t.m_edgeA.prev=null,t.m_edgeA.next=null,t.m_edgeB.prev&&(t.m_edgeB.prev.next=t.m_edgeB.next),t.m_edgeB.next&&(t.m_edgeB.next.prev=t.m_edgeB.prev),t.m_edgeB===r.m_jointList&&(r.m_jointList=t.m_edgeB.next),t.m_edgeB.prev=null,t.m_edgeB.next=null,e._Joint_Destroy(t,null),--this.m_jointCount,!i)for(var s=r.GetContactList();s;)s.other===n&&s.contact.FlagForFiltering(),s=s.next}},{key:"CreateParticleSystem",value:function(t){if(this.IsLocked())throw new Error;var e=new Qn(t,this);return e.m_prev=null,e.m_next=this.m_particleSystemList,this.m_particleSystemList&&(this.m_particleSystemList.m_prev=e),this.m_particleSystemList=e,e}},{key:"DestroyParticleSystem",value:function(t){if(this.IsLocked())throw new Error;t.m_prev&&(t.m_prev.m_next=t.m_next),t.m_next&&(t.m_next.m_prev=t.m_prev),t===this.m_particleSystemList&&(this.m_particleSystemList=t.m_next)}},{key:"CalculateReasonableParticleIterations",value:function(t){return null===this.m_particleSystemList?1:on(this.m_gravity.Length(),function(t){for(var e=i,n=t.GetParticleSystemList();null!==n;n=n.m_next)e=d(e,n.GetRadius());return e}(this),t)}},{key:"Step",value:function(t,i,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:this.CalculateReasonableParticleIterations(t),s=e.Step_s_stepTimer.Reset();this.m_newFixture&&(this.m_contactManager.FindNewContacts(),this.m_newFixture=!1),this.m_locked=!0;var o=e.Step_s_step;o.dt=t,o.velocityIterations=i,o.positionIterations=n,o.particleIterations=r,o.inv_dt=t>0?1/t:0,o.dtRatio=this.m_inv_dt0*t,o.warmStarting=this.m_warmStarting;var a=e.Step_s_timer.Reset();if(this.m_contactManager.Collide(),this.m_profile.collide=a.GetMilliseconds(),this.m_stepComplete&&o.dt>0){for(var A=e.Step_s_timer.Reset(),l=this.m_particleSystemList;l;l=l.m_next)l.Solve(o);this.Solve(o),this.m_profile.solve=A.GetMilliseconds()}if(this.m_continuousPhysics&&o.dt>0){var u=e.Step_s_timer.Reset();this.SolveTOI(o),this.m_profile.solveTOI=u.GetMilliseconds()}o.dt>0&&(this.m_inv_dt0=o.inv_dt),this.m_clearForces&&this.ClearForces(),this.m_locked=!1,this.m_profile.step=s.GetMilliseconds()}},{key:"ClearForces",value:function(){for(var t=this.m_bodyList;t;t=t.m_next)t.m_force.SetZero(),t.m_torque=0}},{key:"DrawParticleSystem",value:function(t){if(null!==this.m_debugDraw){var e=t.GetParticleCount();if(e){var i=t.GetRadius(),n=t.GetPositionBuffer();if(t.m_colorBuffer.data){var r=t.GetColorBuffer();this.m_debugDraw.DrawParticles(n,i,r,e)}else this.m_debugDraw.DrawParticles(n,i,null,e)}}}},{key:"DrawDebugData",value:function(){if(null!==this.m_debugDraw){var i=this.m_debugDraw.GetFlags(),n=e.DrawDebugData_s_color.SetRGB(0,0,0);if(i&t.b2DrawFlags.e_shapeBit)for(var r=this.m_bodyList;r;r=r.m_next){var s=r.m_xf;this.m_debugDraw.PushTransform(s);for(var o=r.GetFixtureList();o;o=o.m_next)r.IsActive()?r.GetType()===t.b2BodyType.b2_staticBody?(n.SetRGB(.5,.9,.5),this.DrawShape(o,n)):r.GetType()===t.b2BodyType.b2_kinematicBody?(n.SetRGB(.5,.5,.9),this.DrawShape(o,n)):r.IsAwake()?(n.SetRGB(.9,.7,.7),this.DrawShape(o,n)):(n.SetRGB(.6,.6,.6),this.DrawShape(o,n)):(n.SetRGB(.5,.5,.3),this.DrawShape(o,n));this.m_debugDraw.PopTransform(s)}if(i&t.b2DrawFlags.e_particleBit)for(var a=this.m_particleSystemList;a;a=a.m_next)this.DrawParticleSystem(a);if(i&t.b2DrawFlags.e_jointBit)for(var A=this.m_jointList;A;A=A.m_next)this.DrawJoint(A);if(i&t.b2DrawFlags.e_aabbBit){n.SetRGB(.9,.3,.9);for(var l=e.DrawDebugData_s_vs,u=this.m_bodyList;u;u=u.m_next)if(u.IsActive())for(var h=u.GetFixtureList();h;h=h.m_next)for(var c=0;c<h.m_proxyCount;++c){var f=h.m_proxies[c].treeNode.aabb;l[0].Set(f.lowerBound.x,f.lowerBound.y),l[1].Set(f.upperBound.x,f.lowerBound.y),l[2].Set(f.upperBound.x,f.upperBound.y),l[3].Set(f.lowerBound.x,f.upperBound.y),this.m_debugDraw.DrawPolygon(l,4,n)}}if(i&t.b2DrawFlags.e_centerOfMassBit)for(var m=this.m_bodyList;m;m=m.m_next){var _=e.DrawDebugData_s_xf;_.q.Copy(m.m_xf.q),_.p.Copy(m.GetWorldCenter()),this.m_debugDraw.DrawTransform(_)}if(i&t.b2DrawFlags.e_controllerBit)for(var g=this.m_controllerList;g;g=g.m_next)g.Draw(this.m_debugDraw)}}},{key:"QueryAABB",value:function(t,e,i){if(this.m_contactManager.m_broadPhase.Query(e,(function(e){var n=e.userData.fixture;return t?t.ReportFixture(n):!i||i(n)})),t instanceof Oi)for(var n=this.m_particleSystemList;n;n=n.m_next)t.ShouldQueryParticleSystem(n)&&n.QueryAABB(t,e)}},{key:"QueryAllAABB",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];return this.QueryAABB(null,t,(function(t){return e.push(t),!0})),e}},{key:"QueryPointAABB",value:function(t,e,i){if(this.m_contactManager.m_broadPhase.QueryPoint(e,(function(e){var n=e.userData.fixture;return t?t.ReportFixture(n):!i||i(n)})),t instanceof Oi)for(var n=this.m_particleSystemList;n;n=n.m_next)t.ShouldQueryParticleSystem(n)&&n.QueryPointAABB(t,e)}},{key:"QueryAllPointAABB",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];return this.QueryPointAABB(null,t,(function(t){return e.push(t),!0})),e}},{key:"QueryFixtureShape",value:function(t,i,n,r,s){var o=e.QueryFixtureShape_s_aabb;if(i.ComputeAABB(o,r,n),this.m_contactManager.m_broadPhase.Query(o,(function(e){var o=e.userData,a=o.fixture;if(St(i,n,a.GetShape(),o.childIndex,r,a.GetBody().GetTransform())){if(t)return t.ReportFixture(a);if(s)return s(a)}return!0})),t instanceof Oi)for(var a=this.m_particleSystemList;a;a=a.m_next)t.ShouldQueryParticleSystem(a)&&a.QueryAABB(t,o)}},{key:"QueryAllFixtureShape",value:function(t,e,i){var n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[];return this.QueryFixtureShape(null,t,e,i,(function(t){return n.push(t),!0})),n}},{key:"QueryFixturePoint",value:function(t,e,i){if(this.m_contactManager.m_broadPhase.QueryPoint(e,(function(n){var r=n.userData.fixture;if(r.TestPoint(e)){if(t)return t.ReportFixture(r);if(i)return i(r)}return!0})),t)for(var n=this.m_particleSystemList;n;n=n.m_next)t.ShouldQueryParticleSystem(n)&&n.QueryPointAABB(t,e)}},{key:"QueryAllFixturePoint",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];return this.QueryFixturePoint(null,t,(function(t){return e.push(t),!0})),e}},{key:"RayCast",value:function(t,i,n,r){var s=e.RayCast_s_input;if(s.maxFraction=1,s.p1.Copy(i),s.p2.Copy(n),this.m_contactManager.m_broadPhase.RayCast(s,(function(s,o){var a=o.userData,A=a.fixture,l=e.RayCast_s_output;if(A.RayCast(l,s,a.childIndex)){var u=l.fraction,h=e.RayCast_s_point;if(h.Set((1-u)*i.x+u*n.x,(1-u)*i.y+u*n.y),t)return t.ReportFixture(A,h,l.normal,u);if(r)return r(A,h,l.normal,u)}return s.maxFraction})),t)for(var o=this.m_particleSystemList;o;o=o.m_next)t.ShouldQueryParticleSystem(o)&&o.RayCast(t,i,n)}},{key:"RayCastOne",value:function(t,e){var i=null,n=1;return this.RayCast(null,t,e,(function(t,e,r,s){return s<n&&(n=s,i=t),n})),i}},{key:"RayCastAll",value:function(t,e){var i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[];return this.RayCast(null,t,e,(function(t,e,n,r){return i.push(t),1})),i}},{key:"GetBodyList",value:function(){return this.m_bodyList}},{key:"GetJointList",value:function(){return this.m_jointList}},{key:"GetParticleSystemList",value:function(){return this.m_particleSystemList}},{key:"GetContactList",value:function(){return this.m_contactManager.m_contactList}},{key:"SetAllowSleeping",value:function(t){if(t!==this.m_allowSleep&&(this.m_allowSleep=t,!this.m_allowSleep))for(var e=this.m_bodyList;e;e=e.m_next)e.SetAwake(!0)}},{key:"GetAllowSleeping",value:function(){return this.m_allowSleep}},{key:"SetWarmStarting",value:function(t){this.m_warmStarting=t}},{key:"GetWarmStarting",value:function(){return this.m_warmStarting}},{key:"SetContinuousPhysics",value:function(t){this.m_continuousPhysics=t}},{key:"GetContinuousPhysics",value:function(){return this.m_continuousPhysics}},{key:"SetSubStepping",value:function(t){this.m_subStepping=t}},{key:"GetSubStepping",value:function(){return this.m_subStepping}},{key:"GetProxyCount",value:function(){return this.m_contactManager.m_broadPhase.GetProxyCount()}},{key:"GetBodyCount",value:function(){return this.m_bodyCount}},{key:"GetJointCount",value:function(){return this.m_jointCount}},{key:"GetContactCount",value:function(){return this.m_contactManager.m_contactCount}},{key:"GetTreeHeight",value:function(){return this.m_contactManager.m_broadPhase.GetTreeHeight()}},{key:"GetTreeBalance",value:function(){return this.m_contactManager.m_broadPhase.GetTreeBalance()}},{key:"GetTreeQuality",value:function(){return this.m_contactManager.m_broadPhase.GetTreeQuality()}},{key:"SetGravity",value:function(t){var e=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];if(!k.IsEqualToV(this.m_gravity,t)&&(this.m_gravity.Copy(t),e))for(var i=this.m_bodyList;i;i=i.m_next)i.SetAwake(!0)}},{key:"GetGravity",value:function(){return this.m_gravity}},{key:"IsLocked",value:function(){return this.m_locked}},{key:"SetAutoClearForces",value:function(t){this.m_clearForces=t}},{key:"GetAutoClearForces",value:function(){return this.m_clearForces}},{key:"ShiftOrigin",value:function(t){if(this.IsLocked())throw new Error;for(var e=this.m_bodyList;e;e=e.m_next)e.m_xf.p.SelfSub(t),e.m_sweep.c0.SelfSub(t),e.m_sweep.c.SelfSub(t);for(var i=this.m_jointList;i;i=i.m_next)i.ShiftOrigin(t);this.m_contactManager.m_broadPhase.ShiftOrigin(t)}},{key:"GetContactManager",value:function(){return this.m_contactManager}},{key:"GetProfile",value:function(){return this.m_profile}},{key:"Dump",value:function(e){if(!this.m_locked){e("const g: b2Vec2 = new b2Vec2(%.15f, %.15f);\n",this.m_gravity.x,this.m_gravity.y),e("this.m_world.SetGravity(g);\n"),e("const bodies: b2Body[] = [];\n"),e("const joints: b2Joint[] = [];\n");for(var i=0,n=this.m_bodyList;n;n=n.m_next)n.m_islandIndex=i,n.Dump(e),++i;i=0;for(var r=this.m_jointList;r;r=r.m_next)r.m_index=i,++i;for(var s=this.m_jointList;s;s=s.m_next)s.m_type!==t.b2JointType.e_gearJoint&&(e("{\n"),s.Dump(e),e("}\n"));for(var o=this.m_jointList;o;o=o.m_next)o.m_type===t.b2JointType.e_gearJoint&&(e("{\n"),o.Dump(e),e("}\n"))}}},{key:"DrawJoint",value:function(i){if(null!==this.m_debugDraw){var n=i.GetBodyA(),r=i.GetBodyB(),s=n.m_xf.p,o=r.m_xf.p,a=i.GetAnchorA(e.DrawJoint_s_p1),A=i.GetAnchorB(e.DrawJoint_s_p2),l=e.DrawJoint_s_color.SetRGB(.5,.8,.8);switch(i.m_type){case t.b2JointType.e_distanceJoint:this.m_debugDraw.DrawSegment(a,A,l);break;case t.b2JointType.e_pulleyJoint:var u=i,h=u.GetGroundAnchorA(),c=u.GetGroundAnchorB();this.m_debugDraw.DrawSegment(h,a,l),this.m_debugDraw.DrawSegment(c,A,l),this.m_debugDraw.DrawSegment(h,c,l);break;case t.b2JointType.e_mouseJoint:var f=e.DrawJoint_s_c;f.Set(0,1,0),this.m_debugDraw.DrawPoint(a,4,f),this.m_debugDraw.DrawPoint(A,4,f),f.Set(.8,.8,.8),this.m_debugDraw.DrawSegment(a,A,f);break;default:this.m_debugDraw.DrawSegment(s,a,l),this.m_debugDraw.DrawSegment(a,A,l),this.m_debugDraw.DrawSegment(o,A,l)}}}},{key:"DrawShape",value:function(i,n){if(null!==this.m_debugDraw){var r=i.GetShape();switch(r.m_type){case t.b2ShapeType.e_circleShape:this.m_debugDraw.DrawSolidCircle(r.m_p,r.m_radius,k.UNITX,n);break;case t.b2ShapeType.e_edgeShape:this.m_debugDraw.DrawSegment(r.m_vertex1,r.m_vertex2,n);break;case t.b2ShapeType.e_chainShape:var s=r,o=s.m_count,a=s.m_vertices,A=e.DrawShape_s_ghostColor.SetRGBA(.75*n.r,.75*n.g,.75*n.b,n.a),l=a[0];if(this.m_debugDraw.DrawPoint(l,4,n),s.m_hasPrevVertex){var u=s.m_prevVertex;this.m_debugDraw.DrawSegment(u,l,A),this.m_debugDraw.DrawCircle(u,.1,A)}for(var h=1;h<o;++h){var c=a[h];this.m_debugDraw.DrawSegment(l,c,n),this.m_debugDraw.DrawPoint(c,4,n),l=c}if(s.m_hasNextVertex){var f=s.m_nextVertex;this.m_debugDraw.DrawSegment(f,l,A),this.m_debugDraw.DrawCircle(f,.1,A)}break;case t.b2ShapeType.e_polygonShape:this.m_debugDraw.DrawSolidPolygon(r.m_vertices,r.m_count,n)}}}},{key:"Solve",value:function(e){for(var i=this.m_bodyList;i;i=i.m_next)i.m_xf0.Copy(i.m_xf);for(var n=this.m_controllerList;n;n=n.m_next)n.Step(e);this.m_profile.solveInit=0,this.m_profile.solveVelocity=0,this.m_profile.solvePosition=0;var r=this.m_island;r.Initialize(this.m_bodyCount,this.m_contactManager.m_contactCount,this.m_jointCount,null,this.m_contactManager.m_contactListener);for(var s=this.m_bodyList;s;s=s.m_next)s.m_islandFlag=!1;for(var o=this.m_contactManager.m_contactList;o;o=o.m_next)o.m_islandFlag=!1;for(var a=this.m_jointList;a;a=a.m_next)a.m_islandFlag=!1;for(var A=this.s_stack,l=this.m_bodyList;l;l=l.m_next)if(!l.m_islandFlag&&l.IsAwake()&&l.IsActive()&&l.GetType()!==t.b2BodyType.b2_staticBody){r.Clear();var u=0;for(A[u++]=l,l.m_islandFlag=!0;u>0;){var h=A[--u];if(!h)throw new Error;if(r.AddBody(h),h.m_awakeFlag=!0,h.GetType()!==t.b2BodyType.b2_staticBody){for(var c=h.m_contactList;c;c=c.next){var f=c.contact;if(!f.m_islandFlag&&(f.IsEnabled()&&f.IsTouching())){var m=f.m_fixtureB.m_isSensor;if(!f.m_fixtureA.m_isSensor&&!m){r.AddContact(f),f.m_islandFlag=!0;var _=c.other;if(!_)throw new Error;_.m_islandFlag||(A[u++]=_,_.m_islandFlag=!0)}}}for(var g=h.m_jointList;g;g=g.next)if(!g.joint.m_islandFlag){var d=g.other;d.IsActive()&&(r.AddJoint(g.joint),g.joint.m_islandFlag=!0,d.m_islandFlag||(A[u++]=d,d.m_islandFlag=!0))}}}var p=new Hi;r.Solve(p,e,this.m_gravity,this.m_allowSleep),this.m_profile.solveInit+=p.solveInit,this.m_profile.solveVelocity+=p.solveVelocity,this.m_profile.solvePosition+=p.solvePosition;for(var y=0;y<r.m_bodyCount;++y){var C=r.m_bodies[y];C.GetType()===t.b2BodyType.b2_staticBody&&(C.m_islandFlag=!1)}}for(var v=0;v<A.length&&A[v];++v)A[v]=null;for(var I=new L,B=this.m_bodyList;B;B=B.m_next)B.m_islandFlag&&B.GetType()!==t.b2BodyType.b2_staticBody&&B.SynchronizeFixtures();this.m_contactManager.FindNewContacts(),this.m_profile.broadphase=I.GetMilliseconds()}},{key:"SolveTOI",value:function(i){var r=this.m_island;if(r.Initialize(64,32,0,null,this.m_contactManager.m_contactListener),this.m_stepComplete){for(var s=this.m_bodyList;s;s=s.m_next)s.m_islandFlag=!1,s.m_sweep.alpha0=0;for(var o=this.m_contactManager.m_contactList;o;o=o.m_next)o.m_toiFlag=!1,o.m_islandFlag=!1,o.m_toiCount=0,o.m_toi=1}for(;;){for(var a=null,A=1,l=this.m_contactManager.m_contactList;l;l=l.m_next)if(l.IsEnabled()&&!(l.m_toiCount>8)){var u=1;if(l.m_toiFlag)u=l.m_toi;else{var h=l.GetFixtureA(),c=l.GetFixtureB();if(h.IsSensor()||c.IsSensor())continue;var f=h.GetBody(),m=c.GetBody(),_=f.m_type,g=m.m_type,p=f.IsAwake()&&_!==t.b2BodyType.b2_staticBody,y=m.IsAwake()&&g!==t.b2BodyType.b2_staticBody;if(!p&&!y)continue;var C=f.IsBullet()||_!==t.b2BodyType.b2_dynamicBody,v=m.IsBullet()||g!==t.b2BodyType.b2_dynamicBody;if(!C&&!v)continue;var I=f.m_sweep.alpha0;f.m_sweep.alpha0<m.m_sweep.alpha0?f.m_sweep.Advance(I=m.m_sweep.alpha0):m.m_sweep.alpha0<f.m_sweep.alpha0&&m.m_sweep.Advance(I=f.m_sweep.alpha0);var B=l.GetChildIndexA(),E=l.GetChildIndexB(),w=e.SolveTOI_s_toi_input;w.proxyA.SetShape(h.GetShape(),B),w.proxyB.SetShape(c.GetShape(),E),w.sweepA.Copy(f.m_sweep),w.sweepB.Copy(m.m_sweep),w.tMax=1;var b=e.SolveTOI_s_toi_output;ie(b,w);var x=b.t;u=b.state===t.b2TOIOutputState.e_touching?d(I+(1-I)*x,1):1,l.m_toi=u,l.m_toiFlag=!0}u<A&&(a=l,A=u)}if(null===a||1-10*n<A){this.m_stepComplete=!0;break}var S=a.GetFixtureA(),Q=a.GetFixtureB(),k=S.GetBody(),D=Q.GetBody(),M=e.SolveTOI_s_backup1.Copy(k.m_sweep),R=e.SolveTOI_s_backup2.Copy(D.m_sweep);if(k.Advance(A),D.Advance(A),a.Update(this.m_contactManager.m_contactListener),a.m_toiFlag=!1,++a.m_toiCount,a.IsEnabled()&&a.IsTouching()){k.SetAwake(!0),D.SetAwake(!0),r.Clear(),r.AddBody(k),r.AddBody(D),r.AddContact(a),k.m_islandFlag=!0,D.m_islandFlag=!0,a.m_islandFlag=!0;for(var V=0;V<2;++V){var T=0===V?k:D;if(T.m_type===t.b2BodyType.b2_dynamicBody)for(var G=T.m_contactList;G&&r.m_bodyCount!==r.m_bodyCapacity&&r.m_contactCount!==r.m_contactCapacity;G=G.next){var F=G.contact;if(!F.m_islandFlag){var P=G.other;if(P.m_type!==t.b2BodyType.b2_dynamicBody||T.IsBullet()||P.IsBullet()){var N=F.m_fixtureB.m_isSensor;if(!F.m_fixtureA.m_isSensor&&!N){var L=e.SolveTOI_s_backup.Copy(P.m_sweep);P.m_islandFlag||P.Advance(A),F.Update(this.m_contactManager.m_contactListener),F.IsEnabled()&&F.IsTouching()?(F.m_islandFlag=!0,r.AddContact(F),P.m_islandFlag||(P.m_islandFlag=!0,P.m_type!==t.b2BodyType.b2_staticBody&&P.SetAwake(!0),r.AddBody(P))):(P.m_sweep.Copy(L),P.SynchronizeTransform())}}}}}var U=e.SolveTOI_s_subStep;U.dt=(1-A)*i.dt,U.inv_dt=1/U.dt,U.dtRatio=1,U.positionIterations=20,U.velocityIterations=i.velocityIterations,U.particleIterations=i.particleIterations,U.warmStarting=!1,r.SolveTOI(U,k.m_islandIndex,D.m_islandIndex);for(var O=0;O<r.m_bodyCount;++O){var Y=r.m_bodies[O];if(Y.m_islandFlag=!1,Y.m_type===t.b2BodyType.b2_dynamicBody){Y.SynchronizeFixtures();for(var H=Y.m_contactList;H;H=H.next)H.contact.m_toiFlag=!1,H.contact.m_islandFlag=!1}}if(this.m_contactManager.FindNewContacts(),this.m_subStepping){this.m_stepComplete=!1;break}}else a.SetEnabled(!1),k.m_sweep.Copy(M),D.m_sweep.Copy(R),k.SynchronizeTransform(),D.SynchronizeTransform()}}},{key:"AddController",value:function(t){return t.m_next=this.m_controllerList,t.m_prev=null,this.m_controllerList&&(this.m_controllerList.m_prev=t),this.m_controllerList=t,++this.m_controllerCount,t}},{key:"RemoveController",value:function(t){return t.m_prev&&(t.m_prev.m_next=t.m_next),t.m_next&&(t.m_next.m_prev=t.m_prev),this.m_controllerList===t&&(this.m_controllerList=t.m_next),--this.m_controllerCount,t.m_prev=null,t.m_next=null,t}}],[{key:"_Joint_Create",value:function(e,i){switch(e.type){case t.b2JointType.e_distanceJoint:return new mi(e);case t.b2JointType.e_mouseJoint:return new yi(e);case t.b2JointType.e_prismaticJoint:return new Ci(e);case t.b2JointType.e_revoluteJoint:return new Ii(e);case t.b2JointType.e_pulleyJoint:return new vi(e);case t.b2JointType.e_gearJoint:return new di(e);case t.b2JointType.e_wheelJoint:return new wi(e);case t.b2JointType.e_weldJoint:return new Ei(e);case t.b2JointType.e_frictionJoint:return new gi(e);case t.b2JointType.e_ropeJoint:return new Bi(e);case t.b2JointType.e_motorJoint:return new pi(e);case t.b2JointType.e_areaJoint:return new _i(e)}throw new Error}},{key:"_Joint_Destroy",value:function(t,e){}}]),e}();Hn.Step_s_step=new Ji,Hn.Step_s_stepTimer=new L,Hn.Step_s_timer=new L,Hn.DrawDebugData_s_color=new N(0,0,0),Hn.DrawDebugData_s_vs=k.MakeArray(4),Hn.DrawDebugData_s_xf=new G,Hn.QueryFixtureShape_s_aabb=new It,Hn.RayCast_s_input=new Ct,Hn.RayCast_s_output=new vt,Hn.RayCast_s_point=new k,Hn.DrawJoint_s_p1=new k,Hn.DrawJoint_s_p2=new k,Hn.DrawJoint_s_color=new N(.5,.8,.8),Hn.DrawJoint_s_c=new N,Hn.DrawShape_s_ghostColor=new N,Hn.SolveTOI_s_subStep=new Ji,Hn.SolveTOI_s_backup=new P,Hn.SolveTOI_s_backup1=new P,Hn.SolveTOI_s_backup2=new P,Hn.SolveTOI_s_toi_input=new Ht,Hn.SolveTOI_s_toi_output=new Jt;var Jn=function t(e,i){_classCallCheck2(this,t),this.prevBody=null,this.nextBody=null,this.prevController=null,this.nextController=null,this.controller=e,this.body=i},jn=function(){function t(){_classCallCheck2(this,t),this.m_bodyList=null,this.m_bodyCount=0,this.m_prev=null,this.m_next=null}return _createClass2(t,[{key:"GetNext",value:function(){return this.m_next}},{key:"GetPrev",value:function(){return this.m_prev}},{key:"GetBodyList",value:function(){return this.m_bodyList}},{key:"AddBody",value:function(t){var e=new Jn(this,t);e.nextBody=this.m_bodyList,e.prevBody=null,this.m_bodyList&&(this.m_bodyList.prevBody=e),this.m_bodyList=e,++this.m_bodyCount,e.nextController=t.m_controllerList,e.prevController=null,t.m_controllerList&&(t.m_controllerList.prevController=e),t.m_controllerList=e,++t.m_controllerCount}},{key:"RemoveBody",value:function(t){if(this.m_bodyCount<=0)throw new Error;for(var e=this.m_bodyList;e&&e.body!==t;)e=e.nextBody;if(null===e)throw new Error;e.prevBody&&(e.prevBody.nextBody=e.nextBody),e.nextBody&&(e.nextBody.prevBody=e.prevBody),this.m_bodyList===e&&(this.m_bodyList=e.nextBody),--this.m_bodyCount,e.nextController&&(e.nextController.prevController=e.prevController),e.prevController&&(e.prevController.nextController=e.nextController),t.m_controllerList===e&&(t.m_controllerList=e.nextController),--t.m_controllerCount}},{key:"Clear",value:function(){for(;this.m_bodyList;)this.RemoveBody(this.m_bodyList.body);this.m_bodyCount=0}}]),t}(),Kn=function(t){function e(){var t;return _classCallCheck2(this,e),(t=_possibleConstructorReturn(this,_getPrototypeOf(e).apply(this,arguments))).A=new k(0,0),t}return _inherits(e,t),_createClass2(e,[{key:"Step",value:function(t){for(var i=k.MulSV(t.dt,this.A,e.Step_s_dtA),n=this.m_bodyList;n;n=n.nextBody){var r=n.body;r.IsAwake()&&r.SetLinearVelocity(k.AddVV(r.GetLinearVelocity(),i,k.s_t0))}}},{key:"Draw",value:function(t){}}]),e}(jn);Kn.Step_s_dtA=new k;var qn=function(t){function e(){var t;return _classCallCheck2(this,e),(t=_possibleConstructorReturn(this,_getPrototypeOf(e).apply(this,arguments))).G=1,t.invSqr=!0,t}return _inherits(e,t),_createClass2(e,[{key:"Step",value:function(t){if(this.invSqr)for(var i=this.m_bodyList;i;i=i.nextBody)for(var r=i.body,s=r.GetWorldCenter(),o=r.GetMass(),a=this.m_bodyList;a&&a!==i;a=a.nextBody){var A=a.body,l=A.GetWorldCenter(),u=A.GetMass(),h=l.x-s.x,c=l.y-s.y,f=h*h+c*c;if(!(f<n)){var m=e.Step_s_f.Set(h,c);m.SelfMul(this.G/f/B(f)*o*u),r.IsAwake()&&r.ApplyForce(m,s),A.IsAwake()&&A.ApplyForce(m.SelfMul(-1),l)}}else for(var _=this.m_bodyList;_;_=_.nextBody)for(var g=_.body,d=g.GetWorldCenter(),p=g.GetMass(),y=this.m_bodyList;y&&y!==_;y=y.nextBody){var C=y.body,v=C.GetWorldCenter(),I=C.GetMass(),E=v.x-d.x,w=v.y-d.y,b=E*E+w*w;if(!(b<n)){var x=e.Step_s_f.Set(E,w);x.SelfMul(this.G/b*p*I),g.IsAwake()&&g.ApplyForce(x,d),C.IsAwake()&&C.ApplyForce(x.SelfMul(-1),v)}}}},{key:"Draw",value:function(t){}}]),e}(jn);qn.Step_s_f=new k;var zn=function(t){function e(){var t;return _classCallCheck2(this,e),(t=_possibleConstructorReturn(this,_getPrototypeOf(e).apply(this,arguments))).T=new R,t.maxTimestep=0,t}return _inherits(e,t),_createClass2(e,[{key:"Step",value:function(t){var i=t.dt;if(!(i<=n)){i>this.maxTimestep&&this.maxTimestep>0&&(i=this.maxTimestep);for(var r=this.m_bodyList;r;r=r.nextBody){var s=r.body;if(s.IsAwake()){var o=s.GetWorldVector(R.MulMV(this.T,s.GetLocalVector(s.GetLinearVelocity(),k.s_t0),k.s_t1),e.Step_s_damping);s.SetLinearVelocity(k.AddVV(s.GetLinearVelocity(),k.MulSV(i,o,k.s_t0),k.s_t1))}}}}},{key:"Draw",value:function(t){}},{key:"SetAxisAligned",value:function(t,e){this.T.ex.x=-t,this.T.ex.y=0,this.T.ey.x=0,this.T.ey.y=-e,this.maxTimestep=t>0||e>0?1/p(t,e):0}}]),e}(jn);zn.Step_s_damping=new k;var Xn=function(){function t(){_classCallCheck2(this,t),this.m_count=0,this.m_ps=[],this.m_p0s=[],this.m_vs=[],this.m_ims=[],this.m_Ls=[],this.m_as=[],this.m_gravity=new k,this.m_damping=0,this.m_k2=1,this.m_k3=.1}return _createClass2(t,[{key:"GetVertexCount",value:function(){return this.m_count}},{key:"GetVertices",value:function(){return this.m_ps}},{key:"Initialize",value:function(t){this.m_count=t.count,this.m_ps=k.MakeArray(this.m_count),this.m_p0s=k.MakeArray(this.m_count),this.m_vs=k.MakeArray(this.m_count),this.m_ims=_(this.m_count);for(var e=0;e<this.m_count;++e){this.m_ps[e].Copy(t.vertices[e]),this.m_p0s[e].Copy(t.vertices[e]),this.m_vs[e].SetZero();var i=t.masses[e];this.m_ims[e]=i>0?1/i:0}var n=this.m_count-1,r=this.m_count-2;this.m_Ls=_(n),this.m_as=_(r);for(var s=0;s<n;++s)this.m_Ls[s]=k.DistanceVV(this.m_ps[s],this.m_ps[s+1]);for(var o=0;o<r;++o){var a=this.m_ps[o+1],A=this.m_ps[o+2],l=k.SubVV(a,this.m_ps[o],k.s_t0),u=k.SubVV(A,a,k.s_t1),h=k.CrossVV(l,u),c=k.DotVV(l,u);this.m_as[o]=Q(h,c)}this.m_gravity.Copy(t.gravity),this.m_damping=t.damping,this.m_k2=t.k2,this.m_k3=t.k3}},{key:"Step",value:function(t,e){if(0!==t){for(var i=Math.exp(-t*this.m_damping),n=0;n<this.m_count;++n)this.m_p0s[n].Copy(this.m_ps[n]),this.m_ims[n]>0&&this.m_vs[n].SelfMulAdd(t,this.m_gravity),this.m_vs[n].SelfMul(i),this.m_ps[n].SelfMulAdd(t,this.m_vs[n]);for(var r=0;r<e;++r)this.SolveC2(),this.SolveC3(),this.SolveC2();for(var s=1/t,o=0;o<this.m_count;++o)k.MulSV(s,k.SubVV(this.m_ps[o],this.m_p0s[o],k.s_t0),this.m_vs[o])}}},{key:"SolveC2",value:function(){for(var e=this.m_count-1,i=0;i<e;++i){var n=this.m_ps[i],r=this.m_ps[i+1],s=k.SubVV(r,n,t.s_d),o=s.Normalize(),a=this.m_ims[i],A=this.m_ims[i+1];if(a+A!==0){var l=A/(a+A);n.SelfMulSub(this.m_k2*(a/(a+A))*(this.m_Ls[i]-o),s),r.SelfMulAdd(this.m_k2*l*(this.m_Ls[i]-o),s)}}}},{key:"SetAngle",value:function(t){for(var e=this.m_count-2,i=0;i<e;++i)this.m_as[i]=t}},{key:"SolveC3",value:function(){for(var e=this.m_count-2,i=0;i<e;++i){var n=this.m_ps[i],r=this.m_ps[i+1],o=this.m_ps[i+2],a=this.m_ims[i],A=this.m_ims[i+1],l=this.m_ims[i+2],u=k.SubVV(r,n,t.s_d1),h=k.SubVV(o,r,t.s_d2),c=u.LengthSquared(),f=h.LengthSquared();if(c*f!=0){var m=k.CrossVV(u,h),_=k.DotVV(u,h),g=Q(m,_),d=k.MulSV(-1/c,u.SelfSkew(),t.s_Jd1),p=k.MulSV(1/f,h.SelfSkew(),t.s_Jd2),y=k.NegV(d,t.s_J1),C=k.SubVV(d,p,t.s_J2),v=p,I=a*k.DotVV(y,y)+A*k.DotVV(C,C)+l*k.DotVV(v,v);if(0!==I){I=1/I;for(var B=g-this.m_as[i];B>s;)B=(g-=2*s)-this.m_as[i];for(;B<-s;)B=(g+=2*s)-this.m_as[i];var E=-this.m_k3*I*B;n.SelfMulAdd(a*E,y),r.SelfMulAdd(A*E,C),o.SelfMulAdd(l*E,v)}}}}},{key:"Draw",value:function(t){for(var e=new N(.4,.5,.7),i=0;i<this.m_count-1;++i)t.DrawSegment(this.m_ps[i],this.m_ps[i+1],e)}}]),t}();Xn.s_d=new k,Xn.s_d1=new k,Xn.s_d2=new k,Xn.s_Jd1=new k,Xn.s_Jd2=new k,Xn.s_J1=new k,Xn.s_J2=new k,t.b2Assert=function(t){for(var e=arguments.length,i=new Array(e>1?e-1:0),n=1;n<e;n++)i[n-1]=arguments[n];if(!t)throw _construct(Error,i)},t.b2Maybe=e,t.b2_maxFloat=i,t.b2_epsilon=n,t.b2_epsilon_sq=r,t.b2_pi=s,t.b2_maxManifoldPoints=o,t.b2_maxPolygonVertices=a,t.b2_aabbExtension=.1,t.b2_aabbMultiplier=2,t.b2_linearSlop=A,t.b2_angularSlop=l,t.b2_polygonRadius=u,t.b2_maxSubSteps=8,t.b2_maxTOIContacts=32,t.b2_velocityThreshold=1,t.b2_maxLinearCorrection=.2,t.b2_maxAngularCorrection=.13962634015955555,t.b2_maxTranslation=2,t.b2_maxTranslationSquared=4,t.b2_maxRotation=1.570796326795,t.b2_maxRotationSquared=2.4674011002726646,t.b2_baumgarte=.2,t.b2_toiBaumgarte=.75,t.b2_invalidParticleIndex=h,t.b2_maxParticleIndex=2147483647,t.b2_particleStride=.75,t.b2_minParticleWeight=1,t.b2_maxParticlePressure=.25,t.b2_maxParticleForce=.5,t.b2_maxTriadDistance=2,t.b2_maxTriadDistanceSquared=4,t.b2_minParticleSystemBufferCapacity=256,t.b2_barrierCollisionTime=2.5,t.b2_timeToSleep=.5,t.b2_linearSleepTolerance=.01,t.b2_angularSleepTolerance=.03490658503988889,t.b2Alloc=function(t){return null},t.b2Free=function(t){},t.b2Log=function(t){},t.b2Version=c,t.b2_version=f,t.b2_branch="master",t.b2_commit="fbf51801d80fc389d43dc46524520e89043b6faf",t.b2ParseInt=function(t){return parseInt(t,10)},t.b2ParseUInt=function(t){return Math.abs(parseInt(t,10))},t.b2MakeArray=m,t.b2MakeNullArray=function(t){for(var e=[],i=0;i<t;++i)e.push(null);return e},t.b2MakeNumberArray=_,t.b2_pi_over_180=.017453292519944444,t.b2_180_over_pi=57.29577951307855,t.b2_two_pi=6.28318530718,t.b2Abs=g,t.b2Min=d,t.b2Max=p,t.b2Clamp=y,t.b2Swap=function(t,e){var i=t[0];t[0]=e[0],e[0]=i},t.b2IsValid=C,t.b2Sq=v,t.b2InvSqrt=I,t.b2Sqrt=B,t.b2Pow=E,t.b2DegToRad=function(t){return.017453292519944444*t},t.b2RadToDeg=function(t){return 57.29577951307855*t},t.b2Cos=w,t.b2Sin=b,t.b2Acos=x,t.b2Asin=S,t.b2Atan2=Q,t.b2NextPowerOfTwo=function(t){return t|=t>>1&2147483647,t|=t>>2&1073741823,t|=t>>4&268435455,1+((t|=t>>8&16777215)|t>>16&65535)},t.b2IsPowerOfTwo=function(t){return t>0&&0==(t&t-1)},t.b2Random=function(){return 2*Math.random()-1},t.b2RandomRange=function(t,e){return(e-t)*Math.random()+t},t.b2Vec2=k,t.b2Vec2_zero=D,t.b2Vec3=M,t.b2Mat22=R,t.b2Mat33=V,t.b2Rot=T,t.b2Transform=G,t.b2Sweep=P,t.b2Color=N,t.b2Draw=function(){function t(){_classCallCheck2(this,t),this.m_drawFlags=0}return _createClass2(t,[{key:"SetFlags",value:function(t){this.m_drawFlags=t}},{key:"GetFlags",value:function(){return this.m_drawFlags}},{key:"AppendFlags",value:function(t){this.m_drawFlags|=t}},{key:"ClearFlags",value:function(t){this.m_drawFlags&=~t}}]),t}(),t.b2Timer=L,t.b2Counter=function(){function t(){_classCallCheck2(this,t),this.m_count=0,this.m_min_count=0,this.m_max_count=0}return _createClass2(t,[{key:"GetCount",value:function(){return this.m_count}},{key:"GetMinCount",value:function(){return this.m_min_count}},{key:"GetMaxCount",value:function(){return this.m_max_count}},{key:"ResetCount",value:function(){var t=this.m_count;return this.m_count=0,t}},{key:"ResetMinCount",value:function(){this.m_min_count=0}},{key:"ResetMaxCount",value:function(){this.m_max_count=0}},{key:"Increment",value:function(){this.m_count++,this.m_max_count<this.m_count&&(this.m_max_count=this.m_count)}},{key:"Decrement",value:function(){this.m_count--,this.m_min_count>this.m_count&&(this.m_min_count=this.m_count)}}]),t}(),t.b2GrowableStack=U,t.b2BlockAllocator=function(){return function t(){_classCallCheck2(this,t)}}(),t.b2StackAllocator=function(){return function t(){_classCallCheck2(this,t)}}(),t.b2ContactFeature=mt,t.b2ContactID=_t,t.b2ManifoldPoint=gt,t.b2Manifold=dt,t.b2WorldManifold=pt,t.b2GetPointStates=function(e,i,n,r){var s;for(s=0;s<n.pointCount;++s){var a=n.points[s].id.key;e[s]=t.b2PointState.b2_removeState;for(var A=0,l=r.pointCount;A<l;++A)if(r.points[A].id.key===a){e[s]=t.b2PointState.b2_persistState;break}}for(;s<o;++s)e[s]=t.b2PointState.b2_nullState;for(s=0;s<r.pointCount;++s){var u=r.points[s].id.key;i[s]=t.b2PointState.b2_addState;for(var h=0,c=n.pointCount;h<c;++h)if(n.points[h].id.key===u){i[s]=t.b2PointState.b2_persistState;break}}for(;s<o;++s)i[s]=t.b2PointState.b2_nullState},t.b2ClipVertex=yt,t.b2RayCastInput=Ct,t.b2RayCastOutput=vt,t.b2AABB=It,t.b2TestOverlapAABB=Bt,t.b2ClipSegmentToLine=Et,t.b2TestOverlapShape=St,t.b2DistanceProxy=O,t.b2SimplexCache=Y,t.b2DistanceInput=H,t.b2DistanceOutput=J,t.b2ShapeCastInput=function(){return function t(){_classCallCheck2(this,t),this.proxyA=new O,this.proxyB=new O,this.transformA=new G,this.transformB=new G,this.translationB=new k}}(),t.b2ShapeCastOutput=function(){return function t(){_classCallCheck2(this,t),this.point=new k,this.normal=new k,this.lambda=0,this.iterations=0}}(),t.b2_gjk_reset=function(){t.b2_gjkCalls=0,t.b2_gjkIters=0,t.b2_gjkMaxIters=0},t.b2SimplexVertex=j,t.b2Simplex=K,t.b2Distance=it,t.b2ShapeCast=function(t,e){t.iterations=0,t.lambda=1,t.normal.SetZero(),t.point.SetZero();var i=e.proxyA,n=e.proxyB,r=p(i.m_radius,u)+p(n.m_radius,u),s=e.transformA,o=e.transformB,a=e.translationB,l=ot.Set(0,0),h=0,c=at;c.m_count=0;for(var f=c.m_vertices,m=i.GetSupport(T.MulTRV(s.q,k.NegV(a,k.s_t1),k.s_t0)),_=G.MulXV(s,i.GetVertex(m),At),d=n.GetSupport(T.MulTRV(o.q,a,k.s_t0)),y=G.MulXV(o,n.GetVertex(d),lt),C=k.SubVV(_,y,ut),v=p(u,r-u),I=.5*A,B=0;B<20&&g(C.Length()-v)>I;){t.iterations+=1,m=i.GetSupport(T.MulTRV(s.q,k.NegV(C,k.s_t1),k.s_t0)),_=G.MulXV(s,i.GetVertex(m),At),d=n.GetSupport(T.MulTRV(o.q,C,k.s_t0)),y=G.MulXV(o,n.GetVertex(d),lt);var E=k.SubVV(_,y,ht);C.Normalize();var w=k.DotVV(C,E),b=k.DotVV(C,a);if(w-v>h*b){if(b<=0)return!1;if((h=(w-v)/b)>1)return!1;l.Copy(C).SelfNeg(),c.m_count=0}var x=f[c.m_count];switch(x.indexA=d,x.wA.Copy(y).SelfMulAdd(h,a),x.indexB=m,x.wB.Copy(_),x.w.Copy(x.wB).SelfSub(x.wA),x.a=1,c.m_count+=1,c.m_count){case 1:break;case 2:c.Solve2();break;case 3:c.Solve3()}if(3===c.m_count)return!1;c.GetClosestPoint(C),++B}return c.GetWitnessPoints(ct,ft),C.LengthSquared()>0&&(l.Copy(C).SelfNeg(),l.Normalize()),t.normal.Copy(l),t.lambda=h,t.iterations=B,!0},t.b2Pair=Mt,t.b2BroadPhase=Rt,t.b2PairLessThan=Vt,t.b2TreeNode=kt,t.b2DynamicTree=Dt,t.b2_toi_reset=function(){t.b2_toiTime=0,t.b2_toiMaxTime=0,t.b2_toiCalls=0,t.b2_toiIters=0,t.b2_toiMaxIters=0,t.b2_toiRootIters=0,t.b2_toiMaxRootIters=0},t.b2TOIInput=Ht,t.b2TOIOutput=Jt,t.b2SeparationFunction=jt,t.b2TimeOfImpact=ie,t.b2CollideCircles=se,t.b2CollidePolygonAndCircle=le,t.b2CollidePolygons=Me,t.b2CollideEdgeAndCircle=Ye,t.b2CollideEdgeAndPolygon=qe,t.b2MassData=$e,t.b2Shape=ti,t.b2CircleShape=ei,t.b2PolygonShape=ii,t.b2EdgeShape=ni,t.b2ChainShape=ri,t.b2Filter=si,t.b2FixtureDef=oi,t.b2FixtureProxy=ai,t.b2Fixture=Ai,t.b2BodyDef=function(){return function e(){_classCallCheck2(this,e),this.type=t.b2BodyType.b2_staticBody,this.position=new k(0,0),this.angle=0,this.linearVelocity=new k(0,0),this.angularVelocity=0,this.linearDamping=0,this.angularDamping=0,this.allowSleep=!0,this.awake=!0,this.fixedRotation=!1,this.bullet=!1,this.active=!0,this.userData=null,this.gravityScale=1}}(),t.b2Body=li,t.b2World=Hn,t.b2DestructionListener=function(){function t(){_classCallCheck2(this,t)}return _createClass2(t,[{key:"SayGoodbyeJoint",value:function(t){}},{key:"SayGoodbyeFixture",value:function(t){}},{key:"SayGoodbyeParticleGroup",value:function(t){}},{key:"SayGoodbyeParticle",value:function(t,e){}}]),t}(),t.b2ContactFilter=Ni,t.b2ContactImpulse=Li,t.b2ContactListener=Ui,t.b2QueryCallback=Oi,t.b2RayCastCallback=function(){function t(){_classCallCheck2(this,t)}return _createClass2(t,[{key:"ReportFixture",value:function(t,e,i,n){return n}},{key:"ReportParticle",value:function(t,e,i,n,r){return 0}},{key:"ShouldQueryParticleSystem",value:function(t){return!0}}]),t}(),t.b2Island=rn,t.b2Profile=Hi,t.b2TimeStep=Ji,t.b2Position=ji,t.b2Velocity=Ki,t.b2SolverData=qi,t.b2ContactManager=Yi,t.b2MixFriction=bi,t.b2MixRestitution=xi,t.b2ContactEdge=Si,t.b2Contact=Qi,t.b2ContactRegister=Fi,t.b2ContactFactory=Pi,t.g_blockSolve=!1,t.b2VelocityConstraintPoint=zi,t.b2ContactVelocityConstraint=Xi,t.b2ContactPositionConstraint=Wi,t.b2ContactSolverDef=Zi,t.b2PositionSolverManifold=$i,t.b2ContactSolver=tn,t.b2CircleContact=ki,t.b2PolygonContact=Di,t.b2PolygonAndCircleContact=Mi,t.b2EdgeAndCircleContact=Ri,t.b2EdgeAndPolygonContact=Vi,t.b2ChainAndCircleContact=Ti,t.b2ChainAndPolygonContact=Gi,t.b2Jacobian=function(){function t(){_classCallCheck2(this,t),this.linear=new k,this.angularA=0,this.angularB=0}return _createClass2(t,[{key:"SetZero",value:function(){return this.linear.SetZero(),this.angularA=0,this.angularB=0,this}},{key:"Set",value:function(t,e,i){return this.linear.Copy(t),this.angularA=e,this.angularB=i,this}}]),t}(),t.b2JointEdge=ui,t.b2JointDef=hi,t.b2Joint=ci,t.b2AreaJointDef=function(e){function i(){var e;return _classCallCheck2(this,i),(e=_possibleConstructorReturn(this,_getPrototypeOf(i).call(this,t.b2JointType.e_areaJoint))).bodies=[],e.frequencyHz=0,e.dampingRatio=0,e}return _inherits(i,e),_createClass2(i,[{key:"AddBody",value:function(t){this.bodies.push(t),1===this.bodies.length?this.bodyA=t:2===this.bodies.length&&(this.bodyB=t)}}]),i}(hi),t.b2AreaJoint=_i,t.b2DistanceJointDef=fi,t.b2DistanceJoint=mi,t.b2FrictionJointDef=function(e){function i(){var e;return _classCallCheck2(this,i),(e=_possibleConstructorReturn(this,_getPrototypeOf(i).call(this,t.b2JointType.e_frictionJoint))).localAnchorA=new k,e.localAnchorB=new k,e.maxForce=0,e.maxTorque=0,e}return _inherits(i,e),_createClass2(i,[{key:"Initialize",value:function(t,e,i){this.bodyA=t,this.bodyB=e,this.bodyA.GetLocalPoint(i,this.localAnchorA),this.bodyB.GetLocalPoint(i,this.localAnchorB)}}]),i}(hi),t.b2FrictionJoint=gi,t.b2GearJointDef=function(e){function i(){var e;return _classCallCheck2(this,i),(e=_possibleConstructorReturn(this,_getPrototypeOf(i).call(this,t.b2JointType.e_gearJoint))).ratio=1,e}return _inherits(i,e),i}(hi),t.b2GearJoint=di,t.b2MotorJointDef=function(e){function i(){var e;return _classCallCheck2(this,i),(e=_possibleConstructorReturn(this,_getPrototypeOf(i).call(this,t.b2JointType.e_motorJoint))).linearOffset=new k(0,0),e.angularOffset=0,e.maxForce=1,e.maxTorque=1,e.correctionFactor=.3,e}return _inherits(i,e),_createClass2(i,[{key:"Initialize",value:function(t,e){this.bodyA=t,this.bodyB=e,this.bodyA.GetLocalPoint(this.bodyB.GetPosition(),this.linearOffset);var i=this.bodyA.GetAngle(),n=this.bodyB.GetAngle();this.angularOffset=n-i}}]),i}(hi),t.b2MotorJoint=pi,t.b2MouseJointDef=function(e){function i(){var e;return _classCallCheck2(this,i),(e=_possibleConstructorReturn(this,_getPrototypeOf(i).call(this,t.b2JointType.e_mouseJoint))).target=new k,e.maxForce=0,e.frequencyHz=5,e.dampingRatio=.7,e}return _inherits(i,e),i}(hi),t.b2MouseJoint=yi,t.b2PrismaticJointDef=function(e){function i(){var e;return _classCallCheck2(this,i),(e=_possibleConstructorReturn(this,_getPrototypeOf(i).call(this,t.b2JointType.e_prismaticJoint))).localAnchorA=new k,e.localAnchorB=new k,e.localAxisA=new k(1,0),e.referenceAngle=0,e.enableLimit=!1,e.lowerTranslation=0,e.upperTranslation=0,e.enableMotor=!1,e.maxMotorForce=0,e.motorSpeed=0,e}return _inherits(i,e),_createClass2(i,[{key:"Initialize",value:function(t,e,i,n){this.bodyA=t,this.bodyB=e,this.bodyA.GetLocalPoint(i,this.localAnchorA),this.bodyB.GetLocalPoint(i,this.localAnchorB),this.bodyA.GetLocalVector(n,this.localAxisA),this.referenceAngle=this.bodyB.GetAngle()-this.bodyA.GetAngle()}}]),i}(hi),t.b2PrismaticJoint=Ci,t.b2_minPulleyLength=2,t.b2PulleyJointDef=function(e){function i(){var e;return _classCallCheck2(this,i),(e=_possibleConstructorReturn(this,_getPrototypeOf(i).call(this,t.b2JointType.e_pulleyJoint))).groundAnchorA=new k(-1,1),e.groundAnchorB=new k(1,1),e.localAnchorA=new k(-1,0),e.localAnchorB=new k(1,0),e.lengthA=0,e.lengthB=0,e.ratio=1,e.collideConnected=!0,e}return _inherits(i,e),_createClass2(i,[{key:"Initialize",value:function(t,e,i,n,r,s,o){this.bodyA=t,this.bodyB=e,this.groundAnchorA.Copy(i),this.groundAnchorB.Copy(n),this.bodyA.GetLocalPoint(r,this.localAnchorA),this.bodyB.GetLocalPoint(s,this.localAnchorB),this.lengthA=k.DistanceVV(r,i),this.lengthB=k.DistanceVV(s,n),this.ratio=o}}]),i}(hi),t.b2PulleyJoint=vi,t.b2RevoluteJointDef=function(e){function i(){var e;return _classCallCheck2(this,i),(e=_possibleConstructorReturn(this,_getPrototypeOf(i).call(this,t.b2JointType.e_revoluteJoint))).localAnchorA=new k(0,0),e.localAnchorB=new k(0,0),e.referenceAngle=0,e.enableLimit=!1,e.lowerAngle=0,e.upperAngle=0,e.enableMotor=!1,e.motorSpeed=0,e.maxMotorTorque=0,e}return _inherits(i,e),_createClass2(i,[{key:"Initialize",value:function(t,e,i){this.bodyA=t,this.bodyB=e,this.bodyA.GetLocalPoint(i,this.localAnchorA),this.bodyB.GetLocalPoint(i,this.localAnchorB),this.referenceAngle=this.bodyB.GetAngle()-this.bodyA.GetAngle()}}]),i}(hi),t.b2RevoluteJoint=Ii,t.b2RopeJointDef=function(e){function i(){var e;return _classCallCheck2(this,i),(e=_possibleConstructorReturn(this,_getPrototypeOf(i).call(this,t.b2JointType.e_ropeJoint))).localAnchorA=new k(-1,0),e.localAnchorB=new k(1,0),e.maxLength=0,e}return _inherits(i,e),i}(hi),t.b2RopeJoint=Bi,t.b2WeldJointDef=function(e){function i(){var e;return _classCallCheck2(this,i),(e=_possibleConstructorReturn(this,_getPrototypeOf(i).call(this,t.b2JointType.e_weldJoint))).localAnchorA=new k,e.localAnchorB=new k,e.referenceAngle=0,e.frequencyHz=0,e.dampingRatio=0,e}return _inherits(i,e),_createClass2(i,[{key:"Initialize",value:function(t,e,i){this.bodyA=t,this.bodyB=e,this.bodyA.GetLocalPoint(i,this.localAnchorA),this.bodyB.GetLocalPoint(i,this.localAnchorB),this.referenceAngle=this.bodyB.GetAngle()-this.bodyA.GetAngle()}}]),i}(hi),t.b2WeldJoint=Ei,t.b2WheelJointDef=function(e){function i(){var e;return _classCallCheck2(this,i),(e=_possibleConstructorReturn(this,_getPrototypeOf(i).call(this,t.b2JointType.e_wheelJoint))).localAnchorA=new k(0,0),e.localAnchorB=new k(0,0),e.localAxisA=new k(1,0),e.enableMotor=!1,e.maxMotorTorque=0,e.motorSpeed=0,e.frequencyHz=2,e.dampingRatio=.7,e}return _inherits(i,e),_createClass2(i,[{key:"Initialize",value:function(t,e,i,n){this.bodyA=t,this.bodyB=e,this.bodyA.GetLocalPoint(i,this.localAnchorA),this.bodyB.GetLocalPoint(i,this.localAnchorB),this.bodyA.GetLocalVector(n,this.localAxisA)}}]),i}(hi),t.b2WheelJoint=wi,t.b2ControllerEdge=Jn,t.b2Controller=jn,t.b2BuoyancyController=function(t){function e(){var t;return _classCallCheck2(this,e),(t=_possibleConstructorReturn(this,_getPrototypeOf(e).apply(this,arguments))).normal=new k(0,1),t.offset=0,t.density=0,t.velocity=new k(0,0),t.linearDrag=0,t.angularDrag=0,t.useDensity=!1,t.useWorldGravity=!0,t.gravity=new k(0,0),t}return _inherits(e,t),_createClass2(e,[{key:"Step",value:function(t){if(this.m_bodyList){this.useWorldGravity&&this.gravity.Copy(this.m_bodyList.body.GetWorld().GetGravity());for(var e=this.m_bodyList;e;e=e.nextBody){var i=e.body;if(i.IsAwake()){for(var r=new k,s=new k,o=0,a=0,A=i.GetFixtureList();A;A=A.m_next){var l=new k,u=A.GetShape().ComputeSubmergedArea(this.normal,this.offset,i.GetTransform(),l);o+=u,r.x+=u*l.x,r.y+=u*l.y;var h;a+=u*(h=this.useDensity?A.GetDensity():1),s.x+=u*l.x*h,s.y+=u*l.y*h}if(r.x/=o,r.y/=o,s.x/=a,s.y/=a,!(o<n)){var c=this.gravity.Clone().SelfNeg();c.SelfMul(this.density*o),i.ApplyForce(c,s);var f=i.GetLinearVelocityFromWorldPoint(r,new k);f.SelfSub(this.velocity),f.SelfMul(-this.linearDrag*o),i.ApplyForce(f,r),i.ApplyTorque(-i.GetInertia()/i.GetMass()*o*i.GetAngularVelocity()*this.angularDrag)}}}}}},{key:"Draw",value:function(t){var e=100,i=new k,n=new k;i.x=this.normal.x*this.offset+this.normal.y*e,i.y=this.normal.y*this.offset-this.normal.x*e,n.x=this.normal.x*this.offset-this.normal.y*e,n.y=this.normal.y*this.offset+this.normal.x*e;var r=new N(0,0,.8);t.DrawSegment(i,n,r)}}]),e}(jn),t.b2ConstantAccelController=Kn,t.b2ConstantForceController=function(t){function e(){var t;return _classCallCheck2(this,e),(t=_possibleConstructorReturn(this,_getPrototypeOf(e).apply(this,arguments))).F=new k(0,0),t}return _inherits(e,t),_createClass2(e,[{key:"Step",value:function(t){for(var e=this.m_bodyList;e;e=e.nextBody){var i=e.body;i.IsAwake()&&i.ApplyForce(this.F,i.GetWorldCenter())}}},{key:"Draw",value:function(t){}}]),e}(jn),t.b2GravityController=qn,t.b2TensorDampingController=zn,t.b2ParticleDef=sn,t.b2CalculateParticleIterations=on,t.b2ParticleHandle=an,t.b2ParticleGroupDef=An,t.b2ParticleGroup=ln,t.b2GrowableBuffer=In,t.b2FixtureParticleQueryCallback=Bn,t.b2ParticleContact=En,t.b2ParticleBodyContact=wn,t.b2ParticlePair=bn,t.b2ParticleTriad=xn,t.b2ParticleSystemDef=Sn,t.b2ParticleSystem=Qn,t.b2ParticleSystem_UserOverridableBuffer=kn,t.b2ParticleSystem_Proxy=Dn,t.b2ParticleSystem_InsideBoundsEnumerator=Mn,t.b2ParticleSystem_ParticleListNode=Rn,t.b2ParticleSystem_FixedSetAllocator=Vn,t.b2ParticleSystem_FixtureParticle=function(){return function t(e,i){_classCallCheck2(this,t),this.second=h,this.first=e,this.second=i}}(),t.b2ParticleSystem_FixtureParticleSet=Tn,t.b2ParticleSystem_ParticlePair=function(){return function t(e,i){_classCallCheck2(this,t),this.first=h,this.second=h,this.first=e,this.second=i}}(),t.b2ParticlePairSet=Gn,t.b2ParticleSystem_ConnectionFilter=Fn,t.b2ParticleSystem_DestroyParticlesInShapeCallback=Pn,t.b2ParticleSystem_JoinParticleGroupsFilter=Nn,t.b2ParticleSystem_CompositeShape=Ln,t.b2ParticleSystem_ReactiveFilter=Un,t.b2ParticleSystem_UpdateBodyContactsCallback=On,t.b2ParticleSystem_SolveCollisionCallback=Yn,t.b2RopeDef=function(){return function t(){_classCallCheck2(this,t),this.vertices=[],this.count=0,this.masses=[],this.gravity=new k(0,0),this.damping=.1,this.k2=.9,this.k3=.1}}(),t.b2Rope=Xn,Object.defineProperty(t,"__esModule",{value:!0})}(e)},"i/Fw":function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.MapSchema=function t(e){var i=this;for(var n in void 0===e&&(e={}),e)this[n]=e[n];Object.defineProperties(this,{$changes:{value:void 0,enumerable:!1,writable:!0},onAdd:{value:void 0,enumerable:!1,writable:!0},onRemove:{value:void 0,enumerable:!1,writable:!0},onChange:{value:void 0,enumerable:!1,writable:!0},clone:{value:function(e){var n;if(e)(n=Object.assign(new t,i)).onAdd=i.onAdd,n.onRemove=i.onRemove,n.onChange=i.onChange;else{var r=new t;for(var s in i)r[s]="object"==typeof i[s]?i[s].clone():i[s]}return n}},triggerAll:{value:function(){if(i.onAdd)for(var t in i)i.onAdd(i[t],t)}},toJSON:{value:function(){var t={};for(var e in i)t[e]="function"==typeof i[e].toJSON?i[e].toJSON():i[e];return t}},_indexes:{value:new Map,enumerable:!1,writable:!0},_updateIndexes:{value:function(t){for(var e=0,n=new Map,r=0,s=t;r<s.length;r++)n.set(s[r],e++);i._indexes=n}}})}},ibR2:function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=i("5UGa");e.Schema=n.Schema;var r=i("i/Fw");e.MapSchema=r.MapSchema;var s=i("KFww");e.ArraySchema=s.ArraySchema;var o=i("m/et");e.Reflection=o.Reflection,e.ReflectionType=o.ReflectionType,e.ReflectionField=o.ReflectionField;var a=i("/F7G");e.type=a.type,e.deprecated=a.deprecated,e.filter=a.filter,e.defineTypes=a.defineTypes,e.Context=a.Context},ihw8:function(t,e,i){"use strict";var n,r=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])})(t,e)},function(t,e){function i(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)});Object.defineProperty(e,"__esModule",{value:!0});var s=function(t){function e(i){var n=t.call(this,i)||this;return n.message=i,Object.setPrototypeOf(n,e.prototype),n.name=n.constructor.name,n.stack=(new Error).stack,n}return r(e,t),e}(Error);e.ClipperError=s},jFue:function(t,e,i){"use strict";var n=Object.prototype.hasOwnProperty,r="~";function s(){}function o(t,e,i){this.fn=t,this.context=e,this.once=i||!1}function a(t,e,i,n,s){if("function"!=typeof i)throw new TypeError("The listener must be a function");var a=new o(i,n||t,s),A=r?r+e:e;return t._events[A]?t._events[A].fn?t._events[A]=[t._events[A],a]:t._events[A].push(a):(t._events[A]=a,t._eventsCount++),t}function A(t,e){0==--t._eventsCount?t._events=new s:delete t._events[e]}function l(){this._events=new s,this._eventsCount=0}Object.create&&(s.prototype=Object.create(null),(new s).__proto__||(r=!1)),l.prototype.eventNames=function(){var t,e,i=[];if(0===this._eventsCount)return i;for(e in t=this._events)n.call(t,e)&&i.push(r?e.slice(1):e);return Object.getOwnPropertySymbols?i.concat(Object.getOwnPropertySymbols(t)):i},l.prototype.listeners=function(t){var e=this._events[r?r+t:t];if(!e)return[];if(e.fn)return[e.fn];for(var i=0,n=e.length,s=new Array(n);i<n;i++)s[i]=e[i].fn;return s},l.prototype.listenerCount=function(t){var e=this._events[r?r+t:t];return e?e.fn?1:e.length:0},l.prototype.emit=function(t,e,i,n,s,o){var a=r?r+t:t;if(!this._events[a])return!1;var A,l,u=this._events[a],h=arguments.length;if(u.fn){switch(u.once&&this.removeListener(t,u.fn,void 0,!0),h){case 1:return u.fn.call(u.context),!0;case 2:return u.fn.call(u.context,e),!0;case 3:return u.fn.call(u.context,e,i),!0;case 4:return u.fn.call(u.context,e,i,n),!0;case 5:return u.fn.call(u.context,e,i,n,s),!0;case 6:return u.fn.call(u.context,e,i,n,s,o),!0}for(l=1,A=new Array(h-1);l<h;l++)A[l-1]=arguments[l];u.fn.apply(u.context,A)}else{var c,f=u.length;for(l=0;l<f;l++)switch(u[l].once&&this.removeListener(t,u[l].fn,void 0,!0),h){case 1:u[l].fn.call(u[l].context);break;case 2:u[l].fn.call(u[l].context,e);break;case 3:u[l].fn.call(u[l].context,e,i);break;case 4:u[l].fn.call(u[l].context,e,i,n);break;default:if(!A)for(c=1,A=new Array(h-1);c<h;c++)A[c-1]=arguments[c];u[l].fn.apply(u[l].context,A)}}return!0},l.prototype.on=function(t,e,i){return a(this,t,e,i,!1)},l.prototype.once=function(t,e,i){return a(this,t,e,i,!0)},l.prototype.removeListener=function(t,e,i,n){var s=r?r+t:t;if(!this._events[s])return this;if(!e)return A(this,s),this;var o=this._events[s];if(o.fn)o.fn!==e||n&&!o.once||i&&o.context!==i||A(this,s);else{for(var a=0,l=[],u=o.length;a<u;a++)(o[a].fn!==e||n&&!o[a].once||i&&o[a].context!==i)&&l.push(o[a]);l.length?this._events[s]=1===l.length?l[0]:l:A(this,s)}return this},l.prototype.removeAllListeners=function(t){var e;return t?this._events[e=r?r+t:t]&&A(this,e):(this._events=new s,this._eventsCount=0),this},l.prototype.off=l.prototype.removeListener,l.prototype.addListener=l.prototype.on,l.prefixed=r,l.EventEmitter=l,t.exports=l},jZKg:function(t,e,i){"use strict";i.d(e,"a",(function(){return s}));var n=i("HDdC"),r=i("quSY");function s(t,e){return new n.a((function(i){var n=new r.a,s=0;return n.add(e.schedule((function(){s!==t.length?(i.next(t[s++]),i.closed||n.add(this.schedule())):i.complete()}))),n}))}},kJWO:function(t,e,i){"use strict";i.d(e,"a",(function(){return n}));var n="function"==typeof Symbol&&Symbol.observable||"@@observable"},kgUQ:function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=i("WrXh"),r=i("X9PU");function s(t,e){for(var i=e.length,s=1,o=0;o<i;o++)s+=r.getNofItemsForPath(e[o]);var a=n.mallocDoubleArray(t,s);a[0]=i;var A=1;for(o=0;o<i;o++)A=r.writePathToDoubleArray(e[o],a,A);return a}function o(t,e,i){var r=new t.Paths;return t.toPaths(r,e.byteOffset),i&&n.freeTypedArray(t,e),r}function a(t,e,i){var n=t.fromPaths(e);return i&&e.delete(),n}function A(t,e,i){var s=e[0],o=[];o.length=s;for(var a=1,A=0;A<s;A++){var l=r.doubleArrayToPath(t,e,!1,a);o[A]=l.path,a=l.ptrEnd}return i&&n.freeTypedArray(t,e),o}e.pathsToDoubleArray=s,e.doubleArrayToNativePaths=o,e.pathsToNativePaths=function(t,e){return o(t,s(t,e),!0)},e.nativePathsToDoubleArray=a,e.doubleArrayToPaths=A,e.nativePathsToPaths=function(t,e,i){return A(t,a(t,e,i),!0)}},l7GE:function(t,e,i){"use strict";i.d(e,"a",(function(){return n}));var n=function(t){function e(){return _classCallCheck2(this,e),_possibleConstructorReturn(this,_getPrototypeOf(e).apply(this,arguments))}return _inherits(e,t),_createClass2(e,[{key:"notifyNext",value:function(t,e,i,n,r){this.destination.next(e)}},{key:"notifyError",value:function(t,e){this.destination.error(t)}},{key:"notifyComplete",value:function(t){this.destination.complete()}}]),e}(i("7o/Q").a)},lJxs:function(t,e,i){"use strict";i.d(e,"a",(function(){return r}));var n=i("7o/Q");function r(t,e){return function(i){if("function"!=typeof t)throw new TypeError("argument is not a function. Are you looking for `mapTo()`?");return i.lift(new s(t,e))}}var s=function(){function t(e,i){_classCallCheck2(this,t),this.project=e,this.thisArg=i}return _createClass2(t,[{key:"call",value:function(t,e){return e.subscribe(new o(t,this.project,this.thisArg))}}]),t}(),o=function(t){function e(t,i,n){var r;return _classCallCheck2(this,e),(r=_possibleConstructorReturn(this,_getPrototypeOf(e).call(this,t))).project=i,r.count=0,r.thisArg=n||_assertThisInitialized(r),r}return _inherits(e,t),_createClass2(e,[{key:"_next",value:function(t){var e;try{e=this.project.call(this.thisArg,t,this.count++)}catch(i){return void this.destination.error(i)}this.destination.next(e)}}]),e}(n.a)},"m/et":function(t,e,i){"use strict";var n,r=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])})(t,e)},function(t,e){function i(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)}),s=this&&this.__decorate||function(t,e,i,n){var r,s=arguments.length,o=s<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,i):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(t,e,i,n);else for(var a=t.length-1;a>=0;a--)(r=t[a])&&(o=(s<3?r(o):s>3?r(e,i,o):r(e,i))||o);return s>3&&o&&Object.defineProperty(e,i,o),o};Object.defineProperty(e,"__esModule",{value:!0});var o=i("/F7G"),a=i("5UGa"),A=i("KFww"),l=i("i/Fw"),u=new o.Context,h=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return r(e,t),s([o.type("string",u)],e.prototype,"name",void 0),s([o.type("string",u)],e.prototype,"type",void 0),s([o.type("uint8",u)],e.prototype,"referencedType",void 0),e}(a.Schema);e.ReflectionField=h;var c=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.fields=new A.ArraySchema,e}return r(e,t),s([o.type("uint8",u)],e.prototype,"id",void 0),s([o.type([h],u)],e.prototype,"fields",void 0),e}(a.Schema);e.ReflectionType=c;var f=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.types=new A.ArraySchema,e}return r(e,t),e.encode=function(t){var i=t.constructor,n=new e;n.rootType=i._typeid;var r=function(t,e){for(var i in e){var r=new h;r.name=i;var s=void 0;if("string"==typeof e[i])s=e[i];else{var o="function"==typeof e[i],a=Array.isArray(e[i]),A=void 0;o?(s="ref",A=e[i]):a?(s="array","string"==typeof e[i][0]?s+=":"+e[i][0]:A=e[i][0]):!a&&e[i].map&&(s="map","string"==typeof e[i].map?s+=":"+e[i].map:A=e[i].map),r.referencedType=A?A._typeid:255}r.type=s,t.fields.push(r)}n.types.push(t)},s=i._context.types;for(var o in s){var a=new c;a.id=Number(o),r(a,s[o]._schema)}return n.encodeAll()},e.decode=function(t){var i=new o.Context,n=new e;n.decode(t);var s=n.types.reduce((function(t,e){return t[e.id]=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return r(e,t),e}(a.Schema),t}),{});n.types.forEach((function(t,e){t.fields.forEach((function(e){var n=s[t.id];if(void 0!==e.referencedType){var r=s[e.referencedType];r||(r=e.type.split(":")[1]),0===e.type.indexOf("array")?o.type([r],i)(n.prototype,e.name):0===e.type.indexOf("map")?o.type({map:r},i)(n.prototype,e.name):"ref"===e.type&&o.type(r,i)(n.prototype,e.name)}else o.type(e.type,i)(n.prototype,e.name)}))}));var u=s[n.rootType],h=new u;for(var c in u._schema){var f=u._schema[c];if("string"!=typeof f){var m="function"==typeof f,_=Array.isArray(f),g=!_&&f.map;h[c]=_?new A.ArraySchema:g?new l.MapSchema:m?new f:void 0}}return h},s([o.type([c],u)],e.prototype,"types",void 0),s([o.type("uint8",u)],e.prototype,"rootType",void 0),e}(a.Schema);e.Reflection=f},mCNh:function(t,e,i){"use strict";i.d(e,"a",(function(){return r})),i.d(e,"b",(function(){return s}));var n=i("KqfI");function r(){for(var t=arguments.length,e=new Array(t),i=0;i<t;i++)e[i]=arguments[i];return s(e)}function s(t){return t?1===t.length?t[0]:function(e){return t.reduce((function(t,e){return e(t)}),e)}:n.a}},mzIk:function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=i("oLdw"),r=function(){function t(t){this.listeners=[],this.matcherPlaceholders={":id":/^([a-zA-Z0-9\-_]+)$/,":number":/^([0-9]+)$/,":string":/^(\w+)$/,":axis":/^([xyz])$/,":*":/(.*)/},this.state=t,this.reset()}return t.prototype.set=function(t){var e=n.compare(this.state,t);return this.state=t,this.checkPatches(e,this.listeners,this.defaultListener),e},t.prototype.registerPlaceholder=function(t,e){this.matcherPlaceholders[t]=e},t.prototype.listen=function(t,e,i){var r,s=this;"function"==typeof t?(r=[],e=t):r=t.split("/"),e.length>1&&console.warn(".listen() accepts only one parameter.");var o={callback:e,rawRules:r,rules:r.map((function(t){return"string"==typeof t?0===t.indexOf(":")?s.matcherPlaceholders[t]||s.matcherPlaceholders[":*"]:new RegExp("^"+t+"$"):t}))};return 0===r.length?this.defaultListener=o:this.listeners.push(o),i&&this.checkPatches(n.compare({},this.state),[o]),o},t.prototype.removeListener=function(t){for(var e=this.listeners.length-1;e>=0;e--)this.listeners[e]===t&&this.listeners.splice(e,1)},t.prototype.removeAllListeners=function(){this.reset()},t.prototype.checkPatches=function(t,e,i){for(var n=0,r=e.length;n<r;n++)for(var s=e[n],o=t.length-1;o>=0;o--){var a=s&&this.getPathVariables(t[o],s);a&&(s.callback({path:a,rawPath:t[o].path,operation:t[o].operation,value:t[o].value}),t[o].matched=!0)}if(i)for(o=t.length-1;o>=0;o--)t[o].matched||i.callback(t[o])},t.prototype.getPathVariables=function(t,e){if(t.path.length!==e.rules.length)return!1;for(var i={},n=0,r=e.rules.length;n<r;n++){var s=t.path[n].match(e.rules[n]);if(!s||0===s.length||s.length>2)return!1;":"===e.rawRules[n].substr(0,1)&&(i[e.rawRules[n].substr(1)]=s[1])}return i},t.prototype.reset=function(){this.listeners=[]},t}();e.StateContainer=r},n6bG:function(t,e,i){"use strict";function n(t){return"function"==typeof t}i.d(e,"a",(function(){return n}))},ner8:function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.createBackoff=function(t,e){return new r(n[t],e)};var n={exponential:function(t,e){return Math.floor(Math.random()*Math.pow(2,t)*e)},fibonacci:function(t,e){if(t>(n=1))for(var i=1,n=2,r=2;r<t;r++){var s=i+n;i=n,n=s}return Math.floor(Math.random()*n*e)}};function r(t,e){this.func=t,this.attempts=0,this.delay=void 0!==e.initialDelay?e.initialDelay:100}r.prototype.backoff=function(){setTimeout(this.onReady,this.func(++this.attempts,this.delay))}},ngJS:function(t,e,i){"use strict";i.d(e,"a",(function(){return n}));var n=function(t){return function(e){for(var i=0,n=t.length;i<n&&!e.closed;i++)e.next(t[i]);e.complete()}}},oBUJ:function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=function(){function t(){this.handlers=[]}return t.prototype.register=function(t,e){return void 0===e&&(e=!1),this.handlers.push(t),this},t.prototype.invoke=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];this.handlers.forEach((function(e){return e.apply(void 0,t)}))},t.prototype.invokeAsync=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return Promise.all(this.handlers.map((function(e){return e.apply(void 0,t)})))},t.prototype.remove=function(t){var e=this.handlers.indexOf(t);this.handlers[e]=this.handlers[this.handlers.length-1],this.handlers.pop()},t.prototype.clear=function(){this.handlers=[]},t}();e.EventEmitter=n,e.createSignal=function(){var t=new n;function e(e){return t.register(e,null===this)}return e.once=function(e){t.register((function i(){for(var n=[],r=0;r<arguments.length;r++)n[r]=arguments[r];e.apply(void 0,n),t.remove(i)}))},e.remove=function(e){return t.remove(e)},e.invoke=function(){for(var e=[],i=0;i<arguments.length;i++)e[i]=arguments[i];return t.invoke.apply(t,e)},e.invokeAsync=function(){for(var e=[],i=0;i<arguments.length;i++)e[i]=arguments[i];return t.invokeAsync.apply(t,e)},e.clear=function(){return t.clear()},e}},"oG+F":function(t,e,i){"use strict";e.decode=e.parse=i("2SUM"),e.encode=e.stringify=i("VmUl")},oLdw:function(t,e,i){"use strict";function n(t,e){var i=t.slice();return i.push(e),i}function r(t){if(Array.isArray(t)){for(var e=new Array(t.length),i=0;i<e.length;i++)e[i]=""+i;return e}if(Object.keys)return Object.keys(t);var n=[];for(var r in t)t.hasOwnProperty(r)&&n.push(r);return n}Object.defineProperty(e,"__esModule",{value:!0}),e.compare=function(t,e){var i=[];return function t(e,i,s,o){for(var a=r(i),A=r(e),l=!1,u=A.length-1;u>=0;u--){var h=e[f=A[u]];if(!i.hasOwnProperty(f)||void 0===i[f]&&void 0!==h&&!1===Array.isArray(i))s.push({operation:"remove",path:n(o,f)}),l=!0;else{var c=i[f];"object"==typeof h&&null!=h&&"object"==typeof c&&null!=c?t(h,c,s,n(o,f)):h!==c&&s.push({operation:"replace",path:n(o,f),value:c,previousValue:h})}}if(l||a.length!=A.length)for(u=a.length-1;u>=0;u--){var f;if(!e.hasOwnProperty(f=a[u])&&void 0!==i[f]){c=i[f];var m=n(o,f);"object"==typeof c&&null!=c&&t({},c,s,m),s.push({operation:"add",path:m,value:c})}}}(t,e,i,[]),i}},ofXK:function(t,e,i){"use strict";i.d(e,"a",(function(){return C})),i.d(e,"b",(function(){return D})),i.d(e,"c",(function(){return A})),i.d(e,"d",(function(){return I})),i.d(e,"e",(function(){return h})),i.d(e,"f",(function(){return B})),i.d(e,"g",(function(){return p})),i.d(e,"h",(function(){return v})),i.d(e,"i",(function(){return l})),i.d(e,"j",(function(){return T})),i.d(e,"k",(function(){return V})),i.d(e,"l",(function(){return a})),i.d(e,"m",(function(){return M})),i.d(e,"n",(function(){return s})),i.d(e,"o",(function(){return k})),i.d(e,"p",(function(){return o}));var n=i("fXoL"),r=null;function s(){return r}function o(t){r||(r=t)}var a=function t(){_classCallCheck2(this,t)},A=new n.p("DocumentToken"),l=function(){var t=function t(){_classCallCheck2(this,t)};return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=n.Bb({token:t,factory:function(){return u()},providedIn:"platform"}),t.\u0275prov=Object(n.Bb)({factory:u,token:t,providedIn:"platform"}),t}();function u(){return Object(n.Kb)(c)}var h=new n.p("Location Initialized"),c=function(){var t=function(t){function e(t){var i;return _classCallCheck2(this,e),(i=_possibleConstructorReturn(this,_getPrototypeOf(e).call(this)))._doc=t,i._init(),i}return _inherits(e,t),_createClass2(e,[{key:"_init",value:function(){this.location=s().getLocation(),this._history=s().getHistory()}},{key:"getBaseHrefFromDOM",value:function(){return s().getBaseHref(this._doc)}},{key:"onPopState",value:function(t){s().getGlobalEventTarget(this._doc,"window").addEventListener("popstate",t,!1)}},{key:"onHashChange",value:function(t){s().getGlobalEventTarget(this._doc,"window").addEventListener("hashchange",t,!1)}},{key:"pushState",value:function(t,e,i){f()?this._history.pushState(t,e,i):this.location.hash=i}},{key:"replaceState",value:function(t,e,i){f()?this._history.replaceState(t,e,i):this.location.hash=i}},{key:"forward",value:function(){this._history.forward()}},{key:"back",value:function(){this._history.back()}},{key:"getState",value:function(){return this._history.state}},{key:"href",get:function(){return this.location.href}},{key:"protocol",get:function(){return this.location.protocol}},{key:"hostname",get:function(){return this.location.hostname}},{key:"port",get:function(){return this.location.port}},{key:"pathname",get:function(){return this.location.pathname},set:function(t){this.location.pathname=t}},{key:"search",get:function(){return this.location.search}},{key:"hash",get:function(){return this.location.hash}}]),e}(l);return t.\u0275fac=function(e){return new(e||t)(n.Kb(A))},t.\u0275prov=n.Bb({token:t,factory:function(){return m()},providedIn:"platform"}),t.\u0275prov=Object(n.Bb)({factory:m,token:t,providedIn:"platform"}),t}();function f(){return!!window.history.pushState}function m(){return new c(Object(n.Kb)(A))}function _(t,e){if(0==t.length)return e;if(0==e.length)return t;var i=0;return t.endsWith("/")&&i++,e.startsWith("/")&&i++,2==i?t+e.substring(1):1==i?t+e:t+"/"+e}function g(t){var e=t.match(/#|\?|$/),i=e&&e.index||t.length;return t.slice(0,i-("/"===t[i-1]?1:0))+t.slice(i)}function d(t){return t&&"?"!==t[0]?"?"+t:t}var p=function(){var t=function t(){_classCallCheck2(this,t)};return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=n.Bb({token:t,factory:function(){return y()},providedIn:"root"}),t.\u0275prov=Object(n.Bb)({factory:y,token:t,providedIn:"root"}),t}();function y(t){var e=Object(n.Kb)(A).location;return new v(Object(n.Kb)(l),e&&e.origin||"")}var C=new n.p("appBaseHref"),v=function(){var t=function(t){function e(t,i){var n;if(_classCallCheck2(this,e),(n=_possibleConstructorReturn(this,_getPrototypeOf(e).call(this)))._platformLocation=t,null==i&&(i=n._platformLocation.getBaseHrefFromDOM()),null==i)throw new Error("No base href set. Please provide a value for the APP_BASE_HREF token or add a base element to the document.");return n._baseHref=i,_possibleConstructorReturn(n)}return _inherits(e,t),_createClass2(e,[{key:"onPopState",value:function(t){this._platformLocation.onPopState(t),this._platformLocation.onHashChange(t)}},{key:"getBaseHref",value:function(){return this._baseHref}},{key:"prepareExternalUrl",value:function(t){return _(this._baseHref,t)}},{key:"path",value:function(){var t=arguments.length>0&&void 0!==arguments[0]&&arguments[0],e=this._platformLocation.pathname+d(this._platformLocation.search),i=this._platformLocation.hash;return i&&t?"".concat(e).concat(i):e}},{key:"pushState",value:function(t,e,i,n){var r=this.prepareExternalUrl(i+d(n));this._platformLocation.pushState(t,e,r)}},{key:"replaceState",value:function(t,e,i,n){var r=this.prepareExternalUrl(i+d(n));this._platformLocation.replaceState(t,e,r)}},{key:"forward",value:function(){this._platformLocation.forward()}},{key:"back",value:function(){this._platformLocation.back()}}]),e}(p);return t.\u0275fac=function(e){return new(e||t)(n.Kb(l),n.Kb(C,8))},t.\u0275prov=n.Bb({token:t,factory:function(e){return t.\u0275fac(e)},providedIn:null}),t}(),I=function(){var t=function(t){function e(t,i){var n;return _classCallCheck2(this,e),(n=_possibleConstructorReturn(this,_getPrototypeOf(e).call(this)))._platformLocation=t,n._baseHref="",null!=i&&(n._baseHref=i),n}return _inherits(e,t),_createClass2(e,[{key:"onPopState",value:function(t){this._platformLocation.onPopState(t),this._platformLocation.onHashChange(t)}},{key:"getBaseHref",value:function(){return this._baseHref}},{key:"path",value:function(){arguments.length>0&&void 0!==arguments[0]&&arguments[0];var t=this._platformLocation.hash;return null==t&&(t="#"),t.length>0?t.substring(1):t}},{key:"prepareExternalUrl",value:function(t){var e=_(this._baseHref,t);return e.length>0?"#"+e:e}},{key:"pushState",value:function(t,e,i,n){var r=this.prepareExternalUrl(i+d(n));0==r.length&&(r=this._platformLocation.pathname),this._platformLocation.pushState(t,e,r)}},{key:"replaceState",value:function(t,e,i,n){var r=this.prepareExternalUrl(i+d(n));0==r.length&&(r=this._platformLocation.pathname),this._platformLocation.replaceState(t,e,r)}},{key:"forward",value:function(){this._platformLocation.forward()}},{key:"back",value:function(){this._platformLocation.back()}}]),e}(p);return t.\u0275fac=function(e){return new(e||t)(n.Kb(l),n.Kb(C,8))},t.\u0275prov=n.Bb({token:t,factory:function(e){return t.\u0275fac(e)},providedIn:null}),t}(),B=function(){var t=function(){function t(e,i){var r=this;_classCallCheck2(this,t),this._subject=new n.m,this._urlChangeListeners=[],this._platformStrategy=e;var s=this._platformStrategy.getBaseHref();this._platformLocation=i,this._baseHref=g(w(s)),this._platformStrategy.onPopState((function(t){r._subject.emit({url:r.path(!0),pop:!0,state:t.state,type:t.type})}))}return _createClass2(t,[{key:"path",value:function(){var t=arguments.length>0&&void 0!==arguments[0]&&arguments[0];return this.normalize(this._platformStrategy.path(t))}},{key:"getState",value:function(){return this._platformLocation.getState()}},{key:"isCurrentPathEqualTo",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";return this.path()==this.normalize(t+d(e))}},{key:"normalize",value:function(e){return t.stripTrailingSlash(function(t,e){return t&&e.startsWith(t)?e.substring(t.length):e}(this._baseHref,w(e)))}},{key:"prepareExternalUrl",value:function(t){return t&&"/"!==t[0]&&(t="/"+t),this._platformStrategy.prepareExternalUrl(t)}},{key:"go",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;this._platformStrategy.pushState(i,"",t,e),this._notifyUrlChangeListeners(this.prepareExternalUrl(t+d(e)),i)}},{key:"replaceState",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;this._platformStrategy.replaceState(i,"",t,e),this._notifyUrlChangeListeners(this.prepareExternalUrl(t+d(e)),i)}},{key:"forward",value:function(){this._platformStrategy.forward()}},{key:"back",value:function(){this._platformStrategy.back()}},{key:"onUrlChange",value:function(t){var e=this;this._urlChangeListeners.push(t),this.subscribe((function(t){e._notifyUrlChangeListeners(t.url,t.state)}))}},{key:"_notifyUrlChangeListeners",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",e=arguments.length>1?arguments[1]:void 0;this._urlChangeListeners.forEach((function(i){return i(t,e)}))}},{key:"subscribe",value:function(t,e,i){return this._subject.subscribe({next:t,error:e,complete:i})}}]),t}();return t.\u0275fac=function(e){return new(e||t)(n.Kb(p),n.Kb(l))},t.\u0275prov=n.Bb({token:t,factory:function(){return E()},providedIn:"root"}),t.normalizeQueryParams=d,t.joinWithSlash=_,t.stripTrailingSlash=g,t.\u0275prov=Object(n.Bb)({factory:E,token:t,providedIn:"root"}),t}();function E(){return new B(Object(n.Kb)(p),Object(n.Kb)(l))}function w(t){return t.replace(/\/index.html$/,"")}var b=function(){var t={Zero:0,One:1,Two:2,Few:3,Many:4,Other:5};return t[t.Zero]="Zero",t[t.One]="One",t[t.Two]="Two",t[t.Few]="Few",t[t.Many]="Many",t[t.Other]="Other",t}(),x=n.ib,S=function t(){_classCallCheck2(this,t)},Q=function(){var t=function(t){function e(t){var i;return _classCallCheck2(this,e),(i=_possibleConstructorReturn(this,_getPrototypeOf(e).call(this))).locale=t,i}return _inherits(e,t),_createClass2(e,[{key:"getPluralCategory",value:function(t,e){switch(x(e||this.locale)(t)){case b.Zero:return"zero";case b.One:return"one";case b.Two:return"two";case b.Few:return"few";case b.Many:return"many";default:return"other"}}}]),e}(S);return t.\u0275fac=function(e){return new(e||t)(n.Kb(n.t))},t.\u0275prov=n.Bb({token:t,factory:function(e){return t.\u0275fac(e)},providedIn:null}),t}();function k(t,e){e=encodeURIComponent(e);var i=!0,n=!1,r=void 0;try{for(var s,o=t.split(";")[Symbol.iterator]();!(i=(s=o.next()).done);i=!0){var a=s.value,A=a.indexOf("="),l=_slicedToArray(-1==A?[a,""]:[a.slice(0,A),a.slice(A+1)],2),u=l[0],h=l[1];if(u.trim()===e)return decodeURIComponent(h)}}catch(c){n=!0,r=c}finally{try{i||null==o.return||o.return()}finally{if(n)throw r}}return null}var D=function(){var t=function t(){_classCallCheck2(this,t)};return t.\u0275mod=n.Db({type:t}),t.\u0275inj=n.Cb({factory:function(e){return new(e||t)},providers:[{provide:S,useClass:Q}]}),t}(),M="browser",R="server";function V(t){return t===R}var T=function(){var t=function t(){_classCallCheck2(this,t)};return t.\u0275prov=Object(n.Bb)({token:t,providedIn:"root",factory:function(){return new G(Object(n.Kb)(A),window,Object(n.Kb)(n.l))}}),t}(),G=function(){function t(e,i,n){_classCallCheck2(this,t),this.document=e,this.window=i,this.errorHandler=n,this.offset=function(){return[0,0]}}return _createClass2(t,[{key:"setOffset",value:function(t){this.offset=Array.isArray(t)?function(){return t}:t}},{key:"getScrollPosition",value:function(){return this.supportScrollRestoration()?[this.window.scrollX,this.window.scrollY]:[0,0]}},{key:"scrollToPosition",value:function(t){this.supportScrollRestoration()&&this.window.scrollTo(t[0],t[1])}},{key:"scrollToAnchor",value:function(t){if(this.supportScrollRestoration()){t=this.window.CSS&&this.window.CSS.escape?this.window.CSS.escape(t):t.replace(/(\"|\'\ |:|\.|\[|\]|,|=)/g,"\\$1");try{var e=this.document.querySelector("#".concat(t));if(e)return void this.scrollToElement(e);var i=this.document.querySelector("[name='".concat(t,"']"));if(i)return void this.scrollToElement(i)}catch(n){this.errorHandler.handleError(n)}}}},{key:"setHistoryScrollRestoration",value:function(t){if(this.supportScrollRestoration()){var e=this.window.history;e&&e.scrollRestoration&&(e.scrollRestoration=t)}}},{key:"scrollToElement",value:function(t){var e=t.getBoundingClientRect(),i=e.left+this.window.pageXOffset,n=e.top+this.window.pageYOffset,r=this.offset();this.window.scrollTo(i-r[0],n-r[1])}},{key:"supportScrollRestoration",value:function(){try{return!!this.window&&!!this.window.scrollTo}catch(t){return!1}}}]),t}()},q0nz:function(t,e,i){!function(t){"use strict";t.hxGeomAlgo=t.hxGeomAlgo||{},t.hxGeomAlgo._HxPoint=t.hxGeomAlgo._HxPoint||{};var e=function(){};e.__name__=!0,e.iter=function(t){return{cur:0,arr:t,hasNext:function(){return this.cur<this.arr.length},next:function(){return this.arr[this.cur++]}}},Math.__name__=!0;var i=function(){};i.__name__=!0,i.string=function(t){return y.__string_rec(t,"")};var n=function(){};n.__name__=!0,n.getEnumName=function(t){return t.__ename__.join(".")};var r=function(){};r.__name__=!0;var s=function(){this.h={}};s.__name__=!0,s.__interfaces__=[r],s.prototype={keys:function(){var t=[];for(var i in this.h)this.h.hasOwnProperty(i)&&t.push(0|i);return e.iter(t)}};var o=t.hxGeomAlgo.Bayazit=function(){};o.__name__=!0,o.decomposePoly=function(t){var e=[];if(o.reflexVertices=[],o.steinerPoints=[],o.visibility=new s,t.length<3)return e;o.poly=[];for(var i=0;i<t.length;){var n=t[i];++i,o.poly.push(u._new(n.x,n.y))}return o.reversed=c.makeCW(o.poly),o._decomposePoly(o.poly,e),e},o._decomposePoly=function(t,e){for(var i=u._new(),n=u._new(),r=u._new(),s=(u._new(),0),a=0,A=0,l=0,h=0,f=0,m=0,_=[],g=[],d=0,y=t.length;d<y;){var C=d++;if(c.isReflex(t,C)){var v=o.visibility,I=p.getVisibleIndicesFrom(t,C);v.h[C]=I,o.reflexVertices.push(t[C]),s=a=1/0;for(var B=0,E=t.length;B<E;){var w,b=B++,x=C-1,S=x,Q=t.length;S<0&&(S+=Q);var k=t[x=S%Q],D=C,M=t.length;D<0&&(D+=M);var R=t[D%M],V=b,T=t.length;V<0&&(V+=T);var G,F=t[V%T];if((R.x-k.x)*(F.y-k.y)-(F.x-k.x)*(R.y-k.y)>0){var P=C-1,N=P,L=t.length;N<0&&(N+=L);var U=t[P=N%L],O=C,Y=t.length;O<0&&(O+=Y);var H=t[O%Y],J=b-1,j=J,K=t.length;j<0&&(j+=K);var q=t[J=j%K];w=(H.x-U.x)*(q.y-U.y)-(q.x-U.x)*(H.y-U.y)<=0}else w=!1;if(w){var z=C-1,X=z,W=t.length;X<0&&(X+=W);var Z=C,$=t.length;Z<0&&(Z+=$);var tt=b,et=t.length;tt<0&&(tt+=et);var it=b-1,nt=it,rt=t.length;nt<0&&(nt+=rt),r=c.intersection(t[z=X%W],t[Z%$],t[tt%et],t[it=nt%rt]);var st=C+1,ot=st,at=t.length;ot<0&&(ot+=at);var At=t[st=ot%at],lt=C,ut=t.length;lt<0&&(lt+=ut);var ht=t[lt%ut];if((ht.x-At.x)*(r.y-At.y)-(r.x-At.x)*(ht.y-At.y)<0){var ct=t[C],ft=ct.x-r.x,mt=ct.y-r.y;(A=ft*ft+mt*mt)<a&&(a=A,n=r,f=b)}}var _t=C+1,gt=_t,dt=t.length;gt<0&&(gt+=dt);var pt=t[_t=gt%dt],yt=C,Ct=t.length;yt<0&&(yt+=Ct);var vt=t[yt%Ct],It=b+1,Bt=It,Et=t.length;Bt<0&&(Bt+=Et);var wt=t[It=Bt%Et];if((vt.x-pt.x)*(wt.y-pt.y)-(wt.x-pt.x)*(vt.y-pt.y)>0){var bt=C+1,xt=bt,St=t.length;xt<0&&(xt+=St);var Qt=t[bt=xt%St],kt=C,Dt=t.length;kt<0&&(kt+=Dt);var Mt=t[kt%Dt],Rt=b,Vt=t.length;Rt<0&&(Rt+=Vt);var Tt=t[Rt%Vt];G=(Mt.x-Qt.x)*(Tt.y-Qt.y)-(Tt.x-Qt.x)*(Mt.y-Qt.y)<=0}else G=!1;if(G){var Gt=C+1,Ft=Gt,Pt=t.length;Ft<0&&(Ft+=Pt);var Nt=C,Lt=t.length;Nt<0&&(Nt+=Lt);var Ut=b,Ot=t.length;Ut<0&&(Ut+=Ot);var Yt=b+1,Ht=Yt,Jt=t.length;Ht<0&&(Ht+=Jt),r=c.intersection(t[Gt=Ft%Pt],t[Nt%Lt],t[Ut%Ot],t[Yt=Ht%Jt]);var jt=C-1,Kt=jt,qt=t.length;Kt<0&&(Kt+=qt);var zt=t[jt=Kt%qt],Xt=C,Wt=t.length;Xt<0&&(Xt+=Wt);var Zt=t[Xt%Wt];if((Zt.x-zt.x)*(r.y-zt.y)-(r.x-zt.x)*(Zt.y-zt.y)>0){var $t=t[C],te=$t.x-r.x,ee=$t.y-r.y;(A=te*te+ee*ee)<s&&(s=A,i=r,h=b)}}}if(f==(h+1)%t.length)if(r.x=(n.x+i.x)/2,r.y=(n.y+i.y)/2,o.steinerPoints.push(r),C<h){for(var ie=C,ne=h+1;ie<ne;){var re=ie++;g.push(t[re])}if(g.push(r),_.push(r),0!=f)for(var se=f,oe=t.length;se<oe;){var ae=se++;_.push(t[ae])}for(var Ae=0,le=C+1;Ae<le;){var ue=Ae++;_.push(t[ue])}}else{if(0!=C)for(var he=C,ce=t.length;he<ce;){var fe=he++;g.push(t[fe])}for(var me=0,_e=h+1;me<_e;){var ge=me++;g.push(t[ge])}g.push(r),_.push(r);for(var de=f,pe=C+1;de<pe;){var ye=de++;_.push(t[ye])}}else{f>h&&(h+=t.length),l=1/0;for(var Ce=f,ve=h+1;Ce<ve;){var Ie,Be=Ce++,Ee=C-1,we=Ee,be=t.length;we<0&&(we+=be);var xe=t[Ee=we%be],Se=C,Qe=t.length;Se<0&&(Se+=Qe);var ke=t[Se%Qe],De=Be,Me=t.length;De<0&&(De+=Me);var Re=t[De%Me];if((ke.x-xe.x)*(Re.y-xe.y)-(Re.x-xe.x)*(ke.y-xe.y)>=0){var Ve=C+1,Te=Ve,Ge=t.length;Te<0&&(Te+=Ge);var Fe=t[Ve=Te%Ge],Pe=C,Ne=t.length;Pe<0&&(Pe+=Ne);var Le=t[Pe%Ne],Ue=Be,Oe=t.length;Ue<0&&(Ue+=Oe);var Ye=t[Ue%Oe];Ie=(Le.x-Fe.x)*(Ye.y-Fe.y)-(Ye.x-Fe.x)*(Le.y-Fe.y)<=0}else Ie=!1;if(Ie){var He=C,Je=t.length;He<0&&(He+=Je);var je=t[He%Je],Ke=Be,qe=t.length;Ke<0&&(Ke+=qe);var ze=t[Ke%qe],Xe=je.x-ze.x,We=je.y-ze.y;if((A=Xe*Xe+We*We)<l&&o.visibility.h[C].indexOf(Be%t.length)>=0){l=A;var Ze=Be,$e=t.length;Ze<0&&(Ze+=$e),m=Be%t.length}}}if(C<m){for(var ti=C,ei=m+1;ti<ei;){var ii=ti++;g.push(t[ii])}if(0!=m)for(var ni=m,ri=t.length;ni<ri;){var si=ni++;_.push(t[si])}for(var oi=0,ai=C+1;oi<ai;){var Ai=oi++;_.push(t[Ai])}}else{if(0!=C)for(var li=C,ui=t.length;li<ui;){var hi=li++;g.push(t[hi])}for(var ci=0,fi=m+1;ci<fi;){var mi=ci++;g.push(t[mi])}for(var _i=m,gi=C+1;_i<gi;){var di=_i++;_.push(t[di])}}}return void(g.length<_.length?(o._decomposePoly(g,e),o._decomposePoly(_,e)):(o._decomposePoly(_,e),o._decomposePoly(g,e)))}}e.push(t)};var a=function(){};a.__name__=!0,a.assert=function(t,e,i){};var A=function(t,e,i){null==i&&(i=1),null==e&&(e=0),null==t&&(t=0),this.x=t,this.y=e,this.w=i};A.__name__=!0,A.det=function(t,e,i){return t.w*e.perpdot(i)-e.w*t.perpdot(i)+i.w*t.perpdot(e)},A.ccw=function(t,e,i){return A.det(t,e,i)>0},A.cw=function(t,e,i){return A.det(t,e,i)<0},A.prototype={add:function(t){return this.x+=t.x,this.y+=t.y,this},sub:function(t){return this.x-=t.x,this.y-=t.y,this},neg:function(){return this.w=-this.w,this.x=-this.x,this.y=-this.y,this},mul:function(t){return this.w*=t,this.x*=t,this.y*=t,this},div:function(t){return this.w/=t,this.x/=t,this.y/=t,this},normalize:function(){return this.div(this.length())},lengthSquared:function(){return this.x*this.x+this.y*this.y},length:function(){return Math.sqrt(this.lengthSquared())},perp:function(){var t=-this.y;return this.y=this.x,this.x=t,this},dotPoint:function(t){return this.w+this.x*t.x+this.y*t.y},dot:function(t){return this.w*t.w+this.x*t.x+this.y*t.y},perpdot:function(t){return this.x*t.y-this.y*t.x},dotperp:function(t){return-this.x*t.y+this.y*t.x},equals:function(t){return t.w*this.x==this.w*t.x&&t.w*this.y==this.w*t.y},left:function(t){return this.dotPoint(t)>0},right:function(t){return this.dotPoint(t)<0},toScreen:function(){return u._new(this.x/this.w,-this.y/this.w)},toPoint:function(){return u._new(this.x/this.w,this.y/this.w)},meet:function(t){return new A(t.w*this.y-this.w*t.y,this.w*t.x-t.w*this.x,this.x*t.y-this.y*t.x)},meetPoint:function(t){return new A(this.y-this.w*t.y,this.w*t.x-this.x,this.x*t.y-this.y*t.x)},toString:function(){return" (w:"+this.w+"; x:"+this.x+", y:"+this.y+")  "}};var l=function(t,e){null==e&&(e=0),null==t&&(t=0),this.x=t,this.y=e};l.__name__=!0,l.prototype={toString:function(){return"("+this.x+", "+this.y+")"}};var u=t.hxGeomAlgo._HxPoint.HxPoint_Impl_={};u.__name__=!0,u.get_x=function(t){return t.x},u.set_x=function(t,e){return t.x=e},u.get_y=function(t){return t.y},u.set_y=function(t,e){return t.y=e},u._new=function(t,e){return null==e&&(e=0),null==t&&(t=0),new l(t,e)},u.setTo=function(t,e,i){t.x=e,t.y=i},u.equals=function(t,e){return null!=e&&t.x==e.x&&t.y==e.y},u.clone=function(t){return u._new(t.x,t.y)},u.toString=function(t){return"("+t.x+", "+t.y+")"},u.fromPointStruct=function(t){return u._new(t.x,t.y)},u.toPointStruct=function(t){return{x:t.x,y:t.y}};var h=function(){this.lastIdx=this.frontTopIdx=-1,this.backTopIdx=0,this.front=[],this.back=[]};h.__name__=!0,h.prototype={push:function(t,e){this.front.length<=++this.frontTopIdx&&(this.front.push(-1),this.back.push(-1)),this.front[this.frontTopIdx]=t,this.back[this.frontTopIdx]=e,this.lastIdx=this.frontTopIdx},pushNarrow:function(t,e){if(this.isFrontEmpty()||!(t<=this.frontTop())){for(;!this.isFrontEmpty()&&this.backBottom()>=e;)this.popFront();this.push(t,e)}},isFrontEmpty:function(){return this.frontTopIdx<0},frontHasNext:function(){return this.frontTopIdx>0},flush:function(){this.lastIdx=this.frontTopIdx=-1},frontTop:function(){return this.frontTopIdx<0?0:this.front[this.frontTopIdx]},frontPeekNext:function(){return this.front[this.frontTopIdx-1]},backBottom:function(){return this.back[this.frontTopIdx]},popFront:function(){return this.front[this.frontTopIdx--]},restore:function(){this.backTopIdx=0,this.frontTopIdx=this.lastIdx},isBackEmpty:function(){return this.backTopIdx>this.lastIdx},backHasNext:function(){return this.backTopIdx<this.lastIdx},frontBottom:function(){return this.front[this.backTopIdx]},backPeekNext:function(){return this.back[this.backTopIdx+1]},backTop:function(){return this.back[this.backTopIdx]},popBack:function(){return this.back[this.backTopIdx++]},toString:function(){var t="";t+=i.string("fp:"+this.frontTopIdx+", bp:"+this.backTopIdx+", last:"+this.lastIdx+": ");for(var e=0,n=this.lastIdx+1;e<n;){var r=e++;t+=i.string(this.front[r]+","+this.back[r]+"  ")}return t}};var c=t.hxGeomAlgo.PolyTools=function(){};c.__name__=!0,c.isCCW=function(t){if(t.length<=2)return!0;for(var e=0,i=0,n=t.length;i<n;){var r=i++,s=r-1,o=s,a=t.length;o<0&&(o+=a);var A=r-1,l=A,u=t.length;l<0&&(l+=u),e+=t[s=o%a].x*t[r].y-t[r].x*t[A=l%u].y}return e<0},c.isCW=function(t){if(t.length<=2)return!0;for(var e=0,i=0,n=t.length;i<n;){var r=i++,s=r-1,o=s,a=t.length;o<0&&(o+=a);var A=r-1,l=A,u=t.length;l<0&&(l+=u),e+=t[s=o%a].x*t[r].y-t[r].x*t[A=l%u].y}return e>0},c.makeCCW=function(t){var e=!1;return c.isCCW(t)||(t.reverse(),e=!0),e},c.makeCW=function(t){var e=!1;return c.isCCW(t)&&(t.reverse(),e=!0),e},c.isConvex=function(t){for(var e=null,i=0,n=t.length;i<n;){var r=i++,s=0==r?t.length-1:r-1,o=r==t.length-1?0:r+1,a=(t[r].x-t[s].x)*(t[o].y-t[r].y)-(t[o].x-t[r].x)*(t[r].y-t[s].y),A=a>0;if(0!=a)if(null==e)e=A;else if(e!=A)return!1}return!0},c.isSimple=function(t){var e=t.length;if(e<=3)return!0;for(var i=0,n=e;i<n;)for(var r=i++,s=r,o=r==e-1?0:r+1,a=r+1,A=e;a<A;){var l,u,h=a++,f=h,m=h==e-1?0:h+1,_=c.segmentIntersect(t[s],t[o],t[f],t[m]);if(null!=_){var g,d=t[s],p=_.x-d.x,y=_.y-d.y;if(Math.sqrt(p*p+y*y)<c.EPSILON)g=!0;else{var C=t[o],v=_.x-C.x,I=_.y-C.y;g=Math.sqrt(v*v+I*I)<c.EPSILON}u=!g}else u=!1;if(u){var B,E=t[f],w=_.x-E.x,b=_.y-E.y;if(Math.sqrt(w*w+b*b)<c.EPSILON)B=!0;else{var x=t[m],S=_.x-x.x,Q=_.y-x.y;B=Math.sqrt(S*S+Q*Q)<c.EPSILON}l=!B}else l=!1;if(l)return!1}return!0},c.segmentIntersect=function(t,e,i,n){var r,s,o,a,A,l,h;l=e.x*t.y-t.x*e.y,h=n.x*i.y-i.x*n.y;var c=(s=e.y-t.y)*(A=i.x-n.x)-(o=n.y-i.y)*(a=t.x-e.x);if(0==c)return null;(r=u._new()).x=(a*h-A*l)/c,r.y=(o*l-s*h)/c;var f=t.x-e.x,m=t.y-e.y,_=f*f+m*m,g=i.x-n.x,d=i.y-n.y,p=g*g+d*d,y=r.x-e.x,C=r.y-e.y;if(y*y+C*C>_)return null;var v=r.x-t.x,I=r.y-t.y;if(v*v+I*I>_)return null;var B=r.x-n.x,E=r.y-n.y;if(B*B+E*E>p)return null;var w=r.x-i.x,b=r.y-i.y;return w*w+b*b>p?null:r},c.findDuplicatePoints=function(t,e,i){null==i&&(i=!0),null==e&&(e=!0);var n=t.length;if(n<=1)return[];for(var r,s=[],o=0,a=n-1;o<a;)for(var A=o++,l=A+1;l<n;){var u=t[A],h=t[l],c=null!=h&&u.x==h.x&&u.y==h.y;if(c&&s.push(A),e||c&&!e)break;++l}if(i&&e){var f=t[0],m=t[n-1];r=null!=m&&f.x==m.x&&f.y==m.y}else r=!1;return r&&s.push(n-1),s},c.intersection=function(t,e,i,n){var r=null,s=e.y-t.y,o=t.x-e.x,a=s*t.x+o*t.y,A=n.y-i.y,l=i.x-n.x,h=A*i.x+l*i.y,f=s*l-A*o;return Math.abs(f)<=c.EPSILON||((r=u._new()).x=(l*a-o*h)/f,r.y=(s*h-A*a)/f),r},c.isReflex=function(t,e){var i=e-1,n=i,r=t.length;n<0&&(n+=r);var s=t[i=n%r],o=e,a=t.length;o<0&&(o+=a);var A=t[o%a],l=e+1,u=l,h=t.length;u<0&&(u+=h);var c=t[l=u%h];return(A.x-s.x)*(c.y-s.y)-(c.x-s.x)*(A.y-s.y)<0},c.at=function(t,e){var i=e,n=t.length;return i<0&&(i+=n),t[e=i%n]},c.wrappedIdx=function(t,e){var i=t.length;return e<0&&(e+=i),e%i},c.side=function(t,e,i){return(e.x-t.x)*(i.y-t.y)-(i.x-t.x)*(e.y-t.y)},c.isLeft=function(t,e,i){return(e.x-t.x)*(i.y-t.y)-(i.x-t.x)*(e.y-t.y)>0},c.isLeftOrOn=function(t,e,i){return(e.x-t.x)*(i.y-t.y)-(i.x-t.x)*(e.y-t.y)>=0},c.isRight=function(t,e,i){return(e.x-t.x)*(i.y-t.y)-(i.x-t.x)*(e.y-t.y)<0},c.isRightOrOn=function(t,e,i){return(e.x-t.x)*(i.y-t.y)-(i.x-t.x)*(e.y-t.y)<=0},c.isCollinear=function(t,e,i){return(e.x-t.x)*(i.y-t.y)-(i.x-t.x)*(e.y-t.y)==0},c.distance=function(t,e){var i=t.x-e.x,n=t.y-e.y;return Math.sqrt(i*i+n*n)},c.distanceToSegment=function(t,e,i){return Math.sqrt(c.distanceToSegmentSquared(t,e,i))},c.distanceSquared=function(t,e){var i=t.x-e.x,n=t.y-e.y;return i*i+n*n},c.distanceToSegmentSquared=function(t,e,i){var n=e.x-i.x,r=e.y-i.y,s=n*n+r*r;if(0==s){var o=t.x-e.x,a=t.y-e.y;return o*o+a*a}var A=((t.x-e.x)*(i.x-e.x)+(t.y-e.y)*(i.y-e.y))/s;if(A<0){var l=t.x-e.x,h=t.y-e.y;return l*l+h*h}if(A>1){var f=t.x-i.x,m=t.y-i.y;return f*f+m*m}u.setTo(c.point,e.x+A*(i.x-e.x),e.y+A*(i.y-e.y));var _=c.point,g=t.x-_.x,d=t.y-_.y;return g*g+d*d},c.getCentroid=function(t){var e=u._new(),i=c.getArea(t);if(0!=i){for(var n=t.length,r=0,s=n;r<s;){var o=r++,a=t[o],A=t[(o+1)%n],l=a.x*A.y-A.x*a.y;e.x+=(a.x+A.x)*l,e.y+=(a.y+A.y)*l}e.x/=6*i,e.y/=6*i}else e=u.EMPTY;return e},c.getArea=function(t){for(var e=0,i=t.length,n=0,r=i;n<r;){var s=n++,o=t[s],a=t[(s+1)%i];e+=o.x*a.y-a.x*o.y}return.5*e},c.meet=function(t,e){return new A(t.y-e.y,e.x-t.x,t.x*e.y-t.y*e.x)},c.dot=function(t,e){return t.x*e.x+t.y*e.y},c.sqr=function(t){return t*t},c.eq=function(t,e){return Math.abs(t-e)<=c.EPSILON},c.clear=function(t){t.length=0},c.toFloatArray=function(t,e){e=null!=e?e:[];for(var i=0;i<t.length;){var n=t[i];++i,e.push(n.x),e.push(n.y)}return e},c.reverseFloatArray=function(t,e){null==e&&(e=!1);for(var i=e?t:[],n=t.length>>1,r=0,s=n;r<s;){var o=r++,a=2*(n-o-1);i[2*o]=t[a],i[2*o+1]=t[a+1]}return i},c.flatten=function(t,e){for(var i=null!=e?e:[],n=0;n<t.length;){var r=t[n];++n;for(var s=0;s<r.length;){var o=r[s];++s,i.push(o)}}return i},c.toPointArray=function(t,e){e=null!=e?e:[];var i=t.length;t.length%2==1&&--i;for(var n=0,r=i>>1;n<r;){var s=n++;e.push(u._new(t[2*s],t[2*s+1]))}return e},c.inflateLine=function(t,e,i){var n=i/2,r=e.x-t.x,s=e.y-t.y,o=Math.sqrt(r*r+s*s),a=r/o*n,A=s/o*n;return[u._new(t.x-A,t.y+a),u._new(e.x-A,e.y+a),u._new(e.x+A,e.y-a),u._new(t.x+A,t.y-a)]},c.clip=function(t,e){e.length>=3&&c.isConvex(e);for(var i,n,r,s,o=[],a=t,A=c.isCCW(e)?c.isRight:c.isLeft,l=0,u=e.length;l<u;){var h=l++;i=e[h];var f=h+1,m=e.length;f<0&&(f+=m),n=e[f%m];var _=a;a=[],r=_[_.length-1];for(var g=0,d=_.length;g<d;){if(A(s=_[g++],i,n)){if(!A(r,i,n)){var p=c.intersection(r,s,i,n);null!=p&&a.push(p)}a.push(s)}else if(A(r,i,n)){var y=c.intersection(r,s,i,n);null!=y&&a.push(y)}r=s}o.push(a)}return o},c.exposeEnum=function(e,i){for(var r=(null!=i?i:n.getEnumName(e)).split("."),s=t,o=0;o<r.length-1;){var a=r[o];s[a]=s[a]||{},s=s[a],++o}s[r[o]]=e};var f=t.hxGeomAlgo.RamerDouglasPeucker=function(){};f.__name__=!0,f.simplify=function(t,e){null==e&&(e=1);var i=t[0],n=t[t.length-1];if(t.length<2)return[].concat(t);for(var r=-1,s=0,o=1,a=t.length-1;o<a;){var A=o++,l=Math.sqrt(c.distanceToSegmentSquared(t[A],i,n));l>s&&(s=l,r=A)}if(s>e){var u=t.slice(0,r+1),h=t.slice(r),m=f.simplify(u,e),_=f.simplify(h,e);return m.slice(0,m.length-1).concat(_)}return[i,n]};var m=t.hxGeomAlgo.SnoeyinkKeil=function(){};m.__name__=!0,m.decomposePoly=function(t){for(var e=[],i=m.decomposePolyIndices(t),n=0;n<i.length;){var r=i[n];++n;var s=[];e.push(s);for(var o=0;o<r.length;){var a=r[o];++o,s.push(t[a])}}return e},m.decomposePolyIndices=function(t){var e=[];if(m.diagonals=[],t.length<3)return e;m.poly=[];for(var i,n,r,s=0;s<t.length;){var o=t[s];++s,m.poly.push(u._new(o.x,o.y))}m.reversed=c.makeCW(m.poly);var a=m.poly.length,A=new _(m.poly);A.init();for(var l=3,h=a;l<h;){var f=l++;for(i=A.reflexIter();i+f<a;){if(A.visible(i,r=i+f))if(A.initPairs(i,r),A.isReflex(r))for(var g=i+1,d=r;g<d;){var p=g++;A.typeA(i,p,r)}else{for(n=A.reflexIter(i+1);n<r-1;)A.typeA(i,n,r),n=A.reflexNext(n);A.typeA(i,r-1,r)}i=A.reflexNext(i)}for(r=A.reflexIter(f);r<a;){if(!A.isReflex(i=r-f)&&A.visible(i,r))for(A.initPairs(i,r),A.typeB(i,i+1,r),n=A.reflexIter(i+2);n<r;)A.typeB(i,n,r),n=A.reflexNext(n);r=A.reflexNext(r)}}if(A.guard=3*a,A.recoverSolution(0,a-1),e=A.decompIndices(),m.reversed){for(var y=0;y<e.length;){var C=e[y];++y;for(var v=0,I=C.length;v<I;){var B=v++;C[B]=a-C[B]-1}}for(var E=0,w=m.diagonals;E<w.length;){var b=w[E];++E;var x=b.from;b.from=a-b.to-1,b.to=a-x-1}}return e};var _=function(t){this._diags=[],this._polys=[],this._indicesSet=new s,this.poly=t,this.n=t.length};_.__name__=!0,_.prototype={init:function(){this.initReflex(),this.subDecomp=new g(this._reflexFlag),this.initVisibility(),this.initSubProblems()},initReflex:function(){this._reflexFlag=[],this._reflexNext=[];for(var t=0,e=this.n;t<e;){var i=t++;this._reflexFlag[i]=!1,this._reflexNext[i]=-1}var n=0;this._reflexFlag[n]=!0;for(var r=this.n-1;r>0;){var s=this.poly,o=r-1,a=o,A=s.length;a<0&&(a+=A);var l=s[o=a%A],u=this.poly,h=r,c=u.length;h<0&&(h+=c);var f=u[h%c],m=this.poly,_=n,g=m.length;_<0&&(_+=g);var d=m[_%g];this._reflexFlag[r]=(f.x-l.x)*(d.y-l.y)-(d.x-l.x)*(f.y-l.y)<0,n=r,--r}for(this._reflexFirst=this.n,r=this.n-1;r>=0;)this._reflexNext[r]=this._reflexFirst,this.isReflex(r)&&(this._reflexFirst=r),--r},isReflex:function(t){return this._reflexFlag[t]},reflexNext:function(t){return this._reflexNext[t]},reflexIter:function(t){return null==t||t<=0?this._reflexFirst:t>this._reflexNext.length?this._reflexNext.length:this._reflexNext[t-1]},visible:function(t,e){return this.subDecomp.weight(t,e)<_.BAD},initVisibility:function(){for(var t,e=this.reflexIter();e<this.n;){for(t=p.getVisibleIndicesFrom(this.poly,e);t.length>0;){var i=t.pop();i<e?this.subDecomp.setWeight(i,e,_.INFINITY):this.subDecomp.setWeight(e,i,_.INFINITY)}e=this._reflexNext[e]}},setAfter:function(t){this.isReflex(t),this.subDecomp.setWeight(t,t+1,0),this.visible(t,t+2)&&this.subDecomp.initWithWeight(t,t+2,0,t+1,t+1)},setBefore:function(t){this.isReflex(t),this.subDecomp.setWeight(t-1,t,0),this.visible(t-2,t)&&this.subDecomp.initWithWeight(t-2,t,0,t-1,t-1)},initSubProblems:function(){var t=this.reflexIter();for(0==t&&(this.setAfter(t),t=this._reflexNext[t]),1==t&&(this.subDecomp.setWeight(0,1,0),this.setAfter(t),t=this._reflexNext[t]);t<this.n-2;)this.setBefore(t),this.setAfter(t),t=this._reflexNext[t];t==this.n-2&&(this.setBefore(t),this.subDecomp.setWeight(t,t+1,0),t=this._reflexNext[t]),t==this.n-1&&this.setBefore(t)},initPairs:function(t,e){this.subDecomp.init(t,e)},recoverSolution:function(t,e){var i;if(this.guard--,!(e-t<=1)){var n=this.subDecomp.pairs(t,e);if(this.isReflex(t)){if(i=n.backTop(),this.recoverSolution(i,e),i-t>1){if(n.frontBottom()!=n.backTop()){var r=this.subDecomp.pairs(t,i);for(r.restore();!r.isBackEmpty()&&n.frontBottom()!=r.frontBottom();)r.popBack()}this.recoverSolution(t,i)}}else if(i=n.frontTop(),this.recoverSolution(t,i),e-i>1){if(n.frontTop()!=n.backBottom()){var s=this.subDecomp.pairs(i,e);for(s.restore();!s.isFrontEmpty()&&n.backBottom()!=s.backBottom();)s.popFront()}this.recoverSolution(i,e)}}},typeA:function(t,e,i){if(this.visible(t,e)){var n=e,r=this.subDecomp.weight(t,e);if(i-e>1){if(!this.visible(e,i))return;r+=this.subDecomp.weight(e,i)+1}if(e-t>1){var s=this.subDecomp.pairs(t,e),o=this.poly,a=i,A=o.length;a<0&&(a+=A);var l=o[a%A],u=this.poly,h=e,c=u.length;h<0&&(h+=c);var f=u[h%c],m=this.poly,_=s.backTop(),g=_,d=m.length;g<0&&(g+=d);var p=m[_=g%d];if((f.x-l.x)*(p.y-l.y)-(p.x-l.x)*(f.y-l.y)>0)++r;else{for(;;){var y;if(s.backHasNext()){var C=this.poly,v=i,I=C.length;v<0&&(v+=I);var B=C[v%I],E=this.poly,w=e,b=E.length;w<0&&(w+=b);var x=E[w%b],S=this.poly,Q=s.backPeekNext(),k=Q,D=S.length;k<0&&(k+=D);var M=S[Q=k%D];y=!((x.x-B.x)*(M.y-B.y)-(M.x-B.x)*(x.y-B.y)>0)}else y=!1;if(!y)break;s.popBack()}var R;if(s.isBackEmpty())R=!1;else{var V=this.poly,T=i,G=V.length;T<0&&(T+=G);var F=V[T%G],P=this.poly,N=t,L=P.length;N<0&&(N+=L);var U=P[N%L],O=this.poly,Y=s.frontBottom(),H=Y,J=O.length;H<0&&(H+=J);var j=O[Y=H%J];R=!((U.x-F.x)*(j.y-F.y)-(j.x-F.x)*(U.y-F.y)<0)}R?n=s.frontBottom():++r}}this.update(t,i,r,n,e)}},typeB:function(t,e,i){if(this.visible(e,i)){var n=e,r=this.subDecomp.weight(e,i);if(e-t>1){if(!this.visible(t,e))return;r+=this.subDecomp.weight(t,e)+1}if(i-e>1){var s=this.subDecomp.pairs(e,i),o=this.poly,a=t,A=o.length;a<0&&(a+=A);var l=o[a%A],u=this.poly,h=e,c=u.length;h<0&&(h+=c);var f=u[h%c],m=this.poly,_=s.frontTop(),g=_,d=m.length;g<0&&(g+=d);var p=m[_=g%d];if((f.x-l.x)*(p.y-l.y)-(p.x-l.x)*(f.y-l.y)<0)++r;else{for(;;){var y;if(s.frontHasNext()){var C=this.poly,v=t,I=C.length;v<0&&(v+=I);var B=C[v%I],E=this.poly,w=e,b=E.length;w<0&&(w+=b);var x=E[w%b],S=this.poly,Q=s.frontPeekNext(),k=Q,D=S.length;k<0&&(k+=D);var M=S[Q=k%D];y=!((x.x-B.x)*(M.y-B.y)-(M.x-B.x)*(x.y-B.y)<0)}else y=!1;if(!y)break;s.popFront()}var R;if(s.isFrontEmpty())R=!1;else{var V=this.poly,T=t,G=V.length;T<0&&(T+=G);var F=V[T%G],P=this.poly,N=i,L=P.length;N<0&&(N+=L);var U=P[N%L],O=this.poly,Y=s.backBottom(),H=Y,J=O.length;H<0&&(H+=J);var j=O[Y=H%J];R=!((U.x-F.x)*(j.y-F.y)-(j.x-F.x)*(U.y-F.y)>0)}R?n=s.backBottom():++r}}this.update(t,i,r,e,n)}},update:function(t,e,i,n,r){var s=this.subDecomp.weight(t,e);if(i<=s){var o=this.subDecomp.pairs(t,e);i<s&&(o.flush(),this.subDecomp.setWeight(t,e,i)),o.pushNarrow(n,r)}},_decompByDiags:function(t,e,i,n){var r;null==n&&(n=0),0==n&&(this._indicesSet.h[0]=!0,this._indicesSet.h[this.poly.length-1]=!0);var o,a,A,l=!0,u=!0,h=0;if(!(e-t<=1)){var c=this.subDecomp.pairs(t,e);if(this.isReflex(t)?(r=c.backTop(),l=c.frontBottom()==c.backTop()):(r=c.frontTop(),u=c.backBottom()==c.frontTop()),l&&(this._indicesSet.h[t]=!0,this._indicesSet.h[r]=!0,this._diags.push({from:t,to:r}),++h),u&&(this._indicesSet.h[r]=!0,this._indicesSet.h[e]=!0,this._diags.push({from:r,to:e}),++h),this.guard--,h>1){for(var f=[],m=this._indicesSet.keys();m.hasNext();){var _=m.next();f.push(_)}var g=f;g.sort((o=this,null==(a=this.intCmp)?null:(null==a.__id__&&(a.__id__=C++),null==o.hx__closures__?o.hx__closures__={}:A=o.hx__closures__[a.__id__],null==A&&((A=function(){return A.method.apply(A.scope,arguments)}).scope=o,A.method=a,o.hx__closures__[a.__id__]=A),A))),g.length>0&&(i.push(g),this._indicesSet=new s)}l&&r-t>1?(this._decompByDiags(r,e,i,n+1),this._decompByDiags(t,r,i,n+1)):(this._decompByDiags(t,r,i,n+1),this._decompByDiags(r,e,i,n+1))}},intCmp:function(t,e){return t==e?0:e<t?1:-1},decompIndices:function(){var t=[];return this.guard=3*this.n,this._decompByDiags(0,this.poly.length-1,t),m.diagonals=this._diags,t},toString:function(){return this.poly.length+": "+this.poly.toString()}};var g=function(t){var e,i=t.length,n=0;this.rx=[];for(var r=0,s=i;r<s;){var o=r++;this.rx[o]=t[o]?n++:0}e=n,this.wt=[],this.pd=[];for(var a=0,A=i;a<A;){var l=a++;t[l]||(this.rx[l]=e++),this.wt[l]=[],this.pd[l]=[];for(var u=0,h=i;u<h;){var c=u++;if(!(l<n||c<n))break;this.wt[l][c]=_.BAD,this.pd[l][c]=null}}};g.__name__=!0,g.prototype={setWeight:function(t,e,i){this.wt[this.rx[t]][this.rx[e]]=i},weight:function(t,e){return this.wt[this.rx[t]][this.rx[e]]},pairs:function(t,e){return this.pd[this.rx[t]][this.rx[e]]},init:function(t,e){return this.pd[this.rx[t]][this.rx[e]]=new h},initWithWeight:function(t,e,i,n,r){this.setWeight(t,e,i),this.init(t,e).push(n,r)}};var d={__ename__:["hxGeomAlgo","VertexType"],__constructs__:["UNKNOWN","RIGHT_LID","LEFT_LID","RIGHT_WALL","LEFT_WALL"],UNKNOWN:["UNKNOWN",0]};d.UNKNOWN.__enum__=d,d.RIGHT_LID=["RIGHT_LID",1],d.RIGHT_LID.__enum__=d,d.LEFT_LID=["LEFT_LID",2],d.LEFT_LID.__enum__=d,d.RIGHT_WALL=["RIGHT_WALL",3],d.RIGHT_WALL.__enum__=d,d.LEFT_WALL=["LEFT_WALL",4],d.LEFT_WALL.__enum__=d;var p=t.hxGeomAlgo.Visibility=function(){};p.__name__=!0,p.getVisibleIndicesFrom=function(t,e){null==e&&(e=0);var i=[];if(p.poly=[],p.stack.length=0,p.vertexType.length=0,t.length<=0)return i;p.stackTop=-1;for(var n,r=0,s=t.length;r<s;){var o=r++;p.poly.push(u._new(t[o].x,t[o].y)),p.stack.push(-1),p.vertexType.push(d.UNKNOWN)}p.reversed=c.makeCW(p.poly),p.reversed&&(e=p.poly.length-e-1),p.origPoint=p.poly[e];var a=e;for(p.push(a++,d.RIGHT_WALL);p.push(a++,d.RIGHT_WALL),!(a>=p.poly.length+e);){var l=p.poly,h=a-1,f=h,m=l.length;f<0&&(f+=m);var _=p.poly,g=a,y=_.length;if(g<0&&(g+=y),(n=c.meet(l[h=f%m],_[g%y])).left(p.origPoint)){if(a<p.poly.length+e)continue;break}var C=p.poly,v=a-2,I=v,B=C.length;if(I<0&&(I+=B),!n.left(C[v=I%B])){var E=p.poly,w=p.stack[p.stackTop],b=w,x=E.length;if(b<0&&(b+=x),a=p.exitRightBay(p.poly,a,E[w=b%x],A.INFINITY),p.push(a++,d.RIGHT_LID),a<p.poly.length+e)continue;break}for(p.saveLid();;){var S=p.origPoint,Q=p.poly,k=p.stack[p.stackTop],D=k,M=Q.length;D<0&&(D+=M);var R=Q[k=D%M],V=p.poly,T=a,G=V.length;T<0&&(T+=G);var F=V[T%G];if((R.x-S.x)*(F.y-S.y)-(F.x-S.x)*(R.y-S.y)>0){var P=p.poly,N=a,L=P.length;N<0&&(N+=L);var U=P[N%L],O=p.poly,Y=a+1,H=Y,J=O.length;H<0&&(H+=J);var j=O[Y=H%J],K=p.origPoint;if((j.x-U.x)*(K.y-U.y)-(K.x-U.x)*(j.y-U.y)<0)++a;else{var q=p.poly,z=a+1,X=z,W=q.length;if(X<0&&(X+=W),!n.left(q[z=X%W])){p.restoreLid(),p.push(a++,d.LEFT_WALL);break}var Z=p.poly,$=a,tt=Z.length;$<0&&($+=tt);var et=p.poly,it=p.leftLidIdx,nt=it,rt=et.length;nt<0&&(nt+=rt);var st=p.poly,ot=p.leftLidIdx-1,at=ot,At=st.length;at<0&&(at+=At),a=p.exitLeftBay(p.poly,a,Z[$%tt],c.meet(et[it=nt%rt],st[ot=at%At]))+1}var lt=p.poly,ut=a-1,ht=ut,ct=lt.length;ht<0&&(ht+=ct);var ft=p.poly,mt=a,_t=ft.length;mt<0&&(mt+=_t),n=c.meet(lt[ut=ht%ct],ft[mt%_t])}else{var gt=p.poly,dt=p.stack[p.stackTop],pt=dt,yt=gt.length;if(pt<0&&(pt+=yt),!n.left(gt[dt=pt%yt])){var Ct=p.poly,vt=p.stack[p.stackTop],It=vt,Bt=Ct.length;It<0&&(It+=Bt),a=p.exitRightBay(p.poly,a,Ct[vt=It%Bt],n.neg()),p.push(a++,d.RIGHT_LID);break}p.saveLid()}}if(!(a<p.poly.length+e))break}for(var Et=0,wt=p.stackTop+1;Et<wt;){var bt=Et++;if(p.vertexType[bt]==d.LEFT_WALL||p.vertexType[bt]==d.RIGHT_WALL){var xt=p.stack[bt]%p.poly.length;p.reversed&&(xt=p.poly.length-xt-1),i.push(xt)}}return i},p.getVisiblePolyFrom=function(t,e){null==e&&(e=0);var i,n=[];if(p.getVisibleIndicesFrom(t,e).length<=0)return n;var r=p.poly,s=p.stack[p.stackTop],o=s,a=r.length;o<0&&(o+=a);for(var A=r[s=o%a],l=null,h=d.UNKNOWN,f=d.UNKNOWN,m=0,_=p.stackTop+1;m<_;){var g=m++;if((f=p.vertexType[g])==d.RIGHT_LID){var y=c.meet(p.origPoint,A),C=p.poly,v=p.stack[g],I=v,B=C.length;I<0&&(I+=B);var E=p.poly,w=p.stack[g+1],b=w,x=E.length;b<0&&(b+=x),i=y.meet(c.meet(C[v=I%B],E[w=b%x])),null==l||null!=A&&l.x==A.x&&l.y==A.y||n.push(u._new(A.x,A.y)),n.push(i.toPoint())}else if(f==d.LEFT_WALL){var S=p.poly,Q=p.stack[g],k=Q,D=S.length;k<0&&(k+=D);var M=c.meet(p.origPoint,S[Q=k%D]),R=p.poly,V=p.stack[g-2],T=V,G=R.length;T<0&&(T+=G);var F=p.poly,P=p.stack[g-1],N=P,L=F.length;N<0&&(N+=L),i=M.meet(c.meet(R[V=T%G],F[P=N%L])),n.push(i.toPoint())}else f==d.RIGHT_WALL&&h==d.RIGHT_LID||f==d.LEFT_LID&&h==d.RIGHT_LID||n.push(u._new(A.x,A.y));l=n[n.length-1];var U=p.poly,O=p.stack[g],Y=O,H=U.length;Y<0&&(Y+=H),A=U[O=Y%H],h=f}return n},p.exitRightBay=function(t,e,n,r){for(var s,o=0,a=c.meet(p.origPoint,n),l=!1;++e<3*t.length;){s=l;var u,h=e,f=t.length;if(h<0&&(h+=f),(l=a.left(t[h%f]))!=s){var m=e-1,_=m,g=t.length;_<0&&(_+=g);var d=t[m=_%g],y=e,C=t.length;y<0&&(y+=C);var v=t[y%C],I=p.origPoint;u=(v.x-d.x)*(I.y-d.y)-(I.x-d.x)*(v.y-d.y)>0==l}else u=!1;if(u)if(l){if(0==o++){var B=e-1,E=B,w=t.length;E<0&&(E+=w);var b=e,x=t.length;b<0&&(b+=x);var S=c.meet(t[B=E%w],t[b%x]);if(S.left(n)&&!A.cw(a,S,r))return e-1}}else--o}return i.string(r),e},p.exitLeftBay=function(t,e,n,r){for(var s,o=0,a=c.meet(p.origPoint,n),l=!1;++e<3*t.length;){s=l;var u,h=e,f=t.length;if(h<0&&(h+=f),(l=a.right(t[h%f]))!=s){var m=e-1,_=m,g=t.length;_<0&&(_+=g);var d=t[m=_%g],y=e,C=t.length;y<0&&(y+=C);var v=t[y%C],I=p.origPoint;u=(v.x-d.x)*(I.y-d.y)-(I.x-d.x)*(v.y-d.y)<0==l}else u=!1;if(u)if(l){if(0==o--){var B=e-1,E=B,w=t.length;E<0&&(E+=w);var b=e,x=t.length;b<0&&(b+=x);var S=c.meet(t[B=E%w],t[b%x]);if(S.right(n)&&!A.cw(a,S,r))return e-1}}else++o}return i.string(r),e},p.push=function(t,e){p.stackTop++,p.stack[p.stackTop]=t,p.vertexType[p.stackTop]=e},p.saveLid=function(){p.vertexType[p.stackTop]==d.LEFT_WALL&&p.stackTop--,p.leftLidIdx=p.stack[p.stackTop--],p.rightLidIdx=p.vertexType[p.stackTop]==d.RIGHT_LID?p.stack[p.stackTop--]:-1},p.restoreLid=function(){-1!=p.rightLidIdx&&p.push(p.rightLidIdx,d.RIGHT_LID),p.push(p.leftLidIdx,d.LEFT_LID)};var y=function(){};y.__name__=!0,y.__string_rec=function(t,e){if(null==t)return"null";if(e.length>=5)return"<...>";var i=typeof t;switch("function"==i&&(t.__name__||t.__ename__)&&(i="object"),i){case"function":return"<function>";case"object":if(t instanceof Array){if(t.__enum__){if(2==t.length)return t[0];var n=t[0]+"(";e+="\t";for(var r=2,s=t.length;r<s;){var o=r++;n+=2!=o?","+y.__string_rec(t[o],e):y.__string_rec(t[o],e)}return n+")"}var a="[";e+="\t";for(var A=0,l=t.length;A<l;){var u=A++;a+=(u>0?",":"")+y.__string_rec(t[u],e)}return a+"]"}var h;try{h=t.toString}catch(g){return"???"}if(null!=h&&h!=Object.toString&&"function"==typeof h){var c=t.toString();if("[object Object]"!=c)return c}var f=null,m="{\n";e+="\t";var _=null!=t.hasOwnProperty;for(var f in t)_&&!t.hasOwnProperty(f)||"prototype"!=f&&"__class__"!=f&&"__super__"!=f&&"__interfaces__"!=f&&"__properties__"!=f&&(2!=m.length&&(m+=", \n"),m+=e+f+" : "+y.__string_rec(t[f],e));return m+"\n"+(e=e.substring(1))+"}";case"string":return t;default:return String(t)}};var C=0;String.__name__=!0,Array.__name__=!0,A.INFINITY=new A,u.EMPTY=u._new(NaN,NaN),c.point=u._new(),c.zero=u._new(0,0),c.EPSILON=1e-8,_.INFINITY=1e5,_.BAD=999990,_.NONE=0,p.NOT_SAVED=-1,p.stack=[],p.vertexType=[]}(e)},quSY:function(t,e,i){"use strict";var n=i("DH7j"),r=i("XoHu"),s=i("n6bG"),o=function(){function t(t){return Error.call(this),this.message=t?"".concat(t.length," errors occurred during unsubscription:\n").concat(t.map((function(t,e){return"".concat(e+1,") ").concat(t.toString())})).join("\n  ")):"",this.name="UnsubscriptionError",this.errors=t,this}return t.prototype=Object.create(Error.prototype),t}();i.d(e,"a",(function(){return l}));var a,A,l=((A=function(){function t(e){_classCallCheck2(this,t),this.closed=!1,this._parentOrParents=null,this._subscriptions=null,e&&(this._unsubscribe=e)}return _createClass2(t,[{key:"unsubscribe",value:function(){var e;if(!this.closed){var i=this._parentOrParents,a=this._unsubscribe,A=this._subscriptions;if(this.closed=!0,this._parentOrParents=null,this._subscriptions=null,i instanceof t)i.remove(this);else if(null!==i)for(var l=0;l<i.length;++l)i[l].remove(this);if(Object(s.a)(a))try{a.call(this)}catch(m){e=m instanceof o?u(m.errors):[m]}if(Object(n.a)(A))for(var h=-1,c=A.length;++h<c;){var f=A[h];if(Object(r.a)(f))try{f.unsubscribe()}catch(m){e=e||[],m instanceof o?e=e.concat(u(m.errors)):e.push(m)}}if(e)throw new o(e)}}},{key:"add",value:function(e){var i=e;if(!e)return t.EMPTY;switch(typeof e){case"function":i=new t(e);case"object":if(i===this||i.closed||"function"!=typeof i.unsubscribe)return i;if(this.closed)return i.unsubscribe(),i;if(!(i instanceof t)){var n=i;(i=new t)._subscriptions=[n]}break;default:throw new Error("unrecognized teardown "+e+" added to Subscription.")}var r=i._parentOrParents;if(null===r)i._parentOrParents=this;else if(r instanceof t){if(r===this)return i;i._parentOrParents=[r,this]}else{if(-1!==r.indexOf(this))return i;r.push(this)}var s=this._subscriptions;return null===s?this._subscriptions=[i]:s.push(i),i}},{key:"remove",value:function(t){var e=this._subscriptions;if(e){var i=e.indexOf(t);-1!==i&&e.splice(i,1)}}}]),t}()).EMPTY=((a=new A).closed=!0,a),A);function u(t){return t.reduce((function(t,e){return t.concat(e instanceof o?e.errors:e)}),[])}},tyNb:function(t,e,i){"use strict";var n=i("ofXK"),r=i("fXoL"),s=i("z+Ro"),o=i("yCtX"),a=i("jZKg");function A(){for(var t=arguments.length,e=new Array(t),i=0;i<t;i++)e[i]=arguments[i];var n=e[e.length-1];return Object(s.a)(n)?(e.pop(),Object(a.a)(e,n)):Object(o.a)(e)}var l=i("Cfvw"),u=i("XNiG"),h=i("9ppp"),c=function(t){function e(t){var i;return _classCallCheck2(this,e),(i=_possibleConstructorReturn(this,_getPrototypeOf(e).call(this)))._value=t,i}return _inherits(e,t),_createClass2(e,[{key:"_subscribe",value:function(t){var i=_get(_getPrototypeOf(e.prototype),"_subscribe",this).call(this,t);return i&&!i.closed&&t.next(this._value),i}},{key:"getValue",value:function(){if(this.hasError)throw this.thrownError;if(this.closed)throw new h.a;return this._value}},{key:"next",value:function(t){_get(_getPrototypeOf(e.prototype),"next",this).call(this,this._value=t)}},{key:"value",get:function(){return this.getValue()}}]),e}(u.a),f=i("HDdC"),m=function(){function t(){return Error.call(this),this.message="no elements in sequence",this.name="EmptyError",this}return t.prototype=Object.create(Error.prototype),t}(),_=i("DH7j"),g=i("l7GE"),d=i("ZUHj"),p={},y=function(){function t(e){_classCallCheck2(this,t),this.resultSelector=e}return _createClass2(t,[{key:"call",value:function(t,e){return e.subscribe(new C(t,this.resultSelector))}}]),t}(),C=function(t){function e(t,i){var n;return _classCallCheck2(this,e),(n=_possibleConstructorReturn(this,_getPrototypeOf(e).call(this,t))).resultSelector=i,n.active=0,n.values=[],n.observables=[],n}return _inherits(e,t),_createClass2(e,[{key:"_next",value:function(t){this.values.push(p),this.observables.push(t)}},{key:"_complete",value:function(){var t=this.observables,e=t.length;if(0===e)this.destination.complete();else{this.active=e,this.toRespond=e;for(var i=0;i<e;i++){var n=t[i];this.add(Object(d.a)(this,n,n,i))}}}},{key:"notifyComplete",value:function(t){0==(this.active-=1)&&this.destination.complete()}},{key:"notifyNext",value:function(t,e,i,n,r){var s=this.values,o=this.toRespond?s[i]===p?--this.toRespond:this.toRespond:0;s[i]=e,0===o&&(this.resultSelector?this._tryResultSelector(s):this.destination.next(s.slice()))}},{key:"_tryResultSelector",value:function(t){var e;try{e=this.resultSelector.apply(this,t)}catch(i){return void this.destination.error(i)}this.destination.next(e)}}]),e}(g.a),v=new f.a((function(t){return t.complete()}));function I(t){return t?function(t){return new f.a((function(e){return t.schedule((function(){return e.complete()}))}))}(t):v}function B(t){return new f.a((function(e){var i;try{i=t()}catch(n){return void e.error(n)}return(i?Object(l.a)(i):I()).subscribe(e)}))}var E=i("lJxs"),w=i("bHdf");function b(){return Object(w.a)(1)}var x=i("7o/Q");function S(t,e){return function(i){return i.lift(new Q(t,e))}}var Q=function(){function t(e,i){_classCallCheck2(this,t),this.predicate=e,this.thisArg=i}return _createClass2(t,[{key:"call",value:function(t,e){return e.subscribe(new k(t,this.predicate,this.thisArg))}}]),t}(),k=function(t){function e(t,i,n){var r;return _classCallCheck2(this,e),(r=_possibleConstructorReturn(this,_getPrototypeOf(e).call(this,t))).predicate=i,r.thisArg=n,r.count=0,r}return _inherits(e,t),_createClass2(e,[{key:"_next",value:function(t){var e;try{e=this.predicate.call(this.thisArg,t,this.count++)}catch(i){return void this.destination.error(i)}e&&this.destination.next(t)}}]),e}(x.a),D=function(){function t(){return Error.call(this),this.message="argument out of range",this.name="ArgumentOutOfRangeError",this}return t.prototype=Object.create(Error.prototype),t}();function M(t){return function(e){return 0===t?I():e.lift(new R(t))}}var R=function(){function t(e){if(_classCallCheck2(this,t),this.total=e,this.total<0)throw new D}return _createClass2(t,[{key:"call",value:function(t,e){return e.subscribe(new V(t,this.total))}}]),t}(),V=function(t){function e(t,i){var n;return _classCallCheck2(this,e),(n=_possibleConstructorReturn(this,_getPrototypeOf(e).call(this,t))).total=i,n.ring=new Array,n.count=0,n}return _inherits(e,t),_createClass2(e,[{key:"_next",value:function(t){var e=this.ring,i=this.total,n=this.count++;e.length<i?e.push(t):e[n%i]=t}},{key:"_complete",value:function(){var t=this.destination,e=this.count;if(e>0)for(var i=this.count>=this.total?this.total:this.count,n=this.ring,r=0;r<i;r++){var s=e++%i;t.next(n[s])}t.complete()}}]),e}(x.a);function T(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:P;return function(e){return e.lift(new G(t))}}var G=function(){function t(e){_classCallCheck2(this,t),this.errorFactory=e}return _createClass2(t,[{key:"call",value:function(t,e){return e.subscribe(new F(t,this.errorFactory))}}]),t}(),F=function(t){function e(t,i){var n;return _classCallCheck2(this,e),(n=_possibleConstructorReturn(this,_getPrototypeOf(e).call(this,t))).errorFactory=i,n.hasValue=!1,n}return _inherits(e,t),_createClass2(e,[{key:"_next",value:function(t){this.hasValue=!0,this.destination.next(t)}},{key:"_complete",value:function(){if(this.hasValue)return this.destination.complete();var t;try{t=this.errorFactory()}catch(e){t=e}this.destination.error(t)}}]),e}(x.a);function P(){return new m}function N(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;return function(e){return e.lift(new L(t))}}var L=function(){function t(e){_classCallCheck2(this,t),this.defaultValue=e}return _createClass2(t,[{key:"call",value:function(t,e){return e.subscribe(new U(t,this.defaultValue))}}]),t}(),U=function(t){function e(t,i){var n;return _classCallCheck2(this,e),(n=_possibleConstructorReturn(this,_getPrototypeOf(e).call(this,t))).defaultValue=i,n.isEmpty=!0,n}return _inherits(e,t),_createClass2(e,[{key:"_next",value:function(t){this.isEmpty=!1,this.destination.next(t)}},{key:"_complete",value:function(){this.isEmpty&&this.destination.next(this.defaultValue),this.destination.complete()}}]),e}(x.a),O=i("SpAZ");function Y(t,e){var i=arguments.length>=2;return function(n){return n.pipe(t?S((function(e,i){return t(e,i,n)})):O.a,M(1),i?N(e):T((function(){return new m})))}}var H=i("51Dv");function J(t){return function(e){var i=new j(t),n=e.lift(i);return i.caught=n}}var j=function(){function t(e){_classCallCheck2(this,t),this.selector=e}return _createClass2(t,[{key:"call",value:function(t,e){return e.subscribe(new K(t,this.selector,this.caught))}}]),t}(),K=function(t){function e(t,i,n){var r;return _classCallCheck2(this,e),(r=_possibleConstructorReturn(this,_getPrototypeOf(e).call(this,t))).selector=i,r.caught=n,r}return _inherits(e,t),_createClass2(e,[{key:"error",value:function(t){if(!this.isStopped){var i;try{i=this.selector(t,this.caught)}catch(r){return void _get(_getPrototypeOf(e.prototype),"error",this).call(this,r)}this._unsubscribeAndRecycle();var n=new H.a(this,void 0,void 0);this.add(n),Object(d.a)(this,i,void 0,void 0,n)}}}]),e}(g.a);function q(t){return function(e){return 0===t?I():e.lift(new z(t))}}var z=function(){function t(e){if(_classCallCheck2(this,t),this.total=e,this.total<0)throw new D}return _createClass2(t,[{key:"call",value:function(t,e){return e.subscribe(new X(t,this.total))}}]),t}(),X=function(t){function e(t,i){var n;return _classCallCheck2(this,e),(n=_possibleConstructorReturn(this,_getPrototypeOf(e).call(this,t))).total=i,n.count=0,n}return _inherits(e,t),_createClass2(e,[{key:"_next",value:function(t){var e=this.total,i=++this.count;i<=e&&(this.destination.next(t),i===e&&(this.destination.complete(),this.unsubscribe()))}}]),e}(x.a);function W(t,e){var i=arguments.length>=2;return function(n){return n.pipe(t?S((function(e,i){return t(e,i,n)})):O.a,q(1),i?N(e):T((function(){return new m})))}}var Z=i("5+tZ"),$=function(){function t(e,i,n){_classCallCheck2(this,t),this.predicate=e,this.thisArg=i,this.source=n}return _createClass2(t,[{key:"call",value:function(t,e){return e.subscribe(new tt(t,this.predicate,this.thisArg,this.source))}}]),t}(),tt=function(t){function e(t,i,n,r){var s;return _classCallCheck2(this,e),(s=_possibleConstructorReturn(this,_getPrototypeOf(e).call(this,t))).predicate=i,s.thisArg=n,s.source=r,s.index=0,s.thisArg=n||_assertThisInitialized(s),s}return _inherits(e,t),_createClass2(e,[{key:"notifyComplete",value:function(t){this.destination.next(t),this.destination.complete()}},{key:"_next",value:function(t){var e=!1;try{e=this.predicate.call(this.thisArg,t,this.index++,this.source)}catch(i){return void this.destination.error(i)}e||this.notifyComplete(!1)}},{key:"_complete",value:function(){this.notifyComplete(!0)}}]),e}(x.a);function et(t,e){return"function"==typeof e?function(i){return i.pipe(et((function(i,n){return Object(l.a)(t(i,n)).pipe(Object(E.a)((function(t,r){return e(i,t,n,r)})))})))}:function(e){return e.lift(new it(t))}}var it=function(){function t(e){_classCallCheck2(this,t),this.project=e}return _createClass2(t,[{key:"call",value:function(t,e){return e.subscribe(new nt(t,this.project))}}]),t}(),nt=function(t){function e(t,i){var n;return _classCallCheck2(this,e),(n=_possibleConstructorReturn(this,_getPrototypeOf(e).call(this,t))).project=i,n.index=0,n}return _inherits(e,t),_createClass2(e,[{key:"_next",value:function(t){var e,i=this.index++;try{e=this.project(t,i)}catch(n){return void this.destination.error(n)}this._innerSub(e,t,i)}},{key:"_innerSub",value:function(t,e,i){var n=this.innerSubscription;n&&n.unsubscribe();var r=new H.a(this,void 0,void 0);this.destination.add(r),this.innerSubscription=Object(d.a)(this,t,e,i,r)}},{key:"_complete",value:function(){var t=this.innerSubscription;t&&!t.closed||_get(_getPrototypeOf(e.prototype),"_complete",this).call(this),this.unsubscribe()}},{key:"_unsubscribe",value:function(){this.innerSubscription=null}},{key:"notifyComplete",value:function(t){this.destination.remove(t),this.innerSubscription=null,this.isStopped&&_get(_getPrototypeOf(e.prototype),"_complete",this).call(this)}},{key:"notifyNext",value:function(t,e,i,n,r){this.destination.next(e)}}]),e}(g.a);function rt(){return b()(A.apply(void 0,arguments))}function st(t,e){var i=!1;return arguments.length>=2&&(i=!0),function(n){return n.lift(new ot(t,e,i))}}var ot=function(){function t(e,i){var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];_classCallCheck2(this,t),this.accumulator=e,this.seed=i,this.hasSeed=n}return _createClass2(t,[{key:"call",value:function(t,e){return e.subscribe(new at(t,this.accumulator,this.seed,this.hasSeed))}}]),t}(),at=function(t){function e(t,i,n,r){var s;return _classCallCheck2(this,e),(s=_possibleConstructorReturn(this,_getPrototypeOf(e).call(this,t))).accumulator=i,s._seed=n,s.hasSeed=r,s.index=0,s}return _inherits(e,t),_createClass2(e,[{key:"_next",value:function(t){if(this.hasSeed)return this._tryNext(t);this.seed=t,this.destination.next(t)}},{key:"_tryNext",value:function(t){var e,i=this.index++;try{e=this.accumulator(this.seed,t,i)}catch(n){this.destination.error(n)}this.seed=e,this.destination.next(e)}},{key:"seed",get:function(){return this._seed},set:function(t){this.hasSeed=!0,this._seed=t}}]),e}(x.a);function At(t,e){return Object(Z.a)(t,e,1)}var lt=i("mCNh"),ut=i("KqfI"),ht=i("n6bG");function ct(t,e,i){return function(n){return n.lift(new ft(t,e,i))}}var ft=function(){function t(e,i,n){_classCallCheck2(this,t),this.nextOrObserver=e,this.error=i,this.complete=n}return _createClass2(t,[{key:"call",value:function(t,e){return e.subscribe(new mt(t,this.nextOrObserver,this.error,this.complete))}}]),t}(),mt=function(t){function e(t,i,n,r){var s;return _classCallCheck2(this,e),(s=_possibleConstructorReturn(this,_getPrototypeOf(e).call(this,t)))._tapNext=ut.a,s._tapError=ut.a,s._tapComplete=ut.a,s._tapError=n||ut.a,s._tapComplete=r||ut.a,Object(ht.a)(i)?(s._context=_assertThisInitialized(s),s._tapNext=i):i&&(s._context=i,s._tapNext=i.next||ut.a,s._tapError=i.error||ut.a,s._tapComplete=i.complete||ut.a),s}return _inherits(e,t),_createClass2(e,[{key:"_next",value:function(t){try{this._tapNext.call(this._context,t)}catch(e){return void this.destination.error(e)}this.destination.next(t)}},{key:"_error",value:function(t){try{this._tapError.call(this._context,t)}catch(t){return void this.destination.error(t)}this.destination.error(t)}},{key:"_complete",value:function(){try{this._tapComplete.call(this._context)}catch(t){return void this.destination.error(t)}return this.destination.complete()}}]),e}(x.a),_t=i("quSY"),gt=function(){function t(e){_classCallCheck2(this,t),this.callback=e}return _createClass2(t,[{key:"call",value:function(t,e){return e.subscribe(new dt(t,this.callback))}}]),t}(),dt=function(t){function e(t,i){var n;return _classCallCheck2(this,e),(n=_possibleConstructorReturn(this,_getPrototypeOf(e).call(this,t))).add(new _t.a(i)),n}return _inherits(e,t),e}(x.a);i.d(e,"a",(function(){return Zi})),i.d(e,"b",(function(){return Ui}));var pt,yt=function t(e,i){_classCallCheck2(this,t),this.id=e,this.url=i},Ct=function(t){function e(t,i){var n,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"imperative",s=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null;return _classCallCheck2(this,e),(n=_possibleConstructorReturn(this,_getPrototypeOf(e).call(this,t,i))).navigationTrigger=r,n.restoredState=s,n}return _inherits(e,t),_createClass2(e,[{key:"toString",value:function(){return"NavigationStart(id: ".concat(this.id,", url: '").concat(this.url,"')")}}]),e}(yt),vt=function(t){function e(t,i,n){var r;return _classCallCheck2(this,e),(r=_possibleConstructorReturn(this,_getPrototypeOf(e).call(this,t,i))).urlAfterRedirects=n,r}return _inherits(e,t),_createClass2(e,[{key:"toString",value:function(){return"NavigationEnd(id: ".concat(this.id,", url: '").concat(this.url,"', urlAfterRedirects: '").concat(this.urlAfterRedirects,"')")}}]),e}(yt),It=function(t){function e(t,i,n){var r;return _classCallCheck2(this,e),(r=_possibleConstructorReturn(this,_getPrototypeOf(e).call(this,t,i))).reason=n,r}return _inherits(e,t),_createClass2(e,[{key:"toString",value:function(){return"NavigationCancel(id: ".concat(this.id,", url: '").concat(this.url,"')")}}]),e}(yt),Bt=function(t){function e(t,i,n){var r;return _classCallCheck2(this,e),(r=_possibleConstructorReturn(this,_getPrototypeOf(e).call(this,t,i))).error=n,r}return _inherits(e,t),_createClass2(e,[{key:"toString",value:function(){return"NavigationError(id: ".concat(this.id,", url: '").concat(this.url,"', error: ").concat(this.error,")")}}]),e}(yt),Et=function(t){function e(t,i,n,r){var s;return _classCallCheck2(this,e),(s=_possibleConstructorReturn(this,_getPrototypeOf(e).call(this,t,i))).urlAfterRedirects=n,s.state=r,s}return _inherits(e,t),_createClass2(e,[{key:"toString",value:function(){return"RoutesRecognized(id: ".concat(this.id,", url: '").concat(this.url,"', urlAfterRedirects: '").concat(this.urlAfterRedirects,"', state: ").concat(this.state,")")}}]),e}(yt),wt=function(t){function e(t,i,n,r){var s;return _classCallCheck2(this,e),(s=_possibleConstructorReturn(this,_getPrototypeOf(e).call(this,t,i))).urlAfterRedirects=n,s.state=r,s}return _inherits(e,t),_createClass2(e,[{key:"toString",value:function(){return"GuardsCheckStart(id: ".concat(this.id,", url: '").concat(this.url,"', urlAfterRedirects: '").concat(this.urlAfterRedirects,"', state: ").concat(this.state,")")}}]),e}(yt),bt=function(t){function e(t,i,n,r,s){var o;return _classCallCheck2(this,e),(o=_possibleConstructorReturn(this,_getPrototypeOf(e).call(this,t,i))).urlAfterRedirects=n,o.state=r,o.shouldActivate=s,o}return _inherits(e,t),_createClass2(e,[{key:"toString",value:function(){return"GuardsCheckEnd(id: ".concat(this.id,", url: '").concat(this.url,"', urlAfterRedirects: '").concat(this.urlAfterRedirects,"', state: ").concat(this.state,", shouldActivate: ").concat(this.shouldActivate,")")}}]),e}(yt),xt=function(t){function e(t,i,n,r){var s;return _classCallCheck2(this,e),(s=_possibleConstructorReturn(this,_getPrototypeOf(e).call(this,t,i))).urlAfterRedirects=n,s.state=r,s}return _inherits(e,t),_createClass2(e,[{key:"toString",value:function(){return"ResolveStart(id: ".concat(this.id,", url: '").concat(this.url,"', urlAfterRedirects: '").concat(this.urlAfterRedirects,"', state: ").concat(this.state,")")}}]),e}(yt),St=function(t){function e(t,i,n,r){var s;return _classCallCheck2(this,e),(s=_possibleConstructorReturn(this,_getPrototypeOf(e).call(this,t,i))).urlAfterRedirects=n,s.state=r,s}return _inherits(e,t),_createClass2(e,[{key:"toString",value:function(){return"ResolveEnd(id: ".concat(this.id,", url: '").concat(this.url,"', urlAfterRedirects: '").concat(this.urlAfterRedirects,"', state: ").concat(this.state,")")}}]),e}(yt),Qt=function(){function t(e){_classCallCheck2(this,t),this.route=e}return _createClass2(t,[{key:"toString",value:function(){return"RouteConfigLoadStart(path: ".concat(this.route.path,")")}}]),t}(),kt=function(){function t(e){_classCallCheck2(this,t),this.route=e}return _createClass2(t,[{key:"toString",value:function(){return"RouteConfigLoadEnd(path: ".concat(this.route.path,")")}}]),t}(),Dt=function(){function t(e){_classCallCheck2(this,t),this.snapshot=e}return _createClass2(t,[{key:"toString",value:function(){return"ChildActivationStart(path: '".concat(this.snapshot.routeConfig&&this.snapshot.routeConfig.path||"","')")}}]),t}(),Mt=function(){function t(e){_classCallCheck2(this,t),this.snapshot=e}return _createClass2(t,[{key:"toString",value:function(){return"ChildActivationEnd(path: '".concat(this.snapshot.routeConfig&&this.snapshot.routeConfig.path||"","')")}}]),t}(),Rt=function(){function t(e){_classCallCheck2(this,t),this.snapshot=e}return _createClass2(t,[{key:"toString",value:function(){return"ActivationStart(path: '".concat(this.snapshot.routeConfig&&this.snapshot.routeConfig.path||"","')")}}]),t}(),Vt=function(){function t(e){_classCallCheck2(this,t),this.snapshot=e}return _createClass2(t,[{key:"toString",value:function(){return"ActivationEnd(path: '".concat(this.snapshot.routeConfig&&this.snapshot.routeConfig.path||"","')")}}]),t}(),Tt=function(){function t(e,i,n){_classCallCheck2(this,t),this.routerEvent=e,this.position=i,this.anchor=n}return _createClass2(t,[{key:"toString",value:function(){return"Scroll(anchor: '".concat(this.anchor,"', position: '").concat(this.position?"".concat(this.position[0],", ").concat(this.position[1]):null,"')")}}]),t}(),Gt=((pt=function t(){_classCallCheck2(this,t)}).\u0275fac=function(t){return new(t||pt)},pt.\u0275cmp=r.zb({type:pt,selectors:[["ng-component"]],decls:1,vars:0,template:function(t,e){1&t&&r.Gb(0,"router-outlet")},directives:function(){return[Ui]},encapsulation:2}),pt),Ft="primary",Pt=function(){function t(e){_classCallCheck2(this,t),this.params=e||{}}return _createClass2(t,[{key:"has",value:function(t){return this.params.hasOwnProperty(t)}},{key:"get",value:function(t){if(this.has(t)){var e=this.params[t];return Array.isArray(e)?e[0]:e}return null}},{key:"getAll",value:function(t){if(this.has(t)){var e=this.params[t];return Array.isArray(e)?e:[e]}return[]}},{key:"keys",get:function(){return Object.keys(this.params)}}]),t}();function Nt(t){return new Pt(t)}var Lt="ngNavigationCancelingError";function Ut(t){var e=Error("NavigationCancelingError: "+t);return e[Lt]=!0,e}function Ot(t,e,i){var n=i.path.split("/");if(n.length>t.length)return null;if("full"===i.pathMatch&&(e.hasChildren()||n.length<t.length))return null;for(var r={},s=0;s<n.length;s++){var o=n[s],a=t[s];if(o.startsWith(":"))r[o.substring(1)]=a;else if(o!==a.path)return null}return{consumed:t.slice(0,n.length),posParams:r}}var Yt=function t(e,i){_classCallCheck2(this,t),this.routes=e,this.module=i};function Ht(t){for(var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",i=0;i<t.length;i++){var n=t[i];Jt(n,jt(e,n))}}function Jt(t,e){if(!t)throw new Error("\n      Invalid configuration of route '".concat(e,"': Encountered undefined route.\n      The reason might be an extra comma.\n\n      Example:\n      const routes: Routes = [\n        { path: '', redirectTo: '/dashboard', pathMatch: 'full' },\n        { path: 'dashboard',  component: DashboardComponent },, << two commas\n        { path: 'detail/:id', component: HeroDetailComponent }\n      ];\n    "));if(Array.isArray(t))throw new Error("Invalid configuration of route '".concat(e,"': Array cannot be specified"));if(!t.component&&!t.children&&!t.loadChildren&&t.outlet&&t.outlet!==Ft)throw new Error("Invalid configuration of route '".concat(e,"': a componentless route without children or loadChildren cannot have a named outlet set"));if(t.redirectTo&&t.children)throw new Error("Invalid configuration of route '".concat(e,"': redirectTo and children cannot be used together"));if(t.redirectTo&&t.loadChildren)throw new Error("Invalid configuration of route '".concat(e,"': redirectTo and loadChildren cannot be used together"));if(t.children&&t.loadChildren)throw new Error("Invalid configuration of route '".concat(e,"': children and loadChildren cannot be used together"));if(t.redirectTo&&t.component)throw new Error("Invalid configuration of route '".concat(e,"': redirectTo and component cannot be used together"));if(t.path&&t.matcher)throw new Error("Invalid configuration of route '".concat(e,"': path and matcher cannot be used together"));if(void 0===t.redirectTo&&!t.component&&!t.children&&!t.loadChildren)throw new Error("Invalid configuration of route '".concat(e,"'. One of the following must be provided: component, redirectTo, children or loadChildren"));if(void 0===t.path&&void 0===t.matcher)throw new Error("Invalid configuration of route '".concat(e,"': routes must have either a path or a matcher specified"));if("string"==typeof t.path&&"/"===t.path.charAt(0))throw new Error("Invalid configuration of route '".concat(e,"': path cannot start with a slash"));if(""===t.path&&void 0!==t.redirectTo&&void 0===t.pathMatch)throw new Error("Invalid configuration of route '{path: \"".concat(e,'", redirectTo: "').concat(t.redirectTo,"\"}': please provide 'pathMatch'. The default value of 'pathMatch' is 'prefix', but often the intent is to use 'full'."));if(void 0!==t.pathMatch&&"full"!==t.pathMatch&&"prefix"!==t.pathMatch)throw new Error("Invalid configuration of route '".concat(e,"': pathMatch can only be set to 'prefix' or 'full'"));t.children&&Ht(t.children,e)}function jt(t,e){return e?t||e.path?t&&!e.path?"".concat(t,"/"):!t&&e.path?e.path:"".concat(t,"/").concat(e.path):"":t}function Kt(t){var e=t.children&&t.children.map(Kt),i=e?Object.assign(Object.assign({},t),{children:e}):Object.assign({},t);return!i.component&&(e||i.loadChildren)&&i.outlet&&i.outlet!==Ft&&(i.component=Gt),i}function qt(t,e){var i,n=Object.keys(t),r=Object.keys(e);if(!n||!r||n.length!=r.length)return!1;for(var s=0;s<n.length;s++)if(t[i=n[s]]!==e[i])return!1;return!0}function zt(t){return Array.prototype.concat.apply([],t)}function Xt(t){return t.length>0?t[t.length-1]:null}function Wt(t,e){for(var i in t)t.hasOwnProperty(i)&&e(t[i],i)}function Zt(t){return Object(r.mb)(t)?t:Object(r.nb)(t)?Object(l.a)(Promise.resolve(t)):A(t)}function $t(t,e,i){return i?function(t,e){return qt(t,e)}(t.queryParams,e.queryParams)&&function t(e,i){if(!ne(e.segments,i.segments))return!1;if(e.numberOfChildren!==i.numberOfChildren)return!1;for(var n in i.children){if(!e.children[n])return!1;if(!t(e.children[n],i.children[n]))return!1}return!0}(t.root,e.root):function(t,e){return Object.keys(e).length<=Object.keys(t).length&&Object.keys(e).every((function(i){return e[i]===t[i]}))}(t.queryParams,e.queryParams)&&function t(e,i){return function e(i,n,r){if(i.segments.length>r.length)return!!ne(i.segments.slice(0,r.length),r)&&!n.hasChildren();if(i.segments.length===r.length){if(!ne(i.segments,r))return!1;for(var s in n.children){if(!i.children[s])return!1;if(!t(i.children[s],n.children[s]))return!1}return!0}var o=r.slice(0,i.segments.length),a=r.slice(i.segments.length);return!!ne(i.segments,o)&&!!i.children[Ft]&&e(i.children[Ft],n,a)}(e,i,i.segments)}(t.root,e.root)}var te=function(){function t(e,i,n){_classCallCheck2(this,t),this.root=e,this.queryParams=i,this.fragment=n}return _createClass2(t,[{key:"toString",value:function(){return ae.serialize(this)}},{key:"queryParamMap",get:function(){return this._queryParamMap||(this._queryParamMap=Nt(this.queryParams)),this._queryParamMap}}]),t}(),ee=function(){function t(e,i){var n=this;_classCallCheck2(this,t),this.segments=e,this.children=i,this.parent=null,Wt(i,(function(t,e){return t.parent=n}))}return _createClass2(t,[{key:"hasChildren",value:function(){return this.numberOfChildren>0}},{key:"toString",value:function(){return Ae(this)}},{key:"numberOfChildren",get:function(){return Object.keys(this.children).length}}]),t}(),ie=function(){function t(e,i){_classCallCheck2(this,t),this.path=e,this.parameters=i}return _createClass2(t,[{key:"toString",value:function(){return me(this)}},{key:"parameterMap",get:function(){return this._parameterMap||(this._parameterMap=Nt(this.parameters)),this._parameterMap}}]),t}();function ne(t,e){return t.length===e.length&&t.every((function(t,i){return t.path===e[i].path}))}function re(t,e){var i=[];return Wt(t.children,(function(t,n){n===Ft&&(i=i.concat(e(t,n)))})),Wt(t.children,(function(t,n){n!==Ft&&(i=i.concat(e(t,n)))})),i}var se=function t(){_classCallCheck2(this,t)},oe=function(){function t(){_classCallCheck2(this,t)}return _createClass2(t,[{key:"parse",value:function(t){var e=new ye(t);return new te(e.parseRootSegment(),e.parseQueryParams(),e.parseFragment())}},{key:"serialize",value:function(t){var e,i,n;return"".concat("/".concat(function t(e,i){if(!e.hasChildren())return Ae(e);if(i){var n=e.children[Ft]?t(e.children[Ft],!1):"",r=[];return Wt(e.children,(function(e,i){i!==Ft&&r.push("".concat(i,":").concat(t(e,!1)))})),r.length>0?"".concat(n,"(").concat(r.join("//"),")"):n}var s=re(e,(function(i,n){return n===Ft?[t(e.children[Ft],!1)]:["".concat(n,":").concat(t(i,!1))]}));return"".concat(Ae(e),"/(").concat(s.join("//"),")")}(t.root,!0)),(i=t.queryParams,n=Object.keys(i).map((function(t){var e=i[t];return Array.isArray(e)?e.map((function(e){return"".concat(ue(t),"=").concat(ue(e))})).join("&"):"".concat(ue(t),"=").concat(ue(e))})),n.length?"?".concat(n.join("&")):"")).concat("string"==typeof t.fragment?"#".concat((e=t.fragment,encodeURI(e))):"")}}]),t}(),ae=new oe;function Ae(t){return t.segments.map((function(t){return me(t)})).join("/")}function le(t){return encodeURIComponent(t).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function ue(t){return le(t).replace(/%3B/gi,";")}function he(t){return le(t).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function ce(t){return decodeURIComponent(t)}function fe(t){return ce(t.replace(/\+/g,"%20"))}function me(t){return"".concat(he(t.path)).concat((e=t.parameters,Object.keys(e).map((function(t){return";".concat(he(t),"=").concat(he(e[t]))})).join("")));var e}var _e=/^[^\/()?;=#]+/;function ge(t){var e=t.match(_e);return e?e[0]:""}var de=/^[^=?&#]+/,pe=/^[^?&#]+/,ye=function(){function t(e){_classCallCheck2(this,t),this.url=e,this.remaining=e}return _createClass2(t,[{key:"parseRootSegment",value:function(){return this.consumeOptional("/"),""===this.remaining||this.peekStartsWith("?")||this.peekStartsWith("#")?new ee([],{}):new ee([],this.parseChildren())}},{key:"parseQueryParams",value:function(){var t={};if(this.consumeOptional("?"))do{this.parseQueryParam(t)}while(this.consumeOptional("&"));return t}},{key:"parseFragment",value:function(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}},{key:"parseChildren",value:function(){if(""===this.remaining)return{};this.consumeOptional("/");var t=[];for(this.peekStartsWith("(")||t.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),t.push(this.parseSegment());var e={};this.peekStartsWith("/(")&&(this.capture("/"),e=this.parseParens(!0));var i={};return this.peekStartsWith("(")&&(i=this.parseParens(!1)),(t.length>0||Object.keys(e).length>0)&&(i[Ft]=new ee(t,e)),i}},{key:"parseSegment",value:function(){var t=ge(this.remaining);if(""===t&&this.peekStartsWith(";"))throw new Error("Empty path url segment cannot have parameters: '".concat(this.remaining,"'."));return this.capture(t),new ie(ce(t),this.parseMatrixParams())}},{key:"parseMatrixParams",value:function(){for(var t={};this.consumeOptional(";");)this.parseParam(t);return t}},{key:"parseParam",value:function(t){var e=ge(this.remaining);if(e){this.capture(e);var i="";if(this.consumeOptional("=")){var n=ge(this.remaining);n&&this.capture(i=n)}t[ce(e)]=ce(i)}}},{key:"parseQueryParam",value:function(t){var e=function(t){var e=t.match(de);return e?e[0]:""}(this.remaining);if(e){this.capture(e);var i="";if(this.consumeOptional("=")){var n=function(t){var e=t.match(pe);return e?e[0]:""}(this.remaining);n&&this.capture(i=n)}var r=fe(e),s=fe(i);if(t.hasOwnProperty(r)){var o=t[r];Array.isArray(o)||(t[r]=o=[o]),o.push(s)}else t[r]=s}}},{key:"parseParens",value:function(t){var e={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){var i=ge(this.remaining),n=this.remaining[i.length];if("/"!==n&&")"!==n&&";"!==n)throw new Error("Cannot parse url '".concat(this.url,"'"));var r=void 0;i.indexOf(":")>-1?(r=i.substr(0,i.indexOf(":")),this.capture(r),this.capture(":")):t&&(r=Ft);var s=this.parseChildren();e[r]=1===Object.keys(s).length?s[Ft]:new ee([],s),this.consumeOptional("//")}return e}},{key:"peekStartsWith",value:function(t){return this.remaining.startsWith(t)}},{key:"consumeOptional",value:function(t){return!!this.peekStartsWith(t)&&(this.remaining=this.remaining.substring(t.length),!0)}},{key:"capture",value:function(t){if(!this.consumeOptional(t))throw new Error('Expected "'.concat(t,'".'))}}]),t}(),Ce=function(){function t(e){_classCallCheck2(this,t),this._root=e}return _createClass2(t,[{key:"parent",value:function(t){var e=this.pathFromRoot(t);return e.length>1?e[e.length-2]:null}},{key:"children",value:function(t){var e=ve(t,this._root);return e?e.children.map((function(t){return t.value})):[]}},{key:"firstChild",value:function(t){var e=ve(t,this._root);return e&&e.children.length>0?e.children[0].value:null}},{key:"siblings",value:function(t){var e=Ie(t,this._root);return e.length<2?[]:e[e.length-2].children.map((function(t){return t.value})).filter((function(e){return e!==t}))}},{key:"pathFromRoot",value:function(t){return Ie(t,this._root).map((function(t){return t.value}))}},{key:"root",get:function(){return this._root.value}}]),t}();function ve(t,e){if(t===e.value)return e;var i=!0,n=!1,r=void 0;try{for(var s,o=e.children[Symbol.iterator]();!(i=(s=o.next()).done);i=!0){var a=ve(t,s.value);if(a)return a}}catch(A){n=!0,r=A}finally{try{i||null==o.return||o.return()}finally{if(n)throw r}}return null}function Ie(t,e){if(t===e.value)return[e];var i=!0,n=!1,r=void 0;try{for(var s,o=e.children[Symbol.iterator]();!(i=(s=o.next()).done);i=!0){var a=Ie(t,s.value);if(a.length)return a.unshift(e),a}}catch(A){n=!0,r=A}finally{try{i||null==o.return||o.return()}finally{if(n)throw r}}return[]}var Be=function(){function t(e,i){_classCallCheck2(this,t),this.value=e,this.children=i}return _createClass2(t,[{key:"toString",value:function(){return"TreeNode(".concat(this.value,")")}}]),t}();function Ee(t){var e={};return t&&t.children.forEach((function(t){return e[t.value.outlet]=t})),e}var we=function(t){function e(t,i){var n;return _classCallCheck2(this,e),(n=_possibleConstructorReturn(this,_getPrototypeOf(e).call(this,t))).snapshot=i,De(_assertThisInitialized(n),t),n}return _inherits(e,t),_createClass2(e,[{key:"toString",value:function(){return this.snapshot.toString()}}]),e}(Ce);function be(t,e){var i=function(t,e){var i=new Qe([],{},{},"",{},Ft,e,null,t.root,-1,{});return new ke("",new Be(i,[]))}(t,e),n=new c([new ie("",{})]),r=new c({}),s=new c({}),o=new c({}),a=new c(""),A=new xe(n,r,o,a,s,Ft,e,i.root);return A.snapshot=i.root,new we(new Be(A,[]),i)}var xe=function(){function t(e,i,n,r,s,o,a,A){_classCallCheck2(this,t),this.url=e,this.params=i,this.queryParams=n,this.fragment=r,this.data=s,this.outlet=o,this.component=a,this._futureSnapshot=A}return _createClass2(t,[{key:"toString",value:function(){return this.snapshot?this.snapshot.toString():"Future(".concat(this._futureSnapshot,")")}},{key:"routeConfig",get:function(){return this._futureSnapshot.routeConfig}},{key:"root",get:function(){return this._routerState.root}},{key:"parent",get:function(){return this._routerState.parent(this)}},{key:"firstChild",get:function(){return this._routerState.firstChild(this)}},{key:"children",get:function(){return this._routerState.children(this)}},{key:"pathFromRoot",get:function(){return this._routerState.pathFromRoot(this)}},{key:"paramMap",get:function(){return this._paramMap||(this._paramMap=this.params.pipe(Object(E.a)((function(t){return Nt(t)})))),this._paramMap}},{key:"queryParamMap",get:function(){return this._queryParamMap||(this._queryParamMap=this.queryParams.pipe(Object(E.a)((function(t){return Nt(t)})))),this._queryParamMap}}]),t}();function Se(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"emptyOnly",i=t.pathFromRoot,n=0;if("always"!==e)for(n=i.length-1;n>=1;){var r=i[n],s=i[n-1];if(r.routeConfig&&""===r.routeConfig.path)n--;else{if(s.component)break;n--}}return function(t){return t.reduce((function(t,e){return{params:Object.assign(Object.assign({},t.params),e.params),data:Object.assign(Object.assign({},t.data),e.data),resolve:Object.assign(Object.assign({},t.resolve),e._resolvedData)}}),{params:{},data:{},resolve:{}})}(i.slice(n))}var Qe=function(){function t(e,i,n,r,s,o,a,A,l,u,h){_classCallCheck2(this,t),this.url=e,this.params=i,this.queryParams=n,this.fragment=r,this.data=s,this.outlet=o,this.component=a,this.routeConfig=A,this._urlSegment=l,this._lastPathIndex=u,this._resolve=h}return _createClass2(t,[{key:"toString",value:function(){return"Route(url:'".concat(this.url.map((function(t){return t.toString()})).join("/"),"', path:'").concat(this.routeConfig?this.routeConfig.path:"","')")}},{key:"root",get:function(){return this._routerState.root}},{key:"parent",get:function(){return this._routerState.parent(this)}},{key:"firstChild",get:function(){return this._routerState.firstChild(this)}},{key:"children",get:function(){return this._routerState.children(this)}},{key:"pathFromRoot",get:function(){return this._routerState.pathFromRoot(this)}},{key:"paramMap",get:function(){return this._paramMap||(this._paramMap=Nt(this.params)),this._paramMap}},{key:"queryParamMap",get:function(){return this._queryParamMap||(this._queryParamMap=Nt(this.queryParams)),this._queryParamMap}}]),t}(),ke=function(t){function e(t,i){var n;return _classCallCheck2(this,e),(n=_possibleConstructorReturn(this,_getPrototypeOf(e).call(this,i))).url=t,De(_assertThisInitialized(n),i),n}return _inherits(e,t),_createClass2(e,[{key:"toString",value:function(){return Me(this._root)}}]),e}(Ce);function De(t,e){e.value._routerState=t,e.children.forEach((function(e){return De(t,e)}))}function Me(t){var e=t.children.length>0?" { ".concat(t.children.map(Me).join(", ")," } "):"";return"".concat(t.value).concat(e)}function Re(t){if(t.snapshot){var e=t.snapshot,i=t._futureSnapshot;t.snapshot=i,qt(e.queryParams,i.queryParams)||t.queryParams.next(i.queryParams),e.fragment!==i.fragment&&t.fragment.next(i.fragment),qt(e.params,i.params)||t.params.next(i.params),function(t,e){if(t.length!==e.length)return!1;for(var i=0;i<t.length;++i)if(!qt(t[i],e[i]))return!1;return!0}(e.url,i.url)||t.url.next(i.url),qt(e.data,i.data)||t.data.next(i.data)}else t.snapshot=t._futureSnapshot,t.data.next(t._futureSnapshot.data)}function Ve(t,e){var i,n;return qt(t.params,e.params)&&ne(i=t.url,n=e.url)&&i.every((function(t,e){return qt(t.parameters,n[e].parameters)}))&&!(!t.parent!=!e.parent)&&(!t.parent||Ve(t.parent,e.parent))}function Te(t){return"object"==typeof t&&null!=t&&!t.outlets&&!t.segmentPath}function Ge(t,e,i,n,r){var s={};return n&&Wt(n,(function(t,e){s[e]=Array.isArray(t)?t.map((function(t){return"".concat(t)})):"".concat(t)})),new te(i.root===t?e:function t(e,i,n){var r={};return Wt(e.children,(function(e,s){r[s]=e===i?n:t(e,i,n)})),new ee(e.segments,r)}(i.root,t,e),s,r)}var Fe=function(){function t(e,i,n){if(_classCallCheck2(this,t),this.isAbsolute=e,this.numberOfDoubleDots=i,this.commands=n,e&&n.length>0&&Te(n[0]))throw new Error("Root segment cannot have matrix parameters");var r=n.find((function(t){return"object"==typeof t&&null!=t&&t.outlets}));if(r&&r!==Xt(n))throw new Error("{outlets:{}} has to be the last command")}return _createClass2(t,[{key:"toRoot",value:function(){return this.isAbsolute&&1===this.commands.length&&"/"==this.commands[0]}}]),t}(),Pe=function t(e,i,n){_classCallCheck2(this,t),this.segmentGroup=e,this.processChildren=i,this.index=n};function Ne(t){return"object"==typeof t&&null!=t&&t.outlets?t.outlets[Ft]:"".concat(t)}function Le(t,e,i){if(t||(t=new ee([],{})),0===t.segments.length&&t.hasChildren())return Ue(t,e,i);var n=function(t,e,i){for(var n=0,r=e,s={match:!1,pathIndex:0,commandIndex:0};r<t.segments.length;){if(n>=i.length)return s;var o=t.segments[r],a=Ne(i[n]),A=n<i.length-1?i[n+1]:null;if(r>0&&void 0===a)break;if(a&&A&&"object"==typeof A&&void 0===A.outlets){if(!Je(a,A,o))return s;n+=2}else{if(!Je(a,{},o))return s;n++}r++}return{match:!0,pathIndex:r,commandIndex:n}}(t,e,i),r=i.slice(n.commandIndex);if(n.match&&n.pathIndex<t.segments.length){var s=new ee(t.segments.slice(0,n.pathIndex),{});return s.children[Ft]=new ee(t.segments.slice(n.pathIndex),t.children),Ue(s,0,r)}return n.match&&0===r.length?new ee(t.segments,{}):n.match&&!t.hasChildren()?Oe(t,e,i):n.match?Ue(t,0,r):Oe(t,e,i)}function Ue(t,e,i){if(0===i.length)return new ee(t.segments,{});var n=function(t){return"object"!=typeof t[0]?_defineProperty({},Ft,t):void 0===t[0].outlets?_defineProperty({},Ft,t):t[0].outlets}(i),r={};return Wt(n,(function(i,n){null!==i&&(r[n]=Le(t.children[n],e,i))})),Wt(t.children,(function(t,e){void 0===n[e]&&(r[e]=t)})),new ee(t.segments,r)}function Oe(t,e,i){for(var n=t.segments.slice(0,e),r=0;r<i.length;){if("object"==typeof i[r]&&void 0!==i[r].outlets){var s=Ye(i[r].outlets);return new ee(n,s)}if(0===r&&Te(i[0]))n.push(new ie(t.segments[e].path,i[0])),r++;else{var o=Ne(i[r]),a=r<i.length-1?i[r+1]:null;o&&a&&Te(a)?(n.push(new ie(o,He(a))),r+=2):(n.push(new ie(o,{})),r++)}}return new ee(n,{})}function Ye(t){var e={};return Wt(t,(function(t,i){null!==t&&(e[i]=Oe(new ee([],{}),0,t))})),e}function He(t){var e={};return Wt(t,(function(t,i){return e[i]="".concat(t)})),e}function Je(t,e,i){return t==i.path&&qt(e,i.parameters)}var je=function(){function t(e,i,n,r){_classCallCheck2(this,t),this.routeReuseStrategy=e,this.futureState=i,this.currState=n,this.forwardEvent=r}return _createClass2(t,[{key:"activate",value:function(t){var e=this.futureState._root,i=this.currState?this.currState._root:null;this.deactivateChildRoutes(e,i,t),Re(this.futureState.root),this.activateChildRoutes(e,i,t)}},{key:"deactivateChildRoutes",value:function(t,e,i){var n=this,r=Ee(e);t.children.forEach((function(t){var e=t.value.outlet;n.deactivateRoutes(t,r[e],i),delete r[e]})),Wt(r,(function(t,e){n.deactivateRouteAndItsChildren(t,i)}))}},{key:"deactivateRoutes",value:function(t,e,i){var n=t.value,r=e?e.value:null;if(n===r)if(n.component){var s=i.getContext(n.outlet);s&&this.deactivateChildRoutes(t,e,s.children)}else this.deactivateChildRoutes(t,e,i);else r&&this.deactivateRouteAndItsChildren(e,i)}},{key:"deactivateRouteAndItsChildren",value:function(t,e){this.routeReuseStrategy.shouldDetach(t.value.snapshot)?this.detachAndStoreRouteSubtree(t,e):this.deactivateRouteAndOutlet(t,e)}},{key:"detachAndStoreRouteSubtree",value:function(t,e){var i=e.getContext(t.value.outlet);if(i&&i.outlet){var n=i.outlet.detach(),r=i.children.onOutletDeactivated();this.routeReuseStrategy.store(t.value.snapshot,{componentRef:n,route:t,contexts:r})}}},{key:"deactivateRouteAndOutlet",value:function(t,e){var i=this,n=e.getContext(t.value.outlet);if(n){var r=Ee(t),s=t.value.component?n.children:e;Wt(r,(function(t,e){return i.deactivateRouteAndItsChildren(t,s)})),n.outlet&&(n.outlet.deactivate(),n.children.onOutletDeactivated())}}},{key:"activateChildRoutes",value:function(t,e,i){var n=this,r=Ee(e);t.children.forEach((function(t){n.activateRoutes(t,r[t.value.outlet],i),n.forwardEvent(new Vt(t.value.snapshot))})),t.children.length&&this.forwardEvent(new Mt(t.value.snapshot))}},{key:"activateRoutes",value:function(t,e,i){var n=t.value,r=e?e.value:null;if(Re(n),n===r)if(n.component){var s=i.getOrCreateContext(n.outlet);this.activateChildRoutes(t,e,s.children)}else this.activateChildRoutes(t,e,i);else if(n.component){var o=i.getOrCreateContext(n.outlet);if(this.routeReuseStrategy.shouldAttach(n.snapshot)){var a=this.routeReuseStrategy.retrieve(n.snapshot);this.routeReuseStrategy.store(n.snapshot,null),o.children.onOutletReAttached(a.contexts),o.attachRef=a.componentRef,o.route=a.route.value,o.outlet&&o.outlet.attach(a.componentRef,a.route.value),Ke(a.route)}else{var A=function(t){for(var e=t.parent;e;e=e.parent){var i=e.routeConfig;if(i&&i._loadedConfig)return i._loadedConfig;if(i&&i.component)return null}return null}(n.snapshot),l=A?A.module.componentFactoryResolver:null;o.attachRef=null,o.route=n,o.resolver=l,o.outlet&&o.outlet.activateWith(n,l),this.activateChildRoutes(t,null,o.children)}}else this.activateChildRoutes(t,null,i)}}]),t}();function Ke(t){Re(t.value),t.children.forEach(Ke)}function qe(t){return"function"==typeof t}function ze(t){return t instanceof te}var Xe=function t(e){_classCallCheck2(this,t),this.segmentGroup=e||null},We=function t(e){_classCallCheck2(this,t),this.urlTree=e};function Ze(t){return new f.a((function(e){return e.error(new Xe(t))}))}function $e(t){return new f.a((function(e){return e.error(new We(t))}))}function ti(t){return new f.a((function(e){return e.error(new Error("Only absolute redirects can have named outlets. redirectTo: '".concat(t,"'")))}))}var ei=function(){function t(e,i,n,s,o){_classCallCheck2(this,t),this.configLoader=i,this.urlSerializer=n,this.urlTree=s,this.config=o,this.allowRedirects=!0,this.ngModule=e.get(r.w)}return _createClass2(t,[{key:"apply",value:function(){var t=this;return this.expandSegmentGroup(this.ngModule,this.config,this.urlTree.root,Ft).pipe(Object(E.a)((function(e){return t.createUrlTree(e,t.urlTree.queryParams,t.urlTree.fragment)}))).pipe(J((function(e){if(e instanceof We)return t.allowRedirects=!1,t.match(e.urlTree);if(e instanceof Xe)throw t.noMatchError(e);throw e})))}},{key:"match",value:function(t){var e=this;return this.expandSegmentGroup(this.ngModule,this.config,t.root,Ft).pipe(Object(E.a)((function(i){return e.createUrlTree(i,t.queryParams,t.fragment)}))).pipe(J((function(t){if(t instanceof Xe)throw e.noMatchError(t);throw t})))}},{key:"noMatchError",value:function(t){return new Error("Cannot match any routes. URL Segment: '".concat(t.segmentGroup,"'"))}},{key:"createUrlTree",value:function(t,e,i){var n=t.segments.length>0?new ee([],_defineProperty({},Ft,t)):t;return new te(n,e,i)}},{key:"expandSegmentGroup",value:function(t,e,i,n){return 0===i.segments.length&&i.hasChildren()?this.expandChildren(t,e,i).pipe(Object(E.a)((function(t){return new ee([],t)}))):this.expandSegment(t,i,e,i.segments,n,!0)}},{key:"expandChildren",value:function(t,e,i){var n=this;return function(i,r){if(0===Object.keys(i).length)return A({});var s=[],o=[],a={};return Wt(i,(function(i,r){var A,l,u=(A=r,l=i,n.expandSegmentGroup(t,e,l,A)).pipe(Object(E.a)((function(t){return a[r]=t})));r===Ft?s.push(u):o.push(u)})),A.apply(null,s.concat(o)).pipe(b(),Y(),Object(E.a)((function(){return a})))}(i.children)}},{key:"expandSegment",value:function(t,e,i,n,r,s){var o=this;return A.apply(void 0,_toConsumableArray(i)).pipe(Object(E.a)((function(a){return o.expandSegmentAgainstRoute(t,e,i,a,n,r,s).pipe(J((function(t){if(t instanceof Xe)return A(null);throw t})))})),b(),W((function(t){return!!t})),J((function(t,i){if(t instanceof m||"EmptyError"===t.name){if(o.noLeftoversInUrl(e,n,r))return A(new ee([],{}));throw new Xe(e)}throw t})))}},{key:"noLeftoversInUrl",value:function(t,e,i){return 0===e.length&&!t.children[i]}},{key:"expandSegmentAgainstRoute",value:function(t,e,i,n,r,s,o){return si(n)!==s?Ze(e):void 0===n.redirectTo?this.matchSegmentAgainstRoute(t,e,n,r):o&&this.allowRedirects?this.expandSegmentAgainstRouteUsingRedirect(t,e,i,n,r,s):Ze(e)}},{key:"expandSegmentAgainstRouteUsingRedirect",value:function(t,e,i,n,r,s){return"**"===n.path?this.expandWildCardWithParamsAgainstRouteUsingRedirect(t,i,n,s):this.expandRegularSegmentAgainstRouteUsingRedirect(t,e,i,n,r,s)}},{key:"expandWildCardWithParamsAgainstRouteUsingRedirect",value:function(t,e,i,n){var r=this,s=this.applyRedirectCommands([],i.redirectTo,{});return i.redirectTo.startsWith("/")?$e(s):this.lineralizeSegments(i,s).pipe(Object(Z.a)((function(i){var s=new ee(i,{});return r.expandSegment(t,s,e,i,n,!1)})))}},{key:"expandRegularSegmentAgainstRouteUsingRedirect",value:function(t,e,i,n,r,s){var o=this,a=ii(e,n,r),A=a.matched,l=a.consumedSegments,u=a.lastChild,h=a.positionalParamSegments;if(!A)return Ze(e);var c=this.applyRedirectCommands(l,n.redirectTo,h);return n.redirectTo.startsWith("/")?$e(c):this.lineralizeSegments(n,c).pipe(Object(Z.a)((function(n){return o.expandSegment(t,e,i,n.concat(r.slice(u)),s,!1)})))}},{key:"matchSegmentAgainstRoute",value:function(t,e,i,n){var r=this;if("**"===i.path)return i.loadChildren?this.configLoader.load(t.injector,i).pipe(Object(E.a)((function(t){return i._loadedConfig=t,new ee(n,{})}))):A(new ee(n,{}));var s=ii(e,i,n),o=s.matched,a=s.consumedSegments,l=s.lastChild;if(!o)return Ze(e);var u=n.slice(l);return this.getChildConfig(t,i,n).pipe(Object(Z.a)((function(t){var i=t.module,n=t.routes,s=function(t,e,i,n){return i.length>0&&function(t,e,i){return i.some((function(i){return ri(t,e,i)&&si(i)!==Ft}))}(t,i,n)?{segmentGroup:ni(new ee(e,function(t,e){var i={};i[Ft]=e;var n=!0,r=!1,s=void 0;try{for(var o,a=t[Symbol.iterator]();!(n=(o=a.next()).done);n=!0){var A=o.value;""===A.path&&si(A)!==Ft&&(i[si(A)]=new ee([],{}))}}catch(l){r=!0,s=l}finally{try{n||null==a.return||a.return()}finally{if(r)throw s}}return i}(n,new ee(i,t.children)))),slicedSegments:[]}:0===i.length&&function(t,e,i){return i.some((function(i){return ri(t,e,i)}))}(t,i,n)?{segmentGroup:ni(new ee(t.segments,function(t,e,i,n){var r={},s=!0,o=!1,a=void 0;try{for(var A,l=i[Symbol.iterator]();!(s=(A=l.next()).done);s=!0){var u=A.value;ri(t,e,u)&&!n[si(u)]&&(r[si(u)]=new ee([],{}))}}catch(h){o=!0,a=h}finally{try{s||null==l.return||l.return()}finally{if(o)throw a}}return Object.assign(Object.assign({},n),r)}(t,i,n,t.children))),slicedSegments:i}:{segmentGroup:t,slicedSegments:i}}(e,a,u,n),o=s.segmentGroup,l=s.slicedSegments;return 0===l.length&&o.hasChildren()?r.expandChildren(i,n,o).pipe(Object(E.a)((function(t){return new ee(a,t)}))):0===n.length&&0===l.length?A(new ee(a,{})):r.expandSegment(i,o,n,l,Ft,!0).pipe(Object(E.a)((function(t){return new ee(a.concat(t.segments),t.children)})))})))}},{key:"getChildConfig",value:function(t,e,i){var n=this;return e.children?A(new Yt(e.children,t)):e.loadChildren?void 0!==e._loadedConfig?A(e._loadedConfig):function(t,e,i){var n,r=e.canLoad;return r&&0!==r.length?Object(l.a)(r).pipe(Object(E.a)((function(n){var r,s=t.get(n);if(function(t){return t&&qe(t.canLoad)}(s))r=s.canLoad(e,i);else{if(!qe(s))throw new Error("Invalid CanLoad guard");r=s(e,i)}return Zt(r)}))).pipe(b(),(n=function(t){return!0===t},function(t){return t.lift(new $(n,void 0,t))})):A(!0)}(t.injector,e,i).pipe(Object(Z.a)((function(i){return i?n.configLoader.load(t.injector,e).pipe(Object(E.a)((function(t){return e._loadedConfig=t,t}))):function(t){return new f.a((function(e){return e.error(Ut("Cannot load children because the guard of the route \"path: '".concat(t.path,"'\" returned false")))}))}(e)}))):A(new Yt([],t))}},{key:"lineralizeSegments",value:function(t,e){for(var i=[],n=e.root;;){if(i=i.concat(n.segments),0===n.numberOfChildren)return A(i);if(n.numberOfChildren>1||!n.children[Ft])return ti(t.redirectTo);n=n.children[Ft]}}},{key:"applyRedirectCommands",value:function(t,e,i){return this.applyRedirectCreatreUrlTree(e,this.urlSerializer.parse(e),t,i)}},{key:"applyRedirectCreatreUrlTree",value:function(t,e,i,n){var r=this.createSegmentGroup(t,e.root,i,n);return new te(r,this.createQueryParams(e.queryParams,this.urlTree.queryParams),e.fragment)}},{key:"createQueryParams",value:function(t,e){var i={};return Wt(t,(function(t,n){if("string"==typeof t&&t.startsWith(":")){var r=t.substring(1);i[n]=e[r]}else i[n]=t})),i}},{key:"createSegmentGroup",value:function(t,e,i,n){var r=this,s=this.createSegments(t,e.segments,i,n),o={};return Wt(e.children,(function(e,s){o[s]=r.createSegmentGroup(t,e,i,n)})),new ee(s,o)}},{key:"createSegments",value:function(t,e,i,n){var r=this;return e.map((function(e){return e.path.startsWith(":")?r.findPosParam(t,e,n):r.findOrReturn(e,i)}))}},{key:"findPosParam",value:function(t,e,i){var n=i[e.path.substring(1)];if(!n)throw new Error("Cannot redirect to '".concat(t,"'. Cannot find '").concat(e.path,"'."));return n}},{key:"findOrReturn",value:function(t,e){var i=0,n=!0,r=!1,s=void 0;try{for(var o,a=e[Symbol.iterator]();!(n=(o=a.next()).done);n=!0){var A=o.value;if(A.path===t.path)return e.splice(i),A;i++}}catch(l){r=!0,s=l}finally{try{n||null==a.return||a.return()}finally{if(r)throw s}}return t}}]),t}();function ii(t,e,i){if(""===e.path)return"full"===e.pathMatch&&(t.hasChildren()||i.length>0)?{matched:!1,consumedSegments:[],lastChild:0,positionalParamSegments:{}}:{matched:!0,consumedSegments:[],lastChild:0,positionalParamSegments:{}};var n=(e.matcher||Ot)(i,t,e);return n?{matched:!0,consumedSegments:n.consumed,lastChild:n.consumed.length,positionalParamSegments:n.posParams}:{matched:!1,consumedSegments:[],lastChild:0,positionalParamSegments:{}}}function ni(t){if(1===t.numberOfChildren&&t.children[Ft]){var e=t.children[Ft];return new ee(t.segments.concat(e.segments),e.children)}return t}function ri(t,e,i){return(!(t.hasChildren()||e.length>0)||"full"!==i.pathMatch)&&""===i.path&&void 0!==i.redirectTo}function si(t){return t.outlet||Ft}var oi=function t(e){_classCallCheck2(this,t),this.path=e,this.route=this.path[this.path.length-1]},ai=function t(e,i){_classCallCheck2(this,t),this.component=e,this.route=i};function Ai(t,e,i){var n=function(t){if(!t)return null;for(var e=t.parent;e;e=e.parent){var i=e.routeConfig;if(i&&i._loadedConfig)return i._loadedConfig}return null}(e);return(n?n.module.injector:i).get(t)}function li(t,e,i){var n=Ee(t),r=t.value;Wt(n,(function(t,n){li(t,r.component?e?e.children.getContext(n):null:e,i)})),i.canDeactivateChecks.push(new ai(r.component&&e&&e.outlet&&e.outlet.isActivated?e.outlet.component:null,r))}var ui=Symbol("INITIAL_VALUE");function hi(){return et((function(t){return(function(){for(var t=arguments.length,e=new Array(t),i=0;i<t;i++)e[i]=arguments[i];var n=null,r=null;return Object(s.a)(e[e.length-1])&&(r=e.pop()),"function"==typeof e[e.length-1]&&(n=e.pop()),1===e.length&&Object(_.a)(e[0])&&(e=e[0]),Object(o.a)(e,r).lift(new y(n))}).apply(void 0,_toConsumableArray(t.map((function(t){return t.pipe(q(1),function(){for(var t=arguments.length,e=new Array(t),i=0;i<t;i++)e[i]=arguments[i];var n=e[e.length-1];return Object(s.a)(n)?(e.pop(),function(t){return rt(e,t,n)}):function(t){return rt(e,t)}}(ui))})))).pipe(st((function(t,e){var i=!1;return e.reduce((function(t,n,r){if(t!==ui)return t;if(n===ui&&(i=!0),!i){if(!1===n)return n;if(r===e.length-1||ze(n))return n}return t}),t)}),ui),S((function(t){return t!==ui})),Object(E.a)((function(t){return ze(t)?t:!0===t})),q(1))}))}function ci(t,e){return null!==t&&e&&e(new Rt(t)),A(!0)}function fi(t,e){return null!==t&&e&&e(new Dt(t)),A(!0)}function mi(t,e,i){var n=e.routeConfig?e.routeConfig.canActivate:null;return n&&0!==n.length?A(n.map((function(n){return B((function(){var r,s=Ai(n,e,i);if(function(t){return t&&qe(t.canActivate)}(s))r=Zt(s.canActivate(e,t));else{if(!qe(s))throw new Error("Invalid CanActivate guard");r=Zt(s(e,t))}return r.pipe(W())}))}))).pipe(hi()):A(!0)}function _i(t,e,i){var n=e[e.length-1],r=e.slice(0,e.length-1).reverse().map((function(t){return function(t){var e=t.routeConfig?t.routeConfig.canActivateChild:null;return e&&0!==e.length?{node:t,guards:e}:null}(t)})).filter((function(t){return null!==t})).map((function(e){return B((function(){return A(e.guards.map((function(r){var s,o=Ai(r,e.node,i);if(function(t){return t&&qe(t.canActivateChild)}(o))s=Zt(o.canActivateChild(n,t));else{if(!qe(o))throw new Error("Invalid CanActivateChild guard");s=Zt(o(n,t))}return s.pipe(W())}))).pipe(hi())}))}));return A(r).pipe(hi())}var gi=function t(){_classCallCheck2(this,t)},di=function(){function t(e,i,n,r,s,o){_classCallCheck2(this,t),this.rootComponentType=e,this.config=i,this.urlTree=n,this.url=r,this.paramsInheritanceStrategy=s,this.relativeLinkResolution=o}return _createClass2(t,[{key:"recognize",value:function(){try{var t=Ci(this.urlTree.root,[],[],this.config,this.relativeLinkResolution).segmentGroup,e=this.processSegmentGroup(this.config,t,Ft),i=new Qe([],Object.freeze({}),Object.freeze(Object.assign({},this.urlTree.queryParams)),this.urlTree.fragment,{},Ft,this.rootComponentType,null,this.urlTree.root,-1,{}),n=new Be(i,e),r=new ke(this.url,n);return this.inheritParamsAndData(r._root),A(r)}catch(s){return new f.a((function(t){return t.error(s)}))}}},{key:"inheritParamsAndData",value:function(t){var e=this,i=t.value,n=Se(i,this.paramsInheritanceStrategy);i.params=Object.freeze(n.params),i.data=Object.freeze(n.data),t.children.forEach((function(t){return e.inheritParamsAndData(t)}))}},{key:"processSegmentGroup",value:function(t,e,i){return 0===e.segments.length&&e.hasChildren()?this.processChildren(t,e):this.processSegment(t,e,e.segments,i)}},{key:"processChildren",value:function(t,e){var i,n=this,r=re(e,(function(e,i){return n.processSegmentGroup(t,e,i)}));return i={},r.forEach((function(t){var e=i[t.value.outlet];if(e){var n=e.url.map((function(t){return t.toString()})).join("/"),r=t.value.url.map((function(t){return t.toString()})).join("/");throw new Error("Two segments cannot have the same outlet name: '".concat(n,"' and '").concat(r,"'."))}i[t.value.outlet]=t.value})),r.sort((function(t,e){return t.value.outlet===Ft?-1:e.value.outlet===Ft?1:t.value.outlet.localeCompare(e.value.outlet)})),r}},{key:"processSegment",value:function(t,e,i,n){var r=!0,s=!1,o=void 0;try{for(var a,A=t[Symbol.iterator]();!(r=(a=A.next()).done);r=!0){var l=a.value;try{return this.processSegmentAgainstRoute(l,e,i,n)}catch(u){if(!(u instanceof gi))throw u}}}catch(h){s=!0,o=h}finally{try{r||null==A.return||A.return()}finally{if(s)throw o}}if(this.noLeftoversInUrl(e,i,n))return[];throw new gi}},{key:"noLeftoversInUrl",value:function(t,e,i){return 0===e.length&&!t.children[i]}},{key:"processSegmentAgainstRoute",value:function(t,e,i,n){if(t.redirectTo)throw new gi;if((t.outlet||Ft)!==n)throw new gi;var r,s=[],o=[];if("**"===t.path){var a=i.length>0?Xt(i).parameters:{};r=new Qe(i,a,Object.freeze(Object.assign({},this.urlTree.queryParams)),this.urlTree.fragment,Bi(t),n,t.component,t,pi(e),yi(e)+i.length,Ei(t))}else{var A=function(t,e,i){if(""===e.path){if("full"===e.pathMatch&&(t.hasChildren()||i.length>0))throw new gi;return{consumedSegments:[],lastChild:0,parameters:{}}}var n=(e.matcher||Ot)(i,t,e);if(!n)throw new gi;var r={};Wt(n.posParams,(function(t,e){r[e]=t.path}));var s=n.consumed.length>0?Object.assign(Object.assign({},r),n.consumed[n.consumed.length-1].parameters):r;return{consumedSegments:n.consumed,lastChild:n.consumed.length,parameters:s}}(e,t,i);s=A.consumedSegments,o=i.slice(A.lastChild),r=new Qe(s,A.parameters,Object.freeze(Object.assign({},this.urlTree.queryParams)),this.urlTree.fragment,Bi(t),n,t.component,t,pi(e),yi(e)+s.length,Ei(t))}var l=function(t){return t.children?t.children:t.loadChildren?t._loadedConfig.routes:[]}(t),u=Ci(e,s,o,l,this.relativeLinkResolution),h=u.segmentGroup,c=u.slicedSegments;if(0===c.length&&h.hasChildren()){var f=this.processChildren(l,h);return[new Be(r,f)]}if(0===l.length&&0===c.length)return[new Be(r,[])];var m=this.processSegment(l,h,c,Ft);return[new Be(r,m)]}}]),t}();function pi(t){for(var e=t;e._sourceSegment;)e=e._sourceSegment;return e}function yi(t){for(var e=t,i=e._segmentIndexShift?e._segmentIndexShift:0;e._sourceSegment;)i+=(e=e._sourceSegment)._segmentIndexShift?e._segmentIndexShift:0;return i-1}function Ci(t,e,i,n,r){if(i.length>0&&function(t,e,i){return i.some((function(i){return vi(t,e,i)&&Ii(i)!==Ft}))}(t,i,n)){var s=new ee(e,function(t,e,i,n){var r={};r[Ft]=n,n._sourceSegment=t,n._segmentIndexShift=e.length;var s=!0,o=!1,a=void 0;try{for(var A,l=i[Symbol.iterator]();!(s=(A=l.next()).done);s=!0){var u=A.value;if(""===u.path&&Ii(u)!==Ft){var h=new ee([],{});h._sourceSegment=t,h._segmentIndexShift=e.length,r[Ii(u)]=h}}}catch(c){o=!0,a=c}finally{try{s||null==l.return||l.return()}finally{if(o)throw a}}return r}(t,e,n,new ee(i,t.children)));return s._sourceSegment=t,s._segmentIndexShift=e.length,{segmentGroup:s,slicedSegments:[]}}if(0===i.length&&function(t,e,i){return i.some((function(i){return vi(t,e,i)}))}(t,i,n)){var o=new ee(t.segments,function(t,e,i,n,r,s){var o={},a=!0,A=!1,l=void 0;try{for(var u,h=n[Symbol.iterator]();!(a=(u=h.next()).done);a=!0){var c=u.value;if(vi(t,i,c)&&!r[Ii(c)]){var f=new ee([],{});f._sourceSegment=t,f._segmentIndexShift="legacy"===s?t.segments.length:e.length,o[Ii(c)]=f}}}catch(m){A=!0,l=m}finally{try{a||null==h.return||h.return()}finally{if(A)throw l}}return Object.assign(Object.assign({},r),o)}(t,e,i,n,t.children,r));return o._sourceSegment=t,o._segmentIndexShift=e.length,{segmentGroup:o,slicedSegments:i}}var a=new ee(t.segments,t.children);return a._sourceSegment=t,a._segmentIndexShift=e.length,{segmentGroup:a,slicedSegments:i}}function vi(t,e,i){return(!(t.hasChildren()||e.length>0)||"full"!==i.pathMatch)&&""===i.path&&void 0===i.redirectTo}function Ii(t){return t.outlet||Ft}function Bi(t){return t.data||{}}function Ei(t){return t.resolve||{}}function wi(t,e,i,n){var r=Ai(t,e,n);return Zt(r.resolve?r.resolve(e,i):r(e,i))}function bi(t){return function(e){return e.pipe(et((function(e){var i=t(e);return i?Object(l.a)(i).pipe(Object(E.a)((function(){return e}))):Object(l.a)([e])})))}}var xi=function(){function t(){_classCallCheck2(this,t)}return _createClass2(t,[{key:"shouldDetach",value:function(t){return!1}},{key:"store",value:function(t,e){}},{key:"shouldAttach",value:function(t){return!1}},{key:"retrieve",value:function(t){return null}},{key:"shouldReuseRoute",value:function(t,e){return t.routeConfig===e.routeConfig}}]),t}(),Si=new r.p("ROUTES"),Qi=function(){function t(e,i,n,r){_classCallCheck2(this,t),this.loader=e,this.compiler=i,this.onLoadStartListener=n,this.onLoadEndListener=r}return _createClass2(t,[{key:"load",value:function(t,e){var i=this;return this.onLoadStartListener&&this.onLoadStartListener(e),this.loadModuleFactory(e.loadChildren).pipe(Object(E.a)((function(n){i.onLoadEndListener&&i.onLoadEndListener(e);var r=n.create(t);return new Yt(zt(r.injector.get(Si)).map(Kt),r)})))}},{key:"loadModuleFactory",value:function(t){var e=this;return"string"==typeof t?Object(l.a)(this.loader.load(t)):Zt(t()).pipe(Object(Z.a)((function(t){return t instanceof r.u?A(t):Object(l.a)(e.compiler.compileModuleAsync(t))})))}}]),t}(),ki=function(){function t(){_classCallCheck2(this,t)}return _createClass2(t,[{key:"shouldProcessUrl",value:function(t){return!0}},{key:"extract",value:function(t){return t}},{key:"merge",value:function(t,e){return t}}]),t}();function Di(t){throw t}function Mi(t,e,i){return e.parse("/")}function Ri(t,e){return A(null)}var Vi,Ti,Gi,Fi,Pi=((Vi=function(){function t(e,i,n,s,o,a,A,l){var h=this;_classCallCheck2(this,t),this.rootComponentType=e,this.urlSerializer=i,this.rootContexts=n,this.location=s,this.config=l,this.lastSuccessfulNavigation=null,this.currentNavigation=null,this.navigationId=0,this.isNgZoneEnabled=!1,this.events=new u.a,this.errorHandler=Di,this.malformedUriErrorHandler=Mi,this.navigated=!1,this.lastSuccessfulId=-1,this.hooks={beforePreactivation:Ri,afterPreactivation:Ri},this.urlHandlingStrategy=new ki,this.routeReuseStrategy=new xi,this.onSameUrlNavigation="ignore",this.paramsInheritanceStrategy="emptyOnly",this.urlUpdateStrategy="deferred",this.relativeLinkResolution="legacy",this.ngModule=o.get(r.w),this.console=o.get(r.V);var f=o.get(r.y);this.isNgZoneEnabled=f instanceof r.y,this.resetConfig(l),this.currentUrlTree=new te(new ee([],{}),{},null),this.rawUrlTree=this.currentUrlTree,this.browserUrlTree=this.currentUrlTree,this.configLoader=new Qi(a,A,(function(t){return h.triggerEvent(new Qt(t))}),(function(t){return h.triggerEvent(new kt(t))})),this.routerState=be(this.currentUrlTree,this.rootComponentType),this.transitions=new c({id:0,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,extractedUrl:this.urlHandlingStrategy.extract(this.currentUrlTree),urlAfterRedirects:this.urlHandlingStrategy.extract(this.currentUrlTree),rawUrl:this.currentUrlTree,extras:{},resolve:null,reject:null,promise:Promise.resolve(!0),source:"imperative",restoredState:null,currentSnapshot:this.routerState.snapshot,targetSnapshot:null,currentRouterState:this.routerState,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null}),this.navigations=this.setupNavigations(this.transitions),this.processNavigations()}return _createClass2(t,[{key:"setupNavigations",value:function(t){var e=this,i=this.events;return t.pipe(S((function(t){return 0!==t.id})),Object(E.a)((function(t){return Object.assign(Object.assign({},t),{extractedUrl:e.urlHandlingStrategy.extract(t.rawUrl)})})),et((function(t){var n,r,s,o=!1,a=!1;return A(t).pipe(ct((function(t){e.currentNavigation={id:t.id,initialUrl:t.currentRawUrl,extractedUrl:t.extractedUrl,trigger:t.source,extras:t.extras,previousNavigation:e.lastSuccessfulNavigation?Object.assign(Object.assign({},e.lastSuccessfulNavigation),{previousNavigation:null}):null}})),et((function(t){var n,r,s,o,a=!e.navigated||t.extractedUrl.toString()!==e.browserUrlTree.toString();if(("reload"===e.onSameUrlNavigation||a)&&e.urlHandlingStrategy.shouldProcessUrl(t.rawUrl))return A(t).pipe(et((function(t){var n=e.transitions.getValue();return i.next(new Ct(t.id,e.serializeUrl(t.extractedUrl),t.source,t.restoredState)),n!==e.transitions.getValue()?v:[t]})),et((function(t){return Promise.resolve(t)})),(n=e.ngModule.injector,r=e.configLoader,s=e.urlSerializer,o=e.config,function(t){return t.pipe(et((function(t){return function(t,e,i,n,r){return new ei(t,e,i,n,r).apply()}(n,r,s,t.extractedUrl,o).pipe(Object(E.a)((function(e){return Object.assign(Object.assign({},t),{urlAfterRedirects:e})})))})))}),ct((function(t){e.currentNavigation=Object.assign(Object.assign({},e.currentNavigation),{finalUrl:t.urlAfterRedirects})})),function(t,i,n,r,s){return function(n){return n.pipe(Object(Z.a)((function(n){return function(t,e,i,n){var r=arguments.length>4&&void 0!==arguments[4]?arguments[4]:"emptyOnly",s=arguments.length>5&&void 0!==arguments[5]?arguments[5]:"legacy";return new di(t,e,i,n,r,s).recognize()}(t,i,n.urlAfterRedirects,(o=n.urlAfterRedirects,e.serializeUrl(o)),r,s).pipe(Object(E.a)((function(t){return Object.assign(Object.assign({},n),{targetSnapshot:t})})));var o})))}}(e.rootComponentType,e.config,0,e.paramsInheritanceStrategy,e.relativeLinkResolution),ct((function(t){"eager"===e.urlUpdateStrategy&&(t.extras.skipLocationChange||e.setBrowserUrl(t.urlAfterRedirects,!!t.extras.replaceUrl,t.id,t.extras.state),e.browserUrlTree=t.urlAfterRedirects)})),ct((function(t){var n=new Et(t.id,e.serializeUrl(t.extractedUrl),e.serializeUrl(t.urlAfterRedirects),t.targetSnapshot);i.next(n)})));if(a&&e.rawUrlTree&&e.urlHandlingStrategy.shouldProcessUrl(e.rawUrlTree)){var l=t.id,u=t.extractedUrl,h=t.source,c=t.restoredState,f=t.extras,m=new Ct(l,e.serializeUrl(u),h,c);i.next(m);var _=be(u,e.rootComponentType).snapshot;return A(Object.assign(Object.assign({},t),{targetSnapshot:_,urlAfterRedirects:u,extras:Object.assign(Object.assign({},f),{skipLocationChange:!1,replaceUrl:!1})}))}return e.rawUrlTree=t.rawUrl,e.browserUrlTree=t.urlAfterRedirects,t.resolve(null),v})),bi((function(t){var i=t.targetSnapshot,n=t.id,r=t.extractedUrl,s=t.rawUrl,o=t.extras,a=o.skipLocationChange,A=o.replaceUrl;return e.hooks.beforePreactivation(i,{navigationId:n,appliedUrlTree:r,rawUrlTree:s,skipLocationChange:!!a,replaceUrl:!!A})})),ct((function(t){var i=new wt(t.id,e.serializeUrl(t.extractedUrl),e.serializeUrl(t.urlAfterRedirects),t.targetSnapshot);e.triggerEvent(i)})),Object(E.a)((function(t){return Object.assign(Object.assign({},t),{guards:(i=t.targetSnapshot,n=t.currentSnapshot,r=e.rootContexts,s=i._root,function t(e,i,n,r){var s=arguments.length>4&&void 0!==arguments[4]?arguments[4]:{canDeactivateChecks:[],canActivateChecks:[]},o=Ee(i);return e.children.forEach((function(e){!function(e,i,n,r){var s=arguments.length>4&&void 0!==arguments[4]?arguments[4]:{canDeactivateChecks:[],canActivateChecks:[]},o=e.value,a=i?i.value:null,A=n?n.getContext(e.value.outlet):null;if(a&&o.routeConfig===a.routeConfig){var l=function(t,e,i){if("function"==typeof i)return i(t,e);switch(i){case"pathParamsChange":return!ne(t.url,e.url);case"pathParamsOrQueryParamsChange":return!ne(t.url,e.url)||!qt(t.queryParams,e.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!Ve(t,e)||!qt(t.queryParams,e.queryParams);case"paramsChange":default:return!Ve(t,e)}}(a,o,o.routeConfig.runGuardsAndResolvers);l?s.canActivateChecks.push(new oi(r)):(o.data=a.data,o._resolvedData=a._resolvedData),t(e,i,o.component?A?A.children:null:n,r,s),l&&s.canDeactivateChecks.push(new ai(A&&A.outlet&&A.outlet.component||null,a))}else a&&li(i,A,s),s.canActivateChecks.push(new oi(r)),t(e,null,o.component?A?A.children:null:n,r,s)}(e,o[e.value.outlet],n,r.concat([e.value]),s),delete o[e.value.outlet]})),Wt(o,(function(t,e){return li(t,n.getContext(e),s)})),s}(s,n?n._root:null,r,[s.value]))});var i,n,r,s})),(r=e.ngModule.injector,s=function(t){return e.triggerEvent(t)},function(t){return t.pipe(Object(Z.a)((function(t){var e=t.targetSnapshot,i=t.currentSnapshot,n=t.guards,o=n.canActivateChecks,a=n.canDeactivateChecks;return 0===a.length&&0===o.length?A(Object.assign(Object.assign({},t),{guardsResult:!0})):function(t,e,i,n){return Object(l.a)(t).pipe(Object(Z.a)((function(t){return function(t,e,i,n,r){var s=e&&e.routeConfig?e.routeConfig.canDeactivate:null;return s&&0!==s.length?A(s.map((function(s){var o,a=Ai(s,e,r);if(function(t){return t&&qe(t.canDeactivate)}(a))o=Zt(a.canDeactivate(t,e,i,n));else{if(!qe(a))throw new Error("Invalid CanDeactivate guard");o=Zt(a(t,e,i,n))}return o.pipe(W())}))).pipe(hi()):A(!0)}(t.component,t.route,i,e,n)})),W((function(t){return!0!==t}),!0))}(a,e,i,r).pipe(Object(Z.a)((function(t){return t&&"boolean"==typeof t?function(t,e,i,n){return Object(l.a)(e).pipe(At((function(e){return Object(l.a)([fi(e.route.parent,n),ci(e.route,n),_i(t,e.path,i),mi(t,e.route,i)]).pipe(b(),W((function(t){return!0!==t}),!0))})),W((function(t){return!0!==t}),!0))}(e,o,r,s):A(t)})),Object(E.a)((function(e){return Object.assign(Object.assign({},t),{guardsResult:e})})))})))}),ct((function(t){if(ze(t.guardsResult)){var i=Ut('Redirecting to "'.concat(e.serializeUrl(t.guardsResult),'"'));throw i.url=t.guardsResult,i}})),ct((function(t){var i=new bt(t.id,e.serializeUrl(t.extractedUrl),e.serializeUrl(t.urlAfterRedirects),t.targetSnapshot,!!t.guardsResult);e.triggerEvent(i)})),S((function(t){if(!t.guardsResult){e.resetUrlToCurrentUrlTree();var n=new It(t.id,e.serializeUrl(t.extractedUrl),"");return i.next(n),t.resolve(!1),!1}return!0})),bi((function(t){if(t.guards.canActivateChecks.length)return A(t).pipe(ct((function(t){var i=new xt(t.id,e.serializeUrl(t.extractedUrl),e.serializeUrl(t.urlAfterRedirects),t.targetSnapshot);e.triggerEvent(i)})),function(t,e){return function(i){return i.pipe(Object(Z.a)((function(i){var n=i.targetSnapshot,r=i.guards.canActivateChecks;return r.length?Object(l.a)(r).pipe(At((function(i){return function(t,e,i,n){return function(t,e,i,n){var r=Object.keys(t);if(0===r.length)return A({});if(1===r.length){var s=r[0];return wi(t[s],e,i,n).pipe(Object(E.a)((function(t){return _defineProperty({},s,t)})))}var o={};return Object(l.a)(r).pipe(Object(Z.a)((function(r){return wi(t[r],e,i,n).pipe(Object(E.a)((function(t){return o[r]=t,t})))}))).pipe(Y(),Object(E.a)((function(){return o})))}(t._resolve,t,e,n).pipe(Object(E.a)((function(e){return t._resolvedData=e,t.data=Object.assign(Object.assign({},t.data),Se(t,i).resolve),null})))}(i.route,n,t,e)})),function(t,e){return arguments.length>=2?function(i){return Object(lt.a)(st(t,e),M(1),N(e))(i)}:function(e){return Object(lt.a)(st((function(e,i,n){return t(e,i,n+1)})),M(1))(e)}}((function(t,e){return t})),Object(E.a)((function(t){return i}))):A(i)})))}}(e.paramsInheritanceStrategy,e.ngModule.injector),ct((function(t){var i=new St(t.id,e.serializeUrl(t.extractedUrl),e.serializeUrl(t.urlAfterRedirects),t.targetSnapshot);e.triggerEvent(i)})))})),bi((function(t){var i=t.targetSnapshot,n=t.id,r=t.extractedUrl,s=t.rawUrl,o=t.extras,a=o.skipLocationChange,A=o.replaceUrl;return e.hooks.afterPreactivation(i,{navigationId:n,appliedUrlTree:r,rawUrlTree:s,skipLocationChange:!!a,replaceUrl:!!A})})),Object(E.a)((function(t){var i,n,r,s,o=(i=e.routeReuseStrategy,n=t.targetSnapshot,r=t.currentRouterState,s=function t(e,i,n){if(n&&e.shouldReuseRoute(i.value,n.value.snapshot)){var r=n.value;r._futureSnapshot=i.value;var s=function(e,i,n){return i.children.map((function(i){var r=!0,s=!1,o=void 0;try{for(var a,A=n.children[Symbol.iterator]();!(r=(a=A.next()).done);r=!0){var l=a.value;if(e.shouldReuseRoute(l.value.snapshot,i.value))return t(e,i,l)}}catch(u){s=!0,o=u}finally{try{r||null==A.return||A.return()}finally{if(s)throw o}}return t(e,i)}))}(e,i,n);return new Be(r,s)}var o=e.retrieve(i.value);if(o){var a=o.route;return function t(e,i){if(e.value.routeConfig!==i.value.routeConfig)throw new Error("Cannot reattach ActivatedRouteSnapshot created from a different route");if(e.children.length!==i.children.length)throw new Error("Cannot reattach ActivatedRouteSnapshot with a different number of children");i.value._futureSnapshot=e.value;for(var n=0;n<e.children.length;++n)t(e.children[n],i.children[n])}(i,a),a}var A,l=new xe(new c((A=i.value).url),new c(A.params),new c(A.queryParams),new c(A.fragment),new c(A.data),A.outlet,A.component,A),u=i.children.map((function(i){return t(e,i)}));return new Be(l,u)}(i,n._root,r?r._root:void 0),new we(s,n));return Object.assign(Object.assign({},t),{targetRouterState:o})})),ct((function(t){e.currentUrlTree=t.urlAfterRedirects,e.rawUrlTree=e.urlHandlingStrategy.merge(e.currentUrlTree,t.rawUrl),e.routerState=t.targetRouterState,"deferred"===e.urlUpdateStrategy&&(t.extras.skipLocationChange||e.setBrowserUrl(e.rawUrlTree,!!t.extras.replaceUrl,t.id,t.extras.state),e.browserUrlTree=t.urlAfterRedirects)})),function(t,e,i){return Object(E.a)((function(n){return new je(e,n.targetRouterState,n.currentRouterState,i).activate(t),n}))}(e.rootContexts,e.routeReuseStrategy,(function(t){return e.triggerEvent(t)})),ct({next:function(){o=!0},complete:function(){o=!0}}),(n=function(){if(!o&&!a){e.resetUrlToCurrentUrlTree();var n=new It(t.id,e.serializeUrl(t.extractedUrl),"Navigation ID ".concat(t.id," is not equal to the current navigation id ").concat(e.navigationId));i.next(n),t.resolve(!1)}e.currentNavigation=null},function(t){return t.lift(new gt(n))}),J((function(n){if(a=!0,(A=n)&&A[Lt]){var r=ze(n.url);r||(e.navigated=!0,e.resetStateAndUrl(t.currentRouterState,t.currentUrlTree,t.rawUrl));var s=new It(t.id,e.serializeUrl(t.extractedUrl),n.message);i.next(s),r?setTimeout((function(){var i=e.urlHandlingStrategy.merge(n.url,e.rawUrlTree);return e.scheduleNavigation(i,"imperative",null,{skipLocationChange:t.extras.skipLocationChange,replaceUrl:"eager"===e.urlUpdateStrategy},{resolve:t.resolve,reject:t.reject,promise:t.promise})}),0):t.resolve(!1)}else{e.resetStateAndUrl(t.currentRouterState,t.currentUrlTree,t.rawUrl);var o=new Bt(t.id,e.serializeUrl(t.extractedUrl),n);i.next(o);try{t.resolve(e.errorHandler(n))}catch(l){t.reject(l)}}var A;return v})))})))}},{key:"resetRootComponentType",value:function(t){this.rootComponentType=t,this.routerState.root.component=this.rootComponentType}},{key:"getTransition",value:function(){var t=this.transitions.value;return t.urlAfterRedirects=this.browserUrlTree,t}},{key:"setTransition",value:function(t){this.transitions.next(Object.assign(Object.assign({},this.getTransition()),t))}},{key:"initialNavigation",value:function(){this.setUpLocationChangeListener(),0===this.navigationId&&this.navigateByUrl(this.location.path(!0),{replaceUrl:!0})}},{key:"setUpLocationChangeListener",value:function(){var t=this;this.locationSubscription||(this.locationSubscription=this.location.subscribe((function(e){var i=t.parseUrl(e.url),n="popstate"===e.type?"popstate":"hashchange",r=e.state&&e.state.navigationId?e.state:null;setTimeout((function(){t.scheduleNavigation(i,n,r,{replaceUrl:!0})}),0)})))}},{key:"getCurrentNavigation",value:function(){return this.currentNavigation}},{key:"triggerEvent",value:function(t){this.events.next(t)}},{key:"resetConfig",value:function(t){Ht(t),this.config=t.map(Kt),this.navigated=!1,this.lastSuccessfulId=-1}},{key:"ngOnDestroy",value:function(){this.dispose()}},{key:"dispose",value:function(){this.locationSubscription&&(this.locationSubscription.unsubscribe(),this.locationSubscription=null)}},{key:"createUrlTree",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},i=e.relativeTo,n=e.queryParams,s=e.fragment,o=e.preserveQueryParams,a=e.queryParamsHandling,A=e.preserveFragment;Object(r.S)()&&o&&console&&console.warn&&console.warn("preserveQueryParams is deprecated, use queryParamsHandling instead.");var l=i||this.routerState.root,u=A?this.currentUrlTree.fragment:s,h=null;if(a)switch(a){case"merge":h=Object.assign(Object.assign({},this.currentUrlTree.queryParams),n);break;case"preserve":h=this.currentUrlTree.queryParams;break;default:h=n||null}else h=o?this.currentUrlTree.queryParams:n||null;return null!==h&&(h=this.removeEmptyProps(h)),function(t,e,i,n,r){if(0===i.length)return Ge(e.root,e.root,e,n,r);var s=function(t){if("string"==typeof t[0]&&1===t.length&&"/"===t[0])return new Fe(!0,0,t);var e=0,i=!1,n=t.reduce((function(t,n,r){if("object"==typeof n&&null!=n){if(n.outlets){var s={};return Wt(n.outlets,(function(t,e){s[e]="string"==typeof t?t.split("/"):t})),[].concat(_toConsumableArray(t),[{outlets:s}])}if(n.segmentPath)return[].concat(_toConsumableArray(t),[n.segmentPath])}return"string"!=typeof n?[].concat(_toConsumableArray(t),[n]):0===r?(n.split("/").forEach((function(n,r){0==r&&"."===n||(0==r&&""===n?i=!0:".."===n?e++:""!=n&&t.push(n))})),t):[].concat(_toConsumableArray(t),[n])}),[]);return new Fe(i,e,n)}(i);if(s.toRoot())return Ge(e.root,new ee([],{}),e,n,r);var o=function(t,e,i){if(t.isAbsolute)return new Pe(e.root,!0,0);if(-1===i.snapshot._lastPathIndex)return new Pe(i.snapshot._urlSegment,!0,0);var n=Te(t.commands[0])?0:1;return function(t,e,i){for(var n=t,r=e,s=i;s>r;){if(s-=r,!(n=n.parent))throw new Error("Invalid number of '../'");r=n.segments.length}return new Pe(n,!1,r-s)}(i.snapshot._urlSegment,i.snapshot._lastPathIndex+n,t.numberOfDoubleDots)}(s,e,t),a=o.processChildren?Ue(o.segmentGroup,o.index,s.commands):Le(o.segmentGroup,o.index,s.commands);return Ge(o.segmentGroup,a,e,n,r)}(l,this.currentUrlTree,t,h,u)}},{key:"navigateByUrl",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{skipLocationChange:!1};Object(r.S)()&&this.isNgZoneEnabled&&!r.y.isInAngularZone()&&this.console.warn("Navigation triggered outside Angular zone, did you forget to call 'ngZone.run()'?");var i=ze(t)?t:this.parseUrl(t),n=this.urlHandlingStrategy.merge(i,this.rawUrlTree);return this.scheduleNavigation(n,"imperative",null,e)}},{key:"navigate",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{skipLocationChange:!1};return function(t){for(var e=0;e<t.length;e++){var i=t[e];if(null==i)throw new Error("The requested path contains ".concat(i," segment at index ").concat(e))}}(t),this.navigateByUrl(this.createUrlTree(t,e),e)}},{key:"serializeUrl",value:function(t){return this.urlSerializer.serialize(t)}},{key:"parseUrl",value:function(t){var e;try{e=this.urlSerializer.parse(t)}catch(i){e=this.malformedUriErrorHandler(i,this.urlSerializer,t)}return e}},{key:"isActive",value:function(t,e){if(ze(t))return $t(this.currentUrlTree,t,e);var i=this.parseUrl(t);return $t(this.currentUrlTree,i,e)}},{key:"removeEmptyProps",value:function(t){return Object.keys(t).reduce((function(e,i){var n=t[i];return null!=n&&(e[i]=n),e}),{})}},{key:"processNavigations",value:function(){var t=this;this.navigations.subscribe((function(e){t.navigated=!0,t.lastSuccessfulId=e.id,t.events.next(new vt(e.id,t.serializeUrl(e.extractedUrl),t.serializeUrl(t.currentUrlTree))),t.lastSuccessfulNavigation=t.currentNavigation,t.currentNavigation=null,e.resolve(!0)}),(function(e){t.console.warn("Unhandled Navigation Error: ")}))}},{key:"scheduleNavigation",value:function(t,e,i,n,r){var s,o,a,A=this.getTransition();if(A&&"imperative"!==e&&"imperative"===A.source&&A.rawUrl.toString()===t.toString())return Promise.resolve(!0);if(A&&"hashchange"==e&&"popstate"===A.source&&A.rawUrl.toString()===t.toString())return Promise.resolve(!0);if(A&&"popstate"==e&&"hashchange"===A.source&&A.rawUrl.toString()===t.toString())return Promise.resolve(!0);r?(s=r.resolve,o=r.reject,a=r.promise):a=new Promise((function(t,e){s=t,o=e}));var l=++this.navigationId;return this.setTransition({id:l,source:e,restoredState:i,currentUrlTree:this.currentUrlTree,currentRawUrl:this.rawUrlTree,rawUrl:t,extras:n,resolve:s,reject:o,promise:a,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),a.catch((function(t){return Promise.reject(t)}))}},{key:"setBrowserUrl",value:function(t,e,i,n){var r=this.urlSerializer.serialize(t);n=n||{},this.location.isCurrentPathEqualTo(r)||e?this.location.replaceState(r,"",Object.assign(Object.assign({},n),{navigationId:i})):this.location.go(r,"",Object.assign(Object.assign({},n),{navigationId:i}))}},{key:"resetStateAndUrl",value:function(t,e,i){this.routerState=t,this.currentUrlTree=e,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,i),this.resetUrlToCurrentUrlTree()}},{key:"resetUrlToCurrentUrlTree",value:function(){this.location.replaceState(this.urlSerializer.serialize(this.rawUrlTree),"",{navigationId:this.lastSuccessfulId})}},{key:"url",get:function(){return this.serializeUrl(this.currentUrlTree)}}]),t}()).\u0275fac=function(t){r.Mb()},Vi.\u0275dir=r.Ab({type:Vi}),Vi),Ni=function t(){_classCallCheck2(this,t),this.outlet=null,this.route=null,this.resolver=null,this.children=new Li,this.attachRef=null},Li=function(){function t(){_classCallCheck2(this,t),this.contexts=new Map}return _createClass2(t,[{key:"onChildOutletCreated",value:function(t,e){var i=this.getOrCreateContext(t);i.outlet=e,this.contexts.set(t,i)}},{key:"onChildOutletDestroyed",value:function(t){var e=this.getContext(t);e&&(e.outlet=null)}},{key:"onOutletDeactivated",value:function(){var t=this.contexts;return this.contexts=new Map,t}},{key:"onOutletReAttached",value:function(t){this.contexts=t}},{key:"getOrCreateContext",value:function(t){var e=this.getContext(t);return e||(e=new Ni,this.contexts.set(t,e)),e}},{key:"getContext",value:function(t){return this.contexts.get(t)||null}}]),t}(),Ui=((Ti=function(){function t(e,i,n,s,o){_classCallCheck2(this,t),this.parentContexts=e,this.location=i,this.resolver=n,this.changeDetector=o,this.activated=null,this._activatedRoute=null,this.activateEvents=new r.m,this.deactivateEvents=new r.m,this.name=s||Ft,e.onChildOutletCreated(this.name,this)}return _createClass2(t,[{key:"ngOnDestroy",value:function(){this.parentContexts.onChildOutletDestroyed(this.name)}},{key:"ngOnInit",value:function(){if(!this.activated){var t=this.parentContexts.getContext(this.name);t&&t.route&&(t.attachRef?this.attach(t.attachRef,t.route):this.activateWith(t.route,t.resolver||null))}}},{key:"detach",value:function(){if(!this.activated)throw new Error("Outlet is not activated");this.location.detach();var t=this.activated;return this.activated=null,this._activatedRoute=null,t}},{key:"attach",value:function(t,e){this.activated=t,this._activatedRoute=e,this.location.insert(t.hostView)}},{key:"deactivate",value:function(){if(this.activated){var t=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(t)}}},{key:"activateWith",value:function(t,e){if(this.isActivated)throw new Error("Cannot activate an already activated outlet");this._activatedRoute=t;var i=(e=e||this.resolver).resolveComponentFactory(t._futureSnapshot.routeConfig.component),n=this.parentContexts.getOrCreateContext(this.name).children,r=new Oi(t,n,this.location.injector);this.activated=this.location.createComponent(i,this.location.length,r),this.changeDetector.markForCheck(),this.activateEvents.emit(this.activated.instance)}},{key:"isActivated",get:function(){return!!this.activated}},{key:"component",get:function(){if(!this.activated)throw new Error("Outlet is not activated");return this.activated.instance}},{key:"activatedRoute",get:function(){if(!this.activated)throw new Error("Outlet is not activated");return this._activatedRoute}},{key:"activatedRouteData",get:function(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}}]),t}()).\u0275fac=function(t){return new(t||Ti)(r.Fb(Li),r.Fb(r.M),r.Fb(r.j),r.Lb("name"),r.Fb(r.h))},Ti.\u0275dir=r.Ab({type:Ti,selectors:[["router-outlet"]],outputs:{activateEvents:"activate",deactivateEvents:"deactivate"},exportAs:["outlet"]}),Ti),Oi=function(){function t(e,i,n){_classCallCheck2(this,t),this.route=e,this.childContexts=i,this.parent=n}return _createClass2(t,[{key:"get",value:function(t,e){return t===xe?this.route:t===Li?this.childContexts:this.parent.get(t,e)}}]),t}(),Yi=function t(){_classCallCheck2(this,t)},Hi=function(){function t(){_classCallCheck2(this,t)}return _createClass2(t,[{key:"preload",value:function(t,e){return A(null)}}]),t}(),Ji=((Fi=function(){function t(e,i,n,r,s){_classCallCheck2(this,t),this.router=e,this.injector=r,this.preloadingStrategy=s,this.loader=new Qi(i,n,(function(t){return e.triggerEvent(new Qt(t))}),(function(t){return e.triggerEvent(new kt(t))}))}return _createClass2(t,[{key:"setUpPreloading",value:function(){var t=this;this.subscription=this.router.events.pipe(S((function(t){return t instanceof vt})),At((function(){return t.preload()}))).subscribe((function(){}))}},{key:"preload",value:function(){var t=this.injector.get(r.w);return this.processRoutes(t,this.router.config)}},{key:"ngOnDestroy",value:function(){this.subscription.unsubscribe()}},{key:"processRoutes",value:function(t,e){var i=[],n=!0,r=!1,s=void 0;try{for(var o,a=e[Symbol.iterator]();!(n=(o=a.next()).done);n=!0){var A=o.value;if(A.loadChildren&&!A.canLoad&&A._loadedConfig){var u=A._loadedConfig;i.push(this.processRoutes(u.module,u.routes))}else A.loadChildren&&!A.canLoad?i.push(this.preloadConfig(t,A)):A.children&&i.push(this.processRoutes(t,A.children))}}catch(h){r=!0,s=h}finally{try{n||null==a.return||a.return()}finally{if(r)throw s}}return Object(l.a)(i).pipe(Object(w.a)(),Object(E.a)((function(t){})))}},{key:"preloadConfig",value:function(t,e){var i=this;return this.preloadingStrategy.preload(e,(function(){return i.loader.load(t.injector,e).pipe(Object(Z.a)((function(t){return e._loadedConfig=t,i.processRoutes(t.module,t.routes)})))}))}}]),t}()).\u0275fac=function(t){return new(t||Fi)(r.Kb(Pi),r.Kb(r.v),r.Kb(r.i),r.Kb(r.q),r.Kb(Yi))},Fi.\u0275prov=r.Bb({token:Fi,factory:function(t){return Fi.\u0275fac(t)},providedIn:null}),Fi),ji=((Gi=function(){function t(e,i){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};_classCallCheck2(this,t),this.router=e,this.viewportScroller=i,this.options=n,this.lastId=0,this.lastSource="imperative",this.restoredId=0,this.store={},n.scrollPositionRestoration=n.scrollPositionRestoration||"disabled",n.anchorScrolling=n.anchorScrolling||"disabled"}return _createClass2(t,[{key:"init",value:function(){"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.setHistoryScrollRestoration("manual"),this.routerEventsSubscription=this.createScrollEvents(),this.scrollEventsSubscription=this.consumeScrollEvents()}},{key:"createScrollEvents",value:function(){var t=this;return this.router.events.subscribe((function(e){e instanceof Ct?(t.store[t.lastId]=t.viewportScroller.getScrollPosition(),t.lastSource=e.navigationTrigger,t.restoredId=e.restoredState?e.restoredState.navigationId:0):e instanceof vt&&(t.lastId=e.id,t.scheduleScrollEvent(e,t.router.parseUrl(e.urlAfterRedirects).fragment))}))}},{key:"consumeScrollEvents",value:function(){var t=this;return this.router.events.subscribe((function(e){e instanceof Tt&&(e.position?"top"===t.options.scrollPositionRestoration?t.viewportScroller.scrollToPosition([0,0]):"enabled"===t.options.scrollPositionRestoration&&t.viewportScroller.scrollToPosition(e.position):e.anchor&&"enabled"===t.options.anchorScrolling?t.viewportScroller.scrollToAnchor(e.anchor):"disabled"!==t.options.scrollPositionRestoration&&t.viewportScroller.scrollToPosition([0,0]))}))}},{key:"scheduleScrollEvent",value:function(t,e){this.router.triggerEvent(new Tt(t,"popstate"===this.lastSource?this.store[this.restoredId]:null,e))}},{key:"ngOnDestroy",value:function(){this.routerEventsSubscription&&this.routerEventsSubscription.unsubscribe(),this.scrollEventsSubscription&&this.scrollEventsSubscription.unsubscribe()}}]),t}()).\u0275fac=function(t){r.Mb()},Gi.\u0275dir=r.Ab({type:Gi}),Gi),Ki=new r.p("ROUTER_CONFIGURATION"),qi=new r.p("ROUTER_FORROOT_GUARD"),zi=[n.f,{provide:se,useClass:oe},{provide:Pi,useFactory:function(t,e,i,r,s,o,a,A){var l=arguments.length>8&&void 0!==arguments[8]?arguments[8]:{},u=arguments.length>9?arguments[9]:void 0,h=arguments.length>10?arguments[10]:void 0,c=new Pi(null,e,i,r,s,o,a,zt(A));if(u&&(c.urlHandlingStrategy=u),h&&(c.routeReuseStrategy=h),l.errorHandler&&(c.errorHandler=l.errorHandler),l.malformedUriErrorHandler&&(c.malformedUriErrorHandler=l.malformedUriErrorHandler),l.enableTracing){var f=Object(n.n)();c.events.subscribe((function(t){f.logGroup("Router Event: ".concat(t.constructor.name)),f.log(t.toString()),f.log(t),f.logGroupEnd()}))}return l.onSameUrlNavigation&&(c.onSameUrlNavigation=l.onSameUrlNavigation),l.paramsInheritanceStrategy&&(c.paramsInheritanceStrategy=l.paramsInheritanceStrategy),l.urlUpdateStrategy&&(c.urlUpdateStrategy=l.urlUpdateStrategy),l.relativeLinkResolution&&(c.relativeLinkResolution=l.relativeLinkResolution),c},deps:[r.g,se,Li,n.f,r.q,r.v,r.i,Si,Ki,[function(){return function t(){_classCallCheck2(this,t)}}(),new r.z],[function(){return function t(){_classCallCheck2(this,t)}}(),new r.z]]},Li,{provide:xe,useFactory:function(t){return t.routerState.root},deps:[Pi]},{provide:r.v,useClass:r.I},Ji,Hi,function(){function t(){_classCallCheck2(this,t)}return _createClass2(t,[{key:"preload",value:function(t,e){return e().pipe(J((function(){return A(null)})))}}]),t}(),{provide:Ki,useValue:{enableTracing:!1}}];function Xi(){return new r.x("Router",Pi)}var Wi,Zi=((Wi=function(){function t(e,i){_classCallCheck2(this,t)}return _createClass2(t,null,[{key:"forRoot",value:function(e,i){return{ngModule:t,providers:[zi,nn(e),{provide:qi,useFactory:en,deps:[[Pi,new r.z,new r.H]]},{provide:Ki,useValue:i||{}},{provide:n.g,useFactory:tn,deps:[n.i,[new r.o(n.a),new r.z],Ki]},{provide:ji,useFactory:$i,deps:[Pi,n.j,Ki]},{provide:Yi,useExisting:i&&i.preloadingStrategy?i.preloadingStrategy:Hi},{provide:r.x,multi:!0,useFactory:Xi},[sn,{provide:r.d,multi:!0,useFactory:on,deps:[sn]},{provide:An,useFactory:an,deps:[sn]},{provide:r.b,multi:!0,useExisting:An}]]}}},{key:"forChild",value:function(e){return{ngModule:t,providers:[nn(e)]}}}]),t}()).\u0275mod=r.Db({type:Wi}),Wi.\u0275inj=r.Cb({factory:function(t){return new(t||Wi)(r.Kb(qi,8),r.Kb(Pi,8))}}),Wi);function $i(t,e,i){return i.scrollOffset&&e.setOffset(i.scrollOffset),new ji(t,e,i)}function tn(t,e){return(arguments.length>2&&void 0!==arguments[2]?arguments[2]:{}).useHash?new n.d(t,e):new n.h(t,e)}function en(t){if(t)throw new Error("RouterModule.forRoot() called twice. Lazy loaded modules should use RouterModule.forChild() instead.");return"guarded"}function nn(t){return[{provide:r.a,multi:!0,useValue:t},{provide:Si,multi:!0,useValue:t}]}var rn,sn=((rn=function(){function t(e){_classCallCheck2(this,t),this.injector=e,this.initNavigation=!1,this.resultOfPreactivationDone=new u.a}return _createClass2(t,[{key:"appInitializer",value:function(){var t=this;return this.injector.get(n.e,Promise.resolve(null)).then((function(){var e=null,i=new Promise((function(t){return e=t})),n=t.injector.get(Pi),r=t.injector.get(Ki);if(t.isLegacyDisabled(r)||t.isLegacyEnabled(r))e(!0);else if("disabled"===r.initialNavigation)n.setUpLocationChangeListener(),e(!0);else{if("enabled"!==r.initialNavigation)throw new Error("Invalid initialNavigation options: '".concat(r.initialNavigation,"'"));n.hooks.afterPreactivation=function(){return t.initNavigation?A(null):(t.initNavigation=!0,e(!0),t.resultOfPreactivationDone)},n.initialNavigation()}return i}))}},{key:"bootstrapListener",value:function(t){var e=this.injector.get(Ki),i=this.injector.get(Ji),n=this.injector.get(ji),s=this.injector.get(Pi),o=this.injector.get(r.g);t===o.components[0]&&(this.isLegacyEnabled(e)?s.initialNavigation():this.isLegacyDisabled(e)&&s.setUpLocationChangeListener(),i.setUpPreloading(),n.init(),s.resetRootComponentType(o.componentTypes[0]),this.resultOfPreactivationDone.next(null),this.resultOfPreactivationDone.complete())}},{key:"isLegacyEnabled",value:function(t){return"legacy_enabled"===t.initialNavigation||!0===t.initialNavigation||void 0===t.initialNavigation}},{key:"isLegacyDisabled",value:function(t){return"legacy_disabled"===t.initialNavigation||!1===t.initialNavigation}}]),t}()).\u0275fac=function(t){return new(t||rn)(r.Kb(r.q))},rn.\u0275prov=r.Bb({token:rn,factory:function(t){return rn.\u0275fac(t)},providedIn:null}),rn);function on(t){return t.appInitializer.bind(t)}function an(t){return t.bootstrapListener.bind(t)}var An=new r.p("Router Initializer")},uip3:function(t,e,i){"use strict";function n(t,e,i){i=i||2;var n,a,A,l,u,f,m,g=e&&e.length,d=g?e[0]*i:t.length,p=r(t,0,d,i,!0),y=[];if(!p||p.next===p.prev)return y;if(g&&(p=function(t,e,i,n){var o,a,A,l=[];for(o=0,a=e.length;o<a;o++)(A=r(t,e[o]*n,o<a-1?e[o+1]*n:t.length,n,!1))===A.next&&(A.steiner=!0),l.push(_(A));for(l.sort(h),o=0;o<l.length;o++)c(l[o],i),i=s(i,i.next);return i}(t,e,p,i)),t.length>80*i){n=A=t[0],a=l=t[1];for(var C=i;C<d;C+=i)(u=t[C])<n&&(n=u),(f=t[C+1])<a&&(a=f),u>A&&(A=u),f>l&&(l=f);m=0!==(m=Math.max(A-n,l-a))?1/m:0}return o(p,y,i,n,a,m),y}function r(t,e,i,n,r){var s,o;if(r===S(t,e,i,n)>0)for(s=e;s<i;s+=n)o=w(s,t[s],t[s+1],o);else for(s=i-n;s>=e;s-=n)o=w(s,t[s],t[s+1],o);return o&&y(o,o.next)&&(b(o),o=o.next),o}function s(t,e){if(!t)return t;e||(e=t);var i,n=t;do{if(i=!1,n.steiner||!y(n,n.next)&&0!==p(n.prev,n,n.next))n=n.next;else{if(b(n),(n=e=n.prev)===n.next)break;i=!0}}while(i||n!==e);return e}function o(t,e,i,n,r,h,c){if(t){!c&&h&&function(t,e,i,n){var r=t;do{null===r.z&&(r.z=m(r.x,r.y,e,i,n)),r.prevZ=r.prev,r.nextZ=r.next,r=r.next}while(r!==t);r.prevZ.nextZ=null,r.prevZ=null,function(t){var e,i,n,r,s,o,a,A,l=1;do{for(i=t,t=null,s=null,o=0;i;){for(o++,n=i,a=0,e=0;e<l&&(a++,n=n.nextZ);e++);for(A=l;a>0||A>0&&n;)0!==a&&(0===A||!n||i.z<=n.z)?(r=i,i=i.nextZ,a--):(r=n,n=n.nextZ,A--),s?s.nextZ=r:t=r,r.prevZ=s,s=r;i=n}s.nextZ=null,l*=2}while(o>1)}(r)}(t,n,r,h);for(var f,_,g=t;t.prev!==t.next;)if(f=t.prev,_=t.next,h?A(t,n,r,h):a(t))e.push(f.i/i),e.push(t.i/i),e.push(_.i/i),b(t),t=_.next,g=_.next;else if((t=_)===g){c?1===c?o(t=l(s(t),e,i),e,i,n,r,h,2):2===c&&u(t,e,i,n,r,h):o(s(t),e,i,n,r,h,1);break}}}function a(t){var e=t.prev,i=t,n=t.next;if(p(e,i,n)>=0)return!1;for(var r=t.next.next;r!==t.prev;){if(g(e.x,e.y,i.x,i.y,n.x,n.y,r.x,r.y)&&p(r.prev,r,r.next)>=0)return!1;r=r.next}return!0}function A(t,e,i,n){var r=t.prev,s=t,o=t.next;if(p(r,s,o)>=0)return!1;for(var a=r.x>s.x?r.x>o.x?r.x:o.x:s.x>o.x?s.x:o.x,A=r.y>s.y?r.y>o.y?r.y:o.y:s.y>o.y?s.y:o.y,l=m(r.x<s.x?r.x<o.x?r.x:o.x:s.x<o.x?s.x:o.x,r.y<s.y?r.y<o.y?r.y:o.y:s.y<o.y?s.y:o.y,e,i,n),u=m(a,A,e,i,n),h=t.prevZ,c=t.nextZ;h&&h.z>=l&&c&&c.z<=u;){if(h!==t.prev&&h!==t.next&&g(r.x,r.y,s.x,s.y,o.x,o.y,h.x,h.y)&&p(h.prev,h,h.next)>=0)return!1;if(h=h.prevZ,c!==t.prev&&c!==t.next&&g(r.x,r.y,s.x,s.y,o.x,o.y,c.x,c.y)&&p(c.prev,c,c.next)>=0)return!1;c=c.nextZ}for(;h&&h.z>=l;){if(h!==t.prev&&h!==t.next&&g(r.x,r.y,s.x,s.y,o.x,o.y,h.x,h.y)&&p(h.prev,h,h.next)>=0)return!1;h=h.prevZ}for(;c&&c.z<=u;){if(c!==t.prev&&c!==t.next&&g(r.x,r.y,s.x,s.y,o.x,o.y,c.x,c.y)&&p(c.prev,c,c.next)>=0)return!1;c=c.nextZ}return!0}function l(t,e,i){var n=t;do{var r=n.prev,o=n.next.next;!y(r,o)&&C(r,n,n.next,o)&&B(r,o)&&B(o,r)&&(e.push(r.i/i),e.push(n.i/i),e.push(o.i/i),b(n),b(n.next),n=t=o),n=n.next}while(n!==t);return s(n)}function u(t,e,i,n,r,a){var A=t;do{for(var l=A.next.next;l!==A.prev;){if(A.i!==l.i&&d(A,l)){var u=E(A,l);return A=s(A,A.next),u=s(u,u.next),o(A,e,i,n,r,a),void o(u,e,i,n,r,a)}l=l.next}A=A.next}while(A!==t)}function h(t,e){return t.x-e.x}function c(t,e){if(e=function(t,e){var i,n=e,r=t.x,s=t.y,o=-1/0;do{if(s<=n.y&&s>=n.next.y&&n.next.y!==n.y){var a=n.x+(s-n.y)*(n.next.x-n.x)/(n.next.y-n.y);if(a<=r&&a>o){if(o=a,a===r){if(s===n.y)return n;if(s===n.next.y)return n.next}i=n.x<n.next.x?n:n.next}}n=n.next}while(n!==e);if(!i)return null;if(r===o)return i;var A,l=i,u=i.x,h=i.y,c=1/0;n=i;do{r>=n.x&&n.x>=u&&r!==n.x&&g(s<h?r:o,s,u,h,s<h?o:r,s,n.x,n.y)&&(A=Math.abs(s-n.y)/(r-n.x),B(n,t)&&(A<c||A===c&&(n.x>i.x||n.x===i.x&&f(i,n)))&&(i=n,c=A)),n=n.next}while(n!==l);return i}(t,e)){var i=E(e,t);s(i,i.next)}}function f(t,e){return p(t.prev,t,e.prev)<0&&p(e.next,t,t.next)<0}function m(t,e,i,n,r){return(t=1431655765&((t=858993459&((t=252645135&((t=16711935&((t=32767*(t-i)*r)|t<<8))|t<<4))|t<<2))|t<<1))|(e=1431655765&((e=858993459&((e=252645135&((e=16711935&((e=32767*(e-n)*r)|e<<8))|e<<4))|e<<2))|e<<1))<<1}function _(t){var e=t,i=t;do{(e.x<i.x||e.x===i.x&&e.y<i.y)&&(i=e),e=e.next}while(e!==t);return i}function g(t,e,i,n,r,s,o,a){return(r-o)*(e-a)-(t-o)*(s-a)>=0&&(t-o)*(n-a)-(i-o)*(e-a)>=0&&(i-o)*(s-a)-(r-o)*(n-a)>=0}function d(t,e){return t.next.i!==e.i&&t.prev.i!==e.i&&!function(t,e){var i=t;do{if(i.i!==t.i&&i.next.i!==t.i&&i.i!==e.i&&i.next.i!==e.i&&C(i,i.next,t,e))return!0;i=i.next}while(i!==t);return!1}(t,e)&&(B(t,e)&&B(e,t)&&function(t,e){var i=t,n=!1,r=(t.x+e.x)/2,s=(t.y+e.y)/2;do{i.y>s!=i.next.y>s&&i.next.y!==i.y&&r<(i.next.x-i.x)*(s-i.y)/(i.next.y-i.y)+i.x&&(n=!n),i=i.next}while(i!==t);return n}(t,e)&&(p(t.prev,t,e.prev)||p(t,e.prev,e))||y(t,e)&&p(t.prev,t,t.next)>0&&p(e.prev,e,e.next)>0)}function p(t,e,i){return(e.y-t.y)*(i.x-e.x)-(e.x-t.x)*(i.y-e.y)}function y(t,e){return t.x===e.x&&t.y===e.y}function C(t,e,i,n){var r=I(p(t,e,i)),s=I(p(t,e,n)),o=I(p(i,n,t)),a=I(p(i,n,e));return r!==s&&o!==a||!(0!==r||!v(t,i,e))||!(0!==s||!v(t,n,e))||!(0!==o||!v(i,t,n))||!(0!==a||!v(i,e,n))}function v(t,e,i){return e.x<=Math.max(t.x,i.x)&&e.x>=Math.min(t.x,i.x)&&e.y<=Math.max(t.y,i.y)&&e.y>=Math.min(t.y,i.y)}function I(t){return t>0?1:t<0?-1:0}function B(t,e){return p(t.prev,t,t.next)<0?p(t,e,t.next)>=0&&p(t,t.prev,e)>=0:p(t,e,t.prev)<0||p(t,t.next,e)<0}function E(t,e){var i=new x(t.i,t.x,t.y),n=new x(e.i,e.x,e.y),r=t.next,s=e.prev;return t.next=e,e.prev=t,i.next=r,r.prev=i,n.next=i,i.prev=n,s.next=n,n.prev=s,n}function w(t,e,i,n){var r=new x(t,e,i);return n?(r.next=n.next,r.prev=n,n.next.prev=r,n.next=r):(r.prev=r,r.next=r),r}function b(t){t.next.prev=t.prev,t.prev.next=t.next,t.prevZ&&(t.prevZ.nextZ=t.nextZ),t.nextZ&&(t.nextZ.prevZ=t.prevZ)}function x(t,e,i){this.i=t,this.x=e,this.y=i,this.prev=null,this.next=null,this.z=null,this.prevZ=null,this.nextZ=null,this.steiner=!1}function S(t,e,i,n){for(var r=0,s=e,o=i-n;s<i;s+=n)r+=(t[o]-t[s])*(t[s+1]+t[o+1]),o=s;return r}t.exports=n,t.exports.default=n,n.deviation=function(t,e,i,n){var r=e&&e.length,s=Math.abs(S(t,0,r?e[0]*i:t.length,i));if(r)for(var o=0,a=e.length;o<a;o++)s-=Math.abs(S(t,e[o]*i,o<a-1?e[o+1]*i:t.length,i));var A=0;for(o=0;o<n.length;o+=3){var l=n[o]*i,u=n[o+1]*i,h=n[o+2]*i;A+=Math.abs((t[l]-t[h])*(t[u+1]-t[l+1])-(t[l]-t[u])*(t[h+1]-t[l+1]))}return 0===s&&0===A?0:Math.abs((A-s)/s)},n.flatten=function(t){for(var e=t[0][0].length,i={vertices:[],holes:[],dimensions:e},n=0,r=0;r<t.length;r++){for(var s=0;s<t[r].length;s++)for(var o=0;o<e;o++)i.vertices.push(t[r][s][o]);r>0&&i.holes.push(n+=t[r-1].length)}return i}},"uwJ/":function(t,e,i){"use strict";function n(t,e,i){for(var n=0,r=0,s=i.length;r<s;r++)(n=i.charCodeAt(r))<128?t.setUint8(e++,n):n<2048?(t.setUint8(e++,192|n>>6),t.setUint8(e++,128|63&n)):n<55296||n>=57344?(t.setUint8(e++,224|n>>12),t.setUint8(e++,128|n>>6&63),t.setUint8(e++,128|63&n)):(n=65536+((1023&n)<<10|1023&i.charCodeAt(++r)),t.setUint8(e++,240|n>>18),t.setUint8(e++,128|n>>12&63),t.setUint8(e++,128|n>>6&63),t.setUint8(e++,128|63&n))}t.exports=function(t){var e=[],i=[],r=function t(e,i,n){var r=typeof n,s=0,o=0,a=0,A=0,l=0,u=0;if("string"===r){if((l=function(t){for(var e=0,i=0,n=0,r=t.length;n<r;n++)(e=t.charCodeAt(n))<128?i+=1:e<2048?i+=2:e<55296||e>=57344?i+=3:(n++,i+=4);return i}(n))<32)e.push(160|l),u=1;else if(l<256)e.push(217,l),u=2;else if(l<65536)e.push(218,l>>8,l),u=3;else{if(!(l<4294967296))throw new Error("String too long");e.push(219,l>>24,l>>16,l>>8,l),u=5}return i.push({_str:n,_length:l,_offset:e.length}),u+l}if("number"===r)return Math.floor(n)===n&&isFinite(n)?n>=0?n<128?(e.push(n),1):n<256?(e.push(204,n),2):n<65536?(e.push(205,n>>8,n),3):n<4294967296?(e.push(206,n>>24,n>>16,n>>8,n),5):(a=n/Math.pow(2,32)>>0,e.push(207,a>>24,a>>16,a>>8,a,(A=n>>>0)>>24,A>>16,A>>8,A),9):n>=-32?(e.push(n),1):n>=-128?(e.push(208,n),2):n>=-32768?(e.push(209,n>>8,n),3):n>=-2147483648?(e.push(210,n>>24,n>>16,n>>8,n),5):(a=Math.floor(n/Math.pow(2,32)),e.push(211,a>>24,a>>16,a>>8,a,(A=n>>>0)>>24,A>>16,A>>8,A),9):(e.push(203),i.push({_float:n,_length:8,_offset:e.length}),9);if("object"===r){if(null===n)return e.push(192),1;if(Array.isArray(n)){if((l=n.length)<16)e.push(144|l),u=1;else if(l<65536)e.push(220,l>>8,l),u=3;else{if(!(l<4294967296))throw new Error("Array too large");e.push(221,l>>24,l>>16,l>>8,l),u=5}for(s=0;s<l;s++)u+=t(e,i,n[s]);return u}if(n instanceof Date){var h=n.getTime();return a=Math.floor(h/Math.pow(2,32)),e.push(215,0,a>>24,a>>16,a>>8,a,(A=h>>>0)>>24,A>>16,A>>8,A),10}if(n instanceof ArrayBuffer){if((l=n.byteLength)<256)e.push(196,l),u=2;else if(l<65536)e.push(197,l>>8,l),u=3;else{if(!(l<4294967296))throw new Error("Buffer too large");e.push(198,l>>24,l>>16,l>>8,l),u=5}return i.push({_bin:n,_length:l,_offset:e.length}),u+l}if("function"==typeof n.toJSON)return t(e,i,n.toJSON());var c=[],f="",m=Object.keys(n);for(s=0,o=m.length;s<o;s++)"function"!=typeof n[f=m[s]]&&c.push(f);if((l=c.length)<16)e.push(128|l),u=1;else if(l<65536)e.push(222,l>>8,l),u=3;else{if(!(l<4294967296))throw new Error("Object too large");e.push(223,l>>24,l>>16,l>>8,l),u=5}for(s=0;s<l;s++)u+=t(e,i,f=c[s]),u+=t(e,i,n[f]);return u}if("boolean"===r)return e.push(n?195:194),1;if("undefined"===r)return e.push(212,0,0),3;throw new Error("Could not encode")}(e,i,t),s=new ArrayBuffer(r),o=new DataView(s),a=0,A=0,l=-1;i.length>0&&(l=i[0]._offset);for(var u,h=0,c=0,f=0,m=e.length;f<m;f++)if(o.setUint8(A+f,e[f]),f+1===l){if(h=(u=i[a])._length,c=A+l,u._bin)for(var _=new Uint8Array(u._bin),g=0;g<h;g++)o.setUint8(c+g,_[g]);else u._str?n(o,c,u._str):void 0!==u._float&&o.setFloat64(c,u._float);A+=h,i[++a]&&(l=i[a]._offset)}return s}},vwRy:function(t,e,i){"use strict";var n=this&&this.__values||function(t){var e="function"==typeof Symbol&&t[Symbol.iterator],i=0;return e?e.call(t):{next:function(){return t&&i>=t.length&&(t=void 0),{value:t&&t[i++],done:!t}}}};Object.defineProperty(e,"__esModule",{value:!0});var r=i("xvRS"),s=i("xhEQ"),o=i("kgUQ"),a=i("X9PU");function A(){for(var t,e,i=[],r=0;r<arguments.length;r++)i[r]=arguments[r];try{for(var s=n(i),o=s.next();!o.done;o=s.next()){var a=o.value;a.isDeleted()||a.delete()}}catch(A){t={error:A}}finally{try{o&&!o.done&&(e=s.return)&&e.call(s)}finally{if(t)throw t.error}}}function l(t){var e=t.length;if(e<3)return 0;for(var i=0,n=0,r=e-1;n<e;++n)i+=(t[r].x+t[n].x)*(t[r].y-t[n].y),r=n;return.5*-i}function u(t,e,i){var n=!0;switch(e){case 1:return;case 2:n=!t.isOpen}t.contour.length>0&&n&&i.push(t.contour);for(var r=0,s=t.childs.length;r<s;r++)u(t.childs[r],e,i)}function h(t){t.reverse()}function c(t,e){for(var i=[],n=t.length;n--;){var r=t[n];i.push({x:Math.round(r.x*e),y:Math.round(r.y*e)})}return i}e.area=l,e.cleanPolygon=function(t,e,i){void 0===i&&(i=1.1415);var n=a.pathToNativePath(t,e);try{return t.cleanPolygon(n,i),a.nativePathToPath(t,n,!0)}finally{A(n)}},e.cleanPolygons=function(t,e,i){void 0===i&&(i=1.1415);var n=o.pathsToNativePaths(t,e);try{return t.cleanPolygons(n,i),o.nativePathsToPaths(t,n,!0)}finally{A(n)}},e.closedPathsFromPolyTree=function(t){var e=[];return u(t,2,e),e},e.minkowskiDiff=function(t,e,i){var n=a.pathToNativePath(t,e),r=a.pathToNativePath(t,i),s=new t.Paths;try{return t.minkowskiDiff(n,r,s),A(n,r),o.nativePathsToPaths(t,s,!0)}finally{A(n,r,s)}},e.minkowskiSumPath=function(t,e,i,n){var r=a.pathToNativePath(t,e),s=a.pathToNativePath(t,i),l=new t.Paths;try{return t.minkowskiSumPath(r,s,l,n),A(r,s),o.nativePathsToPaths(t,l,!0)}finally{A(r,s,l)}},e.minkowskiSumPaths=function(t,e,i,n){var r=a.pathToNativePath(t,e),s=o.pathsToNativePaths(t,i);try{return t.minkowskiSumPaths(r,s,s,n),A(r),o.nativePathsToPaths(t,s,!0)}finally{A(r,s)}},e.openPathsFromPolyTree=function(t){var e=[],i=t.childs.length;e.length=i;for(var n=0,r=0;r<i;r++)t.childs[r].isOpen&&(e[n++]=t.childs[r].contour);return e.length=n,e},e.orientation=function(t){return l(t)>=0},e.pointInPolygon=function(t,e){var i=0,n=e.length;if(n<3)return 0;for(var r=e[0],s=1;s<=n;++s){var o=s===n?e[0]:e[s];if(o.y===t.y&&(o.x===t.x||r.y===t.y&&o.x>t.x==r.x<t.x))return-1;if(r.y<t.y!=o.y<t.y)if(r.x>=t.x)if(o.x>t.x)i=1-i;else{if(0==(a=(r.x-t.x)*(o.y-t.y)-(o.x-t.x)*(r.y-t.y)))return-1;a>0==o.y>r.y&&(i=1-i)}else if(o.x>t.x){var a;if(0==(a=(r.x-t.x)*(o.y-t.y)-(o.x-t.x)*(r.y-t.y)))return-1;a>0==o.y>r.y&&(i=1-i)}r=o}return i},e.polyTreeToPaths=function(t){var e=[];return u(t,0,e),e},e.reversePath=h,e.reversePaths=function(t){for(var e=0,i=t.length;e<i;e++)h(t[e])},e.simplifyPolygon=function(t,e,i){void 0===i&&(i=r.PolyFillType.EvenOdd);var n=a.pathToNativePath(t,e),l=new t.Paths;try{return t.simplifyPolygon(n,l,s.polyFillTypeToNative(t,i)),A(n),o.nativePathsToPaths(t,l,!0)}finally{A(n,l)}},e.simplifyPolygons=function(t,e,i){void 0===i&&(i=r.PolyFillType.EvenOdd);var n=o.pathsToNativePaths(t,e);try{return t.simplifyPolygonsOverwrite(n,s.polyFillTypeToNative(t,i)),o.nativePathsToPaths(t,n,!0)}finally{A(n)}},e.scalePath=c,e.scalePaths=function(t,e){if(0===e)return[];for(var i=[],n=t.length;n--;)i.push(c(t[n],e));return i}},woCW:function(t,e,i){"use strict";var n=this&&this.__importStar||function(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var i in t)Object.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e.default=t,e};Object.defineProperty(e,"__esModule",{value:!0});var r=n(i("ckdo")),s=i("oBUJ"),o=i("cihy"),a=i("+b4j"),A=i("zooS");e.Room=function(){function t(t,e){var i=this;this.onJoin=s.createSignal(),this.onStateChange=s.createSignal(),this.onMessage=s.createSignal(),this.onError=s.createSignal(),this.onLeave=s.createSignal(),this.hasJoined=!1,this.id=null,this.name=t,e?(this.serializer=new(a.getSerializer("schema")),this.rootSchema=e,this.serializer.state=new e):this.serializer=new(a.getSerializer("fossil-delta")),this.onError((function(t){return console.error(t)})),this.onLeave((function(){return i.removeAllListeners()}))}return t.prototype.connect=function(t){var e=this;this.connection=new o.Connection(t,!1),this.connection.reconnectEnabled=!1,this.connection.onmessage=this.onMessageCallback.bind(this),this.connection.onclose=function(t){if(!e.hasJoined)return console.error("Room connection was closed unexpectedly ("+t.code+"): "+t.reason),void e.onError.invoke(t.reason);e.onLeave.invoke(t.code)},this.connection.onerror=function(t){console.warn("Room, onError ("+t.code+"): "+t.reason),e.onError.invoke(t.reason)},this.connection.open()},t.prototype.leave=function(t){void 0===t&&(t=!0),this.connection?t?this.connection.send([A.Protocol.LEAVE_ROOM]):this.connection.close():this.onLeave.invoke(4e3)},t.prototype.send=function(t){this.connection.send([A.Protocol.ROOM_DATA,t])},Object.defineProperty(t.prototype,"state",{get:function(){return this.serializer.getState()},enumerable:!0,configurable:!0}),t.prototype.listen=function(t,e,i){if("schema"!==this.serializerId)return this.serializerId||console.warn("room.Listen() should be called after room.onJoin has been called (DEPRECATION WARNING)"),this.serializer.api.listen(t,e,i);console.error("'"+this.serializerId+"' serializer doesn't support .listen() method.")},t.prototype.removeListener=function(t){return this.serializer.api.removeListener(t)},t.prototype.removeAllListeners=function(){this.serializer&&this.serializer.teardown(),this.onJoin.clear(),this.onStateChange.clear(),this.onMessage.clear(),this.onError.clear(),this.onLeave.clear()},t.prototype.onMessageCallback=function(t){if(this.previousCode)this.previousCode===A.Protocol.ROOM_STATE?this.setState(Array.from(new Uint8Array(t.data))):this.previousCode===A.Protocol.ROOM_STATE_PATCH?this.patch(Array.from(new Uint8Array(t.data))):this.previousCode===A.Protocol.ROOM_DATA&&this.onMessage.invoke(r.decode(t.data)),this.previousCode=void 0;else{var e=new DataView(t.data),i=e.getUint8(0);if(i===A.Protocol.JOIN_ROOM){var n=1;this.serializerId=A.utf8Read(e,n),n+=A.utf8Length(this.serializerId);var s=a.getSerializer(this.serializerId);if(!s)throw new Error("missing serializer: "+this.serializerId);if("fossil-delta"===this.serializerId||this.rootSchema||(this.serializer=new s),e.buffer.byteLength>n&&this.serializer.handshake){var o=Array.from(new Uint8Array(e.buffer.slice(n)));this.serializer.handshake(o)}this.hasJoined=!0,this.onJoin.invoke()}else i===A.Protocol.JOIN_ERROR?this.onError.invoke(A.utf8Read(e,1)):i===A.Protocol.LEAVE_ROOM?this.leave():this.previousCode=i}},t.prototype.setState=function(t){this.serializer.setState(t),this.onStateChange.invoke(this.serializer.getState())},t.prototype.patch=function(t){this.serializer.patch(t),this.onStateChange.invoke(this.serializer.getState())},t}()},xhEQ:function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=i("xvRS");e.polyFillTypeToNative=function(t,e){switch(e){case n.PolyFillType.EvenOdd:return t.PolyFillType.EvenOdd;case n.PolyFillType.NonZero:return t.PolyFillType.NonZero;case n.PolyFillType.Positive:return t.PolyFillType.Positive;case n.PolyFillType.Negative:return t.PolyFillType.Negative;default:throw new Error("unknown poly fill type")}},e.clipTypeToNative=function(t,e){switch(e){case n.ClipType.Intersection:return t.ClipType.Intersection;case n.ClipType.Union:return t.ClipType.Union;case n.ClipType.Difference:return t.ClipType.Difference;case n.ClipType.Xor:return t.ClipType.Xor;default:throw new Error("unknown clip type")}},e.polyTypeToNative=function(t,e){switch(e){case n.PolyType.Subject:return t.PolyType.Subject;case n.PolyType.Clip:return t.PolyType.Clip;default:throw new Error("unknown poly type")}},e.joinTypeToNative=function(t,e){switch(e){case n.JoinType.Square:return t.JoinType.Square;case n.JoinType.Round:return t.JoinType.Round;case n.JoinType.Miter:return t.JoinType.Miter;default:throw new Error("unknown join type")}},e.endTypeToNative=function(t,e){switch(e){case n.EndType.ClosedPolygon:return t.EndType.ClosedPolygon;case n.EndType.ClosedLine:return t.EndType.ClosedLine;case n.EndType.OpenButt:return t.EndType.OpenButt;case n.EndType.OpenSquare:return t.EndType.OpenSquare;case n.EndType.OpenRound:return t.EndType.OpenRound;default:throw new Error("unknown end type")}}},xvRS:function(t,e,i){"use strict";var n,r,s,o,a,A,l,u;Object.defineProperty(e,"__esModule",{value:!0}),(u=e.PolyFillType||(e.PolyFillType={})).EvenOdd="evenOdd",u.NonZero="nonZero",u.Positive="positive",u.Negative="negative",(l=e.ClipType||(e.ClipType={})).Intersection="intersection",l.Union="union",l.Difference="difference",l.Xor="xor",(A=e.PolyType||(e.PolyType={})).Subject="subject",A.Clip="clip",(a=e.JoinType||(e.JoinType={})).Square="square",a.Round="round",a.Miter="miter",(o=e.EndType||(e.EndType={})).ClosedPolygon="closedPolygon",o.ClosedLine="closedLine",o.OpenButt="openButt",o.OpenSquare="openSquare",o.OpenRound="openRound",(s=e.PointInPolygonResult||(e.PointInPolygonResult={}))[s.Outside=0]="Outside",s[s.Inside=1]="Inside",s[s.OnBoundary=-1]="OnBoundary",(r=e.NativeClipperLibRequestedFormat||(e.NativeClipperLibRequestedFormat={})).WasmWithAsmJsFallback="wasmWithAsmJsFallback",r.WasmOnly="wasmOnly",r.AsmJsOnly="asmJsOnly",(n=e.NativeClipperLibLoadedFormat||(e.NativeClipperLibLoadedFormat={})).Wasm="wasm",n.AsmJs="asmJs"},yCtX:function(t,e,i){"use strict";i.d(e,"a",(function(){return o}));var n=i("HDdC"),r=i("ngJS"),s=i("jZKg");function o(t,e){return e?Object(s.a)(t,e):new n.a(Object(r.a)(t))}},yWyV:function(t,e,i){"use strict";t.exports=function(t,e){for(var i={key:["source","protocol","authority","userInfo","user","password","host","port","relative","path","directory","file","query","anchor"],q:{name:"queryKey",parser:/(?:^|&)([^&=]*)=?([^&]*)/g},parser:{strict:/^(?:([^:\/?#]+):)?(?:\/\/((?:(([^:@]*)(?::([^:@]*))?)?@)?([^:\/?#]*)(?::(\d*))?))?((((?:[^?#\/]*\/)*)([^?#]*))(?:\?([^#]*))?(?:#(.*))?)/,loose:/^(?:(?![^:@]+:[^:@\/]*@)([^:\/?#.]+):)?(?:\/\/)?((?:(([^:@]*)(?::([^:@]*))?)?@)?([^:\/?#]*)(?::(\d*))?)(((\/(?:[^?#](?![^?#\/]*\.[^?#\/.]+(?:[?#]|$)))*\/?)?([^?#\/]*))(?:\?([^#]*))?(?:#(.*))?)/}},n=i.parser[(e=e||{}).strictMode?"strict":"loose"].exec(t),r={},s=14;s--;)r[i.key[s]]=n[s]||"";return r[i.q.name]={},r[i.key[12]].replace(i.q.parser,(function(t,e,n){e&&(r[i.q.name][e]=n)})),r}},ya82:function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=i("xhEQ"),r=i("kgUQ"),s=i("X9PU"),o=i("h3D4"),a=function(){function t(t,e,i){void 0===e&&(e=2),void 0===i&&(i=.25),this._nativeLib=t,this._clipperOffset=new t.ClipperOffset(e,i)}return Object.defineProperty(t.prototype,"arcTolerance",{get:function(){return this._clipperOffset.arcTolerance},set:function(t){this._clipperOffset.arcTolerance=t},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"miterLimit",{get:function(){return this._clipperOffset.miterLimit},set:function(t){this._clipperOffset.miterLimit=t},enumerable:!0,configurable:!0}),t.prototype.addPath=function(t,e,i){var r=s.pathToNativePath(this._nativeLib,t);try{this._clipperOffset.addPath(r,n.joinTypeToNative(this._nativeLib,e),n.endTypeToNative(this._nativeLib,i))}finally{r.delete()}},t.prototype.addPaths=function(t,e,i){var s=r.pathsToNativePaths(this._nativeLib,t);try{this._clipperOffset.addPaths(s,n.joinTypeToNative(this._nativeLib,e),n.endTypeToNative(this._nativeLib,i))}finally{s.delete()}},t.prototype.executeToPaths=function(t,e){var i=new this._nativeLib.Paths;try{return this._clipperOffset.executePaths(i,t),void 0!==e&&this._nativeLib.cleanPolygons(i,e),r.nativePathsToPaths(this._nativeLib,i,!0)}finally{i.isDeleted()||i.delete()}},t.prototype.executeToPolyTree=function(t){var e=new this._nativeLib.PolyTree;try{return this._clipperOffset.executePolyTree(e,t),o.PolyTree.fromNativePolyTree(this._nativeLib,e,!0)}finally{e.isDeleted()||e.delete()}},t.prototype.clear=function(){this._clipperOffset.clear()},t.prototype.isDisposed=function(){return void 0===this._clipperOffset||this._clipperOffset.isDeleted()},t.prototype.dispose=function(){this._clipperOffset&&(this._clipperOffset.delete(),this._clipperOffset=void 0)},t}();e.ClipperOffset=a},"z+Ro":function(t,e,i){"use strict";function n(t){return t&&"function"==typeof t.schedule}i.d(e,"a",(function(){return n}))},zUnb:function(t,e,i){"use strict";i.r(e);var n,r,s,o,a=i("fXoL"),A=i("ofXK"),l=function(t){function e(){return _classCallCheck2(this,e),_possibleConstructorReturn(this,_getPrototypeOf(e).apply(this,arguments))}return _inherits(e,t),_createClass2(e,[{key:"getProperty",value:function(t,e){return t[e]}},{key:"log",value:function(t){window.console&&window.console.log&&window.console.log(t)}},{key:"logGroup",value:function(t){window.console&&window.console.group&&window.console.group(t)}},{key:"logGroupEnd",value:function(){window.console&&window.console.groupEnd&&window.console.groupEnd()}},{key:"onAndCancel",value:function(t,e,i){return t.addEventListener(e,i,!1),function(){t.removeEventListener(e,i,!1)}}},{key:"dispatchEvent",value:function(t,e){t.dispatchEvent(e)}},{key:"remove",value:function(t){return t.parentNode&&t.parentNode.removeChild(t),t}},{key:"getValue",value:function(t){return t.value}},{key:"createElement",value:function(t,e){return(e=e||this.getDefaultDocument()).createElement(t)}},{key:"createHtmlDocument",value:function(){return document.implementation.createHTMLDocument("fakeTitle")}},{key:"getDefaultDocument",value:function(){return document}},{key:"isElementNode",value:function(t){return t.nodeType===Node.ELEMENT_NODE}},{key:"isShadowRoot",value:function(t){return t instanceof DocumentFragment}},{key:"getGlobalEventTarget",value:function(t,e){return"window"===e?window:"document"===e?t:"body"===e?t.body:null}},{key:"getHistory",value:function(){return window.history}},{key:"getLocation",value:function(){return window.location}},{key:"getBaseHref",value:function(t){var e,i=u||(u=document.querySelector("base"))?u.getAttribute("href"):null;return null==i?null:(e=i,n||(n=document.createElement("a")),n.setAttribute("href",e),"/"===n.pathname.charAt(0)?n.pathname:"/"+n.pathname)}},{key:"resetBaseElement",value:function(){u=null}},{key:"getUserAgent",value:function(){return window.navigator.userAgent}},{key:"performanceNow",value:function(){return window.performance&&window.performance.now?window.performance.now():(new Date).getTime()}},{key:"supportsCookies",value:function(){return!0}},{key:"getCookie",value:function(t){return Object(A.o)(document.cookie,t)}}],[{key:"makeCurrent",value:function(){Object(A.p)(new e)}}]),e}(function(t){function e(){return _classCallCheck2(this,e),_possibleConstructorReturn(this,_getPrototypeOf(e).call(this))}return _inherits(e,t),_createClass2(e,[{key:"supportsDOMEvents",value:function(){return!0}}]),e}(A.l)),u=null,h=new a.p("TRANSITION_ID"),c=[{provide:a.d,useFactory:function(t,e,i){return function(){i.get(a.e).donePromise.then((function(){var i=Object(A.n)();Array.prototype.slice.apply(e.querySelectorAll("style[ng-transition]")).filter((function(e){return e.getAttribute("ng-transition")===t})).forEach((function(t){return i.remove(t)}))}))}},deps:[h,A.c,a.q],multi:!0}],f=function(){function t(){_classCallCheck2(this,t)}return _createClass2(t,[{key:"addToWindow",value:function(t){a.kb.getAngularTestability=function(e){var i=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],n=t.findTestabilityInTree(e,i);if(null==n)throw new Error("Could not find testability for element.");return n},a.kb.getAllAngularTestabilities=function(){return t.getAllTestabilities()},a.kb.getAllAngularRootElements=function(){return t.getAllRootElements()},a.kb.frameworkStabilizers||(a.kb.frameworkStabilizers=[]),a.kb.frameworkStabilizers.push((function(t){var e=a.kb.getAllAngularTestabilities(),i=e.length,n=!1,r=function(e){n=n||e,0==--i&&t(n)};e.forEach((function(t){t.whenStable(r)}))}))}},{key:"findTestabilityInTree",value:function(t,e,i){if(null==e)return null;var n=t.getTestability(e);return null!=n?n:i?Object(A.n)().isShadowRoot(e)?this.findTestabilityInTree(t,e.host,!0):this.findTestabilityInTree(t,e.parentElement,!0):null}}],[{key:"init",value:function(){Object(a.U)(new t)}}]),t}(),m=new a.p("EventManagerPlugins"),_=((r=function(){function t(e,i){var n=this;_classCallCheck2(this,t),this._zone=i,this._eventNameToPlugin=new Map,e.forEach((function(t){return t.manager=n})),this._plugins=e.slice().reverse()}return _createClass2(t,[{key:"addEventListener",value:function(t,e,i){return this._findPluginFor(e).addEventListener(t,e,i)}},{key:"addGlobalEventListener",value:function(t,e,i){return this._findPluginFor(e).addGlobalEventListener(t,e,i)}},{key:"getZone",value:function(){return this._zone}},{key:"_findPluginFor",value:function(t){var e=this._eventNameToPlugin.get(t);if(e)return e;for(var i=this._plugins,n=0;n<i.length;n++){var r=i[n];if(r.supports(t))return this._eventNameToPlugin.set(t,r),r}throw new Error("No event manager plugin found for event ".concat(t))}}]),t}()).\u0275fac=function(t){return new(t||r)(a.Kb(m),a.Kb(a.y))},r.\u0275prov=a.Bb({token:r,factory:function(t){return r.\u0275fac(t)},providedIn:null}),r),g=function(){function t(e){_classCallCheck2(this,t),this._doc=e}return _createClass2(t,[{key:"addGlobalEventListener",value:function(t,e,i){var n=Object(A.n)().getGlobalEventTarget(this._doc,t);if(!n)throw new Error("Unsupported event target ".concat(n," for event ").concat(e));return this.addEventListener(n,e,i)}}]),t}(),d=((o=function(){function t(){_classCallCheck2(this,t),this._stylesSet=new Set}return _createClass2(t,[{key:"addStyles",value:function(t){var e=this,i=new Set;t.forEach((function(t){e._stylesSet.has(t)||(e._stylesSet.add(t),i.add(t))})),this.onStylesAdded(i)}},{key:"onStylesAdded",value:function(t){}},{key:"getAllStyles",value:function(){return Array.from(this._stylesSet)}}]),t}()).\u0275fac=function(t){return new(t||o)},o.\u0275prov=a.Bb({token:o,factory:function(t){return o.\u0275fac(t)},providedIn:null}),o),p=((s=function(t){function e(t){var i;return _classCallCheck2(this,e),(i=_possibleConstructorReturn(this,_getPrototypeOf(e).call(this)))._doc=t,i._hostNodes=new Set,i._styleNodes=new Set,i._hostNodes.add(t.head),i}return _inherits(e,t),_createClass2(e,[{key:"_addStylesToHost",value:function(t,e){var i=this;t.forEach((function(t){var n=i._doc.createElement("style");n.textContent=t,i._styleNodes.add(e.appendChild(n))}))}},{key:"addHost",value:function(t){this._addStylesToHost(this._stylesSet,t),this._hostNodes.add(t)}},{key:"removeHost",value:function(t){this._hostNodes.delete(t)}},{key:"onStylesAdded",value:function(t){var e=this;this._hostNodes.forEach((function(i){return e._addStylesToHost(t,i)}))}},{key:"ngOnDestroy",value:function(){this._styleNodes.forEach((function(t){return Object(A.n)().remove(t)}))}}]),e}(d)).\u0275fac=function(t){return new(t||s)(a.Kb(A.c))},s.\u0275prov=a.Bb({token:s,factory:function(t){return s.\u0275fac(t)},providedIn:null}),s),y={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"},C=/%COMP%/g,v="_nghost-%COMP%",I="_ngcontent-%COMP%";function B(t,e,i){for(var n=0;n<e.length;n++){var r=e[n];Array.isArray(r)?B(t,r,i):(r=r.replace(C,t),i.push(r))}return i}function E(t){return function(e){if(e===Function)return t;!1===t(e)&&(e.preventDefault(),e.returnValue=!1)}}var w,b=((w=function(){function t(e,i,n){_classCallCheck2(this,t),this.eventManager=e,this.sharedStylesHost=i,this.appId=n,this.rendererByCompId=new Map,this.defaultRenderer=new x(e)}return _createClass2(t,[{key:"createRenderer",value:function(t,e){if(!t||!e)return this.defaultRenderer;switch(e.encapsulation){case a.N.Emulated:var i=this.rendererByCompId.get(e.id);return i||(i=new D(this.eventManager,this.sharedStylesHost,e,this.appId),this.rendererByCompId.set(e.id,i)),i.applyToHost(t),i;case a.N.Native:case a.N.ShadowDom:return new M(this.eventManager,this.sharedStylesHost,t,e);default:if(!this.rendererByCompId.has(e.id)){var n=B(e.id,e.styles,[]);this.sharedStylesHost.addStyles(n),this.rendererByCompId.set(e.id,this.defaultRenderer)}return this.defaultRenderer}}},{key:"begin",value:function(){}},{key:"end",value:function(){}}]),t}()).\u0275fac=function(t){return new(t||w)(a.Kb(_),a.Kb(p),a.Kb(a.c))},w.\u0275prov=a.Bb({token:w,factory:function(t){return w.\u0275fac(t)},providedIn:null}),w),x=function(){function t(e){_classCallCheck2(this,t),this.eventManager=e,this.data=Object.create(null)}return _createClass2(t,[{key:"destroy",value:function(){}},{key:"createElement",value:function(t,e){return e?document.createElementNS(y[e]||e,t):document.createElement(t)}},{key:"createComment",value:function(t){return document.createComment(t)}},{key:"createText",value:function(t){return document.createTextNode(t)}},{key:"appendChild",value:function(t,e){t.appendChild(e)}},{key:"insertBefore",value:function(t,e,i){t&&t.insertBefore(e,i)}},{key:"removeChild",value:function(t,e){t&&t.removeChild(e)}},{key:"selectRootElement",value:function(t,e){var i="string"==typeof t?document.querySelector(t):t;if(!i)throw new Error('The selector "'.concat(t,'" did not match any elements'));return e||(i.textContent=""),i}},{key:"parentNode",value:function(t){return t.parentNode}},{key:"nextSibling",value:function(t){return t.nextSibling}},{key:"setAttribute",value:function(t,e,i,n){if(n){e=n+":"+e;var r=y[n];r?t.setAttributeNS(r,e,i):t.setAttribute(e,i)}else t.setAttribute(e,i)}},{key:"removeAttribute",value:function(t,e,i){if(i){var n=y[i];n?t.removeAttributeNS(n,e):t.removeAttribute("".concat(i,":").concat(e))}else t.removeAttribute(e)}},{key:"addClass",value:function(t,e){t.classList.add(e)}},{key:"removeClass",value:function(t,e){t.classList.remove(e)}},{key:"setStyle",value:function(t,e,i,n){n&a.E.DashCase?t.style.setProperty(e,i,n&a.E.Important?"important":""):t.style[e]=i}},{key:"removeStyle",value:function(t,e,i){i&a.E.DashCase?t.style.removeProperty(e):t.style[e]=""}},{key:"setProperty",value:function(t,e,i){t[e]=i}},{key:"setValue",value:function(t,e){t.nodeValue=e}},{key:"listen",value:function(t,e,i){return"string"==typeof t?this.eventManager.addGlobalEventListener(t,e,E(i)):this.eventManager.addEventListener(t,e,E(i))}}]),t}();"@".charCodeAt(0);var S,Q,k,D=function(t){function e(t,i,n,r){var s;_classCallCheck2(this,e),(s=_possibleConstructorReturn(this,_getPrototypeOf(e).call(this,t))).component=n;var o=B(r+"-"+n.id,n.styles,[]);return i.addStyles(o),s.contentAttr=I.replace(C,r+"-"+n.id),s.hostAttr=v.replace(C,r+"-"+n.id),s}return _inherits(e,t),_createClass2(e,[{key:"applyToHost",value:function(t){_get(_getPrototypeOf(e.prototype),"setAttribute",this).call(this,t,this.hostAttr,"")}},{key:"createElement",value:function(t,i){var n=_get(_getPrototypeOf(e.prototype),"createElement",this).call(this,t,i);return _get(_getPrototypeOf(e.prototype),"setAttribute",this).call(this,n,this.contentAttr,""),n}}]),e}(x),M=function(t){function e(t,i,n,r){var s;_classCallCheck2(this,e),(s=_possibleConstructorReturn(this,_getPrototypeOf(e).call(this,t))).sharedStylesHost=i,s.hostEl=n,s.component=r,s.shadowRoot=r.encapsulation===a.N.ShadowDom?n.attachShadow({mode:"open"}):n.createShadowRoot(),s.sharedStylesHost.addHost(s.shadowRoot);for(var o=B(r.id,r.styles,[]),A=0;A<o.length;A++){var l=document.createElement("style");l.textContent=o[A],s.shadowRoot.appendChild(l)}return s}return _inherits(e,t),_createClass2(e,[{key:"nodeOrShadowRoot",value:function(t){return t===this.hostEl?this.shadowRoot:t}},{key:"destroy",value:function(){this.sharedStylesHost.removeHost(this.shadowRoot)}},{key:"appendChild",value:function(t,i){return _get(_getPrototypeOf(e.prototype),"appendChild",this).call(this,this.nodeOrShadowRoot(t),i)}},{key:"insertBefore",value:function(t,i,n){return _get(_getPrototypeOf(e.prototype),"insertBefore",this).call(this,this.nodeOrShadowRoot(t),i,n)}},{key:"removeChild",value:function(t,i){return _get(_getPrototypeOf(e.prototype),"removeChild",this).call(this,this.nodeOrShadowRoot(t),i)}},{key:"parentNode",value:function(t){return this.nodeOrShadowRoot(_get(_getPrototypeOf(e.prototype),"parentNode",this).call(this,this.nodeOrShadowRoot(t)))}}]),e}(x),R="undefined"!=typeof Zone&&Zone.__symbol__||function(t){return"__zone_symbol__"+t},V=R("addEventListener"),T=R("removeEventListener"),G={},F="__zone_symbol__propagationStopped",P=function(){var t="undefined"!=typeof Zone&&Zone[R("UNPATCHED_EVENTS")];if(t){var e={};return t.forEach((function(t){e[t]=t})),e}}(),N=function(t){return!!P&&P.hasOwnProperty(t)},L=function(t){var e=G[t.type];if(e){var i=this[e];if(i){var n=[t];if(1===i.length){var r=i[0];return r.zone!==Zone.current?r.zone.run(r.handler,this,n):r.handler.apply(this,n)}for(var s=i.slice(),o=0;o<s.length&&!0!==t[F];o++){var a=s[o];a.zone!==Zone.current?a.zone.run(a.handler,this,n):a.handler.apply(this,n)}}}},U=((S=function(t){function e(t,i,n){var r;return _classCallCheck2(this,e),(r=_possibleConstructorReturn(this,_getPrototypeOf(e).call(this,t))).ngZone=i,n&&Object(A.k)(n)||r.patchEvent(),r}return _inherits(e,t),_createClass2(e,[{key:"patchEvent",value:function(){if("undefined"!=typeof Event&&Event&&Event.prototype&&!Event.prototype.__zone_symbol__stopImmediatePropagation){var t=Event.prototype.__zone_symbol__stopImmediatePropagation=Event.prototype.stopImmediatePropagation;Event.prototype.stopImmediatePropagation=function(){this&&(this[F]=!0),t&&t.apply(this,arguments)}}}},{key:"supports",value:function(t){return!0}},{key:"addEventListener",value:function(t,e,i){var n=this,r=i;if(!t[V]||a.y.isInAngularZone()&&!N(e))t.addEventListener(e,r,!1);else{var s=G[e];s||(s=G[e]=R("ANGULAR"+e+"FALSE"));var o=t[s],A=o&&o.length>0;o||(o=t[s]=[]);var l=N(e)?Zone.root:Zone.current;if(0===o.length)o.push({zone:l,handler:r});else{for(var u=!1,h=0;h<o.length;h++)if(o[h].handler===r){u=!0;break}u||o.push({zone:l,handler:r})}A||t[V](e,L,!1)}return function(){return n.removeEventListener(t,e,r)}}},{key:"removeEventListener",value:function(t,e,i){var n=t[T];if(!n)return t.removeEventListener.apply(t,[e,i,!1]);var r=G[e],s=r&&t[r];if(!s)return t.removeEventListener.apply(t,[e,i,!1]);for(var o=!1,a=0;a<s.length;a++)if(s[a].handler===i){o=!0,s.splice(a,1);break}o?0===s.length&&n.apply(t,[e,L,!1]):t.removeEventListener.apply(t,[e,i,!1])}}]),e}(g)).\u0275fac=function(t){return new(t||S)(a.Kb(A.c),a.Kb(a.y),a.Kb(a.A,8))},S.\u0275prov=a.Bb({token:S,factory:function(t){return S.\u0275fac(t)},providedIn:null}),S),O=["alt","control","meta","shift"],Y={"\b":"Backspace","\t":"Tab","\x7f":"Delete","\x1b":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},H={A:"1",B:"2",C:"3",D:"4",E:"5",F:"6",G:"7",H:"8",I:"9",J:"*",K:"+",M:"-",N:".",O:"/","`":"0","\x90":"NumLock"},J={alt:function(t){return t.altKey},control:function(t){return t.ctrlKey},meta:function(t){return t.metaKey},shift:function(t){return t.shiftKey}},j=((Q=function(t){function e(t){return _classCallCheck2(this,e),_possibleConstructorReturn(this,_getPrototypeOf(e).call(this,t))}return _inherits(e,t),_createClass2(e,[{key:"supports",value:function(t){return null!=e.parseEventName(t)}},{key:"addEventListener",value:function(t,i,n){var r=e.parseEventName(i),s=e.eventCallback(r.fullKey,n,this.manager.getZone());return this.manager.getZone().runOutsideAngular((function(){return Object(A.n)().onAndCancel(t,r.domEventName,s)}))}}],[{key:"parseEventName",value:function(t){var i=t.toLowerCase().split("."),n=i.shift();if(0===i.length||"keydown"!==n&&"keyup"!==n)return null;var r=e._normalizeKey(i.pop()),s="";if(O.forEach((function(t){var e=i.indexOf(t);e>-1&&(i.splice(e,1),s+=t+".")})),s+=r,0!=i.length||0===r.length)return null;var o={};return o.domEventName=n,o.fullKey=s,o}},{key:"getEventFullKey",value:function(t){var e="",i=function(t){var e=t.key;if(null==e){if(null==(e=t.keyIdentifier))return"Unidentified";e.startsWith("U+")&&(e=String.fromCharCode(parseInt(e.substring(2),16)),3===t.location&&H.hasOwnProperty(e)&&(e=H[e]))}return Y[e]||e}(t);return" "===(i=i.toLowerCase())?i="space":"."===i&&(i="dot"),O.forEach((function(n){n!=i&&(0,J[n])(t)&&(e+=n+".")})),e+=i}},{key:"eventCallback",value:function(t,i,n){return function(r){e.getEventFullKey(r)===t&&n.runGuarded((function(){return i(r)}))}}},{key:"_normalizeKey",value:function(t){switch(t){case"esc":return"escape";default:return t}}}]),e}(g)).\u0275fac=function(t){return new(t||Q)(a.Kb(A.c))},Q.\u0275prov=a.Bb({token:Q,factory:function(t){return Q.\u0275fac(t)},providedIn:null}),Q),K=[{provide:a.A,useValue:A.m},{provide:a.B,useValue:function(){l.makeCurrent(),f.init()},multi:!0},{provide:A.c,useFactory:function(){return document},deps:[]}],q=Object(a.P)(a.T,"browser",K),z=[[],{provide:a.W,useValue:"root"},{provide:a.l,useFactory:function(){return new a.l},deps:[]},{provide:m,useClass:U,multi:!0,deps:[A.c,a.y,a.A]},{provide:m,useClass:j,multi:!0,deps:[A.c]},[],{provide:b,useClass:b,deps:[_,p,a.c]},{provide:a.D,useExisting:b},{provide:d,useExisting:p},{provide:p,useClass:p,deps:[A.c]},{provide:a.K,useClass:a.K,deps:[a.y]},{provide:_,useClass:_,deps:[m,a.y]},[]],X=((k=function(){function t(e){if(_classCallCheck2(this,t),e)throw new Error("BrowserModule has already been loaded. If you need access to common directives such as NgIf and NgFor from a lazy loaded module, import CommonModule instead.")}return _createClass2(t,null,[{key:"withServerTransition",value:function(e){return{ngModule:t,providers:[{provide:a.c,useValue:e.appId},{provide:h,useExisting:a.c},c]}}}]),t}()).\u0275mod=a.Db({type:k}),k.\u0275inj=a.Cb({factory:function(t){return new(t||k)(a.Kb(k,12))},providers:z,imports:[A.b,a.f]}),k);"undefined"!=typeof window&&window;var W,Z,$,tt=i("tyNb"),et=[{path:"singleplayer",loadChildren:function(){return Promise.resolve().then(i.bind(null,"DFru")).then((function(t){return t.SingleplayerModule}))}},{path:"multiplayer",loadChildren:function(){return Promise.resolve().then(i.bind(null,"0riL")).then((function(t){return t.MultiplayerModule}))}},{path:"",redirectTo:"singleplayer",pathMatch:"full"}],it=((Z=function t(){_classCallCheck2(this,t)}).\u0275mod=a.Db({type:Z}),Z.\u0275inj=a.Cb({factory:function(t){return new(t||Z)},imports:[[tt.a.forRoot(et)],tt.a]}),Z),nt=((W=function t(){_classCallCheck2(this,t)}).\u0275fac=function(t){return new(t||W)},W.\u0275cmp=a.zb({type:W,selectors:[["app-root"]],decls:1,vars:0,template:function(t,e){1&t&&a.Gb(0,"router-outlet")},directives:[tt.b],styles:["#canvas[_ngcontent-%COMP%]{position:absolute;left:0;top:0;right:0;bottom:0;z-index:12;opacity:.5;display:none}"]}),W),rt=i("0riL"),st=i("DFru"),ot=(($=function t(){_classCallCheck2(this,t)}).\u0275mod=a.Db({type:$,bootstrap:[nt]}),$.\u0275inj=a.Cb({factory:function(t){return new(t||$)},providers:[],imports:[[X,it,st.SingleplayerModule,rt.MultiplayerModule]]}),$);Object(a.Q)(),q().bootstrapModule(ot).catch((function(t){return console.error(t)}))},zZ8E:function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),i("QW+4");var n=i("ZOD7");e.Client=n.Client;var r=i("zooS");e.Protocol=r.Protocol;var s=i("woCW");e.Room=s.Room;var o=i("Y0G6");e.Auth=o.Auth,e.Platform=o.Platform;var a=i("WjO6");e.FossilDeltaSerializer=a.FossilDeltaSerializer;var A=i("LEIV");e.SchemaSerializer=A.SchemaSerializer;var l=i("+b4j");e.registerSerializer=l.registerSerializer;var u=i("ibR2");e.Schema=u.Schema,e.type=u.type,l.registerSerializer("fossil-delta",a.FossilDeltaSerializer),l.registerSerializer("schema",A.SchemaSerializer)},zooS:function(t,e,i){"use strict";var n;Object.defineProperty(e,"__esModule",{value:!0}),e.Protocol=((n=e.Protocol||{})[n.JOIN_ROOM=10]="JOIN_ROOM",n[n.JOIN_ERROR=11]="JOIN_ERROR",n[n.LEAVE_ROOM=12]="LEAVE_ROOM",n[n.ROOM_DATA=13]="ROOM_DATA",n[n.ROOM_STATE=14]="ROOM_STATE",n[n.ROOM_STATE_PATCH=15]="ROOM_STATE_PATCH",n),e.utf8Read=function(t,e){for(var i=t.getUint8(e++),n="",r=0,s=e,o=e+i;s<o;s++){var a=t.getUint8(s);if(0!=(128&a))if(192!=(224&a))if(224!=(240&a)){if(240!=(248&a))throw new Error("Invalid byte "+a.toString(16));(r=(7&a)<<18|(63&t.getUint8(++s))<<12|(63&t.getUint8(++s))<<6|(63&t.getUint8(++s))<<0)>=65536?(r-=65536,n+=String.fromCharCode(55296+(r>>>10),56320+(1023&r))):n+=String.fromCharCode(r)}else n+=String.fromCharCode((15&a)<<12|(63&t.getUint8(++s))<<6|(63&t.getUint8(++s))<<0);else n+=String.fromCharCode((31&a)<<6|63&t.getUint8(++s));else n+=String.fromCharCode(a)}return n},e.utf8Length=function(t){void 0===t&&(t="");for(var e=0,i=0,n=0,r=t.length;n<r;n++)(e=t.charCodeAt(n))<128?i+=1:e<2048?i+=2:e<55296||e>=57344?i+=3:(n++,i+=4);return i+1}},ztiF:function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.hiRange=9007199254740991}},[[0,0]]]);